(self.webpackChunkassurkin=self.webpackChunkassurkin||[]).push([[792],{3583:(ot,_e,M)=>{"use strict";M.r(_e),M.d(_e,{AssurancesDetailsComponent:()=>K});var c=M(4438),V=M(177),Z=M(9981),e=M(9172),U=M(7673),G=M(5558),F=M(6354),J=M(9437),me=M(1807),fe=M(1364);const te=()=>["/management"],ge=()=>({loading:!0}),Le=(le,De,Fe)=>({"text-green-600":le,"text-yellow-600":De,"text-red-600":Fe});function xe(le,De){if(1&le&&(c.j41(0,"div",9)(1,"div",10)(2,"h2",11),c.EFF(3,"Informations G\xe9n\xe9rales"),c.k0s(),c.j41(4,"p")(5,"strong"),c.EFF(6,"ID du Devis :"),c.k0s(),c.EFF(7),c.k0s(),c.j41(8,"p")(9,"strong"),c.EFF(10,"Compagnie :"),c.k0s(),c.EFF(11),c.k0s(),c.j41(12,"p")(13,"strong"),c.EFF(14,"Date de cr\xe9ation :"),c.k0s(),c.EFF(15),c.nI1(16,"date"),c.k0s(),c.j41(17,"p")(18,"strong"),c.EFF(19,"Date d'effet :"),c.k0s(),c.EFF(20),c.nI1(21,"date"),c.k0s(),c.j41(22,"p")(23,"strong"),c.EFF(24,"Statut :"),c.k0s(),c.j41(25,"span",12),c.EFF(26),c.k0s()()(),c.j41(27,"div",10)(28,"h2",11),c.EFF(29,"Preneur d'assurance"),c.k0s(),c.j41(30,"p")(31,"strong"),c.EFF(32,"Nom :"),c.k0s(),c.EFF(33),c.k0s(),c.j41(34,"p")(35,"strong"),c.EFF(36,"Email :"),c.k0s(),c.EFF(37),c.k0s(),c.j41(38,"p")(39,"strong"),c.EFF(40,"T\xe9l\xe9phone :"),c.k0s(),c.EFF(41),c.k0s(),c.j41(42,"p")(43,"strong"),c.EFF(44,"Adresse :"),c.k0s(),c.EFF(45),c.k0s()(),c.j41(46,"div",10)(47,"h2",11),c.EFF(48,"V\xe9hicule"),c.k0s(),c.j41(49,"p")(50,"strong"),c.EFF(51,"Type :"),c.k0s(),c.EFF(52),c.k0s(),c.j41(53,"p")(54,"strong"),c.EFF(55,"Marque :"),c.k0s(),c.EFF(56),c.k0s(),c.j41(57,"p")(58,"strong"),c.EFF(59,"Mod\xe8le :"),c.k0s(),c.EFF(60),c.k0s(),c.j41(61,"p")(62,"strong"),c.EFF(63,"Ann\xe9e :"),c.k0s(),c.EFF(64),c.k0s(),c.j41(65,"p")(66,"strong"),c.EFF(67,"Plaque :"),c.k0s(),c.EFF(68),c.k0s(),c.j41(69,"p")(70,"strong"),c.EFF(71,"Valeur :"),c.k0s(),c.EFF(72),c.nI1(73,"currency"),c.k0s()(),c.j41(74,"div",10)(75,"h2",11),c.EFF(76,"Couverture d'assurance"),c.k0s(),c.j41(77,"p")(78,"strong"),c.EFF(79,"Type :"),c.k0s(),c.EFF(80),c.k0s(),c.j41(81,"p")(82,"strong"),c.EFF(83,"RC de base :"),c.k0s(),c.EFF(84),c.k0s(),c.j41(85,"p")(86,"strong"),c.EFF(87,"Assistance :"),c.k0s(),c.EFF(88),c.k0s(),c.j41(89,"p")(90,"strong"),c.EFF(91,"Protection du conducteur :"),c.k0s(),c.EFF(92),c.k0s(),c.j41(93,"p")(94,"strong"),c.EFF(95,"Omnium :"),c.k0s(),c.EFF(96),c.k0s()()()),2&le){const Fe=De.ngIf;c.R7$(7),c.SpI(" ",null==Fe.details?null:Fe.details.id,""),c.R7$(4),c.SpI(" ",Fe.compagnie_nom,""),c.R7$(4),c.SpI(" ",c.i5U(16,24,null==Fe.details?null:Fe.details.created_at,"dd/MM/yyyy HH:mm"),""),c.R7$(5),c.SpI(" ",c.i5U(21,27,null==Fe.details?null:Fe.details.date_effet,"dd/MM/yyyy"),""),c.R7$(5),c.Y8G("ngClass",c.sMw(34,Le,"Accept\xe9"===(null==Fe.details?null:Fe.details.statut),"En cours de traitement"===(null==Fe.details?null:Fe.details.statut),"Refus\xe9"===(null==Fe.details?null:Fe.details.statut))),c.R7$(),c.JRh(null==Fe.details?null:Fe.details.statut),c.R7$(7),c.Lme(" ",null==Fe.preneur?null:Fe.preneur.prenom," ",null==Fe.preneur?null:Fe.preneur.nom,""),c.R7$(4),c.SpI(" ",null==Fe.preneur?null:Fe.preneur.email,""),c.R7$(4),c.SpI(" ",null==Fe.preneur?null:Fe.preneur.telephone,""),c.R7$(4),c.E5c(" ",null==Fe.preneur?null:Fe.preneur.adresse,", ",null==Fe.preneur?null:Fe.preneur.code_postal," ",null==Fe.preneur?null:Fe.preneur.ville,""),c.R7$(7),c.SpI(" ",null==Fe.vehicule?null:Fe.vehicule.type,""),c.R7$(4),c.SpI(" ",null==Fe.vehicule?null:Fe.vehicule.marque,""),c.R7$(4),c.SpI(" ",null==Fe.vehicule?null:Fe.vehicule.modele,""),c.R7$(4),c.SpI(" ",null==Fe.vehicule?null:Fe.vehicule.annee,""),c.R7$(4),c.SpI(" ",null==Fe.vehicule?null:Fe.vehicule.plaque,""),c.R7$(4),c.SpI(" ",c.brH(73,30,null==Fe.vehicule?null:Fe.vehicule.valeur,"EUR","symbol"),""),c.R7$(8),c.SpI(" ",Fe.type,""),c.R7$(4),c.SpI(" ",null!=Fe.details&&Fe.details.garantie_base_rc?"Oui":"Non",""),c.R7$(4),c.SpI(" ",null!=Fe.details&&Fe.details.garantie_assistance?"Oui":"Non",""),c.R7$(4),c.SpI(" ",null!=Fe.details&&Fe.details.garantie_conducteur?"Oui":"Non",""),c.R7$(4),c.SpI(" ",(null==Fe.details?null:Fe.details.garantie_omnium_niveau)||"Aucune","")}}function Xe(le,De){1&le&&(c.j41(0,"div",13),c.EFF(1," Aucun d\xe9tail trouv\xe9 pour ce devis. "),c.k0s())}function W(le,De){if(1&le&&(c.j41(0,"div",6),c.DNE(1,xe,97,38,"div",7)(2,Xe,2,0,"div",8),c.k0s()),2&le){const Fe=De.$implicit;c.R7$(),c.Y8G("ngIf",Fe.data),c.R7$(),c.Y8G("ngIf",!Fe.data)}}let K=(()=>{class le{route=(0,c.WQX)(Z.nX);dbConnectService=(0,c.WQX)(me.y);devisState$;ngOnInit(){this.devisState$=this.route.paramMap.pipe((0,G.n)(Fe=>this.getDevisData(Fe)),(0,F.T)(Fe=>{const be=Array.isArray(Fe)?Fe[0]:Fe;return console.log("[AssurancesDetailsComponent] Donn\xe9es du devis re\xe7ues et extraites:",be),{loading:!1,data:be}}),(0,e.Z)({loading:!0}),(0,J.W)(Fe=>{console.error("[AssurancesDetailsComponent] Erreur dans le chargement des d\xe9tails du devis:",Fe);const be=Fe instanceof Error?Fe.message:"Une erreur inconnue est survenue.";return(0,U.of)({loading:!1,error:be})}))}getDevisData(Fe){const be=Number(Fe.get("id"));if(isNaN(be))throw new Error("ID de devis invalide.");return console.log(`[AssurancesDetailsComponent] Calling Supabase function for devisId: ${be}`),this.dbConnectService.getFullQuoteDetails(be)}static \u0275fac=function(be){return new(be||le)};static \u0275cmp=c.VBU({type:le,selectors:[["app-assurances-details"]],standalone:!0,features:[c.aNF],decls:10,vars:6,consts:[["dataTemplate",""],[1,"container","mx-auto","p-4"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-3xl","font-bold","text-gray-800"],[1,"bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded","transition","duration-300",3,"routerLink"],[3,"state"],[1,"bg-white","shadow-lg","rounded-lg","p-6"],["class","grid grid-cols-1 md:grid-cols-2 gap-6",4,"ngIf"],["class","text-center text-gray-500 mt-8",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"p-4","border","rounded-lg"],[1,"text-xl","font-semibold","text-gray-700","mb-4"],[1,"font-medium",3,"ngClass"],[1,"text-center","text-gray-500","mt-8"]],template:function(be,ke){1&be&&(c.j41(0,"div",1)(1,"div",2)(2,"h1",3),c.EFF(3,"D\xe9tails du Devis"),c.k0s(),c.j41(4,"a",4),c.EFF(5," Retour \xe0 la liste "),c.k0s()(),c.j41(6,"app-state-container",5),c.nI1(7,"async"),c.DNE(8,W,3,2,"ng-template",null,0,c.C5r),c.k0s()()),2&be&&(c.R7$(4),c.Y8G("routerLink",c.lJ4(4,te)),c.R7$(2),c.Y8G("state",c.bMT(7,2,ke.devisState$)||c.lJ4(5,ge)))},dependencies:[V.MD,V.YU,V.bT,V.Jj,V.oe,V.vh,Z.Wk,fe.Y]})}return le})()},324:(ot,_e,M)=>{"use strict";M.d(_e,{y:()=>U});var c=M(4438),V=M(9692),Z=M(6648),e=M(6354);let U=(()=>{class G{supabase=(0,c.WQX)(V.w);saveContractData(J){return console.log("Envoi des donn\xe9es du contrat \xe0 Supabase:",J),(0,Z.H)(this.supabase.supabase.from("contrats").insert([J]).select().single())}getQuoteTypeId(J){return{auto:1,habitation:2,obseques:3,rc:4,voyage:5}[J.toLowerCase()]||0}getContractFiles(J,me){return(0,Z.H)(this.supabase.supabase.from("uploaded_files").select("path, file_name, raisons,date_created").eq("id_quote",J).eq("id_type",this.getQuoteTypeId(me))).pipe((0,e.T)(fe=>fe.error?(console.error("Erreur lors de la r\xe9cup\xe9ration des fichiers:",fe.error),[]):fe.data||[]))}addContractFile(J,me,fe,te,ge,Le){const xe={id_quote:J,id_type:this.getQuoteTypeId(me),user_id:Le,path:fe,file_name:te,raisons:ge};return(0,Z.H)(this.supabase.supabase.from("uploaded_files").insert(xe)).pipe((0,e.T)(Xe=>{if(Xe&&Xe.error)throw console.error("Erreur lors de l'insertion de la r\xe9f\xe9rence du fichier:",Xe.error),Xe.error}))}static \u0275fac=function(me){return new(me||G)};static \u0275prov=c.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}return G})()},1807:(ot,_e,M)=>{"use strict";M.d(_e,{y:()=>Le});var c=M(467),V=M(1626),Z=M(6648),e=M(9030),U=M(7673),G=M(6354),F=M(9437),J=M(5558),me=M(253),fe=M(5312),te=M(4438),ge=M(9692);let Le=(()=>{class xe{supabase;http;nationalities$=null;constructor(W,K){this.supabase=W,this.http=K}saveContactForm(W){return(0,Z.H)(this.supabase.insertData("contact_submissions",W))}saveMessage(W){var K=this;return(0,c.A)(function*(){const{error:le}=yield K.supabase.supabase.from("messages").insert([W]);le&&console.error("Erreur lors de la sauvegarde du message:",le)})()}createFullDevis(W){var K=this;return console.log("[createFullDevis] Donn\xe9es du formulaire re\xe7ues :",W),(0,e.v)((0,c.A)(function*(){console.log("[createFullDevis] \xc9tape 1: Recherche ou cr\xe9ation du preneur...");const le=yield K.findOrCreatePerson(W.preneur);console.log("[createFullDevis] R\xe9sultat pour le preneur :",le),console.log("[createFullDevis] \xc9tape 2: Traitement du conducteur...");let De=null;if(W.conducteurDifferent){const{data:pt,error:$e}=yield K.supabase.supabase.from("personnes").insert(W.conducteur).select().single();if($e)throw console.error("[createFullDevis] Erreur lors de l'insertion du conducteur :",$e),$e;De=pt}else console.log("[createFullDevis] Le conducteur est le m\xeame que le preneur."),De=le;console.log("[createFullDevis] R\xe9sultat pour le conducteur :",De),console.log("[createFullDevis] \xc9tape 3: Insertion du v\xe9hicule...");const{data:Fe,error:be}=yield K.supabase.supabase.from("vehicules").insert({type:W.vehicule.type,marque:W.vehicule.marque,modele:W.vehicule.modele,puissance_kw:W.vehicule.puissance,places:W.vehicule.places,date_circulation:W.vehicule.dateCirculation,valeur:W.vehicule.valeur}).select().single();if(be)throw console.error("[createFullDevis] Erreur lors de l'insertion du v\xe9hicule :",be),be;if(console.log("[createFullDevis] V\xe9hicule ins\xe9r\xe9 :",Fe),!De||!Fe)throw new Error("Could not create driver or vehicle.");console.log("[createFullDevis] \xc9tape 4: Insertion du devis...");const{data:ke,error:Ze}=yield K.supabase.supabase.from("devis_assurance").insert({preneur_id:le.id,conducteur_id:De.id,vehicule_id:Fe.id,garantie_base_rc:W.garanties.base,garantie_omnium_niveau:W.garanties.omnium,garantie_conducteur:W.garanties.conducteur,garantie_assistance:W.garanties.assistance,date_effet:W.dateEffet}).select().single();if(Ze)throw console.error("[createFullDevis] Erreur lors de l'insertion du devis :",Ze),Ze;return console.log("Devis cr\xe9\xe9 avec succ\xe8s:",ke),ke}))}createCorporateAccount(W){const K={user_email:W.email,user_password:W.password,user_nom:W.nom,user_prenom:W.prenom,user_fonction:W.fonction};console.log("[DbConnectService] Appel de la fonction RPC handle_new_corporate_user avec:",K);const le=this.supabase.supabase.rpc("handle_new_corporate_user",K).then(({data:De,error:Fe})=>{if(Fe)throw console.error("Erreur lors de l'appel RPC handle_new_corporate_user:",Fe),Fe;return De});return(0,Z.H)(le)}saveHabitationForm(W){return(0,Z.H)(this.supabase.insertData("habitation_quotes",W))}createHabitationQuote(W){var K=this;return(0,e.v)((0,c.A)(function*(){const De={preneur_id:(yield K.findOrCreatePerson({...W.preneur,adresse:W.batiment.adresse,code_postal:W.batiment.codePostal,ville:W.batiment.ville})).id,batiment_adresse:W.batiment.adresse,batiment_code_postal:W.batiment.codePostal,batiment_ville:W.batiment.ville,batiment_type_maison:W.batiment.typeMaison,evaluation_type_valeur_batiment:W.evaluation.valeurBatiment,evaluation_superficie:W.evaluation.superficie,evaluation_nombre_pieces:W.evaluation.nombrePieces,evaluation_loyer_mensuel:W.evaluation.loyer,evaluation_type_valeur_contenu:W.evaluation.valeurContenu,evaluation_valeur_expertise:W.evaluation.valeurExpertise,evaluation_date_expertise:W.evaluation.dateExpertise?`${W.evaluation.dateExpertise}-01`:null,evaluation_valeur_libre_contenu:W.evaluation.evaluation_valeur_libre_contenu,garantie_contenu:W.garanties.contenu,garantie_vol:W.garanties.vol,garantie_pertes_indirectes:W.garanties.pertesIndirectes,garantie_protection_juridique:W.garanties.protectionJuridique,garantie_assistance:W.garanties.assistance,date_effet:W.dateEffet},{data:Fe,error:be}=yield K.supabase.insertData("habitation_quotes",De);if(be)throw be;return Fe}))}saveRcForm(W){return(0,Z.H)(this.supabase.insertData("rc_familiale_quotes",W))}saveVoyageForm(W){return(0,Z.H)(this.supabase.insertData("assu_voyage",W))}saveObsequesForm(W){return this.createObsequesQuote(W)}createObsequesQuote(W){var K=this;return(0,e.v)((0,c.A)(function*(){const De={preneur_id:(yield K.findOrCreatePerson({...W.preneur,date_naissance:W.preneur.dateNaissance,code_postal:W.preneur.codePostal})).id,nombre_assures:W.nombreAssures,preneur_est_assure:W.preneurEstAssure,assures:W.assures},{data:Fe,error:be}=yield K.supabase.insertData("obseques_quotes",De);if(be)throw be;return Fe}))}saveInfoRequestForm(W,K){return(0,Z.H)(this.supabase.insertData("voyage"===K?"info_requests":"juridique_form",W))}getPostalCodes(W){const K=this.supabase.supabase.from("code_postal_belge").select("postal, name").like("postal",`${W}%`).limit(10);return(0,Z.H)(K).pipe((0,G.T)(le=>(le.data||[]).map(De=>({postalCode:De.postal,city:De.name}))))}getVilles(W){const K=this.supabase.supabase.from("code_postal_belge").select("postal, name").ilike("name",`${W}%`).limit(10);return(0,Z.H)(K).pipe((0,G.T)(le=>(le.data||[]).map(Fe=>({postalCode:Fe.postal,city:Fe.name}))))}getCitiesByPostalCode(W){return(0,Z.H)(this.supabase.supabase.from("code_postal_belge").select("name").eq("postal",W)).pipe((0,G.T)(K=>{if(K.error)throw K.error;return(K.data||[]).map(De=>De.name)}),(0,F.W)(K=>(console.error("Erreur lors de la r\xe9cup\xe9ration des villes par code postal:",K),(0,U.of)([]))))}searchMarques(W){return(0,Z.H)(this.supabase.supabase.from("marques").select("marque_id:id, nom").ilike("nom",`${W}%`).limit(10)).pipe((0,G.T)(K=>(K.data||[]).map(De=>({marque_id:De.marque_id,nom:De.nom}))))}searchModeles(W,K){let le=this.supabase.supabase.from("modeles").select("marque_id, nom").eq("marque_id",W).order("nom",{ascending:!0});return K&&(le=le.ilike("nom",`${K}%`).limit(10)),(0,Z.H)(le).pipe((0,G.T)(De=>(De.data||[]).map(be=>({marque_id:be.marque_id,nom:be.nom}))))}searchAssureurs(W){return(0,Z.H)(this.supabase.supabase.from("assureurs_belges").select("id, nom_assureur").ilike("nom_assureur",`${W}%`).order("nom_assureur",{ascending:!0}).limit(10)).pipe((0,G.T)(K=>(console.log("Compagnies d'assurance re\xe7ues:",K.data),(K.data||[]).map(De=>({id:De.id,nom:De.nom_assureur})))))}getInsurerById(W){return(0,Z.H)(this.supabase.supabase.from("assureurs_belges").select("id, nom_assureur").eq("id",W).single()).pipe((0,G.T)(K=>{if(K.error||!K.data)throw console.error(`Erreur lors de la r\xe9cup\xe9ration de l'assureur avec l'ID ${W}:`,K.error),K.error||new Error(`Aucun assureur trouv\xe9 pour l'ID ${W}`);return{id:K.data.id,nom:K.data.nom_assureur}}))}getAllAssureurs(){return(0,Z.H)(this.supabase.supabase.from("assureurs_belges").select("id, nom_assureur").order("nom_assureur",{ascending:!0})).pipe((0,G.T)(W=>(W.data||[]).map(le=>({id:le.id,nom:le.nom_assureur}))))}getAllStatuts(){return(0,Z.H)(this.supabase.supabase.from("statut").select("id, statut").order("statut",{ascending:!0})).pipe((0,G.T)(W=>{if(W.error)throw console.error("Erreur lors de la r\xe9cup\xe9ration des statuts:",W.error),W.error;return console.log("Statuts r\xe9cup\xe9r\xe9s depuis Supabase:",W.data),W.data||[]}))}getAllMaritalStatuses(){return(0,Z.H)(this.supabase.supabase.from("marital_statut").select("id, label").order("id",{ascending:!0})).pipe((0,G.T)(W=>{if(W.error)throw console.error("Erreur lors de la r\xe9cup\xe9ration des statuts matrimoniaux:",W.error),W.error;return console.log("Statuts matrimoniaux r\xe9cup\xe9r\xe9s depuis Supabase:",W.data),W.data||[]}))}getContracts(W,K){return"auto"===K?(0,Z.H)(this.supabase.supabase.from("devis_assurance").select("\n            id,\n            date_effet,\n            statut,\n            vehicules ( marque, modele )\n          ").eq("preneur_id",W)).pipe((0,G.T)(le=>{if(le.error)throw le.error;return(le.data||[]).map(De=>({id:De.id,categorie:"Auto",denomination:`${De.vehicules.marque} ${De.vehicules.modele}`,date_contract:De.date_effet,date_validite:De.date_effet,date_terme:"",statut:De.statut||"Devis en attente"}))})):"habitation"===K?(0,Z.H)(this.supabase.supabase.from("habitation_quotes").select("\n            id,\n            date_effet,\n            statut,\n            batiment_type_maison, \n            batiment_adresse\n          ").eq("preneur_id",W)).pipe((0,G.T)(le=>{if(le.error)throw le.error;return console.log("Donn\xe9es brutes des devis habitation:",le.data),(le.data||[]).map(De=>({id:De.id,categorie:"Habitation",denomination:De.batiment_adresse?`${De.batiment_type_maison} - ${De.batiment_adresse}`:De.batiment_type_maison,date_contract:De.date_effet,date_validite:De.date_effet,date_terme:"",statut:De.statut||"Devis en attente"}))})):"obseques"===K?(0,Z.H)(this.supabase.supabase.from("obseques_quotes").select("\n            id,\n            created_at,\n            nombre_assures\n          ").eq("preneur_id",W)).pipe((0,G.T)(le=>{if(le.error)throw le.error;return(le.data||[]).map(De=>({id:De.id,categorie:"Obs\xe8ques",denomination:`Devis pour ${De.nombre_assures} personne(s)`,date_contract:De.created_at,date_validite:De.created_at,date_terme:"",statut:"Devis en attente"}))})):(0,Z.H)(this.supabase.supabase.from("contracts").select("*").eq("preneur_id",W).eq("categorie",K)).pipe((0,G.T)(le=>le.data||[]))}getDocuments(W){return(0,Z.H)(this.supabase.supabase.from("uploaded_files").select("*").eq("user_id",W).order("date_created",{ascending:!1})).pipe((0,G.T)(K=>{if(K.error)throw console.error("Erreur lors de la r\xe9cup\xe9ration des documents :",K.error),K.error;return K.data||[]}))}uploadDocument(W,K,le,De,Fe){const be=le,ke=Fe||fe.c.storage_bucket_clients,Ze=W.name.replace(/[^a-zA-Z0-9._-]/g,"_"),pt=`${be}/${Date.now()}_${Ze}`,$e=new FormData;$e.append("file",W);const Ke=new V.Lr({apikey:fe.c.supabaseKey,Authorization:`Bearer ${fe.c.supabaseKey}`});return this.http.post(`${fe.c.supabaseUrl}/storage/v1/object/${ke}/${pt}`,$e,{headers:Ke}).pipe((0,J.n)(()=>{const He={file_name:W.name,path:pt,user_id:K,status:"En attente",date_created:(new Date).toISOString(),id_type:De};return(0,Z.H)(this.supabase.insertData("uploaded_files",He))}),(0,G.T)(He=>{if(He.error)throw He.error;return He.data}))}deleteDocument(W,K,le){return(0,Z.H)(this.supabase.supabase.storage.from(le).remove([K])).pipe((0,J.n)(De=>{if(De.error)throw De.error;return(0,Z.H)(this.supabase.supabase.from("uploaded_files").delete().eq("id",W))}),(0,G.T)(De=>{if(De.error)throw De.error}))}checkEmailExists(W){return(0,Z.H)(this.supabase.supabase.from("personnes").select("id",{count:"exact",head:!0}).eq("email",W)).pipe((0,G.T)(K=>(K.count??0)>0),(0,F.W)(K=>{throw console.error("Critical DB Error checking email:",K),K}))}checkPermisExists(W){return(0,Z.H)(this.supabase.supabase.from("personnes").select("permis_numero",{count:"exact",head:!0}).eq("permis_numero",W)).pipe((0,G.T)(K=>(K.count??0)>0),(0,F.W)(K=>(console.error("Erreur lors de la v\xe9rification du permis:",K),(0,U.of)(!1))))}createUser(W){return(0,Z.H)(this.supabase.supabase.auth.signUp({email:W.email,password:W.password})).pipe((0,J.n)(({data:K,error:le})=>{if(le)throw le;if(!K.user)throw new Error("La cr\xe9ation de l'utilisateur a \xe9chou\xe9, aucun utilisateur retourn\xe9.");const De={user_id:K.user.id,nom:W.nom,prenom:W.prenom,email:W.email,telephone:W.telephone,adresse:W.adresse,code_postal:W.codePostal,ville:W.ville,date_naissance:W.dateNaissance,permis_numero:W.permis,permis_date:W.datePermis,genre:W.genre};return(0,Z.H)(this.supabase.supabase.from("personnes").insert(De).select().single()).pipe((0,J.n)(Fe=>{if(Fe.error)throw Fe.error;return this.createUserStorageFolder(K.user.id).pipe((0,G.T)(()=>Fe))}))}))}getPersonByUserId(W){return(0,Z.H)(this.supabase.supabase.from("personnes").select("*").eq("user_id",W).single()).pipe((0,G.T)(K=>K.data))}getPersonByEmail(W){return(0,Z.H)(this.supabase.supabase.from("personnes").select("*").eq("email",W).single()).pipe((0,G.T)(K=>(K.error&&"PGRST116"!==K.error.code&&console.error("Erreur lors de la r\xe9cup\xe9ration de la personne par email:",K.error),K.data)))}linkUserToPerson(W,K){return this.getPersonByEmail(K).pipe((0,J.n)(le=>{if(!le)return(0,U.of)(null);const De=le.user_id!==W?this.supabase.supabase.from("personnes").update({user_id:W}).eq("id",le.id):Promise.resolve();return(0,Z.H)(De).pipe((0,J.n)(()=>!0===le.folder_id?(0,U.of)({status:"folder_exists"}):this.createUserStorageFolder(W).pipe((0,J.n)(()=>(0,Z.H)(this.supabase.supabase.from("personnes").update({folder_id:!0}).eq("id",le.id))))))}))}getDevisDetails(W){return console.log(`[DbConnectService] R\xe9cup\xe9ration des d\xe9tails du devis auto pour l'ID: ${W}`),(0,Z.H)(this.supabase.supabase.from("devis_assurance").select("\n          *,\n          preneur:personnes!devis_assurance_preneur_id_fkey(*),\n          conducteur:personnes!devis_assurance_conducteur_id_fkey(*),\n          vehicule:vehicules(*)\n        ").eq("id",W).single()).pipe((0,G.T)(K=>{if(K.error)throw K.error;return K.data}))}getHabitationQuoteDetails(W){return console.log(`[DbConnectService] R\xe9cup\xe9ration des d\xe9tails du devis habitation pour l'ID: ${W}`),(0,Z.H)(this.supabase.supabase.from("habitation_quotes").select("\n          *, \n          preneur:personnes!habitation_quotes_preneur_id_fkey(*)\n        ").eq("id",W).single()).pipe((0,G.T)(K=>{if(K.error)throw K.error;return K.data}))}getObsequesQuoteDetails(W){return console.log(`[DbConnectService] R\xe9cup\xe9ration des d\xe9tails du devis obs\xe8ques pour l'ID: ${W}`),(0,Z.H)(this.supabase.supabase.from("obseques_quotes").select("\n          *,\n          preneur:personnes!obseques_quotes_preneur_id_fkey(*)\n        ").eq("id",W).single()).pipe((0,G.T)(K=>{if(K.error)throw K.error;return console.log(`[DbConnectService] D\xe9tails du devis obs\xe8ques re\xe7us pour l'ID ${W}:`,K.data),K.data}))}getVoyageQuoteDetails(W){return(0,Z.H)(this.supabase.supabase.from("assu_voyage").select("*").eq("id",W).single()).pipe((0,G.T)(K=>{if(K.error)throw K.error;return K.data}))}getRcQuoteDetails(W){return(0,Z.H)(this.supabase.supabase.from("rc_familiale_quotes").select("*").eq("id",W).single()).pipe((0,G.T)(K=>{if(K.error)throw K.error;return K.data}))}createUserStorageFolder(W){const K=W.substring(0,8),le=fe.c.storage_bucket_clients,Fe=`${K}/.emptyFolderPlaceholder`;return(0,Z.H)(this.supabase.supabase.storage.from(le).list(K)).pipe((0,J.n)(be=>be.data&&be.data.length>0?(0,U.of)({data:be.data,error:null}):(0,Z.H)(this.supabase.supabase.storage.from(le).upload(Fe,new Blob([""]),{cacheControl:"3600",upsert:!1}))),(0,G.T)(be=>(be.error&&console.error(`Erreur lors de la cr\xe9ation du dossier de stockage pour ${W}:`,be.error),be)))}getAllAutoQuotes(W,K,le){const De=(K-1)*le,Fe=De+le-1;let be=this.supabase.supabase.from("devis_assurance").select("\n          id,\n          created_at,\n          preneur_id,\n          conducteur_id,\n          statut,\n          preneur:personnes!devis_assurance_preneur_id_fkey ( nom, prenom, uid ),\n          vehicules ( type, marque, modele, annee )\n        ",{count:"exact"}).order("created_at",{ascending:!1}).range(De,Fe);if(W){const ke=`%${W}%`;be=be.or(`nom.ilike.${ke},prenom.ilike.${ke}`,{foreignTable:"preneur"})}return(0,Z.H)(be).pipe((0,G.T)(ke=>({data:ke.data||[],count:ke.count})))}getAllHabitationQuotes(W,K,le){const De=(K-1)*le,Fe=De+le-1;let be=this.supabase.supabase.from("habitation_quotes").select("\n          id,\n          created_at,\n          preneur_id,\n          statut,\n          batiment_adresse,\n          batiment_type_maison,\n          preneur:personnes!habitation_quotes_preneur_id_fkey ( nom, prenom, uid )\n        ",{count:"exact"}).order("created_at",{ascending:!1}).range(De,Fe);if(W){const ke=`%${W}%`;be=be.or(`nom.ilike.${ke},prenom.ilike.${ke}`,{foreignTable:"preneur"})}return(0,Z.H)(be).pipe((0,G.T)(ke=>({data:ke.data||[],count:ke.count})))}getAllObsequesQuotes(W,K,le){const De=(K-1)*le,Fe=De+le-1;let be=this.supabase.supabase.from("obseques_quotes").select("id, created_at, statut, nombre_assures, preneur_id, preneur:personnes!obseques_quotes_preneur_id_fkey ( nom, prenom, uid )",{count:"exact"}).order("created_at",{ascending:!1}).range(De,Fe);if(W){const ke=`%${W}%`;be=be.or(`nom.ilike.${ke},prenom.ilike.${ke}`,{foreignTable:"preneur"})}return(0,Z.H)(be).pipe((0,G.T)(ke=>({data:ke.data||[],count:ke.count})))}getAllVoyageQuotes(){const W=this.supabase.supabase.from("assu_voyage").select("\n          id,\n          date_created,\n          preneur_id,\n          statut,\n          nom,\n          prenom,\n          description\n        ").order("date_created",{ascending:!1});return(0,Z.H)(W).pipe((0,G.T)(K=>{if(K.error)throw K.error;return K.data||[]}))}getAllRcQuotes(){const W=this.supabase.supabase.from("rc_familiale_quotes").select("\n          id,\n          created_at,\n          preneur_id,\n          preneur_nom,\n          preneur_prenom,\n          risque\n        ").order("created_at",{ascending:!1});return(0,Z.H)(W).pipe((0,G.T)(K=>{if(K.error)throw K.error;return K.data||[]}))}getRecentAutoQuotes(W){const K=this.supabase.supabase.from("devis_assurance").select("\n          id,\n          created_at,\n          preneur_id,\n          statut,\n          preneur:personnes!devis_assurance_preneur_id_fkey ( nom, prenom )\n        ").order("created_at",{ascending:!1}).limit(W);return(0,Z.H)(K).pipe((0,G.T)(le=>{if(le.error)throw le.error;return console.log("[DbConnectService] Recent auto quotes fetched:",le.data),le.data||[]}))}getRecentHabitationQuotes(W){const K=this.supabase.supabase.from("habitation_quotes").select("\n          id,\n          created_at,\n          preneur_id,\n          statut,\n          preneur:personnes!habitation_quotes_preneur_id_fkey ( nom, prenom )\n        ").order("created_at",{ascending:!1}).limit(W);return(0,Z.H)(K).pipe((0,G.T)(le=>{if(le.error)throw console.error("Erreur lors de la r\xe9cup\xe9ration des devis habitation r\xe9cents:",le.error),le.error;return le.data||[]}))}getAutoPolicies(W){const K=this.supabase.supabase.from("polices_auto").select("\n          id,\n          numero_police,\n          date_debut,\n          date_fin,\n          statut,\n          preneur:personnes ( nom, prenom )\n        ").order("created_at",{ascending:!1}).limit(W);return(0,Z.H)(K).pipe((0,G.T)(le=>{if(le.error)throw le.error;return le.data||[]}))}getNationalities(){if(!this.nationalities$){const W=this.supabase.supabase.from("nationalities").select("*").order("nationality",{ascending:!0});this.nationalities$=(0,Z.H)(W).pipe((0,G.T)(K=>K.data||[]),(0,me.t)(1))}return this.nationalities$}getQuoteDetails(W,K){switch(W){case"auto":return this.getDevisDetails(K);case"habitation":return this.getHabitationQuoteDetails(K);case"obseques":return this.getObsequesQuoteDetails(K);case"voyage":return this.getVoyageQuoteDetails(K);case"rc":return this.getRcQuoteDetails(K);default:return console.error(`Type de devis inconnu dans getQuoteDetails: ${W}`),(0,U.of)(null)}}getQuoteCategoryById(W){return(0,Z.H)(this.supabase.supabase.rpc("get_quote_category_by_id",{p_quote_id:W})).pipe((0,G.T)(K=>{if(K.error)throw console.warn(`[DbConnectService] Erreur 500 probable dans 'getQuoteCategoryById' pour l'ID ${W}.`,"Erreur RPC Supabase:",K.error),K.error;return K.data?K.data:null}),(0,F.W)(K=>(console.error("Erreur dans le pipe de getQuoteCategoryById:",K),console.warn(`[DbConnectService] 'getQuoteCategoryById' a \xe9chou\xe9 pour l'ID ${W}.`),(0,U.of)(null))))}updateAutoQuote(W,K){const De=this.supabase.supabase.rpc("update_auto_quote_details",{p_quote_id:W,p_vehicule_data:{marque:K.p_vehicule.make,modele:K.p_vehicule.model,annee:K.p_vehicule.year,plaque:K.p_vehicule.licensePlate,puissance_kw:K.p_vehicule.power,places:K.p_vehicule.seats,valeur:K.p_vehicule.value,date_circulation:K.p_vehicule.registrationDate},p_devis_data:K.p_devis}).then(({data:Fe,error:be})=>be?(console.warn(`[DbConnectService] Erreur 500 probable dans 'updateAutoQuote' pour l'ID ${W}.`,"Erreur RPC Supabase:",be),console.error("Erreur RPC update_auto_quote_details:",be),{success:!1,error:be}):{success:!0,data:Fe});return(0,Z.H)(De)}updateObsequesQuote(W,K){const le={p_quote_id:W,p_preneur_data:K.preneur,p_devis_data:{nombre_assures:K.devis.nombre_assures,preneur_est_assure:K.devis.preneur_est_assure,assures:K.devis.assures,statut:K.devis.statut,compagnie_id:K.devis.compagnie_id}};console.log("[DbConnectService] updateObsequesQuote payload:",le);const De=this.supabase.supabase.rpc("update_obseques_quote",le).then(({data:Fe,error:be})=>be?(console.error(`[DbConnectService] Erreur RPC dans 'updateObsequesQuote' pour l'ID ${W}.`,be),console.log("[DbConnectService] updateObsequesQuote payload:",le),{success:!1,error:be}):{success:!0,data:Fe});return(0,Z.H)(De)}updateHabitationQuote(W,K){const De=this.supabase.supabase.rpc("update_habitation_quote_details",{p_quote_id:W,p_devis_data:{batiment_adresse:K.p_devis.batiment_adresse,batiment_code_postal:K.p_devis.batiment_code_postal,batiment_ville:K.p_devis.batiment_ville,batiment_type_maison:K.p_devis.batiment_type_maison,evaluation_superficie:K.p_devis.evaluation_superficie,evaluation_nombre_pieces:K.p_devis.evaluation_nombre_pieces,evaluation_loyer_mensuel:K.p_devis.evaluation_loyer_mensuel,evaluation_type_valeur_batiment:K.p_devis.evaluation_type_valeur_batiment,evaluation_type_valeur_contenu:K.p_devis.evaluation_type_valeur_contenu,evaluation_valeur_expertise:K.p_devis.evaluation_valeur_expertise,evaluation_date_expertise:K.p_devis.evaluation_date_expertise,evaluation_valeur_libre_contenu:K.p_devis.evaluation_valeur_libre_contenu,garantie_contenu:K.p_devis.garantie_contenu,garantie_vol:K.p_devis.garantie_vol,garantie_pertes_indirectes:K.p_devis.garantie_pertes_indirectes,garantie_protection_juridique:K.p_devis.garantie_protection_juridique,garantie_assistance:K.p_devis.garantie_assistance,date_effet:K.p_devis.date_effet,compagnie_id:K.p_devis.compagnie_id,statut:K.p_devis.statut}}).then(({data:Fe,error:be})=>be?(console.warn(`[DbConnectService] Erreur 500 probable dans 'updateHabitationQuote' pour l'ID ${W}.`,"Erreur RPC Supabase:",be),{success:!1,error:be}):{success:!0,data:Fe});return(0,Z.H)(De)}updatePerson(W,K){return(0,Z.H)(this.supabase.supabase.from("personnes").update(K).eq("id",W).select().single()).pipe((0,G.T)(le=>{if(le.error)throw le.error;return{data:le.data,error:null}}))}getPersonById(W){return(0,Z.H)(this.supabase.supabase.from("personnes").select("*").eq("id",W).single()).pipe((0,G.T)(K=>(K.error&&"PGRST116"!==K.error.code&&console.error(`Erreur lors de la r\xe9cup\xe9ration de la personne avec l'ID ${W}:`,K.error),K.data)))}findOrCreatePerson(W){var K=this;return(0,c.A)(function*(){console.log("[findOrCreatePerson] Donn\xe9es de la personne re\xe7ues :",W);const{data:le}=yield K.supabase.supabase.from("personnes").select("*").eq("email",W.email).single();if(le)return console.log("[findOrCreatePerson] Personne existante trouv\xe9e:",le),le;console.log("[findOrCreatePerson] Aucune personne existante, cr\xe9ation en cours...");const{data:De,error:Fe}=yield K.supabase.supabase.from("personnes").insert(W).select().single();if(Fe)throw console.error("[findOrCreatePerson] Erreur lors de l'insertion de la nouvelle personne :",Fe),Fe;return console.log("[findOrCreatePerson] Nouvelle personne cr\xe9\xe9e :",De),De})()}mapPersonDataForRpc(W,K={includeDrivingLicense:!0,includeNationalRegistry:!0}){const le={prenom:W.firstName,nom:W.lastName,date_naissance:W.date_naissance,email:W.email,telephone:W.phone,adresse:W.address,code_postal:W.postalCode,ville:W.city,nationality:W.nationality,marital_status_id:W.maritalStatus};return K.includeDrivingLicense&&(le.permis_numero=W.driverLicenseNumber,le.permis_date=W.driverLicenseDate),K.includeNationalRegistry&&(le.numero_national=W.nationalRegistryNumber,le.idcard_number=W.idCardNumber,le.idcard_validity=W.idCardValidityDate),le}getAllQuotesGeneric(W,K,le,De,Fe,be){const ke=(De-1)*Fe,Ze=ke+Fe-1;let pt=this.supabase.supabase.from(W).select(K,{count:"exact"}).order("created_at",{ascending:!1}).range(ke,Ze);if(le&&(be.localColumns?.length||be.foreignTables?.length)){const $e=`%${le}%`;be.localColumns&&[].push(be.localColumns.map(He=>`${He}.ilike.${$e}`).join(",")),be.foreignTables&&be.foreignTables.forEach(He=>{const vt=He.columns.map(dt=>`${dt}.ilike.${$e}`).join(",");pt=pt.or(vt,{foreignTable:He.name})})}return(0,Z.H)(pt).pipe((0,G.T)($e=>({data:$e.data||[],count:$e.count})))}getContractSubjects(){return(0,Z.H)(this.supabase.supabase.from("subject_contract").select("id, title").order("title",{ascending:!0})).pipe((0,G.T)(W=>{if(W.error)throw console.error("Erreur lors de la r\xe9cup\xe9ration des sujets de contrat:",W.error),W.error;return W.data||[]}))}getFullQuoteDetails(W){console.log(`[DbConnectService] Appel de getFullQuoteDetails pour l'ID: ${W}`);const K=this.supabase.supabase.rpc("get_full_quote_details",{p_quote_id:W}).then(({data:le,error:De})=>{if(De)throw console.warn(`[DbConnectService] Erreur 500 probable dans 'getFullQuoteDetails' pour l'ID ${W}.`,"Erreur RPC Supabase:",De),console.warn(`[DbConnectService] Erreur 500 probable dans 'getFullQuoteDetails' pour l'ID ${W}.`,"Erreur RPC Supabase:",De),De;if(console.log(`[DbConnectService] Donn\xe9es brutes re\xe7ues de la RPC pour l'ID ${W}:`,le),!le)throw console.warn(`[DbConnectService] Aucun devis trouv\xe9 via RPC pour l'ID ${W}. La fonction a retourn\xe9 null.`),new Error(`Aucun devis trouv\xe9 pour l'ID ${W}. La fonction a retourn\xe9 une r\xe9ponse vide.`);return console.log(`[DbConnectService] Succ\xe8s: D\xe9tails complets du devis r\xe9cup\xe9r\xe9s pour l'ID ${W}.`),le});return(0,Z.H)(K)}getAllEcheanceStatuts(){return(0,Z.H)(this.supabase.supabase.from("echeancier").select("id, id_echeance, label")).pipe((0,G.T)(W=>{if(W.error)throw console.error("Erreur lors de la r\xe9cup\xe9ration des statuts d'\xe9ch\xe9ancier:",W.error),W.error;return W.data||[]}))}saveCsvDataToDb(W,K,le){const De=JSON.parse(JSON.stringify(le).replace(/\u0000/g,""));return(0,Z.H)(this.supabase.insertData("csv_imports",{quote_id:W,quote_type:K,json_data:De})).pipe((0,G.T)(be=>{if(be.error)throw be.error;return be.data}))}getCsvData(W,K){const le=this.supabase.supabase.rpc("get_csv_import_data",{p_quote_id:W,p_quote_type:K});return(0,Z.H)(le).pipe((0,G.T)(De=>{if(De.error)throw console.warn(`[DbConnectService] Erreur 500 probable dans 'getCsvData' pour quoteId ${W}.`,"Erreur RPC Supabase:",De.error),De.error;return De.data||[]}),(0,F.W)(De=>(console.error(`[DbConnectService] Erreur dans getCsvData pour quoteId ${W}:`,De),(0,U.of)([]))))}getDocumentTypes(){return(0,Z.H)(this.supabase.supabase.from("type_documents").select("id, created_at, Label, view").order("Label",{ascending:!0})).pipe((0,G.T)(({data:W,error:K})=>{if(K)throw console.error("Erreur lors de la r\xe9cup\xe9ration des types de documents :",K),K;return W??[]}))}createSignedUrl(W,K,le){var De=this;return(0,c.A)(function*(){return De.supabase.supabase.storage.from(W).createSignedUrl(K,le)})()}getPublicUrl(W,K){return this.supabase.supabase.storage.from(W).getPublicUrl(K)}getCurrentUser(){return this.supabase.currentUser$}getPersonCountsByPostalCode(){return(0,Z.H)(this.supabase.supabase.rpc("get_person_counts_by_postal_code")).pipe((0,G.T)(W=>{if(W.error)throw console.error("Erreur lors de l'appel RPC get_person_counts_by_postal_code:",W.error),W.error;return W.data||[]}),(0,F.W)(W=>(console.error("Erreur dans le pipe de getPersonCountsByPostalCode:",W),(0,U.of)([]))))}static \u0275fac=function(K){return new(K||xe)(te.KVO(ge.w),te.KVO(V.Qq))};static \u0275prov=te.jDH({token:xe,factory:xe.\u0275fac,providedIn:"root"})}return xe})()},4125:(ot,_e,M)=>{"use strict";M.d(_e,{T:()=>e});var c=M(467),V=M(5312),Z=M(4438);let e=(()=>{class U{constructor(){}sendSms(F,J){return(0,c.A)(function*(){let me=F.trim();me.startsWith("+")||(me=`+${me}`),console.log(`[SendsmsService] Tentative d'envoi du SMS au num\xe9ro : ${F}`);const fe=`${V.c.supabaseUrl}/functions/v1/send-sms`;try{const te=yield fetch(fe,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${V.c.supabaseKey}`},body:JSON.stringify({to:me,message:J})});if(!te.ok){const ge=yield te.json();throw console.error("Erreur de la fonction Edge:",ge),new Error(ge.error||`Erreur HTTP: ${te.status}`)}return yield te.json()}catch(te){throw console.error("Erreur lors de l'envoi du SMS:",te),te}})()}static \u0275fac=function(J){return new(J||U)};static \u0275prov=Z.jDH({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})()},9692:(ot,_e,M)=>{"use strict";M.d(_e,{w:()=>J});var c=M(467),V=M(4438),Z=M(177),e=M(6580),U=M(5312),G=M(4412),F=M(6354);let J=(()=>{class me{platformId;supabase;sessionSubject=new G.t(null);session$=this.sessionSubject.asObservable();currentUser$=this.session$.pipe((0,F.T)(te=>te?.user??null));constructor(te){this.platformId=te,(0,Z.UE)(this.platformId)?(this.supabase=(0,e.UU)(U.c.supabaseUrl,U.c.supabaseKey),this.supabase.auth.onAuthStateChange((ge,Le)=>{this.sessionSubject.next(Le)})):this.supabase={}}insertData(te,ge){var Le=this;return(0,c.A)(function*(){console.log(`[SupabaseService] Tentative d'insertion dans la table '${te}' avec les donn\xe9es:`,ge);const xe=yield Le.supabase.from(te).insert([ge]);return xe.error&&console.error(`[SupabaseService] Erreur lors de l'insertion dans la table '${te}':`,xe.error),xe})()}fetchData(te,ge){var Le=this;return(0,c.A)(function*(){console.log(`[SupabaseService] Tentative de lecture depuis la table '${te}' avec la requ\xeate:`,ge);const xe=yield Le.supabase.from(te).select(ge);return xe.error&&console.error(`[SupabaseService] Erreur lors de la lecture depuis la table '${te}':`,xe.error),xe})()}static \u0275fac=function(ge){return new(ge||me)(V.KVO(V.Agw))};static \u0275prov=V.jDH({token:me,factory:me.\u0275fac,providedIn:"root"})}return me})()},4594:(ot,_e,M)=>{"use strict";M.d(_e,{U:()=>Xe});var c=M(4438),V=M(1626),Z=M(983),e=M(7673),U=M(6365),G=M(8750),F=M(3794),J=M(6648),fe=M(6354),te=M(9437),ge=M(5964),Le=M(1943),xe=M(5312);let Xe=(()=>{class W{http=(0,c.WQX)(V.Qq);supabaseUrl=xe.c.supabaseUrl;supabaseKey=xe.c.supabaseKey;getBucketName(le){return{auto:"documents_auto",habitation:"documents_habitation",obseques:"documents_obseques",rc:"documents_rc",voyage:"documents_voyage"}[le]||"documents_autres"}uploadContractFiles(le,De,Fe){if(!le||0===le.length)return Z.w;this.getBucketName(Fe);const ke=le.length,Ze=`${this.supabaseUrl}/functions/v1/storage-upload`;return function me(...W){const K=(0,F.lI)(W),le=(0,F.R0)(W,1/0),De=W;return De.length?1===De.length?(0,G.Tg)(De[0]):(0,U.U)(le)((0,J.H)(De,K)):Z.w}(...le.map($e=>{const Ke=new FormData;return Ke.append("file",$e),Ke.append("quoteId",String(De)),Ke.append("quoteType",Fe),this.http.post(Ze,Ke,{headers:{apikey:this.supabaseKey},reportProgress:!0,observe:"events"}).pipe((0,fe.T)(He=>{switch(He.type){case V.hv.UploadProgress:const vt=Math.round(100*He.loaded/(He.total||1));return{fileName:$e.name,status:"uploading",progress:vt};case V.hv.Response:return{fileName:$e.name,status:"success",path:He.body.path,progress:100};default:return null}}),(0,te.W)(He=>(0,e.of)({fileName:$e.name,status:"error",error:He.error?.error||He.message||"Erreur r\xe9seau",progress:0})))})).pipe((0,ge.p)($e=>null!==$e),(0,Le.S)(($e,Ke)=>($e.progresses.set(Ke.fileName,Ke.progress||0),$e.lastResult={...$e.lastResult,...Ke},$e),{progresses:new Map,lastResult:null}),(0,fe.T)($e=>{const Ke=Array.from($e.progresses.values()).reduce((He,vt)=>He+vt,0)/ke;return{...$e.lastResult,totalProgress:Math.round(Ke)}}))}getDownloadUrl(le,De){return`${this.supabaseUrl}/storage/v1/object/public/${le}/${De}`}static \u0275fac=function(De){return new(De||W)};static \u0275prov=c.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})()},1364:(ot,_e,M)=>{"use strict";M.d(_e,{Y:()=>F});var c=M(177),V=M(4438);const Z=["*"];function e(J,me){if(1&J&&(V.qex(0),V.j41(1,"div",3),V.nrm(2,"div",4),V.j41(3,"p",5),V.EFF(4),V.k0s()(),V.bVm()),2&J){const fe=V.XpG();V.R7$(4),V.JRh(fe.loadingMessage)}}function U(J,me){if(1&J&&(V.qex(0),V.j41(1,"div",6)(2,"strong",7),V.EFF(3,"Erreur !"),V.k0s(),V.j41(4,"span",8),V.EFF(5),V.k0s()(),V.bVm()),2&J){const fe=V.XpG();V.R7$(5),V.SpI(" ",fe.errorMessage,"")}}function G(J,me){1&J&&(V.qex(0),V.SdG(1),V.bVm())}let F=(()=>{class J{state;loadingMessage="Chargement...";errorMessage="Une erreur est survenue lors du chargement des donn\xe9es.";static \u0275fac=function(te){return new(te||J)};static \u0275cmp=V.VBU({type:J,selectors:[["app-state-container"]],inputs:{state:"state",loadingMessage:"loadingMessage",errorMessage:"errorMessage"},standalone:!0,features:[V.aNF],ngContentSelectors:Z,decls:4,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"flex","justify-center","items-center","p-10"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-blue-500"],[1,"ml-4","text-gray-600"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded-md"],[1,"font-bold"],[1,"block","sm:inline"]],template:function(te,ge){1&te&&(V.NAR(),V.qex(0,0),V.DNE(1,e,5,1,"ng-container",1)(2,U,6,1,"ng-container",1)(3,G,2,0,"ng-container",2),V.bVm()),2&te&&(V.Y8G("ngSwitch",!0),V.R7$(),V.Y8G("ngSwitchCase",ge.state.loading),V.R7$(),V.Y8G("ngSwitchCase",!!ge.state.error))},dependencies:[c.MD,c.ux,c.e1,c.fG],encapsulation:2})}return J})()},5312:(ot,_e,M)=>{"use strict";M.d(_e,{c:()=>c});const c={production:!1,dbConnect:"https://fqopliwvpuiprdegxytz.supabase.co",supabaseUrl:"https://fqopliwvpuiprdegxytz.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZxb3BsaXd2cHVpcHJkZWd4eXR6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4NzgyMzIsImV4cCI6MjA3ODQ1NDIzMn0.n-jJ5ZmaetUKLZMEz0YEvYwO2bvXWkOHKKGl1MMpQ0E",maishapay_payment_url:"https://api-maishapay.prod.aksantinet.com",website:"https://www.assurkin.be",supabaseFunctionUrl:"https://fqopliwvpuiprdegxytz.supabase.co",domain_name:"assurkin.be",stripe_lien_paiement:"https://assurkin.be/paiement/",storage_bucket_clients:"documents",storage_bucket:"https://fqopliwvpuiprdegxytz.supabase.co/functions/v1/storage-upload",stripe_public_key:"pk_test_51SbHOFCF57PhpQ6IkRFaNg06NIIThSlX2tf0aucAgm4LK4RqJkksCAxQoslBSQPfTdJjJHSXMLC6PnUlYp7PsvRf00rmMa9ypu",storageBucketPrefix:"https://fqopliwvpuiprdegxytz.supabase.co/functions/v1/storage-upload",mapboxAccessToken:"pk.eyJ1IjoiYXNzdXJraW4iLCJhIjoiY21qMTZ0bXl0MGhuajNjcjd3a2FmMzVkcCJ9.wo_Z98iaQQ_iLZyUDBTMlQ"}},1615:(ot,_e,M)=>{"use strict";var c=M(345),V=M(1626),Z=M(9981),e=M(4438),U=M(177);let G=(()=>{class p{platformId;constructor(a){this.platformId=a}scrollToSection(a){if((0,U.UE)(this.platformId)){const g=document.getElementById(a);g&&g.scrollIntoView({behavior:"smooth",block:"start"})}}static \u0275fac=function(g){return new(g||p)(e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:p,selectors:[["app-accueil"]],standalone:!0,features:[e.aNF],decls:84,vars:0,consts:[[1,"bg-white"],["id","hero",1,"relative","isolate","bg-black","px-6","pt-14","lg:px-8"],[1,"mx-auto","max-w-7xl","py-8","sm:py-12","lg:py-16"],[1,"grid","grid-cols-1","items-center","gap-x-8","gap-y-16","lg:grid-cols-2"],[1,"text-center","lg:text-left","animate-fade-in-up"],[1,"text-4xl","font-bold","tracking-tight","text-white","sm:text-6xl","animate-fade-in-up",2,"animation-delay","0.2s"],[1,"mt-6","text-lg","leading-8","text-gray-300","animate-fade-in-up",2,"animation-delay","0.4s"],[1,"mt-10","flex","items-center","justify-center","gap-x-6","lg:justify-start","animate-fade-in-up",2,"animation-delay","0.6s"],["routerLink","/contact",1,"rounded-md","bg-indigo-600","px-3.5","py-2.5","text-sm","font-semibold","text-white","shadow-sm","hover:bg-indigo-500","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-indigo-600"],[1,"text-sm","font-semibold","leading-6","text-white",3,"click"],["aria-hidden","true"],[1,"flex","justify-center","lg:justify-end","animate-fade-in",2,"animation-delay","0.8s"],["src","https://fqopliwvpuiprdegxytz.supabase.co/storage/v1/object/sign/img_website/assukin.webp?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV81MmJmNDFiNC0yNGQ0LTQ3ZTktYmEzNi04YWZmY2NjMzEzNzIiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJpbWdfd2Vic2l0ZS9hc3N1a2luLndlYnAiLCJpYXQiOjE3NjMwMjAyMjYsImV4cCI6MjA3ODM4MDIyNn0.7YNFUpPItIygZoqlnw2CE-Elj9r-64kfppEpvelhMpA","alt","\xc9quipe Assurkin",1,"w-full","max-w-xs","rounded-xl","shadow-xl","ring-1","ring-gray-400/10","lg:max-w-md"],["id","services",1,"bg-gray-50","py-24","sm:py-32"],[1,"mx-auto","max-w-7xl","px-6","lg:px-8"],[1,"mx-auto","max-w-2xl","lg:text-center"],[1,"text-base","font-semibold","leading-7","text-indigo-600"],[1,"mt-2","text-3xl","font-bold","tracking-tight","text-gray-900","sm:text-4xl"],[1,"mx-auto","mt-16","max-w-2xl","sm:mt-20","lg:mt-24","lg:max-w-none"],[1,"text-2xl","font-bold","text-center","text-gray-800","mb-12"],[1,"grid","max-w-xl","grid-cols-1","gap-x-8","gap-y-16","lg:max-w-none","lg:grid-cols-3"],[1,"relative","pl-16"],[1,"text-base","font-semibold","leading-7","text-gray-900"],[1,"absolute","left-0","top-0","flex","h-10","w-10","items-center","justify-center","rounded-lg","bg-indigo-600"],["fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor","aria-hidden","true",1,"h-6","w-6","text-white"],["stroke-linecap","round","stroke-linejoin","round","d","M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h1.125c.621 0 1.125-.504 1.125-1.125V14.25m-17.25 4.5h10.5a1.125 1.125 0 001.125-1.125V6.75a1.125 1.125 0 00-1.125-1.125H3.375A1.125 1.125 0 002.25 6.75v10.5a1.125 1.125 0 001.125 1.125z"],[1,"mt-2","text-base","leading-7","text-gray-600"],[1,"mt-4"],["routerLink","/particulier/auto",1,"text-sm","font-semibold","leading-6","text-indigo-600"],["stroke-linecap","round","stroke-linejoin","round","d","M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"],["routerLink","/particulier/habitation",1,"text-sm","font-semibold","leading-6","text-indigo-600"],["stroke-linecap","round","stroke-linejoin","round","d","M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m-7.5-2.962c.513-.513.513-1.344 0-1.857a1.5 1.5 0 012.121 0c.513.513.513 1.344 0 1.857m-2.121 0a1.5 1.5 0 01-2.121 0c-.513-.513-.513-1.344 0-1.857a1.5 1.5 0 012.121 0m-2.121 0c.513.513.513 1.344 0 1.857m-2.121 0a1.5 1.5 0 01-2.121 0c-.513-.513-.513-1.344 0-1.857a1.5 1.5 0 012.121 0m6.364 0c.513.513.513 1.344 0 1.857m-2.121 0a1.5 1.5 0 01-2.121 0c-.513-.513-.513-1.344 0-1.857a1.5 1.5 0 012.121 0m2.121 0c.513.513.513 1.344 0 1.857m-2.121 0a1.5 1.5 0 01-2.121 0c-.513-.513-.513-1.344 0-1.857a1.5 1.5 0 012.121 0m-2.121 0a1.5 1.5 0 01-2.121 0c-.513-.513-.513-1.344 0-1.857a1.5 1.5 0 012.121 0m9.546 2.121a9.094 9.094 0 01-3.742.479 3 3 0 01-4.682-2.72m7.5 2.962c-.513.513-.513 1.344 0 1.857a1.5 1.5 0 002.121 0c.513-.513.513 1.344 0 1.857m-2.121 0a1.5 1.5 0 00-2.121 0c-.513.513-.513 1.344 0-1.857a1.5 1.5 0 002.121 0"],["routerLink","/particulier/rc-familale",1,"text-sm","font-semibold","leading-6","text-indigo-600"],[1,"mt-16","lg:mt-24"],[1,"text-xl","font-bold","text-center","text-gray-800","mb-8"],[1,"mx-auto","max-w-4xl"],[1,"overflow-hidden","rounded-lg","shadow-xl"],["controls","","autoplay","","muted","","loop","","playsinline","",1,"w-full","h-auto"],["src","https://dela-digital.be/tools/video-pensez-a-plus-tard-avec-dela-bruno-sophie-1583925934.mp4","type","video/mp4"],[1,"text-center","text-gray-600"],[1,"mt-8","text-center"],["routerLink","/contact",1,"rounded-md","bg-indigo-600","px-3.5","py-2.5","text-sm","font-semibold","text-white","shadow-sm","hover:bg-indigo-500"]],template:function(g,h){1&g&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),e.EFF(6,"AssurKin, votre partenaire confiance"),e.k0s(),e.j41(7,"p",6),e.EFF(8,"Des solutions d'assurance sur-mesure pour les particuliers et les professionnels. Notre \xe9coute active nous permet de vous garantir la protection la plus adapt\xe9e \xe0 vos besoins, pour votre tranquillit\xe9 d'esprit. Nous vous accompagnons \xe0 chaque \xe9tape pour vous offrir un service fiable et r\xe9actif."),e.k0s(),e.j41(9,"div",7)(10,"a",8),e.EFF(11,"Contactez-nous"),e.k0s(),e.j41(12,"button",9),e.bIt("click",function(){return h.scrollToSection("services")}),e.EFF(13,"D\xe9couvrir nos services "),e.j41(14,"span",10),e.EFF(15,"\u2192"),e.k0s()()()(),e.j41(16,"div",11),e.nrm(17,"img",12),e.k0s()()()(),e.j41(18,"div",13)(19,"div",14)(20,"div",15)(21,"h2",16),e.EFF(22,"Nos Assurances"),e.k0s(),e.j41(23,"p",17),e.EFF(24,"Tout ce dont vous avez besoin pour \xeatre bien prot\xe9g\xe9"),e.k0s()(),e.j41(25,"div",18)(26,"h3",19),e.EFF(27,"Pour les Particuliers"),e.k0s(),e.j41(28,"dl",20)(29,"div",21)(30,"dt",22)(31,"div",23),e.qSk(),e.j41(32,"svg",24),e.nrm(33,"path",25),e.k0s()(),e.EFF(34," Assurance Auto "),e.k0s(),e.joV(),e.j41(35,"dd",26),e.EFF(36,"Une couverture compl\xe8te pour votre v\xe9hicule, adapt\xe9e \xe0 vos habitudes de conduite."),e.k0s(),e.j41(37,"dd",27)(38,"a",28),e.EFF(39,"Demander une offre "),e.j41(40,"span",10),e.EFF(41,"\u2192"),e.k0s()()()(),e.j41(42,"div",21)(43,"dt",22)(44,"div",23),e.qSk(),e.j41(45,"svg",24),e.nrm(46,"path",29),e.k0s()(),e.EFF(47," Assurance Habitation "),e.k0s(),e.joV(),e.j41(48,"dd",26),e.EFF(49,"Elle n\u2019est pas obligatoire, mais la majorit\xe9 des Belges en ont une. Il est en effet important de prot\xe9ger vos biens de dommages \xe9ventuels. "),e.k0s(),e.j41(50,"dd",27)(51,"a",30),e.EFF(52,"Demander une offre "),e.j41(53,"span",10),e.EFF(54,"\u2192"),e.k0s()()()(),e.j41(55,"div",21)(56,"dt",22)(57,"div",23),e.qSk(),e.j41(58,"svg",24),e.nrm(59,"path",31),e.k0s()(),e.EFF(60," RC Familiale "),e.k0s(),e.joV(),e.j41(61,"dd",26),e.EFF(62,"L'assurance indispensable pour couvrir les dommages que vous ou votre famille pourriez causer \xe0 des tiers."),e.k0s(),e.j41(63,"dd",27)(64,"a",32),e.EFF(65,"Demander une offre "),e.j41(66,"span",10),e.EFF(67,"\u2192"),e.k0s()()()()(),e.j41(68,"div",33)(69,"h4",34),e.EFF(70,"Pensez \xe0 plus tard, pour eux"),e.k0s(),e.j41(71,"div",35)(72,"div",36)(73,"video",37),e.nrm(74,"source",38),e.EFF(75," Votre navigateur ne supporte pas la lecture de vid\xe9os. "),e.k0s()()()()(),e.j41(76,"div",18)(77,"h3",19),e.EFF(78,"Pour les Professionnels"),e.k0s(),e.j41(79,"p",39),e.EFF(80,"Des solutions sp\xe9cifiques pour prot\xe9ger votre activit\xe9. Contactez-nous pour une analyse personnalis\xe9e de vos besoins."),e.k0s(),e.j41(81,"div",40)(82,"a",41),e.EFF(83,"Prendre rendez-vous"),e.k0s()()()()()())},dependencies:[U.MD,Z.iI,Z.Wk]})}return p})();var F=M(9417),J=M(7673),me=M(1413),fe=M(6354),te=M(9437),ge=M(8141),Le=M(8359);class xe extends Le.yU{constructor(L,a){super()}schedule(L,a=0){return this}}const Xe={setInterval(p,L,...a){const{delegate:g}=Xe;return g?.setInterval?g.setInterval(p,L,...a):setInterval(p,L,...a)},clearInterval(p){const{delegate:L}=Xe;return(L?.clearInterval||clearInterval)(p)},delegate:void 0};var W=M(7908),le=M(6129);class De{constructor(L,a=De.now){this.schedulerActionCtor=L,this.now=a}schedule(L,a=0,g){return new this.schedulerActionCtor(this,L).schedule(g,a)}}De.now=le.U.now;const be=new class Fe extends De{constructor(L,a=De.now){super(L,a),this.actions=[],this._active=!1}flush(L){const{actions:a}=this;if(this._active)return void a.push(L);let g;this._active=!0;do{if(g=L.execute(L.state,L.delay))break}while(L=a.shift());if(this._active=!1,g){for(;L=a.shift();)L.unsubscribe();throw g}}}(class K extends xe{constructor(L,a){super(L,a),this.scheduler=L,this.work=a,this.pending=!1}schedule(L,a=0){var g;if(this.closed)return this;this.state=L;const h=this.id,B=this.scheduler;return null!=h&&(this.id=this.recycleAsyncId(B,h,a)),this.pending=!0,this.delay=a,this.id=null!==(g=this.id)&&void 0!==g?g:this.requestAsyncId(B,this.id,a),this}requestAsyncId(L,a,g=0){return Xe.setInterval(L.flush.bind(L,this),g)}recycleAsyncId(L,a,g=0){if(null!=g&&this.delay===g&&!1===this.pending)return a;null!=a&&Xe.clearInterval(a)}execute(L,a){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const g=this._execute(L,a);if(g)return g;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(L,a){let h,g=!1;try{this.work(L)}catch(B){g=!0,h=B||new Error("Scheduled action threw falsy error")}if(g)return this.unsubscribe(),h}unsubscribe(){if(!this.closed){const{id:L,scheduler:a}=this,{actions:g}=a;this.work=this.state=this.scheduler=null,this.pending=!1,(0,W.o)(g,this),null!=L&&(this.id=this.recycleAsyncId(a,L,null)),this.delay=null,super.unsubscribe()}}});var Ze=M(9974),pt=M(4360);function $e(p,L=be){return(0,Ze.N)((a,g)=>{let h=null,B=null,ce=null;const Ie=()=>{if(h){h.unsubscribe(),h=null;const ve=B;B=null,g.next(ve)}};function kt(){const ve=ce+p,st=L.now();if(st<ve)return h=this.schedule(void 0,ve-st),void g.add(h);Ie()}a.subscribe((0,pt._)(g,ve=>{B=ve,ce=L.now(),h||(h=L.schedule(kt,p),g.add(h))},()=>{Ie(),g.complete()},void 0,()=>{B=h=null}))})}var Ke=M(3669);function He(p,L=Ke.D){return p=p??vt,(0,Ze.N)((a,g)=>{let h,B=!0;a.subscribe((0,pt._)(g,ce=>{const Ie=L(ce);(B||!p(h,Ie))&&(B=!1,h=Ie,g.next(ce))}))})}function vt(p,L){return p===L}var dt=M(5558),ft=M(6977),Pt=M(1594);let Sn=(()=>{class p{el;renderer;onChange=()=>{};onTouched=()=>{};constructor(a,g){this.el=a,this.renderer=g}writeValue(a){const g=this.formatPhoneNumber(a||"");this.renderer.setProperty(this.el.nativeElement,"value",g)}registerOnChange(a){this.onChange=a}registerOnTouched(a){this.onTouched=a}onInput(a){const g=a.target;if(!g)return;const h=g.value.replace(/\D/g,""),B=this.formatPhoneNumber(h);this.renderer.setProperty(g,"value",B),this.onChange(h)}onBlur(){this.onTouched()}formatPhoneNumber(a){if(!a)return"";let g=a.startsWith("32")?a.substring(2):a;return g.startsWith("4")?`+32 ${g.slice(0,3)} ${g.slice(3,5)} ${g.slice(5,7)} ${g.slice(7,9)}`.trim():`+32 ${g.slice(0,1)} ${g.slice(1,4)} ${g.slice(4,6)} ${g.slice(6,8)}`.trim()}static \u0275fac=function(g){return new(g||p)(e.rXU(e.aKT),e.rXU(e.sFG))};static \u0275dir=e.FsC({type:p,selectors:[["","appPhoneFormat",""]],hostBindings:function(g,h){1&g&&e.bIt("input",function(ce){return h.onInput(ce)})("blur",function(){return h.onBlur()})},standalone:!0,features:[e.Jv_([{provide:F.kq,useExisting:p,multi:!0}])]})}return p})();var jt=M(1807);const St=p=>({"ring-red-500":p}),dr=(p,L)=>({"ring-red-500":p,"cursor-not-allowed":L}),fr=(p,L)=>({"bg-green-100":p,"bg-red-100":L}),mn=(p,L)=>({"bg-green-600 hover:bg-green-700 focus:ring-green-500":p,"bg-red-600 hover:bg-red-700 focus:ring-red-500":L});function Se(p,L){1&p&&(e.qSk(),e.j41(0,"svg",122),e.nrm(1,"path",123),e.k0s())}function Me(p,L){1&p&&(e.qSk(),e.j41(0,"svg",124),e.nrm(1,"path",125),e.k0s())}function Oe(p,L){if(1&p){const a=e.RV6();e.j41(0,"div",111)(1,"div",112)(2,"div",113)(3,"div",114),e.DNE(4,Se,2,0,"svg",115)(5,Me,2,0,"svg",116),e.k0s(),e.j41(6,"h3",117),e.EFF(7),e.k0s(),e.j41(8,"div",118),e.nrm(9,"div",119),e.k0s(),e.j41(10,"div",120)(11,"button",121),e.bIt("click",function(){e.eBV(a);const h=e.XpG();return e.Njj(h.closePopup())}),e.EFF(12," Fermer "),e.k0s()()()()()}if(2&p){const a=e.XpG();e.R7$(3),e.Y8G("ngClass",e.l_i(6,fr,a.submissionStatus.success,!a.submissionStatus.success)),e.R7$(),e.Y8G("ngIf",a.submissionStatus.success),e.R7$(),e.Y8G("ngIf",!a.submissionStatus.success),e.R7$(2),e.SpI(" ",a.submissionStatus.success?"Op\xe9ration r\xe9ussie":"Une erreur est survenue"," "),e.R7$(2),e.Y8G("innerHTML",a.submissionStatus.message,e.npT),e.R7$(2),e.Y8G("ngClass",e.l_i(9,mn,a.submissionStatus.success,!a.submissionStatus.success))}}function Ae(p,L){1&p&&(e.j41(0,"div",126),e.qSk(),e.j41(1,"svg",127),e.nrm(2,"circle",128)(3,"path",129),e.k0s(),e.joV(),e.j41(4,"p",130),e.EFF(5,"V\xe9rification de vos donn\xe9es..."),e.k0s()())}function Je(p,L){1&p&&(e.j41(0,"div"),e.EFF(1," La date de naissance est requise. "),e.k0s())}function Pe(p,L){1&p&&(e.j41(0,"div"),e.EFF(1," L'\xe2ge minimum requis est de 14 ans. "),e.k0s())}function gt(p,L){if(1&p&&(e.j41(0,"div",131),e.DNE(1,Je,2,0,"div",132)(2,Pe,2,0,"div",132),e.k0s()),2&p){let a,g;const h=e.XpG();e.R7$(),e.Y8G("ngIf",null==(a=h.autoForm.get("preneur.date_naissance"))?null:a.hasError("required")),e.R7$(),e.Y8G("ngIf",null==(g=h.autoForm.get("preneur.date_naissance"))?null:g.hasError("minAge"))}}function un(p,L){1&p&&(e.j41(0,"div",131),e.EFF(1," Le format de l'adresse email est invalide. "),e.k0s())}function En(p,L){1&p&&(e.j41(0,"div",133),e.qSk(),e.j41(1,"svg",134),e.nrm(2,"circle",128)(3,"path",129),e.k0s()())}function It(p,L){if(1&p){const a=e.RV6();e.j41(0,"li",137),e.bIt("click",function(){const h=e.eBV(a).$implicit,B=e.XpG(2);return e.Njj(B.selectPostalCode(h,"preneur"))}),e.EFF(1),e.k0s()}if(2&p){const a=L.$implicit;e.R7$(),e.Lme(" ",a.postalCode," - ",a.city," ")}}function gn(p,L){if(1&p&&(e.j41(0,"ul",135),e.DNE(1,It,2,2,"li",136),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.Y8G("ngForOf",a.filteredPreneurPostalCodes)}}function At(p,L){1&p&&(e.j41(0,"option",138),e.EFF(1,"Ville"),e.k0s())}function xn(p,L){if(1&p&&(e.j41(0,"option",139),e.EFF(1),e.k0s()),2&p){const a=L.$implicit;e.Y8G("value",a),e.R7$(),e.SpI(" ",a," ")}}function fn(p,L){1&p&&(e.j41(0,"div",140),e.EFF(1," Attention : ce num\xe9ro de permis est d\xe9j\xe0 enregistr\xe9 dans notre syst\xe8me. "),e.k0s())}function Zt(p,L){1&p&&(e.j41(0,"div"),e.EFF(1," La date doit \xeatre ant\xe9rieure \xe0 aujourd'hui. "),e.k0s())}function hn(p,L){1&p&&(e.j41(0,"div"),e.EFF(1," La date d'obtention du permis doit \xeatre au moins 14 ans apr\xe8s la date de naissance. "),e.k0s())}function Wn(p,L){if(1&p&&(e.j41(0,"div",131),e.DNE(1,Zt,2,0,"div",132)(2,hn,2,0,"div",132),e.k0s()),2&p){let a,g;const h=e.XpG();e.R7$(),e.Y8G("ngIf",null==(a=h.autoForm.get("preneur.permis_date"))?null:a.hasError("dateNotInPast")),e.R7$(),e.Y8G("ngIf",(null==(g=h.autoForm.get("preneur"))?null:g.hasError("datePermisTropTot"))&&(null==(g=h.autoForm.get("preneur.permis_date"))?null:g.touched))}}function et(p,L){1&p&&(e.j41(0,"div"),e.EFF(1," La date de naissance est requise. "),e.k0s())}function tr(p,L){1&p&&(e.j41(0,"div"),e.EFF(1," L'\xe2ge minimum requis est de 14 ans. "),e.k0s())}function ar(p,L){if(1&p&&(e.j41(0,"div",131),e.DNE(1,et,2,0,"div",132)(2,tr,2,0,"div",132),e.k0s()),2&p){let a,g;const h=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(a=h.autoForm.get("conducteur.date_naissance"))?null:a.hasError("required")),e.R7$(),e.Y8G("ngIf",null==(g=h.autoForm.get("conducteur.date_naissance"))?null:g.hasError("minAge"))}}function Ur(p,L){1&p&&(e.j41(0,"div",133),e.qSk(),e.j41(1,"svg",134),e.nrm(2,"circle",128)(3,"path",129),e.k0s()())}function ci(p,L){if(1&p){const a=e.RV6();e.j41(0,"li",137),e.bIt("click",function(){const h=e.eBV(a).$implicit,B=e.XpG(3);return e.Njj(B.selectPostalCode(h,"conducteur"))}),e.EFF(1),e.k0s()}if(2&p){const a=L.$implicit;e.R7$(),e.Lme(" ",a.postalCode," - ",a.city," ")}}function Fr(p,L){if(1&p&&(e.j41(0,"ul",135),e.DNE(1,ci,2,2,"li",136),e.k0s()),2&p){const a=e.XpG(2);e.R7$(),e.Y8G("ngForOf",a.filteredConducteurPostalCodes)}}function en(p,L){1&p&&(e.j41(0,"option",138),e.EFF(1,"Ville"),e.k0s())}function Mt(p,L){if(1&p&&(e.j41(0,"option",139),e.EFF(1),e.k0s()),2&p){const a=L.$implicit;e.Y8G("value",a),e.R7$(),e.SpI(" ",a," ")}}function tn(p,L){1&p&&(e.j41(0,"div",140),e.EFF(1," Attention : ce num\xe9ro de permis est d\xe9j\xe0 enregistr\xe9 dans notre syst\xe8me. "),e.k0s())}function Xt(p,L){1&p&&(e.j41(0,"div"),e.EFF(1," La date doit \xeatre ant\xe9rieure \xe0 aujourd'hui. "),e.k0s())}function jn(p,L){1&p&&(e.j41(0,"div"),e.EFF(1," La date d'obtention du permis doit \xeatre au moins 14 ans apr\xe8s la date de naissance. "),e.k0s())}function Qr(p,L){if(1&p&&(e.j41(0,"div",131),e.DNE(1,Xt,2,0,"div",132)(2,jn,2,0,"div",132),e.k0s()),2&p){let a,g;const h=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(a=h.autoForm.get("conducteur.permis_date"))?null:a.hasError("dateNotInPast")),e.R7$(),e.Y8G("ngIf",(null==(g=h.autoForm.get("conducteur"))?null:g.hasError("datePermisTropTot"))&&(null==(g=h.autoForm.get("conducteur.permis_date"))?null:g.touched))}}function Ln(p,L){if(1&p&&(e.j41(0,"div",141)(1,"div")(2,"label",142),e.EFF(3,"Genre"),e.k0s(),e.j41(4,"select",143)(5,"option"),e.EFF(6,"Madame"),e.k0s(),e.j41(7,"option"),e.EFF(8,"Monsieur"),e.k0s(),e.j41(9,"option"),e.EFF(10,"Autre"),e.k0s()()(),e.j41(11,"div")(12,"label",144),e.EFF(13,"Nom"),e.k0s(),e.nrm(14,"input",145),e.k0s(),e.j41(15,"div")(16,"label",146),e.EFF(17,"Pr\xe9nom"),e.k0s(),e.nrm(18,"input",147),e.k0s(),e.j41(19,"div")(20,"label",148),e.EFF(21,"Date de naissance"),e.k0s(),e.nrm(22,"input",149),e.DNE(23,ar,3,2,"div",30),e.k0s(),e.j41(24,"div",35)(25,"label",150),e.EFF(26,"Rue et num\xe9ro"),e.k0s(),e.nrm(27,"input",151),e.k0s(),e.j41(28,"div")(29,"div",38)(30,"label",152),e.EFF(31,"Code Postal"),e.k0s(),e.nrm(32,"input",153),e.DNE(33,Ur,4,0,"div",41)(34,Fr,2,1,"ul",42),e.k0s()(),e.j41(35,"div")(36,"label",154),e.EFF(37,"Ville"),e.k0s(),e.j41(38,"select",155),e.DNE(39,en,2,0,"option",45)(40,Mt,2,2,"option",46),e.k0s()(),e.j41(41,"div")(42,"label",156),e.EFF(43,"Num\xe9ro de permis de conduire"),e.k0s(),e.nrm(44,"input",157),e.DNE(45,tn,2,0,"div",49),e.k0s(),e.j41(46,"div")(47,"label",158),e.EFF(48,"Date d'obtention du permis"),e.k0s(),e.nrm(49,"input",159),e.DNE(50,Qr,3,2,"div",30),e.k0s()()),2&p){let a,g,h,B,ce,Ie,kt,ve,st,Vt,On,Ft;const Jt=e.XpG();e.R7$(4),e.Y8G("ngClass",e.eq3(19,St,(null==(a=Jt.autoForm.get("conducteur.genre"))?null:a.invalid)&&(null==(a=Jt.autoForm.get("conducteur.genre"))?null:a.touched))),e.R7$(10),e.Y8G("ngClass",e.eq3(21,St,(null==(g=Jt.autoForm.get("conducteur.nom"))?null:g.invalid)&&(null==(g=Jt.autoForm.get("conducteur.nom"))?null:g.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(23,St,(null==(h=Jt.autoForm.get("conducteur.prenom"))?null:h.invalid)&&(null==(h=Jt.autoForm.get("conducteur.prenom"))?null:h.touched))),e.R7$(4),e.Y8G("max",Jt.maxDate)("ngClass",e.eq3(25,St,(null==(B=Jt.autoForm.get("conducteur.date_naissance"))?null:B.invalid)&&(null==(B=Jt.autoForm.get("conducteur.date_naissance"))?null:B.touched))),e.R7$(),e.Y8G("ngIf",(null==(ce=Jt.autoForm.get("conducteur.date_naissance"))?null:ce.invalid)&&((null==(ce=Jt.autoForm.get("conducteur.date_naissance"))?null:ce.touched)||(null==(ce=Jt.autoForm.get("conducteur.date_naissance"))?null:ce.dirty))),e.R7$(4),e.Y8G("ngClass",e.eq3(27,St,(null==(Ie=Jt.autoForm.get("conducteur.adresse"))?null:Ie.invalid)&&(null==(Ie=Jt.autoForm.get("conducteur.adresse"))?null:Ie.touched))),e.R7$(5),e.Y8G("ngClass",e.eq3(29,St,(null==(kt=Jt.autoForm.get("conducteur.code_postal"))?null:kt.invalid)&&(null==(kt=Jt.autoForm.get("conducteur.code_postal"))?null:kt.touched))),e.R7$(),e.Y8G("ngIf",Jt.isLoading),e.R7$(),e.Y8G("ngIf",Jt.filteredConducteurPostalCodes.length>0),e.R7$(4),e.Y8G("disabled",0===Jt.conducteurCities.length)("ngClass",e.eq3(31,St,(null==(ve=Jt.autoForm.get("conducteur.ville"))?null:ve.invalid)&&(null==(ve=Jt.autoForm.get("conducteur.ville"))?null:ve.touched))),e.R7$(),e.Y8G("ngIf",0===Jt.conducteurCities.length),e.R7$(),e.Y8G("ngForOf",Jt.conducteurCities),e.R7$(4),e.Y8G("ngClass",e.eq3(33,St,(null==(st=Jt.autoForm.get("conducteur.permis_numero"))?null:st.invalid)&&(null==(st=Jt.autoForm.get("conducteur.permis_numero"))?null:st.touched))),e.R7$(),e.Y8G("ngIf",null==(Vt=Jt.autoForm.get("conducteur.permis_numero"))?null:Vt.hasError("permisExists")),e.R7$(4),e.Y8G("max",Jt.maxDate)("ngClass",e.eq3(35,St,(null==(On=Jt.autoForm.get("conducteur.permis_date"))?null:On.invalid)&&(null==(On=Jt.autoForm.get("conducteur.permis_date"))?null:On.touched))),e.R7$(),e.Y8G("ngIf",(null==(Ft=Jt.autoForm.get("conducteur.permis_date"))?null:Ft.invalid)&&((null==(Ft=Jt.autoForm.get("conducteur.permis_date"))?null:Ft.touched)||(null==(Ft=Jt.autoForm.get("conducteur.permis_date"))?null:Ft.dirty)))}}function Br(p,L){1&p&&(e.j41(0,"div",160),e.qSk(),e.j41(1,"svg",134),e.nrm(2,"circle",128)(3,"path",129),e.k0s()())}function Fn(p,L){if(1&p){const a=e.RV6();e.j41(0,"li",137),e.bIt("click",function(){const h=e.eBV(a).$implicit,B=e.XpG(2);return e.Njj(B.selectMarque(h))}),e.EFF(1),e.k0s()}if(2&p){const a=L.$implicit;e.R7$(),e.SpI(" ",a.nom," ")}}function nn(p,L){if(1&p&&(e.j41(0,"ul",135),e.DNE(1,Fn,2,1,"li",136),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.Y8G("ngForOf",a.filteredMarques)}}function vn(p,L){1&p&&(e.j41(0,"div",160),e.qSk(),e.j41(1,"svg",134),e.nrm(2,"circle",128)(3,"path",129),e.k0s()())}function jo(p,L){if(1&p){const a=e.RV6();e.j41(0,"li",137),e.bIt("click",function(){const h=e.eBV(a).$implicit,B=e.XpG(2);return e.Njj(B.selectModele(h))}),e.EFF(1),e.k0s()}if(2&p){const a=L.$implicit;e.R7$(),e.SpI(" ",a.nom," ")}}function Rt(p,L){if(1&p&&(e.j41(0,"ul",135),e.DNE(1,jo,2,1,"li",136),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.Y8G("ngForOf",a.filteredModeles)}}function hr(p,L){1&p&&(e.j41(0,"div"),e.EFF(1," La date doit \xeatre ant\xe9rieure \xe0 aujourd'hui. "),e.k0s())}function Lt(p,L){if(1&p&&(e.j41(0,"div",131),e.DNE(1,hr,2,0,"div",132),e.k0s()),2&p){let a;const g=e.XpG();e.R7$(),e.Y8G("ngIf",null==(a=g.autoForm.get("vehicule.dateCirculation"))?null:a.hasError("dateNotInPast"))}}function pr(p,L){1&p&&(e.j41(0,"div",161)(1,"p"),e.EFF(2," Bonne nouvelle ! Cet email est d\xe9j\xe0 connu chez nous. "),e.j41(3,"a",162),e.EFF(4,"Connectez-vous"),e.k0s(),e.EFF(5," pour r\xe9cup\xe9rer vos donn\xe9es et acc\xe9l\xe9rer votre demande. "),e.k0s()())}let Ir=(()=>{class p{dbConnectService;fb;router;platformId;ageValidator(a){return g=>{if(!g.value)return null;const h=new Date(g.value),B=new Date;let ce=B.getFullYear()-h.getFullYear();const Ie=B.getMonth()-h.getMonth();return(Ie<0||0===Ie&&B.getDate()<h.getDate())&&ce--,ce>=a?null:{minAge:{requiredAge:a,actualAge:ce}}}}dateInPastValidator(){return a=>{if(!a.value)return null;const g=new Date(a.value),h=new Date;return h.setHours(0,0,0,0),g<h?null:{dateNotInPast:!0}}}datePermisApresNaissanceValidator(){return a=>{const g=a.get("date_naissance"),h=a.get("permis_date");if(!(g&&h&&g.value&&h.value))return null;const B=new Date(g.value);return new Date(h.value)>=new Date(B.getFullYear()+14,B.getMonth(),B.getDate())?null:{datePermisTropTot:!0}}}permisExistsValidator(){return a=>a.value?this.dbConnectService.checkPermisExists(a.value).pipe((0,fe.T)(g=>{if(g){const h=this.autoForm.get("preneur")?.value;if((0,U.UE)(this.platformId)&&h&&h.email&&h.telephone){const B={email:h.email,telephone:h.telephone};localStorage.setItem("Ifoundyou",JSON.stringify(B)),console.log("Permis existant. Informations de contact sauvegard\xe9es dans Ifoundyou:",B)}return{permisExists:!0}}return null}),(0,te.W)(()=>(0,J.of)(null))):(0,J.of)(null)}emailExistsValidator(){return a=>a.value?this.dbConnectService.checkEmailExists(a.value).pipe((0,ge.M)(g=>this.handleEmailExists(g,a)),(0,fe.T)(g=>null),(0,te.W)(()=>(0,J.of)(null))):(0,J.of)(null)}preneurPostalCode="";handleEmailExists(a,g){if(a)g.setErrors({...g.errors,emailExists:!0});else{const h={...g.errors};delete h.emailExists,g.setErrors(Object.keys(h).length>0?h:null)}}preneurCity="";preneurCities=[];filteredPreneurPostalCodes=[];conducteurCities=[];filteredConducteurPostalCodes=[];selectedMarque=null;filteredMarques=[];filteredModeles=[];isConducteurDifferent=!1;isLoading=!1;isMarqueLoading=!1;isModeleLoading=!1;showModeleList=!1;isSubmitting=!1;marque$;modele$;destroy$=new me.B;submissionStatus=null;minDate;maxDate;autoForm;constructor(a,g,h,B){this.dbConnectService=a,this.fb=g,this.router=h,this.platformId=B;const ce=new Date,Ie=new Date(ce);Ie.setDate(Ie.getDate()+1),this.minDate=Ie.toISOString().split("T")[0],this.maxDate=ce.toISOString().split("T")[0]}ngOnInit(){if(this.autoForm=this.fb.group({preneur:this.fb.group({genre:[null,F.k0.required],nom:["",F.k0.required],prenom:["",F.k0.required],date_naissance:["",[F.k0.required,this.ageValidator(14)]],telephone:["",F.k0.required],email:["",[F.k0.required,F.k0.email]],adresse:["",F.k0.required],code_postal:["",[F.k0.required,F.k0.pattern("^[0-9]{4}$")]],ville:["",F.k0.required],permis_numero:["",F.k0.required],permis_date:["",[F.k0.required,this.dateInPastValidator()]]},{validators:this.datePermisApresNaissanceValidator()}),conducteurDifferent:[!1],conducteur:this.fb.group({genre:[null],nom:[""],prenom:[""],date_naissance:["",this.ageValidator(14)],adresse:[""],code_postal:["",F.k0.pattern("^[0-9]{4}$")],ville:[""],permis_numero:[""],permis_date:["",this.dateInPastValidator()]},{validators:this.datePermisApresNaissanceValidator()}),vehicule:this.fb.group({type:["",F.k0.required],marque:["",F.k0.required],modele:["",F.k0.required],puissance:["",F.k0.required],places:["",F.k0.required],dateCirculation:["",[F.k0.required,this.dateInPastValidator()]],valeur:[""]}),garanties:this.fb.group({base:[!1],omnium:[null],conducteur:[!1],assistance:[!1]}),dateEffet:["",F.k0.required]}),(0,U.UE)(this.platformId)){const a=this.autoForm.get("preneur.permis_numero");a&&a.setAsyncValidators(this.permisExistsValidator());const g=this.autoForm.get("preneur.email");g&&g.setAsyncValidators(this.emailExistsValidator()),this.modele$=new me.B,this.marque$=new me.B,this.setupPostalCodeListener("preneur"),this.setupPostalCodeListener("conducteur"),this.marque$.pipe($e(300),He(),(0,ge.M)(()=>this.isMarqueLoading=!0),(0,dt.n)(h=>h.length<1?(this.filteredMarques=[],(0,J.of)([])):this.dbConnectService.searchMarques(h)),(0,ft.Q)(this.destroy$)).subscribe(h=>{this.filteredMarques=h,console.log("[Marque] Marques re\xe7ues:",h),this.isMarqueLoading=!1}),this.modele$.pipe($e(300),He(),(0,ge.M)(()=>this.isModeleLoading=!0),(0,dt.n)(h=>this.selectedMarque?this.dbConnectService.searchModeles(this.selectedMarque.marque_id,""):(0,J.of)([])),(0,ft.Q)(this.destroy$)).subscribe(h=>{this.filteredModeles=h,console.log("[Modele] Mod\xe8les re\xe7us:",h),this.isModeleLoading=!1}),this.autoForm.get("conducteurDifferent")?.valueChanges.pipe((0,ft.Q)(this.destroy$)).subscribe(h=>{this.toggleConducteurValidators(h)})}}onMarqueInput(a){const g=a.target.value.trim();(0,U.UE)(this.platformId)&&(this.marque$.next(g),""===g&&(this.selectedMarque=null,this.autoForm.get("vehicule.modele")?.setValue(""),this.filteredModeles=[]))}ngOnDestroy(){(0,U.UE)(this.platformId)&&(this.destroy$.next(),this.destroy$.complete())}selectPostalCode(a,g){const h=this.autoForm.get(g);h.get("code_postal")?.setValue(a.postalCode,{emitEvent:!1}),this.dbConnectService.getCitiesByPostalCode(a.postalCode).pipe((0,Pt.$)()).subscribe(B=>{"preneur"===g?(this.preneurCities=B,this.filteredPreneurPostalCodes=[]):(this.conducteurCities=B,this.filteredConducteurPostalCodes=[]),h.get("ville")?.setValue(a.city)})}setupPostalCodeListener(a){const g=this.autoForm.get(`${a}.code_postal`),h=this.autoForm.get(`${a}.ville`);!g||!h||g.valueChanges.pipe($e(300),He(),(0,ge.M)(()=>this.isLoading=!0),(0,dt.n)(B=>B&&B.length>=2?this.dbConnectService.getPostalCodes(B):("preneur"===a?this.filteredPreneurPostalCodes=[]:this.filteredConducteurPostalCodes=[],(0,J.of)([]))),(0,ge.M)(()=>{"preneur"===a?this.preneurCities=[]:this.conducteurCities=[],h.setValue("",{emitEvent:!1})}),(0,ft.Q)(this.destroy$)).subscribe(B=>{this.isLoading=!1,"preneur"===a?this.filteredPreneurPostalCodes=B:this.filteredConducteurPostalCodes=B})}selectMarque(a){this.autoForm.get("vehicule.marque")?.setValue(a.nom),this.selectedMarque=a,this.filteredMarques=[],this.autoForm.get("vehicule.modele")?.setValue(""),this.modele$.next(a.nom)}toggleModeleList(){this.selectedMarque&&(this.showModeleList=!this.showModeleList)}onModeleInput(a){}selectModele(a){this.autoForm.get("vehicule.modele")?.setValue(a.nom),this.filteredModeles=[],this.showModeleList=!1}scrollToSection(a){if((0,U.UE)(this.platformId)){const g=document.getElementById(a);g&&g.scrollIntoView({behavior:"smooth",block:"start"})}}onSubmit(){if((0,U.UE)(this.platformId))if(this.autoForm.valid){this.isSubmitting=!0,this.submissionStatus=null;const a=this.autoForm.get("preneur"),g=a.get("email");g?.hasError("emailExists")?this.dbConnectService.getPersonByEmail(g.value).subscribe(h=>{const B=a.get("permis_numero"),ce=a.get("date_naissance");!h||h.permis_numero===B?.value&&h.date_naissance===ce?.value?this.proceedToSubmit():(this.isSubmitting=!1,this.submissionStatus={success:!1,message:"Les informations saisies (num\xe9ro de permis ou date de naissance) ne correspondent pas \xe0 celles enregistr\xe9es pour cet email. Veuillez v\xe9rifier vos donn\xe9es."})}):this.proceedToSubmit()}else{this.markAllAsTouched(this.autoForm);const a=this.getInvalidFields(this.autoForm);let g="Veuillez remplir tous les champs obligatoires avant de soumettre.";a.length>0&&(g+='<br><br><strong>Champs manquants ou invalides :</strong><ul class="list-disc list-inside mt-2">',a.forEach(h=>{g+=`<li>${h}</li>`}),g+="</ul>"),this.submissionStatus={success:!1,message:g}}}proceedToSubmit(){this.dbConnectService.createFullDevis(this.autoForm.value).subscribe({next:a=>{this.isSubmitting=!1,console.log("Devis enregistr\xe9 avec succ\xe8s",a);const g=this.autoForm.get("preneur")?.value;if(g&&g.email&&g.telephone){const h={email:g.email,telephone:g.telephone};localStorage.setItem("Ifoundyou",JSON.stringify(h)),console.log("Informations de contact sauvegard\xe9es dans Ifoundyou:",h)}localStorage.removeItem("autoFormData"),this.submissionStatus={success:!0,message:"Votre demande de devis a bien \xe9t\xe9 enregistr\xe9e !"}},error:a=>{this.isSubmitting=!1,console.error("Erreur lors de l'enregistrement du devis",a),this.submissionStatus={success:!1,message:"Une erreur est survenue lors de l'enregistrement de votre devis."}}})}closePopup(){this.submissionStatus?.success&&this.autoForm.reset(),this.submissionStatus=null}getInvalidFields(a,g=""){const h=[],B={"preneur.genre":"Genre (Preneur)","preneur.nom":"Nom (Preneur)","preneur.prenom":"Pr\xe9nom (Preneur)","preneur.date_naissance":"Date de naissance (Preneur)","preneur.telephone":"Num\xe9ro de t\xe9l\xe9phone (Preneur)","preneur.email":"Email (Preneur)","preneur.adresse":"Rue et num\xe9ro (Preneur)","preneur.code_postal":"Code Postal (Preneur)","preneur.ville":"Ville (Preneur)","preneur.permis_numero":"Num\xe9ro de permis (Preneur)","preneur.permis_date":"Date d'obtention du permis (Preneur)","conducteur.genre":"Genre (Conducteur)","conducteur.nom":"Nom (Conducteur)","conducteur.prenom":"Pr\xe9nom (Conducteur)","conducteur.date_naissance":"Date de naissance (Conducteur)","conducteur.adresse":"Rue et num\xe9ro (Conducteur)","conducteur.code_postal":"Code Postal (Conducteur)","conducteur.ville":"Ville (Conducteur)","conducteur.permis_numero":"Num\xe9ro de permis (Conducteur)","conducteur.permis_date":"Date d'obtention du permis (Conducteur)","vehicule.type":"Type de v\xe9hicule","vehicule.marque":"Marque","vehicule.modele":"Mod\xe8le","vehicule.puissance":"Puissance (kW)","vehicule.places":"Nombre de places","vehicule.dateCirculation":"Date de 1\xe8re mise en circulation","garanties.omnium":"Choix Omnium",dateEffet:"Date d'effet souhait\xe9e"};return Object.keys(a.controls).forEach(ce=>{const Ie=a.get(ce),kt=g?`${g}.${ce}`:ce;if(Ie instanceof F.gE){if("conducteur"===ce&&!a.get("conducteurDifferent")?.value)return;h.push(...this.getInvalidFields(Ie,kt))}else if(Ie&&Ie.invalid){const ve=B[kt]||ce;h.includes(ve)||h.push(ve)}}),h}toggleConducteurValidators(a){const g=this.autoForm.get("conducteur");a?(g.get("genre")?.setValidators(F.k0.required),g.get("nom")?.setValidators(F.k0.required),g.get("prenom")?.setValidators(F.k0.required),g.get("date_naissance")?.setValidators([F.k0.required,this.ageValidator(14)]),g.get("adresse")?.setValidators(F.k0.required),g.get("code_postal")?.setValidators([F.k0.required,F.k0.pattern("^[0-9]{4}$")]),g.get("ville")?.setValidators(F.k0.required),g.get("permis_numero")?.setValidators([F.k0.required]),g.get("permis_numero")?.setAsyncValidators(this.permisExistsValidator()),g.setValidators(this.datePermisApresNaissanceValidator()),g.get("permis_date")?.setValidators([F.k0.required,this.dateInPastValidator()])):(g.reset(),Object.keys(g.controls).forEach(h=>{g.get(h)?.clearValidators(),g.get(h)?.clearAsyncValidators(),g.clearValidators()})),Object.keys(g.controls).forEach(h=>{g.get(h)?.updateValueAndValidity()})}markAllAsTouched(a){Object.values(a.controls).forEach(g=>{g.markAsTouched(),g instanceof F.gE&&this.markAllAsTouched(g)})}static \u0275fac=function(g){return new(g||p)(e.rXU(jt.y),e.rXU(F.ok),e.rXU(Z.Ix),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:p,selectors:[["app-form-auto"]],standalone:!0,features:[e.aNF],decls:232,vars:79,consts:[["id","hero",1,"relative","isolate","bg-black","px-6","pt-14","lg:px-8"],[1,"mx-auto","max-w-7xl","py-8","sm:py-12","lg:py-16"],[1,"grid","grid-cols-1","items-center","gap-x-8","gap-y-16","lg:grid-cols-2"],[1,"text-center","lg:text-left"],[1,"text-4xl","font-bold","tracking-tight","text-white","sm:text-6xl"],[1,"mt-6","text-lg","leading-8","text-gray-300"],[1,"mt-10","flex","items-center","justify-center","gap-x-6","lg:justify-start"],[1,"rounded-md","bg-white","px-3.5","py-2.5","text-sm","font-semibold","text-gray-900","shadow-sm","hover:bg-gray-100","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-white",3,"click"],["routerLink","/contact",1,"text-sm","font-semibold","leading-6","text-white"],["aria-hidden","true"],[1,"flex","justify-center","lg:justify-end"],["src","https://fqopliwvpuiprdegxytz.supabase.co/storage/v1/object/sign/img_website/voiture.webp?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV81MmJmNDFiNC0yNGQ0LTQ3ZTktYmEzNi04YWZmY2NjMzEzNzIiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJpbWdfd2Vic2l0ZS92b2l0dXJlLndlYnAiLCJpYXQiOjE3NjMwMjQ4MjIsImV4cCI6MjA3ODM4NDgyMn0.FImtkSpgJA8sH1jNbWWavhvpy0AvdxxDHeQtg9G40Cg","alt","Voiture rouge pour l'assurance auto",1,"w-full","max-w-xs","rounded-xl","shadow-xl","ring-1","ring-gray-400/10","lg:max-w-md"],["id","content",1,"container","mx-auto","p-4","py-16","sm:py-24"],[1,"grid","grid-cols-1","lg:grid-cols-2","lg:gap-12"],[1,"text-gray-700","prose","lg:prose-lg","max-w-none","prose-h2:mb-4","prose-p:mt-4","prose-ul:mt-4"],[1,"text-2xl","font-bold"],["class","fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center","id","submission-popup",4,"ngIf"],["class","fixed inset-0 bg-gray-800 bg-opacity-75 overflow-y-auto h-full w-full z-50 flex flex-col items-center justify-center",4,"ngIf"],["id","form",1,"space-y-12","bg-white","p-8","rounded-lg","shadow-md","mt-8","lg:mt-0",3,"ngSubmit","formGroup"],["formGroupName","preneur",1,"border-t","pt-6"],[1,"text-xl","font-semibold","px-2","text-gray-700","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],["for","preneur-genre",1,"block","text-sm","font-medium","text-gray-700"],["id","preneur-genre","formControlName","genre",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","preneur-nom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-nom","formControlName","nom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","preneur-prenom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-prenom","formControlName","prenom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","preneur-dob",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","preneur-dob","formControlName","date_naissance",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"max","ngClass"],["class","text-red-600 text-sm mt-1",4,"ngIf"],["for","preneur-tel",1,"block","text-sm","font-medium","text-gray-700"],["type","tel","id","preneur-tel","formControlName","telephone","appPhoneFormat","","placeholder","+32 4XX XX XX XX","maxlength","18",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","preneur-email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","preneur-email","formControlName","email",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],[1,"lg:col-span-2"],["for","preneur-adresse",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-adresse","formControlName","adresse",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],[1,"relative"],["for","preneur-cp",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-cp","formControlName","code_postal","autocomplete","off","maxlength","4",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","pl-3","pr-10","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["class","absolute inset-y-0 right-0 flex items-center pr-3",4,"ngIf"],["class","absolute z-10 w-full bg-white border border-gray-300 rounded-md mt-1 max-h-40 overflow-y-auto",4,"ngIf"],["for","preneur-ville",1,"block","text-sm","font-medium","text-gray-700"],["id","preneur-ville","formControlName","ville",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm","disabled:bg-gray-100",3,"disabled","ngClass"],["value","",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["for","preneur-permis",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-permis","formControlName","permis_numero",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["class","text-orange-800 bg-orange-100 p-2 rounded-md text-sm mt-2",4,"ngIf"],["for","preneur-permis-date",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","preneur-permis-date","formControlName","permis_date",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"max","ngClass"],[1,"border-t","pt-6"],[1,"flex","items-center","mb-4"],["id","conducteur-diff","formControlName","conducteurDifferent","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","conducteur-diff",1,"ml-2","block","text-sm","text-gray-900"],["formGroupName","conducteur","class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",4,"ngIf"],["formGroupName","vehicule",1,"border-t","pt-6"],["for","vehicule-type",1,"block","text-sm","font-medium","text-gray-700"],["id","vehicule-type","formControlName","type",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["value","","disabled",""],["value","Voiture"],["value","Camionnette"],["value","Camion"],["value","Bus"],["value","Mini Bus"],["value","Voiture sans permis"],["value","Moto"],["value","Cyclomoteur"],["value","Trottinette"],["for","vehicule-marque",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","vehicule-marque","formControlName","marque","autocomplete","off","placeholder","Ex: Volkswagen",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"input","ngClass"],["class","absolute inset-y-0 right-0 flex items-center pr-3 top-6",4,"ngIf"],["for","vehicule-modele",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","vehicule-modele","formControlName","modele","readonly","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm","cursor-pointer",3,"click","placeholder","ngClass"],["for","vehicule-puissance",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","vehicule-puissance","formControlName","puissance",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","vehicule-places",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","vehicule-places","formControlName","places",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","vehicule-circu-date",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","vehicule-circu-date","formControlName","dateCirculation",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"max","ngClass"],["for","vehicule-valeur",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","vehicule-valeur","formControlName","valeur","placeholder","\u20ac",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["formGroupName","garanties",1,"border-t","pt-6"],[1,"space-y-4"],[1,"flex","items-start"],[1,"flex","h-5","items-center"],["id","garantie-base","formControlName","base","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],[1,"ml-3","text-sm"],["for","garantie-base",1,"font-medium","text-gray-700"],[1,"text-base","font-medium","text-gray-900"],[1,"mt-2"],[1,"space-y-2","sm:flex","sm:items-center","sm:space-y-0","sm:space-x-10"],[1,"flex","items-center"],["id","omnium-non","formControlName","omnium","value","non","type","radio",1,"h-4","w-4","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","omnium-non",1,"ml-3","block","text-sm","font-medium","text-gray-700"],["id","omnium-partiel","formControlName","omnium","value","partiel","type","radio",1,"h-4","w-4","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","omnium-partiel",1,"ml-3","block","text-sm","font-medium","text-gray-700"],["id","omnium-total","formControlName","omnium","value","total","type","radio",1,"h-4","w-4","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","omnium-total",1,"ml-3","block","text-sm","font-medium","text-gray-700"],["id","garantie-conducteur","formControlName","conducteur","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","garantie-conducteur",1,"font-medium","text-gray-700"],["id","garantie-assistance","formControlName","assistance","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","garantie-assistance",1,"font-medium","text-gray-700"],[1,"pt-4","border-t"],["for","date-effet",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","date-effet","formControlName","dateEffet",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"min","ngClass"],["class","text-green-800 bg-green-100 p-3 rounded-md text-sm mt-4 text-center",4,"ngIf"],[1,"pt-6"],[1,"flex","justify-end"],["type","submit",1,"inline-flex","justify-center","rounded-md","border","border-transparent","bg-indigo-600","py-2","px-4","text-sm","font-medium","text-white","shadow-sm","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2"],["id","submission-popup",1,"fixed","inset-0","bg-gray-600","bg-opacity-50","overflow-y-auto","h-full","w-full","z-50","flex","items-center","justify-center"],[1,"relative","mx-auto","p-5","border","w-full","max-w-md","shadow-lg","rounded-md","bg-white"],[1,"mt-3","text-center"],[1,"mx-auto","flex","items-center","justify-center","h-12","w-12","rounded-full",3,"ngClass"],["class","h-6 w-6 text-green-600","fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["class","h-6 w-6 text-red-600","fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],[1,"text-lg","leading-6","font-medium","text-gray-900","mt-2"],[1,"mt-2","px-7","py-3"],[1,"text-sm","text-gray-500","text-left",3,"innerHTML"],[1,"items-center","px-4","py-3"],["id","close-popup-btn",1,"px-4","py-2","rounded-md","text-white","text-base","font-medium","shadow-sm","w-full",3,"click","ngClass"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"h-6","w-6","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"h-6","w-6","text-red-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"fixed","inset-0","bg-gray-800","bg-opacity-75","overflow-y-auto","h-full","w-full","z-50","flex","flex-col","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-10","w-10","text-white","mb-4"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"text-white","text-lg","font-semibold"],[1,"text-red-600","text-sm","mt-1"],[4,"ngIf"],[1,"absolute","inset-y-0","right-0","flex","items-center","pr-3"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5","text-gray-400"],[1,"absolute","z-10","w-full","bg-white","border","border-gray-300","rounded-md","mt-1","max-h-40","overflow-y-auto"],["class","px-3 py-2 cursor-pointer hover:bg-gray-100",3,"click",4,"ngFor","ngForOf"],[1,"px-3","py-2","cursor-pointer","hover:bg-gray-100",3,"click"],["value",""],[3,"value"],[1,"text-orange-800","bg-orange-100","p-2","rounded-md","text-sm","mt-2"],["formGroupName","conducteur",1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],["for","conducteur-genre",1,"block","text-sm","font-medium","text-gray-700"],["id","conducteur-genre","formControlName","genre",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","conducteur-nom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","conducteur-nom","formControlName","nom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","conducteur-prenom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","conducteur-prenom","formControlName","prenom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","conducteur-dob",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","conducteur-dob","formControlName","date_naissance",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"max","ngClass"],["for","conducteur-adresse",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","conducteur-adresse","formControlName","adresse",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","conducteur-cp",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","conducteur-cp","formControlName","code_postal","autocomplete","off","maxlength","4",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","pl-3","pr-10","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","conducteur-ville",1,"block","text-sm","font-medium","text-gray-700"],["id","conducteur-ville","formControlName","ville",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm","disabled:bg-gray-100",3,"disabled","ngClass"],["for","conducteur-permis",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","conducteur-permis","formControlName","permis_numero",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","conducteur-permis-date",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","conducteur-permis-date","formControlName","permis_date",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"max","ngClass"],[1,"absolute","inset-y-0","right-0","flex","items-center","pr-3","top-6"],[1,"text-green-800","bg-green-100","p-3","rounded-md","text-sm","mt-4","text-center"],["routerLink","/account",1,"font-bold","underline","hover:text-green-700"]],template:function(g,h){if(1&g&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e.EFF(5,"Assurance Auto"),e.k0s(),e.j41(6,"p",5),e.EFF(7,"Souscrire une assurance auto, c\u2019est rouler l\u2019esprit tranquille\u202f! Elle vous prot\xe8ge en cas d\u2019accident et prend en charge les r\xe9parations de votre v\xe9hicule. Sans elle, les impr\xe9vus peuvent co\xfbter tr\xe8s cher et entra\xeener des sanctions. Avec la bonne couverture, vous \xeates serein sur la route et en s\xe9curit\xe9, tout en prot\xe9geant les autres."),e.k0s(),e.j41(8,"div",6)(9,"button",7),e.bIt("click",function(){return h.scrollToSection("content")}),e.EFF(10,"Souscrire"),e.k0s(),e.j41(11,"a",8),e.EFF(12,"Contact "),e.j41(13,"span",9),e.EFF(14,"\u2192"),e.k0s()()()(),e.j41(15,"div",10),e.nrm(16,"img",11),e.k0s()()()(),e.j41(17,"div",12)(18,"div",13)(19,"div",14)(20,"h2",15),e.EFF(21,"Assurances Auto"),e.k0s(),e.j41(22,"p"),e.EFF(23,"La loi stipule que tout propri\xe9taire d\u2019un v\xe9hicule \xe0 moteur doit contracter une assurance auto. Oui, mais laquelle ? Il existe en effet plusieurs niveaux de protection. Tout d\xe9pend donc de votre budget et de vos besoins concernant la qualit\xe9 de la couverture."),e.k0s(),e.j41(24,"p"),e.EFF(25,"Voici les formules les plus r\xe9pandues :"),e.k0s(),e.j41(26,"ul")(27,"li")(28,"strong"),e.EFF(29,"La RC obligatoire (aussi appel\xe9e assurance responsabilit\xe9 civile auto) :"),e.k0s(),e.EFF(30," c\u2019est le minimum l\xe9gal autoris\xe9, puisqu\u2019elle couvre uniquement les dommages (mat\xe9riels et physiques) caus\xe9s \xe0 autrui, lorsque le conducteur est consid\xe9r\xe9 comme responsable."),e.k0s(),e.j41(31,"li")(32,"strong"),e.EFF(33,"La mini omnium propose une couverture au tiers am\xe9lior\xe9e."),e.k0s(),e.EFF(34," Elle est modulable et les garanties propos\xe9es varient d\u2019un assureur \xe0 l\u2019autre (bris de glace, incendie, vol)."),e.k0s(),e.j41(35,"li")(36,"strong"),e.EFF(37,"La full omnium offre un haut niveau de garantie,"),e.k0s(),e.EFF(38," non seulement pour le conducteur mais aussi pour le v\xe9hicule. Les indemnisations en cas de sinistre sont \xe9galement plus rapides et interviennent sans attendre que le litige soit r\xe9gl\xe9 avec l\u2019autre assureur."),e.k0s(),e.j41(39,"li")(40,"strong"),e.EFF(41,"Omnium 24+ :"),e.k0s(),e.EFF(42," il s\u2019agit de la formule omnium adapt\xe9e aux voitures d\u2019occasion."),e.k0s(),e.j41(43,"li")(44,"strong"),e.EFF(45,"Protection juridique :"),e.k0s(),e.EFF(46," elle est toujours utile pour \xe9viter tout conflit d\u2019int\xe9r\xeat avec un tiers, un expert, une compagnie adverse\u2026"),e.k0s()(),e.j41(47,"p"),e.EFF(48,"De plus, un certain nombre d\u2019options permettent de moduler encore chaque formule : niveau de franchise, dommages couverts, \xe2ge du conducteur, assistance et services annexes, protection conducteur, etc."),e.k0s(),e.j41(49,"p"),e.EFF(50,"Bref, vous l\u2019aurez compris, choisir l\u2019assurance auto qui vous convient n\u2019est pas si simple ! Mieux vaut consulter un courtier ind\xe9pendant qui vous proposera une protection personnalis\xe9e."),e.k0s()(),e.DNE(51,Oe,13,12,"div",16)(52,Ae,6,0,"div",17),e.j41(53,"form",18),e.bIt("ngSubmit",function(){return h.onSubmit()}),e.j41(54,"fieldset",19)(55,"legend",20),e.EFF(56,"1. Preneur d'assurance"),e.k0s(),e.j41(57,"div",21)(58,"div")(59,"label",22),e.EFF(60,"Genre"),e.k0s(),e.j41(61,"select",23)(62,"option"),e.EFF(63,"Madame"),e.k0s(),e.j41(64,"option"),e.EFF(65,"Monsieur"),e.k0s(),e.j41(66,"option"),e.EFF(67,"Autre"),e.k0s()()(),e.j41(68,"div")(69,"label",24),e.EFF(70,"Nom"),e.k0s(),e.nrm(71,"input",25),e.k0s(),e.j41(72,"div")(73,"label",26),e.EFF(74,"Pr\xe9nom"),e.k0s(),e.nrm(75,"input",27),e.k0s(),e.j41(76,"div")(77,"label",28),e.EFF(78,"Date de naissance"),e.k0s(),e.nrm(79,"input",29),e.DNE(80,gt,3,2,"div",30),e.k0s(),e.j41(81,"div")(82,"label",31),e.EFF(83,"Num\xe9ro de t\xe9l\xe9phone"),e.k0s(),e.nrm(84,"input",32),e.k0s(),e.j41(85,"div")(86,"label",33),e.EFF(87,"Email"),e.k0s(),e.nrm(88,"input",34),e.DNE(89,un,2,0,"div",30),e.k0s(),e.j41(90,"div",35)(91,"label",36),e.EFF(92,"Rue et num\xe9ro"),e.k0s(),e.nrm(93,"input",37),e.k0s(),e.j41(94,"div")(95,"div",38)(96,"label",39),e.EFF(97,"Code Postal"),e.k0s(),e.nrm(98,"input",40),e.DNE(99,En,4,0,"div",41)(100,gn,2,1,"ul",42),e.k0s()(),e.j41(101,"div")(102,"label",43),e.EFF(103,"Ville"),e.k0s(),e.j41(104,"select",44),e.DNE(105,At,2,0,"option",45)(106,xn,2,2,"option",46),e.k0s()(),e.j41(107,"div")(108,"label",47),e.EFF(109,"Num\xe9ro de permis de conduire"),e.k0s(),e.nrm(110,"input",48),e.DNE(111,fn,2,0,"div",49),e.k0s(),e.j41(112,"div")(113,"label",50),e.EFF(114,"Date d'obtention du permis"),e.k0s(),e.nrm(115,"input",51),e.DNE(116,Wn,3,2,"div",30),e.k0s()()(),e.j41(117,"fieldset",52)(118,"legend",20),e.EFF(119,"2. Conducteur principal (si diff\xe9rent)"),e.k0s(),e.j41(120,"div",53),e.nrm(121,"input",54),e.j41(122,"label",55),e.EFF(123,"Le conducteur principal est diff\xe9rent du preneur d'assurance."),e.k0s()(),e.DNE(124,Ln,51,37,"div",56),e.k0s(),e.j41(125,"fieldset",57)(126,"legend",20),e.EFF(127,"3. Informations sur le v\xe9hicule"),e.k0s(),e.j41(128,"div",21)(129,"div")(130,"label",58),e.EFF(131,"Type de v\xe9hicule"),e.k0s(),e.j41(132,"select",59)(133,"option",60),e.EFF(134,"S\xe9lectionnez un type"),e.k0s(),e.j41(135,"option",61),e.EFF(136,"Voiture"),e.k0s(),e.j41(137,"option",62),e.EFF(138,"Camionnette"),e.k0s(),e.j41(139,"option",63),e.EFF(140,"Camion"),e.k0s(),e.j41(141,"option",64),e.EFF(142,"Bus"),e.k0s(),e.j41(143,"option",65),e.EFF(144,"Mini Bus"),e.k0s(),e.j41(145,"option",66),e.EFF(146,"Voiture sans permis"),e.k0s(),e.j41(147,"option",67),e.EFF(148,"Moto"),e.k0s(),e.j41(149,"option",68),e.EFF(150,"Cyclomoteur"),e.k0s(),e.j41(151,"option",69),e.EFF(152,"Trottinette"),e.k0s()()(),e.j41(153,"div")(154,"div",38)(155,"label",70),e.EFF(156,"Marque"),e.k0s(),e.j41(157,"input",71),e.bIt("input",function(ce){return h.onMarqueInput(ce)}),e.k0s(),e.DNE(158,Br,4,0,"div",72)(159,nn,2,1,"ul",42),e.k0s()(),e.j41(160,"div")(161,"div",38)(162,"label",73),e.EFF(163,"Mod\xe8le"),e.k0s(),e.j41(164,"input",74),e.bIt("click",function(){return h.toggleModeleList()}),e.k0s(),e.DNE(165,vn,4,0,"div",72)(166,Rt,2,1,"ul",42),e.k0s()(),e.j41(167,"div")(168,"label",75),e.EFF(169,"Puissance (kW)"),e.k0s(),e.nrm(170,"input",76),e.k0s(),e.j41(171,"div")(172,"label",77),e.EFF(173,"Nombre de places (conducteur inclus)"),e.k0s(),e.nrm(174,"input",78),e.k0s(),e.j41(175,"div")(176,"label",79),e.EFF(177,"Date de 1\xe8re mise en circulation"),e.k0s(),e.nrm(178,"input",80),e.DNE(179,Lt,2,1,"div",30),e.k0s(),e.j41(180,"div")(181,"label",81),e.EFF(182,"Valeur catalogue/facture (si Omnium)"),e.k0s(),e.nrm(183,"input",82),e.k0s()()(),e.j41(184,"fieldset",83)(185,"legend",20),e.EFF(186,"4. Garanties souhait\xe9es"),e.k0s(),e.j41(187,"div",84)(188,"div",85)(189,"div",86),e.nrm(190,"input",87),e.k0s(),e.j41(191,"div",88)(192,"label",89),e.EFF(193,"Garantie de base (Responsabilit\xe9 Civile + Protection Juridique)"),e.k0s()()(),e.j41(194,"div")(195,"label",90),e.EFF(196,"Omnium"),e.k0s(),e.j41(197,"fieldset",91)(198,"div",92)(199,"div",93),e.nrm(200,"input",94),e.j41(201,"label",95),e.EFF(202,"Non souhait\xe9e"),e.k0s()(),e.j41(203,"div",93),e.nrm(204,"input",96),e.j41(205,"label",97),e.EFF(206,"Omnium Partielle"),e.k0s()(),e.j41(207,"div",93),e.nrm(208,"input",98),e.j41(209,"label",99),e.EFF(210,"Omnium Totale"),e.k0s()()()()(),e.j41(211,"div",85)(212,"div",86),e.nrm(213,"input",100),e.k0s(),e.j41(214,"div",88)(215,"label",101),e.EFF(216,"Assurance Conducteur"),e.k0s()()(),e.j41(217,"div",85)(218,"div",86),e.nrm(219,"input",102),e.k0s(),e.j41(220,"div",88)(221,"label",103),e.EFF(222,"Assistance"),e.k0s()()()()(),e.j41(223,"div",104)(224,"label",105),e.EFF(225,"Date d'effet souhait\xe9e"),e.k0s(),e.nrm(226,"input",106),e.k0s(),e.DNE(227,pr,6,0,"div",107),e.j41(228,"div",108)(229,"div",109)(230,"button",110),e.EFF(231," Recevoir mon offre "),e.k0s()()()()()()),2&g){let B,ce,Ie,kt,ve,st,Vt,On,Ft,Jt,go,Pr,Gs,oa,Hs,Pd,Lu,_a,ya,ba,Kr,bi,qs,Yo,Ei;e.R7$(51),e.Y8G("ngIf",h.submissionStatus),e.R7$(),e.Y8G("ngIf",h.isSubmitting),e.R7$(),e.Y8G("formGroup",h.autoForm),e.R7$(8),e.Y8G("ngClass",e.eq3(42,St,(null==(B=h.autoForm.get("preneur.genre"))?null:B.invalid)&&(null==(B=h.autoForm.get("preneur.genre"))?null:B.touched))),e.R7$(10),e.Y8G("ngClass",e.eq3(44,St,(null==(ce=h.autoForm.get("preneur.nom"))?null:ce.invalid)&&(null==(ce=h.autoForm.get("preneur.nom"))?null:ce.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(46,St,(null==(Ie=h.autoForm.get("preneur.prenom"))?null:Ie.invalid)&&(null==(Ie=h.autoForm.get("preneur.prenom"))?null:Ie.touched))),e.R7$(4),e.Y8G("max",h.maxDate)("ngClass",e.eq3(48,St,(null==(kt=h.autoForm.get("preneur.date_naissance"))?null:kt.invalid)&&(null==(kt=h.autoForm.get("preneur.date_naissance"))?null:kt.touched))),e.R7$(),e.Y8G("ngIf",(null==(ve=h.autoForm.get("preneur.date_naissance"))?null:ve.invalid)&&((null==(ve=h.autoForm.get("preneur.date_naissance"))?null:ve.touched)||(null==(ve=h.autoForm.get("preneur.date_naissance"))?null:ve.dirty))),e.R7$(4),e.Y8G("ngClass",e.eq3(50,St,(null==(st=h.autoForm.get("preneur.telephone"))?null:st.invalid)&&(null==(st=h.autoForm.get("preneur.telephone"))?null:st.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(52,St,(null==(Vt=h.autoForm.get("preneur.email"))?null:Vt.invalid)&&(null==(Vt=h.autoForm.get("preneur.email"))?null:Vt.touched))),e.R7$(),e.Y8G("ngIf",(null==(On=h.autoForm.get("preneur.email"))?null:On.hasError("email"))&&!(null!=(On=h.autoForm.get("preneur.email"))&&On.hasError("required"))),e.R7$(4),e.Y8G("ngClass",e.eq3(54,St,(null==(Ft=h.autoForm.get("preneur.adresse"))?null:Ft.invalid)&&(null==(Ft=h.autoForm.get("preneur.adresse"))?null:Ft.touched))),e.R7$(5),e.Y8G("ngClass",e.eq3(56,St,(null==(Jt=h.autoForm.get("preneur.code_postal"))?null:Jt.invalid)&&(null==(Jt=h.autoForm.get("preneur.code_postal"))?null:Jt.touched))),e.R7$(),e.Y8G("ngIf",h.isLoading),e.R7$(),e.Y8G("ngIf",h.filteredPreneurPostalCodes.length>0),e.R7$(4),e.Y8G("disabled",0===h.preneurCities.length)("ngClass",e.eq3(58,St,(null==(go=h.autoForm.get("preneur.ville"))?null:go.invalid)&&(null==(go=h.autoForm.get("preneur.ville"))?null:go.touched))),e.R7$(),e.Y8G("ngIf",0===h.preneurCities.length),e.R7$(),e.Y8G("ngForOf",h.preneurCities),e.R7$(4),e.Y8G("ngClass",e.eq3(60,St,(null==(Pr=h.autoForm.get("preneur.permis_numero"))?null:Pr.invalid)&&(null==(Pr=h.autoForm.get("preneur.permis_numero"))?null:Pr.touched))),e.R7$(),e.Y8G("ngIf",null==(Gs=h.autoForm.get("preneur.permis_numero"))?null:Gs.hasError("permisExists")),e.R7$(4),e.Y8G("max",h.maxDate)("ngClass",e.eq3(62,St,(null==(oa=h.autoForm.get("preneur.permis_date"))?null:oa.invalid)&&(null==(oa=h.autoForm.get("preneur.permis_date"))?null:oa.touched))),e.R7$(),e.Y8G("ngIf",(null==(Hs=h.autoForm.get("preneur.permis_date"))?null:Hs.invalid)&&((null==(Hs=h.autoForm.get("preneur.permis_date"))?null:Hs.touched)||(null==(Hs=h.autoForm.get("preneur.permis_date"))?null:Hs.dirty))),e.R7$(8),e.Y8G("ngIf",null==(Pd=h.autoForm.get("conducteurDifferent"))?null:Pd.value),e.R7$(8),e.Y8G("ngClass",e.eq3(64,St,(null==(Lu=h.autoForm.get("vehicule.type"))?null:Lu.invalid)&&(null==(Lu=h.autoForm.get("vehicule.type"))?null:Lu.touched))),e.R7$(25),e.Y8G("ngClass",e.eq3(66,St,(null==(_a=h.autoForm.get("vehicule.marque"))?null:_a.invalid)&&(null==(_a=h.autoForm.get("vehicule.marque"))?null:_a.touched))),e.R7$(),e.Y8G("ngIf",h.isMarqueLoading),e.R7$(),e.Y8G("ngIf",h.filteredMarques.length>0),e.R7$(5),e.Y8G("placeholder",h.selectedMarque?h.isModeleLoading?"Chargement...":"Cliquez pour choisir un mod\xe8le":"S\xe9lectionnez une marque")("ngClass",e.l_i(68,dr,(null==(ya=h.autoForm.get("vehicule.modele"))?null:ya.invalid)&&(null==(ya=h.autoForm.get("vehicule.modele"))?null:ya.touched),!h.selectedMarque)),e.R7$(),e.Y8G("ngIf",h.isModeleLoading),e.R7$(),e.Y8G("ngIf",h.showModeleList&&h.filteredModeles.length>0),e.R7$(4),e.Y8G("ngClass",e.eq3(71,St,(null==(ba=h.autoForm.get("vehicule.puissance"))?null:ba.invalid)&&(null==(ba=h.autoForm.get("vehicule.puissance"))?null:ba.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(73,St,(null==(Kr=h.autoForm.get("vehicule.places"))?null:Kr.invalid)&&(null==(Kr=h.autoForm.get("vehicule.places"))?null:Kr.touched))),e.R7$(4),e.Y8G("max",h.maxDate)("ngClass",e.eq3(75,St,(null==(bi=h.autoForm.get("vehicule.dateCirculation"))?null:bi.invalid)&&(null==(bi=h.autoForm.get("vehicule.dateCirculation"))?null:bi.touched))),e.R7$(),e.Y8G("ngIf",(null==(qs=h.autoForm.get("vehicule.dateCirculation"))?null:qs.invalid)&&((null==(qs=h.autoForm.get("vehicule.dateCirculation"))?null:qs.touched)||(null==(qs=h.autoForm.get("vehicule.dateCirculation"))?null:qs.dirty))),e.R7$(47),e.Y8G("min",h.minDate)("ngClass",e.eq3(77,St,(null==(Yo=h.autoForm.get("dateEffet"))?null:Yo.invalid)&&(null==(Yo=h.autoForm.get("dateEffet"))?null:Yo.touched))),e.R7$(),e.Y8G("ngIf",(null==(Ei=h.autoForm.get("preneur.email"))?null:Ei.hasError("emailExists"))&&(null==(Ei=h.autoForm.get("preneur.email"))?null:Ei.touched))}},dependencies:[U.MD,U.YU,U.Sq,U.bT,F.YN,F.qT,F.xH,F.y7,F.me,F.Q0,F.Zm,F.wz,F.Fm,F.BC,F.cb,F.tU,F.X1,F.j4,F.JD,F.$R,Z.Wk,Sn],encapsulation:2})}return p})();const Dn=p=>({"ring-red-500":p}),je=(p,L)=>({"bg-green-100 text-green-800":p,"bg-red-100 text-red-800":L});function he(p,L){if(1&p&&(e.j41(0,"div",97),e.EFF(1),e.k0s()),2&p){const a=e.XpG();e.Y8G("ngClass",e.l_i(2,je,a.submissionStatus.success,!a.submissionStatus.success)),e.R7$(),e.SpI(" ",a.submissionStatus.message," ")}}function se(p,L){1&p&&(e.j41(0,"div",98),e.EFF(1," Bonne nouvelle ! Cet email est d\xe9j\xe0 connu chez nous. "),e.j41(2,"a",99),e.EFF(3,"Connectez-vous"),e.k0s(),e.EFF(4," pour acc\xe9l\xe9rer votre demande. "),e.k0s())}function pe(p,L){1&p&&(e.j41(0,"div",100),e.qSk(),e.j41(1,"svg",101),e.nrm(2,"circle",102)(3,"path",103),e.k0s()())}function qe(p,L){if(1&p){const a=e.RV6();e.j41(0,"li",106),e.bIt("click",function(){const h=e.eBV(a).$implicit,B=e.XpG(2);return e.Njj(B.selectPostalCode(h))}),e.EFF(1),e.k0s()}if(2&p){const a=L.$implicit;e.R7$(),e.Lme(" ",a.postalCode," - ",a.city," ")}}function ct(p,L){if(1&p&&(e.j41(0,"ul",104),e.DNE(1,qe,2,2,"li",105),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.Y8G("ngForOf",a.filteredPostalCodes)}}function Ot(p,L){1&p&&(e.j41(0,"option",107),e.EFF(1,"S\xe9lectionner une ville"),e.k0s())}function Ht(p,L){if(1&p&&(e.j41(0,"option",108),e.EFF(1),e.k0s()),2&p){const a=L.$implicit;e.Y8G("value",a),e.R7$(),e.SpI(" ",a," ")}}function Tn(p,L){1&p&&(e.j41(0,"div"),e.EFF(1," Le nombre de pi\xe8ces doit \xeatre d'au moins 3. "),e.k0s())}function nr(p,L){if(1&p&&(e.j41(0,"div",109),e.DNE(1,Tn,2,0,"div",110),e.k0s()),2&p){let a;const g=e.XpG();e.R7$(),e.Y8G("ngIf",null==(a=g.habitationForm.get("evaluation.nombrePieces"))?null:a.hasError("min"))}}function mr(p,L){if(1&p&&(e.j41(0,"div",111)(1,"div")(2,"label",112),e.EFF(3,"Valeur de l'expertise (\u20ac)"),e.k0s(),e.nrm(4,"input",113),e.k0s(),e.j41(5,"div")(6,"label",114),e.EFF(7,"Mois et ann\xe9e de l'expertise"),e.k0s(),e.nrm(8,"input",115),e.k0s()()),2&p){let a,g;const h=e.XpG();e.R7$(4),e.Y8G("ngClass",e.eq3(2,Dn,(null==(a=h.habitationForm.get("evaluation.valeurExpertise"))?null:a.invalid)&&(null==(a=h.habitationForm.get("evaluation.valeurExpertise"))?null:a.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(4,Dn,(null==(g=h.habitationForm.get("evaluation.dateExpertise"))?null:g.invalid)&&(null==(g=h.habitationForm.get("evaluation.dateExpertise"))?null:g.touched)))}}function or(p,L){if(1&p&&(e.j41(0,"div",116),e.nrm(1,"input",117),e.k0s()),2&p){let a;const g=e.XpG();e.R7$(),e.Y8G("ngClass",e.eq3(1,Dn,(null==(a=g.habitationForm.get("evaluation.valeurLibre"))?null:a.invalid)&&(null==(a=g.habitationForm.get("evaluation.valeurLibre"))?null:a.touched)))}}function ao(p,L){if(1&p&&(e.j41(0,"div",97),e.EFF(1),e.k0s()),2&p){const a=e.XpG();e.Y8G("ngClass",e.l_i(2,je,a.submissionStatus.success,!a.submissionStatus.success)),e.R7$(),e.SpI(" ",a.submissionStatus.message," ")}}let Jn=(()=>{class p{fb;dbConnectService;platformId;habitationForm;minDate;submissionStatus=null;destroy$=new me.B;filteredPostalCodes=[];cities=[];isLoading=!1;constructor(a,g,h){this.fb=a,this.dbConnectService=g,this.platformId=h;const ce=new Date(new Date);ce.setDate(ce.getDate()+1),this.minDate=ce.toISOString().split("T")[0],this.habitationForm=this.fb.group({preneur:this.fb.group({genre:["Madame",F.k0.required],nom:["",F.k0.required],prenom:["",F.k0.required],dateNaissance:["",F.k0.required],telephone:["",F.k0.required],email:["",[F.k0.required,F.k0.email]]}),batiment:this.fb.group({adresse:["",F.k0.required],codePostal:["",F.k0.required],ville:["",F.k0.required],typeMaison:["Maison 2 fa\xe7ades",F.k0.required]}),evaluation:this.fb.group({valeurBatiment:["expertise",F.k0.required],superficie:["",F.k0.required],nombrePieces:["",[F.k0.required,F.k0.min(3)]],loyer:[""],valeurContenu:["courtier",F.k0.required],valeurExpertise:[null],dateExpertise:[null],valeurLibre:[null]}),garanties:this.fb.group({contenu:[!1],vol:[!1],pertesIndirectes:[!1],protectionJuridique:[!1],assistance:[!1]}),dateEffet:[this.minDate,F.k0.required]})}get emailExists(){return!0===this.habitationForm.get("preneur.email")?.emailExists}checkEmailExistence(a){return a.emailExists=!1,a.value?this.dbConnectService.checkEmailExists(a.value).pipe((0,ge.M)(g=>{g&&(a.emailExists=!0)}),(0,fe.T)(()=>null),(0,te.W)(()=>(a.emailExists=!1,(0,J.of)(null)))):(0,J.of)(null)}ngOnInit(){if((0,U.UE)(this.platformId)){this.setupEvaluationValidators(),this.habitationForm.get("batiment.codePostal")?.valueChanges.pipe($e(300),He(),(0,ge.M)(()=>this.isLoading=!0),(0,dt.n)(g=>g&&g.length>=2?this.dbConnectService.getPostalCodes(g):(this.filteredPostalCodes=[],(0,J.of)([]))),(0,ge.M)(()=>{this.filteredPostalCodes.length>0&&(this.cities=[],this.habitationForm.get("batiment.ville")?.setValue(""))}),(0,ft.Q)(this.destroy$)).subscribe(g=>{this.isLoading=!1,this.filteredPostalCodes=g});const a=this.habitationForm.get("preneur.email");a&&a.valueChanges.pipe($e(500),He(),(0,dt.n)(()=>this.checkEmailExistence(a)),(0,ft.Q)(this.destroy$)).subscribe()}}setupEvaluationValidators(){const a=this.habitationForm.get("evaluation"),g=a.get("valeurBatiment"),h=a.get("valeurExpertise"),B=a.get("dateExpertise"),ce=a.get("valeurLibre");g?.valueChanges.pipe((0,ft.Q)(this.destroy$)).subscribe(Ie=>{"expertise"===Ie?(h?.setValidators([F.k0.required,F.k0.min(1)]),B?.setValidators(F.k0.required),ce?.clearValidators(),ce?.setValue(null)):"libre"===Ie?(ce?.setValidators([F.k0.required,F.k0.min(1)]),h?.clearValidators(),B?.clearValidators(),h?.setValue(null),B?.setValue(null)):(h?.clearValidators(),B?.clearValidators(),ce?.clearValidators()),h?.updateValueAndValidity(),B?.updateValueAndValidity(),ce?.updateValueAndValidity()})}ngOnDestroy(){(0,U.UE)(this.platformId)&&(this.destroy$.next(),this.destroy$.complete())}selectPostalCode(a){const g=this.filteredPostalCodes.find(h=>h.postalCode===a.postalCode&&h.city===a.city);g&&(this.habitationForm.get("batiment.codePostal")?.setValue(g.postalCode,{emitEvent:!1}),this.habitationForm.get("batiment.ville")?.setValue(g.city),this.cities=[g.city],this.habitationForm.get("batiment.ville")?.updateValueAndValidity()),this.filteredPostalCodes=[]}onSubmit(){this.habitationForm.valid?this.dbConnectService.createHabitationQuote(this.habitationForm.value).subscribe({next:a=>{console.log("Devis habitation enregistr\xe9 avec succ\xe8s",a),this.submissionStatus={success:!0,message:"Votre demande de devis a bien \xe9t\xe9 enregistr\xe9e !"}},error:a=>{console.error("Erreur lors de l'enregistrement du devis habitation",a),this.submissionStatus={success:!1,message:"Une erreur est survenue lors de l'enregistrement de votre devis."}}}):(console.error("Formulaire invalide"),this.submissionStatus={success:!1,message:"Veuillez remplir tous les champs obligatoires avant de soumettre."})}scrollToSection(a){if((0,U.UE)(this.platformId)){const g=document.getElementById(a);g&&g.scrollIntoView({behavior:"smooth",block:"start"})}}static \u0275fac=function(g){return new(g||p)(e.rXU(F.ok),e.rXU(jt.y),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:p,selectors:[["app-form-habitation"]],standalone:!0,features:[e.Jv_([jt.y]),e.aNF],decls:218,vars:41,consts:[["id","hero",1,"relative","isolate","bg-black","px-6","pt-14","lg:px-8"],[1,"mx-auto","max-w-7xl","py-8","sm:py-12","lg:py-16"],[1,"grid","grid-cols-1","items-center","gap-x-8","gap-y-16","lg:grid-cols-2"],[1,"text-center","lg:text-left"],[1,"text-4xl","font-bold","tracking-tight","text-white","sm:text-6xl"],[1,"mt-6","text-lg","leading-8","text-gray-300"],[1,"mt-10","flex","items-center","justify-center","gap-x-6","lg:justify-start"],[1,"rounded-md","bg-indigo-600","px-3.5","py-2.5","text-sm","font-semibold","text-white","shadow-sm","hover:bg-indigo-700","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-indigo-600",3,"click"],["routerLink","/contact",1,"text-sm","font-semibold","leading-6","text-white"],["aria-hidden","true"],[1,"flex","justify-center","lg:justify-end"],["src","https://fqopliwvpuiprdegxytz.supabase.co/storage/v1/object/sign/img_website/ahabitation.webp?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV81MmJmNDFiNC0yNGQ0LTQ3ZTktYmEzNi04YWZmY2NjMzEzNzIiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJpbWdfd2Vic2l0ZS9haGFiaXRhdGlvbi53ZWJwIiwiaWF0IjoxNzYzMDI1NjMxLCJleHAiOjIwNzgzODU2MzF9.XXro16g7nOi_EJfF2jVBFAaRCfCcf0xoHrcUfIUUo70","alt","Assurance",1,"w-full","max-w-xs","rounded-xl","shadow-xl","ring-1","ring-gray-400/10","lg:max-w-md"],["id","content",1,"container","mx-auto","p-4","py-16","sm:py-24"],[1,"grid","grid-cols-1","lg:grid-cols-2","lg:gap-12"],[1,"text-gray-700","prose","lg:prose-lg","max-w-none","prose-h2:mb-4","prose-p:mt-4","prose-ul:mt-4"],[1,"text-2xl","font-bold"],[1,"text-2xl","font-bold","mt-8"],["id","form",1,"space-y-12","bg-white","p-8","rounded-lg","shadow-md","mt-8","lg:mt-0",3,"ngSubmit","formGroup"],["class","p-4 mb-4 text-sm rounded-lg","role","alert",3,"ngClass",4,"ngIf"],["formGroupName","preneur",1,"border-t","pt-6"],[1,"text-xl","font-semibold","px-2","text-gray-700","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["for","preneur-genre",1,"block","text-sm","font-medium","text-gray-700"],["id","preneur-genre","formControlName","genre","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","preneur-nom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-nom","formControlName","nom","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","preneur-prenom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-prenom","formControlName","prenom","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","preneur-dob",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","preneur-dob","formControlName","dateNaissance","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","preneur-tel",1,"block","text-sm","font-medium","text-gray-700"],["type","tel","id","preneur-tel","formControlName","telephone","required","","appPhoneFormat","","placeholder","+32 4XX XX XX XX","maxlength","18",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","preneur-email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","preneur-email","formControlName","email","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["class","text-green-800 bg-green-100 p-2 rounded-md text-sm mt-2",4,"ngIf"],["formGroupName","batiment",1,"border-t","pt-6"],[1,"md:col-span-2"],["for","adresse",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","adresse","formControlName","adresse","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],[1,"relative"],["for","code-postal",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","code-postal","formControlName","codePostal","required","","autocomplete","off",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["class","absolute inset-y-0 right-0 flex items-center pr-3 top-6",4,"ngIf"],["class","absolute z-10 w-full bg-white border border-gray-300 rounded-md mt-1 max-h-40 overflow-y-auto",4,"ngIf"],["for","ville",1,"block","text-sm","font-medium","text-gray-700"],["id","ville","formControlName","ville","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm","disabled:bg-gray-100",3,"disabled"],["value","",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["for","type-maison",1,"block","text-sm","font-medium","text-gray-700"],["id","type-maison","formControlName","typeMaison","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["formGroupName","evaluation",1,"border-t","pt-6"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-8"],["for","superficie",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","superficie","formControlName","superficie","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","nombre-pieces",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","nombre-pieces","formControlName","nombrePieces","required","","placeholder","Salon + Cuisine = 1 pi\xe8ce",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["class","text-red-600 text-sm mt-1",4,"ngIf"],["for","loyer",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","loyer","formControlName","loyer","placeholder","\u20ac",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-8","mt-8"],[1,"text-base","font-medium","text-gray-900"],[1,"mt-2"],[1,"space-y-2"],[1,"flex","items-center"],["id","valeur-bat-expertise","formControlName","valeurBatiment","value","expertise","type","radio",1,"h-4","w-4","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","valeur-bat-expertise",1,"ml-3","block","text-sm","font-medium","text-gray-700"],["class","mt-4 ml-7 space-y-4",4,"ngIf"],["id","valeur-bat-libre","formControlName","valeurBatiment","value","libre","type","radio",1,"h-4","w-4","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","valeur-bat-libre",1,"ml-3","block","text-sm","font-medium","text-gray-700"],["class","mt-4 ml-7",4,"ngIf"],["id","valeur-cont-courtier","formControlName","valeurContenu","value","courtier","type","radio",1,"h-4","w-4","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","valeur-cont-courtier",1,"ml-3","block","text-sm","font-medium","text-gray-700"],["id","valeur-cont-prospect","formControlName","valeurContenu","value","prospect","type","radio",1,"h-4","w-4","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","valeur-cont-prospect",1,"ml-3","block","text-sm","font-medium","text-gray-700"],["formGroupName","garanties",1,"border-t","pt-6"],[1,"space-y-4"],[1,"text-sm","text-gray-600"],[1,"grid","grid-cols-2","md:grid-cols-3","gap-4"],[1,"flex","items-start"],[1,"flex","h-5","items-center"],["id","garantie-contenu","formControlName","contenu","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],[1,"ml-3","text-sm"],["for","garantie-contenu",1,"font-medium","text-gray-700"],["id","garantie-vol","formControlName","vol","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","garantie-vol",1,"font-medium","text-gray-700"],["id","garantie-pertes","formControlName","pertesIndirectes","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","garantie-pertes",1,"font-medium","text-gray-700"],["id","garantie-pj","formControlName","protectionJuridique","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","garantie-pj",1,"font-medium","text-gray-700"],["id","garantie-assistance","formControlName","assistance","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","garantie-assistance",1,"font-medium","text-gray-700"],[1,"pt-4","border-t"],["for","date-effet",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","date-effet","formControlName","dateEffet","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"min"],[1,"pt-6"],[1,"flex","justify-end"],["type","submit",1,"inline-flex","justify-center","rounded-md","border","border-transparent","bg-indigo-600","py-2","px-4","text-sm","font-medium","text-white","shadow-sm","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2","disabled:bg-gray-400","disabled:cursor-not-allowed",3,"disabled"],["role","alert",1,"p-4","mb-4","text-sm","rounded-lg",3,"ngClass"],[1,"text-green-800","bg-green-100","p-2","rounded-md","text-sm","mt-2"],["routerLink","/login",1,"font-bold","underline","hover:text-green-700"],[1,"absolute","inset-y-0","right-0","flex","items-center","pr-3","top-6"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5","text-gray-400"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"absolute","z-10","w-full","bg-white","border","border-gray-300","rounded-md","mt-1","max-h-40","overflow-y-auto"],["class","px-3 py-2 cursor-pointer hover:bg-gray-100",3,"click",4,"ngFor","ngForOf"],[1,"px-3","py-2","cursor-pointer","hover:bg-gray-100",3,"click"],["value",""],[3,"value"],[1,"text-red-600","text-sm","mt-1"],[4,"ngIf"],[1,"mt-4","ml-7","space-y-4"],["for","valeur-expertise",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","valeur-expertise","formControlName","valeurExpertise","placeholder","Ex: 250000",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","date-expertise",1,"block","text-sm","font-medium","text-gray-700"],["type","month","id","date-expertise","formControlName","dateExpertise",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],[1,"mt-4","ml-7"],["type","number","id","valeur-libre","formControlName","valeurLibre","placeholder","Montant en \u20ac",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"]],template:function(g,h){if(1&g&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e.EFF(5,"Assurance Habitation"),e.k0s(),e.j41(6,"p",5),e.EFF(7,"Avoir une assurance habitation est essentiel pour prot\xe9ger votre logement et vos biens contre les risques impr\xe9vus tels que incendie, vol ou d\xe9g\xe2ts des eaux. Elle offre une s\xe9curit\xe9 financi\xe8re en couvrant les r\xe9parations ou le remplacement des biens endommag\xe9s. En cas de responsabilit\xe9 civile, elle prot\xe8ge \xe9galement contre les dommages caus\xe9s involontairement \xe0 des tiers. Ainsi, une assurance habitation vous apporte tranquillit\xe9 d\u2019esprit et s\xe9r\xe9nit\xe9 au quotidien."),e.k0s(),e.j41(8,"div",6)(9,"button",7),e.bIt("click",function(){return h.scrollToSection("content")}),e.EFF(10,"Souscrire"),e.k0s(),e.j41(11,"a",8),e.EFF(12,"Contact "),e.j41(13,"span",9),e.EFF(14,"\u2192"),e.k0s()()()(),e.j41(15,"div",10),e.nrm(16,"img",11),e.k0s()()()(),e.j41(17,"div",12)(18,"div",13)(19,"div",14)(20,"h2",15),e.EFF(21,"L\u2019assurance habitation est-elle vraiment indispensable ?"),e.k0s(),e.j41(22,"p"),e.EFF(23,"Assurkin vous propose une assurance habitation qui vous offre une protection compl\xe8te contre les dommages caus\xe9s \xe0 votre habitation et \xe0 vos biens, ainsi que votre responsabilit\xe9 civile envers autrui."),e.k0s(),e.j41(24,"p"),e.EFF(25,"Si vous \xeates propri\xe9taire, il est crucial de prot\xe9ger votre habitation et vos biens mobiliers contre divers risques tels que l'incendie, l'inondation, les catastrophes naturelles, etc. Si vous \xeates locataire, l'assurance habitation couvre votre responsabilit\xe9 en cas de dommages caus\xe9s au logement que vous occupez."),e.k0s(),e.j41(26,"p"),e.EFF(27,"Dans certains cas, vous pourriez \xeatre contraint de souscrire une assurance incendie, qui constitue la base de toute assurance habitation. En tant que propri\xe9taire, votre banque pourrait l'exiger dans le cadre de l'obtention d'un pr\xeat. Si vous \xeates locataire, l'assurance habitation peut \xeatre une clause incluse dans votre contrat de location. Assurkin vous accompagne pour choisir la meilleure protection adapt\xe9e \xe0 vos besoins et \xe0 votre situation."),e.k0s(),e.j41(28,"h2",16),e.EFF(29,"Que couvre l\u2019assurance habitation ?"),e.k0s(),e.j41(30,"p"),e.EFF(31,"L'assurance habitation, souvent multirisques, d\xe9taille les garanties incluses comme la couverture incendie, les d\xe9g\xe2ts des eaux et d'autres risques comme les dommages m\xe9t\xe9orologiques, les cambriolages ou les bris de vitrage. Des mesures de protection sont n\xe9cessaires pour b\xe9n\xe9ficier de l'assurance. En plus des couvertures obligatoires, des options facultatives comme la couverture vol et vandalisme sont propos\xe9es, avec des services suppl\xe9mentaires comme l'assistance d'urgence. Diverses ouvertures en option sont disponibles telles que la couverture pour une activit\xe9 professionnelle \xe0 domicile ou pour une piscine."),e.k0s(),e.j41(32,"h2",16),e.EFF(33,"Comment \xeatre certain d\u2019obtenir le meilleur prix ?"),e.k0s(),e.j41(34,"p"),e.EFF(35,"Pour comparer les assurances habitation, Internet est le moyen le plus simple et rapide. Cependant, il est crucial de comparer des offres similaires en termes de garanties et de services, en plus des prix. Il est donc essentiel de v\xe9rifier minutieusement les risques couverts par chaque police d'assurance propos\xe9e. \xc9tant donn\xe9 la complexit\xe9 de cette t\xe2che, nous recommandons vivement de consulter nos courtiers avant de prendre une d\xe9cision !"),e.k0s(),e.j41(36,"p"),e.EFF(37,"Le co\xfbt d'une assurance habitation d\xe9pend de plusieurs crit\xe8res, notamment le type de mat\xe9riaux utilis\xe9s, le risque de cambriolage li\xe9 \xe0 l'emplacement de la r\xe9sidence, les options de couverture choisies, la valeur estim\xe9e de la propri\xe9t\xe9 et le montant de la franchise."),e.k0s(),e.j41(38,"h2",16),e.EFF(39,"Quels changements doit-on signaler \xe0 son assureur ?"),e.k0s(),e.j41(40,"p"),e.EFF(41,"Il est crucial de d\xe9clarer tout changement \xe0 votre assureur, m\xeame si cela peut entra\xeener une augmentation de la prime. Ne pas le faire expose \xe0 un risque de sous-indemnisation ou m\xeame de refus d'indemnisation si le bien assur\xe9 n'est plus conforme."),e.k0s(),e.j41(42,"p"),e.EFF(43,"L'assureur \xe9value le montant de la prime en tenant compte des caract\xe9ristiques de votre bien. Tout ajout tel qu'une pi\xe8ce suppl\xe9mentaire, un \xe9tage, une piscine ou un spa doit \xeatre signal\xe9. \xc0 noter qu'installer un syst\xe8me d'alarme peut entra\xeener une r\xe9duction de la prime."),e.k0s(),e.j41(44,"p"),e.EFF(45,"De plus, si vous exercez des activit\xe9s professionnelles \xe0 domicile ou stockez du mat\xe9riel professionnel, la couverture peut \xeatre limit\xe9e. Il est donc recommand\xe9 d'en discuter avec votre courtier. Enfin, souscrire une assurance responsabilit\xe9 civile est essentiel, notamment si vous recevez des clients \xe0 domicile."),e.k0s(),e.j41(46,"h2",16),e.EFF(47,"Les objets de valeur sont-ils couverts ?"),e.k0s(),e.j41(48,"p"),e.EFF(49,"Les bijoux comme les objets d\u2019art et autres objets de valeur peuvent \xeatre couverts. Mais pas toujours. Dans ce cas, l\u2019assureur peut soit appliquer une surprime, soit proposer une assurance sp\xe9cifique."),e.k0s()(),e.j41(50,"form",17),e.bIt("ngSubmit",function(){return h.onSubmit()}),e.DNE(51,he,2,5,"div",18),e.j41(52,"fieldset",19)(53,"legend",20),e.EFF(54,"1. Informations sur le preneur"),e.k0s(),e.j41(55,"div",21)(56,"div")(57,"label",22),e.EFF(58,"Genre"),e.k0s(),e.j41(59,"select",23)(60,"option"),e.EFF(61,"Madame"),e.k0s(),e.j41(62,"option"),e.EFF(63,"Monsieur"),e.k0s(),e.j41(64,"option"),e.EFF(65,"Autre"),e.k0s()()(),e.j41(66,"div")(67,"label",24),e.EFF(68,"Nom"),e.k0s(),e.nrm(69,"input",25),e.k0s(),e.j41(70,"div")(71,"label",26),e.EFF(72,"Pr\xe9nom"),e.k0s(),e.nrm(73,"input",27),e.k0s(),e.j41(74,"div")(75,"label",28),e.EFF(76,"Date de naissance"),e.k0s(),e.nrm(77,"input",29),e.k0s(),e.j41(78,"div")(79,"label",30),e.EFF(80,"Num\xe9ro de t\xe9l\xe9phone"),e.k0s(),e.nrm(81,"input",31),e.k0s(),e.j41(82,"div")(83,"label",32),e.EFF(84,"Email"),e.k0s(),e.nrm(85,"input",33),e.DNE(86,se,5,0,"div",34),e.k0s()()(),e.j41(87,"fieldset",35)(88,"legend",20),e.EFF(89,"2. B\xe2timent \xe0 assurer"),e.k0s(),e.j41(90,"div",21)(91,"div",36)(92,"label",37),e.EFF(93,"Rue et num\xe9ro"),e.k0s(),e.nrm(94,"input",38),e.k0s(),e.j41(95,"div")(96,"div",39)(97,"label",40),e.EFF(98,"Code Postal"),e.k0s(),e.nrm(99,"input",41),e.DNE(100,pe,4,0,"div",42)(101,ct,2,1,"ul",43),e.k0s()(),e.j41(102,"div")(103,"label",44),e.EFF(104,"Ville"),e.k0s(),e.j41(105,"select",45),e.DNE(106,Ot,2,0,"option",46)(107,Ht,2,2,"option",47),e.k0s()(),e.j41(108,"div")(109,"label",48),e.EFF(110,"Type de maison"),e.k0s(),e.j41(111,"select",49)(112,"option"),e.EFF(113,"Maison 2 fa\xe7ades"),e.k0s(),e.j41(114,"option"),e.EFF(115,"Maison 3 fa\xe7ades"),e.k0s(),e.j41(116,"option"),e.EFF(117,"Maison 4 fa\xe7ades (villa)"),e.k0s(),e.j41(118,"option"),e.EFF(119,"Appartement"),e.k0s(),e.j41(120,"option"),e.EFF(121,"Studio"),e.k0s(),e.j41(122,"option"),e.EFF(123,"Autre"),e.k0s()()()()(),e.j41(124,"fieldset",50)(125,"legend",20),e.EFF(126,"3. \xc9valuation des biens"),e.k0s(),e.j41(127,"div",51)(128,"div")(129,"label",52),e.EFF(130,"Superficie (m\xb2)"),e.k0s(),e.nrm(131,"input",53),e.k0s(),e.j41(132,"div")(133,"label",54),e.EFF(134,"Nombre de pi\xe8ces"),e.k0s(),e.nrm(135,"input",55),e.DNE(136,nr,2,1,"div",56),e.k0s(),e.j41(137,"div")(138,"label",57),e.EFF(139,"Loyer mensuel (charges comprises)"),e.k0s(),e.nrm(140,"input",58),e.k0s()(),e.j41(141,"div",59)(142,"div")(143,"label",60),e.EFF(144,"Valeur du b\xe2timent"),e.k0s(),e.j41(145,"fieldset",61)(146,"div",62)(147,"div")(148,"div",63),e.nrm(149,"input",64),e.j41(150,"label",65),e.EFF(151,"Valeur du b\xe2timent selon expertise"),e.k0s()(),e.DNE(152,mr,9,6,"div",66),e.k0s(),e.j41(153,"div")(154,"div",63),e.nrm(155,"input",67),e.j41(156,"label",68),e.EFF(157,"Valeur du b\xe2timent librement exprim\xe9e"),e.k0s()(),e.DNE(158,or,2,3,"div",69),e.k0s()()()(),e.j41(159,"div")(160,"label",60),e.EFF(161,"Valeur du contenu"),e.k0s(),e.j41(162,"fieldset",61)(163,"div",62)(164,"div",63),e.nrm(165,"input",70),e.j41(166,"label",71),e.EFF(167,"D\xe9termin\xe9e par le courtier (bas\xe9 sur le b\xe2timent)"),e.k0s()(),e.j41(168,"div",63),e.nrm(169,"input",72),e.j41(170,"label",73),e.EFF(171,"D\xe9termin\xe9e par vous-m\xeame"),e.k0s()()()()()()(),e.j41(172,"fieldset",74)(173,"legend",20),e.EFF(174,"4. Garanties souhait\xe9es"),e.k0s(),e.j41(175,"div",75)(176,"p",76),e.EFF(177,"La garantie de base (RC B\xe2timent) est toujours incluse."),e.k0s(),e.j41(178,"div",77)(179,"div",78)(180,"div",79),e.nrm(181,"input",80),e.k0s(),e.j41(182,"div",81)(183,"label",82),e.EFF(184,"Contenu"),e.k0s()()(),e.j41(185,"div",78)(186,"div",79),e.nrm(187,"input",83),e.k0s(),e.j41(188,"div",81)(189,"label",84),e.EFF(190,"Vol"),e.k0s()()(),e.j41(191,"div",78)(192,"div",79),e.nrm(193,"input",85),e.k0s(),e.j41(194,"div",81)(195,"label",86),e.EFF(196,"Pertes indirectes"),e.k0s()()(),e.j41(197,"div",78)(198,"div",79),e.nrm(199,"input",87),e.k0s(),e.j41(200,"div",81)(201,"label",88),e.EFF(202,"Protection Juridique"),e.k0s()()(),e.j41(203,"div",78)(204,"div",79),e.nrm(205,"input",89),e.k0s(),e.j41(206,"div",81)(207,"label",90),e.EFF(208,"Assistance"),e.k0s()()()()()(),e.j41(209,"div",91)(210,"label",92),e.EFF(211,"Date d'effet souhait\xe9e"),e.k0s(),e.nrm(212,"input",93),e.k0s(),e.j41(213,"div",94),e.DNE(214,ao,2,5,"div",18),e.j41(215,"div",95)(216,"button",96),e.EFF(217," Recevoir mon offre "),e.k0s()()()()()()),2&g){let B,ce,Ie,kt,ve,st,Vt,On,Ft,Jt,go,Pr,Gs;e.R7$(50),e.Y8G("formGroup",h.habitationForm),e.R7$(),e.Y8G("ngIf",h.submissionStatus),e.R7$(18),e.Y8G("ngClass",e.eq3(23,Dn,(null==(B=h.habitationForm.get("preneur.nom"))?null:B.invalid)&&(null==(B=h.habitationForm.get("preneur.nom"))?null:B.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(25,Dn,(null==(ce=h.habitationForm.get("preneur.prenom"))?null:ce.invalid)&&(null==(ce=h.habitationForm.get("preneur.prenom"))?null:ce.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(27,Dn,(null==(Ie=h.habitationForm.get("preneur.dateNaissance"))?null:Ie.invalid)&&(null==(Ie=h.habitationForm.get("preneur.dateNaissance"))?null:Ie.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(29,Dn,(null==(kt=h.habitationForm.get("preneur.telephone"))?null:kt.invalid)&&(null==(kt=h.habitationForm.get("preneur.telephone"))?null:kt.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(31,Dn,(null==(ve=h.habitationForm.get("preneur.email"))?null:ve.invalid)&&(null==(ve=h.habitationForm.get("preneur.email"))?null:ve.touched))),e.R7$(),e.Y8G("ngIf",h.emailExists&&(null==(st=h.habitationForm.get("preneur.email"))?null:st.touched)),e.R7$(8),e.Y8G("ngClass",e.eq3(33,Dn,(null==(Vt=h.habitationForm.get("batiment.adresse"))?null:Vt.invalid)&&(null==(Vt=h.habitationForm.get("batiment.adresse"))?null:Vt.touched))),e.R7$(5),e.Y8G("ngClass",e.eq3(35,Dn,(null==(On=h.habitationForm.get("batiment.codePostal"))?null:On.invalid)&&(null==(On=h.habitationForm.get("batiment.codePostal"))?null:On.touched))),e.R7$(),e.Y8G("ngIf",h.isLoading),e.R7$(),e.Y8G("ngIf",h.filteredPostalCodes.length>0),e.R7$(4),e.Y8G("disabled",0===h.cities.length),e.R7$(),e.Y8G("ngIf",0===h.cities.length),e.R7$(),e.Y8G("ngForOf",h.cities),e.R7$(24),e.Y8G("ngClass",e.eq3(37,Dn,(null==(Ft=h.habitationForm.get("evaluation.superficie"))?null:Ft.invalid)&&(null==(Ft=h.habitationForm.get("evaluation.superficie"))?null:Ft.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(39,Dn,(null==(Jt=h.habitationForm.get("evaluation.nombrePieces"))?null:Jt.invalid)&&(null==(Jt=h.habitationForm.get("evaluation.nombrePieces"))?null:Jt.touched))),e.R7$(),e.Y8G("ngIf",(null==(go=h.habitationForm.get("evaluation.nombrePieces"))?null:go.invalid)&&((null==(go=h.habitationForm.get("evaluation.nombrePieces"))?null:go.touched)||(null==(go=h.habitationForm.get("evaluation.nombrePieces"))?null:go.dirty))),e.R7$(16),e.Y8G("ngIf","expertise"===(null==(Pr=h.habitationForm.get("evaluation.valeurBatiment"))?null:Pr.value)),e.R7$(6),e.Y8G("ngIf","libre"===(null==(Gs=h.habitationForm.get("evaluation.valeurBatiment"))?null:Gs.value)),e.R7$(54),e.Y8G("min",h.minDate),e.R7$(2),e.Y8G("ngIf",h.submissionStatus),e.R7$(2),e.Y8G("disabled",h.habitationForm.invalid)}},dependencies:[U.MD,U.YU,U.Sq,U.bT,F.X1,F.qT,F.xH,F.y7,F.me,F.Q0,F.Zm,F.wz,F.Fm,F.BC,F.cb,F.YS,F.tU,F.j4,F.JD,F.$R,Z.Wk,Sn],encapsulation:2})}return p})(),Gr=(()=>{class p{ngControl;constructor(a){this.ngControl=a}onInput(a){const g=this.formatPhoneNumber(a);this.ngControl.control&&this.ngControl.control.setValue(g,{emitEvent:!1})}formatPhoneNumber(a){if(!a)return"";const g=a.replace(/\D/g,""),h=g.startsWith("04"),ce=g.substring(0,h?10:9),Ie=[];return h?(ce.length>0&&Ie.push(ce.substring(0,4)),ce.length>4&&Ie.push(ce.substring(4,6)),ce.length>6&&Ie.push(ce.substring(6,8)),ce.length>8&&Ie.push(ce.substring(8,10))):(ce.length>0&&Ie.push(ce.substring(0,2)),ce.length>2&&Ie.push(ce.substring(2,5)),ce.length>5&&Ie.push(ce.substring(5,7)),ce.length>7&&Ie.push(ce.substring(7,9))),Ie.join(" ")}static \u0275fac=function(g){return new(g||p)(e.rXU(F.vO))};static \u0275dir=e.FsC({type:p,selectors:[["","appPhoneNumberFormat",""]],hostBindings:function(g,h){1&g&&e.bIt("input",function(ce){return h.onInput(ce.target.value)})},standalone:!0})}return p})();const vo=p=>({"ring-red-500":p}),Un=(p,L)=>({"bg-green-100 text-green-800":p,"bg-red-100 text-red-800":L});function Ct(p,L){if(1&p&&(e.j41(0,"div",55),e.EFF(1),e.k0s()),2&p){const a=e.XpG();e.Y8G("ngClass",e.l_i(2,Un,a.submissionStatus.success,!a.submissionStatus.success)),e.R7$(),e.SpI(" ",a.submissionStatus.message," ")}}function Lo(p,L){1&p&&(e.j41(0,"div",56),e.qSk(),e.j41(1,"svg",57),e.nrm(2,"circle",58)(3,"path",59),e.k0s()())}function Fi(p,L){if(1&p){const a=e.RV6();e.j41(0,"li",62),e.bIt("click",function(){const h=e.eBV(a).$implicit,B=e.XpG(2);return e.Njj(B.selectPostalCode(h))}),e.EFF(1),e.k0s()}if(2&p){const a=L.$implicit;e.R7$(),e.Lme(" ",a.postalCode," - ",a.city," ")}}function kr(p,L){if(1&p&&(e.j41(0,"ul",60),e.DNE(1,Fi,2,2,"li",61),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.Y8G("ngForOf",a.filteredPostalCodes)}}function Hr(p,L){1&p&&(e.j41(0,"option",63),e.EFF(1,"S\xe9lectionner une ville"),e.k0s())}function Sr(p,L){if(1&p&&(e.j41(0,"option",64),e.EFF(1),e.k0s()),2&p){const a=L.$implicit;e.Y8G("value",a),e.R7$(),e.JRh(a)}}function rn(p,L){if(1&p&&(e.j41(0,"div",55),e.EFF(1),e.k0s()),2&p){const a=e.XpG();e.Y8G("ngClass",e.l_i(2,Un,a.submissionStatus.success,!a.submissionStatus.success)),e.R7$(),e.SpI(" ",a.submissionStatus.message," ")}}let Jr=(()=>{class p{fb;injector;platformId;rcForm;minDate;submissionStatus=null;destroy$=new me.B;postalCode$=new me.B;filteredPostalCodes=[];cities=[];isLoading=!1;constructor(a,g,h){this.fb=a,this.injector=g,this.platformId=h;const ce=new Date(new Date);ce.setDate(ce.getDate()+1),this.minDate=ce.toISOString().split("T")[0],this.rcForm=this.fb.group({preneur_nom:["",F.k0.required],preneur_prenom:["",F.k0.required],preneur_genre:["Madame",F.k0.required],preneur_telephone:["",[F.k0.required,p=>{const L=p.value;if(!L)return null;const a=L.replace(/\D/g,"");return 9===a.length||10===a.length?null:{invalidPhoneNumber:!0}}]],preneur_email:["",[F.k0.required,F.k0.email]],preneur_adresse:["",F.k0.required],preneur_code_postal:["",F.k0.required],preneur_ville:[{value:"",disabled:!0},F.k0.required],risque:["famille",F.k0.required],date_effet:[this.minDate,F.k0.required]})}ngOnInit(){if((0,U.UE)(this.platformId)){const a=this.injector.get(jt.y);this.postalCode$.pipe($e(300),He(),(0,ge.M)(()=>{this.isLoading=!0,this.filteredPostalCodes=[]}),(0,dt.n)(g=>g&&g.length>=2?a.getPostalCodes(g):(this.cities=[],this.rcForm.get("preneur_ville")?.setValue(""),this.rcForm.get("preneur_ville")?.disable(),(0,J.of)([]))),(0,ft.Q)(this.destroy$)).subscribe(g=>{this.isLoading=!1,this.filteredPostalCodes=g})}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onPostalCodeInput(a){this.postalCode$.next(a.target.value)}selectPostalCode(a){a&&a.postalCode&&(this.rcForm.get("preneur_code_postal")?.setValue(a.postalCode,{emitEvent:!1}),this.filteredPostalCodes=[],this.injector.get(jt.y).getCitiesByPostalCode(a.postalCode).pipe((0,ft.Q)(this.destroy$)).subscribe(h=>{this.cities=h,h.length>0?(this.rcForm.get("preneur_ville")?.enable(),h.includes(a.city)?this.rcForm.get("preneur_ville")?.setValue(a.city):1===h.length?this.rcForm.get("preneur_ville")?.setValue(h[0]):this.rcForm.get("preneur_ville")?.setValue("")):(this.rcForm.get("preneur_ville")?.setValue(""),this.rcForm.get("preneur_ville")?.disable())}))}onSubmit(){if(this.rcForm.valid){const a=this.rcForm.getRawValue();this.injector.get(jt.y).saveRcForm(a).pipe((0,ft.Q)(this.destroy$)).subscribe({next:g=>{this.submissionStatus={success:!0,message:"Votre demande a bien \xe9t\xe9 envoy\xe9e."},this.rcForm.reset()},error:g=>{this.submissionStatus={success:!1,message:"Une erreur est survenue. Veuillez r\xe9essayer."},console.error("Erreur lors de la soumission du formulaire RC:",g)}})}else this.markAllAsTouched(this.rcForm),this.submissionStatus={success:!1,message:"Veuillez corriger les erreurs dans le formulaire."}}markAllAsTouched(a){Object.values(a.controls).forEach(g=>{g.markAsTouched(),g instanceof F.gE&&this.markAllAsTouched(g)})}scrollToSection(a){if((0,U.UE)(this.platformId)){const g=document.getElementById(a);g&&g.scrollIntoView({behavior:"smooth",block:"start"})}}static \u0275fac=function(g){return new(g||p)(e.rXU(F.ok),e.rXU(e.zZn),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:p,selectors:[["app-form-rc"]],standalone:!0,features:[e.Jv_([jt.y]),e.aNF],decls:120,vars:28,consts:[["id","hero",1,"relative","isolate","bg-black","px-6","pt-14","lg:px-8"],[1,"mx-auto","max-w-7xl","py-8","sm:py-12","lg:py-16"],[1,"grid","grid-cols-1","items-center","gap-x-8","gap-y-16","lg:grid-cols-2"],[1,"text-center","lg:text-left"],[1,"text-4xl","font-bold","tracking-tight","text-white","sm:text-6xl"],[1,"mt-6","text-lg","leading-8","text-gray-300"],[1,"mt-10","flex","items-center","justify-center","gap-x-6","lg:justify-start"],[1,"rounded-md","bg-white","px-3.5","py-2.5","text-sm","font-semibold","text-gray-900","shadow-sm","hover:bg-gray-100","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-white",3,"click"],["routerLink","/contact",1,"text-sm","font-semibold","leading-6","text-white"],["aria-hidden","true"],[1,"flex","justify-center","lg:justify-end"],["src","https://fqopliwvpuiprdegxytz.supabase.co/storage/v1/object/sign/img_website/rc_familiale.webp?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV81MmJmNDFiNC0yNGQ0LTQ3ZTktYmEzNi04YWZmY2NjMzEzNzIiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJpbWdfd2Vic2l0ZS9yY19mYW1pbGlhbGUud2VicCIsImlhdCI6MTc2MzAyMzQwMSwiZXhwIjoyMDc4MzgzNDAxfQ.w2eMiS3pMEgBuRl4XvYmWoix82dzFQOppsfash1U4KQ","alt","Assurance",1,"w-full","max-w-xs","rounded-xl","shadow-xl","ring-1","ring-gray-400/10","lg:max-w-md"],["id","content",1,"container","mx-auto","p-4","py-16","sm:py-24"],[1,"grid","grid-cols-1","lg:grid-cols-2","lg:gap-12"],[1,"text-gray-700","prose","lg:prose-lg","max-w-none","prose-h2:mb-4","prose-p:mt-4","prose-ul:mt-4"],[1,"text-2xl","font-bold"],[1,"text-xl","font-bold","mt-8"],["id","form",1,"space-y-12","bg-white","p-8","rounded-lg","shadow-md","mt-8","lg:mt-0",3,"ngSubmit","formGroup"],["class","p-4 mb-4 text-sm rounded-lg","role","alert",3,"ngClass",4,"ngIf"],[1,"border-t","pt-6"],[1,"text-xl","font-semibold","px-2","text-gray-700","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],["for","preneur-nom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-nom","formControlName","preneur_nom","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","preneur-prenom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-prenom","formControlName","preneur_prenom","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","preneur-genre",1,"block","text-sm","font-medium","text-gray-700"],["id","preneur-genre","formControlName","preneur_genre","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","preneur-tel",1,"block","text-sm","font-medium","text-gray-700"],["type","tel","id","preneur-tel","formControlName","preneur_telephone","required","","appPhoneNumberFormat","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","preneur-email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","preneur-email","formControlName","preneur_email","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],[1,"lg:col-span-2"],["for","preneur-adresse",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-adresse","formControlName","preneur_adresse","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],[1,"relative"],["for","preneur-cp",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-cp","formControlName","preneur_code_postal","required","","autocomplete","off",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"input","ngClass"],["class","absolute inset-y-0 right-0 flex items-center pr-3 top-6",4,"ngIf"],["class","absolute z-10 w-full bg-white border border-gray-300 rounded-md mt-1 max-h-40 overflow-y-auto",4,"ngIf"],["for","ville",1,"block","text-sm","font-medium","text-gray-700"],["id","ville","formControlName","preneur_ville","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm","disabled:bg-gray-100",3,"disabled"],["value","",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"space-y-2","sm:flex","sm:items-center","sm:space-y-0","sm:space-x-10"],[1,"flex","items-center"],["id","risque-famille","formControlName","risque","value","famille","type","radio",1,"h-4","w-4","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","risque-famille",1,"ml-3","block","text-sm","font-medium","text-gray-700"],["id","risque-isole","formControlName","risque","value","isole","type","radio",1,"h-4","w-4","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","risque-isole",1,"ml-3","block","text-sm","font-medium","text-gray-700"],["for","date-effet",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","date-effet","formControlName","date_effet","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm","md:w-1/2","lg:w-1/3",3,"min"],[1,"pt-6"],[1,"flex","justify-end"],["type","submit",1,"inline-flex","justify-center","rounded-md","border","border-transparent","bg-indigo-600","py-2","px-4","text-sm","font-medium","text-white","shadow-sm","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2","disabled:bg-gray-400","disabled:cursor-not-allowed",3,"disabled"],["role","alert",1,"p-4","mb-4","text-sm","rounded-lg",3,"ngClass"],[1,"absolute","inset-y-0","right-0","flex","items-center","pr-3","top-6"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5","text-gray-400"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"absolute","z-10","w-full","bg-white","border","border-gray-300","rounded-md","mt-1","max-h-40","overflow-y-auto"],["class","px-3 py-2 cursor-pointer hover:bg-gray-100",3,"click",4,"ngFor","ngForOf"],[1,"px-3","py-2","cursor-pointer","hover:bg-gray-100",3,"click"],["value",""],[3,"value"]],template:function(g,h){if(1&g&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e.EFF(5,"Assurance RC Familiale"),e.k0s(),e.j41(6,"p",5),e.EFF(7,"Une assurance responsabilit\xe9 civile familiale est indispensable pour prot\xe9ger votre famille contre les cons\xe9quences financi\xe8res d\u2019un dommage caus\xe9 involontairement \xe0 autrui. Elle couvre les blessures, les d\xe9g\xe2ts mat\xe9riels ou les accidents impliquant les membres de votre foyer, y compris vos enfants et vos animaux. Sans cette protection, vous pourriez \xeatre tenu personnellement responsable et devoir assumer des frais importants. Cette assurance vous apporte donc tranquillit\xe9 d\u2019esprit et s\xe9curit\xe9 au quotidien.\nVivez chaque jour l\u2019esprit tranquille, en sachant que vous \xeates couvert en cas de coup dur."),e.k0s(),e.j41(8,"div",6)(9,"button",7),e.bIt("click",function(){return h.scrollToSection("content")}),e.EFF(10,"Souscrire"),e.k0s(),e.j41(11,"a",8),e.EFF(12,"Contact "),e.j41(13,"span",9),e.EFF(14,"\u2192"),e.k0s()()()(),e.j41(15,"div",10),e.nrm(16,"img",11),e.k0s()()()(),e.j41(17,"div",12)(18,"div",13)(19,"div",14)(20,"h2",15),e.EFF(21,"Assurance RC FAMILIALE"),e.k0s(),e.j41(22,"p"),e.EFF(23,"Lorsque vous ou vos proches causez des dommages accidentels \xe0 autrui ou \xe0 ses biens, que ce soit en blessant quelqu'un, en causant des d\xe9g\xe2ts mat\xe9riels ou en provoquant un accident avec vos animaux domestiques, vous \xeates l\xe9galement responsable. Pour couvrir ces incidents, la responsabilit\xe9 civile familiale a \xe9t\xe9 con\xe7ue. Cependant, il existe diff\xe9rentes options de couverture, alors il est important de choisir la formule qui convient le mieux \xe0 vos besoins."),e.k0s(),e.j41(24,"h3",16),e.EFF(25,"Qu\u2019est-ce que la RC Familiale ?"),e.k0s(),e.j41(26,"p"),e.EFF(27,"L'assurance responsabilit\xe9 civile vie priv\xe9e, \xe9galement connue sous le nom d'assurance RC familiale, couvre les dommages que vous ou votre famille pouvez causer \xe0 un tiers. Elle prend en charge les d\xe9g\xe2ts caus\xe9s \xe0 autrui en dehors de votre cercle familial, que ce soit chez des amis, dans la rue, dans des lieux publics ou m\xeame lors de voyages. Cette assurance est essentielle dans un contexte juridique de plus en plus complexe."),e.k0s(),e.j41(28,"h3",16),e.EFF(29,"Qui est couvert par la responsabilit\xe9 civile priv\xe9e ?"),e.k0s(),e.j41(30,"p"),e.EFF(31,"La RC familiale vous prot\xe8ge vous et votre famille des dommages que vous causez involontairement \xe0 des tiers. Elle couvre :"),e.k0s(),e.j41(32,"ul")(33,"li"),e.EFF(34,"Toutes les personnes vivant sous le m\xeame toit ;"),e.k0s(),e.j41(35,"li"),e.EFF(36,"Le personnel de service (baby-sitter, professeur particulier, femme de m\xe9nage, etc.) ;"),e.k0s(),e.j41(37,"li"),e.EFF(38,"Les animaux de compagnie sous la responsabilit\xe9 du titulaire."),e.k0s()(),e.j41(39,"h3",16),e.EFF(40,"Quand faut-il avoir recours \xe0 sa RC Familiale ?"),e.k0s(),e.j41(41,"p"),e.EFF(42,"Pour pouvoir faire appel \xe0 la RC Familiale, certaines conditions doivent \xeatre remplies. Tout d\u2019abord, votre responsabilit\xe9 doit \xeatre impliqu\xe9e dans le dommage caus\xe9. C\u2019est la condition sine qua non. Pr\xe9cisons toutefois qu\u2019il peut s\u2019agir d\u2019une action de votre part, mais aussi d\u2019une n\xe9gligence ou d\u2019une imprudence. Ensuite, le dommage doit imp\xe9rativement avoir \xe9t\xe9 caus\xe9 \xe0 un tiers dans un cadre priv\xe9. Enfin, il doit exister un lien de causalit\xe9 entre la faute et le dommage."),e.k0s(),e.j41(43,"p")(44,"strong"),e.EFF(45,"Bon \xe0 savoir :"),e.k0s(),e.EFF(46," la RC familiale ne peut \xeatre invoqu\xe9e pour des dommages cr\xe9\xe9s intentionnellement, caus\xe9s \xe0 vous-m\xeame ou \xe0 votre famille, ou provoqu\xe9s par votre animal s\u2019il est cat\xe9goris\xe9 comme dangereux."),e.k0s()(),e.j41(47,"form",17),e.bIt("ngSubmit",function(){return h.onSubmit()}),e.DNE(48,Ct,2,5,"div",18),e.j41(49,"fieldset",19)(50,"legend",20),e.EFF(51,"1. Informations sur le preneur"),e.k0s(),e.j41(52,"div",21)(53,"div")(54,"label",22),e.EFF(55,"Nom"),e.k0s(),e.nrm(56,"input",23),e.k0s(),e.j41(57,"div")(58,"label",24),e.EFF(59,"Pr\xe9nom"),e.k0s(),e.nrm(60,"input",25),e.k0s(),e.j41(61,"div")(62,"label",26),e.EFF(63,"Genre"),e.k0s(),e.j41(64,"select",27)(65,"option"),e.EFF(66,"Madame"),e.k0s(),e.j41(67,"option"),e.EFF(68,"Monsieur"),e.k0s(),e.j41(69,"option"),e.EFF(70,"Autre"),e.k0s()()(),e.j41(71,"div")(72,"label",28),e.EFF(73,"Num\xe9ro de t\xe9l\xe9phone"),e.k0s(),e.nrm(74,"input",29),e.k0s(),e.j41(75,"div")(76,"label",30),e.EFF(77,"Email"),e.k0s(),e.nrm(78,"input",31),e.k0s(),e.j41(79,"div",32)(80,"label",33),e.EFF(81,"Rue et num\xe9ro"),e.k0s(),e.nrm(82,"input",34),e.k0s(),e.j41(83,"div")(84,"div",35)(85,"label",36),e.EFF(86,"Code Postal"),e.k0s(),e.j41(87,"input",37),e.bIt("input",function(ce){return h.onPostalCodeInput(ce)}),e.k0s(),e.DNE(88,Lo,4,0,"div",38)(89,kr,2,1,"ul",39),e.k0s()(),e.j41(90,"div")(91,"label",40),e.EFF(92,"Ville"),e.k0s(),e.j41(93,"select",41),e.DNE(94,Hr,2,0,"option",42)(95,Sr,2,2,"option",43),e.k0s()()()(),e.j41(96,"fieldset",19)(97,"legend",20),e.EFF(98,"2. Composition du risque"),e.k0s(),e.j41(99,"div",44)(100,"div",45),e.nrm(101,"input",46),e.j41(102,"label",47),e.EFF(103,"Famille"),e.k0s()(),e.j41(104,"div",45),e.nrm(105,"input",48),e.j41(106,"label",49),e.EFF(107,"Isol\xe9"),e.k0s()()()(),e.j41(108,"fieldset",19)(109,"legend",20),e.EFF(110,"3. Date d'effet"),e.k0s(),e.j41(111,"div")(112,"label",50),e.EFF(113,"Date d'effet souhait\xe9e"),e.k0s(),e.nrm(114,"input",51),e.k0s()(),e.j41(115,"div",52),e.DNE(116,rn,2,5,"div",18),e.j41(117,"div",53)(118,"button",54),e.EFF(119," Recevoir mon offre "),e.k0s()()()()()()),2&g){let B,ce,Ie,kt,ve,st;e.R7$(47),e.Y8G("formGroup",h.rcForm),e.R7$(),e.Y8G("ngIf",h.submissionStatus),e.R7$(8),e.Y8G("ngClass",e.eq3(16,vo,(null==(B=h.rcForm.get("preneur_nom"))?null:B.invalid)&&(null==(B=h.rcForm.get("preneur_nom"))?null:B.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(18,vo,(null==(ce=h.rcForm.get("preneur_prenom"))?null:ce.invalid)&&(null==(ce=h.rcForm.get("preneur_prenom"))?null:ce.touched))),e.R7$(14),e.Y8G("ngClass",e.eq3(20,vo,(null==(Ie=h.rcForm.get("preneur_telephone"))?null:Ie.invalid)&&(null==(Ie=h.rcForm.get("preneur_telephone"))?null:Ie.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(22,vo,(null==(kt=h.rcForm.get("preneur_email"))?null:kt.invalid)&&(null==(kt=h.rcForm.get("preneur_email"))?null:kt.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(24,vo,(null==(ve=h.rcForm.get("preneur_adresse"))?null:ve.invalid)&&(null==(ve=h.rcForm.get("preneur_adresse"))?null:ve.touched))),e.R7$(5),e.Y8G("ngClass",e.eq3(26,vo,(null==(st=h.rcForm.get("preneur_code_postal"))?null:st.invalid)&&(null==(st=h.rcForm.get("preneur_code_postal"))?null:st.touched))),e.R7$(),e.Y8G("ngIf",h.isLoading),e.R7$(),e.Y8G("ngIf",h.filteredPostalCodes&&h.filteredPostalCodes.length>0),e.R7$(4),e.Y8G("disabled",0===h.cities.length),e.R7$(),e.Y8G("ngIf",0===h.cities.length),e.R7$(),e.Y8G("ngForOf",h.cities),e.R7$(19),e.Y8G("min",h.minDate),e.R7$(2),e.Y8G("ngIf",h.submissionStatus),e.R7$(2),e.Y8G("disabled",!h.rcForm.valid)}},dependencies:[U.MD,U.YU,U.Sq,U.bT,F.X1,F.qT,F.xH,F.y7,F.me,F.wz,F.Fm,F.BC,F.cb,F.YS,F.j4,F.JD,Z.Wk,Gr],encapsulation:2})}return p})();const qr=(p,L)=>({"bg-green-100 text-green-800":p,"bg-red-100 text-red-800":L});function Hn(p,L){if(1&p&&(e.j41(0,"div",60),e.EFF(1),e.k0s()),2&p){const a=e.XpG();e.Y8G("ngClass",e.l_i(2,qr,a.submissionStatus.success,!a.submissionStatus.success)),e.R7$(),e.SpI(" ",a.submissionStatus.message," ")}}function _o(p,L){1&p&&(e.j41(0,"div",61),e.EFF(1," L'\xe2ge minimum requis pour le preneur est de 18 ans. "),e.k0s())}function Ii(p,L){1&p&&(e.j41(0,"div",62),e.qSk(),e.j41(1,"svg",63),e.nrm(2,"circle",64)(3,"path",65),e.k0s()())}function $o(p,L){if(1&p){const a=e.RV6();e.j41(0,"li",68),e.bIt("click",function(){const h=e.eBV(a).$implicit,B=e.XpG(2);return e.Njj(B.selectPostalCode(h))}),e.EFF(1),e.k0s()}if(2&p){const a=L.$implicit;e.R7$(),e.Lme(" ",a.postalCode," - ",a.city," ")}}function Tr(p,L){if(1&p&&(e.j41(0,"ul",66),e.DNE(1,$o,2,2,"li",67),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.Y8G("ngForOf",a.filteredPostalCodes)}}function Vo(p,L){1&p&&(e.j41(0,"option",69),e.EFF(1,"S\xe9lectionner une ville"),e.k0s())}function yo(p,L){if(1&p&&(e.j41(0,"option",70),e.EFF(1),e.k0s()),2&p){const a=L.$implicit;e.Y8G("value",a),e.R7$(),e.JRh(a)}}function di(p,L){if(1&p&&(e.j41(0,"div",71)(1,"h3",72),e.EFF(2),e.k0s(),e.j41(3,"div",73)(4,"div")(5,"label",74),e.EFF(6,"Nom"),e.k0s(),e.nrm(7,"input",75),e.k0s(),e.j41(8,"div")(9,"label",74),e.EFF(10,"Pr\xe9nom"),e.k0s(),e.nrm(11,"input",76),e.k0s(),e.j41(12,"div")(13,"label",74),e.EFF(14,"Date de naissance"),e.k0s(),e.nrm(15,"input",77),e.k0s(),e.j41(16,"div")(17,"label",74),e.EFF(18,"Capital souhait\xe9 (\u20ac)"),e.k0s(),e.nrm(19,"input",78),e.k0s()()()),2&p){const a=L.index;e.Y8G("formGroupName",a),e.R7$(2),e.SpI("Assur\xe9 ",a+1,""),e.R7$(3),e.Y8G("for","assure-nom-"+a),e.R7$(2),e.Y8G("id","assure-nom-"+a),e.R7$(2),e.Y8G("for","assure-prenom-"+a),e.R7$(2),e.Y8G("id","assure-prenom-"+a),e.R7$(2),e.Y8G("for","assure-dob-"+a),e.R7$(2),e.Y8G("id","assure-dob-"+a),e.R7$(2),e.Y8G("for","assure-capital-"+a),e.R7$(2),e.Y8G("id","assure-capital-"+a)}}let Nt=(()=>{class p{fb;dbConnectService;platformId;obsequesForm;destroy$=new me.B;submissionStatus=null;filteredPostalCodes=[];cities=[];isLoading=!1;constructor(a,g,h){this.fb=a,this.dbConnectService=g,this.platformId=h,this.obsequesForm=this.fb.group({preneur:this.fb.group({genre:["Madame"],nom:["",F.k0.required],prenom:["",F.k0.required],dateNaissance:["",[F.k0.required,this.ageValidator(18)]],telephone:["",F.k0.required],email:["",[F.k0.required,F.k0.email]],adresse:["",F.k0.required],codePostal:["",F.k0.required],ville:["",F.k0.required]}),nombreAssures:[1],preneurEstAssure:[!0],assures:this.fb.array([])})}ageValidator(a){return g=>{if(!g.value)return null;const h=new Date(g.value),B=new Date;let ce=B.getFullYear()-h.getFullYear();const Ie=B.getMonth()-h.getMonth();return(Ie<0||0===Ie&&B.getDate()<h.getDate())&&ce--,ce>=a?null:{minAge:{requiredAge:a,actualAge:ce}}}}ngOnInit(){this.addAssure(),this.handleFormChanges(),(0,U.UE)(this.platformId)&&this.obsequesForm.get("preneur.codePostal")?.valueChanges.pipe($e(300),He(),(0,ge.M)(()=>this.isLoading=!0),(0,dt.n)(a=>a&&a.length>=2?this.dbConnectService.getPostalCodes(a):(this.filteredPostalCodes=[],(0,J.of)([]))),(0,ge.M)(()=>{this.filteredPostalCodes.length>0&&(this.cities=[],this.obsequesForm.get("preneur.ville")?.setValue(""))}),(0,ft.Q)(this.destroy$)).subscribe(a=>{this.isLoading=!1,this.filteredPostalCodes=a})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}get assures(){return this.obsequesForm.get("assures")}addAssure(){const a=this.fb.group({nom:["",F.k0.required],prenom:["",F.k0.required],dateNaissance:["",F.k0.required],capital:[5e3,[F.k0.required,F.k0.max(15e3)]]});this.assures.push(a)}removeAssure(a){this.assures.removeAt(a)}handleFormChanges(){this.obsequesForm.get("nombreAssures")?.valueChanges.subscribe(a=>{for(;this.assures.length<a;)this.addAssure();for(;this.assures.length>a;)this.removeAssure(this.assures.length-1)}),this.obsequesForm.get("preneurEstAssure")?.valueChanges.subscribe(a=>{this.updatePreneurSiAssure()})}updatePreneurSiAssure(){if(this.obsequesForm.get("preneurEstAssure")?.value&&this.assures.length>0){const a=this.obsequesForm.get("preneur")?.value;this.assures.at(0).patchValue(a)}}selectPostalCode(a){this.obsequesForm.get("preneur.codePostal")?.setValue(a.postalCode,{emitEvent:!1}),this.obsequesForm.get("preneur.ville")?.setValue(a.city),this.cities=[a.city],this.obsequesForm.get("preneur.ville")?.updateValueAndValidity(),this.filteredPostalCodes=[]}onSubmit(){this.obsequesForm.valid?this.dbConnectService.createObsequesQuote(this.obsequesForm.value).subscribe({next:a=>{console.log("Devis obs\xe8ques enregistr\xe9 avec succ\xe8s",a),this.submissionStatus={success:!0,message:"Votre demande de devis a bien \xe9t\xe9 enregistr\xe9e !"}},error:a=>{console.error("Erreur lors de l'enregistrement du devis obs\xe8ques",a),this.submissionStatus={success:!1,message:"Une erreur est survenue lors de l'enregistrement de votre devis."}}}):(console.error("Formulaire invalide"),this.submissionStatus={success:!1,message:"Veuillez remplir tous les champs obligatoires avant de soumettre."})}scrollToSection(a){if((0,U.UE)(this.platformId)){const g=document.getElementById(a);g&&g.scrollIntoView({behavior:"smooth",block:"start"})}}static \u0275fac=function(g){return new(g||p)(e.rXU(F.ok),e.rXU(jt.y),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:p,selectors:[["app-obseques"]],standalone:!0,features:[e.Jv_([jt.y]),e.aNF],decls:161,vars:30,consts:[["id","hero",1,"relative","isolate","bg-black","px-6","pt-14","lg:px-8"],[1,"mx-auto","max-w-7xl","py-8","sm:py-12","lg:py-16"],[1,"grid","grid-cols-1","items-center","gap-x-8","gap-y-16","lg:grid-cols-2"],[1,"text-center","lg:text-left"],[1,"text-4xl","font-bold","tracking-tight","text-white","sm:text-6xl"],[1,"mt-6","text-lg","leading-8","text-gray-300"],[1,"mt-10","flex","items-center","justify-center","gap-x-6","lg:justify-start"],[1,"rounded-md","bg-white","px-3.5","py-2.5","text-sm","font-semibold","text-gray-900","shadow-sm","hover:bg-gray-100","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-white",3,"click"],[1,"flex","justify-center","lg:justify-end"],["src","https://fqopliwvpuiprdegxytz.supabase.co/storage/v1/object/sign/img_website/aobseques.webp?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV81MmJmNDFiNC0yNGQ0LTQ3ZTktYmEzNi04YWZmY2NjMzEzNzIiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJpbWdfd2Vic2l0ZS9hb2JzZXF1ZXMud2VicCIsImlhdCI6MTc2MzAyNTI3NCwiZXhwIjoyMDc4Mzg1Mjc0fQ.IAfV4QnyFDMaMH65skjsyWsCgW6Jut_RM54yIhu7qcM","alt","Assurance",1,"w-full","max-w-xs","rounded-xl","shadow-xl","ring-1","ring-gray-400/10","lg:max-w-md"],["id","content",1,"container","mx-auto","p-4","py-16","sm:py-24"],[1,"grid","grid-cols-1","lg:grid-cols-2","lg:gap-12"],[1,"text-gray-700","prose","lg:prose-lg","max-w-none","prose-h2:mb-4","prose-p:mt-4","prose-ul:mt-4"],[1,"text-2xl","font-bold"],[1,"text-xl","font-bold","mt-8"],["id","form",1,"space-y-12","bg-white","p-8","rounded-lg","shadow-md","mt-8","lg:mt-0",3,"ngSubmit","formGroup"],["class","p-4 mb-4 text-sm rounded-lg","role","alert",3,"ngClass",4,"ngIf"],["formGroupName","preneur",1,"border-t","pt-6"],[1,"text-xl","font-semibold","px-2","text-gray-700","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],["for","preneur-genre",1,"block","text-sm","font-medium","text-gray-700"],["id","preneur-genre","formControlName","genre",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["selected",""],["for","preneur-nom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-nom","formControlName","nom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"input"],["for","preneur-prenom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-prenom","formControlName","prenom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"input"],["for","preneur-dob",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","preneur-dob","formControlName","dateNaissance",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"input"],["class","text-red-600 text-sm mt-1",4,"ngIf"],["for","preneur-tel",1,"block","text-sm","font-medium","text-gray-700"],["type","tel","id","preneur-tel","formControlName","telephone","appPhoneFormat","","placeholder","+32 4XX XX XX XX","maxlength","18",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"lg:col-span-2"],["for","preneur-email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","preneur-email","formControlName","email",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"md:col-span-2"],["for","preneur-adresse",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-adresse","formControlName","adresse",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","preneur-cp",1,"block","text-sm","font-medium","text-gray-700"],[1,"relative"],["type","text","id","preneur-cp","formControlName","codePostal","autocomplete","off",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["class","absolute inset-y-0 right-0 flex items-center pr-3 top-1",4,"ngIf"],["class","absolute z-10 w-full bg-white border border-gray-300 rounded-md mt-1 max-h-40 overflow-y-auto",4,"ngIf"],["for","preneur-ville",1,"block","text-sm","font-medium","text-gray-700"],["id","preneur-ville","formControlName","ville",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm","disabled:bg-gray-100",3,"disabled"],["value","",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"border-t","pt-6"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6","mb-6"],["for","nombre-assures",1,"block","text-sm","font-medium","text-gray-700"],["id","nombre-assures","formControlName","nombreAssures",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[3,"ngValue"],[1,"flex","items-end","pb-1"],[1,"flex","items-center"],["id","preneur-est-assure","type","checkbox","formControlName","preneurEstAssure",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","preneur-est-assure",1,"ml-2","block","text-sm","text-gray-900"],["formArrayName","assures",1,"space-y-6"],["class","p-4 border rounded-md",3,"formGroupName",4,"ngFor","ngForOf"],[1,"flex","justify-end","pt-6"],["type","submit",1,"inline-flex","justify-center","rounded-md","border","border-transparent","bg-indigo-600","py-2","px-4","text-sm","font-medium","text-white","shadow-sm","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2","disabled:bg-gray-400",3,"disabled"],["role","alert",1,"p-4","mb-4","text-sm","rounded-lg",3,"ngClass"],[1,"text-red-600","text-sm","mt-1"],[1,"absolute","inset-y-0","right-0","flex","items-center","pr-3","top-1"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5","text-gray-400"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"absolute","z-10","w-full","bg-white","border","border-gray-300","rounded-md","mt-1","max-h-40","overflow-y-auto"],["class","px-3 py-2 cursor-pointer hover:bg-gray-100",3,"click",4,"ngFor","ngForOf"],[1,"px-3","py-2","cursor-pointer","hover:bg-gray-100",3,"click"],["value",""],[3,"value"],[1,"p-4","border","rounded-md",3,"formGroupName"],[1,"font-semibold","text-gray-800","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4"],[1,"block","text-sm","font-medium","text-gray-700",3,"for"],["type","text","formControlName","nom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"id"],["type","text","formControlName","prenom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"id"],["type","date","formControlName","dateNaissance",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"id"],["type","number","formControlName","capital","max","15000",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"id"]],template:function(g,h){if(1&g&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e.EFF(5,"Assurance Obs\xe8ques"),e.k0s(),e.j41(6,"p",5),e.EFF(7,"Une assurance obs\xe8ques vous permet de pr\xe9parer et de financer l\u2019organisation de vos fun\xe9railles \xe0 l\u2019avance. Elle soulage votre famille des d\xe9marches et des frais souvent importants li\xe9s \xe0 ce moment difficile. Elle garantit le respect de vos volont\xe9s et la prise en charge des d\xe9penses pr\xe9vues. Ainsi, elle apporte s\xe9r\xe9nit\xe9 et tranquillit\xe9 d\u2019esprit \xe0 vous et \xe0 vos proches."),e.k0s(),e.j41(8,"div",6)(9,"button",7),e.bIt("click",function(){return h.scrollToSection("content")}),e.EFF(10,"Souscrire chez DELA"),e.k0s(),e.j41(11,"button",7),e.bIt("click",function(){return h.scrollToSection("content")}),e.EFF(12,"Demande d'informations(autre que DELA) "),e.k0s()()(),e.j41(13,"div",8),e.nrm(14,"img",9),e.k0s()()()(),e.j41(15,"div",10)(16,"div",11)(17,"div",12)(18,"h2",13),e.EFF(19,"Assurance obs\xe8ques"),e.k0s(),e.j41(20,"p"),e.EFF(21,"La perte d\u2019un proche est toujours un moment charg\xe9 d\u2019\xe9motions. Pr\xe9voir et prendre en charge les frais de ses propres obs\xe8ques est de plus en plus courant. Un dernier geste fort appr\xe9ci\xe9 par vos proches, \xe0 qui vous \xe9vitez bien des tracas financiers."),e.k0s(),e.j41(22,"h3",14),e.EFF(23,"Qu\u2019est-ce qu\u2019une assurance obs\xe8ques ?"),e.k0s(),e.j41(24,"p"),e.EFF(25,"L'assurance obs\xe8ques couvre les frais fun\xe9raires et de rapatriement du d\xe9funt, soulageant financi\xe8rement la famille. En revanche, l'assurance d\xe9c\xe8s offre un capital qui peut \xeatre utilis\xe9 \xe0 d'autres fins que les fun\xe9railles. De nombreux plans de pr\xe9voyance offrent \xe9galement une assistance administrative pour soulager la famille des formalit\xe9s n\xe9cessaires dans de telles situations."),e.k0s(),e.j41(26,"h3",14),e.EFF(27,"Les avantages d\u2019un plan de pr\xe9voyance obs\xe8ques"),e.k0s(),e.j41(28,"p"),e.EFF(29,"De plus en plus de Belges choisissent d'organiser leurs fun\xe9railles \xe0 l'avance, offrant ainsi un soulagement \xe0 leurs proches et garantissant que leurs souhaits seront respect\xe9s. Les avantages de cette d\xe9marche sont nombreux :"),e.k0s(),e.j41(30,"ul")(31,"li"),e.EFF(32,"Vous d\xe9terminez librement le montant assur\xe9, fixe pendant toute la dur\xe9e du contrat (entre 1 500 et 10 000\u20ac)."),e.k0s(),e.j41(33,"li"),e.EFF(34,"Vous avez le choix de l'entrepreneur de pompes fun\xe8bres et des modalit\xe9s des fun\xe9railles."),e.k0s(),e.j41(35,"li"),e.EFF(36,"Vous pr\xe9payez les co\xfbts des fun\xe9railles, d\xe8s le premier paiement de la prime mensuelle."),e.k0s(),e.j41(37,"li"),e.EFF(38,"Le capital assur\xe9 est index\xe9 chaque ann\xe9e pour s'adapter \xe0 l'\xe9volution du co\xfbt de la vie."),e.k0s(),e.j41(39,"li"),e.EFF(40,"Les enfants jusqu'\xe0 18 ans sont inclus dans l'assurance obs\xe8ques."),e.k0s(),e.j41(41,"li"),e.EFF(42,"Vos proches b\xe9n\xe9ficient d'une assistance pour les formalit\xe9s administratives."),e.k0s()(),e.j41(43,"h3",14),e.EFF(44,"Comment se calcule la prime ?"),e.k0s(),e.j41(45,"p"),e.EFF(46,"L\u2019assistance aux proches est toujours comprise dans le plan de base. Ce service offre \xe0 votre famille un accompagnement professionnel pour toutes les formalit\xe9s pratiques et administratives apr\xe8s un d\xe9c\xe8s."),e.k0s(),e.j41(47,"p"),e.EFF(48,"Le montant de la prime d\xe9pend de plusieurs crit\xe8res ; il se calcule en fonction de votre \xe2ge, du capital souhait\xe9 en cas de d\xe9c\xe8s, du terme du paiement de la prime et peut d\xe9pendre d\u2019une approbation m\xe9dicale."),e.k0s()(),e.j41(49,"form",15),e.bIt("ngSubmit",function(){return h.onSubmit()}),e.DNE(50,Hn,2,5,"div",16),e.j41(51,"fieldset",17)(52,"legend",18),e.EFF(53,"1. Informations sur le preneur"),e.k0s(),e.j41(54,"div",19)(55,"div")(56,"label",20),e.EFF(57,"Genre"),e.k0s(),e.j41(58,"select",21)(59,"option",22),e.EFF(60,"Madame"),e.k0s(),e.j41(61,"option"),e.EFF(62,"Monsieur"),e.k0s(),e.j41(63,"option"),e.EFF(64,"Autre"),e.k0s()()(),e.j41(65,"div")(66,"label",23),e.EFF(67,"Nom"),e.k0s(),e.j41(68,"input",24),e.bIt("input",function(){return h.updatePreneurSiAssure()}),e.k0s()(),e.j41(69,"div")(70,"label",25),e.EFF(71,"Pr\xe9nom"),e.k0s(),e.j41(72,"input",26),e.bIt("input",function(){return h.updatePreneurSiAssure()}),e.k0s()(),e.j41(73,"div")(74,"label",27),e.EFF(75,"Date de naissance"),e.k0s(),e.j41(76,"input",28),e.bIt("input",function(){return h.updatePreneurSiAssure()}),e.k0s(),e.DNE(77,_o,2,0,"div",29),e.k0s(),e.j41(78,"div")(79,"label",30),e.EFF(80,"Num\xe9ro de t\xe9l\xe9phone"),e.k0s(),e.nrm(81,"input",31),e.k0s(),e.j41(82,"div",32)(83,"label",33),e.EFF(84,"Email"),e.k0s(),e.nrm(85,"input",34),e.k0s(),e.j41(86,"div",35)(87,"label",36),e.EFF(88,"Adresse"),e.k0s(),e.nrm(89,"input",37),e.k0s(),e.j41(90,"div")(91,"label",38),e.EFF(92,"Code Postal"),e.k0s(),e.j41(93,"div",39),e.nrm(94,"input",40),e.DNE(95,Ii,4,0,"div",41)(96,Tr,2,1,"ul",42),e.k0s()(),e.j41(97,"div")(98,"label",43),e.EFF(99,"Ville"),e.k0s(),e.j41(100,"select",44),e.DNE(101,Vo,2,0,"option",45)(102,yo,2,2,"option",46),e.k0s()()()(),e.j41(103,"fieldset",47)(104,"legend",18),e.EFF(105,"2. Personnes \xe0 assurer"),e.k0s(),e.j41(106,"div",48)(107,"div")(108,"label",49),e.EFF(109,"Nombre de personnes \xe0 assurer"),e.k0s(),e.j41(110,"select",50)(111,"option",51),e.EFF(112,"1"),e.k0s(),e.j41(113,"option",51),e.EFF(114,"2"),e.k0s(),e.j41(115,"option",51),e.EFF(116,"3"),e.k0s(),e.j41(117,"option",51),e.EFF(118,"4"),e.k0s(),e.j41(119,"option",51),e.EFF(120,"5"),e.k0s(),e.j41(121,"option",51),e.EFF(122,"6"),e.k0s(),e.j41(123,"option",51),e.EFF(124,"7"),e.k0s(),e.j41(125,"option",51),e.EFF(126,"8"),e.k0s(),e.j41(127,"option",51),e.EFF(128,"9"),e.k0s(),e.j41(129,"option",51),e.EFF(130,"10"),e.k0s(),e.j41(131,"option",51),e.EFF(132,"11"),e.k0s(),e.j41(133,"option",51),e.EFF(134,"12"),e.k0s(),e.j41(135,"option",51),e.EFF(136,"13"),e.k0s(),e.j41(137,"option",51),e.EFF(138,"14"),e.k0s(),e.j41(139,"option",51),e.EFF(140,"15"),e.k0s(),e.j41(141,"option",51),e.EFF(142,"16"),e.k0s(),e.j41(143,"option",51),e.EFF(144,"17"),e.k0s(),e.j41(145,"option",51),e.EFF(146,"18"),e.k0s(),e.j41(147,"option",51),e.EFF(148,"19"),e.k0s(),e.j41(149,"option",51),e.EFF(150,"20"),e.k0s()()(),e.j41(151,"div",52)(152,"div",53),e.nrm(153,"input",54),e.j41(154,"label",55),e.EFF(155,"Le preneur est aussi un des assur\xe9s"),e.k0s()()()(),e.j41(156,"div",56),e.DNE(157,di,20,10,"div",57),e.k0s()(),e.j41(158,"div",58)(159,"button",59),e.EFF(160," Recevoir mon offre "),e.k0s()()()()()),2&g){let B;e.R7$(49),e.Y8G("formGroup",h.obsequesForm),e.R7$(),e.Y8G("ngIf",h.submissionStatus),e.R7$(27),e.Y8G("ngIf",null==(B=h.obsequesForm.get("preneur.dateNaissance"))?null:B.hasError("minAge")),e.R7$(18),e.Y8G("ngIf",h.isLoading),e.R7$(),e.Y8G("ngIf",h.filteredPostalCodes.length>0),e.R7$(4),e.Y8G("disabled",0===h.cities.length),e.R7$(),e.Y8G("ngIf",0===h.cities.length),e.R7$(),e.Y8G("ngForOf",h.cities),e.R7$(9),e.Y8G("ngValue",1),e.R7$(2),e.Y8G("ngValue",2),e.R7$(2),e.Y8G("ngValue",3),e.R7$(2),e.Y8G("ngValue",4),e.R7$(2),e.Y8G("ngValue",5),e.R7$(2),e.Y8G("ngValue",6),e.R7$(2),e.Y8G("ngValue",7),e.R7$(2),e.Y8G("ngValue",8),e.R7$(2),e.Y8G("ngValue",9),e.R7$(2),e.Y8G("ngValue",10),e.R7$(2),e.Y8G("ngValue",11),e.R7$(2),e.Y8G("ngValue",12),e.R7$(2),e.Y8G("ngValue",13),e.R7$(2),e.Y8G("ngValue",14),e.R7$(2),e.Y8G("ngValue",15),e.R7$(2),e.Y8G("ngValue",16),e.R7$(2),e.Y8G("ngValue",17),e.R7$(2),e.Y8G("ngValue",18),e.R7$(2),e.Y8G("ngValue",19),e.R7$(2),e.Y8G("ngValue",20),e.R7$(8),e.Y8G("ngForOf",h.assures.controls),e.R7$(2),e.Y8G("disabled",!h.obsequesForm.valid)}},dependencies:[U.MD,U.YU,U.Sq,U.bT,F.X1,F.qT,F.xH,F.y7,F.me,F.Q0,F.Zm,F.wz,F.BC,F.cb,F.tU,F.zX,F.j4,F.JD,F.$R,F.v8,Sn],encapsulation:2})}return p})();const X=(p,L)=>({"bg-green-100 text-green-800":p,"bg-red-100 text-red-800":L});function ae(p,L){if(1&p&&(e.j41(0,"div",34),e.EFF(1),e.k0s()),2&p){const a=e.XpG();e.Y8G("ngClass",e.l_i(2,X,a.submissionStatus.success,!a.submissionStatus.success)),e.R7$(),e.SpI(" ",a.submissionStatus.message," ")}}let ee=(()=>{class p{fb;dbConnectService;platformId;infoForm;submissionStatus=null;constructor(a,g,h){this.fb=a,this.dbConnectService=g,this.platformId=h,this.infoForm=this.fb.group({nom:["",F.k0.required],prenom:["",F.k0.required],email:["",[F.k0.required,F.k0.email]],gsm:["",F.k0.required],message:["",F.k0.required]})}onSubmit(){this.infoForm.valid&&this.dbConnectService.saveInfoRequestForm(this.infoForm.value,"juridique").subscribe({next:()=>{this.submissionStatus={success:!0,message:"Votre demande a bien \xe9t\xe9 envoy\xe9e."},this.infoForm.reset()},error:a=>{this.submissionStatus={success:!1,message:"Une erreur est survenue lors de l'envoi de votre demande."},console.error(a)}})}scrollToSection(a){(0,U.UE)(this.platformId)&&document.getElementById(a)?.scrollIntoView({behavior:"smooth"})}static \u0275fac=function(g){return new(g||p)(e.rXU(F.ok),e.rXU(jt.y),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:p,selectors:[["app-assurance-juridique"]],standalone:!0,features:[e.Jv_([jt.y]),e.aNF],decls:61,vars:3,consts:[["id","hero",1,"relative","isolate","bg-black","px-6","pt-14","lg:px-8"],[1,"mx-auto","max-w-7xl","py-8","sm:py-12","lg:py-16"],[1,"grid","grid-cols-1","items-center","gap-x-8","gap-y-16","lg:grid-cols-2"],[1,"text-center","lg:text-left"],[1,"text-4xl","font-bold","tracking-tight","text-white","sm:text-6xl"],[1,"mt-6","text-lg","leading-8","text-gray-300"],[1,"mt-10","flex","items-center","justify-center","gap-x-6","lg:justify-start"],[1,"rounded-md","bg-white","px-3.5","py-2.5","text-sm","font-semibold","text-gray-900","shadow-sm","hover:bg-gray-100","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-white",3,"click"],["routerLink","/contact",1,"text-sm","font-semibold","leading-6","text-white"],["aria-hidden","true"],[1,"flex","justify-center","lg:justify-end"],["src","https://fqopliwvpuiprdegxytz.supabase.co/storage/v1/object/sign/img_website/tribunal.webp?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV81MmJmNDFiNC0yNGQ0LTQ3ZTktYmEzNi04YWZmY2NjMzEzNzIiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJpbWdfd2Vic2l0ZS90cmlidW5hbC53ZWJwIiwiaWF0IjoxNzYzMDI1NDY0LCJleHAiOjIwNzgzODU0NjR9.R3hOUbrrtdA0hmCLc9roqY7DPhFoCZPTgtLMzfPuhPk","alt","Assurance",1,"w-full","max-w-xs","rounded-xl","shadow-xl","ring-1","ring-gray-400/10","lg:max-w-md"],["id","content",1,"container","mx-auto","p-4","py-16","sm:py-24"],[1,"grid","grid-cols-1","lg:grid-cols-2","lg:gap-12"],["id","form",1,"bg-white","p-8","rounded-lg","shadow-md"],[1,"text-2xl","font-bold","mb-6","text-gray-800"],["class","p-4 mb-4 text-sm rounded-lg","role","alert",3,"ngClass",4,"ngIf"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["for","nom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","nom","formControlName","nom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","prenom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","prenom","formControlName","prenom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","email","formControlName","email",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","gsm",1,"block","text-sm","font-medium","text-gray-700"],["type","tel","id","gsm","formControlName","gsm","appPhoneFormat","","placeholder","+32 4XX XX XX XX","maxlength","18",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","message",1,"block","text-sm","font-medium","text-gray-700"],["id","message","formControlName","message","rows","4",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"flex","justify-end"],["type","submit",1,"inline-flex","justify-center","rounded-md","border","border-transparent","bg-indigo-600","py-2","px-4","text-sm","font-medium","text-white","shadow-sm","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2","disabled:bg-gray-400","disabled:cursor-not-allowed",3,"disabled"],[1,"text-gray-700","prose","lg:prose-lg","max-w-none","prose-h2:mb-4","prose-p:mt-4","prose-ul:mt-4","mt-8","lg:mt-0"],[1,"text-2xl","font-bold"],[1,"text-xl","font-bold","mt-8"],["role","alert",1,"p-4","mb-4","text-sm","rounded-lg",3,"ngClass"]],template:function(g,h){1&g&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e.EFF(5,"Assurance Protection Juridique"),e.k0s(),e.j41(6,"p",5),e.EFF(7,"Une assurance assistance juridique vous offre un accompagnement professionnel en cas de litige ou de probl\xe8me l\xe9gal. Elle prend en charge les conseils d\u2019avocats et les frais li\xe9s aux proc\xe9dures judiciaires. Gr\xe2ce \xe0 elle, vous pouvez d\xe9fendre vos droits sans craindre les co\xfbts \xe9lev\xe9s d\u2019un proc\xe8s. Elle apporte ainsi s\xe9curit\xe9 et s\xe9r\xe9nit\xe9 face aux situations juridiques impr\xe9vues."),e.k0s(),e.j41(8,"div",6)(9,"button",7),e.bIt("click",function(){return h.scrollToSection("content")}),e.EFF(10,"Souscrire"),e.k0s(),e.j41(11,"a",8),e.EFF(12,"Contact "),e.j41(13,"span",9),e.EFF(14,"\u2192"),e.k0s()()()(),e.j41(15,"div",10),e.nrm(16,"img",11),e.k0s()()()(),e.j41(17,"div",12)(18,"div",13)(19,"div",14)(20,"h2",15),e.EFF(21,"Demande de renseignement"),e.k0s(),e.DNE(22,ae,2,5,"div",16),e.j41(23,"form",17),e.bIt("ngSubmit",function(){return h.onSubmit()}),e.j41(24,"div",18)(25,"div")(26,"label",19),e.EFF(27,"Nom"),e.k0s(),e.nrm(28,"input",20),e.k0s(),e.j41(29,"div")(30,"label",21),e.EFF(31,"Pr\xe9nom"),e.k0s(),e.nrm(32,"input",22),e.k0s()(),e.j41(33,"div")(34,"label",23),e.EFF(35,"Email"),e.k0s(),e.nrm(36,"input",24),e.k0s(),e.j41(37,"div")(38,"label",25),e.EFF(39,"GSM"),e.k0s(),e.nrm(40,"input",26),e.k0s(),e.j41(41,"div")(42,"label",27),e.EFF(43,"Message"),e.k0s(),e.nrm(44,"textarea",28),e.k0s(),e.j41(45,"div",29)(46,"button",30),e.EFF(47," Envoyer "),e.k0s()()()(),e.j41(48,"div",31)(49,"h2",32),e.EFF(50,"Assurance Protection Juridique"),e.k0s(),e.j41(51,"p"),e.EFF(52,"Personne n'est \xe0 l'abri d'un incident susceptible de causer des dommages. Dans de telles situations, il est crucial de faire valoir ses droits pour obtenir une indemnisation \xe9quitable. Toutefois, engager ces d\xe9marches sans l'aide d'un professionnel peut s'av\xe9rer difficile, sans oublier les frais administratifs ou juridiques qui peuvent rapidement s'accumuler."),e.k0s(),e.j41(53,"h3",33),e.EFF(54,"Une assurance protection juridique : Pour quelles raisons ?"),e.k0s(),e.j41(55,"p"),e.EFF(56,"Que ce soit une cuisine mal install\xe9e, une facture d\u2019\xe9lectricit\xe9 erron\xe9e, ou un litige avec un employeur, la protection juridique intervient dans diverses situations o\xf9 vous subissez des dommages caus\xe9s par un tiers. Bien que ces incidents ne surviennent pas fr\xe9quemment, leur impact peut \xeatre consid\xe9rable. Contrairement \xe0 l'assurance responsabilit\xe9 civile familiale, la protection juridique vous aide \xe0 faire valoir vos droits et \xe0 obtenir une indemnisation pour les dommages subis \xe0 cause d'un tiers."),e.k0s(),e.j41(57,"h3",33),e.EFF(58,"Quels avantages ?"),e.k0s(),e.j41(59,"p"),e.EFF(60,"Quel que soit votre probl\xe8me, vous b\xe9n\xe9ficiez d'une assistance juridique par t\xe9l\xe9phone pour obtenir des r\xe9ponses \xe0 vos questions. Apr\xe8s \xe9valuation de votre situation, vous serez guid\xe9 sur les recours possibles, qu'ils soient amiables ou judiciaires. En cas de litige, vous pouvez choisir votre avocat devant les juridictions belges, europ\xe9ennes ou mondiales, avec la possibilit\xe9 pour votre assureur de vous repr\xe9senter dans les n\xe9gociations d'indemnisation. Il est \xe0 noter que l'assurance protection juridique peut \xeatre d\xe9ductible fiscalement, sous certaines conditions."),e.k0s()()()()),2&g&&(e.R7$(22),e.Y8G("ngIf",h.submissionStatus),e.R7$(),e.Y8G("formGroup",h.infoForm),e.R7$(23),e.Y8G("disabled",!h.infoForm.valid))},dependencies:[U.MD,U.YU,U.bT,F.X1,F.qT,F.me,F.BC,F.cb,F.tU,F.j4,F.JD,Z.Wk,Sn],encapsulation:2})}return p})();const Te=(p,L)=>({"bg-green-100 text-green-800":p,"bg-red-100 text-red-800":L});function We(p,L){if(1&p&&(e.j41(0,"div",33),e.EFF(1),e.k0s()),2&p){const a=e.XpG();e.Y8G("ngClass",e.l_i(2,Te,a.submissionStatus.success,!a.submissionStatus.success)),e.R7$(),e.SpI(" ",a.submissionStatus.message," ")}}let Qe=(()=>{class p{fb;dbConnectService;platformId;infoForm;submissionStatus=null;constructor(a,g,h){this.fb=a,this.dbConnectService=g,this.platformId=h,this.infoForm=this.fb.group({nom:["",F.k0.required],prenom:["",F.k0.required],email:["",[F.k0.required,F.k0.email]],gsm:[""],message:["",F.k0.required]})}onSubmit(){this.infoForm.valid&&this.dbConnectService.saveVoyageForm(this.infoForm.value).subscribe({next:()=>{this.submissionStatus={success:!0,message:"Votre demande a bien \xe9t\xe9 envoy\xe9e !"},this.infoForm.reset()},error:()=>this.submissionStatus={success:!1,message:"Une erreur est survenue. Veuillez r\xe9essayer."}})}scrollToSection(a){if((0,U.UE)(this.platformId)){const g=document.getElementById(a);g&&g.scrollIntoView({behavior:"smooth",block:"start"})}}static \u0275fac=function(g){return new(g||p)(e.rXU(F.ok),e.rXU(jt.y),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:p,selectors:[["app-assurance-voyage"]],standalone:!0,features:[e.aNF],decls:71,vars:3,consts:[["id","hero",1,"relative","isolate","bg-black","px-6","pt-14","lg:px-8"],[1,"mx-auto","max-w-7xl","py-8","sm:py-12","lg:py-16"],[1,"grid","grid-cols-1","items-center","gap-x-8","gap-y-16","lg:grid-cols-2"],[1,"text-center","lg:text-left"],[1,"text-4xl","font-bold","tracking-tight","text-white","sm:text-6xl"],[1,"mt-6","text-lg","leading-8","text-gray-300"],[1,"mt-10","flex","items-center","justify-center","gap-x-6","lg:justify-start"],[1,"rounded-md","bg-white","px-3.5","py-2.5","text-sm","font-semibold","text-gray-900","shadow-sm","hover:bg-gray-100","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-white",3,"click"],["routerLink","/contact",1,"text-sm","font-semibold","leading-6","text-white"],["aria-hidden","true"],[1,"flex","justify-center","lg:justify-end"],["src","https://fqopliwvpuiprdegxytz.supabase.co/storage/v1/object/sign/img_website/avoyage.webp?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV81MmJmNDFiNC0yNGQ0LTQ3ZTktYmEzNi04YWZmY2NjMzEzNzIiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJpbWdfd2Vic2l0ZS9hdm95YWdlLndlYnAiLCJpYXQiOjE3NjMwMjUwOTQsImV4cCI6MjA3ODM4NTA5NH0.yFs3cX7_iROkZ6x-qAyECADU2cW_UmOp2gVtYOl03oc","alt","Assurance",1,"w-full","max-w-xs","rounded-xl","shadow-xl","ring-1","ring-gray-400/10","lg:max-w-md"],["id","content",1,"container","mx-auto","p-4","py-16","sm:py-24"],[1,"grid","grid-cols-1","lg:grid-cols-2","lg:gap-12"],[1,"text-gray-700","prose","lg:prose-lg"],[1,"text-xl","font-bold","mt-8"],[1,"bg-white","p-8","rounded-lg","shadow-md","mt-8","lg:mt-0"],[1,"text-2xl","font-bold","mb-6","text-gray-800"],["class","p-4 mb-4 text-sm rounded-lg","role","alert",3,"ngClass",4,"ngIf"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["for","nom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","nom","formControlName","nom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","prenom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","prenom","formControlName","prenom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","email","formControlName","email",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","gsm",1,"block","text-sm","font-medium","text-gray-700"],["type","tel","id","gsm","formControlName","gsm","appPhoneFormat","","placeholder","+32 4XX XX XX XX","maxlength","18",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","message",1,"block","text-sm","font-medium","text-gray-700"],["id","message","formControlName","message","rows","4",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"flex","justify-end"],["type","submit",1,"inline-flex","justify-center","rounded-md","border","border-transparent","bg-indigo-600","py-2","px-4","text-sm","font-medium","text-white","shadow-sm","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2","disabled:bg-gray-400","disabled:cursor-not-allowed",3,"disabled"],["role","alert",1,"p-4","mb-4","text-sm","rounded-lg",3,"ngClass"]],template:function(g,h){1&g&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e.EFF(5,"Assurances Voyage"),e.k0s(),e.j41(6,"p",5),e.EFF(7,"Une assurance voyage vous prot\xe8ge contre les impr\xe9vus lors de vos d\xe9placements, comme les accidents, maladies ou pertes de bagages. Elle prend en charge les frais m\xe9dicaux \xe0 l\u2019\xe9tranger et le rapatriement si n\xe9cessaire. Elle offre \xe9galement une assistance en cas d\u2019annulation ou de retard de voyage. Ainsi, elle vous permet de voyager l\u2019esprit tranquille, en toute s\xe9curit\xe9."),e.k0s(),e.j41(8,"div",6)(9,"button",7),e.bIt("click",function(){return h.scrollToSection("content")}),e.EFF(10,"Souscrire"),e.k0s(),e.j41(11,"a",8),e.EFF(12,"Contact "),e.j41(13,"span",9),e.EFF(14,"\u2192"),e.k0s()()()(),e.j41(15,"div",10),e.nrm(16,"img",11),e.k0s()()()(),e.j41(17,"div",12)(18,"div",13)(19,"div",14)(20,"p"),e.EFF(21,"L\u2019assurance voyage n\u2019est pas obligatoire, mais vous permet de partir en toute qui\xe9tude. Les garanties sont diverses et vari\xe9es : annulation de derni\xe8re minute, frais m\xe9dicaux \xe0 l\u2019\xe9tranger, rapatriement, perte de bagages, etc."),e.k0s(),e.j41(22,"h3",15),e.EFF(23,"L\u2019assistance Annuelle"),e.k0s(),e.j41(24,"p"),e.EFF(25,"Comme l\u2019indique son nom, elle est active tout au long de l\u2019ann\xe9e d\xe8s lors que vous vous trouvez \xe0 l\u2019\xe9tranger. Cela vous permet ainsi de partir en voyage d\xe8s que l\u2019envie vous en prend et ce, sans devoir vous soucier des risques."),e.k0s(),e.j41(26,"p"),e.EFF(27,"Bien s\xfbr, il existe autant de formules qu\u2019il existe de possibilit\xe9s. Par exemple, si vous ne voyagez qu\u2019au sein de l\u2019Union Europ\xe9enne, il est inutile de souscrire une assurance voyage dans le monde entier. De plus, vous pourrez opter pour des services compl\xe9mentaires tels que l\u2019assistance d\xe9pannage, l\u2019assurance bagages, etc."),e.k0s(),e.j41(28,"p"),e.EFF(29,"En toutes circonstances cependant, vous b\xe9n\xe9ficierez d\u2019une couverture sant\xe9 optimale (remboursement des frais m\xe9dicaux \xe0 l\u2019\xe9tranger, rapatriement en cas d\u2019accident ou de maladie, retour anticip\xe9 dans l\u2019\xe9ventualit\xe9 d\u2019un proche hospitalis\xe9 ou d\xe9c\xe9d\xe9\u2026)."),e.k0s(),e.j41(30,"h3",15),e.EFF(31,"L\u2019assistance temporaire"),e.k0s(),e.j41(32,"p"),e.EFF(33,"Cette formule, semblable \xe0 la pr\xe9c\xe9dente, est particuli\xe8rement appr\xe9ci\xe9e par les vacanciers occasionnels cherchant \xe0 profiter de leur s\xe9jour sans souci. Elle comprend m\xeame des options sp\xe9cifiques pour le ski !"),e.k0s(),e.j41(34,"p"),e.EFF(35,"Cependant, il est important de noter que la dur\xe9e du voyage est g\xe9n\xe9ralement limit\xe9e \xe0 moins de 45 jours."),e.k0s(),e.j41(36,"p"),e.EFF(37,"Comme toujours, il est recommand\xe9 de choisir une assurance qui correspond \xe0 vos besoins sp\xe9cifiques, avec des options modulables en fonction de crit\xe8res tels que la dur\xe9e du s\xe9jour, la destination et la p\xe9riode de l'ann\xe9e. "),e.k0s(),e.j41(38,"h3",15),e.EFF(39,"L\u2019assurance annulation"),e.k0s(),e.j41(40,"p"),e.EFF(41,"Comme son nom l'indique, ce type d'assurance est sp\xe9cifiquement con\xe7u pour couvrir l'annulation de votre voyage. Ainsi, si des circonstances impr\xe9vues vous obligent \xe0 renoncer ou \xe0 \xe9courter votre s\xe9jour \xe0 l'\xe9tranger, que ce soit pour des raisons de sant\xe9, le d\xe9c\xe8s d'un proche ou une situation instable dans le pays de destination, les frais associ\xe9s seront pris en charge."),e.k0s()(),e.j41(42,"div",16)(43,"h2",17),e.EFF(44,"Demande de renseignement"),e.k0s(),e.DNE(45,We,2,5,"div",18),e.j41(46,"form",19),e.bIt("ngSubmit",function(){return h.onSubmit()}),e.j41(47,"div",20)(48,"div")(49,"label",21),e.EFF(50,"Nom"),e.k0s(),e.nrm(51,"input",22),e.k0s(),e.j41(52,"div")(53,"label",23),e.EFF(54,"Pr\xe9nom"),e.k0s(),e.nrm(55,"input",24),e.k0s()(),e.j41(56,"div")(57,"label",25),e.EFF(58,"Email"),e.k0s(),e.nrm(59,"input",26),e.k0s(),e.j41(60,"div")(61,"label",27),e.EFF(62,"GSM"),e.k0s(),e.nrm(63,"input",28),e.k0s(),e.j41(64,"div")(65,"label",29),e.EFF(66,"Message"),e.k0s(),e.nrm(67,"textarea",30),e.k0s(),e.j41(68,"div",31)(69,"button",32),e.EFF(70," Envoyer "),e.k0s()()()()()()),2&g&&(e.R7$(45),e.Y8G("ngIf",h.submissionStatus),e.R7$(),e.Y8G("formGroup",h.infoForm),e.R7$(23),e.Y8G("disabled",!h.infoForm.valid))},dependencies:[F.X1,F.qT,F.me,F.BC,F.cb,F.tU,F.j4,F.JD,U.MD,U.YU,U.bT,Z.Wk]})}return p})(),tt=(()=>{class p{email="info@assurkin.be";activeTab="vue-ensemble";static \u0275fac=function(g){return new(g||p)};static \u0275cmp=e.VBU({type:p,selectors:[["app-mentions-legales"]],standalone:!0,features:[e.aNF],decls:36,vars:12,consts:[[1,"container","mx-auto","p-4","pt-24"],[1,"border-b","border-gray-200","mb-8"],["aria-label","Tabs",1,"-mb-px","flex","space-x-8","overflow-x-auto"],[1,"whitespace-nowrap","py-4","px-1","border-b-2","font-medium","text-sm",3,"click","ngClass"],[3,"hidden"],[1,"bg-white","shadow-md","rounded-lg","p-6","text-center"],[1,"text-gray-600"]],template:function(g,h){1&g&&(e.j41(0,"div",0)(1,"div",1)(2,"nav",2)(3,"button",3),e.bIt("click",function(){return h.activeTab="vue-ensemble"}),e.EFF(4," Vue d'ensemble "),e.k0s(),e.j41(5,"button",3),e.bIt("click",function(){return h.activeTab="a-propos"}),e.EFF(6," A propos de nous "),e.k0s(),e.j41(7,"button",3),e.bIt("click",function(){return h.activeTab="mifid"}),e.EFF(8," Mifid "),e.k0s(),e.j41(9,"button",3),e.bIt("click",function(){return h.activeTab="politique-confidentialite"}),e.EFF(10," Politique confidentialit\xe9s "),e.k0s(),e.j41(11,"button",3),e.bIt("click",function(){return h.activeTab="politique-utilisation"}),e.EFF(12," Politique d'utilisation "),e.k0s(),e.j41(13,"button",3),e.bIt("click",function(){return h.activeTab="conditions-generales"}),e.EFF(14," Conditions g\xe9n\xe9rales de vente "),e.k0s()()(),e.j41(15,"div")(16,"div",4)(17,"div",5)(18,"p",6),e.EFF(19,"Contenu pour Vue d'ensemble \xe0 impl\xe9menter ici."),e.k0s()()(),e.j41(20,"div",4)(21,"div",5)(22,"p",6),e.EFF(23,"Contenu pour A propos de nous \xe0 impl\xe9menter ici."),e.k0s()()(),e.j41(24,"div",4)(25,"div",5),e.nrm(26,"p",6),e.k0s()(),e.nrm(27,"div",4),e.j41(28,"div",4)(29,"div",5)(30,"p",6),e.EFF(31,"Contenu pour Politique d'utilisation \xe0 impl\xe9menter ici."),e.k0s()()(),e.j41(32,"div",4)(33,"div",5)(34,"p",6),e.EFF(35,"Contenu pour Conditions g\xe9n\xe9rales de vente \xe0 impl\xe9menter ici."),e.k0s()()()()()),2&g&&(e.R7$(3),e.Y8G("ngClass","vue-ensemble"===h.activeTab?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngClass","a-propos"===h.activeTab?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngClass","mifid"===h.activeTab?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngClass","politique-confidentialite"===h.activeTab?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngClass","politique-utilisation"===h.activeTab?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngClass","conditions-generales"===h.activeTab?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(3),e.Y8G("hidden","vue-ensemble"!==h.activeTab),e.R7$(4),e.Y8G("hidden","a-propos"!==h.activeTab),e.R7$(4),e.Y8G("hidden","mifid"!==h.activeTab),e.R7$(3),e.Y8G("hidden","politique-confidentialite"!==h.activeTab),e.R7$(),e.Y8G("hidden","politique-utilisation"!==h.activeTab),e.R7$(4),e.Y8G("hidden","conditions-generales"!==h.activeTab))},dependencies:[U.MD,U.YU]})}return p})();const Tt=(p,L)=>({"bg-green-100 text-green-800":p,"bg-red-100 text-red-800":L});function yt(p,L){if(1&p&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&p){const a=e.XpG();e.Y8G("ngClass",e.l_i(2,Tt,a.submissionStatus.success,!a.submissionStatus.success)),e.R7$(),e.SpI(" ",a.submissionStatus.message," ")}}let yn=(()=>{class p{fb;dbConnectService;contactForm;submissionStatus=null;constructor(a,g){this.fb=a,this.dbConnectService=g,this.contactForm=this.fb.group({nom:["",F.k0.required],prenom:["",F.k0.required],email:["",[F.k0.required,F.k0.email]],gsm:[""],message:["",F.k0.required]})}onSubmit(){this.contactForm.valid&&this.dbConnectService.saveContactForm(this.contactForm.value).subscribe({next:()=>{this.submissionStatus={success:!0,message:"Votre message a bien \xe9t\xe9 envoy\xe9 !"},this.contactForm.reset()},error:a=>{console.error("An error occurred during form submission:",a),this.submissionStatus={success:!1,message:"Une erreur est survenue. Veuillez r\xe9essayer."}}})}static \u0275fac=function(g){return new(g||p)(e.rXU(F.ok),e.rXU(jt.y))};static \u0275cmp=e.VBU({type:p,selectors:[["app-form-contact"]],standalone:!0,features:[e.aNF],decls:32,vars:3,consts:[[1,"container","mx-auto","p-4","pt-24"],[1,"text-3xl","font-bold","mb-8","text-center","text-gray-800"],[1,"max-w-2xl","mx-auto","bg-white","p-8","rounded-lg","shadow-md"],[1,"mb-6","text-gray-700","text-center"],["class","p-4 mb-4 text-sm rounded-lg","role","alert",3,"ngClass",4,"ngIf"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["for","nom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","nom","formControlName","nom","autocomplete","family-name","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","prenom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","prenom","formControlName","prenom","autocomplete","given-name","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","email","formControlName","email","autocomplete","email","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","gsm",1,"block","text-sm","font-medium","text-gray-700"],["type","tel","id","gsm","formControlName","gsm","autocomplete","tel",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","message",1,"block","text-sm","font-medium","text-gray-700"],["id","message","formControlName","message","rows","5","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"flex","justify-end"],["type","submit",1,"inline-flex","justify-center","rounded-md","border","border-transparent","bg-indigo-600","py-2","px-4","text-sm","font-medium","text-white","shadow-sm","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2","disabled:bg-gray-400","disabled:cursor-not-allowed",3,"disabled"],["role","alert",1,"p-4","mb-4","text-sm","rounded-lg",3,"ngClass"]],template:function(g,h){1&g&&(e.j41(0,"div",0)(1,"h1",1),e.EFF(2,"Contactez-nous"),e.k0s(),e.j41(3,"div",2)(4,"p",3),e.EFF(5," Vous avez des questions, besoin d'un conseil personnalis\xe9 ou souhaitez obtenir une offre ? Remplissez le formulaire ci-dessous et nous vous recontacterons dans les plus brefs d\xe9lais. "),e.k0s(),e.DNE(6,yt,2,5,"div",4),e.j41(7,"form",5),e.bIt("ngSubmit",function(){return h.onSubmit()}),e.j41(8,"div",6)(9,"div")(10,"label",7),e.EFF(11,"Nom"),e.k0s(),e.nrm(12,"input",8),e.k0s(),e.j41(13,"div")(14,"label",9),e.EFF(15,"Pr\xe9nom"),e.k0s(),e.nrm(16,"input",10),e.k0s()(),e.j41(17,"div")(18,"label",11),e.EFF(19,"Email"),e.k0s(),e.nrm(20,"input",12),e.k0s(),e.j41(21,"div")(22,"label",13),e.EFF(23,"Num\xe9ro de t\xe9l\xe9phone (GSM)"),e.k0s(),e.nrm(24,"input",14),e.k0s(),e.j41(25,"div")(26,"label",15),e.EFF(27,"Votre message"),e.k0s(),e.nrm(28,"textarea",16),e.k0s(),e.j41(29,"div",17)(30,"button",18),e.EFF(31," Envoyer le message "),e.k0s()()()()()),2&g&&(e.R7$(6),e.Y8G("ngIf",h.submissionStatus),e.R7$(),e.Y8G("formGroup",h.contactForm),e.R7$(23),e.Y8G("disabled",!h.contactForm.valid))},dependencies:[F.X1,F.qT,F.me,F.BC,F.cb,F.YS,F.j4,F.JD,U.MD,U.YU,U.bT]})}return p})();var pn=M(4412),ln=M(6648);function Gn(p,L){const a=!L?.manualCleanup;a&&!L?.injector&&(0,e.Af3)(Gn);const g=a?L?.injector?.get(e.abz)??(0,e.WQX)(e.abz):null,h=function Dt(p=Object.is){return(L,a)=>1===L.kind&&1===a.kind&&p(L.value,a.value)}(L?.equal);let B;B=(0,e.vPA)(L?.requireSync?{kind:0}:{kind:1,value:L?.initialValue},{equal:h});const ce=p.subscribe({next:Ie=>B.set({kind:1,value:Ie}),error:Ie=>{if(L?.rejectErrors)throw Ie;B.set({kind:2,error:Ie})}});if(L?.requireSync&&0===B().kind)throw new e.wOt(601,!1);return g?.onDestroy(ce.unsubscribe.bind(ce)),(0,e.EWP)(()=>{const Ie=B();switch(Ie.kind){case 1:return Ie.value;case 2:throw Ie.error;case 0:throw new e.wOt(601,!1)}},{equal:L?.equal})}var ht=M(9692);let gr=(()=>{class p{supabaseService;platformId=(0,e.WQX)(e.Agw);_currentUser$=new pn.t(null);currentUser$=this._currentUser$.asObservable();isAuthenticated=Gn(this.currentUser$.pipe((0,fe.T)(a=>!!a)),{initialValue:!1});authSubscription=null;constructor(a){if(this.supabaseService=a,(0,U.UE)(this.platformId)){this.supabaseService.supabase.auth.getSession().then(({data:h})=>{this._currentUser$.next(h.session?.user??null)});const{data:{subscription:g}}=this.supabaseService.supabase.auth.onAuthStateChange((h,B)=>{this._currentUser$.next(B?.user??null)});this.authSubscription=g}}ngOnDestroy(){this.authSubscription&&this.authSubscription.unsubscribe()}signIn(a){return(0,ln.H)(this.supabaseService.supabase.auth.signInWithPassword(a))}getSession(){return this.supabaseService.supabase.auth.getSession()}signOut(){return(0,ln.H)(this.supabaseService.supabase.auth.signOut())}sendPasswordResetEmail(a){return(0,ln.H)(this.supabaseService.supabase.auth.resetPasswordForEmail(a))}static \u0275fac=function(g){return new(g||p)(e.KVO(ht.w))};static \u0275prov=e.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();const Qo=(p,L)=>({"border-red-500":p,"border-gray-300":L});function uo(p,L){if(1&p&&(e.j41(0,"div",12)(1,"span",13),e.EFF(2),e.k0s()()),2&p){const a=e.XpG();e.R7$(2),e.JRh(a.errorMessage)}}function Uo(p,L){1&p&&(e.j41(0,"p"),e.EFF(1,"L'adresse email est requise."),e.k0s())}function lo(p,L){1&p&&(e.j41(0,"p"),e.EFF(1,"L'adresse email est invalide."),e.k0s())}function Jo(p,L){if(1&p&&(e.j41(0,"div",14),e.DNE(1,Uo,2,0,"p",11)(2,lo,2,0,"p",11),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.Y8G("ngIf",a.f.email.errors.required),e.R7$(),e.Y8G("ngIf",a.f.email.errors.email)}}function qt(p,L){1&p&&(e.j41(0,"p"),e.EFF(1,"Le mot de passe est requis."),e.k0s())}function Zo(p,L){if(1&p&&(e.j41(0,"div",14),e.DNE(1,qt,2,0,"p",11),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.Y8G("ngIf",a.f.password.errors.required)}}function ki(p,L){1&p&&(e.j41(0,"span",15),e.qSk(),e.j41(1,"svg",16),e.nrm(2,"circle",17)(3,"path",18),e.k0s(),e.EFF(4," Connexion en cours... "),e.k0s())}function Zn(p,L){1&p&&(e.j41(0,"span"),e.EFF(1,"Se connecter"),e.k0s())}let bt=(()=>{class p{fb;authService;router;loginForm;submitted=!1;errorMessage=null;loading=!1;constructor(a,g,h){this.fb=a,this.authService=g,this.router=h}ngOnInit(){this.loginForm=this.fb.group({email:["",[F.k0.required,F.k0.email]],password:["",F.k0.required]})}get f(){return this.loginForm.controls}onSubmit(){if(this.submitted=!0,this.errorMessage=null,this.loading=!0,this.loginForm.invalid)return;const{email:a,password:g}=this.loginForm.value;this.authService.signIn({email:a,password:g}).subscribe({next:h=>{h.error?(this.loading=!1,this.errorMessage="Email ou mot de passe incorrect.",console.error(h.error)):this.router.navigate(["/account"])},error:h=>{this.loading=!1,this.errorMessage="Une erreur inattendue est survenue. Veuillez r\xe9essayer.",console.error(h)}})}static \u0275fac=function(g){return new(g||p)(e.rXU(F.ok),e.rXU(gr),e.rXU(Z.Ix))};static \u0275cmp=e.VBU({type:p,selectors:[["app-account-login"]],standalone:!0,features:[e.aNF],decls:19,vars:15,consts:[[1,"max-w-md","mx-auto","bg-white","p-8","rounded-lg","shadow-md","mt-10"],[1,"text-2xl","font-bold","text-center","text-gray-800","mb-8"],["class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4","role","alert",4,"ngIf"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","email","formControlName","email",1,"mt-1","block","w-full","px-3","py-2","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["class","text-red-600 text-sm mt-1",4,"ngIf"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],["type","password","id","password","formControlName","password",1,"mt-1","block","w-full","px-3","py-2","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],["class","flex items-center",4,"ngIf"],[4,"ngIf"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative","mb-4"],[1,"block","sm:inline"],[1,"text-red-600","text-sm","mt-1"],[1,"flex","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(g,h){1&g&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2,"Connexion"),e.k0s(),e.DNE(3,uo,3,1,"div",2),e.j41(4,"form",3),e.bIt("ngSubmit",function(){return h.onSubmit()}),e.j41(5,"div")(6,"label",4),e.EFF(7,"Adresse email"),e.k0s(),e.nrm(8,"input",5),e.DNE(9,Jo,3,2,"div",6),e.k0s(),e.j41(10,"div")(11,"label",7),e.EFF(12,"Mot de passe"),e.k0s(),e.nrm(13,"input",8),e.DNE(14,Zo,2,1,"div",6),e.k0s(),e.j41(15,"div")(16,"button",9),e.DNE(17,ki,5,0,"span",10)(18,Zn,2,0,"span",11),e.k0s()()()()),2&g&&(e.R7$(3),e.Y8G("ngIf",h.errorMessage),e.R7$(),e.Y8G("formGroup",h.loginForm),e.R7$(4),e.Y8G("ngClass",e.l_i(9,Qo,h.submitted&&h.f.email.errors,!h.submitted||!h.f.email.errors)),e.R7$(),e.Y8G("ngIf",h.submitted&&h.f.email.errors),e.R7$(4),e.Y8G("ngClass",e.l_i(12,Qo,h.submitted&&h.f.password.errors,!h.submitted||!h.f.password.errors)),e.R7$(),e.Y8G("ngIf",h.submitted&&h.f.password.errors),e.R7$(2),e.Y8G("disabled",h.loading),e.R7$(),e.Y8G("ngIf",h.loading),e.R7$(),e.Y8G("ngIf",!h.loading))},dependencies:[U.MD,U.YU,U.bT,F.X1,F.qT,F.me,F.BC,F.cb,F.j4,F.JD]})}return p})();function ms(p,L){if(1&p){const a=e.RV6();e.j41(0,"div",1)(1,"h1",2),e.EFF(2,"Bienvenue dans votre Espace Client"),e.k0s(),e.j41(3,"p",3),e.EFF(4,"Vous \xeates actuellement connect\xe9."),e.k0s(),e.j41(5,"p",4),e.EFF(6," Vous pouvez maintenant consulter vos contrats, d\xe9clarer un sinistre ou mettre \xe0 jour vos informations personnelles. "),e.k0s(),e.j41(7,"div",5)(8,"a",6),e.EFF(9," Acc\xe9der \xe0 mon tableau de bord "),e.k0s(),e.j41(10,"button",7),e.bIt("click",function(){e.eBV(a);const h=e.XpG();return e.Njj(h.logout())}),e.EFF(11," Se d\xe9connecter "),e.k0s()()()}}function Ms(p,L){1&p&&(e.j41(0,"h1",8),e.EFF(1,"Votre Espace Client"),e.k0s(),e.j41(2,"div",9)(3,"div",10)(4,"h2",11),e.EFF(5,"Nouveau Client ?"),e.k0s(),e.j41(6,"p",12),e.EFF(7,"Cr\xe9ez un compte pour acc\xe9der \xe0 tous nos services en ligne et g\xe9rer vos contrats facilement."),e.k0s(),e.j41(8,"a",13),e.EFF(9," Cr\xe9er votre compte "),e.k0s()(),e.j41(10,"div",10)(11,"h2",11),e.EFF(12,"D\xe9j\xe0 Client ?"),e.k0s(),e.j41(13,"p",12),e.EFF(14,"Connectez-vous \xe0 votre espace pour consulter vos informations personnelles et vos contrats."),e.k0s(),e.j41(15,"a",14),e.EFF(16," Authentifiez-vous "),e.k0s(),e.j41(17,"a",15),e.EFF(18," Mot de passe perdu ? "),e.k0s()()())}let Mr=(()=>{class p{authService=(0,e.WQX)(gr);isAuthenticated=this.authService.isAuthenticated;logout(){this.authService.signOut()}static \u0275fac=function(g){return new(g||p)};static \u0275cmp=e.VBU({type:p,selectors:[["app-account"]],standalone:!0,features:[e.aNF],decls:3,vars:1,consts:[[1,"container","mx-auto","px-4","py-8"],[1,"max-w-2xl","mx-auto","bg-white","p-8","rounded-lg","shadow-md","text-center"],[1,"text-3xl","font-bold","mb-4"],[1,"text-gray-700","text-lg","mb-6"],[1,"text-gray-600","mb-8"],[1,"flex","flex-col","sm:flex-row","justify-center","items-center","gap-4"],["routerLink","/mydata",1,"inline-block","bg-indigo-600","text-white","font-bold","py-3","px-6","rounded","hover:bg-indigo-700","transition","duration-300","w-full","sm:w-auto"],[1,"inline-block","bg-red-600","text-white","font-bold","py-3","px-6","rounded","hover:bg-red-700","transition","duration-300","w-full","sm:w-auto",3,"click"],[1,"text-3xl","font-bold","text-center","mb-8"],[1,"max-w-4xl","mx-auto","grid","md:grid-cols-2","gap-8"],[1,"bg-white","p-6","rounded-lg","shadow-md","text-center"],[1,"text-2xl","font-semibold","mb-4"],[1,"text-gray-600","mb-6"],["routerLink","/create-account",1,"inline-block","bg-indigo-600","text-white","font-bold","py-2","px-4","rounded","hover:bg-indigo-700","transition","duration-300"],["routerLink","/login",1,"inline-block","bg-gray-800","text-white","font-bold","py-2","px-4","rounded","hover:bg-gray-900","transition","duration-300"],["routerLink","/lost-password",1,"block","text-sm","text-indigo-600","hover:underline","mt-4"]],template:function(g,h){1&g&&(e.j41(0,"div",0),e.DNE(1,ms,12,0,"div",1)(2,Ms,19,0),e.k0s()),2&g&&(e.R7$(),e.vxM(h.isAuthenticated()?1:2))},dependencies:[Z.Wk]})}return p})(),vr=(()=>{class p{supabaseService;constructor(a){this.supabaseService=a}signUp(a,g){return(0,ln.H)(this.supabaseService.supabase.auth.signUp({email:a.email,password:a.password,options:{data:{firstName:g.firstName,lastName:g.lastName,gender:g.gender}}}))}static \u0275fac=function(g){return new(g||p)(e.KVO(ht.w))};static \u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})();const _n=(p,L)=>({"border-red-500":p,"border-gray-300":L});function Hi(p,L){if(1&p&&(e.j41(0,"div",34)(1,"span",35),e.EFF(2),e.k0s()()),2&p){const a=e.XpG();e.R7$(2),e.JRh(a.successMessage)}}function Er(p,L){if(1&p&&(e.j41(0,"div",36)(1,"span",35),e.EFF(2),e.k0s()()),2&p){const a=e.XpG();e.R7$(2),e.JRh(a.errorMessage)}}function fi(p,L){1&p&&(e.j41(0,"p"),e.EFF(1,"Le genre est requis."),e.k0s())}function wr(p,L){if(1&p&&(e.j41(0,"div",37),e.DNE(1,fi,2,0,"p",38),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.Y8G("ngIf",a.f.gender.errors.required)}}function bo(p,L){1&p&&(e.j41(0,"p"),e.EFF(1,"Le nom est requis."),e.k0s())}function Eo(p,L){if(1&p&&(e.j41(0,"div",37),e.DNE(1,bo,2,0,"p",38),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.Y8G("ngIf",a.f.lastName.errors.required)}}function _r(p,L){1&p&&(e.j41(0,"p"),e.EFF(1,"Le pr\xe9nom est requis."),e.k0s())}function Yn(p,L){if(1&p&&(e.j41(0,"div",37),e.DNE(1,_r,2,0,"p",38),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.Y8G("ngIf",a.f.firstName.errors.required)}}function Rn(p,L){1&p&&(e.j41(0,"p"),e.EFF(1,"L'adresse email est requise."),e.k0s())}function hi(p,L){1&p&&(e.j41(0,"p"),e.EFF(1,"L'adresse email est invalide."),e.k0s())}function _t(p,L){if(1&p&&(e.j41(0,"div",37),e.DNE(1,Rn,2,0,"p",38)(2,hi,2,0,"p",38),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.Y8G("ngIf",a.f.email.errors.required),e.R7$(),e.Y8G("ngIf",a.f.email.errors.email)}}function wo(p,L){1&p&&(e.j41(0,"p"),e.EFF(1,"La confirmation de l'email est requise."),e.k0s())}function yr(p,L){1&p&&(e.j41(0,"p"),e.EFF(1,"Les adresses email ne correspondent pas."),e.k0s())}function co(p,L){if(1&p&&(e.j41(0,"div",37),e.DNE(1,wo,2,0,"p",38)(2,yr,2,0,"p",38),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.Y8G("ngIf",a.f.confirmEmail.errors.required),e.R7$(),e.Y8G("ngIf",a.f.confirmEmail.errors.mustMatch)}}function Zr(p,L){1&p&&(e.j41(0,"p"),e.EFF(1,"Le mot de passe est requis."),e.k0s())}function Si(p,L){1&p&&(e.j41(0,"p"),e.EFF(1,"Le mot de passe doit contenir au moins 6 caract\xe8res."),e.k0s())}function pi(p,L){if(1&p&&(e.j41(0,"div",37),e.DNE(1,Zr,2,0,"p",38)(2,Si,2,0,"p",38),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.Y8G("ngIf",a.f.password.errors.required),e.R7$(),e.Y8G("ngIf",a.f.password.errors.minlength)}}function mi(p,L){1&p&&(e.j41(0,"p"),e.EFF(1,"La confirmation du mot de passe est requise."),e.k0s())}function Bo(p,L){1&p&&(e.j41(0,"p"),e.EFF(1,"Les mots de passe ne correspondent pas."),e.k0s())}function ei(p,L){if(1&p&&(e.j41(0,"div",37),e.DNE(1,mi,2,0,"p",38)(2,Bo,2,0,"p",38),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.Y8G("ngIf",a.f.confirmPassword.errors.required),e.R7$(),e.Y8G("ngIf",a.f.confirmPassword.errors.mustMatch)}}function ti(p,L){1&p&&(e.j41(0,"p"),e.EFF(1,"Le num\xe9ro de GSM est requis."),e.k0s())}function Co(p,L){if(1&p&&(e.j41(0,"div",37),e.DNE(1,ti,2,0,"p",38),e.k0s()),2&p){const a=e.XpG();e.R7$(),e.Y8G("ngIf",a.f.mobileNumber.errors.required)}}function ur(p,L){1&p&&(e.j41(0,"div",37)(1,"p"),e.EFF(2,"Vous devez accepter les conditions g\xe9n\xe9rales."),e.k0s()())}function zr(p,L){if(1&p&&(e.j41(0,"div",39)(1,"span",35),e.EFF(2),e.k0s()()),2&p){const a=e.XpG();e.R7$(2),e.JRh(a.successMessage)}}function zn(p,L){if(1&p&&(e.j41(0,"div",40)(1,"span",35),e.EFF(2),e.k0s()()),2&p){const a=e.XpG();e.R7$(2),e.JRh(a.errorMessage)}}function Do(p,L){return a=>{const g=a.get(p),h=a.get(L);return!g||!h||h.errors&&!h.errors.mustMatch?null:g.value!==h.value?(h.setErrors({mustMatch:!0}),{mustMatch:!0}):(h.setErrors(null),null)}}let Cn=(()=>{class p{fb;dbConnectService;authService;router;platformId;accountForm;submitted=!1;successMessage=null;errorMessage=null;constructor(a,g,h,B,ce){this.fb=a,this.dbConnectService=g,this.authService=h,this.router=B,this.platformId=ce}ngOnInit(){if(this.accountForm=this.fb.group({gender:["",F.k0.required],lastName:["",F.k0.required],firstName:["",F.k0.required],email:["",[F.k0.required,F.k0.email]],confirmEmail:["",F.k0.required],password:["",[F.k0.required,F.k0.minLength(6)]],confirmPassword:["",F.k0.required],mobileNumber:["",F.k0.required],terms:[!1,F.k0.requiredTrue]},{validators:[Do("email","confirmEmail"),Do("password","confirmPassword")]}),(0,U.UE)(this.platformId)){const a=localStorage.getItem("autoFormData");if(a){const h=JSON.parse(a).preneur;let B="";"Madame"===h.genre&&(B="female"),"Monsieur"===h.genre&&(B="male"),"Autre"===h.genre&&(B="other"),this.accountForm.patchValue({gender:B,lastName:h.nom,firstName:h.prenom,email:h.email,confirmEmail:h.email,mobileNumber:h.telephone})}}}get f(){return this.accountForm.controls}onSubmit(){if(this.submitted=!0,this.errorMessage=null,this.successMessage=null,this.accountForm.invalid)return;const{email:a,password:g,firstName:h,lastName:B,gender:ce}=this.accountForm.value;this.authService.signUp({email:a,password:g},{firstName:h,lastName:B,gender:ce}).subscribe({next:Ie=>{Ie.error?(this.errorMessage=Ie.error.message&&Ie.error.message.includes("User already registered")?"Un compte avec cette adresse email existe d\xe9j\xe0. Veuillez vous connecter ou utiliser une autre adresse.":Ie.error.message,console.error("Erreur lors de la cr\xe9ation du compte:",Ie.error)):Ie.data.user&&(Ie.data.user.identities&&Ie.data.user.identities.length>0?(this.successMessage="Votre compte a \xe9t\xe9 cr\xe9\xe9 avec succ\xe8s ! Un email de confirmation vous a \xe9t\xe9 envoy\xe9.",console.log("Utilisateur cr\xe9\xe9:",Ie.data.user),this.accountForm.reset(),this.submitted=!1):this.errorMessage="Un compte avec cette adresse email existe d\xe9j\xe0. Veuillez vous connecter ou utiliser une autre adresse.")},error:Ie=>{this.errorMessage="Une erreur inattendue est survenue. Veuillez r\xe9essayer plus tard.",console.error("Erreur de soumission:",Ie)}})}static \u0275fac=function(g){return new(g||p)(e.rXU(F.ok),e.rXU(jt.y),e.rXU(vr),e.rXU(Z.Ix),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:p,selectors:[["app-account-creation"]],standalone:!0,features:[e.Jv_([vr,jt.y]),e.aNF],decls:66,vars:46,consts:[[1,"max-w-2xl","mx-auto","bg-white","p-8","rounded-lg","shadow-md"],[1,"text-2xl","font-bold","text-center","text-gray-800","mb-8"],["class","bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4","role","alert",4,"ngIf"],["class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4","role","alert",4,"ngIf"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","gender",1,"block","text-sm","font-medium","text-gray-700"],["id","gender","formControlName","gender",1,"mt-1","block","w-full","px-3","py-2","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["value","","disabled",""],["value","male"],["value","female"],["value","other"],["class","text-red-600 text-sm mt-1",4,"ngIf"],["for","lastName",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","lastName","formControlName","lastName",1,"mt-1","block","w-full","px-3","py-2","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["for","firstName",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","firstName","formControlName","firstName",1,"mt-1","block","w-full","px-3","py-2","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","email","formControlName","email",1,"mt-1","block","w-full","px-3","py-2","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["for","confirmEmail",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","confirmEmail","formControlName","confirmEmail",1,"mt-1","block","w-full","px-3","py-2","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],["type","password","id","password","formControlName","password",1,"mt-1","block","w-full","px-3","py-2","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["for","confirmPassword",1,"block","text-sm","font-medium","text-gray-700"],["type","password","id","confirmPassword","formControlName","confirmPassword",1,"mt-1","block","w-full","px-3","py-2","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["for","mobileNumber",1,"block","text-sm","font-medium","text-gray-700"],["type","tel","id","mobileNumber","formControlName","mobileNumber",1,"mt-1","block","w-full","px-3","py-2","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],[1,"flex","items-start"],[1,"flex","items-center","h-5"],["id","terms","formControlName","terms","type","checkbox",1,"focus:ring-indigo-500","h-4","w-4","text-indigo-600","border-gray-300","rounded"],[1,"ml-3","text-sm"],["for","terms",1,"font-medium","text-gray-700"],["class","bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative","role","alert",4,"ngIf"],["class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative","role","alert",4,"ngIf"],["type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500"],["role","alert",1,"bg-green-100","border","border-green-400","text-green-700","px-4","py-3","rounded","relative","mb-4"],[1,"block","sm:inline"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative","mb-4"],[1,"text-red-600","text-sm","mt-1"],[4,"ngIf"],["role","alert",1,"bg-green-100","border","border-green-400","text-green-700","px-4","py-3","rounded","relative"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative"]],template:function(g,h){1&g&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2,"Cr\xe9er un compte"),e.k0s(),e.DNE(3,Hi,3,1,"div",2)(4,Er,3,1,"div",3),e.j41(5,"form",4),e.bIt("ngSubmit",function(){return h.onSubmit()}),e.j41(6,"div")(7,"label",5),e.EFF(8,"Genre"),e.k0s(),e.j41(9,"select",6)(10,"option",7),e.EFF(11,"S\xe9lectionnez votre genre"),e.k0s(),e.j41(12,"option",8),e.EFF(13,"Homme"),e.k0s(),e.j41(14,"option",9),e.EFF(15,"Femme"),e.k0s(),e.j41(16,"option",10),e.EFF(17,"Autre"),e.k0s()(),e.DNE(18,wr,2,1,"div",11),e.k0s(),e.j41(19,"div")(20,"label",12),e.EFF(21,"Nom"),e.k0s(),e.nrm(22,"input",13),e.DNE(23,Eo,2,1,"div",11),e.k0s(),e.j41(24,"div")(25,"label",14),e.EFF(26,"Pr\xe9nom"),e.k0s(),e.nrm(27,"input",15),e.DNE(28,Yn,2,1,"div",11),e.k0s(),e.j41(29,"div")(30,"label",16),e.EFF(31,"Adresse email"),e.k0s(),e.nrm(32,"input",17),e.DNE(33,_t,3,2,"div",11),e.k0s(),e.j41(34,"div")(35,"label",18),e.EFF(36,"Confirmez l'adresse email"),e.k0s(),e.nrm(37,"input",19),e.DNE(38,co,3,2,"div",11),e.k0s(),e.j41(39,"div")(40,"label",20),e.EFF(41,"Mot de passe"),e.k0s(),e.nrm(42,"input",21),e.DNE(43,pi,3,2,"div",11),e.k0s(),e.j41(44,"div")(45,"label",22),e.EFF(46,"Confirmez le mot de passe"),e.k0s(),e.nrm(47,"input",23),e.DNE(48,ei,3,2,"div",11),e.k0s(),e.j41(49,"div")(50,"label",24),e.EFF(51,"Num\xe9ro de GSM"),e.k0s(),e.nrm(52,"input",25),e.DNE(53,Co,2,1,"div",11),e.k0s(),e.j41(54,"div",26)(55,"div",27),e.nrm(56,"input",28),e.k0s(),e.j41(57,"div",29)(58,"label",30),e.EFF(59,"J'accepte les conditions g\xe9n\xe9rales"),e.k0s(),e.DNE(60,ur,3,0,"div",11),e.k0s()(),e.DNE(61,zr,3,1,"div",31)(62,zn,3,1,"div",32),e.j41(63,"div")(64,"button",33),e.EFF(65," Cr\xe9er le compte "),e.k0s()()()()),2&g&&(e.R7$(3),e.Y8G("ngIf",h.successMessage),e.R7$(),e.Y8G("ngIf",h.errorMessage),e.R7$(),e.Y8G("formGroup",h.accountForm),e.R7$(4),e.Y8G("ngClass",e.l_i(22,_n,h.submitted&&h.f.gender.errors,!h.submitted||!h.f.gender.errors)),e.R7$(9),e.Y8G("ngIf",h.submitted&&h.f.gender.errors),e.R7$(4),e.Y8G("ngClass",e.l_i(25,_n,h.submitted&&h.f.lastName.errors,!h.submitted||!h.f.lastName.errors)),e.R7$(),e.Y8G("ngIf",h.submitted&&h.f.lastName.errors),e.R7$(4),e.Y8G("ngClass",e.l_i(28,_n,h.submitted&&h.f.firstName.errors,!h.submitted||!h.f.firstName.errors)),e.R7$(),e.Y8G("ngIf",h.submitted&&h.f.firstName.errors),e.R7$(4),e.Y8G("ngClass",e.l_i(31,_n,h.submitted&&h.f.email.errors,!h.submitted||!h.f.email.errors)),e.R7$(),e.Y8G("ngIf",h.submitted&&h.f.email.errors),e.R7$(4),e.Y8G("ngClass",e.l_i(34,_n,h.submitted&&h.f.confirmEmail.errors,!h.submitted||!h.f.confirmEmail.errors)),e.R7$(),e.Y8G("ngIf",h.submitted&&h.f.confirmEmail.errors),e.R7$(4),e.Y8G("ngClass",e.l_i(37,_n,h.submitted&&h.f.password.errors,!h.submitted||!h.f.password.errors)),e.R7$(),e.Y8G("ngIf",h.submitted&&h.f.password.errors),e.R7$(4),e.Y8G("ngClass",e.l_i(40,_n,h.submitted&&h.f.confirmPassword.errors,!h.submitted||!h.f.confirmPassword.errors)),e.R7$(),e.Y8G("ngIf",h.submitted&&h.f.confirmPassword.errors),e.R7$(4),e.Y8G("ngClass",e.l_i(43,_n,h.submitted&&h.f.mobileNumber.errors,!h.submitted||!h.f.mobileNumber.errors)),e.R7$(),e.Y8G("ngIf",h.submitted&&h.f.mobileNumber.errors),e.R7$(7),e.Y8G("ngIf",h.submitted&&h.f.terms.errors),e.R7$(),e.Y8G("ngIf",h.successMessage),e.R7$(),e.Y8G("ngIf",h.errorMessage))},dependencies:[U.MD,U.YU,U.bT,F.X1,F.qT,F.xH,F.y7,F.me,F.Zm,F.wz,F.BC,F.cb,F.j4,F.JD],encapsulation:2})}return p})();var Cr=M(467),xo=M(9350);function Wr(p,L){const a="object"==typeof L;return new Promise((g,h)=>{let ce,B=!1;p.subscribe({next:Ie=>{ce=Ie,B=!0},error:h,complete:()=>{B?g(ce):a?g(L.defaultValue):h(new xo.G)}})})}var Fo=M(5312);const gi=["fileInput"],Io=(p,L,a)=>({"bg-green-100 text-green-800":p,"bg-yellow-100 text-yellow-800":L,"bg-red-100 text-red-800":a}),Vn=(p,L)=>["/assurance-details",p,L],Ar=(p,L)=>({"z-10 bg-indigo-50 border-indigo-500 text-indigo-600":p,"bg-white border-gray-300 text-gray-500 hover:bg-gray-50":L}),ko=(p,L)=>({"bg-indigo-600 text-white border-indigo-600":p,"bg-white text-gray-700 border-gray-300 hover:bg-gray-50":L});function Ti(p,L){1&p&&(e.j41(0,"div",5)(1,"p",6),e.EFF(2,"Chargement de vos donn\xe9es..."),e.k0s()())}function qi(p,L){if(1&p&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&p){const a=e.XpG(3);e.R7$(),e.Lme("",a.person.code_postal," ",a.person.ville,"")}}function lr(p,L){if(1&p&&(e.j41(0,"div")(1,"div",16)(2,"h2",17),e.EFF(3,"Mes Donn\xe9es Personnelles"),e.k0s(),e.j41(4,"div",18)(5,"div")(6,"p",19),e.EFF(7,"Nom complet"),e.k0s(),e.j41(8,"p",20),e.EFF(9),e.k0s()(),e.j41(10,"div")(11,"p",19),e.EFF(12,"Adresse e-mail"),e.k0s(),e.j41(13,"p",20),e.EFF(14),e.k0s()(),e.j41(15,"div")(16,"p",19),e.EFF(17,"T\xe9l\xe9phone"),e.k0s(),e.j41(18,"p",20),e.EFF(19),e.k0s()(),e.j41(20,"div")(21,"p",19),e.EFF(22,"Date de naissance"),e.k0s(),e.j41(23,"p",20),e.EFF(24),e.nI1(25,"date"),e.k0s()(),e.j41(26,"div",21)(27,"p",19),e.EFF(28,"Adresse"),e.k0s(),e.j41(29,"p",20),e.EFF(30),e.nrm(31,"br"),e.DNE(32,qi,2,2,"span",15),e.k0s()(),e.j41(33,"div")(34,"p",19),e.EFF(35,"Num\xe9ro de permis"),e.k0s(),e.j41(36,"p",20),e.EFF(37),e.k0s()(),e.j41(38,"div")(39,"p",19),e.EFF(40,"Date du permis"),e.k0s(),e.j41(41,"p",20),e.EFF(42),e.nI1(43,"date"),e.k0s()()()()()),2&p){const a=e.XpG(2);e.R7$(9),e.Lme("",a.person.prenom," ",a.person.nom,""),e.R7$(5),e.JRh(a.person.email),e.R7$(5),e.JRh(a.person.telephone||"Non renseign\xe9"),e.R7$(5),e.JRh(a.person.date_naissance?e.i5U(25,9,a.person.date_naissance,"dd/MM/yyyy"):"Non renseign\xe9e"),e.R7$(6),e.SpI(" ",a.person.adresse||"Non renseign\xe9e",""),e.R7$(2),e.Y8G("ngIf",a.person.code_postal&&a.person.ville),e.R7$(5),e.JRh(a.person.permis_numero||"Non renseign\xe9"),e.R7$(5),e.JRh(a.person.permis_date?e.i5U(43,12,a.person.permis_date,"dd/MM/yyyy"):"Non renseign\xe9e")}}function on(p,L){1&p&&(e.j41(0,"div",27),e.qSk(),e.j41(1,"svg",28),e.nrm(2,"circle",29)(3,"path",30),e.k0s(),e.joV(),e.j41(4,"p",31),e.EFF(5,"Chargement des contrats..."),e.k0s()())}function Rr(p,L){if(1&p&&(e.j41(0,"div",32)(1,"p",31),e.EFF(2),e.k0s(),e.j41(3,"a",33),e.EFF(4,"Demander un devis"),e.k0s()()),2&p){const a=e.XpG(3);e.R7$(2),e.SpI("Aucun contrat d'assurance ",a.activeInsuranceCategory," trouv\xe9."),e.R7$(),e.Y8G("routerLink","/particulier/"+a.activeInsuranceCategory)}}function zi(p,L){if(1&p&&(e.j41(0,"tr")(1,"td",42)(2,"div",43),e.EFF(3),e.k0s(),e.j41(4,"div",44),e.EFF(5),e.k0s()(),e.j41(6,"td",45),e.EFF(7),e.nI1(8,"date"),e.k0s(),e.j41(9,"td",42)(10,"span",46),e.EFF(11),e.k0s()(),e.j41(12,"td",47)(13,"a",48),e.EFF(14,"D\xe9tails"),e.k0s()()()),2&p){const a=L.$implicit,g=e.XpG(4);e.R7$(3),e.JRh(a.denomination),e.R7$(2),e.JRh(a.categorie),e.R7$(2),e.JRh(e.i5U(8,6,a.date_contract,"dd/MM/yyyy")),e.R7$(3),e.Y8G("ngClass",e.sMw(9,Io,"Valid\xe9"===a.statut||"Actif"===a.statut,"En attente"===a.statut||"Devis en attente"===a.statut,"Refus\xe9"===a.statut||"R\xe9sili\xe9"===a.statut)),e.R7$(),e.SpI(" ",a.statut," "),e.R7$(2),e.Y8G("routerLink",e.l_i(13,Vn,g.activeInsuranceCategory,a.id))}}function eo(p,L){if(1&p&&(e.j41(0,"div",34)(1,"table",35)(2,"thead",36)(3,"tr")(4,"th",37),e.EFF(5,"D\xe9signation"),e.k0s(),e.j41(6,"th",37),e.EFF(7,"Date d'effet"),e.k0s(),e.j41(8,"th",37),e.EFF(9,"Statut"),e.k0s(),e.j41(10,"th",38)(11,"span",39),e.EFF(12,"Actions"),e.k0s()()()(),e.j41(13,"tbody",40),e.DNE(14,zi,15,16,"tr",41),e.k0s()()()),2&p){const a=e.XpG(3);e.R7$(14),e.Y8G("ngForOf",a.contracts)}}function to(p,L){if(1&p){const a=e.RV6();e.j41(0,"div")(1,"div",16)(2,"h2",17),e.EFF(3,"Mes Assurances"),e.k0s(),e.j41(4,"div",12)(5,"nav",22)(6,"button",23),e.bIt("click",function(){e.eBV(a);const h=e.XpG(2);return e.Njj(h.setInsuranceCategory("auto"))}),e.EFF(7," Auto "),e.k0s(),e.j41(8,"button",23),e.bIt("click",function(){e.eBV(a);const h=e.XpG(2);return e.Njj(h.setInsuranceCategory("habitation"))}),e.EFF(9," Habitation "),e.k0s(),e.j41(10,"button",23),e.bIt("click",function(){e.eBV(a);const h=e.XpG(2);return e.Njj(h.setInsuranceCategory("obseques"))}),e.EFF(11," Obs\xe8ques "),e.k0s()()(),e.DNE(12,on,6,0,"div",24)(13,Rr,5,2,"div",25)(14,eo,15,1,"div",26),e.k0s()()}if(2&p){const a=e.XpG(2);e.R7$(6),e.Y8G("ngClass","auto"===a.activeInsuranceCategory?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngClass","habitation"===a.activeInsuranceCategory?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngClass","obseques"===a.activeInsuranceCategory?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngIf",a.contractsLoading),e.R7$(),e.Y8G("ngIf",!a.contractsLoading&&0===a.contracts.length),e.R7$(),e.Y8G("ngIf",!a.contractsLoading&&a.contracts.length>0)}}function Wi(p,L){1&p&&(e.j41(0,"div",32)(1,"p",31),e.EFF(2,"Aucun document disponible."),e.k0s()())}function fo(p,L){if(1&p&&(e.j41(0,"a",58),e.nrm(1,"i",59),e.EFF(2," Voir le PDF "),e.k0s()),2&p){const a=e.XpG().$implicit;e.Y8G("href",a.signed_pdf_url,e.B4B)}}function Xn(p,L){if(1&p){const a=e.RV6();e.j41(0,"tr")(1,"td",42)(2,"div",50),e.nrm(3,"i",51),e.j41(4,"div",52),e.EFF(5),e.k0s()()(),e.j41(6,"td",45),e.EFF(7),e.nI1(8,"date"),e.k0s(),e.j41(9,"td",42)(10,"span",46),e.EFF(11),e.k0s()(),e.j41(12,"td",47),e.DNE(13,fo,3,1,"a",53),e.j41(14,"button",54),e.bIt("click",function(){const h=e.eBV(a).$implicit,B=e.XpG(4);return e.Njj(B.downloadDocument(h))}),e.nrm(15,"i",55),e.k0s(),e.j41(16,"button",56),e.bIt("click",function(){const h=e.eBV(a).$implicit,B=e.XpG(4);return e.Njj(B.deleteDocument(h))}),e.nrm(17,"i",57),e.k0s()()()}if(2&p){const a=L.$implicit,g=e.XpG(4);e.R7$(3),e.Y8G("ngClass",g.getFileIcon(a.file_name)),e.R7$(),e.Y8G("title",a.file_name),e.R7$(),e.JRh(g.truncateFileName(a.file_name)),e.R7$(2),e.JRh(e.i5U(8,7,a.date_created,"dd/MM/yyyy")),e.R7$(3),e.Y8G("ngClass",e.sMw(10,Io,"Valid\xe9"===a.status||"Sign\xe9"===a.status,!a.status||"En attente"===a.status,"Rejet\xe9"===a.status)),e.R7$(),e.SpI(" ",a.status||"En attente"," "),e.R7$(2),e.Y8G("ngIf",a.signed_pdf_url)}}function ho(p,L){if(1&p){const a=e.RV6();e.qex(0),e.j41(1,"button",72),e.bIt("click",function(){const h=e.eBV(a).$implicit,B=e.XpG(5);return e.Njj(B.goToDocumentsPage(h))}),e.EFF(2),e.k0s(),e.bVm()}if(2&p){const a=L.$implicit,g=e.XpG(5);e.R7$(),e.Y8G("ngClass",e.l_i(2,Ar,a===g.documentsCurrentPage,a!==g.documentsCurrentPage)),e.R7$(),e.SpI(" ",a," ")}}function Yi(p,L){if(1&p){const a=e.RV6();e.j41(0,"div",60)(1,"div",61)(2,"button",62),e.bIt("click",function(){e.eBV(a);const h=e.XpG(4);return e.Njj(h.goToDocumentsPage(h.documentsCurrentPage-1))}),e.EFF(3," Pr\xe9c\xe9dent "),e.k0s(),e.j41(4,"button",63),e.bIt("click",function(){e.eBV(a);const h=e.XpG(4);return e.Njj(h.goToDocumentsPage(h.documentsCurrentPage+1))}),e.EFF(5," Suivant "),e.k0s()(),e.j41(6,"div",64)(7,"div")(8,"p",65),e.EFF(9," Affichage de "),e.j41(10,"span",66),e.EFF(11),e.k0s(),e.EFF(12," \xe0 "),e.j41(13,"span",66),e.EFF(14),e.k0s(),e.EFF(15," sur "),e.j41(16,"span",66),e.EFF(17),e.k0s(),e.EFF(18," r\xe9sultats "),e.k0s()(),e.j41(19,"div")(20,"nav",67)(21,"button",68),e.bIt("click",function(){e.eBV(a);const h=e.XpG(4);return e.Njj(h.goToDocumentsPage(h.documentsCurrentPage-1))}),e.j41(22,"span",39),e.EFF(23,"Pr\xe9c\xe9dent"),e.k0s(),e.nrm(24,"i",69),e.k0s(),e.DNE(25,ho,3,5,"ng-container",41),e.j41(26,"button",70),e.bIt("click",function(){e.eBV(a);const h=e.XpG(4);return e.Njj(h.goToDocumentsPage(h.documentsCurrentPage+1))}),e.j41(27,"span",39),e.EFF(28,"Suivant"),e.k0s(),e.nrm(29,"i",71),e.k0s()()()()()}if(2&p){const a=e.XpG(4);e.R7$(2),e.Y8G("disabled",1===a.documentsCurrentPage),e.R7$(2),e.Y8G("disabled",a.documentsCurrentPage===a.getTotalDocumentPages()),e.R7$(7),e.JRh((a.documentsCurrentPage-1)*a.documentsItemsPerPage+1),e.R7$(3),e.JRh(a.documentsCurrentPage*a.documentsItemsPerPage>a.documents.length?a.documents.length:a.documentsCurrentPage*a.documentsItemsPerPage),e.R7$(3),e.JRh(a.documents.length),e.R7$(4),e.Y8G("disabled",1===a.documentsCurrentPage),e.R7$(4),e.Y8G("ngForOf",a.getDocumentPagesArray()),e.R7$(),e.Y8G("disabled",a.documentsCurrentPage===a.getTotalDocumentPages())}}function gs(p,L){if(1&p&&(e.j41(0,"div",34)(1,"table",35)(2,"thead",36)(3,"tr")(4,"th",37),e.EFF(5,"Nom du fichier"),e.k0s(),e.j41(6,"th",37),e.EFF(7,"Date"),e.k0s(),e.j41(8,"th",37),e.EFF(9,"Statut"),e.k0s(),e.j41(10,"th",38)(11,"span",39),e.EFF(12,"Actions"),e.k0s()()()(),e.j41(13,"tbody",40),e.DNE(14,Xn,18,14,"tr",41),e.k0s()(),e.DNE(15,Yi,30,8,"div",49),e.k0s()),2&p){const a=e.XpG(3);e.R7$(14),e.Y8G("ngForOf",a.paginatedDocuments),e.R7$(),e.Y8G("ngIf",a.getTotalDocumentPages()>1)}}function Xi(p,L){if(1&p&&(e.j41(0,"div")(1,"div",16)(2,"h2",17),e.EFF(3,"Mes Documents"),e.k0s(),e.DNE(4,Wi,3,0,"div",25)(5,gs,16,2,"div",26),e.k0s()()),2&p){const a=e.XpG(2);e.R7$(4),e.Y8G("ngIf",!a.documents||0===a.documents.length),e.R7$(),e.Y8G("ngIf",a.documents&&a.documents.length>0)}}function ni(p,L){if(1&p){const a=e.RV6();e.j41(0,"button",89),e.bIt("click",function(){const h=e.eBV(a).$implicit,B=e.XpG(4);return e.Njj(B.selectDocType(h.id))}),e.EFF(1),e.k0s()}if(2&p){const a=L.$implicit,g=e.XpG(4);e.Y8G("ngClass",e.l_i(2,ko,g.selectedDocTypeId===a.id,g.selectedDocTypeId!==a.id)),e.R7$(),e.SpI(" ",a.Label," ")}}function is(p,L){1&p&&(e.j41(0,"div",96)(1,"div",97),e.nrm(2,"div",98),e.k0s(),e.j41(3,"p",94),e.EFF(4,"T\xe9l\xe9versement en cours..."),e.k0s()())}function Go(p,L){if(1&p){const a=e.RV6();e.j41(0,"div")(1,"p",86),e.EFF(2,"S\xe9lectionnez votre fichier ou glissez-d\xe9posez"),e.k0s(),e.j41(3,"div",90)(4,"div",79),e.nrm(5,"i",91),e.j41(6,"p",92)(7,"span",93),e.EFF(8,"Cliquez pour t\xe9l\xe9verser"),e.k0s(),e.EFF(9," ou glissez-d\xe9posez "),e.k0s(),e.j41(10,"p",94),e.EFF(11,"PDF, JPG, PNG, DOC, DOCX"),e.k0s()(),e.j41(12,"input",84,0),e.bIt("change",function(h){e.eBV(a);const B=e.XpG(4);return e.Njj(B.onFileSelected(h))}),e.k0s()(),e.DNE(14,is,5,0,"div",95),e.k0s()}if(2&p){const a=e.XpG(4);e.R7$(3),e.AVh("opacity-50",a.uploading),e.R7$(2),e.Y8G("ngClass",a.uploading?"fa-spinner fa-spin":"fa-cloud-upload-alt"),e.R7$(7),e.Y8G("disabled",a.uploading),e.R7$(2),e.Y8G("ngIf",a.uploading)}}function Ki(p,L){if(1&p&&(e.j41(0,"div",85)(1,"div",76)(2,"div")(3,"p",86),e.EFF(4,"Choisissez une cat\xe9gorie"),e.k0s(),e.j41(5,"div",87),e.DNE(6,ni,2,5,"button",88),e.k0s()(),e.DNE(7,Go,15,5,"div",15),e.k0s()()),2&p){const a=e.XpG(3);e.R7$(6),e.Y8G("ngForOf",a.documentTypes),e.R7$(),e.Y8G("ngIf",a.selectedDocTypeId)}}function So(p,L){if(1&p){const a=e.RV6();e.j41(0,"div")(1,"div",16)(2,"h2",17),e.EFF(3,"T\xe9l\xe9versement"),e.k0s(),e.DNE(4,Ki,8,2,"div",73),e.j41(5,"div",74)(6,"h3",75),e.EFF(7,"Documents Clients"),e.k0s(),e.j41(8,"div",76)(9,"div")(10,"p",77),e.EFF(11,"T\xe9l\xe9verser un document client ou glissez-d\xe9posez"),e.k0s(),e.j41(12,"div",78)(13,"div",79),e.nrm(14,"i",80),e.j41(15,"p",81)(16,"span",82),e.EFF(17,"Cliquez pour t\xe9l\xe9verser"),e.k0s(),e.EFF(18," ou glissez-d\xe9posez "),e.k0s(),e.j41(19,"p",83),e.EFF(20,"PDF, JPG, PNG, DOC, DOCX"),e.k0s()(),e.j41(21,"input",84),e.bIt("change",function(h){e.eBV(a);const B=e.XpG(2);return e.Njj(B.onFileSelected(h,"documents_clients"))}),e.k0s()()()()()()()}if(2&p){const a=e.XpG(2);e.R7$(4),e.Y8G("ngIf",a.documentTypes&&a.documentTypes.length>0),e.R7$(8),e.AVh("opacity-50",a.uploading),e.R7$(2),e.Y8G("ngClass",a.uploading?"fa-spinner fa-spin":"fa-cloud-upload-alt"),e.R7$(7),e.Y8G("disabled",a.uploading)}}function To(p,L){1&p&&(e.j41(0,"div")(1,"div",16)(2,"h2",17),e.EFF(3,"Mes Paiements"),e.k0s(),e.j41(4,"p",31),e.EFF(5,"L'historique de vos paiements sera affich\xe9 ici."),e.k0s()()())}function T(p,L){if(1&p){const a=e.RV6();e.j41(0,"div",7)(1,"div",8)(2,"h1",9),e.EFF(3,"Mon Espace Client"),e.k0s(),e.j41(4,"button",10),e.bIt("click",function(){e.eBV(a);const h=e.XpG();return e.Njj(h.logout())}),e.nrm(5,"i",11),e.j41(6,"span"),e.EFF(7,"D\xe9connexion"),e.k0s()()(),e.j41(8,"div",12)(9,"nav",13)(10,"button",14),e.bIt("click",function(){e.eBV(a);const h=e.XpG();return e.Njj(h.setView("donnees"))}),e.EFF(11," Mes Donn\xe9es "),e.k0s(),e.j41(12,"button",14),e.bIt("click",function(){e.eBV(a);const h=e.XpG();return e.Njj(h.setView("assurances"))}),e.EFF(13," Assurances "),e.k0s(),e.j41(14,"button",14),e.bIt("click",function(){e.eBV(a);const h=e.XpG();return e.Njj(h.setView("documents"))}),e.EFF(15," Mes Documents "),e.k0s(),e.j41(16,"button",14),e.bIt("click",function(){e.eBV(a);const h=e.XpG();return e.Njj(h.setView("televersement"))}),e.EFF(17," T\xe9l\xe9versement "),e.k0s(),e.j41(18,"button",14),e.bIt("click",function(){e.eBV(a);const h=e.XpG();return e.Njj(h.setView("paiements"))}),e.EFF(19," Mes Paiements "),e.k0s()()(),e.j41(20,"div"),e.DNE(21,lr,44,15,"div",15)(22,to,15,6,"div",15)(23,Xi,6,2,"div",15)(24,So,22,5,"div",15)(25,To,6,0,"div",15),e.k0s()()}if(2&p){const a=e.XpG();e.R7$(10),e.Y8G("ngClass","donnees"===a.activeView?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngClass","assurances"===a.activeView?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngClass","documents"===a.activeView?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngClass","televersement"===a.activeView?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngClass","paiements"===a.activeView?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(3),e.Y8G("ngIf","donnees"===a.activeView),e.R7$(),e.Y8G("ngIf","assurances"===a.activeView),e.R7$(),e.Y8G("ngIf","documents"===a.activeView),e.R7$(),e.Y8G("ngIf","televersement"===a.activeView),e.R7$(),e.Y8G("ngIf","paiements"===a.activeView)}}function A(p,L){if(1&p){const a=e.RV6();e.j41(0,"div",99)(1,"h2",100),e.EFF(2,"Erreur"),e.k0s(),e.j41(3,"p"),e.EFF(4,"Impossible de charger vos informations personnelles."),e.k0s(),e.j41(5,"p",101),e.EFF(6,"Veuillez r\xe9essayer plus tard ou contacter le support si le probl\xe8me persiste."),e.k0s(),e.j41(7,"button",102),e.bIt("click",function(){e.eBV(a);const h=e.XpG();return e.Njj(h.logout())}),e.EFF(8," Se d\xe9connecter "),e.k0s()()}}let x=(()=>{class p{authService;dbConnectService;router;platformId;user=null;person=null;loading=!0;activeView="donnees";contracts=[];contractsLoading=!1;activeInsuranceCategory="auto";documents=[];paginatedDocuments=[];documentsCurrentPage=1;documentsItemsPerPage=5;documentTypes=[];selectedDocTypeId=null;uploading=!1;fileInput;destroy$=new me.B;constructor(a,g,h,B){this.authService=a,this.dbConnectService=g,this.router=h,this.platformId=B}ngOnInit(){(0,U.UE)(this.platformId)&&this.authService.currentUser$.pipe((0,ft.Q)(this.destroy$),(0,ge.M)(()=>this.loading=!0),(0,dt.n)(a=>(this.user=a,a&&a.id&&a.email?this.dbConnectService.linkUserToPerson(a.id,a.email).pipe((0,dt.n)(()=>this.dbConnectService.getPersonByUserId(a.id)),(0,te.W)(g=>(console.error("Erreur lors de la r\xe9cup\xe9ration du profil:",g),(0,J.of)(null)))):(0,J.of)(null)))).subscribe(a=>{this.person=a,this.loading=!1,"assurances"===this.activeView?this.loadContracts(this.activeInsuranceCategory):"documents"===this.activeView&&(this.loadDocuments(),this.loadDocumentTypes())})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setView(a){this.activeView=a,"assurances"===a?this.loadContracts(this.activeInsuranceCategory):"documents"===a&&(this.loadDocuments(),this.loadDocumentTypes())}setInsuranceCategory(a){this.activeInsuranceCategory=a,this.loadContracts(a)}loadContracts(a){this.person&&(this.contractsLoading=!0,this.dbConnectService.getContracts(this.person.id,a).pipe((0,ft.Q)(this.destroy$)).subscribe({next:g=>{this.contracts=g,this.contractsLoading=!1},error:g=>{console.error("Erreur lors du chargement des contrats:",g),this.contractsLoading=!1}}))}loadDocuments(){this.person&&this.dbConnectService.getDocuments(this.person.id).pipe((0,ft.Q)(this.destroy$)).subscribe({next:a=>{this.documents=a,this.documentsCurrentPage=1,this.updatePaginatedDocuments()},error:a=>{console.error("Erreur lors du chargement des documents:",a),this.documents=[],this.updatePaginatedDocuments()}})}loadDocumentTypes(){this.dbConnectService.getDocumentTypes().pipe((0,ft.Q)(this.destroy$)).subscribe({next:a=>{const g=["auto","habitation","obs\xe8ques","obseques"];this.documentTypes=a.filter(h=>g.some(B=>h.Label.toLowerCase().includes(B)))},error:a=>console.error("Erreur chargement types documents",a)})}selectDocType(a){this.selectedDocTypeId=a,this.fileInput?.nativeElement&&(this.fileInput.nativeElement.value="")}onFileSelected(a,g){const h=a.target.files[0],B=a.target;if(h&&this.person&&this.user){if(h.size>5242880)return alert("Le fichier est trop volumineux. La taille maximale autoris\xe9e est de 5 Mo."),void(B.value="");if(!["application/pdf","image/jpeg","image/png","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(h.type))return alert("Format de fichier non support\xe9. Veuillez utiliser un fichier PDF, une image (JPG, PNG) ou un document Word."),void(B.value="");if(!g&&!this.selectedDocTypeId)return void alert("Veuillez d'abord s\xe9lectionner une cat\xe9gorie.");let kt=g||Fo.c.storage_bucket_clients;if(!g&&this.selectedDocTypeId){const st=this.documentTypes.find(Vt=>Vt.id===this.selectedDocTypeId);if(st){const Vt=st.Label.toLowerCase();Vt.includes("auto")?kt="documents_auto":Vt.includes("habitation")?kt="documents_habitation":(Vt.includes("obs\xe8ques")||Vt.includes("obseques"))&&(kt="documents_obseques")}}this.uploading=!0,this.dbConnectService.uploadDocument(h,this.person.id,this.user.id,g?0:this.selectedDocTypeId||0,kt).pipe((0,ft.Q)(this.destroy$)).subscribe({next:st=>{this.documents.unshift(st),this.updatePaginatedDocuments(),this.uploading=!1,B.value=""},error:st=>{console.error("Erreur lors du t\xe9l\xe9versement:",st),this.uploading=!1,B.value="",alert("Une erreur est survenue lors de l'envoi du document.")}})}}downloadDocument(a){var g=this;return(0,Cr.A)(function*(){let h=Fo.c.storage_bucket_clients;if(0===a.id_type)h="documents_clients";else if(a.id_type){const B=g.documentTypes.find(ce=>ce.id===a.id_type);if(B){const ce=B.Label.toLowerCase();ce.includes("auto")?h="documents_auto":ce.includes("habitation")?h="documents_habitation":(ce.includes("obs\xe8ques")||ce.includes("obseques"))&&(h="documents_obseques")}}try{const{data:B,error:ce}=yield g.dbConnectService.createSignedUrl(h,a.path,60);if(ce||!B?.signedUrl)return console.error("Erreur lors de la g\xe9n\xe9ration du lien de t\xe9l\xe9chargement:",ce),void alert("Impossible de t\xe9l\xe9charger le document.");const Ie=document.createElement("a");Ie.href=`${B.signedUrl}&download=${encodeURIComponent(a.file_name)}`,Ie.setAttribute("download",a.file_name),document.body.appendChild(Ie),Ie.click(),document.body.removeChild(Ie)}catch(B){console.error("Erreur lors du t\xe9l\xe9chargement:",B),alert("Une erreur est survenue lors du t\xe9l\xe9chargement.")}})()}deleteDocument(a){if(!confirm("\xcates-vous s\xfbr de vouloir supprimer ce document ?"))return;let g=Fo.c.storage_bucket_clients;if(0===a.id_type)g="documents_clients";else if(a.id_type){const h=this.documentTypes.find(B=>B.id===a.id_type);if(h){const B=h.Label.toLowerCase();B.includes("auto")?g="documents_auto":B.includes("habitation")?g="documents_habitation":(B.includes("obs\xe8ques")||B.includes("obseques"))&&(g="documents_obseques")}}this.dbConnectService.deleteDocument(a.id,a.path,g).pipe((0,ft.Q)(this.destroy$)).subscribe({next:()=>{this.documents=this.documents.filter(h=>h.id!==a.id),this.updatePaginatedDocuments()},error:h=>{console.error("Erreur lors de la suppression:",h),alert("Une erreur est survenue lors de la suppression du document.")}})}updatePaginatedDocuments(){const a=(this.documentsCurrentPage-1)*this.documentsItemsPerPage;this.paginatedDocuments=this.documents.slice(a,a+this.documentsItemsPerPage),0===this.paginatedDocuments.length&&this.documents.length>0&&(this.documentsCurrentPage=Math.max(1,this.documentsCurrentPage-1),this.updatePaginatedDocuments())}goToDocumentsPage(a){this.documentsCurrentPage=a,this.updatePaginatedDocuments()}getTotalDocumentPages(){return Math.ceil(this.documents.length/this.documentsItemsPerPage)}getDocumentPagesArray(){return Array(this.getTotalDocumentPages()).fill(0).map((a,g)=>g+1)}getFileIcon(a){switch(a.split(".").pop()?.toLowerCase()){case"pdf":return"fa-file-pdf text-red-500";case"jpg":case"jpeg":case"png":case"gif":return"fa-file-image text-blue-500";case"doc":case"docx":return"fa-file-word text-blue-700";case"xls":case"xlsx":return"fa-file-excel text-green-600";default:return"fa-file text-gray-400"}}truncateFileName(a){if(!a)return"";const g=a.split("."),h=g.length>1?"."+g.pop():"",B=g.join(".");return B.length>6?B.substring(0,6)+"..."+h:a}logout(){var a=this;return(0,Cr.A)(function*(){try{yield Wr(a.authService.signOut()),a.router.navigate(["/login"])}catch(g){console.error("Logout error:",g)}})()}static \u0275fac=function(g){return new(g||p)(e.rXU(gr),e.rXU(jt.y),e.rXU(Z.Ix),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:p,selectors:[["app-mydata"]],viewQuery:function(g,h){if(1&g&&e.GBs(gi,5),2&g){let B;e.mGM(B=e.lsd())&&(h.fileInput=B.first)}},standalone:!0,features:[e.aNF],decls:4,vars:3,consts:[["fileInput",""],[1,"container","mx-auto","p-4","lg:p-8"],["class","text-center py-10",4,"ngIf"],["class","max-w-4xl mx-auto",4,"ngIf"],["class","text-center text-gray-500 bg-gray-50 p-8 rounded-lg shadow-md max-w-md mx-auto mt-10",4,"ngIf"],[1,"text-center","py-10"],[1,"text-gray-600"],[1,"max-w-4xl","mx-auto"],[1,"flex","justify-between","items-center","mb-8","border-b","pb-4"],[1,"text-3xl","font-bold","text-gray-800"],[1,"px-4","py-2","bg-red-600","text-white","text-sm","font-medium","rounded-md","hover:bg-red-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500","flex","items-center",3,"click"],[1,"fas","fa-sign-out-alt","mr-2"],[1,"border-b","border-gray-200","mb-6"],["aria-label","Tabs",1,"-mb-px","flex","space-x-8"],[1,"whitespace-nowrap","py-4","px-1","border-b-2","font-medium","text-sm",3,"click","ngClass"],[4,"ngIf"],[1,"bg-white","p-8","rounded-lg","shadow-lg"],[1,"text-2xl","font-bold","mb-6","text-gray-700"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-x-8","gap-y-6"],[1,"text-sm","font-medium","text-gray-500"],[1,"text-lg","font-semibold","text-gray-900"],[1,"md:col-span-2"],["aria-label","Insurance Tabs",1,"-mb-px","flex","space-x-6"],[1,"whitespace-nowrap","pb-4","px-1","border-b-2","font-medium","text-sm",3,"click","ngClass"],["class","text-center py-4",4,"ngIf"],["class","text-center py-8 bg-gray-50 rounded-lg",4,"ngIf"],["class","overflow-x-auto",4,"ngIf"],[1,"text-center","py-4"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-8","w-8","text-indigo-600","mx-auto","mb-2"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"text-gray-500"],[1,"text-center","py-8","bg-gray-50","rounded-lg"],[1,"mt-4","inline-block","text-indigo-600","hover:text-indigo-800","font-medium",3,"routerLink"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],["scope","col",1,"relative","px-6","py-3"],[1,"sr-only"],[1,"bg-white","divide-y","divide-gray-200"],[4,"ngFor","ngForOf"],[1,"px-6","py-4","whitespace-nowrap"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-500"],[1,"px-2","inline-flex","text-xs","leading-5","font-semibold","rounded-full",3,"ngClass"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium"],[1,"text-indigo-600","hover:text-indigo-900",3,"routerLink"],["class","bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6 mt-4 rounded-b-lg",4,"ngIf"],[1,"flex","items-center"],[1,"fas","mr-3","text-lg",3,"ngClass"],[1,"text-sm","font-medium","text-gray-900",3,"title"],["target","_blank","class","text-indigo-600 hover:text-indigo-900 mr-4",3,"href",4,"ngIf"],["title","T\xe9l\xe9charger",1,"text-blue-600","hover:text-blue-900","mr-4",3,"click"],[1,"fas","fa-download"],["title","Supprimer",1,"text-red-600","hover:text-red-900",3,"click"],[1,"fas","fa-trash-alt"],["target","_blank",1,"text-indigo-600","hover:text-indigo-900","mr-4",3,"href"],[1,"fas","fa-file-pdf","mr-1"],[1,"bg-white","px-4","py-3","flex","items-center","justify-between","border-t","border-gray-200","sm:px-6","mt-4","rounded-b-lg"],[1,"flex-1","flex","justify-between","sm:hidden"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","text-sm","font-medium","rounded-md","text-gray-700","bg-white","hover:bg-gray-50","disabled:opacity-50",3,"click","disabled"],[1,"ml-3","relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","text-sm","font-medium","rounded-md","text-gray-700","bg-white","hover:bg-gray-50","disabled:opacity-50",3,"click","disabled"],[1,"hidden","sm:flex-1","sm:flex","sm:items-center","sm:justify-between"],[1,"text-sm","text-gray-700"],[1,"font-medium"],["aria-label","Pagination",1,"relative","z-0","inline-flex","rounded-md","shadow-sm","-space-x-px"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-l-md","border","border-gray-300","bg-white","text-sm","font-medium","text-gray-500","hover:bg-gray-50","disabled:opacity-50",3,"click","disabled"],[1,"fas","fa-chevron-left","h-5","w-5"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-r-md","border","border-gray-300","bg-white","text-sm","font-medium","text-gray-500","hover:bg-gray-50","disabled:opacity-50",3,"click","disabled"],[1,"fas","fa-chevron-right","h-5","w-5"],[1,"relative","inline-flex","items-center","px-4","py-2","border","text-sm","font-medium",3,"click","ngClass"],["class","bg-gray-50 p-6 rounded-lg border border-gray-200 mb-8",4,"ngIf"],[1,"bg-blue-50","p-6","rounded-lg","border","border-blue-200","mb-8"],[1,"text-lg","font-bold","mb-4","text-blue-800"],[1,"space-y-4"],[1,"block","text-sm","font-medium","text-blue-700","mb-2"],[1,"relative","border-2","border-dashed","border-blue-300","rounded-lg","p-6","flex","justify-center","items-center","hover:bg-blue-100","transition-colors"],[1,"text-center"],[1,"fas","text-3xl","text-blue-400","mb-2",3,"ngClass"],[1,"text-sm","text-blue-700"],[1,"font-medium","text-blue-800","hover:text-blue-900"],[1,"text-xs","text-blue-600","mt-1"],["type","file","accept",".pdf,.jpg,.jpeg,.png,.doc,.docx",1,"absolute","inset-0","w-full","h-full","opacity-0","cursor-pointer",3,"change","disabled"],[1,"bg-gray-50","p-6","rounded-lg","border","border-gray-200","mb-8"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"flex","flex-wrap","gap-3"],["type","button","class","px-4 py-2 text-sm font-medium rounded-md border shadow-sm transition-colors duration-150 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button",1,"px-4","py-2","text-sm","font-medium","rounded-md","border","shadow-sm","transition-colors","duration-150","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click","ngClass"],[1,"relative","border-2","border-dashed","border-gray-300","rounded-lg","p-6","flex","justify-center","items-center","hover:bg-gray-50","transition-colors"],[1,"fas","text-3xl","text-gray-400","mb-2",3,"ngClass"],[1,"text-sm","text-gray-600"],[1,"font-medium","text-indigo-600","hover:text-indigo-500"],[1,"text-xs","text-gray-500","mt-1"],["class","mt-4 w-full max-w-sm",4,"ngIf"],[1,"mt-4","w-full","max-w-sm"],[1,"w-full","bg-gray-200","rounded-full","h-2.5"],[1,"bg-indigo-600","h-2.5","rounded-full","animate-pulse",2,"width","100%"],[1,"text-center","text-gray-500","bg-gray-50","p-8","rounded-lg","shadow-md","max-w-md","mx-auto","mt-10"],[1,"text-xl","font-bold","mb-4","text-red-600"],[1,"text-sm","mt-2"],[1,"mt-6","px-6","py-2","bg-indigo-600","text-white","font-medium","rounded-md","hover:bg-indigo-700",3,"click"]],template:function(g,h){1&g&&(e.j41(0,"div",1),e.DNE(1,Ti,3,0,"div",2)(2,T,26,10,"div",3)(3,A,9,0,"div",4),e.k0s()),2&g&&(e.R7$(),e.Y8G("ngIf",h.loading),e.R7$(),e.Y8G("ngIf",!h.loading&&h.person),e.R7$(),e.Y8G("ngIf",!h.loading&&!h.person))},dependencies:[U.MD,U.YU,U.Sq,U.bT,U.vh,Z.iI,Z.Wk,F.YN],encapsulation:2})}return p})();const H=(p,L)=>({"border-red-500":p,"border-gray-300":L});function ue(p,L){if(1&p&&(e.j41(0,"div",6)(1,"span",7),e.EFF(2),e.k0s()()),2&p){const a=e.XpG();e.R7$(2),e.JRh(a.successMessage)}}function ze(p,L){if(1&p&&(e.j41(0,"div",8)(1,"span",7),e.EFF(2),e.k0s()()),2&p){const a=e.XpG();e.R7$(2),e.JRh(a.errorMessage)}}function Bt(p,L){1&p&&(e.j41(0,"p"),e.EFF(1,"L'adresse e-mail est requise."),e.k0s())}function po(p,L){1&p&&(e.j41(0,"p"),e.EFF(1,"Veuillez saisir une adresse e-mail valide."),e.k0s())}function Mo(p,L){if(1&p&&(e.j41(0,"div",15),e.DNE(1,Bt,2,0,"p",14)(2,po,2,0,"p",14),e.k0s()),2&p){let a,g;const h=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(a=h.passwordLostForm.get("email"))||null==a.errors?null:a.errors.required),e.R7$(),e.Y8G("ngIf",null==(g=h.passwordLostForm.get("email"))||null==g.errors?null:g.errors.email)}}function Dr(p,L){1&p&&(e.j41(0,"span"),e.EFF(1,"Envoyer le lien de r\xe9initialisation"),e.k0s())}function vs(p,L){1&p&&(e.j41(0,"span"),e.EFF(1,"Envoi en cours..."),e.k0s())}function ri(p,L){if(1&p){const a=e.RV6();e.j41(0,"form",9),e.bIt("ngSubmit",function(){e.eBV(a);const h=e.XpG();return e.Njj(h.onSubmit())}),e.j41(1,"div")(2,"label",10),e.EFF(3,"Adresse e-mail"),e.k0s(),e.nrm(4,"input",11),e.DNE(5,Mo,3,2,"div",12),e.k0s(),e.j41(6,"div")(7,"button",13),e.DNE(8,Dr,2,0,"span",14)(9,vs,2,0,"span",14),e.k0s()()()}if(2&p){let a,g;const h=e.XpG();e.Y8G("formGroup",h.passwordLostForm),e.R7$(4),e.Y8G("ngClass",e.l_i(6,H,(null==(a=h.passwordLostForm.get("email"))?null:a.touched)&&(null==(a=h.passwordLostForm.get("email"))?null:a.invalid),!(null!=(a=h.passwordLostForm.get("email"))&&a.touched&&null!=(a=h.passwordLostForm.get("email"))&&a.invalid))),e.R7$(),e.Y8G("ngIf",(null==(g=h.passwordLostForm.get("email"))?null:g.touched)&&(null==(g=h.passwordLostForm.get("email"))?null:g.invalid)),e.R7$(2),e.Y8G("disabled",h.loading||h.passwordLostForm.invalid),e.R7$(),e.Y8G("ngIf",!h.loading),e.R7$(),e.Y8G("ngIf",h.loading)}}let Mi=(()=>{class p{fb;authService;passwordLostForm;loading=!1;successMessage=null;errorMessage=null;constructor(a,g){this.fb=a,this.authService=g,this.passwordLostForm=this.fb.group({email:["",[F.k0.required,F.k0.email]]})}onSubmit(){var a=this;return(0,Cr.A)(function*(){if(!a.passwordLostForm.invalid){a.loading=!0,a.successMessage=null,a.errorMessage=null;try{const g=a.passwordLostForm.value.email,h=yield Wr(a.authService.sendPasswordResetEmail(g));h&&h.error?a.errorMessage="Une erreur est survenue. Veuillez v\xe9rifier l'adresse e-mail et r\xe9essayer.":a.successMessage="Si un compte est associ\xe9 \xe0 cette adresse, un e-mail de r\xe9initialisation a \xe9t\xe9 envoy\xe9."}finally{a.loading=!1}}})()}static \u0275fac=function(g){return new(g||p)(e.rXU(F.ok),e.rXU(gr))};static \u0275cmp=e.VBU({type:p,selectors:[["app-account-password-lost"]],standalone:!0,features:[e.aNF],decls:8,vars:3,consts:[[1,"max-w-md","mx-auto","bg-white","p-8","rounded-lg","shadow-md","mt-10"],[1,"text-2xl","font-bold","text-center","text-gray-800","mb-6"],[1,"text-center","text-gray-600","mb-6"],["class","bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4","role","alert",4,"ngIf"],["class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4","role","alert",4,"ngIf"],["class","space-y-6",3,"formGroup","ngSubmit",4,"ngIf"],["role","alert",1,"bg-green-100","border","border-green-400","text-green-700","px-4","py-3","rounded","relative","mb-4"],[1,"block","sm:inline"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative","mb-4"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","email","formControlName","email",1,"mt-1","block","w-full","px-3","py-2","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["class","text-red-600 text-sm mt-1",4,"ngIf"],["type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","disabled:bg-gray-400","disabled:cursor-not-allowed",3,"disabled"],[4,"ngIf"],[1,"text-red-600","text-sm","mt-1"]],template:function(g,h){1&g&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2,"Mot de passe perdu ?"),e.k0s(),e.j41(3,"p",2),e.EFF(4,"Entrez votre adresse e-mail et nous vous enverrons un lien pour r\xe9initialiser votre mot de passe."),e.k0s(),e.DNE(5,ue,3,1,"div",3)(6,ze,3,1,"div",4)(7,ri,10,9,"form",5),e.k0s()),2&g&&(e.R7$(5),e.Y8G("ngIf",h.successMessage),e.R7$(),e.Y8G("ngIf",h.errorMessage),e.R7$(),e.Y8G("ngIf",!h.successMessage))},dependencies:[U.MD,U.YU,U.bT,F.X1,F.qT,F.me,F.BC,F.cb,F.j4,F.JD],encapsulation:2})}return p})(),Qi=(()=>{class p{static \u0275fac=function(g){return new(g||p)};static \u0275cmp=e.VBU({type:p,selectors:[["app-account-password-reset"]],standalone:!0,features:[e.aNF],decls:2,vars:0,template:function(g,h){1&g&&(e.j41(0,"p"),e.EFF(1,"account-password-reset works!"),e.k0s())}})}return p})();var Ho=M(5964),Ji=M(6697);const Xs=(p,L)=>({"bg-red-100 text-red-700":p,"bg-green-100 text-green-700":L});function Ks(p,L){if(1&p&&(e.j41(0,"div",21),e.EFF(1),e.k0s()),2&p){const a=e.XpG();e.Y8G("ngClass",e.l_i(2,Xs,!a.submissionStatus.success,a.submissionStatus.success)),e.R7$(),e.SpI(" ",a.submissionStatus.message," ")}}let zt=(()=>{class p{fb;router;dbConnectService;platformId;accountForm;preneurData;submissionStatus=null;constructor(a,g,h,B){this.fb=a,this.router=g,this.dbConnectService=h,this.platformId=B,this.accountForm=this.fb.group({nom:[{value:"",disabled:!0},F.k0.required],prenom:[{value:"",disabled:!0},F.k0.required],email:[{value:"",disabled:!0},[F.k0.required,F.k0.email]],permis:[{value:"",disabled:!0},F.k0.required],password:["",[F.k0.required,F.k0.minLength(8)]]})}ngOnInit(){if((0,U.UE)(this.platformId)){const a=this.router.getCurrentNavigation();this.preneurData=a?.extras?.state?.preneurData,this.preneurData?this.accountForm.patchValue({nom:this.preneurData.nom,prenom:this.preneurData.prenom,email:this.preneurData.email,permis:this.preneurData.permis}):(console.warn("Aucune donn\xe9e de preneur re\xe7ue. Redirection vers le formulaire auto."),this.router.navigate(["/particulier/auto"]))}}onSubmit(){if(this.accountForm.invalid)return void(this.submissionStatus={success:!1,message:"Veuillez choisir un mot de passe valide."});const a=this.accountForm.getRawValue();this.dbConnectService.createUser({nom:a.nom,prenom:a.prenom,email:a.email,permis:a.permis,password:a.password,dateNaissance:this.preneurData.dateNaissance,telephone:this.preneurData.telephone,adresse:this.preneurData.adresse,codePostal:this.preneurData.codePostal,ville:this.preneurData.ville,genre:this.preneurData.genre,datePermis:this.preneurData.datePermis}).subscribe({next:h=>{this.submissionStatus={success:!0,message:"Votre compte a \xe9t\xe9 cr\xe9\xe9 avec succ\xe8s ! Vous allez \xeatre redirig\xe9."}},error:h=>{this.submissionStatus={success:!1,message:"Une erreur est survenue lors de la cr\xe9ation du compte."},console.error(h)}})}static \u0275fac=function(g){return new(g||p)(e.rXU(F.ok),e.rXU(Z.Ix),e.rXU(jt.y),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:p,selectors:[["app-createuseraccount"]],standalone:!0,features:[e.aNF],decls:37,vars:3,consts:[[1,"max-w-4xl","mx-auto","p-6","bg-white","rounded-lg","shadow-md"],[1,"text-3xl","font-bold","text-gray-800","mb-6","border-b","pb-4"],[1,"mb-6","text-gray-600"],["class","p-4 mb-4 text-sm rounded-lg",3,"ngClass",4,"ngIf"],["novalidate","",3,"ngSubmit","formGroup"],[1,"mb-8","p-4","border","rounded-md"],[1,"text-xl","font-semibold","text-gray-700","px-2"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6","mt-4"],["for","nom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","nom","formControlName","nom",1,"mt-1","block","w-full","px-3","py-2","bg-gray-100","border","border-gray-300","rounded-md","shadow-sm","cursor-not-allowed"],["for","prenom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","prenom","formControlName","prenom",1,"mt-1","block","w-full","px-3","py-2","bg-gray-100","border","border-gray-300","rounded-md","shadow-sm","cursor-not-allowed"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","email","formControlName","email",1,"mt-1","block","w-full","px-3","py-2","bg-gray-100","border","border-gray-300","rounded-md","shadow-sm","cursor-not-allowed"],["for","permis",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","permis","formControlName","permis",1,"mt-1","block","w-full","px-3","py-2","bg-gray-100","border","border-gray-300","rounded-md","shadow-sm","cursor-not-allowed"],[1,"mt-4"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],["type","password","id","password","formControlName","password",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-blue-500","focus:border-blue-500"],[1,"flex","justify-end"],["type","submit",1,"inline-flex","justify-center","py-2","px-4","border","border-transparent","shadow-sm","text-sm","font-medium","rounded-md","text-white","bg-blue-600","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","disabled:bg-gray-400",3,"disabled"],[1,"p-4","mb-4","text-sm","rounded-lg",3,"ngClass"]],template:function(g,h){1&g&&(e.j41(0,"div",0)(1,"h1",1),e.EFF(2,"Cr\xe9ation de votre compte"),e.k0s(),e.j41(3,"p",2),e.EFF(4," Pour finaliser votre demande de devis et acc\xe9der \xe0 votre espace personnel, veuillez cr\xe9er un compte. Vos informations personnelles ont \xe9t\xe9 pr\xe9-remplies pour vous faciliter la t\xe2che. "),e.k0s(),e.DNE(5,Ks,2,5,"div",3),e.j41(6,"form",4),e.bIt("ngSubmit",function(){return h.onSubmit()}),e.j41(7,"fieldset",5)(8,"legend",6),e.EFF(9,"Informations personnelles"),e.k0s(),e.j41(10,"div",7)(11,"div")(12,"label",8),e.EFF(13,"Nom"),e.k0s(),e.nrm(14,"input",9),e.k0s(),e.j41(15,"div")(16,"label",10),e.EFF(17,"Pr\xe9nom"),e.k0s(),e.nrm(18,"input",11),e.k0s(),e.j41(19,"div")(20,"label",12),e.EFF(21,"Adresse e-mail"),e.k0s(),e.nrm(22,"input",13),e.k0s(),e.j41(23,"div")(24,"label",14),e.EFF(25,"Num\xe9ro de permis"),e.k0s(),e.nrm(26,"input",15),e.k0s()()(),e.j41(27,"fieldset",5)(28,"legend",6),e.EFF(29,"S\xe9curit\xe9 du compte"),e.k0s(),e.j41(30,"div",16)(31,"label",17),e.EFF(32,"Choisissez un mot de passe"),e.k0s(),e.nrm(33,"input",18),e.k0s()(),e.j41(34,"div",19)(35,"button",20),e.EFF(36," Cr\xe9er mon compte et voir mon devis "),e.k0s()()()()),2&g&&(e.R7$(5),e.Y8G("ngIf",h.submissionStatus),e.R7$(),e.Y8G("formGroup",h.accountForm),e.R7$(29),e.Y8G("disabled",h.accountForm.invalid))},dependencies:[U.MD,U.YU,U.bT,F.X1,F.qT,F.me,F.BC,F.cb,F.j4,F.JD],encapsulation:2})}return p})();var In=M(9172);const er=()=>[1,2,3,4,5];function oi(p,L){1&p&&e.nrm(0,"div",8)}function ir(p,L){1&p&&(e.j41(0,"div",6),e.DNE(1,oi,1,0,"div",7),e.k0s()),2&p&&(e.R7$(),e.Y8G("ngForOf",e.lJ4(1,er)))}function Ao(p,L){if(1&p&&(e.j41(0,"div",9)(1,"p"),e.EFF(2,"\u274c Une erreur est survenue lors du chargement des devis."),e.k0s(),e.j41(3,"small"),e.EFF(4),e.k0s()()),2&p){const a=e.XpG().ngIf;e.R7$(4),e.JRh((null==a.error?null:a.error.message)||a.error)}}function Zi(p,L){1&p&&(e.j41(0,"div",10)(1,"p"),e.EFF(2,"Aucun devis disponible pour le moment."),e.k0s()())}function Ri(p,L){if(1&p){const a=e.RV6();e.j41(0,"div",14)(1,"div",15)(2,"div")(3,"h3"),e.EFF(4),e.k0s(),e.j41(5,"span"),e.nI1(6,"lowercase"),e.EFF(7),e.k0s()()(),e.j41(8,"div",16)(9,"p")(10,"strong"),e.EFF(11,"Preneur :"),e.k0s(),e.EFF(12),e.k0s(),e.j41(13,"p")(14,"strong"),e.EFF(15,"Date demande :"),e.k0s(),e.EFF(16),e.nI1(17,"date"),e.k0s()(),e.j41(18,"div",17)(19,"button",18),e.bIt("click",function(){const h=e.eBV(a).$implicit,B=e.XpG(3);return e.Njj(B.viewDetails(h.type,h.id))}),e.EFF(20,"Voir d\xe9tails"),e.k0s()()()}if(2&p){const a=L.$implicit;e.R7$(4),e.SpI("Devis Auto #",a.id,""),e.R7$(),e.ZvI("status status-",e.bMT(6,8,a.statut),""),e.R7$(2),e.SpI(" ",a.statut," "),e.R7$(5),e.Lme(" ",a.prenom," ",a.nom,""),e.R7$(4),e.SpI(" ",e.i5U(17,10,a.dateDemande,"dd/MM/yyyy \xe0 HH:mm"),"")}}function As(p,L){if(1&p&&(e.j41(0,"div",11)(1,"h2",12),e.EFF(2,"\u{1f4c1} Derniers devis automobile"),e.k0s(),e.DNE(3,Ri,21,13,"div",13),e.k0s()),2&p){const a=e.XpG().ngIf;e.R7$(3),e.Y8G("ngForOf",a.data)}}function Ni(p,L){if(1&p&&(e.qex(0),e.DNE(1,ir,2,2,"div",2)(2,Ao,5,1,"div",3)(3,Zi,3,0,"div",4)(4,As,4,1,"div",5),e.bVm()),2&p){const a=L.ngIf;e.R7$(),e.Y8G("ngIf",a.loading),e.R7$(),e.Y8G("ngIf",a.error),e.R7$(),e.Y8G("ngIf",!(a.loading||a.error||a.data&&0!==a.data.length)),e.R7$(),e.Y8G("ngIf",a.data&&a.data.length>0)}}let Yr=(()=>{class p{router=(0,e.WQX)(Z.Ix);platformId=(0,e.WQX)(e.Agw);dbConnectService=(0,e.WQX)(jt.y);quotes$=(0,J.of)({data:null,loading:!0,error:null});ngOnInit(){if((0,U.UE)(this.platformId)){const B=this.dbConnectService.getAllAutoQuotes("",1,10);this.quotes$=this.fetchData(B).pipe((0,In.Z)({data:null,loading:!0,error:null}))}else this.quotes$=(0,J.of)({data:[],loading:!1,error:null})}fetchData(a){return a.pipe((0,fe.T)(g=>(console.log("[DashboardComponent] fetchData rawData:",g.data),{data:g.data.map(h=>({id:h.id,nom:h.preneur?.nom??"N/A",prenom:h.preneur?.prenom??"",dateDemande:h.created_at,statut:h.statut||"Nouveau",type:"automobile"})),loading:!1,error:null})),(0,te.W)(g=>(console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es pour le dashboard:",g),(0,J.of)({data:null,loading:!1,error:g}))))}viewDetails(a,g){a&&this.router.navigate([`/intranet/gestion-${a}`,g])}static \u0275fac=function(g){return new(g||p)};static \u0275cmp=e.VBU({type:p,selectors:[["app-dashboard"]],standalone:!0,features:[e.aNF],decls:3,vars:3,consts:[[1,"dashboard-container"],[4,"ngIf"],["class","loading-section",4,"ngIf"],["class","error-box",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","quotes-list",4,"ngIf"],[1,"loading-section"],["class","skeleton-card",4,"ngFor","ngForOf"],[1,"skeleton-card"],[1,"error-box"],[1,"empty-state"],[1,"quotes-list"],[1,"section-title"],["class","quote-card",4,"ngFor","ngForOf"],[1,"quote-card"],[1,"card-header"],[1,"card-body"],[1,"card-footer"],[3,"click"]],template:function(g,h){1&g&&(e.j41(0,"div",0),e.DNE(1,Ni,5,4,"ng-container",1),e.nI1(2,"async"),e.k0s()),2&g&&(e.R7$(),e.Y8G("ngIf",e.bMT(2,1,h.quotes$)))},dependencies:[U.MD,U.Sq,U.bT,U.Jj,U.GH,U.vh],styles:[".dashboard-container[_ngcontent-%COMP%]{padding:20px;max-width:900px;margin:auto;font-family:Arial,sans-serif}.section-title[_ngcontent-%COMP%]{margin-bottom:20px;font-size:22px;font-weight:700}.contracts-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.contract-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:10px;padding:15px;background:#fafafa;box-shadow:0 2px 4px #0000000d}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px}.status[_ngcontent-%COMP%]{padding:4px 8px;border-radius:6px;font-size:12px;margin-left:10px;color:#fff}.status.actif[_ngcontent-%COMP%]{background:#2ecc71}.status.expire[_ngcontent-%COMP%]{background:#e67e22}.status.annule[_ngcontent-%COMP%]{background:#e74c3c}.card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0}.card-footer[_ngcontent-%COMP%]{margin-top:10px}button[_ngcontent-%COMP%]{background:#3498db;border:none;padding:8px 14px;border-radius:6px;color:#fff;cursor:pointer}button[_ngcontent-%COMP%]:hover{background:#2980b9}.error-box[_ngcontent-%COMP%]{border:1px solid #e74c3c;background:#fdecea;padding:15px;border-radius:8px;color:#c0392b;margin-bottom:20px}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:30px;color:#666}.skeleton-card[_ngcontent-%COMP%]{height:90px;border-radius:8px;background:linear-gradient(90deg,#e0e0e0,#f5f5f5,#e0e0e0);background-size:200%;animation:_ngcontent-%COMP%_loading 1.2s infinite;margin-bottom:10px}@keyframes _ngcontent-%COMP%_loading{0%{background-position:200% 0}to{background-position:-200% 0}}"]})}return p})(),Rs=(()=>{class p{dbConnectService;constructor(a){this.dbConnectService=a}getAutoRequests(a,g,h){return this.dbConnectService.getAllAutoQuotes(a,g,h).pipe((0,fe.T)(B=>(console.log("[AutoManagementService] Donn\xe9es brutes re\xe7ues:",B.data),{data:B.data.map(ce=>this.transformToAutoRequest(ce)),count:B.count})),(0,te.W)(B=>(console.error("[AutoManagementService] Erreur lors de la r\xe9cup\xe9ration des demandes auto:",B),(0,J.of)({data:[],count:0}))))}transformToAutoRequest(a){return{id:a.id,nom:a.preneur?.nom??"N/A",prenom:a.preneur?.prenom??"",dateDemande:a.created_at,statut:this.normalizeStatus(a.statut)}}normalizeStatus(a){return a&&["Nouveau","En cours","Trait\xe9"].includes(a)?a:"Nouveau"}static \u0275fac=function(g){return new(g||p)(e.KVO(jt.y))};static \u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})();const Ns=(p,L,a)=>({"bg-blue-100 text-blue-800":p,"bg-yellow-100 text-yellow-800":L,"bg-green-100 text-green-800":a});function ss(p,L){if(1&p){const a=e.RV6();e.j41(0,"tr",20)(1,"td",21),e.EFF(2),e.k0s(),e.j41(3,"td",22),e.EFF(4),e.k0s(),e.j41(5,"td",22),e.EFF(6),e.nI1(7,"date"),e.k0s(),e.j41(8,"td",23)(9,"span",24),e.EFF(10),e.k0s()(),e.j41(11,"td",25)(12,"button",26),e.bIt("click",function(){const h=e.eBV(a).$implicit,B=e.XpG();return e.Njj(B.viewDetails(h.id))}),e.EFF(13,"Voir / Modifier"),e.k0s()()()}if(2&p){const a=L.$implicit;e.R7$(2),e.JRh(a.id),e.R7$(2),e.Lme("",a.prenom," ",a.nom,""),e.R7$(2),e.JRh(e.i5U(7,6,a.dateDemande,"dd/MM/yyyy")),e.R7$(3),e.Y8G("ngClass",e.sMw(9,Ns,"Nouveau"===a.statut,"En cours"===a.statut,"Trait\xe9"===a.statut)),e.R7$(),e.SpI(" ",a.statut," ")}}let as=(()=>{class p{router;autoManagementService;paginatedRequests=[];currentPage=1;itemsPerPage=10;totalPages=1;totalItems=0;searchTerm="";constructor(a,g){this.router=a,this.autoManagementService=g}ngOnInit(){this.loadRequests()}loadRequests(){this.autoManagementService.getAutoRequests(this.searchTerm,this.currentPage,this.itemsPerPage).subscribe(a=>{this.paginatedRequests=a.data,this.totalItems=a.count||0,this.totalPages=a.count?Math.ceil(a.count/this.itemsPerPage):1})}setPage(a){a<1||a>this.totalPages||a===this.currentPage||(this.currentPage=a,this.loadRequests())}get pages(){return Array.from({length:this.totalPages},(a,g)=>g+1)}viewDetails(a){this.router.navigate(["/assurance_auto",a])}static \u0275fac=function(g){return new(g||p)(e.rXU(Z.Ix),e.rXU(Rs))};static \u0275cmp=e.VBU({type:p,selectors:[["app-auto-management"]],standalone:!0,features:[e.aNF],decls:42,vars:6,consts:[[1,"p-4","sm:p-8","bg-gray-50","min-h-screen"],[1,"flex","justify-between","items-center","mb-8"],[1,"text-2xl","sm:text-3xl","font-bold","text-gray-900"],["routerLink","/intranet/dashboard",1,"text-sm","font-semibold","text-indigo-600","hover:text-indigo-800"],[1,"bg-white","shadow-sm","rounded-lg","overflow-hidden"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],["scope","col",1,"relative","px-6","py-3"],[1,"sr-only"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-gray-50",4,"ngFor","ngForOf"],["aria-label","Pagination",1,"bg-white","px-4","py-3","flex","items-center","justify-between","border-t","border-gray-200","sm:px-6"],[1,"hidden","sm:block"],[1,"text-sm","text-gray-700"],[1,"font-medium"],[1,"flex-1","flex","justify-between","sm:justify-end"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","text-sm","font-medium","rounded-md","text-gray-700","bg-white","hover:bg-gray-50","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"ml-3","relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","text-sm","font-medium","rounded-md","text-gray-700","bg-white","hover:bg-gray-50","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"hover:bg-gray-50"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-500"],[1,"px-6","py-4","whitespace-nowrap","text-sm"],[1,"px-2","inline-flex","text-xs","leading-5","font-semibold","rounded-full",3,"ngClass"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium"],[1,"text-indigo-600","hover:text-indigo-900",3,"click"]],template:function(g,h){1&g&&(e.j41(0,"div",0)(1,"div",1)(2,"h1",2),e.EFF(3,"Gestion des Assurances Auto"),e.k0s(),e.j41(4,"a",3),e.EFF(5,"\u2190 Retour au tableau de bord"),e.k0s()(),e.j41(6,"div",4)(7,"div",5)(8,"table",6)(9,"thead",7)(10,"tr")(11,"th",8),e.EFF(12,"ID"),e.k0s(),e.j41(13,"th",8),e.EFF(14,"Nom Complet"),e.k0s(),e.j41(15,"th",8),e.EFF(16,"Date de la demande"),e.k0s(),e.j41(17,"th",8),e.EFF(18,"Statut"),e.k0s(),e.j41(19,"th",9)(20,"span",10),e.EFF(21,"Actions"),e.k0s()()()(),e.j41(22,"tbody",11),e.DNE(23,ss,14,13,"tr",12),e.k0s()()(),e.j41(24,"nav",13)(25,"div",14)(26,"p",15),e.EFF(27," Affichage de "),e.j41(28,"span",16),e.EFF(29),e.k0s(),e.EFF(30," \xe0 "),e.j41(31,"span",16),e.EFF(32),e.k0s(),e.EFF(33," sur "),e.j41(34,"span",16),e.EFF(35),e.k0s(),e.EFF(36," r\xe9sultats "),e.k0s()(),e.j41(37,"div",17)(38,"button",18),e.bIt("click",function(){return h.setPage(h.currentPage-1)}),e.EFF(39," Pr\xe9c\xe9dent "),e.k0s(),e.j41(40,"button",19),e.bIt("click",function(){return h.setPage(h.currentPage+1)}),e.EFF(41," Suivant "),e.k0s()()()()()),2&g&&(e.R7$(23),e.Y8G("ngForOf",h.paginatedRequests),e.R7$(6),e.JRh(h.paginatedRequests.length>0?(h.currentPage-1)*h.itemsPerPage+1:0),e.R7$(3),e.JRh((h.currentPage-1)*h.itemsPerPage+h.paginatedRequests.length),e.R7$(3),e.JRh(h.totalItems),e.R7$(3),e.Y8G("disabled",1===h.currentPage),e.R7$(2),e.Y8G("disabled",h.currentPage===h.totalPages))},dependencies:[U.MD,U.YU,U.Sq,U.vh,Z.Wk,F.YN],encapsulation:2})}return p})();function Os(p){if(!p)return"";let L=String(p).replace(/\D/g,"");L.startsWith("32")&&(L=L.substring(2)),L.startsWith("0")&&(L=L.substring(1));const a=L.substring(0,9);if(0===a.length)return"";let g="+32";return g+=" ",a.length>0&&(g+=a.substring(0,3)),a.length>3&&(g+=" ",g+=a.substring(3,5)),a.length>5&&(g+=" ",g+=a.substring(5,7)),a.length>7&&(g+=" ",g+=a.substring(7,9)),g}let _s=(()=>{class p{el;ngControl;constructor(a,g){this.el=a,this.ngControl=g}onInput(a){const g=a.target,B=Os(g.value);g.value!==B&&(g.value=B,this.ngControl.control?.setValue(B,{emitEvent:!1}))}onBlur(){const a=this.el.nativeElement,g=Os(a.value);"+32"===g||""===g?(a.value="",this.ngControl.control?.setValue("",{emitEvent:!1})):(a.value=g,this.ngControl.control?.setValue(g,{emitEvent:!1}))}static \u0275fac=function(g){return new(g||p)(e.rXU(e.aKT),e.rXU(F.vO))};static \u0275dir=e.FsC({type:p,selectors:[["","appPhoneNumberMask",""]],hostBindings:function(g,h){1&g&&e.bIt("input",function(ce){return h.onInput(ce)})("blur",function(){return h.onBlur()})},standalone:!0})}return p})();var Ps=M(4572),es=M(980),Bn=M(253),vi=M(1364);let _i=(()=>{class p{platformId=(0,e.WQX)(e.Agw);db=(0,e.WQX)(jt.y);constructor(){}getAutoQuotesState(a,g,h){if((0,U.UE)(this.platformId)){const B=this.db.getAllAutoQuotes(a,g,h);return this.fetchAndMapAutoData(B)}return(0,J.of)({data:{quotes:[],totalItems:0},loading:!1,error:null})}getHabitationQuotesState(a,g,h){if((0,U.UE)(this.platformId)){const B=this.db.getAllHabitationQuotes(a,g,h);return this.fetchAndMapHabitationData(B)}return(0,J.of)({data:{quotes:[],totalItems:0},loading:!1,error:null})}getObsequesQuotesState(a,g,h){if((0,U.UE)(this.platformId)){const B=this.db.getAllObsequesQuotes(a,g,h);return this.fetchAndMapObsequesData(B)}return(0,J.of)({data:{quotes:[],totalItems:0},loading:!1,error:null})}getVoyageQuotesState(a,g,h){if((0,U.UE)(this.platformId)){const B=this.db.getAllVoyageQuotes().pipe((0,fe.T)(ce=>({data:ce,count:ce.length})));return this.fetchAndMapVoyageData(B)}return(0,J.of)({data:{quotes:[],totalItems:0},loading:!1,error:null})}getRcQuotesState(a,g,h){return(0,U.UE)(this.platformId)?this.db.getAllRcQuotes().pipe((0,fe.T)(B=>({data:{quotes:B.map(ce=>({preneur_id:ce.preneur_id,id:ce.id,nom:ce.preneur_nom??null,prenom:ce.preneur_prenom??null,dateDemande:ce.created_at,statut:ce.statut||"Nouveau",description:`Risque: ${ce.risque}`})),totalItems:B.length},loading:!1,error:null})),(0,In.Z)({data:null,loading:!0,error:null}),(0,te.W)(B=>(console.warn("[ManagementService] Erreur 500 probable dans 'getRcQuotesState'.","Erreur API:",B),(0,J.of)({data:null,loading:!1,error:B})))):(0,J.of)({data:{quotes:[],totalItems:0},loading:!1,error:null})}getEmptyState(){return(0,J.of)({data:{quotes:[],totalItems:0},loading:!1,error:null})}fetchAndMapVoyageData(a){return a.pipe((0,fe.T)(g=>({data:{quotes:g.data.map(h=>({preneur_id:h.preneur_id,id:h.id,nom:h.nom??null,prenom:h.prenom??null,dateDemande:h.date_created,statut:h.statut||"Nouveau",description:h.description||"Aucun message"})),totalItems:g.count??0},loading:!1,error:null})),(0,te.W)(g=>(0,J.of)({data:null,loading:!1,error:g})),(0,In.Z)({data:null,loading:!0,error:null}))}fetchAndMapHabitationData(a){return a.pipe((0,fe.T)(g=>({data:{quotes:g.data.map(h=>({preneur_id:h.preneur_id,id:h.id,nom:h.preneur?.nom??null,prenom:h.preneur?.prenom??null,uid:h.preneur?.uid??null,dateDemande:h.created_at,statut:h.statut||"Nouveau",description:`${h.batiment_type_maison} - ${h.batiment_adresse}`})),totalItems:g.count??0},loading:!1,error:null})),(0,te.W)(g=>(0,J.of)({data:null,loading:!1,error:g})),(0,In.Z)({data:null,loading:!0,error:null}))}fetchAndMapAutoData(a){return a.pipe((0,fe.T)(g=>(console.log("[ManagementService] Donn\xe9es brutes re\xe7ues de la DB:",g.data),{data:{quotes:g.data.map(h=>({id:h.id,preneur_id:h.preneur_id,conducteur_id:h.conducteur_id,nom:h.preneur?.nom??null,prenom:h.preneur?.prenom??null,uid:h.preneur?.uid??null,dateDemande:h.created_at,statut:h.statut||"Nouveau",typeVehicule:h.vehicules?.type??"",marqueVehicule:h.vehicules?.marque??"",modeleVehicule:`${h.vehicules?.modele??""} ${h.vehicules?.annee??""}`.trim()})),totalItems:g.count??0},loading:!1,error:null})),(0,te.W)(g=>(console.error("Erreur lors de la r\xe9cup\xe9ration des devis dans ManagementService:",g),(0,J.of)({data:null,loading:!1,error:g}))),(0,In.Z)({data:null,loading:!0,error:null}))}fetchAndMapObsequesData(a){return a.pipe((0,fe.T)(g=>({data:{quotes:g.data.map(h=>({preneur_id:h.preneur_id,id:h.id,nom:h.preneur?.nom??null,prenom:h.preneur?.prenom??null,uid:h.preneur?.uid??null,dateDemande:h.created_at,statut:h.statut||"Nouveau",description:`Devis pour ${h.nombre_assures} personne(s)`})),totalItems:g.count??0},loading:!1,error:null})),(0,te.W)(g=>(0,J.of)({data:null,loading:!1,error:g})),(0,In.Z)({data:null,loading:!0,error:null}))}static \u0275fac=function(g){return new(g||p)};static \u0275prov=e.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();const Qs=(p,L,a)=>({"bg-blue-100 text-blue-800":p,"bg-yellow-100 text-yellow-800":L,"bg-green-100 text-green-800":a}),ts=(p,L)=>["/management",p,L],us=(p,L,a)=>["/management/upload",p,L,a],js=(p,L)=>["/messagerie",p,L];function ls(p,L){if(1&p){const a=e.RV6();e.j41(0,"button",14),e.nI1(1,"async"),e.bIt("click",function(){const h=e.eBV(a).$implicit,B=e.XpG();return e.Njj(B.setActiveTab(h.id))}),e.EFF(2),e.nI1(3,"titlecase"),e.k0s()}if(2&p){const a=L.$implicit,g=e.XpG();e.Y8G("ngClass",e.bMT(1,2,g.activeTab$)===a.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.SpI(" ",e.bMT(3,4,a.label)," ")}}function Oi(p,L){1&p&&(e.j41(0,"div",19)(1,"p",20),e.EFF(2,"Aucun devis trouv\xe9 pour cette cat\xe9gorie ou correspondant \xe0 votre recherche."),e.k0s()())}function Xr(p,L){1&p&&(e.qex(0),e.qSk(),e.j41(1,"svg",27),e.nrm(2,"path",37),e.k0s(),e.bVm())}function Pi(p,L){1&p&&(e.qSk(),e.j41(0,"svg",50),e.nrm(1,"path",51),e.k0s())}function qo(p,L){if(1&p){const a=e.RV6();e.j41(0,"span",52),e.bIt("click",function(){e.eBV(a);const h=e.XpG().$implicit,B=e.XpG(3);return e.Njj(B.openEditModal(h,h.conducteur_id))}),e.EFF(1," (Conducteur principal) "),e.qSk(),e.j41(2,"svg",53),e.nrm(3,"path",43),e.k0s()()}}function ys(p,L){if(1&p&&(e.qex(0),e.EFF(1),e.nI1(2,"titlecase"),e.nI1(3,"titlecase"),e.nI1(4,"titlecase"),e.bVm()),2&p){const a=e.XpG().$implicit;e.R7$(),e.E5c(" ",e.bMT(2,3,a.typeVehicule)," ",e.bMT(3,5,a.marqueVehicule)," ",e.bMT(4,7,a.modeleVehicule)," ")}}function bs(p,L){if(1&p&&(e.qex(0),e.EFF(1),e.bVm()),2&p){const a=e.XpG().$implicit;e.R7$(),e.SpI(" ",a.description," ")}}function zo(p,L){if(1&p){const a=e.RV6();e.j41(0,"tr",38)(1,"td",39),e.EFF(2),e.k0s(),e.j41(3,"td",40)(4,"div",26)(5,"div",41),e.bIt("click",function(){const h=e.eBV(a).$implicit,B=e.XpG(3);return e.Njj(B.openEditModal(h,h.preneur_id))}),e.qSk(),e.j41(6,"svg",42),e.nrm(7,"path",43),e.k0s(),e.DNE(8,Pi,2,0,"svg",44),e.joV(),e.j41(9,"span"),e.EFF(10),e.nI1(11,"titlecase"),e.nI1(12,"titlecase"),e.k0s()(),e.DNE(13,qo,4,0,"span",45),e.k0s()(),e.j41(14,"td",46),e.DNE(15,ys,5,9,"ng-container",12)(16,bs,2,1,"ng-container",12),e.k0s(),e.j41(17,"td",40),e.EFF(18),e.nI1(19,"date"),e.k0s(),e.j41(20,"td",40)(21,"span",47),e.EFF(22),e.k0s()(),e.j41(23,"td",48)(24,"a",49),e.nI1(25,"async"),e.EFF(26,"G\xe9rer"),e.k0s()(),e.j41(27,"td",48)(28,"a",49),e.nI1(29,"async"),e.EFF(30,"G\xe9rer"),e.k0s()(),e.j41(31,"td",48)(32,"a",49),e.nI1(33,"async"),e.EFF(34,"Acc\xe9der"),e.k0s()()()}if(2&p){const a=L.$implicit,g=e.XpG(3);e.R7$(2),e.SpI("#",a.id,""),e.R7$(6),e.Y8G("ngIf",a.uid),e.R7$(2),e.Lme("",e.bMT(11,13,a.prenom||"")," ",e.bMT(12,15,a.nom||""),""),e.R7$(3),e.Y8G("ngIf",g.isAutoQuote(a)&&a.preneur_id!==a.conducteur_id),e.R7$(2),e.Y8G("ngIf",g.isAutoQuote(a)),e.R7$(),e.Y8G("ngIf",g.isDescriptionQuote(a)),e.R7$(2),e.JRh(e.i5U(19,17,a.dateDemande,"dd/MM/yyyy HH:mm")),e.R7$(3),e.Y8G("ngClass",e.sMw(26,Qs,"Nouveau"===a.statut,"En cours"===a.statut||"En attente"===a.statut,"Termin\xe9"===a.statut)),e.R7$(),e.SpI(" ",a.statut||"Nouveau"," "),e.R7$(2),e.Y8G("routerLink",e.l_i(30,ts,e.bMT(25,20,g.activeTab$),a.id)),e.R7$(4),e.Y8G("routerLink",e.sMw(33,us,e.bMT(29,22,g.activeTab$),a.id,a.preneur_id)),e.R7$(4),e.Y8G("routerLink",e.l_i(37,js,e.bMT(33,24,g.activeTab$),a.id))}}function ii(p,L){if(1&p&&(e.j41(0,"div",21)(1,"table",22)(2,"thead",23)(3,"tr",24)(4,"th",25),e.EFF(5,"ID"),e.k0s(),e.j41(6,"th",25)(7,"div",26),e.qSk(),e.j41(8,"svg",27),e.nrm(9,"path",28),e.k0s(),e.EFF(10," Preneur "),e.k0s()(),e.joV(),e.j41(11,"th",25)(12,"div",26),e.DNE(13,Xr,3,0,"ng-container",12),e.nI1(14,"async"),e.EFF(15),e.nI1(16,"async"),e.nI1(17,"titlecase"),e.k0s()(),e.j41(18,"th",25)(19,"div",26),e.qSk(),e.j41(20,"svg",27),e.nrm(21,"path",29),e.k0s(),e.EFF(22," Date "),e.k0s()(),e.joV(),e.j41(23,"th",25)(24,"div",26),e.qSk(),e.j41(25,"svg",27),e.nrm(26,"path",30)(27,"path",31),e.k0s(),e.EFF(28," Statut "),e.k0s()(),e.joV(),e.j41(29,"th",32)(30,"div",26),e.qSk(),e.j41(31,"svg",27),e.nrm(32,"path",33),e.k0s(),e.EFF(33," Offre "),e.k0s()(),e.joV(),e.j41(34,"th",32)(35,"div",26),e.qSk(),e.j41(36,"svg",27),e.nrm(37,"path",34),e.k0s(),e.EFF(38," Documents "),e.k0s()(),e.joV(),e.j41(39,"th",32)(40,"div",26),e.qSk(),e.j41(41,"svg",27),e.nrm(42,"path",35),e.k0s(),e.EFF(43," Interactions "),e.k0s()()()(),e.joV(),e.j41(44,"tbody"),e.DNE(45,zo,35,40,"tr",36),e.k0s()()()),2&p){const a=e.XpG().ngIf,g=e.XpG();e.R7$(13),e.Y8G("ngIf","auto"===e.bMT(14,3,g.activeTab$)),e.R7$(2),e.SpI(" ",e.bMT(17,7,"auto"===e.bMT(16,5,g.activeTab$)?"V\xe9hicule":"Description")," "),e.R7$(30),e.Y8G("ngForOf",a.state.data.quotes)}}function Es(p,L){if(1&p){const a=e.RV6();e.j41(0,"div",54)(1,"span",55),e.EFF(2," Page "),e.j41(3,"span",56),e.EFF(4),e.k0s(),e.EFF(5," sur "),e.j41(6,"span",56),e.EFF(7),e.k0s(),e.EFF(8),e.k0s(),e.j41(9,"div",57)(10,"button",58),e.bIt("click",function(){e.eBV(a);const h=e.XpG().ngIf,B=e.XpG();return e.Njj(B.goToPage(h.pagination.currentPage-1))}),e.EFF(11," Pr\xe9c\xe9dent "),e.k0s(),e.j41(12,"button",59),e.bIt("click",function(){e.eBV(a);const h=e.XpG().ngIf,B=e.XpG();return e.Njj(B.goToPage(h.pagination.currentPage+1))}),e.EFF(13," Suivant "),e.k0s()()()}if(2&p){const a=e.XpG().ngIf;e.R7$(4),e.JRh(a.pagination.currentPage),e.R7$(3),e.JRh(a.pagination.totalPages),e.R7$(),e.SpI(" (",a.pagination.totalItems," r\xe9sultats) "),e.R7$(2),e.Y8G("disabled",1===a.pagination.currentPage),e.R7$(2),e.Y8G("disabled",a.pagination.currentPage===a.pagination.totalPages)}}function Js(p,L){if(1&p&&(e.qex(0),e.j41(1,"app-state-container",15),e.DNE(2,Oi,3,0,"div",16)(3,ii,46,9,"div",17)(4,Es,14,5,"div",18),e.k0s(),e.bVm()),2&p){const a=L.ngIf;e.R7$(),e.Y8G("state",a.state),e.R7$(),e.Y8G("ngIf",!a.state.data||0===a.state.data.quotes.length),e.R7$(),e.Y8G("ngIf",a.state.data&&a.state.data.quotes.length>0),e.R7$(),e.Y8G("ngIf",a.pagination&&a.pagination.totalPages>1)}}function Ls(p,L){1&p&&(e.j41(0,"div",106),e.EFF(1," Le format du num\xe9ro national est invalide. "),e.k0s())}function mo(p,L){1&p&&(e.j41(0,"div",106),e.EFF(1," La date de naissance ne correspond pas au num\xe9ro national. "),e.k0s())}function Zs(p,L){if(1&p&&(e.j41(0,"option",107),e.EFF(1),e.k0s()),2&p){const a=L.$implicit;e.Y8G("value",a),e.R7$(),e.SpI(" ",a," ")}}function ns(p,L){1&p&&(e.j41(0,"div",108),e.qSk(),e.j41(1,"svg",109),e.nrm(2,"circle",110)(3,"path",111),e.k0s()())}function Wo(p,L){if(1&p&&(e.j41(0,"option",107),e.EFF(1),e.k0s()),2&p){const a=L.$implicit;e.Y8G("value",a.id),e.R7$(),e.SpI(" ",a.nationality," ")}}function ji(p,L){if(1&p&&(e.qex(0),e.DNE(1,Wo,2,2,"option",95),e.bVm()),2&p){const a=L.ngIf;e.R7$(),e.Y8G("ngForOf",a)}}function $s(p,L){1&p&&(e.j41(0,"div",108),e.qSk(),e.j41(1,"svg",109),e.nrm(2,"circle",110)(3,"path",111),e.k0s()())}function y(p,L){1&p&&(e.qex(0),e.j41(1,"div",82)(2,"div",71)(3,"label",112),e.EFF(4,"Num\xe9ro de permis"),e.k0s(),e.nrm(5,"input",113),e.k0s(),e.j41(6,"div",71)(7,"label",114),e.EFF(8,"Date d'obtention permis"),e.k0s(),e.nrm(9,"input",115),e.k0s()(),e.bVm())}function j(p,L){if(1&p){const a=e.RV6();e.j41(0,"div",60)(1,"div",61)(2,"button",62),e.bIt("click",function(){e.eBV(a);const h=e.XpG();return e.Njj(h.closeEditModal())}),e.j41(3,"span",63),e.EFF(4,"Fermer"),e.k0s(),e.qSk(),e.j41(5,"svg",64),e.nrm(6,"path",65),e.k0s()(),e.joV(),e.j41(7,"div",66)(8,"h3",67),e.EFF(9),e.k0s(),e.j41(10,"div",68)(11,"form",69),e.bIt("ngSubmit",function(){e.eBV(a);const h=e.XpG();return e.Njj(h.savePreneurChanges())}),e.j41(12,"div",70)(13,"div",71)(14,"label",72),e.EFF(15,"Pr\xe9nom"),e.k0s(),e.nrm(16,"input",73),e.k0s(),e.j41(17,"div",71)(18,"label",74),e.EFF(19,"Nom"),e.k0s(),e.nrm(20,"input",75),e.k0s()(),e.j41(21,"div",76)(22,"label",77),e.EFF(23,"Num\xe9ro National"),e.k0s(),e.nrm(24,"input",78),e.DNE(25,Ls,2,0,"div",79),e.k0s(),e.j41(26,"div",76)(27,"label",80),e.EFF(28,"Email"),e.k0s(),e.nrm(29,"input",81),e.k0s(),e.j41(30,"div",82)(31,"div",71)(32,"label",83),e.EFF(33,"T\xe9l\xe9phone"),e.k0s(),e.nrm(34,"input",84),e.k0s(),e.j41(35,"div",71)(36,"label",85),e.EFF(37,"Date de naissance"),e.k0s(),e.nrm(38,"input",86),e.DNE(39,mo,2,0,"div",79),e.k0s()(),e.j41(40,"div",76)(41,"label",87),e.EFF(42,"Adresse"),e.k0s(),e.nrm(43,"input",88),e.k0s(),e.j41(44,"div",82)(45,"div",71)(46,"label",89),e.EFF(47,"Code Postal"),e.k0s(),e.nrm(48,"input",90),e.k0s(),e.j41(49,"div",71)(50,"label",91),e.EFF(51,"Ville"),e.k0s(),e.j41(52,"div",92)(53,"select",93),e.nI1(54,"async"),e.nI1(55,"async"),e.j41(56,"option",94),e.EFF(57),e.nI1(58,"async"),e.k0s(),e.DNE(59,Zs,2,2,"option",95),e.nI1(60,"async"),e.k0s(),e.DNE(61,ns,4,0,"div",96),e.nI1(62,"async"),e.k0s()()(),e.j41(63,"div",76)(64,"label",97),e.EFF(65,"Nationalit\xe9"),e.k0s(),e.j41(66,"div",92)(67,"select",98),e.nI1(68,"async"),e.j41(69,"option",94),e.EFF(70),e.nI1(71,"async"),e.k0s(),e.DNE(72,ji,2,1,"ng-container",12),e.nI1(73,"async"),e.k0s(),e.DNE(74,$s,4,0,"div",96),e.nI1(75,"async"),e.k0s()(),e.j41(76,"div",82)(77,"div",71)(78,"label",99),e.EFF(79,"N\xb0 carte d'identit\xe9"),e.k0s(),e.nrm(80,"input",100),e.k0s(),e.j41(81,"div",71)(82,"label",101),e.EFF(83,"Date de validit\xe9"),e.k0s(),e.nrm(84,"input",102),e.k0s()(),e.DNE(85,y,10,0,"ng-container",12),e.nI1(86,"async"),e.j41(87,"div",103)(88,"button",104),e.bIt("click",function(){e.eBV(a);const h=e.XpG();return e.Njj(h.closeEditModal())}),e.EFF(89," Annuler "),e.k0s(),e.j41(90,"button",105),e.EFF(91," Enregistrer "),e.k0s()()()()()()()}if(2&p){let a,g,h;const B=e.XpG();e.R7$(9),e.JRh(B.editModalTitle),e.R7$(2),e.Y8G("formGroup",B.preneurForm),e.R7$(14),e.Y8G("ngIf",(null==(a=B.preneurForm.get("numero_national"))?null:a.hasError("belgianNationalNumber"))&&(null==(a=B.preneurForm.get("numero_national"))?null:a.touched)),e.R7$(14),e.Y8G("ngIf",(null==(g=B.preneurForm.get("date_naissance"))?null:g.hasError("birthDateMismatch"))&&(null==(g=B.preneurForm.get("date_naissance"))?null:g.touched)),e.R7$(14),e.Y8G("disabled",0===(null==(h=e.bMT(54,14,B.citiesForPostalCode$))?null:h.length)||!0===e.bMT(55,16,B.isCitiesLoading$)),e.R7$(4),e.SpI(" ",e.bMT(58,18,B.isCitiesLoading$)?"Chargement...":"S\xe9lectionnez une ville"," "),e.R7$(2),e.Y8G("ngForOf",e.bMT(60,20,B.citiesForPostalCode$)),e.R7$(2),e.Y8G("ngIf",e.bMT(62,22,B.isCitiesLoading$)),e.R7$(6),e.Y8G("disabled",!0===e.bMT(68,24,B.isNationalitiesLoading$)),e.R7$(3),e.SpI(" ",e.bMT(71,26,B.isNationalitiesLoading$)?"Chargement...":"S\xe9lectionnez une nationalit\xe9"," "),e.R7$(2),e.Y8G("ngIf",e.bMT(73,28,B.nationalities$)),e.R7$(2),e.Y8G("ngIf",e.bMT(75,30,B.isNationalitiesLoading$)),e.R7$(11),e.Y8G("ngIf","auto"===e.bMT(86,32,B.activeTab$)),e.R7$(5),e.Y8G("disabled",B.preneurForm.invalid)}}let ne=(()=>{class p{managementService;router;dbConnectService;fb;platformId;constructor(a,g,h,B,ce){this.managementService=a,this.router=g,this.dbConnectService=h,this.fb=B,this.platformId=ce}searchControl=new F.MJ("");tabs=[{id:"auto",label:"Automobile"},{id:"habitation",label:"Habitation"},{id:"obseques",label:"Obs\xe8ques"},{id:"rc",label:"RC Familiale"},{id:"voyage",label:"Voyage"}];activeTab$=new pn.t("auto");itemsPerPage=20;currentPage$=new pn.t(1);vm$;destroy$=new me.B;isEditModalOpen=!1;editModalTitle="";selectedQuoteForEdit=null;preneurForm;citiesForPostalCode$=(0,J.of)([]);nationalities$=(0,J.of)([]);isCitiesLoading$=new pn.t(!1);isNationalitiesLoading$=new pn.t(!1);ngOnInit(){if(this.initPreneurForm(),this.isNationalitiesLoading$.next(!0),this.nationalities$=this.dbConnectService.getNationalities().pipe((0,es.j)(()=>this.isNationalitiesLoading$.next(!1)),(0,Bn.t)(1)),(0,U.UE)(this.platformId)){this.setupPostalCodeListener();const a=this.searchControl.valueChanges.pipe((0,In.Z)(""),$e(300),He(),(0,ge.M)(()=>this.currentPage$.next(1)));this.vm$=(0,Ps.z)([this.activeTab$,a,this.currentPage$]).pipe((0,dt.n)(([g,h,B])=>{let ce;switch(console.log(`[ManagementComponent] Fetching data for tab: '${g}', search: '${h}', page: ${B}`),g){case"auto":ce=this.managementService.getAutoQuotesState(h||"",B,this.itemsPerPage);break;case"habitation":ce=this.managementService.getHabitationQuotesState(h||"",B,this.itemsPerPage);break;case"obseques":ce=this.managementService.getObsequesQuotesState(h||"",B,this.itemsPerPage);break;case"rc":ce=this.managementService.getRcQuotesState(h||"",B,this.itemsPerPage);break;case"voyage":ce=this.managementService.getVoyageQuotesState(h||"",B,this.itemsPerPage);break;default:ce=(0,J.of)({data:{quotes:[],totalItems:0},loading:!1,error:null})}return ce.pipe((0,fe.T)(Ie=>{if(Ie.loading||Ie.error||!Ie.data)return{state:Ie,pagination:null};const kt=Ie.data.totalItems,ve=Math.ceil(kt/this.itemsPerPage);return{state:Ie,pagination:{currentPage:B,totalPages:ve,totalItems:kt}}}))}),(0,ft.Q)(this.destroy$))}else this.vm$=(0,J.of)({state:{data:{quotes:[],totalItems:0},loading:!0,error:null},pagination:null})}initPreneurForm(){this.preneurForm=this.fb.group({id:[null],prenom:["",F.k0.required],nom:["",F.k0.required],email:["",[F.k0.required,F.k0.email]],telephone:[""],date_naissance:[""],adresse:[""],code_postal:[""],ville:[""],nationality:[""],idcard_number:[""],idcard_validity:[""],numero_national:["",p=>{const L=p.value;if(!L)return null;const a=String(L).replace(/\D/g,"");if(11!==a.length)return{belgianNationalNumber:{invalidLength:!0}};const g=a.substring(0,9),h=parseInt(a.substring(9,11),10),B=97-parseInt(g,10)%97,ce=97-parseInt("2"+g,10)%97;return h===B||h===ce?null:{belgianNationalNumber:{invalidChecksum:!0}}}],permis_numero:[""],permis_date:[""]},{validators:p=>{if(!(p instanceof F.gE))return null;const L=p.get("numero_national"),a=p.get("date_naissance");if(!L||!a||!L.value||!a.value||L.errors)return null;const g=String(L.value).replace(/\D/g,""),h=a.value;if(11!==g.length)return null;const B=g.substring(0,9);return`${(parseInt(g.substring(9,11),10)===97-parseInt("2"+B,10)%97?"20":"19")+g.substring(0,2)}-${g.substring(2,4)}-${g.substring(4,6)}`!==h&&a.setErrors({...a.errors,birthDateMismatch:!0}),null}})}setupPostalCodeListener(){const a=this.preneurForm.get("code_postal");a&&(this.citiesForPostalCode$=a.valueChanges.pipe((0,In.Z)(a.value),$e(300),He(),(0,dt.n)(g=>g&&/^\d{4}$/.test(g)?(this.isCitiesLoading$.next(!0),this.dbConnectService.getCitiesByPostalCode(g).pipe((0,ge.M)(h=>{1===h.length&&this.preneurForm.get("ville")?.setValue(h[0]),this.isCitiesLoading$.next(!1)}))):(0,J.of)([])),(0,Bn.t)(1)))}goToPage(a){this.currentPage$.next(a)}setActiveTab(a){console.log(`[ManagementComponent] Setting active tab to: '${a}'`),this.activeTab$.next(a)}viewDetails(a){const g=this.activeTab$.value;console.log(`[ManagementComponent] Navigating to details for ID: ${a} with type: '${g}' using new route.`),this.router.navigate(["/assurance-details",g,a])}openEditModal(a,g){this.editModalTitle=this.isAutoQuote(a)&&a.preneur_id!==a.conducteur_id&&g===a.conducteur_id?"Modifier le Conducteur Principal":"Modifier le Preneur",this.dbConnectService.getPersonById(g).subscribe({next:h=>{if(h){const B=ce=>{if(!ce)return null;try{return new Date(ce).toISOString().split("T")[0]}catch{return null}};this.preneurForm.patchValue({id:h.id,prenom:h.prenom,nom:h.nom,email:h.email,telephone:h.telephone,date_naissance:B(h.date_naissance),adresse:h.adresse,code_postal:h.code_postal,ville:h.ville,nationality:h.nationality,idcard_number:h.idcard_number,idcard_validity:B(h.idcard_validity),numero_national:h.numero_national,permis_numero:h.permis_numero,permis_date:B(h.permis_date)}),this.isEditModalOpen=!0}else console.error(`Impossible de trouver les informations pour la personne avec l'ID ${g}`)},error:h=>{console.error(`Erreur lors de la r\xe9cup\xe9ration de la personne avec l'ID ${g}`,h)}})}closeEditModal(){this.isEditModalOpen=!1,this.preneurForm.reset()}savePreneurChanges(){if(this.preneurForm.invalid)return this.preneurForm.markAllAsTouched(),void console.warn("Formulaire invalide. Impossible de sauvegarder.");const a=this.preneurForm.value,g=a.id;g?(console.log(`Sauvegarde des donn\xe9es pour le preneur ID: ${g}`,a),this.dbConnectService.updatePerson(g,a).subscribe({next:h=>{console.log("Preneur mis \xe0 jour avec succ\xe8s:",h.data),this.refreshCurrentView(),this.closeEditModal()},error:h=>{console.error("Erreur lors de la mise \xe0 jour du preneur:",h)}})):console.warn("savePreneurChanges a \xe9t\xe9 appel\xe9 sans ID de preneur dans le formulaire.")}isAutoQuote(a){return"typeVehicule"in a}isDescriptionQuote(a){return"description"in a}refreshCurrentView(){this.currentPage$.next(this.currentPage$.value)}static \u0275fac=function(g){return new(g||p)(e.rXU(_i),e.rXU(Z.Ix),e.rXU(jt.y),e.rXU(F.ok),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:p,selectors:[["app-management"]],standalone:!0,features:[e.aNF],decls:22,vars:8,consts:[[1,"container","mx-auto","p-4","sm:p-6","lg:p-8"],[1,"text-2xl","sm:text-3xl","font-bold","text-gray-800","mb-6"],[1,"border-b","border-gray-200","mb-6","no-print"],["aria-label","Tabs",1,"-mb-px","flex","space-x-6","overflow-x-auto"],["class","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"flex","flex-wrap","justify-between","items-center","gap-4","mb-6","no-print"],["type","text","placeholder","Rechercher par nom, ID, description...",1,"w-full","max-w-md","mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"formControl"],[1,"flex","items-center","space-x-2"],["routerLink","/utilities/paiements",1,"px-3","py-2","text-sm","font-medium","text-white","bg-orange-500","rounded-md","shadow-sm","hover:bg-orange-600"],["routerLink","/utilities/statistiques",1,"px-3","py-2","text-sm","font-medium","text-white","bg-green-500","rounded-md","shadow-sm","hover:bg-green-600"],["routerLink","/utilities/prospects",1,"px-3","py-2","text-sm","font-medium","text-white","bg-blue-500","rounded-md","shadow-sm","hover:bg-blue-600"],["routerLink","/utilities/parametres",1,"px-3","py-2","text-sm","font-medium","text-white","bg-gray-800","rounded-md","shadow-sm","hover:bg-gray-900"],[4,"ngIf"],["class","fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center",4,"ngIf"],[1,"whitespace-nowrap","py-4","px-1","border-b-2","font-medium","text-sm",3,"click","ngClass"],["loadingMessage","Chargement des devis...","errorMessage","Une erreur est survenue lors du chargement des devis.",3,"state"],["class","text-center py-10 px-4 bg-gray-50 rounded-lg",4,"ngIf"],["class","shadow-md rounded-lg overflow-x-auto",4,"ngIf"],["class","flex items-center justify-between mt-6 no-print",4,"ngIf"],[1,"text-center","py-10","px-4","bg-gray-50","rounded-lg"],[1,"text-gray-500"],[1,"shadow-md","rounded-lg","overflow-x-auto"],[1,"w-full","text-sm","text-left","text-gray-600"],[1,"text-xs","text-gray-700","uppercase","bg-gray-100"],[1,"border-b"],["scope","col",1,"px-6","py-3"],[1,"flex","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-4","h-4","mr-1.5"],["stroke-linecap","round","stroke-linejoin","round","d","M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m-7.5-2.963A3.686 3.686 0 0110.5 9.59a3.686 3.686 0 013.686 3.686zM12 6.591A2.25 2.25 0 0114.25 8.84a2.25 2.25 0 01-4.5 0A2.25 2.25 0 0112 6.591zM12 21a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72M6.318 18.72a9.094 9.094 0 013.741-.479 3 3 0 01-4.682-2.72m-7.5-2.963A3.686 3.686 0 013.5 9.59a3.686 3.686 0 013.686 3.686zM3 6.591A2.25 2.25 0 015.25 8.84a2.25 2.25 0 01-4.5 0A2.25 2.25 0 013 6.591z"],["stroke-linecap","round","stroke-linejoin","round","d","M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke-linecap","round","stroke-linejoin","round","d","M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z"],["stroke-linecap","round","stroke-linejoin","round","d","M6 6h.008v.008H6V6z"],["scope","col",1,"px-6","py-3","no-print"],["stroke-linecap","round","stroke-linejoin","round","d","M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"],["stroke-linecap","round","stroke-linejoin","round","d","M2.25 12.75V12A2.25 2.25 0 014.5 9.75h15A2.25 2.25 0 0121.75 12v.75m-8.69-6.44l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z"],["stroke-linecap","round","stroke-linejoin","round","d","M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"],["class","bg-white border-b hover:bg-gray-50 transition-colors duration-200",4,"ngFor","ngForOf"],["stroke-linecap","round","stroke-linejoin","round","d","M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h1.125c.621 0 1.125-.504 1.125-1.125V14.25m-17.25 4.5h12.75m0 0v-4.125c0-.621-.504-1.125-1.125-1.125H11.25c-.621 0-1.125.504-1.125 1.125v4.125m0 0a2.25 2.25 0 100 4.5 2.25 2.25 0 000-4.5zm-10.875 0a2.25 2.25 0 100 4.5 2.25 2.25 0 000-4.5z"],[1,"bg-white","border-b","hover:bg-gray-50","transition-colors","duration-200"],[1,"px-6","py-4","font-semibold","text-gray-900","whitespace-nowrap"],[1,"px-6","py-4"],[1,"flex","items-center","cursor-pointer","group",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-4","h-4","mr-2","text-gray-400","group-hover:text-gray-600"],["stroke-linecap","round","stroke-linejoin","round","d","M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"],["class","w-4 h-4 mr-2 text-blue-500","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",4,"ngIf"],["class","ml-2 text-xs text-gray-500 font-normal flex items-center cursor-pointer group",3,"click",4,"ngIf"],[1,"px-6","py-4","truncate","max-w-xs"],[1,"px-2.5","py-0.5","rounded-full","text-xs","font-medium",3,"ngClass"],[1,"px-6","py-4","no-print"],[1,"text-blue-600","hover:text-blue-800","font-medium",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"w-4","h-4","mr-2","text-blue-500"],["fill-rule","evenodd","d","M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-5.5-2.5a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0zM10 12a5.99 5.99 0 00-4.793 2.39A6.483 6.483 0 0010 16.5a6.483 6.483 0 004.793-2.11A5.99 5.99 0 0010 12z","clip-rule","evenodd"],[1,"ml-2","text-xs","text-gray-500","font-normal","flex","items-center","cursor-pointer","group",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-3","h-3","ml-1","text-gray-400","group-hover:text-gray-600"],[1,"flex","items-center","justify-between","mt-6","no-print"],[1,"text-sm","text-gray-700"],[1,"font-semibold"],[1,"inline-flex","-space-x-px"],[1,"px-3","py-2","ml-0","leading-tight","text-gray-500","bg-white","border","border-gray-300","rounded-l-lg","hover:bg-gray-100","hover:text-gray-700","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"px-3","py-2","leading-tight","text-gray-500","bg-white","border","border-gray-300","rounded-r-lg","hover:bg-gray-100","hover:text-gray-700","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"fixed","inset-0","bg-gray-600","bg-opacity-50","overflow-y-auto","h-full","w-full","z-50","flex","items-center","justify-center"],[1,"relative","mx-auto","p-5","border","w-full","max-w-md","shadow-lg","rounded-md","bg-white"],["type","button",1,"absolute","top-3","right-3","text-gray-400","hover:text-gray-600","focus:outline-none","focus:ring-2","focus:ring-blue-500","rounded-full","p-1",3,"click"],[1,"sr-only"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor","aria-hidden","true",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","d","M6 18L18 6M6 6l12 12"],[1,"mt-3","text-center"],[1,"text-lg","leading-6","font-medium","text-gray-900","text-center"],[1,"mt-4","px-2","py-3","max-h-[70vh]","overflow-y-auto"],[3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4"],[1,"text-left"],["for","prenom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","prenom","formControlName","prenom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","nom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","nom","formControlName","nom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"mt-4","text-left"],["for","numero_national",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","numero_national","formControlName","numero_national",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["class","text-red-600 text-xs mt-1",4,"ngIf"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","email","formControlName","email",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"mt-4","grid","grid-cols-1","sm:grid-cols-2","gap-4"],["for","telephone",1,"block","text-sm","font-medium","text-gray-700"],["type","tel","id","telephone","formControlName","telephone","appPhoneNumberMask","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","date_naissance",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","date_naissance","formControlName","date_naissance",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","adresse",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","adresse","formControlName","adresse",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","code_postal",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","code_postal","formControlName","code_postal",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","ville",1,"block","text-sm","font-medium","text-gray-700"],[1,"relative","mt-1"],["id","ville","formControlName","ville",1,"focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","pl-3","pr-10","ring-1","ring-slate-200","shadow-sm","disabled:bg-gray-100",3,"disabled"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["class","absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",4,"ngIf"],["for","nationality",1,"block","text-sm","font-medium","text-gray-700"],["id","nationality","formControlName","nationality",1,"focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","pl-3","pr-10","ring-1","ring-slate-200","shadow-sm","disabled:bg-gray-100",3,"disabled"],["for","idcard_number",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","idcard_number","formControlName","idcard_number",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","idcard_validity",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","idcard_validity","formControlName","idcard_validity",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"mt-6","items-center","px-4","py-3","flex","justify-end","space-x-4","bg-gray-50","-mx-5","-mb-5","rounded-b-md"],["type","button",1,"px-4","py-2","bg-gray-200","text-gray-800","rounded-md","hover:bg-gray-300","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-gray-500",3,"click"],["type","submit",1,"px-4","py-2","bg-blue-600","text-white","rounded-md","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"text-red-600","text-xs","mt-1"],[3,"value"],[1,"absolute","inset-y-0","right-0","flex","items-center","pr-3","pointer-events-none"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5","text-gray-400"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],["for","permis_numero",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","permis_numero","formControlName","permis_numero",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","permis_date",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","permis_date","formControlName","permis_date",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"]],template:function(g,h){1&g&&(e.j41(0,"div",0)(1,"h1",1),e.EFF(2,"Gestion des offres"),e.k0s(),e.j41(3,"div",2)(4,"nav",3),e.DNE(5,ls,4,6,"button",4),e.k0s()(),e.j41(6,"div",5)(7,"div"),e.nrm(8,"input",6),e.k0s(),e.j41(9,"div",7)(10,"a",8),e.EFF(11,"Paiements"),e.k0s(),e.j41(12,"a",9),e.EFF(13,"Statistiques"),e.k0s(),e.j41(14,"a",10),e.EFF(15,"Prospects"),e.k0s(),e.j41(16,"a",11),e.EFF(17,"Param\xe8tres"),e.k0s()()(),e.DNE(18,Js,5,4,"ng-container",12),e.nI1(19,"async"),e.DNE(20,j,92,34,"div",13),e.nI1(21,"async"),e.k0s()),2&g&&(e.R7$(5),e.Y8G("ngForOf",h.tabs),e.R7$(3),e.Y8G("formControl",h.searchControl),e.R7$(10),e.Y8G("ngIf",e.bMT(19,4,h.vm$)),e.R7$(2),e.Y8G("ngIf",h.isEditModalOpen&&e.bMT(21,6,h.nationalities$)))},dependencies:[U.MD,U.YU,U.Sq,U.bT,U.Jj,U.PV,U.vh,Z.Wk,F.X1,F.qT,F.xH,F.y7,F.me,F.wz,F.BC,F.cb,F.l_,F.j4,F.JD,vi.Y,F.YN,_s],styles:["@media print{.no-print[_ngcontent-%COMP%]{display:none!important}body[_ngcontent-%COMP%]{font-size:10pt;color:#000;background-color:#fff}table[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border-color:#ccc!important;color:#000!important}.bg-white[_ngcontent-%COMP%], .bg-gray-50[_ngcontent-%COMP%], .bg-gray-100[_ngcontent-%COMP%], .shadow-md[_ngcontent-%COMP%], .hover\\:bg-gray-50[_ngcontent-%COMP%]{background-color:transparent!important;box-shadow:none!important}.text-blue-800[_ngcontent-%COMP%], .text-yellow-800[_ngcontent-%COMP%], .text-green-800[_ngcontent-%COMP%]{color:#000!important}}"]})}return p})();var Ne=M(3583),Ue=M(6649);const cn=(p,L)=>(p.push(L),p);function Mn(p,L){1&p&&(e.j41(0,"div",4)(1,"h3",5),e.EFF(2,"Conducteur principal"),e.k0s(),e.nrm(3,"div",6),e.k0s())}function sn(p,L){1&p&&(e.j41(0,"div",31),e.qSk(),e.j41(1,"svg",32),e.nrm(2,"circle",33)(3,"path",34),e.k0s()())}function C(p,L){if(1&p){const a=e.RV6();e.j41(0,"li",37),e.bIt("click",function(){const h=e.eBV(a).$implicit,B=e.XpG(3);return e.Njj(B.selectMarque(h))}),e.EFF(1),e.k0s()}if(2&p){const a=L.$implicit;e.R7$(),e.SpI(" ",a.nom," ")}}function d(p,L){if(1&p&&(e.j41(0,"ul",35),e.DNE(1,C,2,1,"li",36),e.nI1(2,"async"),e.k0s()),2&p){const a=e.XpG(2);e.R7$(),e.Y8G("ngForOf",e.bMT(2,1,a.filteredMarques$))}}function u(p,L){1&p&&(e.j41(0,"option",38),e.EFF(1," Aucun mod\xe8le trouv\xe9 "),e.k0s()),2&p&&e.Y8G("disabled",!0)}function f(p,L){if(1&p&&(e.j41(0,"option",39),e.EFF(1),e.k0s()),2&p){const a=L.$implicit;e.Y8G("value",a.nom),e.R7$(),e.SpI("",a.nom," ")}}function E(p,L){1&p&&(e.j41(0,"div",31),e.qSk(),e.j41(1,"svg",32),e.nrm(2,"circle",33)(3,"path",34),e.k0s()())}function S(p,L){if(1&p&&(e.j41(0,"option",39),e.EFF(1),e.k0s()),2&p){const a=L.$implicit;e.Y8G("value",a),e.R7$(),e.SpI(" ",a," ")}}function R(p,L){if(1&p&&(e.j41(0,"div",7)(1,"h3",5),e.EFF(2,"V\xe9hicule"),e.k0s(),e.j41(3,"div",6)(4,"div",8)(5,"label",9),e.EFF(6,"Marque"),e.k0s(),e.nrm(7,"input",10),e.DNE(8,sn,4,0,"div",11)(9,d,3,3,"ul",12),e.nI1(10,"async"),e.k0s(),e.j41(11,"div")(12,"div",8)(13,"label",13),e.EFF(14,"Mod\xe8le"),e.k0s(),e.j41(15,"select",14)(16,"option",15),e.EFF(17,"S\xe9lectionnez un mod\xe8le"),e.k0s(),e.DNE(18,u,2,1,"option",16)(19,f,2,2,"option",17),e.k0s(),e.DNE(20,E,4,0,"div",11),e.k0s()(),e.j41(21,"div")(22,"label",18),e.EFF(23,"Ann\xe9e"),e.k0s(),e.j41(24,"select",19)(25,"option",20),e.EFF(26,"S\xe9lectionnez une ann\xe9e"),e.k0s(),e.DNE(27,S,2,2,"option",17),e.k0s()(),e.j41(28,"div")(29,"label",21),e.EFF(30,"Plaque"),e.k0s(),e.nrm(31,"input",22),e.k0s(),e.j41(32,"div")(33,"label",23),e.EFF(34,"Puissance (kW)"),e.k0s(),e.nrm(35,"input",24),e.k0s(),e.j41(36,"div")(37,"label",25),e.EFF(38,"Nombre de places"),e.k0s(),e.nrm(39,"input",26),e.k0s(),e.j41(40,"div")(41,"label",27),e.EFF(42,"Valeur (\u20ac)"),e.k0s(),e.nrm(43,"input",28),e.k0s(),e.j41(44,"div")(45,"label",29),e.EFF(46,"Date de 1\xe8re immatriculation"),e.k0s(),e.nrm(47,"input",30),e.k0s()()()),2&p){let a,g,h;const B=e.XpG();e.R7$(7),e.Y8G("formControl",B.marqueCtrl),e.R7$(),e.Y8G("ngIf",B.isMarqueLoading),e.R7$(),e.Y8G("ngIf",(null==(a=e.bMT(10,9,B.filteredMarques$))?null:a.length)&&(B.marqueCtrl.value||"").length>=2),e.R7$(6),e.Y8G("disabled",!(null!=(g=B.parentForm.get("vehicule.make"))&&g.value)||B.isModeleLoading),e.R7$(3),e.Y8G("ngIf",!B.isModeleLoading&&0===B.modelesForSelectedMarque.length&&(null==(h=B.parentForm.get("vehicule.make"))?null:h.value)),e.R7$(),e.Y8G("ngForOf",B.modelesForSelectedMarque),e.R7$(),e.Y8G("ngIf",B.isModeleLoading),e.R7$(5),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",B.vehicleYears)}}function $(p,L){if(1&p&&(e.j41(0,"option",39),e.EFF(1),e.k0s()),2&p){const a=L.$implicit;e.Y8G("value",a.statut),e.R7$(),e.JRh(a.statut)}}function q(p,L){if(1&p&&(e.j41(0,"option",39),e.EFF(1),e.k0s()),2&p){const a=L.$implicit;e.Y8G("value",a.id),e.R7$(),e.SpI(" ",a.nom," ")}}function Q(p,L){if(1&p&&(e.j41(0,"fieldset",40)(1,"legend",5),e.EFF(2,"Garanties et Contrat"),e.k0s(),e.j41(3,"div",6)(4,"div",41)(5,"label",42),e.EFF(6,"Date d'effet"),e.k0s(),e.nrm(7,"input",43),e.k0s(),e.j41(8,"div",41)(9,"label",44),e.EFF(10,"Niveau d'omnium"),e.k0s(),e.j41(11,"select",45)(12,"option",46),e.EFF(13,"Aucune"),e.k0s(),e.j41(14,"option",47),e.EFF(15,"Mini Omnium"),e.k0s(),e.j41(16,"option",48),e.EFF(17,"Omnium Compl\xe8te"),e.k0s()()(),e.j41(18,"div")(19,"label",49),e.EFF(20,"Statut de l'offre"),e.k0s(),e.j41(21,"select",50)(22,"option",20),e.EFF(23,"S\xe9lectionnez un statut"),e.k0s(),e.DNE(24,$,2,2,"option",17),e.nI1(25,"async"),e.k0s()(),e.j41(26,"div")(27,"label",51),e.EFF(28,"Compagnie d'assurance"),e.k0s(),e.j41(29,"select",52)(30,"option",20),e.EFF(31,"S\xe9lectionnez une compagnie"),e.k0s(),e.DNE(32,q,2,2,"option",17),e.nI1(33,"async"),e.k0s()(),e.j41(34,"div",53),e.nrm(35,"input",54),e.j41(36,"label",55),e.EFF(37,"Garantie RC de base"),e.k0s()(),e.j41(38,"div",53),e.nrm(39,"input",56),e.j41(40,"label",57),e.EFF(41,"Garantie Conducteur"),e.k0s()(),e.j41(42,"div",53),e.nrm(43,"input",58),e.j41(44,"label",59),e.EFF(45,"Assistance"),e.k0s()()()()),2&p){const a=e.XpG();e.R7$(22),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",e.bMT(25,4,a.statuts$)),e.R7$(6),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",e.bMT(33,6,a.insuranceCompanies$))}}let re=(()=>{class p{dbService;platformId;parentForm;showMainDriverSection=!1;marqueCtrl;filteredMarques$;isMarqueLoading=!1;isModeleLoading=!1;modelesForSelectedMarque=[];selectMarque;statuts$;insuranceCompanies$;vehicleYears=[];preneurCities$;nationalities$;maritalStatuses$;conducteurCities$;destroy$=new me.B;constructor(a,g){this.dbService=a,this.platformId=g}ngOnInit(){this.parentForm||console.warn("AutoFormComponent: [parentForm] input is missing."),this.statuts$=this.dbService.getAllStatuts(),this.insuranceCompanies$=this.dbService.getAllAssureurs(),this.nationalities$=this.dbService.getNationalities(),this.maritalStatuses$=this.dbService.getAllMaritalStatuses();for(let g=(new Date).getFullYear();g>=1940;g--)this.vehicleYears.push(g)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(g){return new(g||p)(e.rXU(jt.y),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:p,selectors:[["app-auto-form"]],inputs:{parentForm:"parentForm",showMainDriverSection:"showMainDriverSection",marqueCtrl:"marqueCtrl",filteredMarques$:"filteredMarques$",isMarqueLoading:"isMarqueLoading",isModeleLoading:"isModeleLoading",modelesForSelectedMarque:"modelesForSelectedMarque",selectMarque:"selectMarque",preneurCities$:"preneurCities$",conducteurCities$:"conducteurCities$"},standalone:!0,features:[e.aNF],decls:4,vars:4,consts:[[3,"formGroup"],["formGroupName","conducteurPrincipal",4,"ngIf"],["formGroupName","vehicule",4,"ngIf"],["formGroupName","garantie",4,"ngIf"],["formGroupName","conducteurPrincipal"],[1,"text-lg","font-semibold","text-gray-800","bg-gray-100","-mx-6","px-6","py-2","mb-4","border-y"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-x-6","gap-y-4"],["formGroupName","vehicule"],[1,"relative"],["for","make",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","make","placeholder","Rechercher une marque...",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"formControl"],["class","absolute inset-y-0 right-0 flex items-center pr-3 top-6",4,"ngIf"],["class","absolute z-20 w-full bg-white border border-gray-300 rounded-md mt-1 max-h-40 overflow-y-auto",4,"ngIf"],["for","model",1,"block","text-sm","font-medium","text-gray-700"],["id","model","formControlName","model",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm","disabled:bg-gray-100",3,"disabled"],["value","","disabled",""],[3,"disabled",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["for","year",1,"block","text-sm","font-medium","text-gray-700"],["id","year","formControlName","year",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["disabled","",3,"ngValue"],["for","licensePlate",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","licensePlate","formControlName","licensePlate","appLicensePlateFormat","","placeholder","1 ABC 123","maxlength","9",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","power",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","power","formControlName","power",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","seats",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","seats","formControlName","seats",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","value",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","value","formControlName","value",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","registrationDate",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","registrationDate","formControlName","registrationDate",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"absolute","inset-y-0","right-0","flex","items-center","pr-3","top-6"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5","text-gray-400"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"absolute","z-20","w-full","bg-white","border","border-gray-300","rounded-md","mt-1","max-h-40","overflow-y-auto"],["class","px-3 py-2 cursor-pointer hover:bg-gray-100",3,"click",4,"ngFor","ngForOf"],[1,"px-3","py-2","cursor-pointer","hover:bg-gray-100",3,"click"],[3,"disabled"],[3,"value"],["formGroupName","garantie"],[1,"sm:col-span-2"],["for","effectiveDate",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","effectiveDate","formControlName","effectiveDate",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","omniumLevel",1,"block","text-sm","font-medium","text-gray-700"],["id","omniumLevel","formControlName","omniumLevel",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["value","non"],["value","partiel"],["value","total"],["for","statut",1,"block","text-sm","font-medium","text-gray-700"],["id","statut","formControlName","statut",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","insuranceCompany",1,"block","text-sm","font-medium","text-gray-700"],["id","insuranceCompany","formControlName","insuranceCompany",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"flex","items-center"],["id","baseRC","type","checkbox","formControlName","baseRC",1,"form-checkbox","h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","baseRC",1,"ml-2","block","text-sm","text-gray-900"],["id","driverCoverage","type","checkbox","formControlName","driverCoverage",1,"form-checkbox","h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","driverCoverage",1,"ml-2","block","text-sm","text-gray-900"],["id","assistance","type","checkbox","formControlName","assistance",1,"form-checkbox","h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","assistance",1,"ml-2","block","text-sm","text-gray-900"]],template:function(g,h){1&g&&(e.qex(0,0),e.DNE(1,Mn,4,0,"div",1)(2,R,48,11,"div",2)(3,Q,46,8,"fieldset",3),e.bVm()),2&g&&(e.Y8G("formGroup",h.parentForm),e.R7$(),e.Y8G("ngIf",h.showMainDriverSection&&h.parentForm.get("conducteurPrincipal")),e.R7$(),e.Y8G("ngIf",h.parentForm.get("vehicule")),e.R7$(),e.Y8G("ngIf",h.parentForm.get("garantie")))},dependencies:[U.MD,U.Sq,U.bT,U.Jj,F.X1,F.xH,F.y7,F.me,F.Q0,F.Zm,F.wz,F.BC,F.cb,F.tU,F.l_,F.j4,F.JD,F.$R],encapsulation:2})}return p})();function we(p,L){if(1&p&&(e.j41(0,"tbody",3)(1,"tr",4)(2,"th",5),e.EFF(3," Preneur d'assurance "),e.k0s()(),e.j41(4,"tr")(5,"td",6),e.EFF(6,"Pr\xe9nom & Nom"),e.k0s(),e.j41(7,"td",7),e.EFF(8),e.nI1(9,"titlecase"),e.nI1(10,"uppercase"),e.k0s()(),e.j41(11,"tr")(12,"td",8),e.EFF(13,"Date de naissance"),e.k0s(),e.j41(14,"td",7),e.EFF(15),e.nI1(16,"date"),e.k0s()(),e.j41(17,"tr")(18,"td",8),e.EFF(19,"Contact"),e.k0s(),e.j41(20,"td",7)(21,"div")(22,"span",9),e.EFF(23,"Email:"),e.k0s(),e.EFF(24),e.k0s(),e.j41(25,"div")(26,"span",9),e.EFF(27,"T\xe9l:"),e.k0s(),e.EFF(28),e.k0s()()(),e.j41(29,"tr")(30,"td",8),e.EFF(31,"Adresse"),e.k0s(),e.j41(32,"td",7),e.EFF(33),e.nrm(34,"br"),e.EFF(35),e.nI1(36,"titlecase"),e.k0s()(),e.j41(37,"tr")(38,"td",8),e.EFF(39,"Permis de conduire"),e.k0s(),e.j41(40,"td",7),e.EFF(41),e.nI1(42,"date"),e.k0s()(),e.j41(43,"tr")(44,"td",8),e.EFF(45,"Identit\xe9 nationale"),e.k0s(),e.j41(46,"td",7)(47,"div")(48,"span",9),e.EFF(49,"RN:"),e.k0s(),e.EFF(50),e.k0s(),e.j41(51,"div")(52,"span",9),e.EFF(53,"Carte Id:"),e.k0s(),e.EFF(54),e.nI1(55,"date"),e.k0s()()(),e.j41(56,"tr")(57,"td",8),e.EFF(58,"Infos persos"),e.k0s(),e.j41(59,"td",7),e.EFF(60),e.k0s()()()),2&p){const a=L.ngIf,g=e.XpG();e.R7$(8),e.Lme(" ",e.bMT(9,15,a.prenom)," ",e.bMT(10,17,a.nom)," "),e.R7$(7),e.SpI(" ",e.i5U(16,19,a.date_naissance,"dd/MM/yyyy")," "),e.R7$(9),e.SpI(" ",a.email,""),e.R7$(4),e.SpI(" ",a.telephone,""),e.R7$(5),e.SpI(" ",a.address,""),e.R7$(2),e.Lme(" ",a.code_postal," ",e.bMT(36,22,a.city)," "),e.R7$(6),e.Lme(" N\xb0 ",a.driverLicenseNumber," (Obtenu le ",e.i5U(42,24,a.driverLicenseDate,"dd/MM/yyyy"),") "),e.R7$(9),e.SpI(" ",a.nationalRegistryNumber,""),e.R7$(4),e.Lme(" ",a.idCardNumber," (Validit\xe9: ",e.i5U(55,27,a.idCardValidityDate,"dd/MM/yyyy"),")"),e.R7$(6),e.Lme(" ",a.nationality," \u2014 ",g.getMaritalStatusLabel(a.maritalStatus)," ")}}function ye(p,L){if(1&p&&(e.j41(0,"tbody",10)(1,"tr",4)(2,"th",5),e.EFF(3," Conducteur Principal "),e.k0s()(),e.j41(4,"tr")(5,"td",6),e.EFF(6,"Pr\xe9nom & Nom"),e.k0s(),e.j41(7,"td",7),e.EFF(8),e.nI1(9,"titlecase"),e.nI1(10,"uppercase"),e.k0s()(),e.j41(11,"tr")(12,"td",8),e.EFF(13,"Date de naissance"),e.k0s(),e.j41(14,"td",7),e.EFF(15),e.nI1(16,"date"),e.k0s()(),e.j41(17,"tr")(18,"td",8),e.EFF(19,"Contact"),e.k0s(),e.j41(20,"td",7)(21,"div")(22,"span",9),e.EFF(23,"Email:"),e.k0s(),e.EFF(24),e.k0s(),e.j41(25,"div")(26,"span",9),e.EFF(27,"T\xe9l:"),e.k0s(),e.EFF(28),e.k0s()()(),e.j41(29,"tr")(30,"td",8),e.EFF(31,"Permis de conduire"),e.k0s(),e.j41(32,"td",7),e.EFF(33),e.nI1(34,"date"),e.k0s()(),e.j41(35,"tr")(36,"td",8),e.EFF(37,"Identit\xe9 nationale"),e.k0s(),e.j41(38,"td",7)(39,"div")(40,"span",9),e.EFF(41,"RN:"),e.k0s(),e.EFF(42),e.k0s(),e.j41(43,"div")(44,"span",9),e.EFF(45,"Carte Id:"),e.k0s(),e.EFF(46),e.nI1(47,"date"),e.k0s()()(),e.j41(48,"tr")(49,"td",8),e.EFF(50,"Infos persos"),e.k0s(),e.j41(51,"td",7),e.EFF(52),e.k0s()()()),2&p){const a=L.ngIf,g=e.XpG();e.R7$(8),e.Lme(" ",e.bMT(9,12,a.prenom)," ",e.bMT(10,14,a.nom)," "),e.R7$(7),e.SpI(" ",e.i5U(16,16,a.date_naissance,"dd/MM/yyyy")," "),e.R7$(9),e.SpI(" ",a.email,""),e.R7$(4),e.SpI(" ",a.telephone,""),e.R7$(5),e.Lme(" N\xb0 ",a.driverLicenseNumber," (Obtenu le ",e.i5U(34,19,a.driverLicenseDate,"dd/MM/yyyy"),") "),e.R7$(9),e.SpI(" ",a.nationalRegistryNumber,""),e.R7$(4),e.Lme(" ",a.idCardNumber," (Validit\xe9: ",e.i5U(47,22,a.idCardValidityDate,"dd/MM/yyyy"),")"),e.R7$(6),e.Lme(" ",a.nationality," \u2014 ",g.getMaritalStatusLabel(a.maritalStatus)," ")}}function Ye(p,L){if(1&p&&(e.j41(0,"tbody",10)(1,"tr",4)(2,"th",5),e.EFF(3," V\xe9hicule "),e.k0s()(),e.j41(4,"tr")(5,"td",8),e.EFF(6,"V\xe9hicule"),e.k0s(),e.j41(7,"td",7)(8,"span",11),e.EFF(9),e.k0s(),e.EFF(10),e.k0s()(),e.j41(11,"tr")(12,"td",8),e.EFF(13,"D\xe9tails"),e.k0s(),e.j41(14,"td",7),e.EFF(15),e.nrm(16,"br"),e.EFF(17," Plaque: "),e.j41(18,"span",12),e.EFF(19),e.k0s()()(),e.j41(20,"tr")(21,"td",8),e.EFF(22,"Sp\xe9cifications"),e.k0s(),e.j41(23,"td",7)(24,"div")(25,"span",9),e.EFF(26,"Puissance:"),e.k0s(),e.EFF(27),e.k0s(),e.j41(28,"div")(29,"span",9),e.EFF(30,"Places:"),e.k0s(),e.EFF(31),e.k0s(),e.j41(32,"div")(33,"span",9),e.EFF(34,"Valeur:"),e.k0s(),e.EFF(35),e.nI1(36,"currency"),e.k0s(),e.j41(37,"div")(38,"span",9),e.EFF(39,"1\xe8re immat.:"),e.k0s(),e.EFF(40),e.nI1(41,"date"),e.k0s()()()()),2&p){const a=L.ngIf;e.R7$(9),e.SpI("",a.make," "),e.R7$(),e.SpI(" ",a.modele," "),e.R7$(5),e.SpI(" Ann\xe9e: ",a.year,""),e.R7$(4),e.JRh(a.licensePlate),e.R7$(8),e.SpI(" ",a.power," kW"),e.R7$(4),e.SpI(" ",a.seats,""),e.R7$(4),e.SpI(" ",e.i5U(36,8,a.value,"EUR"),""),e.R7$(5),e.SpI(" ",e.i5U(41,11,a.registrationDate,"dd/MM/yyyy"),"")}}function Be(p,L){if(1&p&&(e.j41(0,"tbody",10)(1,"tr",4)(2,"th",5),e.EFF(3," Garanties "),e.k0s()(),e.j41(4,"tr")(5,"td",8),e.EFF(6,"Statut"),e.k0s(),e.j41(7,"td",7)(8,"span",13),e.EFF(9),e.k0s()()(),e.j41(10,"tr")(11,"td",8),e.EFF(12,"G\xe9n\xe9ral"),e.k0s(),e.j41(13,"td",7)(14,"div")(15,"span",9),e.EFF(16,"Date d'effet:"),e.k0s(),e.EFF(17),e.nI1(18,"date"),e.k0s(),e.j41(19,"div")(20,"span",9),e.EFF(21,"Compagnie:"),e.k0s(),e.EFF(22),e.k0s()()(),e.j41(23,"tr")(24,"td",8),e.EFF(25,"Niveau d'omnium"),e.k0s(),e.j41(26,"td",7)(27,"span",14),e.EFF(28),e.nI1(29,"uppercase"),e.k0s()()(),e.j41(30,"tr")(31,"td",8),e.EFF(32,"Options souscrites"),e.k0s(),e.j41(33,"td",15)(34,"ul",16)(35,"li"),e.EFF(36,"RC de base: "),e.j41(37,"strong"),e.EFF(38),e.k0s()(),e.j41(39,"li"),e.EFF(40,"Garantie Conducteur: "),e.j41(41,"strong"),e.EFF(42),e.k0s()(),e.j41(43,"li"),e.EFF(44,"Assistance: "),e.j41(45,"strong"),e.EFF(46),e.k0s()()()()()()),2&p){const a=L.ngIf,g=e.XpG();e.R7$(8),e.Y8G("ngClass",g.getStatutClass(a.statut)),e.R7$(),e.JRh(a.statut),e.R7$(8),e.SpI(" ",e.i5U(18,8,a.effectiveDate,"dd/MM/yyyy"),""),e.R7$(5),e.SpI(" ",g.getCompanyName(a.insuranceCompany),""),e.R7$(6),e.SpI(" ",e.bMT(29,11,a.omniumLevel)," "),e.R7$(10),e.JRh(a.baseRC?"Oui":"Non"),e.R7$(4),e.JRh(a.driverCoverage?"Oui":"Non"),e.R7$(4),e.JRh(a.assistance?"Oui":"Non")}}let it=(()=>{class p{dbService;formValue;showMainDriverSection=!1;destroy$=new me.B;insuranceCompanies=[];maritalStatuses=[];constructor(a){this.dbService=a}ngOnInit(){this.dbService.getAllAssureurs().pipe((0,ft.Q)(this.destroy$)).subscribe(a=>{this.insuranceCompanies=a||[]}),this.dbService.getAllMaritalStatuses().pipe((0,ft.Q)(this.destroy$)).subscribe(a=>{this.maritalStatuses=a||[]})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getCompanyName(a){if(!a||!this.insuranceCompanies||0===this.insuranceCompanies.length)return"N/A";const g=this.insuranceCompanies.find(h=>h.id===a);return g?g.nom:`Inconnue (ID: ${a})`}getMaritalStatusLabel(a){if(!a||!this.maritalStatuses||0===this.maritalStatuses.length)return"N/A";const g=this.maritalStatuses.find(h=>h.id===a);return g?g.label:`Inconnu (ID: ${a})`}getStatutClass(a){return a&&{Nouveau:{"bg-blue-100":!0,"text-blue-800":!0},"En cours":{"bg-yellow-100":!0,"text-yellow-800":!0},Termin\u00e9:{"bg-green-100":!0,"text-green-800":!0}}[a]||{"bg-gray-100":!0,"text-gray-800":!0}}static \u0275fac=function(g){return new(g||p)(e.rXU(jt.y))};static \u0275cmp=e.VBU({type:p,selectors:[["app-auto-details"]],inputs:{formValue:"formValue",showMainDriverSection:"showMainDriverSection"},standalone:!0,features:[e.aNF],decls:5,vars:4,consts:[[1,"min-w-full","divide-y","divide-gray-200"],["class","bg-white divide-y divide-gray-200",4,"ngIf"],["class","bg-white divide-y divide-gray-200 border-t-8 border-gray-50",4,"ngIf"],[1,"bg-white","divide-y","divide-gray-200"],[1,"bg-gray-100"],["colspan","2",1,"px-6","py-3","text-left","text-xs","font-bold","text-gray-500","uppercase","tracking-wider"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-700","bg-gray-50","w-1/3"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-700","bg-gray-50"],[1,"font-medium"],[1,"bg-white","divide-y","divide-gray-200","border-t-8","border-gray-50"],[1,"font-bold"],[1,"uppercase","font-mono","bg-gray-100","px-2","py-1","rounded"],[1,"px-2.5","py-0.5","rounded-full","text-xs","font-medium",3,"ngClass"],[1,"px-2","inline-flex","text-xs","leading-5","font-semibold","rounded-full","bg-blue-100","text-blue-800"],[1,"px-6","py-4","text-sm","text-gray-900"],[1,"list-disc","list-inside"]],template:function(g,h){1&g&&(e.j41(0,"table",0),e.DNE(1,we,61,30,"tbody",1)(2,ye,53,25,"tbody",2)(3,Ye,42,14,"tbody",2)(4,Be,47,13,"tbody",2),e.k0s()),2&g&&(e.R7$(),e.Y8G("ngIf",null==h.formValue?null:h.formValue.preneurAssurance),e.R7$(),e.Y8G("ngIf",h.showMainDriverSection&&(null==h.formValue?null:h.formValue.conducteurPrincipal)),e.R7$(),e.Y8G("ngIf",null==h.formValue?null:h.formValue.vehicule),e.R7$(),e.Y8G("ngIf",null==h.formValue?null:h.formValue.garantie))},dependencies:[U.MD,U.YU,U.bT,U.Pc,U.PV,U.oe,U.vh],encapsulation:2})}return p})();const nt=p=>({"border-red-500 ring-red-500":p}),wt=()=>[];function Wt(p,L){if(1&p&&(e.j41(0,"option",62),e.EFF(1),e.k0s()),2&p){const a=L.$implicit;e.Y8G("value",a),e.R7$(),e.SpI(" ",a," ")}}function Kt(p,L){if(1&p&&(e.j41(0,"option",62),e.EFF(1),e.k0s()),2&p){const a=L.$implicit;e.Y8G("value",a.id),e.R7$(),e.JRh(a.nom)}}function Et(p,L){if(1&p&&(e.j41(0,"option",62),e.EFF(1),e.k0s()),2&p){const a=L.$implicit;e.Y8G("value",a.statut),e.R7$(),e.JRh(a.statut)}}let xt=(()=>{class p{fb;dbService;platformId;parentForm;isReadOnly=!1;initialData;statuts$;insuranceCompanies$;batimentCities$;preneurCities$;destroy$=new me.B;constructor(a,g,h){this.fb=a,this.dbService=g,this.platformId=h,this.batimentCities$=(0,J.of)([])}ngOnInit(){if(this.parentForm||this.initializeForm(),this.statuts$=this.dbService.getAllStatuts(),this.insuranceCompanies$=this.dbService.getAllAssureurs(),(0,U.UE)(this.platformId)){const a=this.parentForm.get("batiment.batiment_code_postal");a&&(a.valueChanges.pipe(He(),(0,ft.Q)(this.destroy$)).subscribe(()=>{this.parentForm.get("batiment.batiment_ville")?.setValue(null,{emitEvent:!1})}),this.batimentCities$=a.valueChanges.pipe((0,In.Z)(a.value||""),$e(300),He(),(0,dt.n)(h=>h&&h.length>=4?this.dbService.getCitiesByPostalCode(h).pipe((0,te.W)(()=>(0,J.of)([]))):(0,J.of)([])),(0,fe.T)(h=>{const B=this.parentForm.get("batiment.batiment_ville")?.value;return B&&!h.includes(B)?[B,...h]:h}),(0,ft.Q)(this.destroy$)));const g=this.parentForm.get("preneurAssurance.code_postal");g&&(this.preneurCities$=g.valueChanges.pipe($e(300),He(),(0,dt.n)(h=>h&&h.length>=4?this.dbService.getCitiesByPostalCode(h).pipe((0,te.W)(()=>(0,J.of)([])),(0,ft.Q)(this.destroy$)):(0,J.of)([])),(0,ft.Q)(this.destroy$)))}}ngOnChanges(a){a.initialData&&this.initialData&&this.patchFormWithData(this.initialData)}initializeForm(){this.parentForm=this.fb.group({preneurAssurance:this.fb.group({prenom:[{value:"",disabled:!0}],nom:[{value:"",disabled:!0}],date_naissance:[{value:"",disabled:!0}],email:[{value:"",disabled:!0}],telephone:[{value:"",disabled:!0}],nationalRegistryNumber:[{value:"",disabled:!0}],idCardNumber:[{value:"",disabled:!0}],idCardValidityDate:[{value:"",disabled:!0}],adresse:[{value:"",disabled:!0}],code_postal:[{value:"",disabled:!0}],ville:[{value:"",disabled:!0}]}),batiment:this.fb.group({batiment_adresse:["",F.k0.required],batiment_code_postal:["",F.k0.required],batiment_ville:["",F.k0.required],batiment_type_maison:[""]}),evaluation:this.fb.group({superficie:[null],nombrePieces:[null],loyerMensuel:[null],typeValeurBatiment:[null],valeurExpertise:[null],dateExpertise:[null],typeValeurContenu:[null],valeurLibreContenu:[null]}),garantiesHabitation:this.fb.group({contenu:[!1],vol:[!1],pertesIndirectes:[!1],protectionJuridique:[!1],assistance:[!1],dateEffet:[null],compagnie_id:[null],statut:[null]})})}patchFormWithData(a){a&&this.parentForm&&this.parentForm.patchValue({preneurAssurance:{prenom:a.preneur?.prenom,nom:a.preneur?.nom,date_naissance:a.preneur?.date_naissance,email:a.preneur?.email,telephone:a.preneur?.telephone,nationalRegistryNumber:a.preneur?.numero_national,idCardNumber:a.preneur?.idcard_number,idCardValidityDate:a.preneur?.idcard_validity,adresse:a.preneur?.adresse,code_postal:a.preneur?.code_postal,ville:a.preneur?.ville},batiment:{batiment_adresse:a.batiment_adresse,batiment_code_postal:a.batiment_code_postal,batiment_ville:a.batiment_ville,batiment_type_maison:a.batiment_type_maison},evaluation:{superficie:a.evaluation_superficie,nombrePieces:a.evaluation_nombre_pieces,loyerMensuel:a.evaluation_loyer_mensuel,typeValeurBatiment:a.evaluation_type_valeur_batiment,valeurExpertise:a.evaluation_valeur_expertise,dateExpertise:a.evaluation_date_expertise,typeValeurContenu:a.evaluation_type_valeur_contenu,valeurLibreContenu:a.evaluation_valeur_libre_contenu},garantiesHabitation:{contenu:a.garantie_contenu,vol:a.garantie_vol,pertesIndirectes:a.garantie_pertes_indirectes,protectionJuridique:a.garantie_protection_juridique,assistance:a.garantie_assistance,dateEffet:a.date_effet,compagnie_id:a.compagnie_id,statut:a.statut}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}scrollToSection(a){const g=document.getElementById(a);g&&g.scrollIntoView({behavior:"smooth",block:"start"})}static \u0275fac=function(g){return new(g||p)(e.rXU(F.ok),e.rXU(jt.y),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:p,selectors:[["app-habitation-form"]],inputs:{parentForm:"parentForm",isReadOnly:"isReadOnly",initialData:"initialData"},standalone:!0,features:[e.OA$,e.aNF],decls:144,vars:31,consts:[[3,"formGroup"],["formGroupName","batiment",1,"mt-6"],[1,"text-lg","font-semibold","text-gray-700","border-b","pb-2","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","pt-4"],[1,"md:col-span-2"],["for","batiment_adresse",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","batiment_adresse","formControlName","batiment_adresse",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],[1,"relative"],["for","batiment_code_postal",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","batiment_code_postal","formControlName","batiment_code_postal",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","ville",1,"block","text-sm","font-medium","text-gray-700"],["id","ville","formControlName","batiment_ville",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["disabled","",3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["for","type-maison",1,"block","text-sm","font-medium","text-gray-700"],["id","type-maison","formControlName","batiment_type_maison",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["formGroupName","evaluation",1,"mt-6"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4","pt-4"],["for","superficie",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","superficie","formControlName","superficie",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"readOnly"],["for","nombre-pieces",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","nombre-pieces","formControlName","nombrePieces","placeholder","Salon + Cuisine = 1 pi\xe8ce",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"readOnly"],["for","loyer",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","loyer","formControlName","loyerMensuel","placeholder","\u20ac",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"readOnly"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4","pt-4","mt-4","border-t"],["for","type-valeur-batiment",1,"block","text-sm","font-medium","text-gray-700"],["id","type-valeur-batiment","formControlName","typeValeurBatiment",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm","capitalize"],[3,"ngValue"],["value","expertise"],["value","libre"],["for","valeur-expertise",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","valeur-expertise","formControlName","valeurExpertise","placeholder","\u20ac",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"readOnly"],["for","date-expertise",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","date-expertise","formControlName","dateExpertise",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"readOnly"],["for","type-valeur-contenu",1,"block","text-sm","font-medium","text-gray-700"],["id","type-valeur-contenu","formControlName","typeValeurContenu",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm","capitalize"],["value","courtier"],["value","client"],["for","valeur-libre-contenu",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","valeur-libre-contenu","formControlName","valeurLibreContenu","placeholder","\u20ac",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"readOnly"],["formGroupName","garantiesHabitation",1,"mt-6"],[1,"space-y-4","pt-4"],[1,"grid","grid-cols-2","md:grid-cols-3","gap-4"],[1,"flex","items-start"],[1,"flex","h-5","items-center"],["id","garantie-contenu","formControlName","contenu","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],[1,"ml-3","text-sm"],["for","garantie-contenu",1,"font-medium","text-gray-700"],["id","garantie-vol","formControlName","vol","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","garantie-vol",1,"font-medium","text-gray-700"],["id","garantie-pertes","formControlName","pertesIndirectes","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","garantie-pertes",1,"font-medium","text-gray-700"],["id","garantie-pj","formControlName","protectionJuridique","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","garantie-pj",1,"font-medium","text-gray-700"],["id","garantie-assistance","formControlName","assistance","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","garantie-assistance",1,"font-medium","text-gray-700"],["for","date_effet",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","date_effet","formControlName","dateEffet",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","garantie-insuranceCompany",1,"block","text-sm","font-medium","text-gray-700"],["id","garantie-insuranceCompany","formControlName","compagnie_id",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","garantie-statut",1,"block","text-sm","font-medium","text-gray-700"],["id","garantie-statut","formControlName","statut",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[3,"value"]],template:function(g,h){if(1&g&&(e.j41(0,"div",0)(1,"fieldset",1)(2,"legend",2),e.EFF(3,"B\xe2timent \xe0 assurer"),e.k0s(),e.j41(4,"div",3)(5,"div",4)(6,"label",5),e.EFF(7,"Rue et num\xe9ro"),e.k0s(),e.nrm(8,"input",6),e.k0s(),e.j41(9,"div")(10,"div",7)(11,"label",8),e.EFF(12,"Code Postal"),e.k0s(),e.nrm(13,"input",9),e.k0s()(),e.j41(14,"div")(15,"label",10),e.EFF(16,"Ville"),e.k0s(),e.j41(17,"select",11)(18,"option",12),e.EFF(19,"-- Entrez un code postal --"),e.k0s(),e.DNE(20,Wt,2,2,"option",13),e.nI1(21,"async"),e.k0s()(),e.j41(22,"div")(23,"label",14),e.EFF(24,"Type de maison"),e.k0s(),e.j41(25,"select",15)(26,"option"),e.EFF(27,"Maison 2 fa\xe7ades"),e.k0s(),e.j41(28,"option"),e.EFF(29,"Maison 3 fa\xe7ades"),e.k0s(),e.j41(30,"option"),e.EFF(31,"Maison 4 fa\xe7ades (villa)"),e.k0s(),e.j41(32,"option"),e.EFF(33,"Appartement"),e.k0s(),e.j41(34,"option"),e.EFF(35,"Studio"),e.k0s(),e.j41(36,"option"),e.EFF(37,"Autre"),e.k0s()()()()(),e.j41(38,"fieldset",16)(39,"legend",2),e.EFF(40,"\xc9valuation des biens"),e.k0s(),e.j41(41,"div",17)(42,"div")(43,"label",18),e.EFF(44,"Superficie (m\xb2)"),e.k0s(),e.nrm(45,"input",19),e.k0s(),e.j41(46,"div")(47,"label",20),e.EFF(48,"Nombre de pi\xe8ces"),e.k0s(),e.nrm(49,"input",21),e.k0s(),e.j41(50,"div")(51,"label",22),e.EFF(52,"Loyer mensuel (charges comprises)"),e.k0s(),e.nrm(53,"input",23),e.k0s()(),e.j41(54,"div",24)(55,"div")(56,"label",25),e.EFF(57,"Valeur b\xe2timent selon"),e.k0s(),e.j41(58,"select",26)(59,"option",27),e.EFF(60,"-- S\xe9lectionner --"),e.k0s(),e.j41(61,"option",28),e.EFF(62,"Expertise"),e.k0s(),e.j41(63,"option",29),e.EFF(64,"Librement exprim\xe9"),e.k0s()()(),e.j41(65,"div")(66,"label",30),e.EFF(67,"Valeur expertise b\xe2timent"),e.k0s(),e.nrm(68,"input",31),e.k0s(),e.j41(69,"div")(70,"label",32),e.EFF(71,"Date expertise b\xe2timent"),e.k0s(),e.nrm(72,"input",33),e.k0s()(),e.j41(73,"div",24)(74,"div")(75,"label",34),e.EFF(76,"Valeur contenu"),e.k0s(),e.j41(77,"select",35)(78,"option",27),e.EFF(79,"-- S\xe9lectionner --"),e.k0s(),e.j41(80,"option",36),e.EFF(81,"Courtier"),e.k0s(),e.j41(82,"option",37),e.EFF(83,"Client"),e.k0s()()(),e.j41(84,"div")(85,"label",38),e.EFF(86,"Valeur du contenu"),e.k0s(),e.nrm(87,"input",39),e.k0s()()(),e.j41(88,"fieldset",40)(89,"legend",2),e.EFF(90,"Garanties et contrat"),e.k0s(),e.j41(91,"div",41)(92,"div",42)(93,"div",43)(94,"div",44),e.nrm(95,"input",45),e.k0s(),e.j41(96,"div",46)(97,"label",47),e.EFF(98,"Contenu"),e.k0s()()(),e.j41(99,"div",43)(100,"div",44),e.nrm(101,"input",48),e.k0s(),e.j41(102,"div",46)(103,"label",49),e.EFF(104,"Vol"),e.k0s()()(),e.j41(105,"div",43)(106,"div",44),e.nrm(107,"input",50),e.k0s(),e.j41(108,"div",46)(109,"label",51),e.EFF(110,"Pertes indirectes"),e.k0s()()(),e.j41(111,"div",43)(112,"div",44),e.nrm(113,"input",52),e.k0s(),e.j41(114,"div",46)(115,"label",53),e.EFF(116,"Protection Juridique"),e.k0s()()(),e.j41(117,"div",43)(118,"div",44),e.nrm(119,"input",54),e.k0s(),e.j41(120,"div",46)(121,"label",55),e.EFF(122,"Assistance"),e.k0s()()()()(),e.j41(123,"div",17)(124,"div")(125,"label",56),e.EFF(126,"Date d'effet"),e.k0s(),e.nrm(127,"input",57),e.k0s(),e.j41(128,"div")(129,"label",58),e.EFF(130,"Compagnie"),e.k0s(),e.j41(131,"select",59)(132,"option",27),e.EFF(133,"-- S\xe9lectionner --"),e.k0s(),e.DNE(134,Kt,2,2,"option",13),e.nI1(135,"async"),e.k0s()(),e.j41(136,"div")(137,"label",60),e.EFF(138,"Statut"),e.k0s(),e.j41(139,"select",61)(140,"option",27),e.EFF(141,"-- S\xe9lectionner --"),e.k0s(),e.DNE(142,Et,2,2,"option",13),e.nI1(143,"async"),e.k0s()()()()()),2&g){let B,ce,Ie;e.Y8G("formGroup",h.parentForm),e.R7$(8),e.Y8G("ngClass",e.eq3(24,nt,(null==(B=h.parentForm.get("batiment.batiment_adresse"))?null:B.invalid)&&(null==(B=h.parentForm.get("batiment.batiment_adresse"))?null:B.touched))),e.R7$(5),e.Y8G("ngClass",e.eq3(26,nt,(null==(ce=h.parentForm.get("batiment.batiment_code_postal"))?null:ce.invalid)&&(null==(ce=h.parentForm.get("batiment.batiment_code_postal"))?null:ce.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(28,nt,(null==(Ie=h.parentForm.get("batiment.batiment_ville"))?null:Ie.invalid)&&(null==(Ie=h.parentForm.get("batiment.batiment_ville"))?null:Ie.touched))),e.R7$(),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",e.bMT(21,18,h.batimentCities$)||e.lJ4(30,wt)),e.R7$(25),e.Y8G("readOnly",h.isReadOnly),e.R7$(4),e.Y8G("readOnly",h.isReadOnly),e.R7$(4),e.Y8G("readOnly",h.isReadOnly),e.R7$(6),e.Y8G("ngValue",null),e.R7$(9),e.Y8G("readOnly",h.isReadOnly),e.R7$(4),e.Y8G("readOnly",h.isReadOnly),e.R7$(6),e.Y8G("ngValue",null),e.R7$(9),e.Y8G("readOnly",h.isReadOnly),e.R7$(45),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",e.bMT(135,20,h.insuranceCompanies$)),e.R7$(6),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",e.bMT(143,22,h.statuts$))}},dependencies:[U.MD,U.YU,U.Sq,U.Jj,F.X1,F.xH,F.y7,F.me,F.Q0,F.Zm,F.wz,F.BC,F.cb,F.j4,F.JD,F.$R],encapsulation:2})}return p})();function bn(p,L){if(!p||!L||0===L.length)return"Non sp\xe9cifi\xe9e";const a=L.find(g=>g.id===p);return a?a.nom:`Inconnue (ID: ${p})`}function Nr(p){if(!p)return{"bg-gray-100":!0,"text-gray-800":!0};switch(p){case"Nouveau":case"En cours de traitement":return{"bg-blue-100":!0,"text-blue-800":!0};case"En attente":case"En cours":return{"bg-yellow-100":!0,"text-yellow-800":!0};case"Termin\xe9":return{"bg-green-100":!0,"text-green-800":!0};case"Refus\xe9":case"Inactif":return{"bg-red-100":!0,"text-red-800":!0};default:return{"bg-gray-100":!0,"text-gray-800":!0}}}function dn(p,L){if(1&p&&(e.j41(0,"tbody",3)(1,"tr",4)(2,"th",5),e.EFF(3," Preneur d'assurance "),e.k0s()(),e.j41(4,"tr")(5,"td",6),e.EFF(6,"Pr\xe9nom & Nom"),e.k0s(),e.j41(7,"td",7),e.EFF(8),e.nI1(9,"titlecase"),e.nI1(10,"uppercase"),e.k0s()(),e.j41(11,"tr")(12,"td",8),e.EFF(13,"Date de naissance"),e.k0s(),e.j41(14,"td",7),e.EFF(15),e.nI1(16,"date"),e.k0s()(),e.j41(17,"tr")(18,"td",8),e.EFF(19,"Contact"),e.k0s(),e.j41(20,"td",7)(21,"div")(22,"span",9),e.EFF(23,"Email:"),e.k0s(),e.EFF(24),e.k0s(),e.j41(25,"div")(26,"span",9),e.EFF(27,"T\xe9l:"),e.k0s(),e.EFF(28),e.k0s()()(),e.j41(29,"tr")(30,"td",8),e.EFF(31,"Adresse"),e.k0s(),e.j41(32,"td",7),e.EFF(33),e.nrm(34,"br"),e.EFF(35),e.nI1(36,"titlecase"),e.k0s()(),e.j41(37,"tr")(38,"td",8),e.EFF(39,"Identit\xe9 nationale"),e.k0s(),e.j41(40,"td",7)(41,"div")(42,"span",9),e.EFF(43,"RN:"),e.k0s(),e.EFF(44),e.k0s(),e.j41(45,"div")(46,"span",9),e.EFF(47,"Carte Id:"),e.k0s(),e.EFF(48),e.nI1(49,"date"),e.k0s()()()()),2&p){const a=L.ngIf;e.R7$(8),e.Lme(" ",e.bMT(9,11,a.prenom)," ",e.bMT(10,13,a.nom)," "),e.R7$(7),e.SpI(" ",e.i5U(16,15,a.date_naissance,"dd/MM/yyyy")," "),e.R7$(9),e.SpI(" ",a.email,""),e.R7$(4),e.SpI(" ",a.telephone,""),e.R7$(5),e.SpI(" ",a.address,""),e.R7$(2),e.Lme(" ",a.code_postal," ",e.bMT(36,18,a.city)," "),e.R7$(9),e.SpI(" ",a.nationalRegistryNumber,""),e.R7$(4),e.Lme(" ",a.idCardNumber," (Validit\xe9: ",e.i5U(49,20,a.idCardValidityDate,"dd/MM/yyyy"),")")}}function lt(p,L){if(1&p&&(e.j41(0,"tbody",10)(1,"tr",4)(2,"th",5),e.EFF(3," B\xe2timent "),e.k0s()(),e.j41(4,"tr")(5,"td",8),e.EFF(6,"Adresse"),e.k0s(),e.j41(7,"td",7),e.EFF(8),e.nrm(9,"br"),e.EFF(10),e.nI1(11,"titlecase"),e.k0s()(),e.j41(12,"tr")(13,"td",8),e.EFF(14,"Type"),e.k0s(),e.j41(15,"td",7),e.EFF(16),e.k0s()()()),2&p){const a=L.ngIf;e.R7$(8),e.SpI(" ",a.batiment_adresse,""),e.R7$(2),e.Lme(" ",a.batiment_code_postal," ",e.bMT(11,4,a.batiment_ville)," "),e.R7$(6),e.SpI(" ",a.batiment_type_maison," ")}}function Ro(p,L){if(1&p&&(e.j41(0,"div")(1,"span",9),e.EFF(2,"Loyer:"),e.k0s(),e.EFF(3),e.nI1(4,"currency"),e.k0s()),2&p){const a=e.XpG().ngIf;e.R7$(3),e.SpI(" ",e.i5U(4,1,a.loyerMensuel,"EUR"),"")}}function no(p,L){if(1&p&&(e.j41(0,"div")(1,"span",9),e.EFF(2,"Valeur expertise:"),e.k0s(),e.EFF(3),e.nI1(4,"currency"),e.nI1(5,"date"),e.k0s()),2&p){const a=e.XpG().ngIf;e.R7$(3),e.Lme(" ",e.i5U(4,2,a.valeurExpertise,"EUR")," (",e.i5U(5,5,a.dateExpertise,"dd/MM/yyyy"),")")}}function Li(p,L){if(1&p&&(e.j41(0,"div")(1,"span",9),e.EFF(2,"Valeur contenu:"),e.k0s(),e.EFF(3),e.nI1(4,"currency"),e.k0s()),2&p){const a=e.XpG().ngIf;e.R7$(3),e.SpI(" ",e.i5U(4,1,a.evaluation_valeur_libre_contenu,"EUR"),"")}}function fa(p,L){if(1&p&&(e.j41(0,"tbody",10)(1,"tr",4)(2,"th",5),e.EFF(3," \xc9valuation "),e.k0s()(),e.j41(4,"tr")(5,"td",8),e.EFF(6,"Dimensions"),e.k0s(),e.j41(7,"td",7)(8,"div")(9,"span",9),e.EFF(10,"Superficie:"),e.k0s(),e.EFF(11),e.k0s(),e.j41(12,"div")(13,"span",9),e.EFF(14,"Pi\xe8ces:"),e.k0s(),e.EFF(15),e.k0s(),e.DNE(16,Ro,5,4,"div",11),e.k0s()(),e.j41(17,"tr")(18,"td",8),e.EFF(19,"Valeurs"),e.k0s(),e.j41(20,"td",7)(21,"div")(22,"span",9),e.EFF(23,"B\xe2timent:"),e.k0s(),e.EFF(24),e.k0s(),e.DNE(25,no,6,8,"div",11),e.j41(26,"div")(27,"span",9),e.EFF(28,"Contenu:"),e.k0s(),e.EFF(29),e.k0s(),e.DNE(30,Li,5,4,"div",11),e.k0s()()()),2&p){const a=L.ngIf;e.R7$(11),e.SpI(" ",a.superficie," m\xb2"),e.R7$(4),e.SpI(" ",a.nombrePieces,""),e.R7$(),e.Y8G("ngIf",a.loyerMensuel),e.R7$(8),e.SpI(" ",a.typeValeurBatiment,""),e.R7$(),e.Y8G("ngIf",a.valeurExpertise),e.R7$(4),e.SpI(" ",a.typeValeurContenu,""),e.R7$(),e.Y8G("ngIf",a.evaluation_valeur_libre_contenu)}}function Vs(p,L){if(1&p&&(e.j41(0,"tbody",10)(1,"tr",4)(2,"th",5),e.EFF(3," Garanties et Contrat "),e.k0s()(),e.j41(4,"tr")(5,"td",8),e.EFF(6,"Statut & Contrat"),e.k0s(),e.j41(7,"td",7)(8,"div")(9,"span",9),e.EFF(10,"Statut:"),e.k0s(),e.j41(11,"span",12),e.EFF(12),e.k0s()(),e.j41(13,"div")(14,"span",9),e.EFF(15,"Date d'effet:"),e.k0s(),e.EFF(16),e.nI1(17,"date"),e.k0s(),e.j41(18,"div")(19,"span",9),e.EFF(20,"Compagnie:"),e.k0s(),e.EFF(21),e.k0s()()(),e.j41(22,"tr")(23,"td",8),e.EFF(24,"Options souscrites"),e.k0s(),e.j41(25,"td",13)(26,"ul",14)(27,"li"),e.EFF(28,"Contenu: "),e.j41(29,"strong"),e.EFF(30),e.k0s()(),e.j41(31,"li"),e.EFF(32,"Vol: "),e.j41(33,"strong"),e.EFF(34),e.k0s()(),e.j41(35,"li"),e.EFF(36,"Pertes indirectes: "),e.j41(37,"strong"),e.EFF(38),e.k0s()(),e.j41(39,"li"),e.EFF(40,"Protection Juridique: "),e.j41(41,"strong"),e.EFF(42),e.k0s()(),e.j41(43,"li"),e.EFF(44,"Assistance: "),e.j41(45,"strong"),e.EFF(46),e.k0s()()()()()()),2&p){const a=L.ngIf,g=e.XpG();e.R7$(11),e.Y8G("ngClass",g.getStatutClass(a.statut)),e.R7$(),e.JRh(a.statut),e.R7$(4),e.SpI(" ",e.i5U(17,9,a.dateEffet,"dd/MM/yyyy"),""),e.R7$(5),e.SpI(" ",g.getCompanyName(a.insuranceCompany),""),e.R7$(9),e.JRh(a.contenu?"Oui":"Non"),e.R7$(4),e.JRh(a.vol?"Oui":"Non"),e.R7$(4),e.JRh(a.pertesIndirectes?"Oui":"Non"),e.R7$(4),e.JRh(a.protectionJuridique?"Oui":"Non"),e.R7$(4),e.JRh(a.assistance?"Oui":"Non")}}let sr=(()=>{class p{formValue;insuranceCompanies=[];getCompanyName(a){return bn(a,this.insuranceCompanies)}getStatutClass(a){return Nr(a)}static \u0275fac=function(g){return new(g||p)};static \u0275cmp=e.VBU({type:p,selectors:[["app-habitation-details"]],inputs:{formValue:"formValue",insuranceCompanies:"insuranceCompanies"},standalone:!0,features:[e.aNF],decls:5,vars:4,consts:[[1,"min-w-full","divide-y","divide-gray-200"],["class","bg-white divide-y divide-gray-200",4,"ngIf"],["class","bg-white divide-y divide-gray-200 border-t-8 border-gray-50",4,"ngIf"],[1,"bg-white","divide-y","divide-gray-200"],[1,"bg-gray-100"],["colspan","2",1,"px-6","py-3","text-left","text-xs","font-bold","text-gray-500","uppercase","tracking-wider"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-700","bg-gray-50","w-1/3"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-700","bg-gray-50"],[1,"font-medium"],[1,"bg-white","divide-y","divide-gray-200","border-t-8","border-gray-50"],[4,"ngIf"],[1,"px-2.5","py-0.5","rounded-full","text-xs","font-medium",3,"ngClass"],[1,"px-6","py-4","text-sm","text-gray-900"],[1,"list-disc","list-inside"]],template:function(g,h){1&g&&(e.j41(0,"table",0),e.DNE(1,dn,50,23,"tbody",1)(2,lt,17,6,"tbody",2)(3,fa,31,7,"tbody",2)(4,Vs,47,12,"tbody",2),e.k0s()),2&g&&(e.R7$(),e.Y8G("ngIf",null==h.formValue?null:h.formValue.preneurAssurance),e.R7$(),e.Y8G("ngIf",null==h.formValue?null:h.formValue.batiment),e.R7$(),e.Y8G("ngIf",null==h.formValue?null:h.formValue.evaluation),e.R7$(),e.Y8G("ngIf",null==h.formValue?null:h.formValue.garantiesHabitation))},dependencies:[U.MD,U.YU,U.bT,U.Pc,U.PV,U.oe,U.vh],encapsulation:2})}return p})();const cs=p=>({"border-red-500 ring-red-500":p});function xr(p,L){if(1&p){const a=e.RV6();e.j41(0,"div",17)(1,"button",18),e.bIt("click",function(){const h=e.eBV(a).index,B=e.XpG();return e.Njj(B.removeAssure(h))}),e.qSk(),e.j41(2,"svg",19),e.nrm(3,"path",20),e.k0s()(),e.joV(),e.j41(4,"div",21)(5,"div")(6,"label",22),e.EFF(7,"Nom"),e.k0s(),e.nrm(8,"input",23),e.k0s(),e.j41(9,"div")(10,"label",22),e.EFF(11,"Pr\xe9nom"),e.k0s(),e.nrm(12,"input",24),e.k0s(),e.j41(13,"div")(14,"label",22),e.EFF(15,"Date de naissance"),e.k0s(),e.nrm(16,"input",25),e.k0s(),e.j41(17,"div")(18,"label",22),e.EFF(19,"Capital assur\xe9 (\u20ac)"),e.k0s(),e.nrm(20,"input",26),e.k0s()()()}if(2&p){let a,g,h,B;const ce=L.$implicit,Ie=L.index;e.Y8G("formGroupName",Ie),e.R7$(6),e.Y8G("for","assure-nom-"+Ie),e.R7$(2),e.Y8G("id","assure-nom-"+Ie)("ngClass",e.eq3(13,cs,(null==(a=ce.get("nom"))?null:a.invalid)&&(null==(a=ce.get("nom"))?null:a.touched))),e.R7$(2),e.Y8G("for","assure-prenom-"+Ie),e.R7$(2),e.Y8G("id","assure-prenom-"+Ie)("ngClass",e.eq3(15,cs,(null==(g=ce.get("prenom"))?null:g.invalid)&&(null==(g=ce.get("prenom"))?null:g.touched))),e.R7$(2),e.Y8G("for","assure-dateNaissance-"+Ie),e.R7$(2),e.Y8G("id","assure-dateNaissance-"+Ie)("ngClass",e.eq3(17,cs,(null==(h=ce.get("dateNaissance"))?null:h.invalid)&&(null==(h=ce.get("dateNaissance"))?null:h.touched))),e.R7$(2),e.Y8G("for","assure-capital-"+Ie),e.R7$(2),e.Y8G("id","assure-capital-"+Ie)("ngClass",e.eq3(19,cs,(null==(B=ce.get("capital"))?null:B.invalid)&&(null==(B=ce.get("capital"))?null:B.touched)))}}function Or(p,L){if(1&p&&(e.j41(0,"option",27),e.EFF(1),e.k0s()),2&p){const a=L.$implicit;e.Y8G("value",a.id),e.R7$(),e.JRh(a.nom)}}function ha(p,L){if(1&p&&(e.j41(0,"option",27),e.EFF(1),e.k0s()),2&p){const a=L.$implicit;e.Y8G("value",a.statut),e.R7$(),e.JRh(a.statut)}}let ds=(()=>{class p{fb;dbService;platformId;parentForm;statuts$;insuranceCompanies$;obsequesCities$=new pn.t([]);destroy$=new me.B;constructor(a,g,h){this.fb=a,this.dbService=g,this.platformId=h}ngOnInit(){if(this.statuts$=this.dbService.getAllStatuts(),this.insuranceCompanies$=this.dbService.getAllAssureurs(),(0,U.UE)(this.platformId)){const a=this.parentForm.get("preneurObseques");if(!a)return;a.get("postalCode")?.valueChanges.pipe($e(300),He(),(0,dt.n)(g=>g&&g.length>=4?this.dbService.getCitiesByPostalCode(g):(0,J.of)([])),(0,ft.Q)(this.destroy$)).subscribe(g=>{this.obsequesCities$.next(g);const h=a.get("city");h?.setValue(1===g.length?g[0]:null)})}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}get assures(){return this.parentForm.get("assures.assures")}createAssureFormGroup(a={}){return this.fb.group({nom:[a.nom||""],prenom:[a.prenom||""],dateNaissance:[a.dateNaissance||""],capital:[a.capital||0]})}addAssure(){this.assures&&this.assures.push(this.createAssureFormGroup())}removeAssure(a){this.assures&&this.assures.removeAt(a)}static \u0275fac=function(g){return new(g||p)(e.rXU(F.ok),e.rXU(jt.y),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:p,selectors:[["app-obseques-form"]],inputs:{parentForm:"parentForm"},standalone:!0,features:[e.aNF],decls:31,vars:10,consts:[[3,"formGroup"],["formGroupName","assures",1,"mt-6"],[1,"text-lg","font-semibold","text-gray-800","bg-gray-100","-mx-6","px-6","py-2","mb-4","border-y"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-x-6","gap-y-4"],[1,"flex","items-center"],["id","preneurEstAssure","type","checkbox","formControlName","preneurEstAssure",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","preneurEstAssure",1,"ml-2","block","text-sm","text-gray-900"],["formArrayName","assures"],[1,"text-md","font-semibold","text-gray-600"],["class","p-4 border rounded-md mt-2 space-y-3 bg-gray-50 relative",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"mt-4","text-sm","font-medium","text-indigo-600","hover:text-indigo-500",3,"click"],["for","obs-insuranceCompany",1,"block","text-sm","font-medium","text-gray-700"],["id","obs-insuranceCompany","formControlName","insuranceCompany",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["for","obs-statut",1,"block","text-sm","font-medium","text-gray-700"],["id","obs-statut","formControlName","statut",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"p-4","border","rounded-md","mt-2","space-y-3","bg-gray-50","relative",3,"formGroupName"],["type","button",1,"absolute","top-2","right-2","text-red-500","hover:text-red-700",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"block","text-sm","font-medium","text-gray-700",3,"for"],["type","text","formControlName","nom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"id","ngClass"],["type","text","formControlName","prenom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"id","ngClass"],["type","date","formControlName","dateNaissance",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"id","ngClass"],["type","number","formControlName","capital",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"id","ngClass"],[3,"value"]],template:function(g,h){1&g&&(e.j41(0,"div",0)(1,"div",1)(2,"h3",2),e.EFF(3,"Assur\xe9s et contrat"),e.k0s(),e.j41(4,"div",3)(5,"div",4),e.nrm(6,"input",5),e.j41(7,"label",6),e.EFF(8,"Le preneur est aussi l'assur\xe9"),e.k0s()(),e.j41(9,"div",7)(10,"h4",8),e.EFF(11,"Liste des assur\xe9s"),e.k0s(),e.DNE(12,xr,21,21,"div",9),e.j41(13,"button",10),e.bIt("click",function(){return h.addAssure()}),e.EFF(14,"+ Ajouter un assur\xe9"),e.k0s()(),e.j41(15,"div")(16,"label",11),e.EFF(17,"Compagnie"),e.k0s(),e.j41(18,"select",12)(19,"option",13),e.EFF(20,"-- S\xe9lectionner --"),e.k0s(),e.DNE(21,Or,2,2,"option",14),e.nI1(22,"async"),e.k0s()(),e.j41(23,"div")(24,"label",15),e.EFF(25,"Statut"),e.k0s(),e.j41(26,"select",16)(27,"option",13),e.EFF(28,"-- S\xe9lectionner --"),e.k0s(),e.DNE(29,ha,2,2,"option",14),e.nI1(30,"async"),e.k0s()()()()()),2&g&&(e.Y8G("formGroup",h.parentForm),e.R7$(12),e.Y8G("ngForOf",h.assures.controls),e.R7$(7),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",e.bMT(22,6,h.insuranceCompanies$)),e.R7$(6),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",e.bMT(30,8,h.statuts$)))},dependencies:[U.MD,U.YU,U.Sq,U.Jj,F.X1,F.xH,F.y7,F.me,F.Q0,F.Zm,F.wz,F.BC,F.cb,F.j4,F.JD,F.$R,F.v8],encapsulation:2})}return p})();function ea(p,L){if(1&p&&(e.j41(0,"tbody",5)(1,"tr",6)(2,"th",7),e.EFF(3,"Preneur d'assurance"),e.k0s()(),e.j41(4,"tr")(5,"td",8),e.EFF(6,"Nom"),e.k0s(),e.j41(7,"td",9),e.EFF(8),e.nI1(9,"uppercase"),e.nI1(10,"titlecase"),e.k0s()(),e.j41(11,"tr")(12,"td",10),e.EFF(13,"Date de naissance"),e.k0s(),e.j41(14,"td",9),e.EFF(15),e.nI1(16,"date"),e.k0s()(),e.j41(17,"tr")(18,"td",10),e.EFF(19,"Contact"),e.k0s(),e.j41(20,"td",9),e.EFF(21),e.k0s()(),e.j41(22,"tr")(23,"td",10),e.EFF(24,"Adresse"),e.k0s(),e.j41(25,"td",9),e.EFF(26),e.k0s()()()),2&p){const a=L.ngIf;e.R7$(8),e.Lme("",e.bMT(9,8,a.lastName)," ",e.bMT(10,10,a.firstName),""),e.R7$(7),e.JRh(e.i5U(16,12,a.dateNaissance,"dd/MM/yyyy")),e.R7$(6),e.Lme("",a.email," | ",a.phone,""),e.R7$(5),e.E5c("",a.address,", ",a.postalCode," ",a.city,"")}}function si(p,L){if(1&p&&(e.j41(0,"li"),e.EFF(1),e.nI1(2,"titlecase"),e.nI1(3,"uppercase"),e.nI1(4,"date"),e.j41(5,"strong"),e.EFF(6),e.nI1(7,"currency"),e.k0s()()),2&p){const a=L.$implicit;e.R7$(),e.E5c(" ",e.bMT(2,4,a.prenom)," ",e.bMT(3,6,a.nom)," (",e.i5U(4,8,a.dateNaissance,"dd/MM/yyyy"),") - Capital: "),e.R7$(5),e.JRh(e.i5U(7,11,a.capital,"EUR"))}}function Us(p,L){if(1&p&&(e.j41(0,"tr")(1,"td",14),e.EFF(2,"Liste des assur\xe9s"),e.k0s(),e.j41(3,"td",15)(4,"ul",16),e.DNE(5,si,8,14,"li",17),e.k0s()()()),2&p){const a=e.XpG().ngIf;e.R7$(5),e.Y8G("ngForOf",a.assures)}}function La(p,L){if(1&p&&(e.j41(0,"tbody",11)(1,"tr",6)(2,"th",7),e.EFF(3,"Assur\xe9s et contrat"),e.k0s()(),e.j41(4,"tr")(5,"td",10),e.EFF(6,"D\xe9tails contrat"),e.k0s(),e.j41(7,"td",9)(8,"p"),e.EFF(9,"Le preneur est assur\xe9: "),e.j41(10,"strong"),e.EFF(11),e.k0s()(),e.j41(12,"p"),e.EFF(13),e.k0s(),e.j41(14,"p"),e.EFF(15,"Statut: "),e.j41(16,"span",12),e.EFF(17),e.k0s()()()(),e.DNE(18,Us,6,1,"tr",13),e.k0s()),2&p){const a=L.ngIf,g=e.XpG(2);e.R7$(11),e.JRh(a.preneurEstAssure?"Oui":"Non"),e.R7$(2),e.SpI("Compagnie: ",g.getCompanyName(a.insuranceCompany)||"Non sp\xe9cifi\xe9e",""),e.R7$(3),e.Y8G("ngClass",g.getStatutClass(a.statut)),e.R7$(),e.JRh(a.statut||"N/A"),e.R7$(),e.Y8G("ngIf",(null==a.assures?null:a.assures.length)>0)}}function Mu(p,L){if(1&p&&(e.j41(0,"div")(1,"table",2),e.DNE(2,ea,27,15,"tbody",3)(3,La,19,5,"tbody",4),e.k0s()()),2&p){const a=e.XpG();e.R7$(2),e.Y8G("ngIf",a.formValue.preneurObseques),e.R7$(),e.Y8G("ngIf",a.formValue.assures)}}function ta(p,L){1&p&&(e.j41(0,"div",18)(1,"p"),e.EFF(2,"Les informations du devis ne sont pas disponibles."),e.k0s()())}let $a=(()=>{class p{formValue;insuranceCompanies=[];getCompanyName(a){return bn(a,this.insuranceCompanies)}getStatutClass(a){return Nr(a)}static \u0275fac=function(g){return new(g||p)};static \u0275cmp=e.VBU({type:p,selectors:[["app-obseques-details"]],inputs:{formValue:"formValue",insuranceCompanies:"insuranceCompanies"},standalone:!0,features:[e.aNF],decls:3,vars:2,consts:[["noData",""],[4,"ngIf","ngIfElse"],[1,"min-w-full","divide-y","divide-gray-200"],["class","bg-white divide-y divide-gray-200",4,"ngIf"],["class","bg-white divide-y divide-gray-200 border-t-8 border-transparent",4,"ngIf"],[1,"bg-white","divide-y","divide-gray-200"],[1,"bg-gray-50"],["colspan","2",1,"px-6","py-3","text-left","text-xs","font-bold","text-gray-500","uppercase","tracking-wider"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-700","bg-gray-50","w-1/3"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-700","bg-gray-50"],[1,"bg-white","divide-y","divide-gray-200","border-t-8","border-transparent"],[1,"font-medium","px-2.5","py-0.5","rounded-full","text-xs",3,"ngClass"],[4,"ngIf"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-700","bg-gray-50","align-top"],[1,"px-6","py-4","text-sm","text-gray-900"],[1,"list-disc","list-inside","space-y-1"],[4,"ngFor","ngForOf"],[1,"text-center","py-8","text-gray-500"]],template:function(g,h){if(1&g&&e.DNE(0,Mu,4,2,"div",1)(1,ta,3,0,"ng-template",null,0,e.C5r),2&g){const B=e.sdS(2);e.Y8G("ngIf",h.formValue)("ngIfElse",B)}},dependencies:[U.MD,U.YU,U.Sq,U.bT,U.Pc,U.PV,U.oe,U.vh],encapsulation:2})}return p})();var Vl=M(4594),Va=M(324),Id=M(4125);const kd=(p,L)=>({"text-green-800":p,"text-red-800":L});function Sd(p,L){1&p&&(e.qSk(),e.j41(0,"svg",21),e.nrm(1,"path",22),e.k0s())}function Td(p,L){1&p&&(e.qSk(),e.j41(0,"svg",23),e.nrm(1,"path",24),e.k0s())}function v(p,L){if(1&p){const a=e.RV6();e.j41(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10),e.DNE(4,Sd,2,0,"svg",11)(5,Td,2,0,"svg",12),e.k0s(),e.j41(6,"div",13)(7,"p",14),e.EFF(8),e.k0s(),e.j41(9,"p",15),e.EFF(10),e.k0s()(),e.j41(11,"div",16)(12,"button",17),e.bIt("click",function(){e.eBV(a);const h=e.XpG();return e.Njj(h.hideNotification())}),e.j41(13,"span",18),e.EFF(14,"Fermer"),e.k0s(),e.qSk(),e.j41(15,"svg",19),e.nrm(16,"path",20),e.k0s()()()()()()}if(2&p){const a=e.XpG();e.R7$(4),e.Y8G("ngIf","success"===a.popupType),e.R7$(),e.Y8G("ngIf","error"===a.popupType),e.R7$(2),e.Y8G("ngClass",e.l_i(5,kd,"success"===a.popupType,"error"===a.popupType)),e.R7$(),e.SpI(" ","success"===a.popupType?"Succ\xe8s":"Erreur"," "),e.R7$(2),e.JRh(a.popupMessage)}}function w(p,L){if(1&p&&e.nrm(0,"app-auto-form",38),2&p){const a=e.XpG(3);e.Y8G("parentForm",a.quoteUpdateForm)("marqueCtrl",a.marqueCtrl)("filteredMarques$",a.filteredMarques$)("isMarqueLoading",a.isMarqueLoading)("isModeleLoading",a.isModeleLoading)("modelesForSelectedMarque",a.modelesForSelectedMarque)("selectMarque",a.selectMarque.bind(a))("preneurCities$",a.preneurCities$)("conducteurCities$",a.conducteurCities$)}}function _(p,L){if(1&p&&e.nrm(0,"app-habitation-form",39),2&p){const a=e.XpG(3);e.Y8G("parentForm",a.quoteUpdateForm)}}function D(p,L){if(1&p&&e.nrm(0,"app-obseques-form",39),2&p){const a=e.XpG(3);e.Y8G("parentForm",a.quoteUpdateForm)}}function N(p,L){if(1&p){const a=e.RV6();e.qex(0),e.j41(1,"div",31)(2,"form",32),e.bIt("ngSubmit",function(){e.eBV(a);const h=e.XpG(2);return e.Njj(h.updateQuoteDetails())}),e.j41(3,"h2",33),e.EFF(4,"Mettre \xe0 jour l'offre"),e.k0s(),e.qex(5,29),e.DNE(6,w,1,9,"app-auto-form",34)(7,_,1,1,"app-habitation-form",35)(8,D,1,1,"app-obseques-form",35),e.bVm(),e.j41(9,"div",36)(10,"button",37),e.EFF(11," Mettre \xe0 jour les informations "),e.k0s()()()(),e.bVm()}if(2&p){const a=e.XpG(2);e.R7$(2),e.Y8G("formGroup",a.quoteUpdateForm),e.R7$(3),e.Y8G("ngSwitch",a.quoteType),e.R7$(),e.Y8G("ngSwitchCase","auto"),e.R7$(),e.Y8G("ngSwitchCase","habitation"),e.R7$(),e.Y8G("ngSwitchCase","obseques"),e.R7$(2),e.Y8G("disabled",a.quoteUpdateForm.invalid||a.quoteUpdateForm.pristine)}}function z(p,L){if(1&p&&e.nrm(0,"app-auto-details",49),2&p){const a=e.XpG(3);e.Y8G("formValue",a.quoteUpdateForm.value)}}function oe(p,L){if(1&p&&e.nrm(0,"app-habitation-details",50),2&p){const a=e.XpG(3);e.Y8G("formValue",a.quoteUpdateForm.value)("insuranceCompanies",a.insuranceCompanies)}}function Re(p,L){if(1&p&&e.nrm(0,"app-obseques-details",50),2&p){const a=e.XpG(3);e.Y8G("formValue",a.quoteUpdateForm.value)("insuranceCompanies",a.insuranceCompanies)}}function Ce(p,L){if(1&p){const a=e.RV6();e.qex(0),e.j41(1,"div",40)(2,"div",41)(3,"h2",42),e.EFF(4,"R\xe9sum\xe9 de l'offre (Lecture seule)"),e.k0s(),e.j41(5,"button",43),e.bIt("click",function(){e.eBV(a);const h=e.XpG(2);return e.Njj(h.printQuote())}),e.qSk(),e.j41(6,"svg",44),e.nrm(7,"path",45),e.k0s(),e.EFF(8," Imprimer "),e.k0s()(),e.joV(),e.j41(9,"div",46),e.qex(10,29),e.DNE(11,z,1,1,"app-auto-details",47)(12,oe,1,2,"app-habitation-details",48)(13,Re,1,2,"app-obseques-details",48),e.bVm(),e.k0s()(),e.bVm()}if(2&p){const a=e.XpG(2);e.R7$(10),e.Y8G("ngSwitch",a.quoteType),e.R7$(),e.Y8G("ngSwitchCase","auto"),e.R7$(),e.Y8G("ngSwitchCase","habitation"),e.R7$(),e.Y8G("ngSwitchCase","obseques")}}function at(p,L){if(1&p){const a=e.RV6();e.j41(0,"div")(1,"h1",25),e.EFF(2),e.nI1(3,"titlecase"),e.k0s(),e.j41(4,"div",26)(5,"nav",27)(6,"button",28),e.bIt("click",function(){e.eBV(a);const h=e.XpG();return e.Njj(h.activeTab="form")}),e.EFF(7," Formulaire "),e.k0s(),e.j41(8,"button",28),e.bIt("click",function(){e.eBV(a);const h=e.XpG();return e.Njj(h.activeTab="text")}),e.EFF(9," Fiche "),e.k0s()()(),e.j41(10,"div",29),e.DNE(11,N,12,6,"ng-container",30)(12,Ce,14,4,"ng-container",30),e.k0s()()}if(2&p){const a=e.XpG();e.R7$(2),e.Lme("D\xe9tails de l'offre #",a.quoteId," - ",e.bMT(3,7,a.quoteType),""),e.R7$(4),e.Y8G("ngClass","form"===a.activeTab?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngClass","text"===a.activeTab?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngSwitch",a.activeTab),e.R7$(),e.Y8G("ngSwitchCase","form"),e.R7$(),e.Y8G("ngSwitchCase","text")}}function $t(p,L){1&p&&e.EFF(0,"Chargement des D\xe9tails de l'offre...")}let Qt=(()=>{class p{route;dbService;fb;uploaderService;contractService;sendsmsService;platformId;quoteDetails$;quoteDetails;quoteType=null;quoteId=null;activeTab="form";csvData$=(0,J.of)([]);showPopup=!1;popupMessage="";popupType="success";popupTimeout;showMainDriverSection=!1;nationalities$;preneurCities$=new pn.t([]);statuts$;conducteurCities$=new pn.t([]);batimentCities$=new pn.t([]);obsequesCities$=new pn.t([]);marqueCtrl=new F.MJ("");filteredMarques$;isMarqueLoading=!1;isModeleLoading=!1;insuranceCompanies$;insuranceCompanies=[];destroy$=new me.B;modelesForSelectedMarque=[];selectedMarqueId=null;vehicleYears=[];contractForm;quoteUpdateForm;today;constructor(a,g,h,B,ce,Ie,kt){this.route=a,this.dbService=g,this.fb=h,this.uploaderService=B,this.contractService=ce,this.sendsmsService=Ie,this.platformId=kt;const ve=new Date,st=ve.getFullYear(),Vt=("0"+(ve.getMonth()+1)).slice(-2),On=("0"+ve.getDate()).slice(-2);this.today=`${st}-${Vt}-${On}`,this.contractForm=this.fb.group({date_contrat:["",F.k0.required],periodicite:["annuel",F.k0.required],compagnie_id:[null,F.k0.required],rappel:[!1],fichiers_contrat:new F.MJ(null)}),this.quoteUpdateForm=this.fb.group({preneurAssurance:this.fb.group({prenom:[""],nom:[""],date_naissance:[""],email:["",F.k0.email],telephone:[""],address:[""],postalCode:[""],city:[null],driverLicenseNumber:[""],driverLicenseDate:[""],nationalRegistryNumber:["",this.belgianNationalNumberValidator()],idCardNumber:[""],idCardValidityDate:[""],nationality:[""],maritalStatus:[""]}),preneurObseques:this.fb.group({prenom:[""],nom:[""],date_naissance:[""],email:["",F.k0.email],telephone:[""],address:[""],postalCode:[""],city:[null]}),conducteurPrincipal:this.fb.group({prenom:[""],nom:[""],date_naissance:[""],email:["",F.k0.email],telephone:[""],address:[""],postalCode:[""],city:[null],driverLicenseNumber:[""],driverLicenseDate:[""],nationalRegistryNumber:["",this.belgianNationalNumberValidator()],idCardNumber:[""],idCardValidityDate:[""],nationality:[""],maritalStatus:[""]}),vehicule:this.fb.group({make:[""],model:[""],year:[null],licensePlate:[""],power:[null],value:[null],seats:[null],registrationDate:[""]}),garantie:this.fb.group({baseRC:[!1],omniumLevel:[""],driverCoverage:[!1],assistance:[!1],effectiveDate:[""],insuranceCompany:[null],statut:[""]}),garantiesHabitation:this.fb.group({contenu:[!1],vol:[!1],pertesIndirectes:[!1],protectionJuridique:[!1],assistance:[!1],dateEffet:[""],statut:[""],insuranceCompany:[null]}),batiment:this.fb.group({batiment_adresse:[""],batiment_code_postal:[""],batiment_ville:[null],batiment_type_maison:[""]}),evaluation:this.fb.group({typeValeurBatiment:[""],superficie:[null],nombrePieces:[null],loyerMensuel:[null],typeValeurContenu:[""],valeurExpertise:[null],dateExpertise:[""]}),assures:this.fb.group({preneurEstAssure:[!1],assures:this.fb.array([]),statut:[""],insuranceCompany:[null]}),detailsVoyage:this.fb.group({description:[""],statut:[""]}),detailsRCFamiliale:this.fb.group({preneur_nom:[""],preneur_prenom:[""],preneur_genre:[""],preneur_telephone:[""],preneur_email:[""],preneur_adresse:[""],preneur_code_postal:[""],preneur_ville:[""],risque:[""],nationalRegistryNumber:["",this.belgianNationalNumberValidator()],statut:[""],idCardNumber:[""],description:[""]})})}ngOnInit(){for(let g=(new Date).getFullYear();g>=1940;g--)this.vehicleYears.push(g);if(this.quoteUpdateForm.get("preneurAssurance")?.setValidators(this.nationalNumberDateConsistencyValidator()),this.quoteUpdateForm.get("conducteurPrincipal")?.setValidators(this.nationalNumberDateConsistencyValidator()),this.subscribeToInsuranceCompanies(),this.nationalities$=this.dbService.getNationalities(),this.statuts$=this.dbService.getAllStatuts(),(0,U.UE)(this.platformId)){const g=this.quoteUpdateForm.get("preneurAssurance.postalCode");g&&g.valueChanges.pipe($e(300),He(),(0,dt.n)(B=>B&&B.length>=4?this.dbService.getCitiesByPostalCode(B):(0,J.of)([]))).subscribe(B=>{this.preneurCities$.next(B);const ce=this.quoteUpdateForm.get("preneurAssurance.city"),Ie=ce?.value;Ie&&!B.includes(Ie)&&ce.reset()});const h=this.quoteUpdateForm.get("preneurObseques.postalCode");h&&h.valueChanges.pipe($e(300),He(),(0,dt.n)(B=>B&&B.length>=4?this.dbService.getCitiesByPostalCode(B):(0,J.of)([]))).subscribe(B=>this.obsequesCities$.next(B))}this.filteredMarques$=this.marqueCtrl.valueChanges.pipe((0,In.Z)(""),$e(300),He(),(0,ge.M)(g=>{const h="string"==typeof g?g:g?.nom||"";"string"==typeof g&&(this.quoteUpdateForm.get("vehicule.model")?.setValue(""),this.modelesForSelectedMarque=[],this.selectedMarqueId=null),this.isMarqueLoading=h.length>=2}),(0,dt.n)(g=>{const h="string"==typeof g?g:g?.nom||"";return h.length>=2?this.dbService.searchMarques(h).pipe((0,es.j)(()=>this.isMarqueLoading=!1)):(this.isMarqueLoading=!1,(0,J.of)([]))})),this.marqueCtrl.valueChanges.pipe((0,ft.Q)(this.destroy$)).subscribe(g=>{this.quoteUpdateForm.get("vehicule.make")?.setValue(g,{emitEvent:!1})}),this.quoteDetails$=this.getQuoteDetailsFromRoute(),this.csvData$=this.route.paramMap.pipe((0,dt.n)(g=>{const h=g.get("type"),B=Number(g.get("id"));return h&&B?this.dbService.getCsvData(B,h):(0,J.of)([])}))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}patchFormValues(a){const g=this.quoteUpdateForm.get("preneurAssurance.postalCode")?.value;console.warn("[ManagementDetailComponent] patchFormValues - Vehicle brand:",a.vehicule?.marque);const h=this.quoteUpdateForm.get("batiment.codePostal")?.value,B=this.quoteUpdateForm.get("preneurObseques.postalCode")?.value,ce=a.vehicule?.marque,Ie=(0,U.UE)(this.platformId)&&g?this.dbService.getCitiesByPostalCode(g).pipe((0,ge.M)(Vt=>this.preneurCities$.next(Vt))):(0,J.of)(null),kt=(0,U.UE)(this.platformId)&&h?this.dbService.getCitiesByPostalCode(h).pipe((0,ge.M)(Vt=>this.batimentCities$.next(Vt))):(0,J.of)([]),ve=(0,U.UE)(this.platformId)&&B?this.dbService.getCitiesByPostalCode(B).pipe((0,ge.M)(Vt=>this.obsequesCities$.next(Vt))):(0,J.of)(null),st=(0,U.UE)(this.platformId)&&"auto"===this.quoteType&&ce?this.dbService.searchMarques(ce).pipe((0,dt.n)(Vt=>Vt&&Vt.length>0?(this.selectedMarqueId=Vt[0].marque_id,this.isModeleLoading=!0,this.dbService.searchModeles(this.selectedMarqueId).pipe((0,ge.M)(Ft=>{this.modelesForSelectedMarque=Ft,console.warn("[ManagementDetailComponent] patchFormValues - Patching model with value:",a.vehicule.modele),this.quoteUpdateForm.get("vehicule.model")?.patchValue(a.vehicule.modele,{emitEvent:!1})}),(0,es.j)(()=>this.isModeleLoading=!1))):(0,J.of)(null))):(0,J.of)(null);return(0,J.of)(a).pipe((0,dt.n)(()=>Promise.all([Ie,kt,ve,st])))}_patchCommonPreneur(a,g){const h=a.preneur||a;h&&(console.warn("[ManagementDetailComponent] Patching preneur form with date_naissance:",h.date_naissance),this.quoteUpdateForm.get("preneurAssurance")?.patchValue({prenom:h.prenom,nom:h.nom,date_naissance:g(h.date_naissance),email:h.email,telephone:h.telephone,address:h.adresse,postalCode:h.code_postal,city:h.ville,driverLicenseNumber:h.permis_numero,driverLicenseDate:g(h.permis_date),nationalRegistryNumber:h.numero_national,idCardNumber:h.idcard_number,idCardValidityDate:g(h.idcard_validity),nationality:h.nationality,maritalStatus:h.marital_status_id}))}_patchAuto(a,g){this._patchCommonPreneur(a,g),this.showMainDriverSection=a.preneur_id!==a.conducteur_id,this.showMainDriverSection&&a.conducteur&&this.quoteUpdateForm.get("conducteurPrincipal")?.patchValue({firstName:a.conducteur.prenom,lastName:a.conducteur.nom,date_naissance:g(a.conducteur.date_naissance),email:a.conducteur.email,telephone:a.conducteur.telephone,address:a.conducteur.adresse,postalCode:a.conducteur.code_postal,city:a.conducteur.ville,driverLicenseNumber:a.conducteur.permis_numero,driverLicenseDate:g(a.conducteur.permis_date),nationalRegistryNumber:a.conducteur.numero_national,idCardNumber:a.conducteur.idcard_number,idCardValidityDate:g(a.conducteur.idcard_validity),nationality:a.conducteur.nationality,maritalStatus:a.conducteur.marital_status_id}),a.vehicule&&(console.warn("[ManagementDetailComponent] Patching vehicle form with:",a),console.warn("[ManagementDetailComponent] Patching vehicle form with:",a.vehicule),this.quoteUpdateForm.get("vehicule")?.patchValue({make:a.vehicule.marque,model:a.vehicule.modele,year:a.vehicule.annee,licensePlate:a.vehicule.plaque,power:a.vehicule.puissance_kw,value:a.vehicule.valeur,seats:a.vehicule.places,registrationDate:g(a.vehicule.date_circulation)}),this.marqueCtrl.setValue(a.vehicule.marque||"",{emitEvent:!1})),this.quoteUpdateForm.get("garantie")?.patchValue({baseRC:a.garantie_base_rc,omniumLevel:a.garantie_omnium_niveau,driverCoverage:a.garantie_conducteur,assistance:a.garantie_assistance,effectiveDate:g(a.date_effet),insuranceCompany:a.compagnie_id,statut:a.statut})}_patchHabitation(a,g){this._patchCommonPreneur(a,g),this.quoteUpdateForm.get("batiment")?.patchValue({batiment_adresse:a.batiment_adresse,batiment_code_postal:a.batiment_code_postal,batiment_ville:a.batiment_ville,batiment_type_maison:a.batiment_type_maison}),this.quoteUpdateForm.get("evaluation")?.patchValue({typeValeurBatiment:a.evaluation_type_valeur_batiment,superficie:a.evaluation_superficie,nombrePieces:a.evaluation_nombre_pieces,loyerMensuel:a.evaluation_loyer_mensuel,typeValeurContenu:a.evaluation_type_valeur_contenu,valeurExpertise:a.evaluation_valeur_expertise,dateExpertise:g(a.evaluation_date_expertise)}),this.quoteUpdateForm.get("garantiesHabitation")?.patchValue({contenu:a.garantie_contenu,vol:a.garantie_vol,pertesIndirectes:a.garantie_pertes_indirectes,protectionJuridique:a.garantie_protection_juridique,assistance:a.garantie_assistance,dateEffet:g(a.date_effet),statut:a.statut,insuranceCompany:a.compagnie_id})}_patchObseques(a,g){const h=a.preneur||a;this.quoteUpdateForm.get("preneurObseques")?.patchValue({prenom:h.prenom,nom:h.nom,dateNaissance:g(h.date_naissance),email:h.email,phone:h.telephone,address:h.adresse,postalCode:h.code_postal,city:h.ville}),this.quoteUpdateForm.get("assures.preneurEstAssure")?.setValue(a.preneur_est_assure),this.quoteUpdateForm.get("assures.statut")?.setValue(a.statut),this.quoteUpdateForm.get("assures.insuranceCompany")?.setValue(a.compagnie_id);const B=a.assures||[],ce=this.quoteUpdateForm.get("assures.assures");ce.clear(),B.forEach(Ie=>{ce.push(this.fb.group({nom:[Ie.nom],prenom:[Ie.prenom],dateNaissance:[g(Ie.dateNaissance)],capital:[Ie.capital]}))})}getQuoteDetailsFromRoute(){return this.route.paramMap.pipe((0,dt.n)(a=>(this.quoteType=a.get("type"),this.quoteId=Number(a.get("id")),this.quoteType&&this.quoteId?this.dbService.getQuoteDetails(this.quoteType,this.quoteId):(console.warn("[ManagementDetailComponent] Missing quote type or ID in route parameters."),(0,J.of)(null)))),(0,dt.n)(a=>{if(a){this.quoteDetails=a,console.warn("[ManagementDetailComponent] Received details from DB:",JSON.parse(JSON.stringify(a)));const g=h=>h?this.formatDateForInput(h):null;switch(this.quoteType){case"auto":this._patchAuto(a,g);break;case"habitation":this._patchHabitation(a,g);break;case"obseques":this._patchObseques(a,g);break;case"voyage":this.quoteUpdateForm.get("detailsVoyage")?.patchValue({description:a.description,statut:a.statut});break;case"rc":this._patchCommonPreneur(a,g),this.quoteUpdateForm.get("detailsRCFamiliale")?.patchValue({...a,nationalRegistryNumber:a.numero_national})}return"habitation"===this.quoteType&&a.batiment_code_postal&&this.dbService.getCitiesByPostalCode(a.batiment_code_postal).subscribe(h=>{this.batimentCities$.next(h),this.quoteUpdateForm.get("batiment.batiment_ville")?.patchValue(a.batiment_ville)}),this.patchFormValues(a).pipe((0,fe.T)(()=>a))}return(0,J.of)(null)}),(0,te.W)(a=>(console.error("Erreur lors de la r\xe9cup\xe9ration des d\xe9tails du devis:",a),(0,J.of)(null))))}selectMarque(a){this.selectedMarqueId=a.marque_id,this.quoteUpdateForm.get("vehicule.make")?.setValue(a.nom,{emitEvent:!1}),this.marqueCtrl.setValue(a.nom),this.quoteUpdateForm.get("vehicule.model")?.reset(""),this.modelesForSelectedMarque=[],this.isModeleLoading=!0,null!==this.selectedMarqueId&&this.dbService.searchModeles(this.selectedMarqueId).pipe((0,es.j)(()=>this.isModeleLoading=!1)).subscribe(g=>{this.modelesForSelectedMarque=g}),this.filteredMarques$=(0,J.of)([])}formatAsTitle(a){if(!a)return"";const g=a.replace(/([A-Z])/g," $1");return g.charAt(0).toUpperCase()+g.slice(1)}formatDateForInput(a){return new Date(a).toISOString().split("T")[0]}onFileSelected(a){const g=a.target,h=g.files?Array.from(g.files):null;this.contractForm.patchValue({fichiers_contrat:h})}saveContract(){if(this.contractForm.invalid)return void console.log("Le formulaire est invalide.");if(!this.quoteId||!this.quoteType)return void console.error("L'ID ou le type de devis est manquant, impossible de sauvegarder le contrat.");const a=this.contractForm.value,g=a.fichiers_contrat;let h=[];if(g&&g.length>0){const ce=new Date,Ie=`${ce.getFullYear()}${(ce.getMonth()+1).toString().padStart(2,"0")}${ce.getDate().toString().padStart(2,"0")}`,kt=`${this.quoteId}_${this.quoteType}_${Ie}`;h=g.map((ve,st)=>{const Vt=ve.name.split(".").pop();return new File([ve],`${kt}_${st+1}.${Vt}`,{type:ve.type})})}(h.length>0?this.uploaderService.uploadContractFiles(h,this.quoteId,this.quoteType).pipe(function Nn(){return(0,Ze.N)((p,L)=>{(function mt(p,L){return(0,Ze.N)((0,Ue.S)(p,L,arguments.length>=2,!1,!0))})(cn,[])(p).subscribe(L)})}()):(0,J.of)([])).pipe((0,fe.T)(ce=>ce.filter(Ie=>!!Ie&&"success"===Ie.status).map(Ie=>Ie.path)),(0,dt.n)(ce=>{console.log("Fichiers t\xe9l\xe9vers\xe9s avec succ\xe8s:",ce);const Ie={quote_id:this.quoteId,quote_type:this.quoteType,compagnie_id:a.compagnie_id,date_contrat:a.date_contrat,periodicite:a.periodicite,rappel:a.rappel,document_paths:ce,uid:crypto.randomUUID()};return console.log("Donn\xe9es du contrat \xe0 sauvegarder:",Ie),this.contractService.saveContractData(Ie)}),(0,te.W)(ce=>(console.error("Une erreur est survenue lors du t\xe9l\xe9versement ou de la sauvegarde:",ce),(0,J.of)({success:!1,error:ce})))).subscribe(ce=>{ce&&!ce.error?console.log("Contrat enregistr\xe9 avec succ\xe8s !"):console.error("\xc9chec de l'enregistrement du contrat.",ce?.error)})}printQuote(){const a=document.getElementById("printable-section");if(a){const g=window.open("","","left=0,top=0,width=900,height=900,toolbar=0,scrollbars=0,status=0");g&&(g.document.write("<html><head><title>Imprimer</title>\n          <style>\n            body { font-family: sans-serif; }\n            table { width: 100%; border-collapse: collapse; }\n            th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }\n            th { background-color: #f2f2f2; }\n            .bg-gray-100 { background-color: #f3f4f6; }\n            .font-bold { font-weight: 700; }\n            .uppercase { text-transform: uppercase; }\n          </style>\n        </head><body>"+a.innerHTML+"</body></html>"),g.document.close(),g.focus(),g.print(),g.close())}}updateQuoteDetails(){if(!this.quoteUpdateForm.valid)return console.error("Le formulaire de mise \xe0 jour est invalide."),void this.quoteUpdateForm.markAllAsTouched();const a=this.quoteUpdateForm.value;console.warn("[ManagementDetailComponent] Form value on update:",a);const g=a.garantie?.statut,h=this.quoteDetails?.statut,B=a.preneurAssurance?.phone;if("auto"===this.quoteType&&"Nouveau"===g&&"Nouveau"!==h&&B){const ce="AssurKin: Un nouveau document relatif \xe0 l'assurance automobile est disponible dans votre espace";console.log(`Envoi du SMS au ${B}`),this.sendsmsService.sendSms(B,ce).then(()=>console.log("SMS envoy\xe9 avec succ\xe8s.")).catch(Ie=>console.error("Erreur lors de l'envoi du SMS:",Ie))}if("auto"===this.quoteType){console.warn("[ManagementDetailComponent] Preneur data sent to payload:",a.preneurAssurance);const ce={p_preneur:a.preneurAssurance,p_vehicule:a.vehicule,p_devis:{garantie_base_rc:a.garantie?.baseRC??!1,garantie_omnium_niveau:a.garantie?.omniumLevel??"",garantie_conducteur:a.garantie?.driverCoverage??!1,garantie_assistance:a.garantie?.assistance??!1,date_effet:a.garantie?.effectiveDate?this.formatDateForInput(a.garantie.effectiveDate):"",compagnie_id:a.garantie?.insuranceCompany,statut:a.garantie?.statut}};this.showMainDriverSection&&(ce.p_conducteur=a.conducteurPrincipal),this.executeUpdate(this.dbService.updateAutoQuote(this.quoteId,ce))}else if("obseques"===this.quoteType){const ce=this.quoteUpdateForm.get("assures.assures").value.map(kt=>({...kt,dateNaissance:kt.dateNaissance?this.formatDateForInput(kt.dateNaissance):null})),Ie={preneur:{...a.preneurObseques,date_naissance:a.preneurObseques?.date_naissance?this.formatDateForInput(a.preneurObseques.date_naissance):null},devis:{preneur_est_assure:a.assures?.preneurEstAssure,assures:ce,nombre_assures:ce.length,statut:a.assures?.statut,compagnie_id:a.assures?.insuranceCompany}};this.executeUpdate(this.dbService.updateObsequesQuote(this.quoteId,Ie))}else if("habitation"===this.quoteType){const ce={p_preneur:a.preneurAssurance,p_devis:{batiment_adresse:a.batiment?.batiment_adresse,batiment_code_postal:a.batiment?.batiment_code_postal,batiment_ville:a.batiment?.batiment_ville,batiment_type_maison:a.batiment?.batiment_type_maison,evaluation_type_valeur_batiment:a.evaluation?.typeValeurBatiment,evaluation_superficie:a.evaluation?.superficie,evaluation_nombre_pieces:a.evaluation?.nombrePieces,evaluation_loyer_mensuel:a.evaluation?.loyerMensuel,evaluation_type_valeur_contenu:a.evaluation?.typeValeurContenu,evaluation_valeur_expertise:a.evaluation?.valeurExpertise,evaluation_date_expertise:a.evaluation?.dateExpertise?this.formatDateForInput(a.evaluation.dateExpertise):null,evaluation_valeur_libre_contenu:a.evaluation?.evaluation_valeur_libre_contenu,garantie_contenu:a.garantiesHabitation?.contenu,garantie_vol:a.garantiesHabitation?.vol,garantie_pertes_indirectes:a.garantiesHabitation?.pertesIndirectes,garantie_protection_juridique:a.garantiesHabitation?.protectionJuridique,garantie_assistance:a.garantiesHabitation?.assistance,date_effet:a.garantiesHabitation?.dateEffet?this.formatDateForInput(a.garantiesHabitation.dateEffet):null,statut:a.garantiesHabitation?.statut,compagnie_id:a.garantiesHabitation?.insuranceCompany}};this.executeUpdate(this.dbService.updateHabitationQuote(this.quoteId,ce))}else console.warn(`[ManagementDetailComponent] La mise \xe0 jour pour le type de devis '${this.quoteType}' n'est pas encore impl\xe9ment\xe9e.`)}showNotification(a,g){this.popupMessage=a,this.popupType=g,this.showPopup=!0,this.popupTimeout&&clearTimeout(this.popupTimeout),this.popupTimeout=setTimeout(()=>{this.hideNotification()},5e3)}hideNotification(){this.showPopup=!1,this.popupTimeout&&clearTimeout(this.popupTimeout)}executeUpdate(a){console.log("Envoi des donn\xe9es de mise \xe0 jour..."),a.pipe((0,te.W)(g=>(console.error("Erreur lors de la mise \xe0 jour du devis:",g),this.showNotification("Erreur lors de la mise \xe0 jour du devis.","error"),(0,J.of)({success:!1,error:g})))).subscribe(g=>{g&&g.success?(console.log("Devis mis \xe0 jour avec succ\xe8s !",g),this.quoteUpdateForm.markAsPristine(),this.showNotification("Devis mis \xe0 jour avec succ\xe8s !","success")):(console.warn("[ManagementDetailComponent] Update failed. Response:",g),this.showNotification("La mise \xe0 jour du devis a \xe9chou\xe9. "+(g?.error?.message||""),"error"))})}nationalNumberDateConsistencyValidator(){return a=>{const g=a.get("dateNaissance"),h=a.get("nationalRegistryNumber");if(!g?.value||!h?.value||h.invalid){if(h?.hasError("dateMismatch")){const Ft={...h.errors};delete Ft.dateMismatch,h.setErrors(Object.keys(Ft).length>0?Ft:null)}return null}const B=new Date(g.value),ce=h.value.replace(/\D/g,""),Ie=parseInt(ce.substring(0,2),10),kt=parseInt(ce.substring(2,4),10),ve=parseInt(ce.substring(4,6),10),Vt=100*Math.floor(B.getFullYear()/100)+Ie,On=new Date(Vt,kt-1,ve);return B.setHours(0,0,0,0),On.setHours(0,0,0,0),B.getTime()!==On.getTime()?(h.setErrors({...h.errors,dateMismatch:!0}),{dateMismatch:!0}):null}}belgianNationalNumberValidator(){return a=>{if(!a.value)return null;const g=a.value.replace(/\D/g,"");if(11!==g.length)return{invalidFormat:!0};const h=parseInt(g.substring(0,2),10),B=parseInt(g.substring(2,4),10),ce=parseInt(g.substring(4,6),10),Ie=g.substring(0,9),kt=parseInt(g.substring(9,11),10),ve=new Date(1900+h,B-1,ce),st=new Date(2e3+h,B-1,ce),Vt=ve.getFullYear()===1900+h&&ve.getMonth()===B-1&&ve.getDate()===ce,On=st.getFullYear()===2e3+h&&st.getMonth()===B-1&&st.getDate()===ce;if(!Vt&&!On)return{invalidDate:!0};const Jt=97-parseInt(Ie,10)%97,Pr=97-parseInt("2"+Ie,10)%97;return kt!==Jt&&kt!==Pr?{invalidChecksum:!0}:null}}subscribeToInsuranceCompanies(){this.insuranceCompanies$=this.dbService.getAllAssureurs(),this.insuranceCompanies$.pipe((0,ft.Q)(this.destroy$)).subscribe(a=>{a&&(this.insuranceCompanies=a)})}getCompanyName=bn;getStatutClass=Nr;getObjectKeys(a){return a?Object.keys(a):[]}static \u0275fac=function(g){return new(g||p)(e.rXU(Z.nX),e.rXU(jt.y),e.rXU(F.ok),e.rXU(Vl.U),e.rXU(Va.y),e.rXU(Id.T),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:p,selectors:[["app-management-detail"]],standalone:!0,features:[e.aNF],decls:10,vars:5,consts:[["loadingTpl",""],["class","fixed top-5 right-5 max-w-sm w-full bg-white shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden z-50",4,"ngIf"],[1,"container","mx-auto","p-4"],["routerLink","/management",1,"inline-flex","items-center","text-indigo-600","hover:text-indigo-800","mb-4","group"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","mr-2","transition-transform","group-hover:-translate-x-1"],["fill-rule","evenodd","d","M9.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L7.414 9H15a1 1 0 110 2H7.414l2.293 2.293a1 1 0 010 1.414z","clip-rule","evenodd"],[4,"ngIf","ngIfElse"],[1,"fixed","top-5","right-5","max-w-sm","w-full","bg-white","shadow-lg","rounded-lg","pointer-events-auto","ring-1","ring-black","ring-opacity-5","overflow-hidden","z-50"],[1,"p-4"],[1,"flex","items-start"],[1,"flex-shrink-0"],["class","h-6 w-6 text-green-400","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","aria-hidden","true",4,"ngIf"],["class","h-6 w-6 text-red-400","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","aria-hidden","true",4,"ngIf"],[1,"ml-3","w-0","flex-1","pt-0.5"],[1,"text-sm","font-medium","text-gray-900",3,"ngClass"],[1,"mt-1","text-sm","text-gray-500"],[1,"ml-4","flex-shrink-0","flex"],[1,"bg-white","rounded-md","inline-flex","text-gray-400","hover:text-gray-500","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],[1,"sr-only"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5"],["fill-rule","evenodd","d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule","evenodd"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","aria-hidden","true",1,"h-6","w-6","text-green-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","aria-hidden","true",1,"h-6","w-6","text-red-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-2xl","font-bold","mb-4"],[1,"mb-6","border-b","border-gray-200"],["aria-label","Tabs",1,"-mb-px","flex","space-x-6"],[1,"whitespace-nowrap","py-4","px-1","border-b-2","font-medium","text-sm",3,"click","ngClass"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"bg-white","shadow-md","rounded-lg","p-6"],[1,"space-y-6","max-w-4xl","mx-auto",3,"ngSubmit","formGroup"],[1,"text-xl","font-semibold","border-b","pb-2"],[3,"parentForm","marqueCtrl","filteredMarques$","isMarqueLoading","isModeleLoading","modelesForSelectedMarque","selectMarque","preneurCities$","conducteurCities$",4,"ngSwitchCase"],[3,"parentForm",4,"ngSwitchCase"],[1,"pt-4"],["type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-blue-600","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","disabled:bg-gray-400",3,"disabled"],[3,"parentForm","marqueCtrl","filteredMarques$","isMarqueLoading","isModeleLoading","modelesForSelectedMarque","selectMarque","preneurCities$","conducteurCities$"],[3,"parentForm"],[1,"bg-white","shadow-md","rounded-lg","overflow-hidden"],[1,"px-6","py-4","border-b","border-gray-200","flex","justify-between","items-center"],[1,"text-xl","font-semibold","text-gray-800"],[1,"inline-flex","items-center","px-3","py-1.5","border","border-transparent","text-sm","leading-5","font-medium","rounded-md","text-white","bg-indigo-600","hover:bg-indigo-500","focus:outline-none","focus:border-indigo-700","focus:ring-indigo","active:bg-indigo-700","transition","ease-in-out","duration-150",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","mr-2"],["fill-rule","evenodd","d","M5 4v3H4a2 2 0 00-2 2v6a2 2 0 002 2h12a2 2 0 002-2V9a2 2 0 00-2-2h-1V4a2 2 0 00-2-2H7a2 2 0 00-2 2zm8 0H7v3h6V4zm-2 5a1 1 0 00-1 1v4a1 1 0 102 0v-4a1 1 0 00-1-1z","clip-rule","evenodd"],["id","printable-section",1,"p-4"],[3,"formValue",4,"ngSwitchCase"],[3,"formValue","insuranceCompanies",4,"ngSwitchCase"],[3,"formValue"],[3,"formValue","insuranceCompanies"]],template:function(g,h){if(1&g&&(e.DNE(0,v,17,8,"div",1),e.j41(1,"div",2)(2,"a",3),e.qSk(),e.j41(3,"svg",4),e.nrm(4,"path",5),e.k0s(),e.EFF(5," Retour \xe0 la liste "),e.k0s(),e.DNE(6,at,13,9,"div",6),e.nI1(7,"async"),e.DNE(8,$t,1,0,"ng-template",null,0,e.C5r),e.k0s()),2&g){const B=e.sdS(9);e.Y8G("ngIf",h.showPopup),e.R7$(6),e.Y8G("ngIf",e.bMT(7,3,h.quoteDetails$))("ngIfElse",B)}},dependencies:[U.MD,U.YU,U.bT,U.ux,U.e1,U.Jj,U.PV,F.X1,F.qT,F.cb,F.j4,Z.Wk,F.YN,re,it,xt,sr,ds,$a],encapsulation:2})}return p})();const Kn=(p,L)=>({"bg-green-600":p,"bg-red-600":L});function $i(p,L){if(1&p){const a=e.RV6();e.j41(0,"div",34)(1,"div",35)(2,"p",36),e.EFF(3),e.k0s(),e.j41(4,"button",37),e.bIt("click",function(){e.eBV(a);const h=e.XpG();return e.Njj(h.hideNotification())}),e.EFF(5,"\xd7"),e.k0s()()()}if(2&p){const a=e.XpG();e.Y8G("ngClass",e.l_i(2,Kn,"success"===a.popupType,"error"===a.popupType)),e.R7$(3),e.JRh(a.popupMessage)}}function ro(p,L){1&p&&(e.j41(0,"div"),e.EFF(1,"L'adresse e-mail est requise."),e.k0s())}function Vi(p,L){1&p&&(e.j41(0,"div"),e.EFF(1,"Adresse e-mail invalide."),e.k0s())}function No(p,L){if(1&p&&(e.j41(0,"div",38),e.DNE(1,ro,2,0,"div",39)(2,Vi,2,0,"div",39),e.k0s()),2&p){let a,g;const h=e.XpG();e.R7$(),e.Y8G("ngIf",null==(a=h.loginForm.get("email"))||null==a.errors?null:a.errors.required),e.R7$(),e.Y8G("ngIf",null==(g=h.loginForm.get("email"))||null==g.errors?null:g.errors.email)}}function ws(p,L){1&p&&(e.j41(0,"div"),e.EFF(1,"Le mot de passe est requis."),e.k0s())}function Au(p,L){if(1&p&&(e.j41(0,"div",38),e.DNE(1,ws,2,0,"div",39),e.k0s()),2&p){let a;const g=e.XpG();e.R7$(),e.Y8G("ngIf",null==(a=g.loginForm.get("password"))||null==a.errors?null:a.errors.required)}}function na(p,L){1&p&&(e.j41(0,"div"),e.EFF(1,"Le nom est requis."),e.k0s())}function Ul(p,L){if(1&p&&(e.j41(0,"div",38),e.DNE(1,na,2,0,"div",39),e.k0s()),2&p){let a;const g=e.XpG();e.R7$(),e.Y8G("ngIf",null==(a=g.registerForm.get("nom"))||null==a.errors?null:a.errors.required)}}function Bl(p,L){1&p&&(e.j41(0,"div"),e.EFF(1,"Le pr\xe9nom est requis."),e.k0s())}function Md(p,L){if(1&p&&(e.j41(0,"div",38),e.DNE(1,Bl,2,0,"div",39),e.k0s()),2&p){let a;const g=e.XpG();e.R7$(),e.Y8G("ngIf",null==(a=g.registerForm.get("prenom"))||null==a.errors?null:a.errors.required)}}function Ru(p,L){1&p&&(e.j41(0,"div"),e.EFF(1,"La fonction est requise."),e.k0s())}function Ad(p,L){if(1&p&&(e.j41(0,"div",38),e.DNE(1,Ru,2,0,"div",39),e.k0s()),2&p){let a;const g=e.XpG();e.R7$(),e.Y8G("ngIf",null==(a=g.registerForm.get("fonction"))||null==a.errors?null:a.errors.required)}}function rs(p,L){1&p&&(e.j41(0,"div"),e.EFF(1,"L'adresse e-mail est requise."),e.k0s())}function Gl(p,L){1&p&&(e.j41(0,"div"),e.EFF(1,"Adresse e-mail invalide."),e.k0s())}function Hl(p,L){1&p&&(e.j41(0,"div"),e.EFF(1,"L'email doit se terminer par @assurkin.be"),e.k0s())}function An(p,L){if(1&p&&(e.j41(0,"div",38),e.DNE(1,rs,2,0,"div",39)(2,Gl,2,0,"div",39)(3,Hl,2,0,"div",39),e.k0s()),2&p){let a,g,h;const B=e.XpG();e.R7$(),e.Y8G("ngIf",null==(a=B.registerForm.get("email"))||null==a.errors?null:a.errors.required),e.R7$(),e.Y8G("ngIf",null==(g=B.registerForm.get("email"))||null==g.errors?null:g.errors.email),e.R7$(),e.Y8G("ngIf",null==(h=B.registerForm.get("email"))||null==h.errors?null:h.errors.pattern)}}function Nu(p,L){1&p&&(e.j41(0,"div"),e.EFF(1,"Le mot de passe est requis."),e.k0s())}function pa(p,L){1&p&&(e.j41(0,"div"),e.EFF(1,"Le mot de passe doit contenir au moins 6 caract\xe8res."),e.k0s())}function Oo(p,L){if(1&p&&(e.j41(0,"div",38),e.DNE(1,Nu,2,0,"div",39)(2,pa,2,0,"div",39),e.k0s()),2&p){let a,g;const h=e.XpG();e.R7$(),e.Y8G("ngIf",null==(a=h.registerForm.get("password"))||null==a.errors?null:a.errors.required),e.R7$(),e.Y8G("ngIf",null==(g=h.registerForm.get("password"))||null==g.errors?null:g.errors.minlength)}}function Rd(p,L){1&p&&(e.j41(0,"div",38),e.EFF(1," Les mots de passe ne correspondent pas. "),e.k0s())}function ma(p,L){1&p&&(e.j41(0,"div"),e.EFF(1,"L'adresse e-mail est requise."),e.k0s())}function Bs(p,L){1&p&&(e.j41(0,"div"),e.EFF(1,"Adresse e-mail invalide."),e.k0s())}function ai(p,L){1&p&&(e.j41(0,"div"),e.EFF(1,"L'email doit appartenir au domaine de l'entreprise."),e.k0s())}function Nd(p,L){if(1&p&&(e.j41(0,"div",38),e.DNE(1,ma,2,0,"div",39)(2,Bs,2,0,"div",39)(3,ai,2,0,"div",39),e.k0s()),2&p){let a,g,h;const B=e.XpG();e.R7$(),e.Y8G("ngIf",null==(a=B.resetPasswordForm.get("email"))||null==a.errors?null:a.errors.required),e.R7$(),e.Y8G("ngIf",null==(g=B.resetPasswordForm.get("email"))||null==g.errors?null:g.errors.email),e.R7$(),e.Y8G("ngIf",null==(h=B.resetPasswordForm.get("email"))||null==h.errors?null:h.errors.pattern)}}function Ou(p){const L=p.get("password"),a=p.get("passwordConfirm");return L&&a&&L.value!==a.value?{passwordsMismatch:!0}:null}const ql={providers:[(0,Z.lh)([{path:"accueil",component:G},{path:"contact",component:yn},{path:"particulier/auto",component:Ir},{path:"particulier/habitation",component:Jn},{path:"particulier/rc-familale",component:Jr},{path:"particulier/obseques",component:Nt},{path:"particulier/protection-juridique",component:ee},{path:"particulier/annulation-voyage",component:Qe},{path:"mentions",component:tt},{path:"corporate",component:(()=>{class p{registerForm;loginForm;resetPasswordForm;isResettingPassword=!1;showPopup=!1;popupMessage="";popupType="success";popupTimeout;fb=(0,e.WQX)(F.ok);dbConnectService=(0,e.WQX)(jt.y);authService=(0,e.WQX)(gr);router=(0,e.WQX)(Z.Ix);constructor(){}ngOnInit(){const a=Fo.c.domain_name.replace(/\./g,"\\."),g=new RegExp(`^[A-Za-z0-9._%+-]+@${a}$`,"i");this.loginForm=this.fb.group({email:["",[F.k0.required,F.k0.email,F.k0.pattern(g)]],password:["",F.k0.required]}),this.resetPasswordForm=this.fb.group({email:["",[F.k0.required,F.k0.email,F.k0.pattern(g)]]}),this.registerForm=this.fb.group({nom:["",F.k0.required],prenom:["",F.k0.required],fonction:[""],email:["",[F.k0.required,F.k0.email,F.k0.pattern(g)]],password:["",[F.k0.required,F.k0.minLength(6)]],passwordConfirm:["",F.k0.required]},{validators:Ou})}onLoginSubmit(){this.loginForm.invalid?this.loginForm.markAllAsTouched():this.authService.signIn(this.loginForm.value).subscribe({next:a=>{a.error?this.showNotification(a.error.message,"error"):this.router.navigate(["/management"])},error:a=>{this.showNotification(`Erreur d'authentification: ${a.message}`,"error")}})}onRegisterSubmit(){if(this.registerForm.invalid)return void this.registerForm.markAllAsTouched();const{passwordConfirm:a,...g}=this.registerForm.value;this.dbConnectService.createCorporateAccount(g).subscribe({next:()=>{this.showNotification("Compte cr\xe9\xe9 avec succ\xe8s ! Veuillez consulter votre bo\xeete mail pour valider votre compte.","success"),this.registerForm.reset()},error:h=>{let B=`Erreur lors de la cr\xe9ation du compte: ${h.message}`;h.message&&h.message.includes("duplicate key value violates unique constraint")&&(B="Un compte avec cette adresse e-mail existe d\xe9j\xe0."),this.showNotification(B,"error")}})}onResetPasswordSubmit(){this.resetPasswordForm.invalid?this.resetPasswordForm.markAllAsTouched():this.authService.sendPasswordResetEmail(this.resetPasswordForm.value.email).subscribe({next:({error:g})=>{g?this.showNotification(`Erreur : ${g.message}`,"error"):(this.showNotification("Si un compte existe pour cet e-mail, un lien de r\xe9initialisation a \xe9t\xe9 envoy\xe9.","success"),this.toggleResetPasswordView(!1))},error:g=>{this.showNotification(`Une erreur est survenue : ${g.message}`,"error")}})}toggleResetPasswordView(a){this.isResettingPassword=a}showNotification(a,g){this.popupMessage=a,this.popupType=g,this.showPopup=!0,this.popupTimeout&&clearTimeout(this.popupTimeout),this.popupTimeout=setTimeout(()=>{this.hideNotification()},5e3)}hideNotification(){this.showPopup=!1,this.popupTimeout&&clearTimeout(this.popupTimeout)}static \u0275fac=function(g){return new(g||p)};static \u0275cmp=e.VBU({type:p,selectors:[["app-corporate"]],standalone:!0,features:[e.aNF],decls:81,vars:18,consts:[[1,"bg-gray-50","min-h-screen","py-12","px-4","sm:px-6","lg:px-8"],["class","fixed top-20 right-5 z-50 p-4 rounded-lg shadow-xl text-white max-w-sm",3,"ngClass",4,"ngIf"],[1,"max-w-4xl","mx-auto",3,"hidden"],[1,"bg-white","p-8","rounded-lg","shadow-md"],[1,"text-2xl","font-bold","text-gray-900","mb-6","text-center"],["novalidate","",1,"space-y-6",3,"ngSubmit","formGroup"],["for","login-email",1,"block","text-sm","font-medium","text-gray-700"],[1,"mt-1"],["id","login-email","type","email","formControlName","email","autocomplete","email",1,"appearance-none","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","placeholder-gray-400","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["class","text-red-600 text-xs mt-1",4,"ngIf"],["for","login-password",1,"block","text-sm","font-medium","text-gray-700"],["id","login-password","type","password","formControlName","password","autocomplete","current-password",1,"appearance-none","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","placeholder-gray-400","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],[1,"flex","items-center","justify-between"],[1,"text-sm"],[1,"font-medium","text-indigo-600","hover:text-indigo-500","cursor-pointer",3,"click"],["type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4"],["for","register-nom",1,"block","text-sm","font-medium","text-gray-700"],["id","register-nom","type","text","formControlName","nom",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["for","register-prenom",1,"block","text-sm","font-medium","text-gray-700"],["id","register-prenom","type","text","formControlName","prenom",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["for","register-fonction",1,"block","text-sm","font-medium","text-gray-700"],["id","register-fonction","type","text","formControlName","fonction",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["for","register-email",1,"block","text-sm","font-medium","text-gray-700"],["id","register-email","type","email","formControlName","email",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["for","register-password",1,"block","text-sm","font-medium","text-gray-700"],["id","register-password","type","password","formControlName","password",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["for","register-password-confirm",1,"block","text-sm","font-medium","text-gray-700"],["id","register-password-confirm","type","password","formControlName","passwordConfirm",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-gray-800","hover:bg-gray-900","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-gray-700","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"max-w-md","mx-auto",3,"hidden"],["for","reset-email",1,"block","text-sm","font-medium","text-gray-700"],["id","reset-email","type","email","formControlName","email","autocomplete","email",1,"appearance-none","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","placeholder-gray-400","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],[1,"text-sm","text-center"],[1,"fixed","top-20","right-5","z-50","p-4","rounded-lg","shadow-xl","text-white","max-w-sm",3,"ngClass"],[1,"flex","justify-between","items-start"],[1,"flex-grow"],[1,"ml-4","-mt-1","-mr-1","text-2xl","font-semibold","leading-none","hover:text-gray-200",3,"click"],[1,"text-red-600","text-xs","mt-1"],[4,"ngIf"]],template:function(g,h){if(1&g&&(e.j41(0,"div",0),e.DNE(1,$i,6,5,"div",1),e.j41(2,"div",2)(3,"div",3)(4,"h2",4),e.EFF(5,"S'authentifier"),e.k0s(),e.j41(6,"form",5),e.bIt("ngSubmit",function(){return h.onLoginSubmit()}),e.j41(7,"div")(8,"label",6),e.EFF(9,"Adresse e-mail"),e.k0s(),e.j41(10,"div",7),e.nrm(11,"input",8),e.DNE(12,No,3,2,"div",9),e.k0s()(),e.j41(13,"div")(14,"label",10),e.EFF(15,"Mot de passe"),e.k0s(),e.j41(16,"div",7),e.nrm(17,"input",11),e.DNE(18,Au,2,1,"div",9),e.k0s()(),e.j41(19,"div",12)(20,"div",13)(21,"a",14),e.bIt("click",function(){return h.toggleResetPasswordView(!0)}),e.EFF(22," Mot de passe oubli\xe9 ? "),e.k0s()()(),e.j41(23,"div")(24,"button",15),e.EFF(25," Se connecter "),e.k0s()()()(),e.j41(26,"div",3)(27,"h2",4),e.EFF(28,"Cr\xe9er un compte"),e.k0s(),e.j41(29,"form",5),e.bIt("ngSubmit",function(){return h.onRegisterSubmit()}),e.j41(30,"div",16)(31,"div")(32,"label",17),e.EFF(33,"Nom"),e.k0s(),e.nrm(34,"input",18),e.DNE(35,Ul,2,1,"div",9),e.k0s(),e.j41(36,"div")(37,"label",19),e.EFF(38,"Pr\xe9nom"),e.k0s(),e.nrm(39,"input",20),e.DNE(40,Md,2,1,"div",9),e.k0s()(),e.j41(41,"div")(42,"label",21),e.EFF(43,"Fonction"),e.k0s(),e.nrm(44,"input",22),e.DNE(45,Ad,2,1,"div",9),e.k0s(),e.j41(46,"div")(47,"label",23),e.EFF(48,"Adresse e-mail"),e.k0s(),e.nrm(49,"input",24),e.DNE(50,An,4,3,"div",9),e.k0s(),e.j41(51,"div")(52,"label",25),e.EFF(53,"Mot de passe"),e.k0s(),e.nrm(54,"input",26),e.DNE(55,Oo,3,2,"div",9),e.k0s(),e.j41(56,"div")(57,"label",27),e.EFF(58,"Confirmer le mot de passe"),e.k0s(),e.nrm(59,"input",28),e.DNE(60,Rd,2,0,"div",9),e.k0s(),e.j41(61,"div")(62,"button",29),e.EFF(63," Cr\xe9er le compte "),e.k0s()()()()(),e.j41(64,"div",30)(65,"div",3)(66,"h2",4),e.EFF(67,"R\xe9initialiser le mot de passe"),e.k0s(),e.j41(68,"form",5),e.bIt("ngSubmit",function(){return h.onResetPasswordSubmit()}),e.j41(69,"div")(70,"label",31),e.EFF(71,"Adresse e-mail"),e.k0s(),e.j41(72,"div",7),e.nrm(73,"input",32),e.DNE(74,Nd,4,3,"div",9),e.k0s()(),e.j41(75,"div")(76,"button",15),e.EFF(77," Envoyer le lien de r\xe9initialisation "),e.k0s()(),e.j41(78,"div",33)(79,"a",14),e.bIt("click",function(){return h.toggleResetPasswordView(!1)}),e.EFF(80,"Retour \xe0 la connexion"),e.k0s()()()()()()),2&g){let B,ce,Ie,kt,ve,st,Vt,On,Ft;e.R7$(),e.Y8G("ngIf",h.showPopup),e.R7$(),e.Y8G("hidden",h.isResettingPassword),e.R7$(4),e.Y8G("formGroup",h.loginForm),e.R7$(6),e.Y8G("ngIf",(null==(B=h.loginForm.get("email"))?null:B.invalid)&&((null==(B=h.loginForm.get("email"))?null:B.dirty)||(null==(B=h.loginForm.get("email"))?null:B.touched))),e.R7$(6),e.Y8G("ngIf",(null==(ce=h.loginForm.get("password"))?null:ce.invalid)&&((null==(ce=h.loginForm.get("password"))?null:ce.dirty)||(null==(ce=h.loginForm.get("password"))?null:ce.touched))),e.R7$(6),e.Y8G("disabled",h.loginForm.invalid),e.R7$(5),e.Y8G("formGroup",h.registerForm),e.R7$(6),e.Y8G("ngIf",(null==(Ie=h.registerForm.get("nom"))?null:Ie.invalid)&&((null==(Ie=h.registerForm.get("nom"))?null:Ie.dirty)||(null==(Ie=h.registerForm.get("nom"))?null:Ie.touched))),e.R7$(5),e.Y8G("ngIf",(null==(kt=h.registerForm.get("prenom"))?null:kt.invalid)&&((null==(kt=h.registerForm.get("prenom"))?null:kt.dirty)||(null==(kt=h.registerForm.get("prenom"))?null:kt.touched))),e.R7$(5),e.Y8G("ngIf",(null==(ve=h.registerForm.get("fonction"))?null:ve.invalid)&&((null==(ve=h.registerForm.get("fonction"))?null:ve.dirty)||(null==(ve=h.registerForm.get("fonction"))?null:ve.touched))),e.R7$(5),e.Y8G("ngIf",(null==(st=h.registerForm.get("email"))?null:st.invalid)&&((null==(st=h.registerForm.get("email"))?null:st.dirty)||(null==(st=h.registerForm.get("email"))?null:st.touched))),e.R7$(5),e.Y8G("ngIf",(null==(Vt=h.registerForm.get("password"))?null:Vt.invalid)&&((null==(Vt=h.registerForm.get("password"))?null:Vt.dirty)||(null==(Vt=h.registerForm.get("password"))?null:Vt.touched))),e.R7$(5),e.Y8G("ngIf",(null==h.registerForm.errors?null:h.registerForm.errors.passwordsMismatch)&&((null==(On=h.registerForm.get("passwordConfirm"))?null:On.dirty)||(null==(On=h.registerForm.get("passwordConfirm"))?null:On.touched))),e.R7$(2),e.Y8G("disabled",h.registerForm.invalid),e.R7$(2),e.Y8G("hidden",!h.isResettingPassword),e.R7$(4),e.Y8G("formGroup",h.resetPasswordForm),e.R7$(6),e.Y8G("ngIf",(null==(Ft=h.resetPasswordForm.get("email"))?null:Ft.invalid)&&((null==(Ft=h.resetPasswordForm.get("email"))?null:Ft.dirty)||(null==(Ft=h.resetPasswordForm.get("email"))?null:Ft.touched))),e.R7$(2),e.Y8G("disabled",h.resetPasswordForm.invalid)}},dependencies:[U.MD,U.YU,U.bT,F.X1,F.qT,F.me,F.BC,F.cb,F.j4,F.JD]})}return p})()},{path:"utilities/paiements",loadComponent:()=>M.e(199).then(M.bind(M,2199)).then(p=>p.PaymentComponent)},{path:"utilities/statistiques",loadComponent:()=>M.e(749).then(M.bind(M,6749)).then(p=>p.StatComponent)},{path:"utilities/prospects",loadComponent:()=>M.e(63).then(M.bind(M,2063)).then(p=>p.RsComponent)},{path:"utilities/parametres",loadComponent:()=>M.e(209).then(M.bind(M,4209)).then(p=>p.ParamsComponent)},{path:"account",component:Mr},{path:"login",component:bt},{path:"create-account",component:Cn},{path:"lost-password",component:Mi},{path:"reset-password",component:Qi},{path:"mydata",component:x,canActivate:[(p,L)=>{const a=(0,e.WQX)(e.Agw),g=(0,e.WQX)(Z.Ix),h=(0,e.WQX)(gr);return!!(0,U.Vy)(a)||h.currentUser$.pipe((0,Ho.p)(B=>void 0!==B),(0,Ji.s)(1),(0,fe.T)(B=>!!B||g.parseUrl("/login")))}]},{path:"createuseraccount",component:zt},{path:"assurance_auto/:id",redirectTo:"assurance-details/auto/:id"},{path:"assurance_habitation/:id",redirectTo:"assurance-details/habitation/:id"},{path:"assurance_obseques/:id",redirectTo:"assurance-details/obseques/:id"},{path:"intranet/dashboard",component:Yr},{path:"intranet/gestion-auto",component:as},{path:"management",component:ne},{path:"management/:type/:id",component:Qt},{path:"management/upload/:type/:id/:preneurId",loadComponent:()=>M.e(53).then(M.bind(M,5053)).then(p=>p.UploaderComponent)},{path:"assurance-details/:type/:id",component:Ne.AssurancesDetailsComponent},{path:"messagerie/:type/:id",loadComponent:()=>M.e(989).then(M.bind(M,8989)).then(p=>p.MessagerieComponent)},{path:"management/assurance-details/:type/:id",loadComponent:()=>Promise.resolve().then(M.bind(M,3583)).then(p=>p.AssurancesDetailsComponent)},{path:"",redirectTo:"accueil",pathMatch:"full"},{path:"**",redirectTo:"accueil"}]),(0,V.$R)()]},zl=["underline"],Wl=["scrollProgressBar"],Ua=["menuLink"],ga=()=>({exact:!0}),ra=(p,L)=>({"opacity-100 visible":p,"opacity-0 invisible":L}),va=p=>({"rotate-180":p});function Pu(p,L){1&p&&(e.qSk(),e.j41(0,"svg",49),e.nrm(1,"path",50),e.k0s())}function fs(p,L){1&p&&(e.qSk(),e.j41(0,"svg",49),e.nrm(1,"path",51),e.k0s())}function Gt(p,L){if(1&p){const a=e.RV6();e.j41(0,"div",65)(1,"a",66),e.bIt("click",function(){e.eBV(a);const h=e.XpG(2);return e.Njj(h.closeMenu())}),e.EFF(2,"Auto"),e.k0s(),e.j41(3,"a",67),e.bIt("click",function(){e.eBV(a);const h=e.XpG(2);return e.Njj(h.closeMenu())}),e.EFF(4,"Habitation"),e.k0s(),e.j41(5,"a",68),e.bIt("click",function(){e.eBV(a);const h=e.XpG(2);return e.Njj(h.closeMenu())}),e.EFF(6,"RC familiale"),e.k0s(),e.j41(7,"a",69),e.bIt("click",function(){e.eBV(a);const h=e.XpG(2);return e.Njj(h.closeMenu())}),e.EFF(8,"Annulation-voyage"),e.k0s(),e.j41(9,"a",70),e.bIt("click",function(){e.eBV(a);const h=e.XpG(2);return e.Njj(h.closeMenu())}),e.EFF(10,"Protection juridique"),e.k0s(),e.j41(11,"a",71),e.bIt("click",function(){e.eBV(a);const h=e.XpG(2);return e.Njj(h.closeMenu())}),e.EFF(12,"Vie et sant\xe9"),e.k0s(),e.j41(13,"a",72),e.bIt("click",function(){e.eBV(a);const h=e.XpG(2);return e.Njj(h.closeMenu())}),e.EFF(14,"Obs\xe8ques"),e.k0s(),e.j41(15,"a",73),e.bIt("click",function(){e.eBV(a);const h=e.XpG(2);return e.Njj(h.closeMenu())}),e.EFF(16,"Solde restant d\xfb"),e.k0s()()}2&p&&(e.R7$(),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"))}function Ba(p,L){if(1&p){const a=e.RV6();e.j41(0,"div",65)(1,"a",74),e.bIt("click",function(){e.eBV(a);const h=e.XpG(2);return e.Njj(h.closeMenu())}),e.EFF(2,"Auto"),e.k0s(),e.j41(3,"a",75),e.bIt("click",function(){e.eBV(a);const h=e.XpG(2);return e.Njj(h.closeMenu())}),e.EFF(4,"Incendie"),e.k0s(),e.j41(5,"a",76),e.bIt("click",function(){e.eBV(a);const h=e.XpG(2);return e.Njj(h.closeMenu())}),e.EFF(6,"Responsabilit\xe9 civile"),e.k0s()()}2&p&&(e.R7$(),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"))}function ju(p,L){if(1&p){const a=e.RV6();e.j41(0,"div",52)(1,"a",53),e.bIt("click",function(){e.eBV(a);const h=e.XpG();return e.Njj(h.closeMenu())}),e.EFF(2,"Accueil"),e.k0s(),e.j41(3,"a",54),e.bIt("click",function(){e.eBV(a);const h=e.XpG();return e.Njj(h.closeMenu())}),e.EFF(4,"Mentions l\xe9gales"),e.k0s(),e.j41(5,"div")(6,"button",55),e.bIt("click",function(){e.eBV(a);const h=e.XpG();return e.Njj(h.particulierSubMenuOpen=!h.particulierSubMenuOpen)}),e.EFF(7," Particulier "),e.qSk(),e.j41(8,"svg",56),e.nrm(9,"path",15),e.k0s()(),e.DNE(10,Gt,17,8,"div",57),e.k0s(),e.joV(),e.j41(11,"div")(12,"button",58),e.bIt("click",function(){e.eBV(a);const h=e.XpG();return e.Njj(h.professionelSubMenuOpen=!h.professionelSubMenuOpen)}),e.EFF(13," Professionel "),e.qSk(),e.j41(14,"svg",56),e.nrm(15,"path",15),e.k0s()(),e.DNE(16,Ba,7,3,"div",57),e.k0s(),e.joV(),e.j41(17,"a",59),e.bIt("click",function(){e.eBV(a);const h=e.XpG();return e.Njj(h.closeMenu())}),e.EFF(18,"News"),e.k0s(),e.j41(19,"a",60),e.bIt("click",function(){e.eBV(a);const h=e.XpG();return e.Njj(h.closeMenu())}),e.EFF(20,"Contact"),e.k0s(),e.j41(21,"a",61),e.qSk(),e.j41(22,"svg",62),e.nrm(23,"path",40),e.k0s(),e.EFF(24," +32 (0)2 887 64 35 "),e.k0s(),e.joV(),e.j41(25,"div",63)(26,"a",64),e.bIt("click",function(){e.eBV(a);const h=e.XpG();return e.Njj(h.closeMenu())}),e.qSk(),e.j41(27,"svg",62),e.nrm(28,"path",43),e.k0s(),e.EFF(29," Client "),e.k0s()()()}if(2&p){const a=e.XpG();e.AVh("opacity-100",a.showMenu)("opacity-0",!a.showMenu),e.R7$(),e.Y8G("routerLinkActiveOptions",e.lJ4(14,ga)),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(5),e.Y8G("ngClass",e.eq3(15,va,a.particulierSubMenuOpen)),e.R7$(2),e.Y8G("ngIf",a.particulierSubMenuOpen),e.R7$(2),e.BMQ("aria-expanded",a.professionelSubMenuOpen),e.R7$(2),e.Y8G("ngClass",e.eq3(17,va,a.professionelSubMenuOpen)),e.R7$(2),e.Y8G("ngIf",a.professionelSubMenuOpen),e.R7$(),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page")}}let Yl=(()=>{class p{router;cdr;platformId;underlineRef;scrollProgressBarRef;menuLinks;isMenuVisible=!1;showMenu=!1;showParticulierSubMenu=!1;showProfessionelSubMenu=!1;showMentionsLegalesSubMenu=!1;particulierSubMenuOpen=!1;professionelSubMenuOpen=!1;constructor(a,g,h){this.router=a,this.cdr=g,this.platformId=h}ngAfterViewInit(){this.router.events.pipe((0,Ho.p)(a=>a instanceof Z.wF)).subscribe(()=>{(0,U.UE)(this.platformId)&&this.moveUnderlineToActiveLink(),this.closeMenu()})}onWindowScroll(){if((0,U.UE)(this.platformId)){const a=document.documentElement,g=document.body;this.scrollProgressBarRef.nativeElement.style.width=(a.scrollTop||g.scrollTop)/((a.scrollHeight||g.scrollHeight)-a.clientHeight)*100+"%"}}toggleMenu(){this.isMenuVisible?this.closeMenu():(this.isMenuVisible=!0,setTimeout(()=>{this.showMenu=!0},10))}closeMenu(){this.isMenuVisible&&(this.showMenu=!1,setTimeout(()=>{this.isMenuVisible=!1},300))}onLinkHover(a){(0,U.UE)(this.platformId)&&this.moveUnderline(a.currentTarget)}onMenuLeave(){(0,U.UE)(this.platformId)&&this.moveUnderlineToActiveLink()}moveUnderlineToActiveLink(){setTimeout(()=>{const a=this.menuLinks.find(g=>g.nativeElement.classList.contains("text-indigo-600"));a&&this.moveUnderline(a.nativeElement),this.cdr.detectChanges()},0)}moveUnderline(a){const g=this.underlineRef.nativeElement;g.style.width=`${a.offsetWidth}px`,g.style.transform=`translateX(${a.offsetLeft}px)`}static \u0275fac=function(g){return new(g||p)(e.rXU(Z.Ix),e.rXU(e.gRc),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:p,selectors:[["app-navbar"]],viewQuery:function(g,h){if(1&g&&(e.GBs(zl,5),e.GBs(Wl,5),e.GBs(Ua,5,e.aKT)),2&g){let B;e.mGM(B=e.lsd())&&(h.underlineRef=B.first),e.mGM(B=e.lsd())&&(h.scrollProgressBarRef=B.first),e.mGM(B=e.lsd())&&(h.menuLinks=B)}},hostBindings:function(g,h){1&g&&e.bIt("scroll",function(){return h.onWindowScroll()},!1,e.tSv)},standalone:!0,features:[e.aNF],decls:86,vars:35,consts:[["scrollProgressBar",""],["menuContainer",""],["menuLink",""],["underline",""],[1,"bg-white","border-b","border-gray-200","fixed","w-full","z-50","top-0","shadow-sm"],[1,"h-1","bg-indigo-600",2,"width","0%"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","h-16","items-center"],["routerLink","/",1,"text-2xl","font-bold","text-black-600","hover:text-indigo-700"],[1,"hidden","md:flex","flex-grow","items-center","justify-between"],[1,"relative","flex","items-center","space-x-8","ml-10",3,"mouseleave"],["routerLink","/accueil","routerLinkActive","text-indigo-600",1,"text-gray-700","hover:text-indigo-600","transition","h-16","inline-flex","items-center",3,"mouseenter","routerLinkActiveOptions"],[1,"relative",3,"mouseenter","mouseleave"],["routerLinkActive","text-indigo-600","aria-haspopup","true","aria-controls","mentions-legales-submenu",1,"text-gray-700","hover:text-indigo-600","transition","inline-flex","items-center","h-16","cursor-default",3,"mouseenter"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"ml-1","h-5","w-5"],["fill-rule","evenodd","d","M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule","evenodd"],["id","mentions-legales-submenu",1,"absolute","left-0","mt-2","w-56","rounded-md","shadow-lg","bg-white","ring-1","ring-black","ring-opacity-5","transition-all","duration-200","ease-in-out",3,"ngClass"],["routerLink","/mentions","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50",3,"routerLinkActiveOptions"],["routerLinkActive","text-indigo-600","routerLink","/particulier",1,"text-gray-700","hover:text-indigo-600","transition","inline-flex","items-center","h-16",3,"mouseenter"],["routerLink","/particulier",1,"text-gray-700","hover:text-indigo-600","transition","inline-flex","items-center","h-16"],["role","menu",1,"absolute","left-0","mt-2","w-56","rounded-md","shadow-lg","bg-white","ring-1","ring-black","ring-opacity-5","transition-all","duration-200","ease-in-out",3,"ngClass"],["routerLink","/particulier/auto","routerLinkActive","bg-indigo-50","role","menuitem",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/particulier/habitation","routerLinkActive","bg-indigo-50","role","menuitem",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/particulier/rc-familale","routerLinkActive","bg-indigo-50","role","menuitem",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/particulier/annulation-voyage","routerLinkActive","bg-indigo-50","role","menuitem",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/particulier/protection-juridique","routerLinkActive","bg-indigo-50","role","menuitem",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/particulier/vie-sante","routerLinkActive","bg-indigo-50","role","menuitem",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/particulier/obseques","routerLinkActive","bg-indigo-50","role","menuitem",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/particulier/solde-restant-du","routerLinkActive","bg-indigo-50","role","menuitem",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLinkActive","text-indigo-600","routerLink","/professionel",1,"text-gray-700","hover:text-indigo-600","transition","inline-flex","items-center","h-16",3,"mouseenter"],["routerLink","/professionel",1,"text-gray-700","hover:text-indigo-600","transition","inline-flex","items-center","h-16"],["routerLink","/professionel/auto","routerLinkActive","bg-indigo-50","role","menuitem",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/professionel/incendie","routerLinkActive","bg-indigo-50","role","menuitem",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/professionel/responsabilite-civile","routerLinkActive","bg-indigo-50","role","menuitem",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/news","routerLinkActive","text-indigo-600",1,"text-gray-700","hover:text-indigo-600","transition","h-16","inline-flex","items-center",3,"mouseenter"],["routerLink","/contact","routerLinkActive","text-indigo-600",1,"text-gray-700","hover:text-indigo-600","transition","h-16","inline-flex","items-center",3,"mouseenter"],[1,"absolute","bottom-0","h-0.5","bg-indigo-600","transition-all","duration-300","ease-in-out"],[1,"flex","items-center","space-x-4"],["href","tel:+3228876435",1,"inline-flex","items-center","text-gray-700","hover:text-indigo-600","transition"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"h-5","w-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","d","M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z"],[1,"flex","items-center","space-x-2"],["routerLink","/account",1,"inline-flex","items-center","bg-indigo-600","text-white","px-4","py-2","rounded-md","text-sm","font-semibold","hover:bg-indigo-700","transition"],["stroke-linecap","round","stroke-linejoin","round","d","M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"],["routerLink","/corporate",1,"inline-flex","items-center","bg-gray-800","text-white","px-4","py-2","rounded-md","text-sm","font-semibold","hover:bg-gray-900","transition"],["stroke-linecap","round","stroke-linejoin","round","d","M20.25 14.15v4.07a2.25 2.25 0 0 1-2.25 2.25H5.998a2.25 2.25 0 0 1-2.25-2.25v-4.07a2.25 2.25 0 0 1 .52-1.435l3.67-4.112a2.25 2.25 0 0 1 2.816 0l3.67 4.112a2.25 2.25 0 0 1 .52 1.435ZM16.5 8.25V4.5a2.25 2.25 0 0 0-2.25-2.25H9.75A2.25 2.25 0 0 0 7.5 4.5v3.75"],["aria-controls","mobile-menu",1,"md:hidden","text-gray-700","focus:outline-none",3,"click"],["xmlns","http://www.w3.org/2000/svg","class","h-6 w-6","fill","none","viewBox","0 0 24 24","stroke","currentColor",4,"ngIf"],["id","mobile-menu","class","md:hidden bg-white border-t border-gray-200 transition-opacity duration-300 ease-in-out",3,"opacity-100","opacity-0",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16M4 18h16"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],["id","mobile-menu",1,"md:hidden","bg-white","border-t","border-gray-200","transition-opacity","duration-300","ease-in-out"],["routerLink","/accueil","routerLinkActive","bg-indigo-50 text-indigo-600",1,"block","px-4","py-2","text-gray-700","hover:bg-indigo-50",3,"click","routerLinkActiveOptions"],["routerLink","/mentions","routerLinkActive","bg-indigo-50 text-indigo-600",1,"block","px-4","py-2","text-gray-700","hover:bg-indigo-50",3,"click"],[1,"w-full","text-left","block","px-4","py-2","text-gray-700","hover:bg-indigo-50","flex","justify-between","items-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","transform",3,"ngClass"],["class","pl-4",4,"ngIf"],["aria-haspopup","true",1,"w-full","text-left","block","px-4","py-2","text-gray-700","hover:bg-indigo-50","flex","justify-between","items-center",3,"click"],["routerLink","/news","routerLinkActive","bg-indigo-50 text-indigo-600",1,"block","px-4","py-2","text-gray-700","hover:bg-indigo-50",3,"click"],["routerLink","/contact","routerLinkActive","bg-indigo-50 text-indigo-600",1,"block","px-4","py-2","text-gray-700","hover:bg-indigo-50",3,"click"],["href","tel:+3228876435",1,"flex","items-center","px-4","py-2","text-gray-700","hover:bg-indigo-50"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"h-5","w-5","mr-3"],[1,"p-2"],["routerLink","/account",1,"flex","items-center","justify-center","bg-indigo-600","text-white","px-4","py-2","rounded-md","text-sm","font-semibold","hover:bg-indigo-700","transition","w-full",3,"click"],[1,"pl-4"],["routerLink","/particulier/auto","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50",3,"click"],["routerLink","/particulier/habitation","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50",3,"click"],["routerLink","/particulier/rc-familiale","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50",3,"click"],["routerLink","/particulier/annulation-voyage","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50",3,"click"],["routerLink","/particulier/protection-juridique","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50",3,"click"],["routerLink","/particulier/vie-sante","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50",3,"click"],["routerLink","/particulier/obseques","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50",3,"click"],["routerLink","/particulier/solde-restant-du","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50",3,"click"],["routerLink","/professionel/auto","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50",3,"click"],["routerLink","/professionel/incendie","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50",3,"click"],["routerLink","/professionel/responsabilite-civile","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50",3,"click"]],template:function(g,h){if(1&g){const B=e.RV6();e.j41(0,"nav",4),e.nrm(1,"div",5,0),e.j41(3,"div",6)(4,"div",7)(5,"a",8),e.EFF(6," AssurKin "),e.k0s(),e.j41(7,"div",9)(8,"div",10,1),e.bIt("mouseleave",function(){return e.eBV(B),e.Njj(h.onMenuLeave())}),e.j41(10,"a",11,2),e.bIt("mouseenter",function(Ie){return e.eBV(B),e.Njj(h.onLinkHover(Ie))}),e.EFF(12,"Accueil"),e.k0s(),e.j41(13,"div",12),e.bIt("mouseenter",function(){return e.eBV(B),e.Njj(h.showMentionsLegalesSubMenu=!0)})("mouseleave",function(){return e.eBV(B),e.Njj(h.showMentionsLegalesSubMenu=!1)}),e.j41(14,"button",13,2),e.bIt("mouseenter",function(Ie){return e.eBV(B),e.Njj(h.onLinkHover(Ie))}),e.EFF(16," Mentions l\xe9gales "),e.qSk(),e.j41(17,"svg",14),e.nrm(18,"path",15),e.k0s()(),e.joV(),e.j41(19,"div",16)(20,"a",17),e.EFF(21,"Vue d'ensemble"),e.k0s()()(),e.j41(22,"div",12),e.bIt("mouseenter",function(){return e.eBV(B),e.Njj(h.showParticulierSubMenu=!0)})("mouseleave",function(){return e.eBV(B),e.Njj(h.showParticulierSubMenu=!1)}),e.j41(23,"button",18,2),e.bIt("mouseenter",function(Ie){return e.eBV(B),e.Njj(h.onLinkHover(Ie))}),e.j41(25,"a",19),e.EFF(26,"Particulier"),e.k0s(),e.qSk(),e.j41(27,"svg",14),e.nrm(28,"path",15),e.k0s()(),e.joV(),e.j41(29,"div",20)(30,"a",21),e.EFF(31,"Auto"),e.k0s(),e.j41(32,"a",22),e.EFF(33,"Habitation"),e.k0s(),e.j41(34,"a",23),e.EFF(35,"RC familiale"),e.k0s(),e.j41(36,"a",24),e.EFF(37,"Annulation-voyage"),e.k0s(),e.j41(38,"a",25),e.EFF(39,"Protection juridique"),e.k0s(),e.j41(40,"a",26),e.EFF(41,"Vie et sant\xe9"),e.k0s(),e.j41(42,"a",27),e.EFF(43,"Obs\xe8ques"),e.k0s(),e.j41(44,"a",28),e.EFF(45,"Solde restant d\xfb"),e.k0s()()(),e.j41(46,"div",12),e.bIt("mouseenter",function(){return e.eBV(B),e.Njj(h.showProfessionelSubMenu=!0)})("mouseleave",function(){return e.eBV(B),e.Njj(h.showProfessionelSubMenu=!1)}),e.j41(47,"button",29,2),e.bIt("mouseenter",function(Ie){return e.eBV(B),e.Njj(h.onLinkHover(Ie))}),e.j41(49,"a",30),e.EFF(50,"Professionel"),e.k0s(),e.qSk(),e.j41(51,"svg",14),e.nrm(52,"path",15),e.k0s()(),e.joV(),e.j41(53,"div",20)(54,"a",31),e.EFF(55,"Auto"),e.k0s(),e.j41(56,"a",32),e.EFF(57,"Incendie"),e.k0s(),e.j41(58,"a",33),e.EFF(59,"Responsabilit\xe9 civile"),e.k0s()()(),e.j41(60,"a",34,2),e.bIt("mouseenter",function(Ie){return e.eBV(B),e.Njj(h.onLinkHover(Ie))}),e.EFF(62,"News"),e.k0s(),e.j41(63,"a",35,2),e.bIt("mouseenter",function(Ie){return e.eBV(B),e.Njj(h.onLinkHover(Ie))}),e.EFF(65,"Contact"),e.k0s(),e.nrm(66,"div",36,3),e.k0s(),e.j41(68,"div",37)(69,"a",38),e.qSk(),e.j41(70,"svg",39),e.nrm(71,"path",40),e.k0s(),e.EFF(72," +32 (0)2 887 64 35 "),e.k0s(),e.joV(),e.j41(73,"div",41)(74,"a",42),e.qSk(),e.j41(75,"svg",39),e.nrm(76,"path",43),e.k0s(),e.EFF(77," Client "),e.k0s(),e.joV(),e.j41(78,"a",44),e.qSk(),e.j41(79,"svg",39),e.nrm(80,"path",45),e.k0s(),e.EFF(81," Corporate "),e.k0s()()()(),e.joV(),e.j41(82,"button",46),e.bIt("click",function(){return e.eBV(B),e.Njj(h.toggleMenu())}),e.DNE(83,Pu,2,0,"svg",47)(84,fs,2,0,"svg",47),e.k0s()()(),e.DNE(85,ju,30,19,"div",48),e.k0s()}2&g&&(e.R7$(10),e.Y8G("routerLinkActiveOptions",e.lJ4(24,ga)),e.BMQ("aria-current","page"),e.R7$(4),e.BMQ("aria-expanded",h.showMentionsLegalesSubMenu),e.R7$(5),e.Y8G("ngClass",e.l_i(25,ra,h.showMentionsLegalesSubMenu,!h.showMentionsLegalesSubMenu)),e.R7$(),e.Y8G("routerLinkActiveOptions",e.lJ4(28,ga)),e.R7$(9),e.Y8G("ngClass",e.l_i(29,ra,h.showParticulierSubMenu,!h.showParticulierSubMenu)),e.R7$(),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(9),e.Y8G("ngClass",e.l_i(32,ra,h.showProfessionelSubMenu,!h.showProfessionelSubMenu)),e.R7$(),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(3),e.BMQ("aria-current","page"),e.R7$(19),e.BMQ("aria-expanded",h.isMenuVisible),e.R7$(),e.Y8G("ngIf",!h.isMenuVisible),e.R7$(),e.Y8G("ngIf",h.isMenuVisible),e.R7$(),e.Y8G("ngIf",h.isMenuVisible))},dependencies:[U.MD,U.YU,U.bT,Z.Wk,Z.wQ],encapsulation:2})}return p})(),Op=(()=>{class p{scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}static \u0275fac=function(g){return new(g||p)};static \u0275cmp=e.VBU({type:p,selectors:[["app-footer"]],standalone:!0,features:[e.aNF],decls:25,vars:0,consts:[[1,"footer"],[1,"container"],[1,"footer-nav"],["routerLink","/particulier"],["routerLink","/professionnel"],["routerLink","/contact"],[1,"social-icons"],["href","https://facebook.com","target","_blank","aria-label","Facebook"],[1,"fab","fa-facebook-f"],["href","https://instagram.com","target","_blank","aria-label","Instagram"],[1,"fab","fa-instagram"],["href","https://linkedin.com","target","_blank","aria-label","LinkedIn"],[1,"fab","fa-linkedin-in"],["href","https://wa.me/32487757115","target","_blank","aria-label","WhatsApp"],[1,"fab","fa-whatsapp"],["aria-label","Remonter en haut",1,"scroll-to-top",3,"click"],[1,"fas","fa-arrow-up"],[1,"copyright"]],template:function(g,h){1&g&&(e.j41(0,"footer",0)(1,"div",1)(2,"ul",2)(3,"li")(4,"a",3),e.EFF(5,"Particulier"),e.k0s()(),e.j41(6,"li")(7,"a",4),e.EFF(8,"Professionnel"),e.k0s()(),e.j41(9,"li")(10,"a",5),e.EFF(11,"Contact"),e.k0s()()(),e.j41(12,"div",6)(13,"a",7),e.nrm(14,"i",8),e.k0s(),e.j41(15,"a",9),e.nrm(16,"i",10),e.k0s(),e.j41(17,"a",11),e.nrm(18,"i",12),e.k0s(),e.j41(19,"a",13),e.nrm(20,"i",14),e.k0s()(),e.j41(21,"button",15),e.bIt("click",function(){return h.scrollToTop()}),e.nrm(22,"i",16),e.k0s(),e.j41(23,"p",17),e.EFF(24,"\xa9 2024 assurkin. Tous droits r\xe9serv\xe9s."),e.k0s()()())},dependencies:[Z.iI,Z.Wk],styles:[".footer[_ngcontent-%COMP%]{background-color:#343a40;color:#f8f9fa;padding:2rem 0;margin-top:2rem}.footer[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{text-align:center}.footer-nav[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;justify-content:center;gap:1.5rem;margin-bottom:1rem}.footer-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#f8f9fa;text-decoration:none;transition:color .2s}.footer-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#adb5bd}.social-icons[_ngcontent-%COMP%]{margin:1.5rem 0}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#f8f9fa;font-size:1.5rem;margin:0 .75rem;text-decoration:none;transition:color .2s;display:inline-block;width:40px;height:40px;line-height:40px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#adb5bd}.scroll-to-top[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;background-color:#4f46e5;color:#fff;border:none;border-radius:50%;width:45px;height:45px;cursor:pointer;display:flex;align-items:center;justify-content:center;z-index:1000;transition:background-color .3s ease}.scroll-to-top[_ngcontent-%COMP%]:hover{background-color:#6366f1}"]})}return p})();(0,c.B8)((()=>{class p{title="Bienvenue chez Assurkin";static \u0275fac=function(g){return new(g||p)};static \u0275cmp=e.VBU({type:p,selectors:[["app-root"]],standalone:!0,features:[e.aNF],decls:4,vars:0,consts:[[1,"container","mx-auto","mt-20","px-4"]],template:function(g,h){1&g&&(e.nrm(0,"app-navbar"),e.j41(1,"main",0),e.nrm(2,"router-outlet"),e.k0s(),e.nrm(3,"app-footer"))},dependencies:[Z.n3,Yl,Op],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-height:100vh}main[_ngcontent-%COMP%]{flex:1}"]})}return p})(),ql).catch(p=>console.error(p))},5958:(ot,_e,M)=>{"use strict";var c=M(9293).default;Object.defineProperty(_e,"__esModule",{value:!0});const Z=M(1635).__importDefault(M(4659));_e.default=class e{constructor(G){var F,J;this.shouldThrowOnError=!1,this.method=G.method,this.url=G.url,this.headers=new Headers(G.headers),this.schema=G.schema,this.body=G.body,this.shouldThrowOnError=null!==(F=G.shouldThrowOnError)&&void 0!==F&&F,this.signal=G.signal,this.isMaybeSingle=null!==(J=G.isMaybeSingle)&&void 0!==J&&J,this.fetch=G.fetch?G.fetch:fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(G,F){return this.headers=new Headers(this.headers),this.headers.set(G,F),this}then(G,F){var J=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let fe=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(function(){var te=c(function*(ge){var Le,xe,Xe,W;let K=null,le=null,De=null,Fe=ge.status,be=ge.statusText;if(ge.ok){if("HEAD"!==J.method){const $e=yield ge.text();""===$e||(le="text/csv"===J.headers.get("Accept")||J.headers.get("Accept")&&null!==(Le=J.headers.get("Accept"))&&void 0!==Le&&Le.includes("application/vnd.pgrst.plan+text")?$e:JSON.parse($e))}const Ze=null===(xe=J.headers.get("Prefer"))||void 0===xe?void 0:xe.match(/count=(exact|planned|estimated)/),pt=null===(Xe=ge.headers.get("content-range"))||void 0===Xe?void 0:Xe.split("/");Ze&&pt&&pt.length>1&&(De=parseInt(pt[1])),J.isMaybeSingle&&"GET"===J.method&&Array.isArray(le)&&(le.length>1?(K={code:"PGRST116",details:`Results contain ${le.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},le=null,De=null,Fe=406,be="Not Acceptable"):le=1===le.length?le[0]:null)}else{const Ze=yield ge.text();try{K=JSON.parse(Ze),Array.isArray(K)&&404===ge.status&&(le=[],K=null,Fe=200,be="OK")}catch{404===ge.status&&""===Ze?(Fe=204,be="No Content"):K={message:Ze}}if(K&&J.isMaybeSingle&&!(null===(W=K?.details)||void 0===W)&&W.includes("0 rows")&&(K=null,Fe=200,be="OK"),K&&J.shouldThrowOnError)throw new Z.default(K)}return{error:K,data:le,count:De,status:Fe,statusText:be}});return function(ge){return te.apply(this,arguments)}}());return this.shouldThrowOnError||(fe=fe.catch(te=>{var ge,Le,xe;return{error:{message:`${null!==(ge=te?.name)&&void 0!==ge?ge:"FetchError"}: ${te?.message}`,details:`${null!==(Le=te?.stack)&&void 0!==Le?Le:""}`,hint:"",code:`${null!==(xe=te?.code)&&void 0!==xe?xe:""}`},data:null,count:null,status:0,statusText:""}})),fe.then(G,F)}returns(){return this}overrideTypes(){return this}}},3242:(ot,_e,M)=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});const c=M(1635),V=c.__importDefault(M(8666)),Z=c.__importDefault(M(3608));class e{constructor(G,{headers:F={},schema:J,fetch:me}={}){this.url=G,this.headers=new Headers(F),this.schemaName=J,this.fetch=me}from(G){const F=new URL(`${this.url}/${G}`);return new V.default(F,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(G){return new e(this.url,{headers:this.headers,schema:G,fetch:this.fetch})}rpc(G,F={},{head:J=!1,get:me=!1,count:fe}={}){var te;let ge;const Le=new URL(`${this.url}/rpc/${G}`);let xe;J||me?(ge=J?"HEAD":"GET",Object.entries(F).filter(([W,K])=>void 0!==K).map(([W,K])=>[W,Array.isArray(K)?`{${K.join(",")}}`:`${K}`]).forEach(([W,K])=>{Le.searchParams.append(W,K)})):(ge="POST",xe=F);const Xe=new Headers(this.headers);return fe&&Xe.set("Prefer",`count=${fe}`),new Z.default({method:ge,url:Le,headers:Xe,schema:this.schemaName,body:xe,fetch:null!==(te=this.fetch)&&void 0!==te?te:fetch})}}_e.default=e},4659:(ot,_e)=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});class M extends Error{constructor(V){super(V.message),this.name="PostgrestError",this.details=V.details,this.hint=V.hint,this.code=V.code}}_e.default=M},3608:(ot,_e,M)=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});const V=M(1635).__importDefault(M(3342)),Z=new RegExp("[,()]");_e.default=class e extends V.default{eq(G,F){return this.url.searchParams.append(G,`eq.${F}`),this}neq(G,F){return this.url.searchParams.append(G,`neq.${F}`),this}gt(G,F){return this.url.searchParams.append(G,`gt.${F}`),this}gte(G,F){return this.url.searchParams.append(G,`gte.${F}`),this}lt(G,F){return this.url.searchParams.append(G,`lt.${F}`),this}lte(G,F){return this.url.searchParams.append(G,`lte.${F}`),this}like(G,F){return this.url.searchParams.append(G,`like.${F}`),this}likeAllOf(G,F){return this.url.searchParams.append(G,`like(all).{${F.join(",")}}`),this}likeAnyOf(G,F){return this.url.searchParams.append(G,`like(any).{${F.join(",")}}`),this}ilike(G,F){return this.url.searchParams.append(G,`ilike.${F}`),this}ilikeAllOf(G,F){return this.url.searchParams.append(G,`ilike(all).{${F.join(",")}}`),this}ilikeAnyOf(G,F){return this.url.searchParams.append(G,`ilike(any).{${F.join(",")}}`),this}is(G,F){return this.url.searchParams.append(G,`is.${F}`),this}in(G,F){const J=Array.from(new Set(F)).map(me=>"string"==typeof me&&Z.test(me)?`"${me}"`:`${me}`).join(",");return this.url.searchParams.append(G,`in.(${J})`),this}contains(G,F){return"string"==typeof F?this.url.searchParams.append(G,`cs.${F}`):Array.isArray(F)?this.url.searchParams.append(G,`cs.{${F.join(",")}}`):this.url.searchParams.append(G,`cs.${JSON.stringify(F)}`),this}containedBy(G,F){return"string"==typeof F?this.url.searchParams.append(G,`cd.${F}`):Array.isArray(F)?this.url.searchParams.append(G,`cd.{${F.join(",")}}`):this.url.searchParams.append(G,`cd.${JSON.stringify(F)}`),this}rangeGt(G,F){return this.url.searchParams.append(G,`sr.${F}`),this}rangeGte(G,F){return this.url.searchParams.append(G,`nxl.${F}`),this}rangeLt(G,F){return this.url.searchParams.append(G,`sl.${F}`),this}rangeLte(G,F){return this.url.searchParams.append(G,`nxr.${F}`),this}rangeAdjacent(G,F){return this.url.searchParams.append(G,`adj.${F}`),this}overlaps(G,F){return this.url.searchParams.append(G,"string"==typeof F?`ov.${F}`:`ov.{${F.join(",")}}`),this}textSearch(G,F,{config:J,type:me}={}){let fe="";return"plain"===me?fe="pl":"phrase"===me?fe="ph":"websearch"===me&&(fe="w"),this.url.searchParams.append(G,`${fe}fts${void 0===J?"":`(${J})`}.${F}`),this}match(G){return Object.entries(G).forEach(([F,J])=>{this.url.searchParams.append(F,`eq.${J}`)}),this}not(G,F,J){return this.url.searchParams.append(G,`not.${F}.${J}`),this}or(G,{foreignTable:F,referencedTable:J=F}={}){return this.url.searchParams.append(J?`${J}.or`:"or",`(${G})`),this}filter(G,F,J){return this.url.searchParams.append(G,`${F}.${J}`),this}}},8666:(ot,_e,M)=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});const V=M(1635).__importDefault(M(3608));_e.default=class Z{constructor(U,{headers:G={},schema:F,fetch:J}){this.url=U,this.headers=new Headers(G),this.schema=F,this.fetch=J}select(U,G){const{head:F=!1,count:J}=G??{},me=F?"HEAD":"GET";let fe=!1;const te=(U??"*").split("").map(ge=>/\s/.test(ge)&&!fe?"":('"'===ge&&(fe=!fe),ge)).join("");return this.url.searchParams.set("select",te),J&&this.headers.append("Prefer",`count=${J}`),new V.default({method:me,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(U,{count:G,defaultToNull:F=!0}={}){var J;if(G&&this.headers.append("Prefer",`count=${G}`),F||this.headers.append("Prefer","missing=default"),Array.isArray(U)){const fe=U.reduce((te,ge)=>te.concat(Object.keys(ge)),[]);if(fe.length>0){const te=[...new Set(fe)].map(ge=>`"${ge}"`);this.url.searchParams.set("columns",te.join(","))}}return new V.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:U,fetch:null!==(J=this.fetch)&&void 0!==J?J:fetch})}upsert(U,{onConflict:G,ignoreDuplicates:F=!1,count:J,defaultToNull:me=!0}={}){var fe;if(this.headers.append("Prefer",`resolution=${F?"ignore":"merge"}-duplicates`),void 0!==G&&this.url.searchParams.set("on_conflict",G),J&&this.headers.append("Prefer",`count=${J}`),me||this.headers.append("Prefer","missing=default"),Array.isArray(U)){const ge=U.reduce((Le,xe)=>Le.concat(Object.keys(xe)),[]);if(ge.length>0){const Le=[...new Set(ge)].map(xe=>`"${xe}"`);this.url.searchParams.set("columns",Le.join(","))}}return new V.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:U,fetch:null!==(fe=this.fetch)&&void 0!==fe?fe:fetch})}update(U,{count:G}={}){var F;return G&&this.headers.append("Prefer",`count=${G}`),new V.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:U,fetch:null!==(F=this.fetch)&&void 0!==F?F:fetch})}delete({count:U}={}){var G;return U&&this.headers.append("Prefer",`count=${U}`),new V.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(G=this.fetch)&&void 0!==G?G:fetch})}}},3342:(ot,_e,M)=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});const V=M(1635).__importDefault(M(5958));_e.default=class Z extends V.default{select(U){let G=!1;const F=(U??"*").split("").map(J=>/\s/.test(J)&&!G?"":('"'===J&&(G=!G),J)).join("");return this.url.searchParams.set("select",F),this.headers.append("Prefer","return=representation"),this}order(U,{ascending:G=!0,nullsFirst:F,foreignTable:J,referencedTable:me=J}={}){const fe=me?`${me}.order`:"order",te=this.url.searchParams.get(fe);return this.url.searchParams.set(fe,`${te?`${te},`:""}${U}.${G?"asc":"desc"}${void 0===F?"":F?".nullsfirst":".nullslast"}`),this}limit(U,{foreignTable:G,referencedTable:F=G}={}){return this.url.searchParams.set(typeof F>"u"?"limit":`${F}.limit`,`${U}`),this}range(U,G,{foreignTable:F,referencedTable:J=F}={}){const fe=typeof J>"u"?"limit":`${J}.limit`;return this.url.searchParams.set(typeof J>"u"?"offset":`${J}.offset`,`${U}`),this.url.searchParams.set(fe,""+(G-U+1)),this}abortSignal(U){return this.signal=U,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.headers.set("Accept","GET"===this.method?"application/json":"application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:U=!1,verbose:G=!1,settings:F=!1,buffers:J=!1,wal:me=!1,format:fe="text"}={}){var te;const ge=[U?"analyze":null,G?"verbose":null,F?"settings":null,J?"buffers":null,me?"wal":null].filter(Boolean).join("|"),Le=null!==(te=this.headers.get("Accept"))&&void 0!==te?te:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${fe}; for="${Le}"; options=${ge};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(U){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${U}`),this}}},4060:(ot,_e,M)=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.PostgrestError=_e.PostgrestBuilder=_e.PostgrestTransformBuilder=_e.PostgrestFilterBuilder=_e.PostgrestQueryBuilder=_e.PostgrestClient=void 0;const c=M(1635),V=c.__importDefault(M(3242));_e.PostgrestClient=V.default;const Z=c.__importDefault(M(8666));_e.PostgrestQueryBuilder=Z.default;const e=c.__importDefault(M(3608));_e.PostgrestFilterBuilder=e.default;const U=c.__importDefault(M(3342));_e.PostgrestTransformBuilder=U.default;const G=c.__importDefault(M(5958));_e.PostgrestBuilder=G.default;const F=c.__importDefault(M(4659));_e.PostgrestError=F.default,_e.default={PostgrestClient:V.default,PostgrestQueryBuilder:Z.default,PostgrestFilterBuilder:e.default,PostgrestTransformBuilder:U.default,PostgrestBuilder:G.default,PostgrestError:F.default}},6580:(ot,_e,M)=>{"use strict";M.d(_e,{UU:()=>Mn});var c=M(467),V=M(1635);class e extends Error{constructor(d,u="FunctionsError",f){super(d),this.name=u,this.context=f}}class U extends e{constructor(d){super("Failed to send a request to the Edge Function","FunctionsFetchError",d)}}class G extends e{constructor(d){super("Relay Error invoking the Edge Function","FunctionsRelayError",d)}}class F extends e{constructor(d){super("Edge Function returned a non-2xx status code","FunctionsHttpError",d)}}var J=function(C){return C.Any="any",C.ApNortheast1="ap-northeast-1",C.ApNortheast2="ap-northeast-2",C.ApSouth1="ap-south-1",C.ApSoutheast1="ap-southeast-1",C.ApSoutheast2="ap-southeast-2",C.CaCentral1="ca-central-1",C.EuCentral1="eu-central-1",C.EuWest1="eu-west-1",C.EuWest2="eu-west-2",C.EuWest3="eu-west-3",C.SaEast1="sa-east-1",C.UsEast1="us-east-1",C.UsWest1="us-west-1",C.UsWest2="us-west-2",C}(J||{});class me{constructor(d,{headers:u={},customFetch:f,region:E=J.Any}={}){var C;this.url=d,this.headers=u,this.region=E,this.fetch=(C=f)?(...d)=>C(...d):(...d)=>fetch(...d)}setAuth(d){this.headers.Authorization=`Bearer ${d}`}invoke(d){return(0,V.__awaiter)(this,arguments,void 0,function*(u,f={}){var E;let S,R;try{const{headers:$,method:q,body:Q,signal:re,timeout:we}=f;let ye={},{region:Ye}=f;Ye||(Ye=this.region);const Be=new URL(`${this.url}/${u}`);let it;Ye&&"any"!==Ye&&(ye["x-region"]=Ye,Be.searchParams.set("forceFunctionRegion",Ye)),Q&&($&&!Object.prototype.hasOwnProperty.call($,"Content-Type")||!$)?typeof Blob<"u"&&Q instanceof Blob||Q instanceof ArrayBuffer?(ye["Content-Type"]="application/octet-stream",it=Q):"string"==typeof Q?(ye["Content-Type"]="text/plain",it=Q):typeof FormData<"u"&&Q instanceof FormData?it=Q:(ye["Content-Type"]="application/json",it=JSON.stringify(Q)):it=Q;let nt=re;we&&(R=new AbortController,S=setTimeout(()=>R.abort(),we),re?(nt=R.signal,re.addEventListener("abort",()=>R.abort())):nt=R.signal);const wt=yield this.fetch(Be.toString(),{method:q||"POST",headers:Object.assign(Object.assign(Object.assign({},ye),this.headers),$),body:it,signal:nt}).catch(xt=>{throw new U(xt)}),Wt=wt.headers.get("x-relay-error");if(Wt&&"true"===Wt)throw new G(wt);if(!wt.ok)throw new F(wt);let Et,Kt=(null!==(E=wt.headers.get("Content-Type"))&&void 0!==E?E:"text/plain").split(";")[0].trim();return Et="application/json"===Kt?yield wt.json():"application/octet-stream"===Kt||"application/pdf"===Kt?yield wt.blob():"text/event-stream"===Kt?wt:"multipart/form-data"===Kt?yield wt.formData():yield wt.text(),{data:Et,error:null,response:wt}}catch($){return{data:null,error:$,response:$ instanceof F||$ instanceof G?$.context:void 0}}finally{S&&clearTimeout(S)}})}}var fe=M(4060),te=M.t(fe,2);const{PostgrestClient:ge}=fe||te,Fe=class De{static detectEnvironment(){var d;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&null!==(d=navigator.userAgent)&&void 0!==d&&d.includes("Vercel-Edge"))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const u=process.versions;if(u&&u.node){const E=parseInt(u.node.replace(/^v/,"").split(".")[0]);return E>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${E} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${E} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const d=this.detectEnvironment();if(d.constructor)return d.constructor;let u=d.error||"WebSocket not supported in this environment.";throw d.workaround&&(u+=`\n\nSuggested solution: ${d.workaround}`),new Error(u)}static createWebSocket(d,u){return new(this.getWebSocketConstructor())(d,u)}static isWebSocketSupported(){try{const d=this.detectEnvironment();return"native"===d.type||"ws"===d.type}catch{return!1}}};var ft=function(C){return C[C.connecting=0]="connecting",C[C.open=1]="open",C[C.closing=2]="closing",C[C.closed=3]="closed",C}(ft||{}),Pt=function(C){return C.closed="closed",C.errored="errored",C.joined="joined",C.joining="joining",C.leaving="leaving",C}(Pt||{}),Sn=function(C){return C.close="phx_close",C.error="phx_error",C.join="phx_join",C.reply="phx_reply",C.leave="phx_leave",C.access_token="access_token",C}(Sn||{}),jt=function(C){return C.websocket="websocket",C}(jt||{}),St=function(C){return C.Connecting="connecting",C.Open="open",C.Closing="closing",C.Closed="closed",C}(St||{});class dr{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(d,u){return this._isArrayBuffer(d.payload)?u(this._binaryEncodePush(d)):d.event!==this.BROADCAST||d.payload instanceof ArrayBuffer||"string"!=typeof d.payload.event?u(JSON.stringify([d.join_ref,d.ref,d.topic,d.event,d.payload])):u(this._binaryEncodeUserBroadcastPush(d))}_binaryEncodePush(d){const{join_ref:u,ref:f,event:E,topic:S,payload:R}=d,q=new ArrayBuffer(this.HEADER_LENGTH+(this.META_LENGTH+u.length+f.length+S.length+E.length));let Q=new DataView(q),re=0;Q.setUint8(re++,this.KINDS.push),Q.setUint8(re++,u.length),Q.setUint8(re++,f.length),Q.setUint8(re++,S.length),Q.setUint8(re++,E.length),Array.from(u,ye=>Q.setUint8(re++,ye.charCodeAt(0))),Array.from(f,ye=>Q.setUint8(re++,ye.charCodeAt(0))),Array.from(S,ye=>Q.setUint8(re++,ye.charCodeAt(0))),Array.from(E,ye=>Q.setUint8(re++,ye.charCodeAt(0)));var we=new Uint8Array(q.byteLength+R.byteLength);return we.set(new Uint8Array(q),0),we.set(new Uint8Array(R),q.byteLength),we.buffer}_binaryEncodeUserBroadcastPush(d){var u;return this._isArrayBuffer(null===(u=d.payload)||void 0===u?void 0:u.payload)?this._encodeBinaryUserBroadcastPush(d):this._encodeJsonUserBroadcastPush(d)}_encodeBinaryUserBroadcastPush(d){var u,f;const{join_ref:E,ref:S,topic:R}=d,$=d.payload.event,q=null!==(f=null===(u=d.payload)||void 0===u?void 0:u.payload)&&void 0!==f?f:new ArrayBuffer(0),re=new ArrayBuffer(this.HEADER_LENGTH+(this.USER_BROADCAST_PUSH_META_LENGTH+E.length+S.length+R.length+$.length));let we=new DataView(re),ye=0;we.setUint8(ye++,this.KINDS.userBroadcastPush),we.setUint8(ye++,E.length),we.setUint8(ye++,S.length),we.setUint8(ye++,R.length),we.setUint8(ye++,$.length),we.setUint8(ye++,this.BINARY_ENCODING),Array.from(E,Be=>we.setUint8(ye++,Be.charCodeAt(0))),Array.from(S,Be=>we.setUint8(ye++,Be.charCodeAt(0))),Array.from(R,Be=>we.setUint8(ye++,Be.charCodeAt(0))),Array.from($,Be=>we.setUint8(ye++,Be.charCodeAt(0)));var Ye=new Uint8Array(re.byteLength+q.byteLength);return Ye.set(new Uint8Array(re),0),Ye.set(new Uint8Array(q),re.byteLength),Ye.buffer}_encodeJsonUserBroadcastPush(d){var u,f;const{join_ref:E,ref:S,topic:R}=d,$=d.payload.event,q=null!==(f=null===(u=d.payload)||void 0===u?void 0:u.payload)&&void 0!==f?f:{},re=(new TextEncoder).encode(JSON.stringify(q)).buffer,ye=new ArrayBuffer(this.HEADER_LENGTH+(this.USER_BROADCAST_PUSH_META_LENGTH+E.length+S.length+R.length+$.length));let Ye=new DataView(ye),Be=0;Ye.setUint8(Be++,this.KINDS.userBroadcastPush),Ye.setUint8(Be++,E.length),Ye.setUint8(Be++,S.length),Ye.setUint8(Be++,R.length),Ye.setUint8(Be++,$.length),Ye.setUint8(Be++,this.JSON_ENCODING),Array.from(E,nt=>Ye.setUint8(Be++,nt.charCodeAt(0))),Array.from(S,nt=>Ye.setUint8(Be++,nt.charCodeAt(0))),Array.from(R,nt=>Ye.setUint8(Be++,nt.charCodeAt(0))),Array.from($,nt=>Ye.setUint8(Be++,nt.charCodeAt(0)));var it=new Uint8Array(ye.byteLength+re.byteLength);return it.set(new Uint8Array(ye),0),it.set(new Uint8Array(re),ye.byteLength),it.buffer}decode(d,u){if(this._isArrayBuffer(d))return u(this._binaryDecode(d));if("string"==typeof d){const f=JSON.parse(d),[E,S,R,$,q]=f;return u({join_ref:E,ref:S,topic:R,event:$,payload:q})}return u({})}_binaryDecode(d){const u=new DataView(d),f=u.getUint8(0),E=new TextDecoder;switch(f){case this.KINDS.push:return this._decodePush(d,u,E);case this.KINDS.reply:return this._decodeReply(d,u,E);case this.KINDS.broadcast:return this._decodeBroadcast(d,u,E);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(d,u,E)}}_decodePush(d,u,f){const E=u.getUint8(1),S=u.getUint8(2),R=u.getUint8(3);let $=this.HEADER_LENGTH+this.META_LENGTH-1;const q=f.decode(d.slice($,$+E));$+=E;const Q=f.decode(d.slice($,$+S));$+=S;const re=f.decode(d.slice($,$+R));return $+=R,{join_ref:q,ref:null,topic:Q,event:re,payload:JSON.parse(f.decode(d.slice($,d.byteLength)))}}_decodeReply(d,u,f){const E=u.getUint8(1),S=u.getUint8(2),R=u.getUint8(3),$=u.getUint8(4);let q=this.HEADER_LENGTH+this.META_LENGTH;const Q=f.decode(d.slice(q,q+E));q+=E;const re=f.decode(d.slice(q,q+S));q+=S;const we=f.decode(d.slice(q,q+R));q+=R;const ye=f.decode(d.slice(q,q+$));q+=$;const Ye=JSON.parse(f.decode(d.slice(q,d.byteLength)));return{join_ref:Q,ref:re,topic:we,event:Sn.reply,payload:{status:ye,response:Ye}}}_decodeBroadcast(d,u,f){const E=u.getUint8(1),S=u.getUint8(2);let R=this.HEADER_LENGTH+2;const $=f.decode(d.slice(R,R+E));R+=E;const q=f.decode(d.slice(R,R+S));return R+=S,{join_ref:null,ref:null,topic:$,event:q,payload:JSON.parse(f.decode(d.slice(R,d.byteLength)))}}_decodeUserBroadcast(d,u,f){const E=u.getUint8(1),S=u.getUint8(2),R=u.getUint8(3),$=u.getUint8(4);let q=this.HEADER_LENGTH+4;const Q=f.decode(d.slice(q,q+E));q+=E;const re=f.decode(d.slice(q,q+S));q+=S;const we=f.decode(d.slice(q,q+R));q+=R;const ye=d.slice(q,d.byteLength),Ye=$===this.JSON_ENCODING?JSON.parse(f.decode(ye)):ye,Be={type:this.BROADCAST,event:re,payload:Ye};return R>0&&(Be.meta=JSON.parse(we)),{join_ref:null,ref:null,topic:Q,event:this.BROADCAST,payload:Be}}_isArrayBuffer(d){var u;return d instanceof ArrayBuffer||"ArrayBuffer"===(null===(u=d?.constructor)||void 0===u?void 0:u.name)}}class fr{constructor(d,u){this.callback=d,this.timerCalc=u,this.timer=void 0,this.tries=0,this.callback=d,this.timerCalc=u}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var mn=function(C){return C.abstime="abstime",C.bool="bool",C.date="date",C.daterange="daterange",C.float4="float4",C.float8="float8",C.int2="int2",C.int4="int4",C.int4range="int4range",C.int8="int8",C.int8range="int8range",C.json="json",C.jsonb="jsonb",C.money="money",C.numeric="numeric",C.oid="oid",C.reltime="reltime",C.text="text",C.time="time",C.timestamp="timestamp",C.timestamptz="timestamptz",C.timetz="timetz",C.tsrange="tsrange",C.tstzrange="tstzrange",C}(mn||{});const Se=(C,d,u={})=>{var f;const E=null!==(f=u.skipTypes)&&void 0!==f?f:[];return d?Object.keys(d).reduce((S,R)=>(S[R]=Me(R,C,d,E),S),{}):{}},Me=(C,d,u,f)=>{const E=d.find($=>$.name===C),S=E?.type,R=u[C];return S&&!f.includes(S)?Oe(S,R):Ae(R)},Oe=(C,d)=>{if("_"===C.charAt(0)){const u=C.slice(1,C.length);return un(d,u)}switch(C){case mn.bool:return Je(d);case mn.float4:case mn.float8:case mn.int2:case mn.int4:case mn.int8:case mn.numeric:case mn.oid:return Pe(d);case mn.json:case mn.jsonb:return gt(d);case mn.timestamp:return En(d);default:return Ae(d)}},Ae=C=>C,Je=C=>{switch(C){case"t":return!0;case"f":return!1;default:return C}},Pe=C=>{if("string"==typeof C){const d=parseFloat(C);if(!Number.isNaN(d))return d}return C},gt=C=>{if("string"==typeof C)try{return JSON.parse(C)}catch(d){return console.log(`JSON parse error: ${d}`),C}return C},un=(C,d)=>{if("string"!=typeof C)return C;const u=C.length-1;if("{"===C[0]&&"}"===C[u]){let S;const R=C.slice(1,u);try{S=JSON.parse("["+R+"]")}catch{S=R?R.split(","):[]}return S.map($=>Oe(d,$))}return C},En=C=>"string"==typeof C?C.replace(" ","T"):C,It=C=>{const d=new URL(C);return d.protocol=d.protocol.replace(/^ws/i,"http"),d.pathname=d.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),d.pathname=""===d.pathname||"/"===d.pathname?"/api/broadcast":d.pathname+"/api/broadcast",d.href};class gn{constructor(d,u,f={},E=1e4){this.channel=d,this.event=u,this.payload=f,this.timeout=E,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(d){this.timeout=d,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(d){this.payload=Object.assign(Object.assign({},this.payload),d)}receive(d,u){var f;return this._hasReceived(d)&&u(null===(f=this.receivedResp)||void 0===f?void 0:f.response),this.recHooks.push({status:d,callback:u}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},u=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=u,this._matchReceive(u)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(d,u){this.refEvent&&this.channel._trigger(this.refEvent,{status:d,response:u})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:d,response:u}){this.recHooks.filter(f=>f.status===d).forEach(f=>f.callback(u))}_hasReceived(d){return this.receivedResp&&this.receivedResp.status===d}}class xn{constructor(d,u){this.channel=d,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const f=u?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(f.state,{},E=>{const{onJoin:S,onLeave:R,onSync:$}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xn.syncState(this.state,E,S,R),this.pendingDiffs.forEach(q=>{this.state=xn.syncDiff(this.state,q,S,R)}),this.pendingDiffs=[],$()}),this.channel._on(f.diff,{},E=>{const{onJoin:S,onLeave:R,onSync:$}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(E):(this.state=xn.syncDiff(this.state,E,S,R),$())}),this.onJoin((E,S,R)=>{this.channel._trigger("presence",{event:"join",key:E,currentPresences:S,newPresences:R})}),this.onLeave((E,S,R)=>{this.channel._trigger("presence",{event:"leave",key:E,currentPresences:S,leftPresences:R})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(d,u,f,E){const S=this.cloneDeep(d),R=this.transformState(u),$={},q={};return this.map(S,(Q,re)=>{R[Q]||(q[Q]=re)}),this.map(R,(Q,re)=>{const we=S[Q];if(we){const ye=re.map(nt=>nt.presence_ref),Ye=we.map(nt=>nt.presence_ref),Be=re.filter(nt=>Ye.indexOf(nt.presence_ref)<0),it=we.filter(nt=>ye.indexOf(nt.presence_ref)<0);Be.length>0&&($[Q]=Be),it.length>0&&(q[Q]=it)}else $[Q]=re}),this.syncDiff(S,{joins:$,leaves:q},f,E)}static syncDiff(d,u,f,E){const{joins:S,leaves:R}={joins:this.transformState(u.joins),leaves:this.transformState(u.leaves)};return f||(f=()=>{}),E||(E=()=>{}),this.map(S,($,q)=>{var Q;const re=null!==(Q=d[$])&&void 0!==Q?Q:[];if(d[$]=this.cloneDeep(q),re.length>0){const we=d[$].map(Ye=>Ye.presence_ref),ye=re.filter(Ye=>we.indexOf(Ye.presence_ref)<0);d[$].unshift(...ye)}f($,re,q)}),this.map(R,($,q)=>{let Q=d[$];if(!Q)return;const re=q.map(we=>we.presence_ref);Q=Q.filter(we=>re.indexOf(we.presence_ref)<0),d[$]=Q,E($,Q,q),0===Q.length&&delete d[$]}),d}static map(d,u){return Object.getOwnPropertyNames(d).map(f=>u(f,d[f]))}static transformState(d){return d=this.cloneDeep(d),Object.getOwnPropertyNames(d).reduce((u,f)=>{const E=d[f];return u[f]="metas"in E?E.metas.map(S=>(S.presence_ref=S.phx_ref,delete S.phx_ref,delete S.phx_ref_prev,S)):E,u},{})}static cloneDeep(d){return JSON.parse(JSON.stringify(d))}onJoin(d){this.caller.onJoin=d}onLeave(d){this.caller.onLeave=d}onSync(d){this.caller.onSync=d}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Zt=function(C){return C.BROADCAST="broadcast",C.PRESENCE="presence",C.POSTGRES_CHANGES="postgres_changes",C.SYSTEM="system",C}(Zt||{}),hn=function(C){return C.SUBSCRIBED="SUBSCRIBED",C.TIMED_OUT="TIMED_OUT",C.CLOSED="CLOSED",C.CHANNEL_ERROR="CHANNEL_ERROR",C}(hn||{});class et{constructor(d,u={config:{}},f){var E,S;if(this.topic=d,this.params=u,this.socket=f,this.bindings={},this.state=Pt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=d.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},u.config),this.timeout=this.socket.timeout,this.joinPush=new gn(this,Sn.join,this.params,this.timeout),this.rejoinTimer=new fr(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(R=>R.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pt.closed,this.socket._remove(this)}),this._onError(R=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,R),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",R=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,R),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Sn.reply,{},(R,$)=>{this._trigger(this._replyEventName($),R)}),this.presence=new xn(this),this.broadcastEndpointURL=It(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&null!==(S=null===(E=this.params.config)||void 0===E?void 0:E.broadcast)&&void 0!==S&&S.replay)throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(d,u=this.timeout){var E,S,R,f=this;if(this.socket.isConnected()||this.socket.connect(),this.state==Pt.closed){const{config:{broadcast:$,presence:q,private:Q}}=this.params,re=null!==(S=null===(E=this.bindings.postgres_changes)||void 0===E?void 0:E.map(Be=>Be.filter))&&void 0!==S?S:[],we=!!this.bindings[Zt.PRESENCE]&&this.bindings[Zt.PRESENCE].length>0||!0===(null===(R=this.params.config.presence)||void 0===R?void 0:R.enabled),ye={},Ye={broadcast:$,presence:Object.assign(Object.assign({},q),{enabled:we}),postgres_changes:re,private:Q};this.socket.accessTokenValue&&(ye.access_token=this.socket.accessTokenValue),this._onError(Be=>d?.(hn.CHANNEL_ERROR,Be)),this._onClose(()=>d?.(hn.CLOSED)),this.updateJoinPayload(Object.assign({config:Ye},ye)),this.joinedOnce=!0,this._rejoin(u),this.joinPush.receive("ok",function(){var Be=(0,c.A)(function*({postgres_changes:it}){var nt;if(f.socket.setAuth(),void 0!==it){const wt=f.bindings.postgres_changes,Wt=null!==(nt=wt?.length)&&void 0!==nt?nt:0,Kt=[];for(let Et=0;Et<Wt;Et++){const xt=wt[Et],{filter:{event:bn,schema:Nr,table:dn,filter:lt}}=xt,Ro=it&&it[Et];if(!Ro||Ro.event!==bn||Ro.schema!==Nr||Ro.table!==dn||Ro.filter!==lt)return f.unsubscribe(),f.state=Pt.errored,void d?.(hn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));Kt.push(Object.assign(Object.assign({},xt),{id:Ro.id}))}return f.bindings.postgres_changes=Kt,void(d&&d(hn.SUBSCRIBED))}d?.(hn.SUBSCRIBED)});return function(it){return Be.apply(this,arguments)}}()).receive("error",Be=>{this.state=Pt.errored,d?.(hn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(Be).join(", ")||"error")))}).receive("timeout",()=>{d?.(hn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(d){var u=this;return(0,c.A)(function*(f,E={}){return yield u.send({type:"presence",event:"track",payload:f},E.timeout||u.timeout)}).apply(this,arguments)}untrack(){var d=this;return(0,c.A)(function*(u={}){return yield d.send({type:"presence",event:"untrack"},u)}).apply(this,arguments)}on(d,u,f){return this.state===Pt.joined&&d===Zt.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(d,u,f)}httpSend(d,u){var f=this;return(0,c.A)(function*(E,S,R={}){var $;const q=f.socket.accessTokenValue?`Bearer ${f.socket.accessTokenValue}`:"";if(null==S)return Promise.reject("Payload is required for httpSend()");const Q={method:"POST",headers:{Authorization:q,apikey:f.socket.apiKey?f.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:f.subTopic,event:E,payload:S,private:f.private}]})},re=yield f._fetchWithTimeout(f.broadcastEndpointURL,Q,null!==($=R.timeout)&&void 0!==$?$:f.timeout);if(202===re.status)return{success:!0};let we=re.statusText;try{const ye=yield re.json();we=ye.error||ye.message||we}catch{}return Promise.reject(new Error(we))}).apply(this,arguments)}send(d){var u=this;return(0,c.A)(function*(f,E={}){var S,R;if(u._canPush()||"broadcast"!==f.type)return new Promise($=>{var q,Q,re;const we=u._push(f.type,f,E.timeout||u.timeout);"broadcast"===f.type&&!(null!==(re=null===(Q=null===(q=u.params)||void 0===q?void 0:q.config)||void 0===Q?void 0:Q.broadcast)&&void 0!==re&&re.ack)&&$("ok"),we.receive("ok",()=>$("ok")),we.receive("error",()=>$("error")),we.receive("timeout",()=>$("timed out"))});{console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:$,payload:q}=f,re={method:"POST",headers:{Authorization:u.socket.accessTokenValue?`Bearer ${u.socket.accessTokenValue}`:"",apikey:u.socket.apiKey?u.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:u.subTopic,event:$,payload:q,private:u.private}]})};try{const we=yield u._fetchWithTimeout(u.broadcastEndpointURL,re,null!==(S=E.timeout)&&void 0!==S?S:u.timeout);return yield null===(R=we.body)||void 0===R?void 0:R.cancel(),we.ok?"ok":"error"}catch(we){return"AbortError"===we.name?"timed out":"error"}}}).apply(this,arguments)}updateJoinPayload(d){this.joinPush.updatePayload(d)}unsubscribe(d=this.timeout){this.state=Pt.leaving;const u=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Sn.close,"leave",this._joinRef())};this.joinPush.destroy();let f=null;return new Promise(E=>{f=new gn(this,Sn.leave,{},d),f.receive("ok",()=>{u(),E("ok")}).receive("timeout",()=>{u(),E("timed out")}).receive("error",()=>{E("error")}),f.send(),this._canPush()||f.trigger("ok",{})}).finally(()=>{f?.destroy()})}teardown(){this.pushBuffer.forEach(d=>d.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Pt.closed,this.bindings={}}_fetchWithTimeout(d,u,f){var E=this;return(0,c.A)(function*(){const S=new AbortController,R=setTimeout(()=>S.abort(),f),$=yield E.socket.fetch(d,Object.assign(Object.assign({},u),{signal:S.signal}));return clearTimeout(R),$})()}_push(d,u,f=this.timeout){if(!this.joinedOnce)throw`tried to push '${d}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let E=new gn(this,d,u,f);return this._canPush()?E.send():this._addToPushBuffer(E),E}_addToPushBuffer(d){if(d.startTimeout(),this.pushBuffer.push(d),this.pushBuffer.length>100){const u=this.pushBuffer.shift();u&&(u.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${u.event}`,u.payload))}}_onMessage(d,u,f){return u}_isMember(d){return this.topic===d}_joinRef(){return this.joinPush.ref}_trigger(d,u,f){var E,S;const R=d.toLocaleLowerCase(),{close:$,error:q,leave:Q,join:re}=Sn;if(f&&[$,q,Q,re].indexOf(R)>=0&&f!==this._joinRef())return;let ye=this._onMessage(R,u,f);if(u&&!ye)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(R)?null===(E=this.bindings.postgres_changes)||void 0===E||E.filter(Ye=>{var Be,it,nt;return"*"===(null===(Be=Ye.filter)||void 0===Be?void 0:Be.event)||(null===(nt=null===(it=Ye.filter)||void 0===it?void 0:it.event)||void 0===nt?void 0:nt.toLocaleLowerCase())===R}).map(Ye=>Ye.callback(ye,f)):null===(S=this.bindings[R])||void 0===S||S.filter(Ye=>{var Be,it,nt,wt,Wt,Kt;if(["broadcast","presence","postgres_changes"].includes(R)){if("id"in Ye){const Et=Ye.id,xt=null===(Be=Ye.filter)||void 0===Be?void 0:Be.event;return Et&&(null===(it=u.ids)||void 0===it?void 0:it.includes(Et))&&("*"===xt||xt?.toLocaleLowerCase()===(null===(nt=u.data)||void 0===nt?void 0:nt.type.toLocaleLowerCase()))}{const Et=null===(Wt=null===(wt=Ye?.filter)||void 0===wt?void 0:wt.event)||void 0===Wt?void 0:Wt.toLocaleLowerCase();return"*"===Et||Et===(null===(Kt=u?.event)||void 0===Kt?void 0:Kt.toLocaleLowerCase())}}return Ye.type.toLocaleLowerCase()===R}).map(Ye=>{if("object"==typeof ye&&"ids"in ye){const Be=ye.data,{schema:it,table:nt,commit_timestamp:wt,type:Wt,errors:Kt}=Be;ye=Object.assign(Object.assign({},{schema:it,table:nt,commit_timestamp:wt,eventType:Wt,new:{},old:{},errors:Kt}),this._getPayloadRecords(Be))}Ye.callback(ye,f)})}_isClosed(){return this.state===Pt.closed}_isJoined(){return this.state===Pt.joined}_isJoining(){return this.state===Pt.joining}_isLeaving(){return this.state===Pt.leaving}_replyEventName(d){return`chan_reply_${d}`}_on(d,u,f){const E=d.toLocaleLowerCase(),S={type:E,filter:u,callback:f};return this.bindings[E]?this.bindings[E].push(S):this.bindings[E]=[S],this}_off(d,u){const f=d.toLocaleLowerCase();return this.bindings[f]&&(this.bindings[f]=this.bindings[f].filter(E=>{var S;return!((null===(S=E.type)||void 0===S?void 0:S.toLocaleLowerCase())===f&&et.isEqual(E.filter,u))})),this}static isEqual(d,u){if(Object.keys(d).length!==Object.keys(u).length)return!1;for(const f in d)if(d[f]!==u[f])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(d){this._on(Sn.close,{},d)}_onError(d){this._on(Sn.error,{},u=>d(u))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(d=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pt.joining,this.joinPush.resend(d))}_getPayloadRecords(d){const u={new:{},old:{}};return("INSERT"===d.type||"UPDATE"===d.type)&&(u.new=Se(d.columns,d.record)),("UPDATE"===d.type||"DELETE"===d.type)&&(u.old=Se(d.columns,d.old_record)),u}}const tr=()=>{},Ur=[1e3,2e3,5e3,1e4];class en{constructor(d,u){var f;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=1e4,this.transport=null,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=tr,this.ref=0,this.reconnectTimer=null,this.vsn="1.0.0",this.logger=tr,this.conn=null,this.sendBuffer=[],this.serializer=new dr,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=E=>E?(...S)=>E(...S):(...S)=>fetch(...S),null===(f=u?.params)||void 0===f||!f.apikey)throw new Error("API key is required to connect to Realtime");this.apiKey=u.params.apikey,this.endPoint=`${d}/${jt.websocket}`,this.httpEndpoint=It(d),this._initializeOptions(u),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(u?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Fe.createWebSocket(this.endpointURL())}catch(d){this._setConnectionState("disconnected");const u=d.message;throw u.includes("Node.js")?new Error(`${u}\n\nTo use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })`):new Error(`WebSocket not available: ${u}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(d,u){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const f=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(f),this._setConnectionState("disconnected")},"function"==typeof this.conn.close&&(d?this.conn.close(d,u??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(d){var u=this;return(0,c.A)(function*(){const f=yield d.unsubscribe();return 0===u.channels.length&&u.disconnect(),f})()}removeAllChannels(){var d=this;return(0,c.A)(function*(){const u=yield Promise.all(d.channels.map(f=>f.unsubscribe()));return d.channels=[],d.disconnect(),u})()}log(d,u,f){this.logger(d,u,f)}connectionState(){switch(this.conn&&this.conn.readyState){case ft.connecting:return St.Connecting;case ft.open:return St.Open;case ft.closing:return St.Closing;default:return St.Closed}}isConnected(){return this.connectionState()===St.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(d,u={config:{}}){const f=`realtime:${d}`,E=this.getChannels().find(S=>S.topic===f);if(E)return E;{const S=new et(`realtime:${d}`,u,this);return this.channels.push(S),S}}push(d){const{topic:u,event:f,payload:E,ref:S}=d,R=()=>{this.encode(d,$=>{var q;null===(q=this.conn)||void 0===q||q.send($)})};this.log("push",`${u} ${f} (${S})`,E),this.isConnected()?R():this.sendBuffer.push(R)}setAuth(){var d=this;return(0,c.A)(function*(u=null){d._authPromise=d._performAuth(u);try{yield d._authPromise}finally{d._authPromise=null}}).apply(this,arguments)}sendHeartbeat(){var d=this;return(0,c.A)(function*(){var u;if(d.isConnected()){if(d.pendingHeartbeatRef){d.pendingHeartbeatRef=null,d.log("transport","heartbeat timeout. Attempting to re-establish connection");try{d.heartbeatCallback("timeout")}catch(f){d.log("error","error in heartbeat callback",f)}return d._wasManualDisconnect=!1,null===(u=d.conn)||void 0===u||u.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var f;d.isConnected()||null===(f=d.reconnectTimer)||void 0===f||f.scheduleTimeout()},100)}d.pendingHeartbeatRef=d._makeRef(),d.push({topic:"phoenix",event:"heartbeat",payload:{},ref:d.pendingHeartbeatRef});try{d.heartbeatCallback("sent")}catch(f){d.log("error","error in heartbeat callback",f)}d._setAuthSafely("heartbeat")}else try{d.heartbeatCallback("disconnected")}catch(f){d.log("error","error in heartbeat callback",f)}})()}onHeartbeat(d){this.heartbeatCallback=d}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(d=>d()),this.sendBuffer=[])}_makeRef(){let d=this.ref+1;return this.ref=d===this.ref?0:d,this.ref.toString()}_leaveOpenTopic(d){let u=this.channels.find(f=>f.topic===d&&(f._isJoined()||f._isJoining()));u&&(this.log("transport",`leaving duplicate topic "${d}"`),u.unsubscribe())}_remove(d){this.channels=this.channels.filter(u=>u.topic!==d.topic)}_onConnMessage(d){this.decode(d.data,u=>{if("phoenix"===u.topic&&"phx_reply"===u.event)try{this.heartbeatCallback("ok"===u.payload.status?"ok":"error")}catch(Q){this.log("error","error in heartbeat callback",Q)}u.ref&&u.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:f,event:E,payload:S,ref:R}=u;this.log("receive",`${S.status||""} ${f} ${E} ${R?`(${R})`:""}`.trim(),S),this.channels.filter(Q=>Q._isMember(f)).forEach(Q=>Q._trigger(E,S,R)),this._triggerStateCallbacks("message",u)})}_clearTimer(d){var u;"heartbeat"===d&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===d&&(null===(u=this.reconnectTimer)||void 0===u||u.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=d=>this._onConnError(d),this.conn.onmessage=d=>this._onConnMessage(d),this.conn.onclose=d=>this._onConnClose(d))}_teardownConnection(){if(this.conn){if(this.conn.readyState===ft.open||this.conn.readyState===ft.connecting)try{this.conn.close()}catch(d){this.log("error","Error closing connection",d)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(d=>d.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(u=>{this.log("error","error waiting for auth on connect",u),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.log("worker",this.workerUrl?`starting worker for from ${this.workerUrl}`:"starting default worker");const d=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(d),this.workerRef.onerror=u=>{this.log("worker","worker error",u.message),this.workerRef.terminate()},this.workerRef.onmessage=u=>{"keepAlive"===u.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(d){var u;this._setConnectionState("disconnected"),this.log("transport","close",d),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(u=this.reconnectTimer)||void 0===u||u.scheduleTimeout(),this._triggerStateCallbacks("close",d)}_onConnError(d){this._setConnectionState("disconnected"),this.log("transport",`${d}`),this._triggerChanError(),this._triggerStateCallbacks("error",d)}_triggerChanError(){this.channels.forEach(d=>d._trigger(Sn.error))}_appendParams(d,u){if(0===Object.keys(u).length)return d;const f=d.match(/\?/)?"&":"?";return`${d}${f}${new URLSearchParams(u)}`}_workerObjectUrl(d){let u;if(d)u=d;else{const f=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});u=URL.createObjectURL(f)}return u}_setConnectionState(d,u=!1){this._connectionState=d,"connecting"===d?this._wasManualDisconnect=!1:"disconnecting"===d&&(this._wasManualDisconnect=u)}_performAuth(){var d=this;return(0,c.A)(function*(u=null){let f;f=u||(d.accessToken?yield d.accessToken():d.accessTokenValue),d.accessTokenValue!=f&&(d.accessTokenValue=f,d.channels.forEach(E=>{f&&E.updateJoinPayload({access_token:f,version:"realtime-js/2.81.1"}),E.joinedOnce&&E._isJoined()&&E._push(Sn.access_token,{access_token:f})}))}).apply(this,arguments)}_waitForAuthIfNeeded(){var d=this;return(0,c.A)(function*(){d._authPromise&&(yield d._authPromise)})()}_setAuthSafely(d="general"){this.setAuth().catch(u=>{this.log("error",`error setting auth in ${d}`,u)})}_triggerStateCallbacks(d,u){try{this.stateChangeCallbacks[d].forEach(f=>{try{f(u)}catch(E){this.log("error",`error in ${d} callback`,E)}})}catch(f){this.log("error",`error triggering ${d} callbacks`,f)}}_setupReconnectionTimer(){var d=this;this.reconnectTimer=new fr((0,c.A)(function*(){setTimeout((0,c.A)(function*(){yield d._waitForAuthIfNeeded(),d.isConnected()||d.connect()}),10)}),this.reconnectAfterMs)}_initializeOptions(d){var u,f,E,S,R,$,q,Q,re,we,ye,Ye;switch(this.transport=null!==(u=d?.transport)&&void 0!==u?u:null,this.timeout=null!==(f=d?.timeout)&&void 0!==f?f:1e4,this.heartbeatIntervalMs=null!==(E=d?.heartbeatIntervalMs)&&void 0!==E?E:25e3,this.worker=null!==(S=d?.worker)&&void 0!==S&&S,this.accessToken=null!==(R=d?.accessToken)&&void 0!==R?R:null,this.heartbeatCallback=null!==($=d?.heartbeatCallback)&&void 0!==$?$:tr,this.vsn=null!==(q=d?.vsn)&&void 0!==q?q:"1.0.0",d?.params&&(this.params=d.params),d?.logger&&(this.logger=d.logger),(d?.logLevel||d?.log_level)&&(this.logLevel=d.logLevel||d.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(Q=d?.reconnectAfterMs)&&void 0!==Q?Q:Be=>Ur[Be-1]||1e4,this.vsn){case"1.0.0":this.encode=null!==(re=d?.encode)&&void 0!==re?re:(Be,it)=>it(JSON.stringify(Be)),this.decode=null!==(we=d?.decode)&&void 0!==we?we:(Be,it)=>it(JSON.parse(Be));break;case"2.0.0":this.encode=null!==(ye=d?.encode)&&void 0!==ye?ye:this.serializer.encode.bind(this.serializer),this.decode=null!==(Ye=d?.decode)&&void 0!==Ye?Ye:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=d?.workerUrl}}}class Mt extends Error{constructor(d){super(d),this.__isStorageError=!0,this.name="StorageError"}}function tn(C){return"object"==typeof C&&null!==C&&"__isStorageError"in C}class Xt extends Mt{constructor(d,u,f){super(d),this.name="StorageApiError",this.status=u,this.statusCode=f}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class jn extends Mt{constructor(d,u){super(d),this.name="StorageUnknownError",this.originalError=u}}const Qr=C=>C?(...d)=>C(...d):(...d)=>fetch(...d),Br=C=>{if(Array.isArray(C))return C.map(u=>Br(u));if("function"==typeof C||C!==Object(C))return C;const d={};return Object.entries(C).forEach(([u,f])=>{const E=u.replace(/([-_][a-z])/gi,S=>S.toUpperCase().replace(/[-_]/g,""));d[E]=Br(f)}),d},nn=C=>{var d;return C.msg||C.message||C.error_description||("string"==typeof C.error?C.error:null===(d=C.error)||void 0===d?void 0:d.message)||JSON.stringify(C)},vn=(C,d,u)=>(0,V.__awaiter)(void 0,void 0,void 0,function*(){const f=yield Response;C instanceof f&&!u?.noResolveJson?C.json().then(E=>{const S=C.status||500,R=E?.statusCode||S+"";d(new Xt(nn(E),S,R))}).catch(E=>{d(new jn(nn(E),E))}):d(new jn(nn(C),C))}),jo=(C,d,u,f)=>{const E={method:C,headers:d?.headers||{}};return"GET"!==C&&f?((C=>{if("object"!=typeof C||null===C)return!1;const d=Object.getPrototypeOf(C);return!(null!==d&&d!==Object.prototype&&null!==Object.getPrototypeOf(d)||Symbol.toStringTag in C||Symbol.iterator in C)})(f)?(E.headers=Object.assign({"Content-Type":"application/json"},d?.headers),E.body=JSON.stringify(f)):E.body=f,d?.duplex&&(E.duplex=d.duplex),Object.assign(Object.assign({},E),u)):E};function Rt(C,d,u,f,E,S){return(0,V.__awaiter)(this,void 0,void 0,function*(){return new Promise((R,$)=>{C(u,jo(d,f,E,S)).then(q=>{if(!q.ok)throw q;return f?.noResolveJson?q:q.json()}).then(q=>R(q)).catch(q=>vn(q,$,f))})})}function hr(C,d,u,f){return(0,V.__awaiter)(this,void 0,void 0,function*(){return Rt(C,"GET",d,u,f)})}function Lt(C,d,u,f,E){return(0,V.__awaiter)(this,void 0,void 0,function*(){return Rt(C,"POST",d,f,E,u)})}function pr(C,d,u,f,E){return(0,V.__awaiter)(this,void 0,void 0,function*(){return Rt(C,"PUT",d,f,E,u)})}function Dn(C,d,u,f,E){return(0,V.__awaiter)(this,void 0,void 0,function*(){return Rt(C,"DELETE",d,f,E,u)})}class je{constructor(d,u){this.downloadFn=d,this.shouldThrowOnError=u}then(d,u){return this.execute().then(d,u)}execute(){return(0,V.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(tn(d))return{data:null,error:d};throw d}})}}var he;he=Symbol.toStringTag;const pe=class se{constructor(d,u){this.downloadFn=d,this.shouldThrowOnError=u,this[he]="BlobDownloadBuilder",this.promise=null}asStream(){return new je(this.downloadFn,this.shouldThrowOnError)}then(d,u){return this.getPromise().then(d,u)}catch(d){return this.getPromise().catch(d)}finally(d){return this.getPromise().finally(d)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return(0,V.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(tn(d))return{data:null,error:d};throw d}})}},qe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ct={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ot{constructor(d,u={},f,E){this.shouldThrowOnError=!1,this.url=d,this.headers=u,this.bucketId=f,this.fetch=Qr(E)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(d,u,f,E){return(0,V.__awaiter)(this,void 0,void 0,function*(){try{let S;const R=Object.assign(Object.assign({},ct),E);let $=Object.assign(Object.assign({},this.headers),"POST"===d&&{"x-upsert":String(R.upsert)});const q=R.metadata;typeof Blob<"u"&&f instanceof Blob?(S=new FormData,S.append("cacheControl",R.cacheControl),q&&S.append("metadata",this.encodeMetadata(q)),S.append("",f)):typeof FormData<"u"&&f instanceof FormData?(S=f,S.has("cacheControl")||S.append("cacheControl",R.cacheControl),q&&!S.has("metadata")&&S.append("metadata",this.encodeMetadata(q))):(S=f,$["cache-control"]=`max-age=${R.cacheControl}`,$["content-type"]=R.contentType,q&&($["x-metadata"]=this.toBase64(this.encodeMetadata(q))),(typeof ReadableStream<"u"&&S instanceof ReadableStream||S&&"object"==typeof S&&"pipe"in S&&"function"==typeof S.pipe)&&!R.duplex&&(R.duplex="half")),E?.headers&&($=Object.assign(Object.assign({},$),E.headers));const Q=this._removeEmptyFolders(u),re=this._getFinalPath(Q),we=yield("PUT"==d?pr:Lt)(this.fetch,`${this.url}/object/${re}`,S,Object.assign({headers:$},R?.duplex?{duplex:R.duplex}:{}));return{data:{path:Q,id:we.Id,fullPath:we.Key},error:null}}catch(S){if(this.shouldThrowOnError)throw S;if(tn(S))return{data:null,error:S};throw S}})}upload(d,u,f){return(0,V.__awaiter)(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",d,u,f)})}uploadToSignedUrl(d,u,f,E){return(0,V.__awaiter)(this,void 0,void 0,function*(){const S=this._removeEmptyFolders(d),R=this._getFinalPath(S),$=new URL(this.url+`/object/upload/sign/${R}`);$.searchParams.set("token",u);try{let q;const Q=Object.assign({upsert:ct.upsert},E),re=Object.assign(Object.assign({},this.headers),{"x-upsert":String(Q.upsert)});return typeof Blob<"u"&&f instanceof Blob?(q=new FormData,q.append("cacheControl",Q.cacheControl),q.append("",f)):typeof FormData<"u"&&f instanceof FormData?(q=f,q.append("cacheControl",Q.cacheControl)):(q=f,re["cache-control"]=`max-age=${Q.cacheControl}`,re["content-type"]=Q.contentType),{data:{path:S,fullPath:(yield pr(this.fetch,$.toString(),q,{headers:re})).Key},error:null}}catch(q){if(this.shouldThrowOnError)throw q;if(tn(q))return{data:null,error:q};throw q}})}createSignedUploadUrl(d,u){return(0,V.__awaiter)(this,void 0,void 0,function*(){try{let f=this._getFinalPath(d);const E=Object.assign({},this.headers);u?.upsert&&(E["x-upsert"]="true");const S=yield Lt(this.fetch,`${this.url}/object/upload/sign/${f}`,{},{headers:E}),R=new URL(this.url+S.url),$=R.searchParams.get("token");if(!$)throw new Mt("No token returned by API");return{data:{signedUrl:R.toString(),path:d,token:$},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(tn(f))return{data:null,error:f};throw f}})}update(d,u,f){return(0,V.__awaiter)(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",d,u,f)})}move(d,u,f){return(0,V.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:d,destinationKey:u,destinationBucket:f?.destinationBucket},{headers:this.headers}),error:null}}catch(E){if(this.shouldThrowOnError)throw E;if(tn(E))return{data:null,error:E};throw E}})}copy(d,u,f){return(0,V.__awaiter)(this,void 0,void 0,function*(){try{return{data:{path:(yield Lt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:d,destinationKey:u,destinationBucket:f?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(E){if(this.shouldThrowOnError)throw E;if(tn(E))return{data:null,error:E};throw E}})}createSignedUrl(d,u,f){return(0,V.__awaiter)(this,void 0,void 0,function*(){try{let E=this._getFinalPath(d),S=yield Lt(this.fetch,`${this.url}/object/sign/${E}`,Object.assign({expiresIn:u},f?.transform?{transform:f.transform}:{}),{headers:this.headers});const R=f?.download?`&download=${!0===f.download?"":f.download}`:"";return S={signedUrl:encodeURI(`${this.url}${S.signedURL}${R}`)},{data:S,error:null}}catch(E){if(this.shouldThrowOnError)throw E;if(tn(E))return{data:null,error:E};throw E}})}createSignedUrls(d,u,f){return(0,V.__awaiter)(this,void 0,void 0,function*(){try{const E=yield Lt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:u,paths:d},{headers:this.headers}),S=f?.download?`&download=${!0===f.download?"":f.download}`:"";return{data:E.map(R=>Object.assign(Object.assign({},R),{signedUrl:R.signedURL?encodeURI(`${this.url}${R.signedURL}${S}`):null})),error:null}}catch(E){if(this.shouldThrowOnError)throw E;if(tn(E))return{data:null,error:E};throw E}})}download(d,u){const E=typeof u?.transform<"u"?"render/image/authenticated":"object",S=this.transformOptsToQueryString(u?.transform||{}),R=S?`?${S}`:"",$=this._getFinalPath(d);return new pe(()=>hr(this.fetch,`${this.url}/${E}/${$}${R}`,{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}info(d){return(0,V.__awaiter)(this,void 0,void 0,function*(){const u=this._getFinalPath(d);try{const f=yield hr(this.fetch,`${this.url}/object/info/${u}`,{headers:this.headers});return{data:Br(f),error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(tn(f))return{data:null,error:f};throw f}})}exists(d){return(0,V.__awaiter)(this,void 0,void 0,function*(){const u=this._getFinalPath(d);try{return yield function Ir(C,d,u,f){return(0,V.__awaiter)(this,void 0,void 0,function*(){return Rt(C,"HEAD",d,Object.assign(Object.assign({},u),{noResolveJson:!0}),f)})}(this.fetch,`${this.url}/object/${u}`,{headers:this.headers}),{data:!0,error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(tn(f)&&f instanceof jn){const E=f.originalError;if([400,404].includes(E?.status))return{data:!1,error:f}}throw f}})}getPublicUrl(d,u){const f=this._getFinalPath(d),E=[],S=u?.download?`download=${!0===u.download?"":u.download}`:"";""!==S&&E.push(S);const $=typeof u?.transform<"u"?"render/image":"object",q=this.transformOptsToQueryString(u?.transform||{});""!==q&&E.push(q);let Q=E.join("&");return""!==Q&&(Q=`?${Q}`),{data:{publicUrl:encodeURI(`${this.url}/${$}/public/${f}${Q}`)}}}remove(d){return(0,V.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:d},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(tn(u))return{data:null,error:u};throw u}})}list(d,u,f){return(0,V.__awaiter)(this,void 0,void 0,function*(){try{const E=Object.assign(Object.assign(Object.assign({},qe),u),{prefix:d||""});return{data:yield Lt(this.fetch,`${this.url}/object/list/${this.bucketId}`,E,{headers:this.headers},f),error:null}}catch(E){if(this.shouldThrowOnError)throw E;if(tn(E))return{data:null,error:E};throw E}})}listV2(d,u){return(0,V.__awaiter)(this,void 0,void 0,function*(){try{const f=Object.assign({},d);return{data:yield Lt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,f,{headers:this.headers},u),error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(tn(f))return{data:null,error:f};throw f}})}encodeMetadata(d){return JSON.stringify(d)}toBase64(d){return typeof Buffer<"u"?Buffer.from(d).toString("base64"):btoa(d)}_getFinalPath(d){return`${this.bucketId}/${d.replace(/^\/+/,"")}`}_removeEmptyFolders(d){return d.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(d){const u=[];return d.width&&u.push(`width=${d.width}`),d.height&&u.push(`height=${d.height}`),d.resize&&u.push(`resize=${d.resize}`),d.format&&u.push(`format=${d.format}`),d.quality&&u.push(`quality=${d.quality}`),u.join("&")}}const Tn={"X-Client-Info":"storage-js/2.81.1"};class nr{constructor(d,u={},f,E){this.shouldThrowOnError=!1;const S=new URL(d);E?.useNewHostname&&/supabase\.(co|in|red)$/.test(S.hostname)&&!S.hostname.includes("storage.supabase.")&&(S.hostname=S.hostname.replace("supabase.","storage.supabase.")),this.url=S.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Tn),u),this.fetch=Qr(f)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(d){return(0,V.__awaiter)(this,void 0,void 0,function*(){try{const u=this.listBucketOptionsToQueryString(d);return{data:yield hr(this.fetch,`${this.url}/bucket${u}`,{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(tn(u))return{data:null,error:u};throw u}})}getBucket(d){return(0,V.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield hr(this.fetch,`${this.url}/bucket/${d}`,{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(tn(u))return{data:null,error:u};throw u}})}createBucket(d){return(0,V.__awaiter)(this,arguments,void 0,function*(u,f={public:!1}){try{return{data:yield Lt(this.fetch,`${this.url}/bucket`,{id:u,name:u,type:f.type,public:f.public,file_size_limit:f.fileSizeLimit,allowed_mime_types:f.allowedMimeTypes},{headers:this.headers}),error:null}}catch(E){if(this.shouldThrowOnError)throw E;if(tn(E))return{data:null,error:E};throw E}})}updateBucket(d,u){return(0,V.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield pr(this.fetch,`${this.url}/bucket/${d}`,{id:d,name:d,public:u.public,file_size_limit:u.fileSizeLimit,allowed_mime_types:u.allowedMimeTypes},{headers:this.headers}),error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(tn(f))return{data:null,error:f};throw f}})}emptyBucket(d){return(0,V.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/bucket/${d}/empty`,{},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(tn(u))return{data:null,error:u};throw u}})}deleteBucket(d){return(0,V.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/bucket/${d}`,{},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(tn(u))return{data:null,error:u};throw u}})}listBucketOptionsToQueryString(d){const u={};return d&&("limit"in d&&(u.limit=String(d.limit)),"offset"in d&&(u.offset=String(d.offset)),d.search&&(u.search=d.search),d.sortColumn&&(u.sortColumn=d.sortColumn),d.sortOrder&&(u.sortOrder=d.sortOrder)),Object.keys(u).length>0?"?"+new URLSearchParams(u).toString():""}}class mr{constructor(d,u={},f){this.shouldThrowOnError=!1,this.url=d.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Tn),u),this.fetch=Qr(f)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(d){return(0,V.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/bucket`,{name:d},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(tn(u))return{data:null,error:u};throw u}})}listBuckets(d){return(0,V.__awaiter)(this,void 0,void 0,function*(){try{const u=new URLSearchParams;void 0!==d?.limit&&u.set("limit",d.limit.toString()),void 0!==d?.offset&&u.set("offset",d.offset.toString()),d?.sortColumn&&u.set("sortColumn",d.sortColumn),d?.sortOrder&&u.set("sortOrder",d.sortOrder),d?.search&&u.set("search",d.search);const f=u.toString(),E=f?`${this.url}/bucket?${f}`:`${this.url}/bucket`;return{data:yield hr(this.fetch,E,{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(tn(u))return{data:null,error:u};throw u}})}deleteBucket(d){return(0,V.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/bucket/${d}`,{},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(tn(u))return{data:null,error:u};throw u}})}}const or={"X-Client-Info":"storage-js/2.81.1","Content-Type":"application/json"};class ao extends Error{constructor(d){super(d),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Jn(C){return"object"==typeof C&&null!==C&&"__isStorageVectorsError"in C}class Gr extends ao{constructor(d,u,f){super(d),this.name="StorageVectorsApiError",this.status=u,this.statusCode=f}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class vo extends ao{constructor(d,u){super(d),this.name="StorageVectorsUnknownError",this.originalError=u}}const Ct=C=>C?(...d)=>C(...d):(...d)=>fetch(...d),Sr=C=>C.msg||C.message||C.error_description||C.error||JSON.stringify(C),rn=(C,d,u)=>(0,V.__awaiter)(void 0,void 0,void 0,function*(){if(C&&"object"==typeof C&&"status"in C&&"ok"in C&&"number"==typeof C.status&&!u?.noResolveJson){const E=C.status||500,S=C;"function"==typeof S.json?S.json().then(R=>{const $=R?.statusCode||R?.code||E+"";d(new Gr(Sr(R),E,$))}).catch(()=>{d(new Gr(S.statusText||`HTTP ${E} error`,E,E+""))}):d(new Gr(S.statusText||`HTTP ${E} error`,E,E+""))}else d(new vo(Sr(C),C))}),Jr=(C,d,u,f)=>{const E={method:C,headers:d?.headers||{}};return"GET"!==C&&f?((C=>{if("object"!=typeof C||null===C)return!1;const d=Object.getPrototypeOf(C);return!(null!==d&&d!==Object.prototype&&null!==Object.getPrototypeOf(d)||Symbol.toStringTag in C||Symbol.iterator in C)})(f)?(E.headers=Object.assign({"Content-Type":"application/json"},d?.headers),E.body=JSON.stringify(f)):E.body=f,Object.assign(Object.assign({},E),u)):E};function Hn(C,d,u,f,E){return(0,V.__awaiter)(this,void 0,void 0,function*(){return function br(C,d,u,f,E,S){return(0,V.__awaiter)(this,void 0,void 0,function*(){return new Promise((R,$)=>{C(u,Jr(d,f,E,S)).then(q=>{if(!q.ok)throw q;if(f?.noResolveJson)return q;const Q=q.headers.get("content-type");return Q&&Q.includes("application/json")?q.json():{}}).then(q=>R(q)).catch(q=>rn(q,$,f))})})}(C,"POST",d,f,E,u)})}class $o{constructor(d,u={},f){this.shouldThrowOnError=!1,this.url=d.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},or),u),this.fetch=Ct(f)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(d){return(0,V.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield Hn(this.fetch,`${this.url}/CreateIndex`,d,{headers:this.headers}))||{},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Jn(u))return{data:null,error:u};throw u}})}getIndex(d,u){return(0,V.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Hn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:d,indexName:u},{headers:this.headers}),error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(Jn(f))return{data:null,error:f};throw f}})}listIndexes(d){return(0,V.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Hn(this.fetch,`${this.url}/ListIndexes`,d,{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Jn(u))return{data:null,error:u};throw u}})}deleteIndex(d,u){return(0,V.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield Hn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:d,indexName:u},{headers:this.headers}))||{},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(Jn(f))return{data:null,error:f};throw f}})}}class Tr{constructor(d,u={},f){this.shouldThrowOnError=!1,this.url=d.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},or),u),this.fetch=Ct(f)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(d){return(0,V.__awaiter)(this,void 0,void 0,function*(){try{if(d.vectors.length<1||d.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Hn(this.fetch,`${this.url}/PutVectors`,d,{headers:this.headers}))||{},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Jn(u))return{data:null,error:u};throw u}})}getVectors(d){return(0,V.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Hn(this.fetch,`${this.url}/GetVectors`,d,{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Jn(u))return{data:null,error:u};throw u}})}listVectors(d){return(0,V.__awaiter)(this,void 0,void 0,function*(){try{if(void 0!==d.segmentCount){if(d.segmentCount<1||d.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(void 0!==d.segmentIndex&&(d.segmentIndex<0||d.segmentIndex>=d.segmentCount))throw new Error("segmentIndex must be between 0 and "+(d.segmentCount-1))}return{data:yield Hn(this.fetch,`${this.url}/ListVectors`,d,{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Jn(u))return{data:null,error:u};throw u}})}queryVectors(d){return(0,V.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Hn(this.fetch,`${this.url}/QueryVectors`,d,{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Jn(u))return{data:null,error:u};throw u}})}deleteVectors(d){return(0,V.__awaiter)(this,void 0,void 0,function*(){try{if(d.keys.length<1||d.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Hn(this.fetch,`${this.url}/DeleteVectors`,d,{headers:this.headers}))||{},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Jn(u))return{data:null,error:u};throw u}})}}class Vo{constructor(d,u={},f){this.shouldThrowOnError=!1,this.url=d.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},or),u),this.fetch=Ct(f)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(d){return(0,V.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield Hn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:d},{headers:this.headers}))||{},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Jn(u))return{data:null,error:u};throw u}})}getBucket(d){return(0,V.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Hn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:d},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Jn(u))return{data:null,error:u};throw u}})}listBuckets(){return(0,V.__awaiter)(this,arguments,void 0,function*(d={}){try{return{data:yield Hn(this.fetch,`${this.url}/ListVectorBuckets`,d,{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Jn(u))return{data:null,error:u};throw u}})}deleteBucket(d){return(0,V.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield Hn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:d},{headers:this.headers}))||{},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Jn(u))return{data:null,error:u};throw u}})}}class yo extends Vo{constructor(d,u={}){super(d,u.headers||{},u.fetch)}from(d){return new di(this.url,this.headers,d,this.fetch)}}class di extends $o{constructor(d,u,f,E){super(d,u,E),this.vectorBucketName=f}createIndex(d){const u=Object.create(null,{createIndex:{get:()=>super.createIndex}});return(0,V.__awaiter)(this,void 0,void 0,function*(){return u.createIndex.call(this,Object.assign(Object.assign({},d),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const d=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return(0,V.__awaiter)(this,arguments,void 0,function*(u={}){return d.listIndexes.call(this,Object.assign(Object.assign({},u),{vectorBucketName:this.vectorBucketName}))})}getIndex(d){const u=Object.create(null,{getIndex:{get:()=>super.getIndex}});return(0,V.__awaiter)(this,void 0,void 0,function*(){return u.getIndex.call(this,this.vectorBucketName,d)})}deleteIndex(d){const u=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return(0,V.__awaiter)(this,void 0,void 0,function*(){return u.deleteIndex.call(this,this.vectorBucketName,d)})}index(d){return new Nt(this.url,this.headers,this.vectorBucketName,d,this.fetch)}}class Nt extends Tr{constructor(d,u,f,E,S){super(d,u,S),this.vectorBucketName=f,this.indexName=E}putVectors(d){const u=Object.create(null,{putVectors:{get:()=>super.putVectors}});return(0,V.__awaiter)(this,void 0,void 0,function*(){return u.putVectors.call(this,Object.assign(Object.assign({},d),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(d){const u=Object.create(null,{getVectors:{get:()=>super.getVectors}});return(0,V.__awaiter)(this,void 0,void 0,function*(){return u.getVectors.call(this,Object.assign(Object.assign({},d),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const d=Object.create(null,{listVectors:{get:()=>super.listVectors}});return(0,V.__awaiter)(this,arguments,void 0,function*(u={}){return d.listVectors.call(this,Object.assign(Object.assign({},u),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(d){const u=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return(0,V.__awaiter)(this,void 0,void 0,function*(){return u.queryVectors.call(this,Object.assign(Object.assign({},d),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(d){const u=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return(0,V.__awaiter)(this,void 0,void 0,function*(){return u.deleteVectors.call(this,Object.assign(Object.assign({},d),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class X extends nr{constructor(d,u={},f,E){super(d,u,f,E)}from(d){return new Ot(this.url,this.headers,d,this.fetch)}get vectors(){return new yo(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new mr(this.url+"/iceberg",this.headers,this.fetch)}}let ee="";ee=typeof Deno<"u"?"deno":typeof document<"u"?"web":typeof navigator<"u"&&"ReactNative"===navigator.product?"react-native":"node";const We={headers:{"X-Client-Info":`supabase-js-${ee}/2.81.1`}},Qe={schema:"public"},tt={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Tt={},pn=(C,d,u)=>{const f=(C=>C?(...d)=>C(...d):(...d)=>fetch(...d))(u),E=Headers;return function(){var S=(0,c.A)(function*(R,$){var q;const Q=null!==(q=yield d())&&void 0!==q?q:C;let re=new E($?.headers);return re.has("apikey")||re.set("apikey",C),re.has("Authorization")||re.set("Authorization",`Bearer ${Q}`),f(R,Object.assign(Object.assign({},$),{headers:re}))});return function(R,$){return S.apply(this,arguments)}}()},Gn=3e4,Jo="X-Supabase-Api-Version",qt={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Zo=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class Zn extends Error{constructor(d,u,f){super(d),this.__isAuthError=!0,this.name="AuthError",this.status=u,this.code=f}}function bt(C){return"object"==typeof C&&null!==C&&"__isAuthError"in C}class ms extends Zn{constructor(d,u,f){super(d,u,f),this.name="AuthApiError",this.status=u,this.code=f}}class Mr extends Zn{constructor(d,u){super(d),this.name="AuthUnknownError",this.originalError=u}}class vr extends Zn{constructor(d,u,f,E){super(d,f,E),this.name=u,this.status=f}}class _n extends vr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Er extends vr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class fi extends vr{constructor(d){super(d,"AuthInvalidCredentialsError",400,void 0)}}class wr extends vr{constructor(d,u=null){super(d,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=u}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Eo extends vr{constructor(d,u=null){super(d,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=u}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _r extends vr{constructor(d,u){super(d,"AuthRetryableFetchError",u,void 0)}}function Yn(C){return bt(C)&&"AuthRetryableFetchError"===C.name}class Rn extends vr{constructor(d,u,f){super(d,"AuthWeakPasswordError",u,"weak_password"),this.reasons=f}}class _t extends vr{constructor(d){super(d,"AuthInvalidJwtError",400,"invalid_jwt")}}const wo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),yr=" \t\n\r=".split(""),co=(()=>{const C=new Array(128);for(let d=0;d<C.length;d+=1)C[d]=-1;for(let d=0;d<yr.length;d+=1)C[yr[d].charCodeAt(0)]=-2;for(let d=0;d<wo.length;d+=1)C[wo[d].charCodeAt(0)]=d;return C})();function Zr(C,d,u){if(null!==C)for(d.queue=d.queue<<8|C,d.queuedBits+=8;d.queuedBits>=6;)u(wo[d.queue>>d.queuedBits-6&63]),d.queuedBits-=6;else if(d.queuedBits>0)for(d.queue=d.queue<<6-d.queuedBits,d.queuedBits=6;d.queuedBits>=6;)u(wo[d.queue>>d.queuedBits-6&63]),d.queuedBits-=6}function Si(C,d,u){const f=co[C];if(!(f>-1)){if(-2===f)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(C)}"`)}for(d.queue=d.queue<<6|f,d.queuedBits+=6;d.queuedBits>=8;)u(d.queue>>d.queuedBits-8&255),d.queuedBits-=8}function mi(C){const d=[],u=R=>{d.push(String.fromCodePoint(R))},f={utf8seq:0,codepoint:0},E={queue:0,queuedBits:0},S=R=>{!function ti(C,d,u){if(0===d.utf8seq){if(C<=127)return void u(C);for(let f=1;f<6;f+=1)if(!(C>>7-f&1)){d.utf8seq=f;break}if(2===d.utf8seq)d.codepoint=31&C;else if(3===d.utf8seq)d.codepoint=15&C;else{if(4!==d.utf8seq)throw new Error("Invalid UTF-8 sequence");d.codepoint=7&C}d.utf8seq-=1}else if(d.utf8seq>0){if(C<=127)throw new Error("Invalid UTF-8 sequence");d.codepoint=d.codepoint<<6|63&C,d.utf8seq-=1,0===d.utf8seq&&u(d.codepoint)}}(R,f,u)};for(let R=0;R<C.length;R+=1)Si(C.charCodeAt(R),E,S);return d.join("")}function Bo(C,d){if(!(C<=127)){if(C<=2047)return d(192|C>>6),void d(128|63&C);if(C<=65535)return d(224|C>>12),d(128|C>>6&63),void d(128|63&C);if(C<=1114111)return d(240|C>>18),d(128|C>>12&63),d(128|C>>6&63),void d(128|63&C);throw new Error(`Unrecognized Unicode codepoint: ${C.toString(16)}`)}d(C)}function Co(C){const d=[],u={queue:0,queuedBits:0},f=E=>{d.push(E)};for(let E=0;E<C.length;E+=1)Si(C.charCodeAt(E),u,f);return new Uint8Array(d)}function zr(C){const d=[],u={queue:0,queuedBits:0},f=E=>{d.push(E)};return C.forEach(E=>Zr(E,u,f)),Zr(null,u,f),d.join("")}const Cn=()=>typeof window<"u"&&typeof document<"u",Cr={tested:!1,writable:!1},xo=()=>{if(!Cn())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch{return!1}if(Cr.tested)return Cr.writable;const C=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(C,C),globalThis.localStorage.removeItem(C),Cr.tested=!0,Cr.writable=!0}catch{Cr.tested=!0,Cr.writable=!1}return Cr.writable},Fo=C=>C?(...d)=>C(...d):(...d)=>fetch(...d),gi=C=>"object"==typeof C&&null!==C&&"status"in C&&"ok"in C&&"json"in C&&"function"==typeof C.json,Io=function(){var C=(0,c.A)(function*(d,u,f){yield d.setItem(u,JSON.stringify(f))});return function(u,f,E){return C.apply(this,arguments)}}(),Vn=function(){var C=(0,c.A)(function*(d,u){const f=yield d.getItem(u);if(!f)return null;try{return JSON.parse(f)}catch{return f}});return function(u,f){return C.apply(this,arguments)}}(),Ar=function(){var C=(0,c.A)(function*(d,u){yield d.removeItem(u)});return function(u,f){return C.apply(this,arguments)}}();class ko{constructor(){this.promise=new ko.promiseConstructor((d,u)=>{this.resolve=d,this.reject=u})}}function Ti(C){const d=C.split(".");if(3!==d.length)throw new _t("Invalid JWT structure");for(let f=0;f<d.length;f++)if(!Zo.test(d[f]))throw new _t("JWT not in base64url format");return{header:JSON.parse(mi(d[0])),payload:JSON.parse(mi(d[1])),signature:Co(d[2]),raw:{header:d[0],payload:d[1]}}}function lr(){return(lr=(0,c.A)(function*(C){return yield new Promise(d=>{setTimeout(()=>d(null),C)})})).apply(this,arguments)}function Rr(C){return("0"+C.toString(16)).substr(-2)}function to(){return(to=(0,c.A)(function*(C){const u=(new TextEncoder).encode(C),f=yield crypto.subtle.digest("SHA-256",u),E=new Uint8Array(f);return Array.from(E).map(S=>String.fromCharCode(S)).join("")})).apply(this,arguments)}function fo(){return fo=(0,c.A)(function*(C){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),C;const u=yield function eo(C){return to.apply(this,arguments)}(C);return btoa(u).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}),fo.apply(this,arguments)}function Xn(C,d){return ho.apply(this,arguments)}function ho(){return ho=(0,c.A)(function*(C,d,u=!1){const f=function zi(){const d=new Uint32Array(56);if(typeof crypto>"u"){const u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",f=u.length;let E="";for(let S=0;S<56;S++)E+=u.charAt(Math.floor(Math.random()*f));return E}return crypto.getRandomValues(d),Array.from(d,Rr).join("")}();let E=f;u&&(E+="/PASSWORD_RECOVERY"),yield Io(C,`${d}-code-verifier`,E);const S=yield function Wi(C){return fo.apply(this,arguments)}(f);return[S,f===S?"plain":"s256"]}),ho.apply(this,arguments)}ko.promiseConstructor=Promise;const Yi=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i,is=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Go(C){if(!is.test(C))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ki(){return new Proxy({},{get:(d,u)=>{if("__isUserNotAvailableProxy"===u)return!0;if("symbol"==typeof u){const f=u.toString();if("Symbol(Symbol.toPrimitive)"===f||"Symbol(Symbol.toStringTag)"===f||"Symbol(util.inspect.custom)"===f)return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${u}" property of the session object is not supported. Please use getUser() instead.`)},set:(d,u)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${u}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(d,u)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${u}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function To(C){return JSON.parse(JSON.stringify(C))}const T=C=>C.msg||C.message||C.error_description||C.error||JSON.stringify(C),A=[502,503,504];function x(C){return H.apply(this,arguments)}function H(){return(H=(0,c.A)(function*(C){var d;if(!gi(C))throw new _r(T(C),0);if(A.includes(C.status))throw new _r(T(C),C.status);let u,f;try{u=yield C.json()}catch(S){throw new Mr(T(S),S)}const E=function gs(C){const d=C.headers.get(Jo);if(!d||!d.match(Yi))return null;try{return new Date(`${d}T00:00:00.0Z`)}catch{return null}}(C);if(E&&E.getTime()>=qt["2024-01-01"].timestamp&&"object"==typeof u&&u&&"string"==typeof u.code?f=u.code:"object"==typeof u&&u&&"string"==typeof u.error_code&&(f=u.error_code),f){if("weak_password"===f)throw new Rn(T(u),C.status,(null===(d=u.weak_password)||void 0===d?void 0:d.reasons)||[]);if("session_not_found"===f)throw new _n}else if("object"==typeof u&&u&&"object"==typeof u.weak_password&&u.weak_password&&Array.isArray(u.weak_password.reasons)&&u.weak_password.reasons.length&&u.weak_password.reasons.reduce((S,R)=>S&&"string"==typeof R,!0))throw new Rn(T(u),C.status,u.weak_password.reasons);throw new ms(T(u),C.status||500,f)})).apply(this,arguments)}const ue=(C,d,u,f)=>{const E={method:C,headers:d?.headers||{}};return"GET"===C?E:(E.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},d?.headers),E.body=JSON.stringify(f),Object.assign(Object.assign({},E),u))};function ze(C,d,u,f){return Bt.apply(this,arguments)}function Bt(){return Bt=(0,c.A)(function*(C,d,u,f){var E;const S=Object.assign({},f?.headers);S[Jo]||(S[Jo]=qt["2024-01-01"].name),f?.jwt&&(S.Authorization=`Bearer ${f.jwt}`);const R=null!==(E=f?.query)&&void 0!==E?E:{};f?.redirectTo&&(R.redirect_to=f.redirectTo);const $=Object.keys(R).length?"?"+new URLSearchParams(R).toString():"",q=yield function po(C,d,u,f,E,S){return Mo.apply(this,arguments)}(C,d,u+$,{headers:S,noResolveJson:f?.noResolveJson},{},f?.body);return f?.xform?f?.xform(q):{data:Object.assign({},q),error:null}}),Bt.apply(this,arguments)}function Mo(){return(Mo=(0,c.A)(function*(C,d,u,f,E,S){const R=ue(d,f,E,S);let $;try{$=yield C(u,Object.assign({},R))}catch(q){throw console.error(q),new _r(T(q),0)}if($.ok||(yield x($)),f?.noResolveJson)return $;try{return yield $.json()}catch(q){yield x(q)}})).apply(this,arguments)}function Dr(C){var d;let u=null;return function Ji(C){return C.access_token&&C.refresh_token&&C.expires_in}(C)&&(u=Object.assign({},C),C.expires_at||(u.expires_at=function zn(C){return Math.round(Date.now()/1e3)+C}(C.expires_in))),{data:{session:u,user:null!==(d=C.user)&&void 0!==d?d:C},error:null}}function vs(C){const d=Dr(C);return!d.error&&C.weak_password&&"object"==typeof C.weak_password&&Array.isArray(C.weak_password.reasons)&&C.weak_password.reasons.length&&C.weak_password.message&&"string"==typeof C.weak_password.message&&C.weak_password.reasons.reduce((u,f)=>u&&"string"==typeof f,!0)&&(d.data.weak_password=C.weak_password),d}function ri(C){var d;return{data:{user:null!==(d=C.user)&&void 0!==d?d:C},error:null}}function Mi(C){return{data:C,error:null}}function Qi(C){const{action_link:d,email_otp:u,hashed_token:f,redirect_to:E,verification_type:S}=C,R=(0,V.__rest)(C,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:d,email_otp:u,hashed_token:f,redirect_to:E,verification_type:S},user:Object.assign({},R)},error:null}}function Ho(C){return C}const er=["global","local","others"];class oi{constructor({url:d="",headers:u={},fetch:f}){this.url=d,this.headers=u,this.fetch=Fo(f),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(d){var u=this;return(0,c.A)(function*(f,E=er[0]){if(er.indexOf(E)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${er.join(", ")}`);try{return yield ze(u.fetch,"POST",`${u.url}/logout?scope=${E}`,{headers:u.headers,jwt:f,noResolveJson:!0}),{data:null,error:null}}catch(S){if(bt(S))return{data:null,error:S};throw S}}).apply(this,arguments)}inviteUserByEmail(d){var u=this;return(0,c.A)(function*(f,E={}){try{return yield ze(u.fetch,"POST",`${u.url}/invite`,{body:{email:f,data:E.data},headers:u.headers,redirectTo:E.redirectTo,xform:ri})}catch(S){if(bt(S))return{data:{user:null},error:S};throw S}}).apply(this,arguments)}generateLink(d){var u=this;return(0,c.A)(function*(){try{const{options:f}=d,E=(0,V.__rest)(d,["options"]),S=Object.assign(Object.assign({},E),f);return"newEmail"in E&&(S.new_email=E?.newEmail,delete S.newEmail),yield ze(u.fetch,"POST",`${u.url}/admin/generate_link`,{body:S,headers:u.headers,xform:Qi,redirectTo:f?.redirectTo})}catch(f){if(bt(f))return{data:{properties:null,user:null},error:f};throw f}})()}createUser(d){var u=this;return(0,c.A)(function*(){try{return yield ze(u.fetch,"POST",`${u.url}/admin/users`,{body:d,headers:u.headers,xform:ri})}catch(f){if(bt(f))return{data:{user:null},error:f};throw f}})()}listUsers(d){var u=this;return(0,c.A)(function*(){var f,E,S,R,$,q,Q;try{const re={nextPage:null,lastPage:0,total:0},we=yield ze(u.fetch,"GET",`${u.url}/admin/users`,{headers:u.headers,noResolveJson:!0,query:{page:null!==(E=null===(f=d?.page)||void 0===f?void 0:f.toString())&&void 0!==E?E:"",per_page:null!==(R=null===(S=d?.perPage)||void 0===S?void 0:S.toString())&&void 0!==R?R:""},xform:Ho});if(we.error)throw we.error;const ye=yield we.json(),Ye=null!==($=we.headers.get("x-total-count"))&&void 0!==$?$:0,Be=null!==(Q=null===(q=we.headers.get("link"))||void 0===q?void 0:q.split(","))&&void 0!==Q?Q:[];return Be.length>0&&(Be.forEach(it=>{const nt=parseInt(it.split(";")[0].split("=")[1].substring(0,1)),wt=JSON.parse(it.split(";")[1].split("=")[1]);re[`${wt}Page`]=nt}),re.total=parseInt(Ye)),{data:Object.assign(Object.assign({},ye),re),error:null}}catch(re){if(bt(re))return{data:{users:[]},error:re};throw re}})()}getUserById(d){var u=this;return(0,c.A)(function*(){Go(d);try{return yield ze(u.fetch,"GET",`${u.url}/admin/users/${d}`,{headers:u.headers,xform:ri})}catch(f){if(bt(f))return{data:{user:null},error:f};throw f}})()}updateUserById(d,u){var f=this;return(0,c.A)(function*(){Go(d);try{return yield ze(f.fetch,"PUT",`${f.url}/admin/users/${d}`,{body:u,headers:f.headers,xform:ri})}catch(E){if(bt(E))return{data:{user:null},error:E};throw E}})()}deleteUser(d){var u=this;return(0,c.A)(function*(f,E=!1){Go(f);try{return yield ze(u.fetch,"DELETE",`${u.url}/admin/users/${f}`,{headers:u.headers,body:{should_soft_delete:E},xform:ri})}catch(S){if(bt(S))return{data:{user:null},error:S};throw S}}).apply(this,arguments)}_listFactors(d){var u=this;return(0,c.A)(function*(){Go(d.userId);try{const{data:f,error:E}=yield ze(u.fetch,"GET",`${u.url}/admin/users/${d.userId}/factors`,{headers:u.headers,xform:S=>({data:{factors:S},error:null})});return{data:f,error:E}}catch(f){if(bt(f))return{data:null,error:f};throw f}})()}_deleteFactor(d){var u=this;return(0,c.A)(function*(){Go(d.userId),Go(d.id);try{return{data:yield ze(u.fetch,"DELETE",`${u.url}/admin/users/${d.userId}/factors/${d.id}`,{headers:u.headers}),error:null}}catch(f){if(bt(f))return{data:null,error:f};throw f}})()}_listOAuthClients(d){var u=this;return(0,c.A)(function*(){var f,E,S,R,$,q,Q;try{const re={nextPage:null,lastPage:0,total:0},we=yield ze(u.fetch,"GET",`${u.url}/admin/oauth/clients`,{headers:u.headers,noResolveJson:!0,query:{page:null!==(E=null===(f=d?.page)||void 0===f?void 0:f.toString())&&void 0!==E?E:"",per_page:null!==(R=null===(S=d?.perPage)||void 0===S?void 0:S.toString())&&void 0!==R?R:""},xform:Ho});if(we.error)throw we.error;const ye=yield we.json(),Ye=null!==($=we.headers.get("x-total-count"))&&void 0!==$?$:0,Be=null!==(Q=null===(q=we.headers.get("link"))||void 0===q?void 0:q.split(","))&&void 0!==Q?Q:[];return Be.length>0&&(Be.forEach(it=>{const nt=parseInt(it.split(";")[0].split("=")[1].substring(0,1)),wt=JSON.parse(it.split(";")[1].split("=")[1]);re[`${wt}Page`]=nt}),re.total=parseInt(Ye)),{data:Object.assign(Object.assign({},ye),re),error:null}}catch(re){if(bt(re))return{data:{clients:[]},error:re};throw re}})()}_createOAuthClient(d){var u=this;return(0,c.A)(function*(){try{return yield ze(u.fetch,"POST",`${u.url}/admin/oauth/clients`,{body:d,headers:u.headers,xform:f=>({data:f,error:null})})}catch(f){if(bt(f))return{data:null,error:f};throw f}})()}_getOAuthClient(d){var u=this;return(0,c.A)(function*(){try{return yield ze(u.fetch,"GET",`${u.url}/admin/oauth/clients/${d}`,{headers:u.headers,xform:f=>({data:f,error:null})})}catch(f){if(bt(f))return{data:null,error:f};throw f}})()}_updateOAuthClient(d,u){var f=this;return(0,c.A)(function*(){try{return yield ze(f.fetch,"PUT",`${f.url}/admin/oauth/clients/${d}`,{body:u,headers:f.headers,xform:E=>({data:E,error:null})})}catch(E){if(bt(E))return{data:null,error:E};throw E}})()}_deleteOAuthClient(d){var u=this;return(0,c.A)(function*(){try{return yield ze(u.fetch,"DELETE",`${u.url}/admin/oauth/clients/${d}`,{headers:u.headers,noResolveJson:!0}),{data:null,error:null}}catch(f){if(bt(f))return{data:null,error:f};throw f}})()}_regenerateOAuthClientSecret(d){var u=this;return(0,c.A)(function*(){try{return yield ze(u.fetch,"POST",`${u.url}/admin/oauth/clients/${d}/regenerate_secret`,{headers:u.headers,xform:f=>({data:f,error:null})})}catch(f){if(bt(f))return{data:null,error:f};throw f}})()}}function ir(C={}){return{getItem:d=>C[d]||null,setItem:(d,u)=>{C[d]=u},removeItem:d=>{delete C[d]}}}const Ao={debug:!!(globalThis&&xo()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"))};class Zi extends Error{constructor(d){super(d),this.isAcquireTimeout=!0}}class Ri extends Zi{}function Ni(C,d,u){return Yr.apply(this,arguments)}function Yr(){return Yr=(0,c.A)(function*(C,d,u){Ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",C,d);const f=new globalThis.AbortController;return d>0&&setTimeout(()=>{f.abort(),Ao.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",C)},d),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(C,0===d?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:f.signal},function(){var E=(0,c.A)(function*(S){if(!S){if(0===d)throw Ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",C),new Ri(`Acquiring an exclusive Navigator LockManager lock "${C}" immediately failed`);if(Ao.debug)try{const R=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(R,null,"  "))}catch(R){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",R)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield u()}Ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",C,S.name);try{return yield u()}finally{Ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",C,S.name)}});return function(S){return E.apply(this,arguments)}}()))}),Yr.apply(this,arguments)}function Os(C){if(!/^0x[a-fA-F0-9]{40}$/.test(C))throw new Error(`@supabase/auth-js: Address "${C}" is invalid.`);return C.toLowerCase()}function Ps(C){const d=(new TextEncoder).encode(C);return"0x"+Array.from(d,f=>f.toString(16).padStart(2,"0")).join("")}class Bn extends Error{constructor({message:d,code:u,cause:f,name:E}){var S;super(d,{cause:f}),this.__isWebAuthnError=!0,this.name=null!==(S=E??(f instanceof Error?f.name:void 0))&&void 0!==S?S:"Unknown Error",this.code=u}}class vi extends Bn{constructor(d,u){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:u,message:d}),this.name="WebAuthnUnknownError",this.originalError=u}}function Qs({error:C,options:d}){var u,f,E;const{publicKey:S}=d;if(!S)throw Error("options was missing required publicKey property");if("AbortError"===C.name){if(d.signal instanceof AbortSignal)return new Bn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:C})}else if("ConstraintError"===C.name){if(!0===(null===(u=S.authenticatorSelection)||void 0===u?void 0:u.requireResidentKey))return new Bn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:C});if("conditional"===d.mediation&&"required"===(null===(f=S.authenticatorSelection)||void 0===f?void 0:f.userVerification))return new Bn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:C});if("required"===(null===(E=S.authenticatorSelection)||void 0===E?void 0:E.userVerification))return new Bn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:C})}else{if("InvalidStateError"===C.name)return new Bn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:C});if("NotAllowedError"===C.name)return new Bn({message:C.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:C});if("NotSupportedError"===C.name)return 0===S.pubKeyCredParams.filter($=>"public-key"===$.type).length?new Bn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:C}):new Bn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:C});if("SecurityError"===C.name){const R=window.location.hostname;if(!qo(R))return new Bn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:C});if(S.rp.id!==R)return new Bn({message:`The RP ID "${S.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:C})}else if("TypeError"===C.name){if(S.user.id.byteLength<1||S.user.id.byteLength>64)return new Bn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:C})}else if("UnknownError"===C.name)return new Bn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:C})}return new Bn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:C})}function ts({error:C,options:d}){const{publicKey:u}=d;if(!u)throw Error("options was missing required publicKey property");if("AbortError"===C.name){if(d.signal instanceof AbortSignal)return new Bn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:C})}else{if("NotAllowedError"===C.name)return new Bn({message:C.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:C});if("SecurityError"===C.name){const f=window.location.hostname;if(!qo(f))return new Bn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:C});if(u.rpId!==f)return new Bn({message:`The RP ID "${u.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:C})}else if("UnknownError"===C.name)return new Bn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:C})}return new Bn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:C})}const js=new class us{createNewAbortSignal(){if(this.controller){const u=new Error("Cancelling existing WebAuthn API call for new one");u.name="AbortError",this.controller.abort(u)}const d=new AbortController;return this.controller=d,d.signal}cancelCeremony(){if(this.controller){const d=new Error("Manually cancelling existing WebAuthn API call");d.name="AbortError",this.controller.abort(d),this.controller=void 0}}};function ls(C){if(!C)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(C);const{challenge:d,user:u,excludeCredentials:f}=C,E=(0,V.__rest)(C,["challenge","user","excludeCredentials"]),S=Co(d).buffer,R=Object.assign(Object.assign({},u),{id:Co(u.id).buffer}),$=Object.assign(Object.assign({},E),{challenge:S,user:R});if(f&&f.length>0){$.excludeCredentials=new Array(f.length);for(let q=0;q<f.length;q++){const Q=f[q];$.excludeCredentials[q]=Object.assign(Object.assign({},Q),{id:Co(Q.id).buffer,type:Q.type||"public-key",transports:Q.transports})}}return $}function Oi(C){if(!C)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(C);const{challenge:d,allowCredentials:u}=C,f=(0,V.__rest)(C,["challenge","allowCredentials"]),E=Co(d).buffer,S=Object.assign(Object.assign({},f),{challenge:E});if(u&&u.length>0){S.allowCredentials=new Array(u.length);for(let R=0;R<u.length;R++){const $=u[R];S.allowCredentials[R]=Object.assign(Object.assign({},$),{id:Co($.id).buffer,type:$.type||"public-key",transports:$.transports})}}return S}function Xr(C){var d;if("toJSON"in C&&"function"==typeof C.toJSON)return C.toJSON();const u=C;return{id:C.id,rawId:C.id,response:{attestationObject:zr(new Uint8Array(C.response.attestationObject)),clientDataJSON:zr(new Uint8Array(C.response.clientDataJSON))},type:"public-key",clientExtensionResults:C.getClientExtensionResults(),authenticatorAttachment:null!==(d=u.authenticatorAttachment)&&void 0!==d?d:void 0}}function Pi(C){var d;if("toJSON"in C&&"function"==typeof C.toJSON)return C.toJSON();const u=C,f=C.getClientExtensionResults(),E=C.response;return{id:C.id,rawId:C.id,response:{authenticatorData:zr(new Uint8Array(E.authenticatorData)),clientDataJSON:zr(new Uint8Array(E.clientDataJSON)),signature:zr(new Uint8Array(E.signature)),userHandle:E.userHandle?zr(new Uint8Array(E.userHandle)):void 0},type:"public-key",clientExtensionResults:f,authenticatorAttachment:null!==(d=u.authenticatorAttachment)&&void 0!==d?d:void 0}}function qo(C){return"localhost"===C||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(C)}function ys(){var C,d;return!!(Cn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"==typeof(null===(C=navigator?.credentials)||void 0===C?void 0:C.create)&&"function"==typeof(null===(d=navigator?.credentials)||void 0===d?void 0:d.get))}function zo(){return(zo=(0,c.A)(function*(C){try{const d=yield navigator.credentials.create(C);return d?d instanceof PublicKeyCredential?{data:d,error:null}:{data:null,error:new vi("Browser returned unexpected credential type",d)}:{data:null,error:new vi("Empty credential response",d)}}catch(d){return{data:null,error:Qs({error:d,options:C})}}})).apply(this,arguments)}function Es(){return(Es=(0,c.A)(function*(C){try{const d=yield navigator.credentials.get(C);return d?d instanceof PublicKeyCredential?{data:d,error:null}:{data:null,error:new vi("Browser returned unexpected credential type",d)}:{data:null,error:new vi("Empty credential response",d)}}catch(d){return{data:null,error:ts({error:d,options:C})}}})).apply(this,arguments)}const Js={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Ls={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function mo(...C){const d=E=>null!==E&&"object"==typeof E&&!Array.isArray(E),u=E=>E instanceof ArrayBuffer||ArrayBuffer.isView(E),f={};for(const E of C)if(E)for(const S in E){const R=E[S];if(void 0!==R)if(Array.isArray(R))f[S]=R;else if(u(R))f[S]=R;else if(d(R)){const $=f[S];f[S]=d($)?mo($,R):mo(R)}else f[S]=R}return f}class Wo{constructor(d){this.client=d,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(d){var u=this;return(0,c.A)(function*(){return u.client.mfa.enroll(Object.assign(Object.assign({},d),{factorType:"webauthn"}))})()}_challenge(d,u){var f=this;return(0,c.A)(function*({factorId:E,webauthn:S,friendlyName:R,signal:$},q){try{const{data:Q,error:re}=yield f.client.mfa.challenge({factorId:E,webauthn:S});if(!Q)return{data:null,error:re};const we=$??js.createNewAbortSignal();if("create"===Q.webauthn.type){const{user:ye}=Q.webauthn.credential_options.publicKey;ye.name||(ye.name=`${ye.id}:${R}`),ye.displayName||(ye.displayName=ye.name)}switch(Q.webauthn.type){case"create":{const ye=function Zs(C,d){return mo(Js,C,d||{})}(Q.webauthn.credential_options.publicKey,q?.create),{data:Ye,error:Be}=yield function bs(C){return zo.apply(this,arguments)}({publicKey:ye,signal:we});return Ye?{data:{factorId:E,challengeId:Q.id,webauthn:{type:Q.webauthn.type,credential_response:Ye}},error:null}:{data:null,error:Be}}case"request":{const ye=function ns(C,d){return mo(Ls,C,d||{})}(Q.webauthn.credential_options.publicKey,q?.request),{data:Ye,error:Be}=yield function ii(C){return Es.apply(this,arguments)}(Object.assign(Object.assign({},Q.webauthn.credential_options),{publicKey:ye,signal:we}));return Ye?{data:{factorId:E,challengeId:Q.id,webauthn:{type:Q.webauthn.type,credential_response:Ye}},error:null}:{data:null,error:Be}}}}catch(Q){return bt(Q)?{data:null,error:Q}:{data:null,error:new Mr("Unexpected error in challenge",Q)}}}).apply(this,arguments)}_verify(d){var u=this;return(0,c.A)(function*({challengeId:f,factorId:E,webauthn:S}){return u.client.mfa.verify({factorId:E,challengeId:f,webauthn:S})}).apply(this,arguments)}_authenticate(d,u){var f=this;return(0,c.A)(function*({factorId:E,webauthn:{rpId:S=(typeof window<"u"?window.location.hostname:void 0),rpOrigins:R=(typeof window<"u"?[window.location.origin]:void 0),signal:$}={}},q){if(!S)return{data:null,error:new Zn("rpId is required for WebAuthn authentication")};try{if(!ys())return{data:null,error:new Mr("Browser does not support WebAuthn",null)};const{data:Q,error:re}=yield f.challenge({factorId:E,webauthn:{rpId:S,rpOrigins:R},signal:$},{request:q});if(!Q)return{data:null,error:re};const{webauthn:we}=Q;return f._verify({factorId:E,challengeId:Q.challengeId,webauthn:{type:we.type,rpId:S,rpOrigins:R,credential_response:we.credential_response}})}catch(Q){return bt(Q)?{data:null,error:Q}:{data:null,error:new Mr("Unexpected error in authenticate",Q)}}}).apply(this,arguments)}_register(d,u){var f=this;return(0,c.A)(function*({friendlyName:E,webauthn:{rpId:S=(typeof window<"u"?window.location.hostname:void 0),rpOrigins:R=(typeof window<"u"?[window.location.origin]:void 0),signal:$}={}},q){if(!S)return{data:null,error:new Zn("rpId is required for WebAuthn registration")};try{if(!ys())return{data:null,error:new Mr("Browser does not support WebAuthn",null)};const{data:Q,error:re}=yield f._enroll({friendlyName:E});if(!Q)return yield f.client.mfa.listFactors().then(Ye=>{var Be;return null===(Be=Ye.data)||void 0===Be?void 0:Be.all.find(it=>"webauthn"===it.factor_type&&it.friendly_name===E&&"unverified"!==it.status)}).then(Ye=>Ye?f.client.mfa.unenroll({factorId:Ye?.id}):void 0),{data:null,error:re};const{data:we,error:ye}=yield f._challenge({factorId:Q.id,friendlyName:Q.friendly_name,webauthn:{rpId:S,rpOrigins:R},signal:$},{create:q});return we?f._verify({factorId:Q.id,challengeId:we.challengeId,webauthn:{rpId:S,rpOrigins:R,type:we.webauthn.type,credential_response:we.webauthn.credential_response}}):{data:null,error:ye}}catch(Q){return bt(Q)?{data:null,error:Q}:{data:null,error:new Mr("Unexpected error in register",Q)}}}).apply(this,arguments)}}!function as(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}();const ji={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:{"X-Client-Info":"gotrue-js/2.81.1"},flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};function $s(C,d,u){return y.apply(this,arguments)}function y(){return(y=(0,c.A)(function*(C,d,u){return yield u()})).apply(this,arguments)}const j={},mt=(()=>{class C{get jwks(){var u,f;return null!==(f=null===(u=j[this.storageKey])||void 0===u?void 0:u.jwks)&&void 0!==f?f:{keys:[]}}set jwks(u){j[this.storageKey]=Object.assign(Object.assign({},j[this.storageKey]),{jwks:u})}get jwks_cached_at(){var u,f;return null!==(f=null===(u=j[this.storageKey])||void 0===u?void 0:u.cachedAt)&&void 0!==f?f:Number.MIN_SAFE_INTEGER}set jwks_cached_at(u){j[this.storageKey]=Object.assign(Object.assign({},j[this.storageKey]),{cachedAt:u})}constructor(u){var E,S,R,f=this;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const $=Object.assign(Object.assign({},ji),u);if(this.storageKey=$.storageKey,this.instanceID=null!==(E=C.nextInstanceID[this.storageKey])&&void 0!==E?E:0,C.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!$.debug,"function"==typeof $.debug&&(this.logger=$.debug),this.instanceID>0&&Cn()){const q=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(q),this.logDebugMessages&&console.trace(q)}if(this.persistSession=$.persistSession,this.autoRefreshToken=$.autoRefreshToken,this.admin=new oi({url:$.url,headers:$.headers,fetch:$.fetch}),this.url=$.url,this.headers=$.headers,this.fetch=Fo($.fetch),this.lock=$.lock||$s,this.detectSessionInUrl=$.detectSessionInUrl,this.flowType=$.flowType,this.hasCustomAuthorizationHeader=$.hasCustomAuthorizationHeader,this.throwOnError=$.throwOnError,this.lock=$.lock?$.lock:Cn()&&null!==(S=globalThis?.navigator)&&void 0!==S&&S.locks?Ni:$s,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Wo(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?($.storage?this.storage=$.storage:xo()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ir(this.memoryStorage)),$.userStorage&&(this.userStorage=$.userStorage)):(this.memoryStorage={},this.storage=ir(this.memoryStorage)),Cn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(q){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",q)}null===(R=this.broadcastChannel)||void 0===R||R.addEventListener("message",function(){var q=(0,c.A)(function*(Q){f._debug("received broadcast notification from other tab or client",Q),yield f._notifyAllSubscribers(Q.data.event,Q.data.session,!1)});return function(Q){return q.apply(this,arguments)}}())}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(u){if(this.throwOnError&&u&&u.error)throw u.error;return u}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (2.81.1) ${(new Date).toISOString()}`}_debug(...u){return this.logDebugMessages&&this.logger(this._logPrefix(),...u),this}initialize(){var u=this;return(0,c.A)(function*(){return u.initializePromise||(u.initializePromise=(0,c.A)(function*(){return yield u._acquireLock(-1,(0,c.A)(function*(){return yield u._initialize()}))})()),yield u.initializePromise})()}_initialize(){var u=this;return(0,c.A)(function*(){var f;try{let E={},S="none";if(Cn()&&(E=function Wr(C){const d={},u=new URL(C);if(u.hash&&"#"===u.hash[0])try{new URLSearchParams(u.hash.substring(1)).forEach((E,S)=>{d[S]=E})}catch{}return u.searchParams.forEach((f,E)=>{d[E]=f}),d}(window.location.href),u._isImplicitGrantCallback(E)?S="implicit":(yield u._isPKCECallback(E))&&(S="pkce")),Cn()&&u.detectSessionInUrl&&"none"!==S){const{data:R,error:$}=yield u._getSessionFromURL(E,S);if($){if(u._debug("#_initialize()","error detecting session from URL",$),function bo(C){return bt(C)&&"AuthImplicitGrantRedirectError"===C.name}($)){const re=null===(f=$.details)||void 0===f?void 0:f.code;if("identity_already_exists"===re||"identity_not_found"===re||"single_identity_not_deletable"===re)return{error:$}}return yield u._removeSession(),{error:$}}const{session:q,redirectType:Q}=R;return u._debug("#_initialize()","detected session in URL",q,"redirect type",Q),yield u._saveSession(q),setTimeout((0,c.A)(function*(){"recovery"===Q?yield u._notifyAllSubscribers("PASSWORD_RECOVERY",q):yield u._notifyAllSubscribers("SIGNED_IN",q)}),0),{error:null}}return yield u._recoverAndRefresh(),{error:null}}catch(E){return bt(E)?u._returnResult({error:E}):u._returnResult({error:new Mr("Unexpected error during initialization",E)})}finally{yield u._handleVisibilityChange(),u._debug("#_initialize()","end")}})()}signInAnonymously(u){var f=this;return(0,c.A)(function*(){var E,S,R;try{const $=yield ze(f.fetch,"POST",`${f.url}/signup`,{headers:f.headers,body:{data:null!==(S=null===(E=u?.options)||void 0===E?void 0:E.data)&&void 0!==S?S:{},gotrue_meta_security:{captcha_token:null===(R=u?.options)||void 0===R?void 0:R.captchaToken}},xform:Dr}),{data:q,error:Q}=$;if(Q||!q)return f._returnResult({data:{user:null,session:null},error:Q});const re=q.session,we=q.user;return q.session&&(yield f._saveSession(q.session),yield f._notifyAllSubscribers("SIGNED_IN",re)),f._returnResult({data:{user:we,session:re},error:null})}catch($){if(bt($))return f._returnResult({data:{user:null,session:null},error:$});throw $}})()}signUp(u){var f=this;return(0,c.A)(function*(){var E,S,R;try{let $;if("email"in u){const{email:ye,password:Ye,options:Be}=u;let it=null,nt=null;"pkce"===f.flowType&&([it,nt]=yield Xn(f.storage,f.storageKey)),$=yield ze(f.fetch,"POST",`${f.url}/signup`,{headers:f.headers,redirectTo:Be?.emailRedirectTo,body:{email:ye,password:Ye,data:null!==(E=Be?.data)&&void 0!==E?E:{},gotrue_meta_security:{captcha_token:Be?.captchaToken},code_challenge:it,code_challenge_method:nt},xform:Dr})}else{if(!("phone"in u))throw new fi("You must provide either an email or phone number and a password");{const{phone:ye,password:Ye,options:Be}=u;$=yield ze(f.fetch,"POST",`${f.url}/signup`,{headers:f.headers,body:{phone:ye,password:Ye,data:null!==(S=Be?.data)&&void 0!==S?S:{},channel:null!==(R=Be?.channel)&&void 0!==R?R:"sms",gotrue_meta_security:{captcha_token:Be?.captchaToken}},xform:Dr})}}const{data:q,error:Q}=$;if(Q||!q)return f._returnResult({data:{user:null,session:null},error:Q});const re=q.session,we=q.user;return q.session&&(yield f._saveSession(q.session),yield f._notifyAllSubscribers("SIGNED_IN",re)),f._returnResult({data:{user:we,session:re},error:null})}catch($){if(bt($))return f._returnResult({data:{user:null,session:null},error:$});throw $}})()}signInWithPassword(u){var f=this;return(0,c.A)(function*(){try{let E;if("email"in u){const{email:$,password:q,options:Q}=u;E=yield ze(f.fetch,"POST",`${f.url}/token?grant_type=password`,{headers:f.headers,body:{email:$,password:q,gotrue_meta_security:{captcha_token:Q?.captchaToken}},xform:vs})}else{if(!("phone"in u))throw new fi("You must provide either an email or phone number and a password");{const{phone:$,password:q,options:Q}=u;E=yield ze(f.fetch,"POST",`${f.url}/token?grant_type=password`,{headers:f.headers,body:{phone:$,password:q,gotrue_meta_security:{captcha_token:Q?.captchaToken}},xform:vs})}}const{data:S,error:R}=E;if(R)return f._returnResult({data:{user:null,session:null},error:R});if(!S||!S.session||!S.user){const $=new Er;return f._returnResult({data:{user:null,session:null},error:$})}return S.session&&(yield f._saveSession(S.session),yield f._notifyAllSubscribers("SIGNED_IN",S.session)),f._returnResult({data:Object.assign({user:S.user,session:S.session},S.weak_password?{weakPassword:S.weak_password}:null),error:R})}catch(E){if(bt(E))return f._returnResult({data:{user:null,session:null},error:E});throw E}})()}signInWithOAuth(u){var f=this;return(0,c.A)(function*(){var E,S,R,$;return yield f._handleProviderSignIn(u.provider,{redirectTo:null===(E=u.options)||void 0===E?void 0:E.redirectTo,scopes:null===(S=u.options)||void 0===S?void 0:S.scopes,queryParams:null===(R=u.options)||void 0===R?void 0:R.queryParams,skipBrowserRedirect:null===($=u.options)||void 0===$?void 0:$.skipBrowserRedirect})})()}exchangeCodeForSession(u){var f=this;return(0,c.A)(function*(){return yield f.initializePromise,f._acquireLock(-1,(0,c.A)(function*(){return f._exchangeCodeForSession(u)}))})()}signInWithWeb3(u){var f=this;return(0,c.A)(function*(){const{chain:E}=u;switch(E){case"ethereum":return yield f.signInWithEthereum(u);case"solana":return yield f.signInWithSolana(u);default:throw new Error(`@supabase/auth-js: Unsupported chain "${E}"`)}})()}signInWithEthereum(u){var f=this;return(0,c.A)(function*(){var E,S,R,$,q,Q,re,we,ye,Ye,Be;let it,nt;if("message"in u)it=u.message,nt=u.signature;else{const{wallet:Wt,statement:Kt,options:Et}=u;let xt;if(Cn())if("object"==typeof Wt)xt=Wt;else{const no=window;if(!("ethereum"in no)||"object"!=typeof no.ethereum||!("request"in no.ethereum)||"function"!=typeof no.ethereum.request)throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.");xt=no.ethereum}else{if("object"!=typeof Wt||!Et?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");xt=Wt}const bn=new URL(null!==(E=Et?.url)&&void 0!==E?E:window.location.href),Nr=yield xt.request({method:"eth_requestAccounts"}).then(no=>no).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Nr||0===Nr.length)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const dn=Os(Nr[0]);let lt=null===(S=Et?.signInWithEthereum)||void 0===S?void 0:S.chainId;lt||(lt=function _s(C){return parseInt(C,16)}(yield xt.request({method:"eth_chainId"}))),it=function es(C){var d;const{chainId:u,domain:f,expirationTime:E,issuedAt:S=new Date,nonce:R,notBefore:$,requestId:q,resources:Q,scheme:re,uri:we,version:ye}=C;if(!Number.isInteger(u))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${u}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(R&&R.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${R}`);if(!we)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==ye)throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${ye}`);if(null!==(d=C.statement)&&void 0!==d&&d.includes("\n"))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${C.statement}`);const nt=`${re?`${re}://${f}`:f} wants you to sign in with your Ethereum account:\n${Os(C.address)}\n\n${C.statement?`${C.statement}\n`:""}`;let wt=`URI: ${we}\nVersion: ${ye}\nChain ID: ${u}${R?`\nNonce: ${R}`:""}\nIssued At: ${S.toISOString()}`;if(E&&(wt+=`\nExpiration Time: ${E.toISOString()}`),$&&(wt+=`\nNot Before: ${$.toISOString()}`),q&&(wt+=`\nRequest ID: ${q}`),Q){let Wt="\nResources:";for(const Kt of Q){if(!Kt||"string"!=typeof Kt)throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${Kt}`);Wt+=`\n- ${Kt}`}wt+=Wt}return`${nt}\n${wt}`}({domain:bn.host,address:dn,statement:Kt,uri:bn.href,version:"1",chainId:lt,nonce:null===(R=Et?.signInWithEthereum)||void 0===R?void 0:R.nonce,issuedAt:null!==(q=null===($=Et?.signInWithEthereum)||void 0===$?void 0:$.issuedAt)&&void 0!==q?q:new Date,expirationTime:null===(Q=Et?.signInWithEthereum)||void 0===Q?void 0:Q.expirationTime,notBefore:null===(re=Et?.signInWithEthereum)||void 0===re?void 0:re.notBefore,requestId:null===(we=Et?.signInWithEthereum)||void 0===we?void 0:we.requestId,resources:null===(ye=Et?.signInWithEthereum)||void 0===ye?void 0:ye.resources}),nt=yield xt.request({method:"personal_sign",params:[Ps(it),dn]})}try{const{data:wt,error:Wt}=yield ze(f.fetch,"POST",`${f.url}/token?grant_type=web3`,{headers:f.headers,body:Object.assign({chain:"ethereum",message:it,signature:nt},null!==(Ye=u.options)&&void 0!==Ye&&Ye.captchaToken?{gotrue_meta_security:{captcha_token:null===(Be=u.options)||void 0===Be?void 0:Be.captchaToken}}:null),xform:Dr});if(Wt)throw Wt;if(!wt||!wt.session||!wt.user){const Kt=new Er;return f._returnResult({data:{user:null,session:null},error:Kt})}return wt.session&&(yield f._saveSession(wt.session),yield f._notifyAllSubscribers("SIGNED_IN",wt.session)),f._returnResult({data:Object.assign({},wt),error:Wt})}catch(wt){if(bt(wt))return f._returnResult({data:{user:null,session:null},error:wt});throw wt}})()}signInWithSolana(u){var f=this;return(0,c.A)(function*(){var E,S,R,$,q,Q,re,we,ye,Ye,Be,it;let nt,wt;if("message"in u)nt=u.message,wt=u.signature;else{const{wallet:Kt,statement:Et,options:xt}=u;let bn;if(Cn())if("object"==typeof Kt)bn=Kt;else{const dn=window;if(!("solana"in dn)||"object"!=typeof dn.solana||!("signIn"in dn.solana&&"function"==typeof dn.solana.signIn||"signMessage"in dn.solana&&"function"==typeof dn.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");bn=dn.solana}else{if("object"!=typeof Kt||!xt?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");bn=Kt}const Nr=new URL(null!==(E=xt?.url)&&void 0!==E?E:window.location.href);if("signIn"in bn&&bn.signIn){const dn=yield bn.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},xt?.signInWithSolana),{version:"1",domain:Nr.host,uri:Nr.href}),Et?{statement:Et}:null));let lt;if(Array.isArray(dn)&&dn[0]&&"object"==typeof dn[0])lt=dn[0];else{if(!(dn&&"object"==typeof dn&&"signedMessage"in dn&&"signature"in dn))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");lt=dn}if(!("signedMessage"in lt&&"signature"in lt&&("string"==typeof lt.signedMessage||lt.signedMessage instanceof Uint8Array)&&lt.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");nt="string"==typeof lt.signedMessage?lt.signedMessage:(new TextDecoder).decode(lt.signedMessage),wt=lt.signature}else{if(!("signMessage"in bn&&"function"==typeof bn.signMessage&&"publicKey"in bn&&"object"==typeof bn&&bn.publicKey&&"toBase58"in bn.publicKey&&"function"==typeof bn.publicKey.toBase58))throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");nt=[`${Nr.host} wants you to sign in with your Solana account:`,bn.publicKey.toBase58(),...Et?["",Et,""]:[""],"Version: 1",`URI: ${Nr.href}`,`Issued At: ${null!==(R=null===(S=xt?.signInWithSolana)||void 0===S?void 0:S.issuedAt)&&void 0!==R?R:(new Date).toISOString()}`,...null!==($=xt?.signInWithSolana)&&void 0!==$&&$.notBefore?[`Not Before: ${xt.signInWithSolana.notBefore}`]:[],...null!==(q=xt?.signInWithSolana)&&void 0!==q&&q.expirationTime?[`Expiration Time: ${xt.signInWithSolana.expirationTime}`]:[],...null!==(Q=xt?.signInWithSolana)&&void 0!==Q&&Q.chainId?[`Chain ID: ${xt.signInWithSolana.chainId}`]:[],...null!==(re=xt?.signInWithSolana)&&void 0!==re&&re.nonce?[`Nonce: ${xt.signInWithSolana.nonce}`]:[],...null!==(we=xt?.signInWithSolana)&&void 0!==we&&we.requestId?[`Request ID: ${xt.signInWithSolana.requestId}`]:[],...null!==(Ye=null===(ye=xt?.signInWithSolana)||void 0===ye?void 0:ye.resources)&&void 0!==Ye&&Ye.length?["Resources",...xt.signInWithSolana.resources.map(lt=>`- ${lt}`)]:[]].join("\n");const dn=yield bn.signMessage((new TextEncoder).encode(nt),"utf8");if(!(dn&&dn instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");wt=dn}}try{const{data:Wt,error:Kt}=yield ze(f.fetch,"POST",`${f.url}/token?grant_type=web3`,{headers:f.headers,body:Object.assign({chain:"solana",message:nt,signature:zr(wt)},null!==(Be=u.options)&&void 0!==Be&&Be.captchaToken?{gotrue_meta_security:{captcha_token:null===(it=u.options)||void 0===it?void 0:it.captchaToken}}:null),xform:Dr});if(Kt)throw Kt;if(!Wt||!Wt.session||!Wt.user){const Et=new Er;return f._returnResult({data:{user:null,session:null},error:Et})}return Wt.session&&(yield f._saveSession(Wt.session),yield f._notifyAllSubscribers("SIGNED_IN",Wt.session)),f._returnResult({data:Object.assign({},Wt),error:Kt})}catch(Wt){if(bt(Wt))return f._returnResult({data:{user:null,session:null},error:Wt});throw Wt}})()}_exchangeCodeForSession(u){var f=this;return(0,c.A)(function*(){const E=yield Vn(f.storage,`${f.storageKey}-code-verifier`),[S,R]=(E??"").split("/");try{const{data:$,error:q}=yield ze(f.fetch,"POST",`${f.url}/token?grant_type=pkce`,{headers:f.headers,body:{auth_code:u,code_verifier:S},xform:Dr});if(yield Ar(f.storage,`${f.storageKey}-code-verifier`),q)throw q;if(!$||!$.session||!$.user){const Q=new Er;return f._returnResult({data:{user:null,session:null,redirectType:null},error:Q})}return $.session&&(yield f._saveSession($.session),yield f._notifyAllSubscribers("SIGNED_IN",$.session)),f._returnResult({data:Object.assign(Object.assign({},$),{redirectType:R??null}),error:q})}catch($){if(bt($))return f._returnResult({data:{user:null,session:null,redirectType:null},error:$});throw $}})()}signInWithIdToken(u){var f=this;return(0,c.A)(function*(){try{const{options:E,provider:S,token:R,access_token:$,nonce:q}=u,Q=yield ze(f.fetch,"POST",`${f.url}/token?grant_type=id_token`,{headers:f.headers,body:{provider:S,id_token:R,access_token:$,nonce:q,gotrue_meta_security:{captcha_token:E?.captchaToken}},xform:Dr}),{data:re,error:we}=Q;if(we)return f._returnResult({data:{user:null,session:null},error:we});if(!re||!re.session||!re.user){const ye=new Er;return f._returnResult({data:{user:null,session:null},error:ye})}return re.session&&(yield f._saveSession(re.session),yield f._notifyAllSubscribers("SIGNED_IN",re.session)),f._returnResult({data:re,error:we})}catch(E){if(bt(E))return f._returnResult({data:{user:null,session:null},error:E});throw E}})()}signInWithOtp(u){var f=this;return(0,c.A)(function*(){var E,S,R,$,q;try{if("email"in u){const{email:Q,options:re}=u;let we=null,ye=null;"pkce"===f.flowType&&([we,ye]=yield Xn(f.storage,f.storageKey));const{error:Ye}=yield ze(f.fetch,"POST",`${f.url}/otp`,{headers:f.headers,body:{email:Q,data:null!==(E=re?.data)&&void 0!==E?E:{},create_user:null===(S=re?.shouldCreateUser)||void 0===S||S,gotrue_meta_security:{captcha_token:re?.captchaToken},code_challenge:we,code_challenge_method:ye},redirectTo:re?.emailRedirectTo});return f._returnResult({data:{user:null,session:null},error:Ye})}if("phone"in u){const{phone:Q,options:re}=u,{data:we,error:ye}=yield ze(f.fetch,"POST",`${f.url}/otp`,{headers:f.headers,body:{phone:Q,data:null!==(R=re?.data)&&void 0!==R?R:{},create_user:null===($=re?.shouldCreateUser)||void 0===$||$,gotrue_meta_security:{captcha_token:re?.captchaToken},channel:null!==(q=re?.channel)&&void 0!==q?q:"sms"}});return f._returnResult({data:{user:null,session:null,messageId:we?.message_id},error:ye})}throw new fi("You must provide either an email or phone number.")}catch(Q){if(bt(Q))return f._returnResult({data:{user:null,session:null},error:Q});throw Q}})()}verifyOtp(u){var f=this;return(0,c.A)(function*(){var E,S;try{let R,$;"options"in u&&(R=null===(E=u.options)||void 0===E?void 0:E.redirectTo,$=null===(S=u.options)||void 0===S?void 0:S.captchaToken);const{data:q,error:Q}=yield ze(f.fetch,"POST",`${f.url}/verify`,{headers:f.headers,body:Object.assign(Object.assign({},u),{gotrue_meta_security:{captcha_token:$}}),redirectTo:R,xform:Dr});if(Q)throw Q;if(!q)throw new Error("An error occurred on token verification.");const re=q.session,we=q.user;return re?.access_token&&(yield f._saveSession(re),yield f._notifyAllSubscribers("recovery"==u.type?"PASSWORD_RECOVERY":"SIGNED_IN",re)),f._returnResult({data:{user:we,session:re},error:null})}catch(R){if(bt(R))return f._returnResult({data:{user:null,session:null},error:R});throw R}})()}signInWithSSO(u){var f=this;return(0,c.A)(function*(){var E,S,R,$,q;try{let Q=null,re=null;"pkce"===f.flowType&&([Q,re]=yield Xn(f.storage,f.storageKey));const we=yield ze(f.fetch,"POST",`${f.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in u?{provider_id:u.providerId}:null),"domain"in u?{domain:u.domain}:null),{redirect_to:null!==(S=null===(E=u.options)||void 0===E?void 0:E.redirectTo)&&void 0!==S?S:void 0}),null!==(R=u?.options)&&void 0!==R&&R.captchaToken?{gotrue_meta_security:{captcha_token:u.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:Q,code_challenge_method:re}),headers:f.headers,xform:Mi});return!(null===($=we.data)||void 0===$)&&$.url&&Cn()&&!(null!==(q=u.options)&&void 0!==q&&q.skipBrowserRedirect)&&window.location.assign(we.data.url),f._returnResult(we)}catch(Q){if(bt(Q))return f._returnResult({data:null,error:Q});throw Q}})()}reauthenticate(){var u=this;return(0,c.A)(function*(){return yield u.initializePromise,yield u._acquireLock(-1,(0,c.A)(function*(){return yield u._reauthenticate()}))})()}_reauthenticate(){var u=this;return(0,c.A)(function*(){try{return yield u._useSession(function(){var f=(0,c.A)(function*(E){const{data:{session:S},error:R}=E;if(R)throw R;if(!S)throw new _n;const{error:$}=yield ze(u.fetch,"GET",`${u.url}/reauthenticate`,{headers:u.headers,jwt:S.access_token});return u._returnResult({data:{user:null,session:null},error:$})});return function(E){return f.apply(this,arguments)}}())}catch(f){if(bt(f))return u._returnResult({data:{user:null,session:null},error:f});throw f}})()}resend(u){var f=this;return(0,c.A)(function*(){try{const E=`${f.url}/resend`;if("email"in u){const{email:S,type:R,options:$}=u,{error:q}=yield ze(f.fetch,"POST",E,{headers:f.headers,body:{email:S,type:R,gotrue_meta_security:{captcha_token:$?.captchaToken}},redirectTo:$?.emailRedirectTo});return f._returnResult({data:{user:null,session:null},error:q})}if("phone"in u){const{phone:S,type:R,options:$}=u,{data:q,error:Q}=yield ze(f.fetch,"POST",E,{headers:f.headers,body:{phone:S,type:R,gotrue_meta_security:{captcha_token:$?.captchaToken}}});return f._returnResult({data:{user:null,session:null,messageId:q?.message_id},error:Q})}throw new fi("You must provide either an email or phone number and a type")}catch(E){if(bt(E))return f._returnResult({data:{user:null,session:null},error:E});throw E}})()}getSession(){var u=this;return(0,c.A)(function*(){return yield u.initializePromise,yield u._acquireLock(-1,(0,c.A)(function*(){return u._useSession(function(){var E=(0,c.A)(function*(S){return S});return function(S){return E.apply(this,arguments)}}())}))})()}_acquireLock(u,f){var E=this;return(0,c.A)(function*(){E._debug("#_acquireLock","begin",u);try{if(E.lockAcquired){const S=E.pendingInLock.length?E.pendingInLock[E.pendingInLock.length-1]:Promise.resolve(),R=(0,c.A)(function*(){return yield S,yield f()})();return E.pendingInLock.push((0,c.A)(function*(){try{yield R}catch{}})()),R}return yield E.lock(`lock:${E.storageKey}`,u,(0,c.A)(function*(){E._debug("#_acquireLock","lock acquired for storage key",E.storageKey);try{E.lockAcquired=!0;const S=f();for(E.pendingInLock.push((0,c.A)(function*(){try{yield S}catch{}})()),yield S;E.pendingInLock.length;){const R=[...E.pendingInLock];yield Promise.all(R),E.pendingInLock.splice(0,R.length)}return yield S}finally{E._debug("#_acquireLock","lock released for storage key",E.storageKey),E.lockAcquired=!1}}))}finally{E._debug("#_acquireLock","end")}})()}_useSession(u){var f=this;return(0,c.A)(function*(){f._debug("#_useSession","begin");try{const E=yield f.__loadSession();return yield u(E)}finally{f._debug("#_useSession","end")}})()}__loadSession(){var u=this;return(0,c.A)(function*(){u._debug("#__loadSession()","begin"),u.lockAcquired||u._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let f=null;const E=yield Vn(u.storage,u.storageKey);if(u._debug("#getSession()","session from storage",E),null!==E&&(u._isValidSession(E)?f=E:(u._debug("#getSession()","session from storage is not valid"),yield u._removeSession())),!f)return{data:{session:null},error:null};const S=!!f.expires_at&&1e3*f.expires_at-Date.now()<9e4;if(u._debug("#__loadSession()",`session has${S?"":" not"} expired`,"expires_at",f.expires_at),!S){if(u.userStorage){const q=yield Vn(u.userStorage,u.storageKey+"-user");f.user=q?.user?q.user:Ki()}if(u.storage.isServer&&f.user&&!f.user.__isUserNotAvailableProxy){const q={value:u.suppressGetSessionWarning};f.user=function So(C,d){return new Proxy(C,{get:(u,f,E)=>{if("__isInsecureUserWarningProxy"===f)return!0;if("symbol"==typeof f){const S=f.toString();if("Symbol(Symbol.toPrimitive)"===S||"Symbol(Symbol.toStringTag)"===S||"Symbol(util.inspect.custom)"===S||"Symbol(nodejs.util.inspect.custom)"===S)return Reflect.get(u,f,E)}return!d.value&&"string"==typeof f&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d.value=!0),Reflect.get(u,f,E)}})}(f.user,q),q.value&&(u.suppressGetSessionWarning=!0)}return{data:{session:f},error:null}}const{data:R,error:$}=yield u._callRefreshToken(f.refresh_token);return u._returnResult($?{data:{session:null},error:$}:{data:{session:R},error:null})}finally{u._debug("#__loadSession()","end")}})()}getUser(u){var f=this;return(0,c.A)(function*(){return u?yield f._getUser(u):(yield f.initializePromise,yield f._acquireLock(-1,(0,c.A)(function*(){return yield f._getUser()})))})()}_getUser(u){var f=this;return(0,c.A)(function*(){try{return u?yield ze(f.fetch,"GET",`${f.url}/user`,{headers:f.headers,jwt:u,xform:ri}):yield f._useSession(function(){var E=(0,c.A)(function*(S){var R,$,q;const{data:Q,error:re}=S;if(re)throw re;return null!==(R=Q.session)&&void 0!==R&&R.access_token||f.hasCustomAuthorizationHeader?yield ze(f.fetch,"GET",`${f.url}/user`,{headers:f.headers,jwt:null!==(q=null===($=Q.session)||void 0===$?void 0:$.access_token)&&void 0!==q?q:void 0,xform:ri}):{data:{user:null},error:new _n}});return function(S){return E.apply(this,arguments)}}())}catch(E){if(bt(E))return function Hi(C){return bt(C)&&"AuthSessionMissingError"===C.name}(E)&&(yield f._removeSession(),yield Ar(f.storage,`${f.storageKey}-code-verifier`)),f._returnResult({data:{user:null},error:E});throw E}})()}updateUser(u){var f=this;return(0,c.A)(function*(E,S={}){return yield f.initializePromise,yield f._acquireLock(-1,(0,c.A)(function*(){return yield f._updateUser(E,S)}))}).apply(this,arguments)}_updateUser(u){var f=this;return(0,c.A)(function*(E,S={}){try{return yield f._useSession(function(){var R=(0,c.A)(function*($){const{data:q,error:Q}=$;if(Q)throw Q;if(!q.session)throw new _n;const re=q.session;let we=null,ye=null;"pkce"===f.flowType&&null!=E.email&&([we,ye]=yield Xn(f.storage,f.storageKey));const{data:Ye,error:Be}=yield ze(f.fetch,"PUT",`${f.url}/user`,{headers:f.headers,redirectTo:S?.emailRedirectTo,body:Object.assign(Object.assign({},E),{code_challenge:we,code_challenge_method:ye}),jwt:re.access_token,xform:ri});if(Be)throw Be;return re.user=Ye.user,yield f._saveSession(re),yield f._notifyAllSubscribers("USER_UPDATED",re),f._returnResult({data:{user:re.user},error:null})});return function($){return R.apply(this,arguments)}}())}catch(R){if(bt(R))return f._returnResult({data:{user:null},error:R});throw R}}).apply(this,arguments)}setSession(u){var f=this;return(0,c.A)(function*(){return yield f.initializePromise,yield f._acquireLock(-1,(0,c.A)(function*(){return yield f._setSession(u)}))})()}_setSession(u){var f=this;return(0,c.A)(function*(){try{if(!u.access_token||!u.refresh_token)throw new _n;const E=Date.now()/1e3;let S=E,R=!0,$=null;const{payload:q}=Ti(u.access_token);if(q.exp&&(S=q.exp,R=S<=E),R){const{data:Q,error:re}=yield f._callRefreshToken(u.refresh_token);if(re)return f._returnResult({data:{user:null,session:null},error:re});if(!Q)return{data:{user:null,session:null},error:null};$=Q}else{const{data:Q,error:re}=yield f._getUser(u.access_token);if(re)throw re;$={access_token:u.access_token,refresh_token:u.refresh_token,user:Q.user,token_type:"bearer",expires_in:S-E,expires_at:S},yield f._saveSession($),yield f._notifyAllSubscribers("SIGNED_IN",$)}return f._returnResult({data:{user:$.user,session:$},error:null})}catch(E){if(bt(E))return f._returnResult({data:{session:null,user:null},error:E});throw E}})()}refreshSession(u){var f=this;return(0,c.A)(function*(){return yield f.initializePromise,yield f._acquireLock(-1,(0,c.A)(function*(){return yield f._refreshSession(u)}))})()}_refreshSession(u){var f=this;return(0,c.A)(function*(){try{return yield f._useSession(function(){var E=(0,c.A)(function*(S){var R;if(!u){const{data:Q,error:re}=S;if(re)throw re;u=null!==(R=Q.session)&&void 0!==R?R:void 0}if(!u?.refresh_token)throw new _n;const{data:$,error:q}=yield f._callRefreshToken(u.refresh_token);return f._returnResult(q?{data:{user:null,session:null},error:q}:$?{data:{user:$.user,session:$},error:null}:{data:{user:null,session:null},error:null})});return function(S){return E.apply(this,arguments)}}())}catch(E){if(bt(E))return f._returnResult({data:{user:null,session:null},error:E});throw E}})()}_getSessionFromURL(u,f){var E=this;return(0,c.A)(function*(){try{if(!Cn())throw new wr("No browser detected.");if(u.error||u.error_description||u.error_code)throw new wr(u.error_description||"Error in URL with unspecified error_description",{error:u.error||"unspecified_error",code:u.error_code||"unspecified_code"});switch(f){case"implicit":if("pkce"===E.flowType)throw new Eo("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===E.flowType)throw new wr("Not a valid implicit grant flow url.")}if("pkce"===f){if(E._debug("#_initialize()","begin","is PKCE flow",!0),!u.code)throw new Eo("No code detected.");const{data:Et,error:xt}=yield E._exchangeCodeForSession(u.code);if(xt)throw xt;const bn=new URL(window.location.href);return bn.searchParams.delete("code"),window.history.replaceState(window.history.state,"",bn.toString()),{data:{session:Et.session,redirectType:null},error:null}}const{provider_token:S,provider_refresh_token:R,access_token:$,refresh_token:q,expires_in:Q,expires_at:re,token_type:we}=u;if(!($&&Q&&q&&we))throw new wr("No session defined in URL");const ye=Math.round(Date.now()/1e3),Ye=parseInt(Q);let Be=ye+Ye;re&&(Be=parseInt(re));const it=Be-ye;1e3*it<=Gn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${it}s, should have been closer to ${Ye}s`);const nt=Be-Ye;ye-nt>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",nt,Be,ye):ye-nt<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",nt,Be,ye);const{data:wt,error:Wt}=yield E._getUser($);if(Wt)throw Wt;const Kt={provider_token:S,provider_refresh_token:R,access_token:$,expires_in:Ye,expires_at:Be,refresh_token:q,token_type:we,user:wt.user};return window.location.hash="",E._debug("#_getSessionFromURL()","clearing window.location.hash"),E._returnResult({data:{session:Kt,redirectType:u.type},error:null})}catch(S){if(bt(S))return E._returnResult({data:{session:null,redirectType:null},error:S});throw S}})()}_isImplicitGrantCallback(u){return!(!u.access_token&&!u.error_description)}_isPKCECallback(u){var f=this;return(0,c.A)(function*(){const E=yield Vn(f.storage,`${f.storageKey}-code-verifier`);return!(!u.code||!E)})()}signOut(){var u=this;return(0,c.A)(function*(f={scope:"global"}){return yield u.initializePromise,yield u._acquireLock(-1,(0,c.A)(function*(){return yield u._signOut(f)}))}).apply(this,arguments)}_signOut(){var u=this;return(0,c.A)(function*({scope:f}={scope:"global"}){return yield u._useSession(function(){var E=(0,c.A)(function*(S){var R;const{data:$,error:q}=S;if(q)return u._returnResult({error:q});const Q=null===(R=$.session)||void 0===R?void 0:R.access_token;if(Q){const{error:re}=yield u.admin.signOut(Q,f);if(re&&(!function Ms(C){return bt(C)&&"AuthApiError"===C.name}(re)||404!==re.status&&401!==re.status&&403!==re.status))return u._returnResult({error:re})}return"others"!==f&&(yield u._removeSession(),yield Ar(u.storage,`${u.storageKey}-code-verifier`)),u._returnResult({error:null})});return function(S){return E.apply(this,arguments)}}())}).apply(this,arguments)}onAuthStateChange(u){var f=this;const E=function Do(){return Symbol("auth-callback")}(),S={id:E,callback:u,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",E),this.stateChangeEmitters.delete(E)}};return this._debug("#onAuthStateChange()","registered callback with id",E),this.stateChangeEmitters.set(E,S),(0,c.A)(function*(){yield f.initializePromise,yield f._acquireLock(-1,(0,c.A)(function*(){f._emitInitialSession(E)}))})(),{data:{subscription:S}}}_emitInitialSession(u){var f=this;return(0,c.A)(function*(){return yield f._useSession(function(){var E=(0,c.A)(function*(S){var R,$;try{const{data:{session:q},error:Q}=S;if(Q)throw Q;yield null===(R=f.stateChangeEmitters.get(u))||void 0===R?void 0:R.callback("INITIAL_SESSION",q),f._debug("INITIAL_SESSION","callback id",u,"session",q)}catch(q){yield null===($=f.stateChangeEmitters.get(u))||void 0===$?void 0:$.callback("INITIAL_SESSION",null),f._debug("INITIAL_SESSION","callback id",u,"error",q),console.error(q)}});return function(S){return E.apply(this,arguments)}}())})()}resetPasswordForEmail(u){var f=this;return(0,c.A)(function*(E,S={}){let R=null,$=null;"pkce"===f.flowType&&([R,$]=yield Xn(f.storage,f.storageKey,!0));try{return yield ze(f.fetch,"POST",`${f.url}/recover`,{body:{email:E,code_challenge:R,code_challenge_method:$,gotrue_meta_security:{captcha_token:S.captchaToken}},headers:f.headers,redirectTo:S.redirectTo})}catch(q){if(bt(q))return f._returnResult({data:null,error:q});throw q}}).apply(this,arguments)}getUserIdentities(){var u=this;return(0,c.A)(function*(){var f;try{const{data:E,error:S}=yield u.getUser();if(S)throw S;return u._returnResult({data:{identities:null!==(f=E.user.identities)&&void 0!==f?f:[]},error:null})}catch(E){if(bt(E))return u._returnResult({data:null,error:E});throw E}})()}linkIdentity(u){var f=this;return(0,c.A)(function*(){return"token"in u?f.linkIdentityIdToken(u):f.linkIdentityOAuth(u)})()}linkIdentityOAuth(u){var f=this;return(0,c.A)(function*(){var E;try{const{data:S,error:R}=yield f._useSession(function(){var $=(0,c.A)(function*(q){var Q,re,we,ye,Ye;const{data:Be,error:it}=q;if(it)throw it;const nt=yield f._getUrlForProvider(`${f.url}/user/identities/authorize`,u.provider,{redirectTo:null===(Q=u.options)||void 0===Q?void 0:Q.redirectTo,scopes:null===(re=u.options)||void 0===re?void 0:re.scopes,queryParams:null===(we=u.options)||void 0===we?void 0:we.queryParams,skipBrowserRedirect:!0});return yield ze(f.fetch,"GET",nt,{headers:f.headers,jwt:null!==(Ye=null===(ye=Be.session)||void 0===ye?void 0:ye.access_token)&&void 0!==Ye?Ye:void 0})});return function(q){return $.apply(this,arguments)}}());if(R)throw R;return Cn()&&!(null!==(E=u.options)&&void 0!==E&&E.skipBrowserRedirect)&&window.location.assign(S?.url),f._returnResult({data:{provider:u.provider,url:S?.url},error:null})}catch(S){if(bt(S))return f._returnResult({data:{provider:u.provider,url:null},error:S});throw S}})()}linkIdentityIdToken(u){var f=this;return(0,c.A)(function*(){return yield f._useSession(function(){var E=(0,c.A)(function*(S){var R;try{const{error:$,data:{session:q}}=S;if($)throw $;const{options:Q,provider:re,token:we,access_token:ye,nonce:Ye}=u,Be=yield ze(f.fetch,"POST",`${f.url}/token?grant_type=id_token`,{headers:f.headers,jwt:null!==(R=q?.access_token)&&void 0!==R?R:void 0,body:{provider:re,id_token:we,access_token:ye,nonce:Ye,link_identity:!0,gotrue_meta_security:{captcha_token:Q?.captchaToken}},xform:Dr}),{data:it,error:nt}=Be;return nt?f._returnResult({data:{user:null,session:null},error:nt}):it&&it.session&&it.user?(it.session&&(yield f._saveSession(it.session),yield f._notifyAllSubscribers("USER_UPDATED",it.session)),f._returnResult({data:it,error:nt})):f._returnResult({data:{user:null,session:null},error:new Er})}catch($){if(bt($))return f._returnResult({data:{user:null,session:null},error:$});throw $}});return function(S){return E.apply(this,arguments)}}())})()}unlinkIdentity(u){var f=this;return(0,c.A)(function*(){try{return yield f._useSession(function(){var E=(0,c.A)(function*(S){var R,$;const{data:q,error:Q}=S;if(Q)throw Q;return yield ze(f.fetch,"DELETE",`${f.url}/user/identities/${u.identity_id}`,{headers:f.headers,jwt:null!==($=null===(R=q.session)||void 0===R?void 0:R.access_token)&&void 0!==$?$:void 0})});return function(S){return E.apply(this,arguments)}}())}catch(E){if(bt(E))return f._returnResult({data:null,error:E});throw E}})()}_refreshAccessToken(u){var f=this;return(0,c.A)(function*(){const E=`#_refreshAccessToken(${u.substring(0,5)}...)`;f._debug(E,"begin");try{const S=Date.now();return yield function on(C,d){return new Promise((f,E)=>{(0,c.A)(function*(){for(let S=0;S<1/0;S++)try{const R=yield C(S);if(!d(S,null,R))return void f(R)}catch(R){if(!d(S,R))return void E(R)}})()})}(function(){var R=(0,c.A)(function*($){return $>0&&(yield function qi(C){return lr.apply(this,arguments)}(200*Math.pow(2,$-1))),f._debug(E,"refreshing attempt",$),yield ze(f.fetch,"POST",`${f.url}/token?grant_type=refresh_token`,{body:{refresh_token:u},headers:f.headers,xform:Dr})});return function($){return R.apply(this,arguments)}}(),(R,$)=>{const q=200*Math.pow(2,R);return $&&Yn($)&&Date.now()+q-S<Gn})}catch(S){if(f._debug(E,"error",S),bt(S))return f._returnResult({data:{session:null,user:null},error:S});throw S}finally{f._debug(E,"end")}})()}_isValidSession(u){return"object"==typeof u&&null!==u&&"access_token"in u&&"refresh_token"in u&&"expires_at"in u}_handleProviderSignIn(u,f){var E=this;return(0,c.A)(function*(){const S=yield E._getUrlForProvider(`${E.url}/authorize`,u,{redirectTo:f.redirectTo,scopes:f.scopes,queryParams:f.queryParams});return E._debug("#_handleProviderSignIn()","provider",u,"options",f,"url",S),Cn()&&!f.skipBrowserRedirect&&window.location.assign(S),{data:{provider:u,url:S},error:null}})()}_recoverAndRefresh(){var u=this;return(0,c.A)(function*(){var f,E;const S="#_recoverAndRefresh()";u._debug(S,"begin");try{const R=yield Vn(u.storage,u.storageKey);if(R&&u.userStorage){let q=yield Vn(u.userStorage,u.storageKey+"-user");!u.storage.isServer&&Object.is(u.storage,u.userStorage)&&!q&&(q={user:R.user},yield Io(u.userStorage,u.storageKey+"-user",q)),R.user=null!==(f=q?.user)&&void 0!==f?f:Ki()}else if(R&&!R.user&&!R.user){const q=yield Vn(u.storage,u.storageKey+"-user");q&&q?.user?(R.user=q.user,yield Ar(u.storage,u.storageKey+"-user"),yield Io(u.storage,u.storageKey,R)):R.user=Ki()}if(u._debug(S,"session from storage",R),!u._isValidSession(R))return u._debug(S,"session is not valid"),void(null!==R&&(yield u._removeSession()));const $=1e3*(null!==(E=R.expires_at)&&void 0!==E?E:1/0)-Date.now()<9e4;if(u._debug(S,`session has${$?"":" not"} expired with margin of 90000s`),$){if(u.autoRefreshToken&&R.refresh_token){const{error:q}=yield u._callRefreshToken(R.refresh_token);q&&(console.error(q),Yn(q)||(u._debug(S,"refresh failed with a non-retryable error, removing the session",q),yield u._removeSession()))}}else if(R.user&&!0===R.user.__isUserNotAvailableProxy)try{const{data:q,error:Q}=yield u._getUser(R.access_token);!Q&&q?.user?(R.user=q.user,yield u._saveSession(R),yield u._notifyAllSubscribers("SIGNED_IN",R)):u._debug(S,"could not get user data, skipping SIGNED_IN notification")}catch(q){console.error("Error getting user data:",q),u._debug(S,"error getting user data, skipping SIGNED_IN notification",q)}else yield u._notifyAllSubscribers("SIGNED_IN",R)}catch(R){return u._debug(S,"error",R),void console.error(R)}finally{u._debug(S,"end")}})()}_callRefreshToken(u){var f=this;return(0,c.A)(function*(){var E,S;if(!u)throw new _n;if(f.refreshingDeferred)return f.refreshingDeferred.promise;const R=`#_callRefreshToken(${u.substring(0,5)}...)`;f._debug(R,"begin");try{f.refreshingDeferred=new ko;const{data:$,error:q}=yield f._refreshAccessToken(u);if(q)throw q;if(!$.session)throw new _n;yield f._saveSession($.session),yield f._notifyAllSubscribers("TOKEN_REFRESHED",$.session);const Q={data:$.session,error:null};return f.refreshingDeferred.resolve(Q),Q}catch($){if(f._debug(R,"error",$),bt($)){const q={data:null,error:$};return Yn($)||(yield f._removeSession()),null===(E=f.refreshingDeferred)||void 0===E||E.resolve(q),q}throw null===(S=f.refreshingDeferred)||void 0===S||S.reject($),$}finally{f.refreshingDeferred=null,f._debug(R,"end")}})()}_notifyAllSubscribers(u,f){var E=this;return(0,c.A)(function*(S,R,$=!0){const q=`#_notifyAllSubscribers(${S})`;E._debug(q,"begin",R,`broadcast = ${$}`);try{E.broadcastChannel&&$&&E.broadcastChannel.postMessage({event:S,session:R});const Q=[],re=Array.from(E.stateChangeEmitters.values()).map(function(){var we=(0,c.A)(function*(ye){try{yield ye.callback(S,R)}catch(Ye){Q.push(Ye)}});return function(ye){return we.apply(this,arguments)}}());if(yield Promise.all(re),Q.length>0){for(let we=0;we<Q.length;we+=1)console.error(Q[we]);throw Q[0]}}finally{E._debug(q,"end")}}).apply(this,arguments)}_saveSession(u){var f=this;return(0,c.A)(function*(){f._debug("#_saveSession()",u),f.suppressGetSessionWarning=!0;const E=Object.assign({},u);if(f.userStorage){(!E.user||!0!==E.user.__isUserNotAvailableProxy)&&E.user&&(yield Io(f.userStorage,f.storageKey+"-user",{user:E.user}));const R=Object.assign({},E);delete R.user;const $=To(R);yield Io(f.storage,f.storageKey,$)}else{const R=To(E);yield Io(f.storage,f.storageKey,R)}})()}_removeSession(){var u=this;return(0,c.A)(function*(){u._debug("#_removeSession()"),yield Ar(u.storage,u.storageKey),yield Ar(u.storage,u.storageKey+"-code-verifier"),yield Ar(u.storage,u.storageKey+"-user"),u.userStorage&&(yield Ar(u.userStorage,u.storageKey+"-user")),yield u._notifyAllSubscribers("SIGNED_OUT",null)})()}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const u=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{u&&Cn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",u)}catch(f){console.error("removing visibilitychange callback failed",f)}}_startAutoRefresh(){var u=this;return(0,c.A)(function*(){yield u._stopAutoRefresh(),u._debug("#_startAutoRefresh()");const f=setInterval(()=>u._autoRefreshTokenTick(),Gn);u.autoRefreshTicker=f,f&&"object"==typeof f&&"function"==typeof f.unref?f.unref():typeof Deno<"u"&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(f),setTimeout((0,c.A)(function*(){yield u.initializePromise,yield u._autoRefreshTokenTick()}),0)})()}_stopAutoRefresh(){var u=this;return(0,c.A)(function*(){u._debug("#_stopAutoRefresh()");const f=u.autoRefreshTicker;u.autoRefreshTicker=null,f&&clearInterval(f)})()}startAutoRefresh(){var u=this;return(0,c.A)(function*(){u._removeVisibilityChangedCallback(),yield u._startAutoRefresh()})()}stopAutoRefresh(){var u=this;return(0,c.A)(function*(){u._removeVisibilityChangedCallback(),yield u._stopAutoRefresh()})()}_autoRefreshTokenTick(){var u=this;return(0,c.A)(function*(){u._debug("#_autoRefreshTokenTick()","begin");try{yield u._acquireLock(0,(0,c.A)(function*(){try{const f=Date.now();try{return yield u._useSession(function(){var E=(0,c.A)(function*(S){const{data:{session:R}}=S;if(!R||!R.refresh_token||!R.expires_at)return void u._debug("#_autoRefreshTokenTick()","no session");const $=Math.floor((1e3*R.expires_at-f)/Gn);u._debug("#_autoRefreshTokenTick()",`access token expires in ${$} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),$<=3&&(yield u._callRefreshToken(R.refresh_token))});return function(S){return E.apply(this,arguments)}}())}catch(E){console.error("Auto refresh tick failed with error. This is likely a transient error.",E)}}finally{u._debug("#_autoRefreshTokenTick()","end")}}))}catch(f){if(!(f.isAcquireTimeout||f instanceof Zi))throw f;u._debug("auto refresh token tick lock not available")}})()}_handleVisibilityChange(){var u=this;return(0,c.A)(function*(){if(u._debug("#_handleVisibilityChange()"),!Cn()||!window?.addEventListener)return u.autoRefreshToken&&u.startAutoRefresh(),!1;try{u.visibilityChangedCallback=(0,c.A)(function*(){return yield u._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",u.visibilityChangedCallback),yield u._onVisibilityChanged(!0)}catch(f){console.error("_handleVisibilityChange",f)}})()}_onVisibilityChanged(u){var f=this;return(0,c.A)(function*(){const E=`#_onVisibilityChanged(${u})`;f._debug(E,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(f.autoRefreshToken&&f._startAutoRefresh(),u||(yield f.initializePromise,yield f._acquireLock(-1,(0,c.A)(function*(){"visible"===document.visibilityState?yield f._recoverAndRefresh():f._debug(E,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&f.autoRefreshToken&&f._stopAutoRefresh()})()}_getUrlForProvider(u,f,E){var S=this;return(0,c.A)(function*(){const R=[`provider=${encodeURIComponent(f)}`];if(E?.redirectTo&&R.push(`redirect_to=${encodeURIComponent(E.redirectTo)}`),E?.scopes&&R.push(`scopes=${encodeURIComponent(E.scopes)}`),"pkce"===S.flowType){const[$,q]=yield Xn(S.storage,S.storageKey),Q=new URLSearchParams({code_challenge:`${encodeURIComponent($)}`,code_challenge_method:`${encodeURIComponent(q)}`});R.push(Q.toString())}if(E?.queryParams){const $=new URLSearchParams(E.queryParams);R.push($.toString())}return E?.skipBrowserRedirect&&R.push(`skip_http_redirect=${E.skipBrowserRedirect}`),`${u}?${R.join("&")}`})()}_unenroll(u){var f=this;return(0,c.A)(function*(){try{return yield f._useSession(function(){var E=(0,c.A)(function*(S){var R;const{data:$,error:q}=S;return q?f._returnResult({data:null,error:q}):yield ze(f.fetch,"DELETE",`${f.url}/factors/${u.factorId}`,{headers:f.headers,jwt:null===(R=$?.session)||void 0===R?void 0:R.access_token})});return function(S){return E.apply(this,arguments)}}())}catch(E){if(bt(E))return f._returnResult({data:null,error:E});throw E}})()}_enroll(u){var f=this;return(0,c.A)(function*(){try{return yield f._useSession(function(){var E=(0,c.A)(function*(S){var R,$;const{data:q,error:Q}=S;if(Q)return f._returnResult({data:null,error:Q});const re=Object.assign({friendly_name:u.friendlyName,factor_type:u.factorType},"phone"===u.factorType?{phone:u.phone}:"totp"===u.factorType?{issuer:u.issuer}:{}),{data:we,error:ye}=yield ze(f.fetch,"POST",`${f.url}/factors`,{body:re,headers:f.headers,jwt:null===(R=q?.session)||void 0===R?void 0:R.access_token});return ye?f._returnResult({data:null,error:ye}):("totp"===u.factorType&&"totp"===we.type&&!(null===($=we?.totp)||void 0===$)&&$.qr_code&&(we.totp.qr_code=`data:image/svg+xml;utf-8,${we.totp.qr_code}`),f._returnResult({data:we,error:null}))});return function(S){return E.apply(this,arguments)}}())}catch(E){if(bt(E))return f._returnResult({data:null,error:E});throw E}})()}_verify(u){var f=this;return(0,c.A)(function*(){return f._acquireLock(-1,(0,c.A)(function*(){try{return yield f._useSession(function(){var E=(0,c.A)(function*(S){var R;const{data:$,error:q}=S;if(q)return f._returnResult({data:null,error:q});const Q=Object.assign({challenge_id:u.challengeId},"webauthn"in u?{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_response:"create"===u.webauthn.type?Xr(u.webauthn.credential_response):Pi(u.webauthn.credential_response)})}:{code:u.code}),{data:re,error:we}=yield ze(f.fetch,"POST",`${f.url}/factors/${u.factorId}/verify`,{body:Q,headers:f.headers,jwt:null===(R=$?.session)||void 0===R?void 0:R.access_token});return we?f._returnResult({data:null,error:we}):(yield f._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+re.expires_in},re)),yield f._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",re),f._returnResult({data:re,error:we}))});return function(S){return E.apply(this,arguments)}}())}catch(E){if(bt(E))return f._returnResult({data:null,error:E});throw E}}))})()}_challenge(u){var f=this;return(0,c.A)(function*(){return f._acquireLock(-1,(0,c.A)(function*(){try{return yield f._useSession(function(){var E=(0,c.A)(function*(S){var R;const{data:$,error:q}=S;if(q)return f._returnResult({data:null,error:q});const Q=yield ze(f.fetch,"POST",`${f.url}/factors/${u.factorId}/challenge`,{body:u,headers:f.headers,jwt:null===(R=$?.session)||void 0===R?void 0:R.access_token});if(Q.error)return Q;const{data:re}=Q;if("webauthn"!==re.type)return{data:re,error:null};switch(re.webauthn.type){case"create":return{data:Object.assign(Object.assign({},re),{webauthn:Object.assign(Object.assign({},re.webauthn),{credential_options:Object.assign(Object.assign({},re.webauthn.credential_options),{publicKey:ls(re.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},re),{webauthn:Object.assign(Object.assign({},re.webauthn),{credential_options:Object.assign(Object.assign({},re.webauthn.credential_options),{publicKey:Oi(re.webauthn.credential_options.publicKey)})})}),error:null}}});return function(S){return E.apply(this,arguments)}}())}catch(E){if(bt(E))return f._returnResult({data:null,error:E});throw E}}))})()}_challengeAndVerify(u){var f=this;return(0,c.A)(function*(){const{data:E,error:S}=yield f._challenge({factorId:u.factorId});return S?f._returnResult({data:null,error:S}):yield f._verify({factorId:u.factorId,challengeId:E.id,code:u.code})})()}_listFactors(){var u=this;return(0,c.A)(function*(){var f;const{data:{user:E},error:S}=yield u.getUser();if(S)return{data:null,error:S};const R={all:[],phone:[],totp:[],webauthn:[]};for(const $ of null!==(f=E?.factors)&&void 0!==f?f:[])R.all.push($),"verified"===$.status&&R[$.factor_type].push($);return{data:R,error:null}})()}_getAuthenticatorAssuranceLevel(){var u=this;return(0,c.A)(function*(){var f,E;const{data:{session:S},error:R}=yield u.getSession();if(R)return u._returnResult({data:null,error:R});if(!S)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:$}=Ti(S.access_token);let q=null;$.aal&&(q=$.aal);let Q=q;return(null!==(E=null===(f=S.user.factors)||void 0===f?void 0:f.filter(ye=>"verified"===ye.status))&&void 0!==E?E:[]).length>0&&(Q="aal2"),{data:{currentLevel:q,nextLevel:Q,currentAuthenticationMethods:$.amr||[]},error:null}})()}_getAuthorizationDetails(u){var f=this;return(0,c.A)(function*(){try{return yield f._useSession(function(){var E=(0,c.A)(function*(S){const{data:{session:R},error:$}=S;return $?f._returnResult({data:null,error:$}):R?yield ze(f.fetch,"GET",`${f.url}/oauth/authorizations/${u}`,{headers:f.headers,jwt:R.access_token,xform:q=>({data:q,error:null})}):f._returnResult({data:null,error:new _n})});return function(S){return E.apply(this,arguments)}}())}catch(E){if(bt(E))return f._returnResult({data:null,error:E});throw E}})()}_approveAuthorization(u,f){var E=this;return(0,c.A)(function*(){try{return yield E._useSession(function(){var S=(0,c.A)(function*(R){const{data:{session:$},error:q}=R;if(q)return E._returnResult({data:null,error:q});if(!$)return E._returnResult({data:null,error:new _n});const Q=yield ze(E.fetch,"POST",`${E.url}/oauth/authorizations/${u}/consent`,{headers:E.headers,jwt:$.access_token,body:{action:"approve"},xform:re=>({data:re,error:null})});return Q.data&&Q.data.redirect_url&&Cn()&&!f?.skipBrowserRedirect&&window.location.assign(Q.data.redirect_url),Q});return function(R){return S.apply(this,arguments)}}())}catch(S){if(bt(S))return E._returnResult({data:null,error:S});throw S}})()}_denyAuthorization(u,f){var E=this;return(0,c.A)(function*(){try{return yield E._useSession(function(){var S=(0,c.A)(function*(R){const{data:{session:$},error:q}=R;if(q)return E._returnResult({data:null,error:q});if(!$)return E._returnResult({data:null,error:new _n});const Q=yield ze(E.fetch,"POST",`${E.url}/oauth/authorizations/${u}/consent`,{headers:E.headers,jwt:$.access_token,body:{action:"deny"},xform:re=>({data:re,error:null})});return Q.data&&Q.data.redirect_url&&Cn()&&!f?.skipBrowserRedirect&&window.location.assign(Q.data.redirect_url),Q});return function(R){return S.apply(this,arguments)}}())}catch(S){if(bt(S))return E._returnResult({data:null,error:S});throw S}})()}fetchJwk(u){var f=this;return(0,c.A)(function*(E,S={keys:[]}){let R=S.keys.find(re=>re.kid===E);if(R)return R;const $=Date.now();if(R=f.jwks.keys.find(re=>re.kid===E),R&&f.jwks_cached_at+6e5>$)return R;const{data:q,error:Q}=yield ze(f.fetch,"GET",`${f.url}/.well-known/jwks.json`,{headers:f.headers});if(Q)throw Q;return q.keys&&0!==q.keys.length&&(f.jwks=q,f.jwks_cached_at=$,R=q.keys.find(re=>re.kid===E),R)?R:null}).apply(this,arguments)}getClaims(u){var f=this;return(0,c.A)(function*(E,S={}){try{let R=E;if(!R){const{data:nt,error:wt}=yield f.getSession();if(wt||!nt.session)return f._returnResult({data:null,error:wt});R=nt.session.access_token}const{header:$,payload:q,signature:Q,raw:{header:re,payload:we}}=Ti(R);S?.allowExpired||function Xi(C){if(!C)throw new Error("Missing exp claim");if(C<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(q.exp);const ye=$.alg&&!$.alg.startsWith("HS")&&$.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?yield f.fetchJwk($.kid,S?.keys?{keys:S.keys}:S?.jwks):null;if(!ye){const{error:nt}=yield f.getUser(R);if(nt)throw nt;return{data:{claims:q,header:$,signature:Q},error:null}}const Ye=function ni(C){switch(C){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}($.alg),Be=yield crypto.subtle.importKey("jwk",ye,Ye,!0,["verify"]);if(!(yield crypto.subtle.verify(Ye,Be,Q,function ur(C){const d=[];return function ei(C,d){for(let u=0;u<C.length;u+=1){let f=C.charCodeAt(u);if(f>55295&&f<=56319){const E=1024*(f-55296)&65535;f=65536+(C.charCodeAt(u+1)-56320&65535|E),u+=1}Bo(f,d)}}(C,u=>d.push(u)),new Uint8Array(d)}(`${re}.${we}`))))throw new _t("Invalid JWT signature");return{data:{claims:q,header:$,signature:Q},error:null}}catch(R){if(bt(R))return f._returnResult({data:null,error:R});throw R}}).apply(this,arguments)}}return C.nextInstanceID={},C})();class cn extends mt{constructor(d){super(d)}}class Nn{constructor(d,u,f){var E,S,R;this.supabaseUrl=d,this.supabaseKey=u;const $=function Ut(C){const d=C?.trim();if(!d)throw new Error("supabaseUrl is required.");if(!d.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(function Pn(C){return C.endsWith("/")?C:C+"/"}(d))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}(d);if(!u)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",$),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",$),this.storageUrl=new URL("storage/v1",$),this.functionsUrl=new URL("functions/v1",$);const q=`sb-${$.hostname.split(".")[0]}-auth-token`,re=function qn(C,d){var u,f;const{db:E,auth:S,realtime:R,global:$}=C,{db:q,auth:Q,realtime:re,global:we}=d,ye={db:Object.assign(Object.assign({},q),E),auth:Object.assign(Object.assign({},Q),S),realtime:Object.assign(Object.assign({},re),R),storage:{},global:Object.assign(Object.assign(Object.assign({},we),$),{headers:Object.assign(Object.assign({},null!==(u=we?.headers)&&void 0!==u?u:{}),null!==(f=$?.headers)&&void 0!==f?f:{})}),accessToken:(Ye=(0,c.A)(function*(){return""}),function(){return Ye.apply(this,arguments)})};var Ye;return C.accessToken?ye.accessToken=C.accessToken:delete ye.accessToken,ye}(f??{},{db:Qe,realtime:Tt,auth:Object.assign(Object.assign({},tt),{storageKey:q}),global:We});this.storageKey=null!==(E=re.auth.storageKey)&&void 0!==E?E:"",this.headers=null!==(S=re.global.headers)&&void 0!==S?S:{},re.accessToken?(this.accessToken=re.accessToken,this.auth=new Proxy({},{get:(we,ye)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(ye)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(R=re.auth)&&void 0!==R?R:{},this.headers,re.global.fetch),this.fetch=pn(u,this._getAccessToken.bind(this),re.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},re.realtime)),this.accessToken&&this.accessToken().then(we=>this.realtime.setAuth(we)).catch(we=>console.warn("Failed to set initial Realtime auth token:",we)),this.rest=new ge(new URL("rest/v1",$).href,{headers:this.headers,schema:re.db.schema,fetch:this.fetch}),this.storage=new X(this.storageUrl.href,this.headers,this.fetch,f?.storage),re.accessToken||this._listenForAuthEvents()}get functions(){return new me(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(d){return this.rest.from(d)}schema(d){return this.rest.schema(d)}rpc(d,u={},f={head:!1,get:!1,count:void 0}){return this.rest.rpc(d,u,f)}channel(d,u={config:{}}){return this.realtime.channel(d,u)}getChannels(){return this.realtime.getChannels()}removeChannel(d){return this.realtime.removeChannel(d)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var d=this;return(0,c.A)(function*(){var u,f;if(d.accessToken)return yield d.accessToken();const{data:E}=yield d.auth.getSession();return null!==(f=null===(u=E.session)||void 0===u?void 0:u.access_token)&&void 0!==f?f:d.supabaseKey})()}_initSupabaseAuthClient({autoRefreshToken:d,persistSession:u,detectSessionInUrl:f,storage:E,userStorage:S,storageKey:R,flowType:$,lock:q,debug:Q,throwOnError:re},we,ye){return new cn({url:this.authUrl.href,headers:Object.assign(Object.assign({},{Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`}),we),storageKey:R,autoRefreshToken:d,persistSession:u,detectSessionInUrl:f,storage:E,userStorage:S,flowType:$,lock:q,debug:Q,throwOnError:re,fetch:ye,hasCustomAuthorizationHeader:Object.keys(this.headers).some(Be=>"authorization"===Be.toLowerCase())})}_initRealtimeClient(d){return new en(this.realtimeUrl.href,Object.assign(Object.assign({},d),{params:Object.assign({apikey:this.supabaseKey},d?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((u,f)=>{this._handleTokenChanged(u,"CLIENT",f?.access_token)})}_handleTokenChanged(d,u,f){"TOKEN_REFRESHED"!==d&&"SIGNED_IN"!==d||this.changedAccessToken===f?"SIGNED_OUT"===d&&(this.realtime.setAuth(),"STORAGE"==u&&this.auth.signOut(),this.changedAccessToken=void 0):(this.changedAccessToken=f,this.realtime.setAuth(f))}}const Mn=(C,d,u)=>new Nn(C,d,u);(function sn(){if(typeof window<"u"||typeof process>"u")return!1;const C=process.version;if(null==C)return!1;const d=C.match(/^v(\d+)\./);return!!d&&parseInt(d[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")},4412:(ot,_e,M)=>{"use strict";M.d(_e,{t:()=>V});var c=M(1413);class V extends c.B{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const U=super._subscribe(e);return!U.closed&&e.next(this._value),U}getValue(){const{hasError:e,thrownError:U,_value:G}=this;if(e)throw U;return this._throwIfClosed(),G}next(e){super.next(this._value=e)}}},1985:(ot,_e,M)=>{"use strict";M.d(_e,{c:()=>J});var c=M(7707),V=M(8359),Z=M(3494),e=M(1203),U=M(1026),G=M(8071),F=M(9786);let J=(()=>{class ge{constructor(xe){xe&&(this._subscribe=xe)}lift(xe){const Xe=new ge;return Xe.source=this,Xe.operator=xe,Xe}subscribe(xe,Xe,W){const K=function te(ge){return ge&&ge instanceof c.vU||function fe(ge){return ge&&(0,G.T)(ge.next)&&(0,G.T)(ge.error)&&(0,G.T)(ge.complete)}(ge)&&(0,V.Uv)(ge)}(xe)?xe:new c.Ms(xe,Xe,W);return(0,F.Y)(()=>{const{operator:le,source:De}=this;K.add(le?le.call(K,De):De?this._subscribe(K):this._trySubscribe(K))}),K}_trySubscribe(xe){try{return this._subscribe(xe)}catch(Xe){xe.error(Xe)}}forEach(xe,Xe){return new(Xe=me(Xe))((W,K)=>{const le=new c.Ms({next:De=>{try{xe(De)}catch(Fe){K(Fe),le.unsubscribe()}},error:K,complete:W});this.subscribe(le)})}_subscribe(xe){var Xe;return null===(Xe=this.source)||void 0===Xe?void 0:Xe.subscribe(xe)}[Z.s](){return this}pipe(...xe){return(0,e.m)(xe)(this)}toPromise(xe){return new(xe=me(xe))((Xe,W)=>{let K;this.subscribe(le=>K=le,le=>W(le),()=>Xe(K))})}}return ge.create=Le=>new ge(Le),ge})();function me(ge){var Le;return null!==(Le=ge??U.$.Promise)&&void 0!==Le?Le:Promise}},1413:(ot,_e,M)=>{"use strict";M.d(_e,{B:()=>F});var c=M(1985),V=M(8359);const e=(0,M(1853).L)(me=>function(){me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var U=M(7908),G=M(9786);let F=(()=>{class me extends c.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(te){const ge=new J(this,this);return ge.operator=te,ge}_throwIfClosed(){if(this.closed)throw new e}next(te){(0,G.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ge of this.currentObservers)ge.next(te)}})}error(te){(0,G.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=te;const{observers:ge}=this;for(;ge.length;)ge.shift().error(te)}})}complete(){(0,G.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:te}=this;for(;te.length;)te.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var te;return(null===(te=this.observers)||void 0===te?void 0:te.length)>0}_trySubscribe(te){return this._throwIfClosed(),super._trySubscribe(te)}_subscribe(te){return this._throwIfClosed(),this._checkFinalizedStatuses(te),this._innerSubscribe(te)}_innerSubscribe(te){const{hasError:ge,isStopped:Le,observers:xe}=this;return ge||Le?V.Kn:(this.currentObservers=null,xe.push(te),new V.yU(()=>{this.currentObservers=null,(0,U.o)(xe,te)}))}_checkFinalizedStatuses(te){const{hasError:ge,thrownError:Le,isStopped:xe}=this;ge?te.error(Le):xe&&te.complete()}asObservable(){const te=new c.c;return te.source=this,te}}return me.create=(fe,te)=>new J(fe,te),me})();class J extends F{constructor(fe,te){super(),this.destination=fe,this.source=te}next(fe){var te,ge;null===(ge=null===(te=this.destination)||void 0===te?void 0:te.next)||void 0===ge||ge.call(te,fe)}error(fe){var te,ge;null===(ge=null===(te=this.destination)||void 0===te?void 0:te.error)||void 0===ge||ge.call(te,fe)}complete(){var fe,te;null===(te=null===(fe=this.destination)||void 0===fe?void 0:fe.complete)||void 0===te||te.call(fe)}_subscribe(fe){var te,ge;return null!==(ge=null===(te=this.source)||void 0===te?void 0:te.subscribe(fe))&&void 0!==ge?ge:V.Kn}}},7707:(ot,_e,M)=>{"use strict";M.d(_e,{Ms:()=>W,vU:()=>ge});var c=M(8071),V=M(8359),Z=M(1026),e=M(5334),U=M(5343);const G=me("C",void 0,void 0);function me(be,ke,Ze){return{kind:be,value:ke,error:Ze}}var fe=M(9270),te=M(9786);class ge extends V.yU{constructor(ke){super(),this.isStopped=!1,ke?(this.destination=ke,(0,V.Uv)(ke)&&ke.add(this)):this.destination=Fe}static create(ke,Ze,pt){return new W(ke,Ze,pt)}next(ke){this.isStopped?De(function J(be){return me("N",be,void 0)}(ke),this):this._next(ke)}error(ke){this.isStopped?De(function F(be){return me("E",void 0,be)}(ke),this):(this.isStopped=!0,this._error(ke))}complete(){this.isStopped?De(G,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ke){this.destination.next(ke)}_error(ke){try{this.destination.error(ke)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Le=Function.prototype.bind;function xe(be,ke){return Le.call(be,ke)}class Xe{constructor(ke){this.partialObserver=ke}next(ke){const{partialObserver:Ze}=this;if(Ze.next)try{Ze.next(ke)}catch(pt){K(pt)}}error(ke){const{partialObserver:Ze}=this;if(Ze.error)try{Ze.error(ke)}catch(pt){K(pt)}else K(ke)}complete(){const{partialObserver:ke}=this;if(ke.complete)try{ke.complete()}catch(Ze){K(Ze)}}}class W extends ge{constructor(ke,Ze,pt){let $e;if(super(),(0,c.T)(ke)||!ke)$e={next:ke??void 0,error:Ze??void 0,complete:pt??void 0};else{let Ke;this&&Z.$.useDeprecatedNextContext?(Ke=Object.create(ke),Ke.unsubscribe=()=>this.unsubscribe(),$e={next:ke.next&&xe(ke.next,Ke),error:ke.error&&xe(ke.error,Ke),complete:ke.complete&&xe(ke.complete,Ke)}):$e=ke}this.destination=new Xe($e)}}function K(be){Z.$.useDeprecatedSynchronousErrorHandling?(0,te.l)(be):(0,e.m)(be)}function De(be,ke){const{onStoppedNotification:Ze}=Z.$;Ze&&fe.f.setTimeout(()=>Ze(be,ke))}const Fe={closed:!0,next:U.l,error:function le(be){throw be},complete:U.l}},8359:(ot,_e,M)=>{"use strict";M.d(_e,{Kn:()=>G,yU:()=>U,Uv:()=>F});var c=M(8071);const Z=(0,M(1853).L)(me=>function(te){me(this),this.message=te?`${te.length} errors occurred during unsubscription:\n${te.map((ge,Le)=>`${Le+1}) ${ge.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=te});var e=M(7908);class U{constructor(fe){this.initialTeardown=fe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let fe;if(!this.closed){this.closed=!0;const{_parentage:te}=this;if(te)if(this._parentage=null,Array.isArray(te))for(const xe of te)xe.remove(this);else te.remove(this);const{initialTeardown:ge}=this;if((0,c.T)(ge))try{ge()}catch(xe){fe=xe instanceof Z?xe.errors:[xe]}const{_finalizers:Le}=this;if(Le){this._finalizers=null;for(const xe of Le)try{J(xe)}catch(Xe){fe=fe??[],Xe instanceof Z?fe=[...fe,...Xe.errors]:fe.push(Xe)}}if(fe)throw new Z(fe)}}add(fe){var te;if(fe&&fe!==this)if(this.closed)J(fe);else{if(fe instanceof U){if(fe.closed||fe._hasParent(this))return;fe._addParent(this)}(this._finalizers=null!==(te=this._finalizers)&&void 0!==te?te:[]).push(fe)}}_hasParent(fe){const{_parentage:te}=this;return te===fe||Array.isArray(te)&&te.includes(fe)}_addParent(fe){const{_parentage:te}=this;this._parentage=Array.isArray(te)?(te.push(fe),te):te?[te,fe]:fe}_removeParent(fe){const{_parentage:te}=this;te===fe?this._parentage=null:Array.isArray(te)&&(0,e.o)(te,fe)}remove(fe){const{_finalizers:te}=this;te&&(0,e.o)(te,fe),fe instanceof U&&fe._removeParent(this)}}U.EMPTY=(()=>{const me=new U;return me.closed=!0,me})();const G=U.EMPTY;function F(me){return me instanceof U||me&&"closed"in me&&(0,c.T)(me.remove)&&(0,c.T)(me.add)&&(0,c.T)(me.unsubscribe)}function J(me){(0,c.T)(me)?me():me.unsubscribe()}},1026:(ot,_e,M)=>{"use strict";M.d(_e,{$:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(ot,_e,M)=>{"use strict";M.d(_e,{z:()=>fe});var c=M(1985),V=M(3073),Z=M(6648),e=M(3669),U=M(6450),G=M(3794),F=M(8496),J=M(4360),me=M(5225);function fe(...Le){const xe=(0,G.lI)(Le),Xe=(0,G.ms)(Le),{args:W,keys:K}=(0,V.D)(Le);if(0===W.length)return(0,Z.H)([],xe);const le=new c.c(function te(Le,xe,Xe=e.D){return W=>{ge(xe,()=>{const{length:K}=Le,le=new Array(K);let De=K,Fe=K;for(let be=0;be<K;be++)ge(xe,()=>{const ke=(0,Z.H)(Le[be],xe);let Ze=!1;ke.subscribe((0,J._)(W,pt=>{le[be]=pt,Ze||(Ze=!0,Fe--),Fe||W.next(Xe(le.slice()))},()=>{--De||W.complete()}))},W)},W)}}(W,xe,K?De=>(0,F.e)(K,De):e.D));return Xe?le.pipe((0,U.I)(Xe)):le}function ge(Le,xe,Xe){Le?(0,me.N)(Xe,Le,xe):xe()}},8793:(ot,_e,M)=>{"use strict";M.d(_e,{x:()=>U});var c=M(6365),Z=M(3794),e=M(6648);function U(...G){return function V(){return(0,c.U)(1)}()((0,e.H)(G,(0,Z.lI)(G)))}},9030:(ot,_e,M)=>{"use strict";M.d(_e,{v:()=>Z});var c=M(1985),V=M(8750);function Z(e){return new c.c(U=>{(0,V.Tg)(e()).subscribe(U)})}},983:(ot,_e,M)=>{"use strict";M.d(_e,{w:()=>V});const V=new(M(1985).c)(U=>U.complete())},7468:(ot,_e,M)=>{"use strict";M.d(_e,{p:()=>J});var c=M(1985),V=M(3073),Z=M(8750),e=M(3794),U=M(4360),G=M(6450),F=M(8496);function J(...me){const fe=(0,e.ms)(me),{args:te,keys:ge}=(0,V.D)(me),Le=new c.c(xe=>{const{length:Xe}=te;if(!Xe)return void xe.complete();const W=new Array(Xe);let K=Xe,le=Xe;for(let De=0;De<Xe;De++){let Fe=!1;(0,Z.Tg)(te[De]).subscribe((0,U._)(xe,be=>{Fe||(Fe=!0,le--),W[De]=be},()=>K--,void 0,()=>{(!K||!Fe)&&(le||xe.next(ge?(0,F.e)(ge,W):W),xe.complete())}))}});return fe?Le.pipe((0,G.I)(fe)):Le}},6648:(ot,_e,M)=>{"use strict";M.d(_e,{H:()=>pt});var c=M(8750),V=M(5225),Z=M(9974),e=M(4360);function U($e,Ke=0){return(0,Z.N)((He,vt)=>{He.subscribe((0,e._)(vt,dt=>(0,V.N)(vt,$e,()=>vt.next(dt),Ke),()=>(0,V.N)(vt,$e,()=>vt.complete(),Ke),dt=>(0,V.N)(vt,$e,()=>vt.error(dt),Ke)))})}function G($e,Ke=0){return(0,Z.N)((He,vt)=>{vt.add($e.schedule(()=>He.subscribe(vt),Ke))})}var me=M(1985),te=M(4761),ge=M(8071);function xe($e,Ke){if(!$e)throw new Error("Iterable cannot be null");return new me.c(He=>{(0,V.N)(He,Ke,()=>{const vt=$e[Symbol.asyncIterator]();(0,V.N)(He,Ke,()=>{vt.next().then(dt=>{dt.done?He.complete():He.next(dt.value)})},0,!0)})})}var Xe=M(5055),W=M(9858),K=M(7441),le=M(5397),De=M(7953),Fe=M(591),be=M(5196);function pt($e,Ke){return Ke?function Ze($e,Ke){if(null!=$e){if((0,Xe.l)($e))return function F($e,Ke){return(0,c.Tg)($e).pipe(G(Ke),U(Ke))}($e,Ke);if((0,K.X)($e))return function fe($e,Ke){return new me.c(He=>{let vt=0;return Ke.schedule(function(){vt===$e.length?He.complete():(He.next($e[vt++]),He.closed||this.schedule())})})}($e,Ke);if((0,W.y)($e))return function J($e,Ke){return(0,c.Tg)($e).pipe(G(Ke),U(Ke))}($e,Ke);if((0,De.T)($e))return xe($e,Ke);if((0,le.x)($e))return function Le($e,Ke){return new me.c(He=>{let vt;return(0,V.N)(He,Ke,()=>{vt=$e[te.l](),(0,V.N)(He,Ke,()=>{let dt,ft;try{({value:dt,done:ft}=vt.next())}catch(Pt){return void He.error(Pt)}ft?He.complete():He.next(dt)},0,!0)}),()=>(0,ge.T)(vt?.return)&&vt.return()})}($e,Ke);if((0,be.U)($e))return function ke($e,Ke){return xe((0,be.C)($e),Ke)}($e,Ke)}throw(0,Fe.L)($e)}($e,Ke):(0,c.Tg)($e)}},8750:(ot,_e,M)=>{"use strict";M.d(_e,{Tg:()=>Le});var c=M(1635),V=M(7441),Z=M(9858),e=M(1985),U=M(5055),G=M(7953),F=M(591),J=M(5397),me=M(5196),fe=M(8071),te=M(5334),ge=M(3494);function Le(be){if(be instanceof e.c)return be;if(null!=be){if((0,U.l)(be))return function xe(be){return new e.c(ke=>{const Ze=be[ge.s]();if((0,fe.T)(Ze.subscribe))return Ze.subscribe(ke);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(be);if((0,V.X)(be))return function Xe(be){return new e.c(ke=>{for(let Ze=0;Ze<be.length&&!ke.closed;Ze++)ke.next(be[Ze]);ke.complete()})}(be);if((0,Z.y)(be))return function W(be){return new e.c(ke=>{be.then(Ze=>{ke.closed||(ke.next(Ze),ke.complete())},Ze=>ke.error(Ze)).then(null,te.m)})}(be);if((0,G.T)(be))return le(be);if((0,J.x)(be))return function K(be){return new e.c(ke=>{for(const Ze of be)if(ke.next(Ze),ke.closed)return;ke.complete()})}(be);if((0,me.U)(be))return function De(be){return le((0,me.C)(be))}(be)}throw(0,F.L)(be)}function le(be){return new e.c(ke=>{(function Fe(be,ke){var Ze,pt,$e,Ke;return(0,c.__awaiter)(this,void 0,void 0,function*(){try{for(Ze=(0,c.__asyncValues)(be);!(pt=yield Ze.next()).done;)if(ke.next(pt.value),ke.closed)return}catch(He){$e={error:He}}finally{try{pt&&!pt.done&&(Ke=Ze.return)&&(yield Ke.call(Ze))}finally{if($e)throw $e.error}}ke.complete()})})(be,ke).catch(Ze=>ke.error(Ze))})}},7673:(ot,_e,M)=>{"use strict";M.d(_e,{of:()=>Z});var c=M(3794),V=M(6648);function Z(...e){const U=(0,c.lI)(e);return(0,V.H)(e,U)}},8810:(ot,_e,M)=>{"use strict";M.d(_e,{$:()=>Z});var c=M(1985),V=M(8071);function Z(e,U){const G=(0,V.T)(e)?e:()=>e,F=J=>J.error(G());return new c.c(U?J=>U.schedule(F,0,J):F)}},4360:(ot,_e,M)=>{"use strict";M.d(_e,{_:()=>V});var c=M(7707);function V(e,U,G,F,J){return new Z(e,U,G,F,J)}class Z extends c.vU{constructor(U,G,F,J,me,fe){super(U),this.onFinalize=me,this.shouldUnsubscribe=fe,this._next=G?function(te){try{G(te)}catch(ge){U.error(ge)}}:super._next,this._error=J?function(te){try{J(te)}catch(ge){U.error(ge)}finally{this.unsubscribe()}}:super._error,this._complete=F?function(){try{F()}catch(te){U.error(te)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var U;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:G}=this;super.unsubscribe(),!G&&(null===(U=this.onFinalize)||void 0===U||U.call(this))}}}},9437:(ot,_e,M)=>{"use strict";M.d(_e,{W:()=>e});var c=M(8750),V=M(4360),Z=M(9974);function e(U){return(0,Z.N)((G,F)=>{let fe,J=null,me=!1;J=G.subscribe((0,V._)(F,void 0,void 0,te=>{fe=(0,c.Tg)(U(te,e(U)(G))),J?(J.unsubscribe(),J=null,fe.subscribe(F)):me=!0})),me&&(J.unsubscribe(),J=null,fe.subscribe(F))})}},274:(ot,_e,M)=>{"use strict";M.d(_e,{H:()=>Z});var c=M(1397),V=M(8071);function Z(e,U){return(0,V.T)(U)?(0,c.Z)(e,U,1):(0,c.Z)(e,1)}},9901:(ot,_e,M)=>{"use strict";M.d(_e,{U:()=>Z});var c=M(9974),V=M(4360);function Z(e){return(0,c.N)((U,G)=>{let F=!1;U.subscribe((0,V._)(G,J=>{F=!0,G.next(J)},()=>{F||G.next(e),G.complete()}))})}},5964:(ot,_e,M)=>{"use strict";M.d(_e,{p:()=>Z});var c=M(9974),V=M(4360);function Z(e,U){return(0,c.N)((G,F)=>{let J=0;G.subscribe((0,V._)(F,me=>e.call(U,me,J++)&&F.next(me)))})}},980:(ot,_e,M)=>{"use strict";M.d(_e,{j:()=>V});var c=M(9974);function V(Z){return(0,c.N)((e,U)=>{try{e.subscribe(U)}finally{U.add(Z)}})}},1594:(ot,_e,M)=>{"use strict";M.d(_e,{$:()=>F});var c=M(9350),V=M(5964),Z=M(6697),e=M(9901),U=M(3774),G=M(3669);function F(J,me){const fe=arguments.length>=2;return te=>te.pipe(J?(0,V.p)((ge,Le)=>J(ge,Le,te)):G.D,(0,Z.s)(1),fe?(0,e.U)(me):(0,U.v)(()=>new c.G))}},6354:(ot,_e,M)=>{"use strict";M.d(_e,{T:()=>Z});var c=M(9974),V=M(4360);function Z(e,U){return(0,c.N)((G,F)=>{let J=0;G.subscribe((0,V._)(F,me=>{F.next(e.call(U,me,J++))}))})}},6365:(ot,_e,M)=>{"use strict";M.d(_e,{U:()=>Z});var c=M(1397),V=M(3669);function Z(e=1/0){return(0,c.Z)(V.D,e)}},1397:(ot,_e,M)=>{"use strict";M.d(_e,{Z:()=>J});var c=M(6354),V=M(8750),Z=M(9974),e=M(5225),U=M(4360),F=M(8071);function J(me,fe,te=1/0){return(0,F.T)(fe)?J((ge,Le)=>(0,c.T)((xe,Xe)=>fe(ge,xe,Le,Xe))((0,V.Tg)(me(ge,Le))),te):("number"==typeof fe&&(te=fe),(0,Z.N)((ge,Le)=>function G(me,fe,te,ge,Le,xe,Xe,W){const K=[];let le=0,De=0,Fe=!1;const be=()=>{Fe&&!K.length&&!le&&fe.complete()},ke=pt=>le<ge?Ze(pt):K.push(pt),Ze=pt=>{xe&&fe.next(pt),le++;let $e=!1;(0,V.Tg)(te(pt,De++)).subscribe((0,U._)(fe,Ke=>{Le?.(Ke),xe?ke(Ke):fe.next(Ke)},()=>{$e=!0},void 0,()=>{if($e)try{for(le--;K.length&&le<ge;){const Ke=K.shift();Xe?(0,e.N)(fe,Xe,()=>Ze(Ke)):Ze(Ke)}be()}catch(Ke){fe.error(Ke)}}))};return me.subscribe((0,U._)(fe,ke,()=>{Fe=!0,be()})),()=>{W?.()}}(ge,Le,me,te)))}},1943:(ot,_e,M)=>{"use strict";M.d(_e,{S:()=>Z});var c=M(9974),V=M(6649);function Z(e,U){return(0,c.N)((0,V.S)(e,U,arguments.length>=2,!0))}},6649:(ot,_e,M)=>{"use strict";M.d(_e,{S:()=>V});var c=M(4360);function V(Z,e,U,G,F){return(J,me)=>{let fe=U,te=e,ge=0;J.subscribe((0,c._)(me,Le=>{const xe=ge++;te=fe?Z(te,Le,xe):(fe=!0,Le),G&&me.next(te)},F&&(()=>{fe&&me.next(te),me.complete()})))}}},253:(ot,_e,M)=>{"use strict";M.d(_e,{t:()=>me});var c=M(1413),V=M(6129);class Z extends c.B{constructor(te=1/0,ge=1/0,Le=V.U){super(),this._bufferSize=te,this._windowTime=ge,this._timestampProvider=Le,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ge===1/0,this._bufferSize=Math.max(1,te),this._windowTime=Math.max(1,ge)}next(te){const{isStopped:ge,_buffer:Le,_infiniteTimeWindow:xe,_timestampProvider:Xe,_windowTime:W}=this;ge||(Le.push(te),!xe&&Le.push(Xe.now()+W)),this._trimBuffer(),super.next(te)}_subscribe(te){this._throwIfClosed(),this._trimBuffer();const ge=this._innerSubscribe(te),{_infiniteTimeWindow:Le,_buffer:xe}=this,Xe=xe.slice();for(let W=0;W<Xe.length&&!te.closed;W+=Le?1:2)te.next(Xe[W]);return this._checkFinalizedStatuses(te),ge}_trimBuffer(){const{_bufferSize:te,_timestampProvider:ge,_buffer:Le,_infiniteTimeWindow:xe}=this,Xe=(xe?1:2)*te;if(te<1/0&&Xe<Le.length&&Le.splice(0,Le.length-Xe),!xe){const W=ge.now();let K=0;for(let le=1;le<Le.length&&Le[le]<=W;le+=2)K=le;K&&Le.splice(0,K+1)}}}var e=M(8750),U=M(7707),G=M(9974);function J(fe,te,...ge){if(!0===te)return void fe();if(!1===te)return;const Le=new U.Ms({next:()=>{Le.unsubscribe(),fe()}});return(0,e.Tg)(te(...ge)).subscribe(Le)}function me(fe,te,ge){let Le,xe=!1;return fe&&"object"==typeof fe?({bufferSize:Le=1/0,windowTime:te=1/0,refCount:xe=!1,scheduler:ge}=fe):Le=fe??1/0,function F(fe={}){const{connector:te=()=>new c.B,resetOnError:ge=!0,resetOnComplete:Le=!0,resetOnRefCountZero:xe=!0}=fe;return Xe=>{let W,K,le,De=0,Fe=!1,be=!1;const ke=()=>{K?.unsubscribe(),K=void 0},Ze=()=>{ke(),W=le=void 0,Fe=be=!1},pt=()=>{const $e=W;Ze(),$e?.unsubscribe()};return(0,G.N)(($e,Ke)=>{De++,!be&&!Fe&&ke();const He=le=le??te();Ke.add(()=>{De--,0===De&&!be&&!Fe&&(K=J(pt,xe))}),He.subscribe(Ke),!W&&De>0&&(W=new U.Ms({next:vt=>He.next(vt),error:vt=>{be=!0,ke(),K=J(Ze,ge,vt),He.error(vt)},complete:()=>{Fe=!0,ke(),K=J(Ze,Le),He.complete()}}),(0,e.Tg)($e).subscribe(W))})(Xe)}}({connector:()=>new Z(Le,te,ge),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:xe})}},9172:(ot,_e,M)=>{"use strict";M.d(_e,{Z:()=>e});var c=M(8793),V=M(3794),Z=M(9974);function e(...U){const G=(0,V.lI)(U);return(0,Z.N)((F,J)=>{(G?(0,c.x)(U,F,G):(0,c.x)(U,F)).subscribe(J)})}},5558:(ot,_e,M)=>{"use strict";M.d(_e,{n:()=>e});var c=M(8750),V=M(9974),Z=M(4360);function e(U,G){return(0,V.N)((F,J)=>{let me=null,fe=0,te=!1;const ge=()=>te&&!me&&J.complete();F.subscribe((0,Z._)(J,Le=>{me?.unsubscribe();let xe=0;const Xe=fe++;(0,c.Tg)(U(Le,Xe)).subscribe(me=(0,Z._)(J,W=>J.next(G?G(Le,W,Xe,xe++):W),()=>{me=null,ge()}))},()=>{te=!0,ge()}))})}},6697:(ot,_e,M)=>{"use strict";M.d(_e,{s:()=>e});var c=M(983),V=M(9974),Z=M(4360);function e(U){return U<=0?()=>c.w:(0,V.N)((G,F)=>{let J=0;G.subscribe((0,Z._)(F,me=>{++J<=U&&(F.next(me),U<=J&&F.complete())}))})}},6977:(ot,_e,M)=>{"use strict";M.d(_e,{Q:()=>U});var c=M(9974),V=M(4360),Z=M(8750),e=M(5343);function U(G){return(0,c.N)((F,J)=>{(0,Z.Tg)(G).subscribe((0,V._)(J,()=>J.complete(),e.l)),!J.closed&&F.subscribe(J)})}},8141:(ot,_e,M)=>{"use strict";M.d(_e,{M:()=>U});var c=M(8071),V=M(9974),Z=M(4360),e=M(3669);function U(G,F,J){const me=(0,c.T)(G)||F||J?{next:G,error:F,complete:J}:G;return me?(0,V.N)((fe,te)=>{var ge;null===(ge=me.subscribe)||void 0===ge||ge.call(me);let Le=!0;fe.subscribe((0,Z._)(te,xe=>{var Xe;null===(Xe=me.next)||void 0===Xe||Xe.call(me,xe),te.next(xe)},()=>{var xe;Le=!1,null===(xe=me.complete)||void 0===xe||xe.call(me),te.complete()},xe=>{var Xe;Le=!1,null===(Xe=me.error)||void 0===Xe||Xe.call(me,xe),te.error(xe)},()=>{var xe,Xe;Le&&(null===(xe=me.unsubscribe)||void 0===xe||xe.call(me)),null===(Xe=me.finalize)||void 0===Xe||Xe.call(me)}))}):e.D}},3774:(ot,_e,M)=>{"use strict";M.d(_e,{v:()=>e});var c=M(9350),V=M(9974),Z=M(4360);function e(G=U){return(0,V.N)((F,J)=>{let me=!1;F.subscribe((0,Z._)(J,fe=>{me=!0,J.next(fe)},()=>me?J.complete():J.error(G())))})}function U(){return new c.G}},6129:(ot,_e,M)=>{"use strict";M.d(_e,{U:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},9270:(ot,_e,M)=>{"use strict";M.d(_e,{f:()=>c});const c={setTimeout(V,Z,...e){const{delegate:U}=c;return U?.setTimeout?U.setTimeout(V,Z,...e):setTimeout(V,Z,...e)},clearTimeout(V){const{delegate:Z}=c;return(Z?.clearTimeout||clearTimeout)(V)},delegate:void 0}},4761:(ot,_e,M)=>{"use strict";M.d(_e,{l:()=>V});const V=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(ot,_e,M)=>{"use strict";M.d(_e,{s:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(ot,_e,M)=>{"use strict";M.d(_e,{G:()=>V});const V=(0,M(1853).L)(Z=>function(){Z(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(ot,_e,M)=>{"use strict";M.d(_e,{R0:()=>G,ms:()=>e,lI:()=>U});var c=M(8071);function Z(F){return F[F.length-1]}function e(F){return(0,c.T)(Z(F))?F.pop():void 0}function U(F){return function V(F){return F&&(0,c.T)(F.schedule)}(Z(F))?F.pop():void 0}function G(F,J){return"number"==typeof Z(F)?F.pop():J}},3073:(ot,_e,M)=>{"use strict";M.d(_e,{D:()=>U});const{isArray:c}=Array,{getPrototypeOf:V,prototype:Z,keys:e}=Object;function U(F){if(1===F.length){const J=F[0];if(c(J))return{args:J,keys:null};if(function G(F){return F&&"object"==typeof F&&V(F)===Z}(J)){const me=e(J);return{args:me.map(fe=>J[fe]),keys:me}}}return{args:F,keys:null}}},7908:(ot,_e,M)=>{"use strict";function c(V,Z){if(V){const e=V.indexOf(Z);0<=e&&V.splice(e,1)}}M.d(_e,{o:()=>c})},1853:(ot,_e,M)=>{"use strict";function c(V){const e=V(U=>{Error.call(U),U.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}M.d(_e,{L:()=>c})},8496:(ot,_e,M)=>{"use strict";function c(V,Z){return V.reduce((e,U,G)=>(e[U]=Z[G],e),{})}M.d(_e,{e:()=>c})},9786:(ot,_e,M)=>{"use strict";M.d(_e,{Y:()=>Z,l:()=>e});var c=M(1026);let V=null;function Z(U){if(c.$.useDeprecatedSynchronousErrorHandling){const G=!V;if(G&&(V={errorThrown:!1,error:null}),U(),G){const{errorThrown:F,error:J}=V;if(V=null,F)throw J}}else U()}function e(U){c.$.useDeprecatedSynchronousErrorHandling&&V&&(V.errorThrown=!0,V.error=U)}},5225:(ot,_e,M)=>{"use strict";function c(V,Z,e,U=0,G=!1){const F=Z.schedule(function(){e(),G?V.add(this.schedule(null,U)):this.unsubscribe()},U);if(V.add(F),!G)return F}M.d(_e,{N:()=>c})},3669:(ot,_e,M)=>{"use strict";function c(V){return V}M.d(_e,{D:()=>c})},7441:(ot,_e,M)=>{"use strict";M.d(_e,{X:()=>c});const c=V=>V&&"number"==typeof V.length&&"function"!=typeof V},7953:(ot,_e,M)=>{"use strict";M.d(_e,{T:()=>V});var c=M(8071);function V(Z){return Symbol.asyncIterator&&(0,c.T)(Z?.[Symbol.asyncIterator])}},8071:(ot,_e,M)=>{"use strict";function c(V){return"function"==typeof V}M.d(_e,{T:()=>c})},5055:(ot,_e,M)=>{"use strict";M.d(_e,{l:()=>Z});var c=M(3494),V=M(8071);function Z(e){return(0,V.T)(e[c.s])}},5397:(ot,_e,M)=>{"use strict";M.d(_e,{x:()=>Z});var c=M(4761),V=M(8071);function Z(e){return(0,V.T)(e?.[c.l])}},9858:(ot,_e,M)=>{"use strict";M.d(_e,{y:()=>V});var c=M(8071);function V(Z){return(0,c.T)(Z?.then)}},5196:(ot,_e,M)=>{"use strict";M.d(_e,{C:()=>Z,U:()=>e});var c=M(1635),V=M(8071);function Z(U){return(0,c.__asyncGenerator)(this,arguments,function*(){const F=U.getReader();try{for(;;){const{value:J,done:me}=yield(0,c.__await)(F.read());if(me)return yield(0,c.__await)(void 0);yield yield(0,c.__await)(J)}}finally{F.releaseLock()}})}function e(U){return(0,V.T)(U?.getReader)}},9974:(ot,_e,M)=>{"use strict";M.d(_e,{N:()=>Z,S:()=>V});var c=M(8071);function V(e){return(0,c.T)(e?.lift)}function Z(e){return U=>{if(V(U))return U.lift(function(G){try{return e(G,this)}catch(F){this.error(F)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(ot,_e,M)=>{"use strict";M.d(_e,{I:()=>e});var c=M(6354);const{isArray:V}=Array;function e(U){return(0,c.T)(G=>function Z(U,G){return V(G)?U(...G):U(G)}(U,G))}},5343:(ot,_e,M)=>{"use strict";function c(){}M.d(_e,{l:()=>c})},1203:(ot,_e,M)=>{"use strict";M.d(_e,{F:()=>V,m:()=>Z});var c=M(3669);function V(...e){return Z(e)}function Z(e){return 0===e.length?c.D:1===e.length?e[0]:function(G){return e.reduce((F,J)=>J(F),G)}}},5334:(ot,_e,M)=>{"use strict";M.d(_e,{m:()=>Z});var c=M(1026),V=M(9270);function Z(e){V.f.setTimeout(()=>{const{onUnhandledError:U}=c.$;if(!U)throw e;U(e)})}},591:(ot,_e,M)=>{"use strict";function c(V){return new TypeError(`You provided ${null!==V&&"object"==typeof V?"an invalid object":`'${V}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}M.d(_e,{L:()=>c})},9293:ot=>{function _e(c,V,Z,e,U,G,F){try{var J=c[G](F),me=J.value}catch(fe){return void Z(fe)}J.done?V(me):Promise.resolve(me).then(e,U)}ot.exports=function M(c){return function(){var V=this,Z=arguments;return new Promise(function(e,U){var G=c.apply(V,Z);function F(me){_e(G,e,U,F,J,"next",me)}function J(me){_e(G,e,U,F,J,"throw",me)}F(void 0)})}},ot.exports.__esModule=!0,ot.exports.default=ot.exports},177:(ot,_e,M)=>{"use strict";M.d(_e,{AJ:()=>yr,GH:()=>Jo,Jj:()=>lo,MD:()=>wo,N0:()=>Co,PV:()=>Zo,Pc:()=>ki,QT:()=>Z,Sm:()=>W,Sq:()=>ee,UE:()=>Zr,VF:()=>U,Vy:()=>Si,Xr:()=>mi,YU:()=>di,ZD:()=>e,_b:()=>Tr,aZ:()=>le,bT:()=>Qe,e1:()=>pn,fG:()=>ln,fw:()=>K,hb:()=>xe,hj:()=>me,oe:()=>_r,qQ:()=>F,ux:()=>yn,vh:()=>Ms});var c=M(4438);let V=null;function Z(){return V}function e(y){V??=y}class U{}const F=new c.nKC("");let J=(()=>{class y{historyGo(I){throw new Error("")}static{this.\u0275fac=function(P){return new(P||y)}}static{this.\u0275prov=c.jDH({token:y,factory:()=>(0,c.WQX)(fe),providedIn:"platform"})}}return y})();const me=new c.nKC("");let fe=(()=>{class y extends J{constructor(){super(),this._doc=(0,c.WQX)(F),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Z().getBaseHref(this._doc)}onPopState(I){const P=Z().getGlobalEventTarget(this._doc,"window");return P.addEventListener("popstate",I,!1),()=>P.removeEventListener("popstate",I)}onHashChange(I){const P=Z().getGlobalEventTarget(this._doc,"window");return P.addEventListener("hashchange",I,!1),()=>P.removeEventListener("hashchange",I)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(I){this._location.pathname=I}pushState(I,P,ne){this._history.pushState(I,P,ne)}replaceState(I,P,ne){this._history.replaceState(I,P,ne)}forward(){this._history.forward()}back(){this._history.back()}historyGo(I=0){this._history.go(I)}getState(){return this._history.state}static{this.\u0275fac=function(P){return new(P||y)}}static{this.\u0275prov=c.jDH({token:y,factory:()=>new y,providedIn:"platform"})}}return y})();function te(y,j){if(0==y.length)return j;if(0==j.length)return y;let I=0;return y.endsWith("/")&&I++,j.startsWith("/")&&I++,2==I?y+j.substring(1):1==I?y+j:y+"/"+j}function ge(y){const j=y.match(/#|\?|$/),I=j&&j.index||y.length;return y.slice(0,I-("/"===y[I-1]?1:0))+y.slice(I)}function Le(y){return y&&"?"!==y[0]?"?"+y:y}let xe=(()=>{class y{historyGo(I){throw new Error("")}static{this.\u0275fac=function(P){return new(P||y)}}static{this.\u0275prov=c.jDH({token:y,factory:()=>(0,c.WQX)(W),providedIn:"root"})}}return y})();const Xe=new c.nKC("");let W=(()=>{class y extends xe{constructor(I,P){super(),this._platformLocation=I,this._removeListenerFns=[],this._baseHref=P??this._platformLocation.getBaseHrefFromDOM()??(0,c.WQX)(F).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(I){this._removeListenerFns.push(this._platformLocation.onPopState(I),this._platformLocation.onHashChange(I))}getBaseHref(){return this._baseHref}prepareExternalUrl(I){return te(this._baseHref,I)}path(I=!1){const P=this._platformLocation.pathname+Le(this._platformLocation.search),ne=this._platformLocation.hash;return ne&&I?`${P}${ne}`:P}pushState(I,P,ne,Ne){const Ue=this.prepareExternalUrl(ne+Le(Ne));this._platformLocation.pushState(I,P,Ue)}replaceState(I,P,ne,Ne){const Ue=this.prepareExternalUrl(ne+Le(Ne));this._platformLocation.replaceState(I,P,Ue)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(I=0){this._platformLocation.historyGo?.(I)}static{this.\u0275fac=function(P){return new(P||y)(c.KVO(J),c.KVO(Xe,8))}}static{this.\u0275prov=c.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})(),K=(()=>{class y extends xe{constructor(I,P){super(),this._platformLocation=I,this._baseHref="",this._removeListenerFns=[],null!=P&&(this._baseHref=P)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(I){this._removeListenerFns.push(this._platformLocation.onPopState(I),this._platformLocation.onHashChange(I))}getBaseHref(){return this._baseHref}path(I=!1){const P=this._platformLocation.hash??"#";return P.length>0?P.substring(1):P}prepareExternalUrl(I){const P=te(this._baseHref,I);return P.length>0?"#"+P:P}pushState(I,P,ne,Ne){let Ue=this.prepareExternalUrl(ne+Le(Ne));0==Ue.length&&(Ue=this._platformLocation.pathname),this._platformLocation.pushState(I,P,Ue)}replaceState(I,P,ne,Ne){let Ue=this.prepareExternalUrl(ne+Le(Ne));0==Ue.length&&(Ue=this._platformLocation.pathname),this._platformLocation.replaceState(I,P,Ue)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(I=0){this._platformLocation.historyGo?.(I)}static{this.\u0275fac=function(P){return new(P||y)(c.KVO(J),c.KVO(Xe,8))}}static{this.\u0275prov=c.jDH({token:y,factory:y.\u0275fac})}}return y})(),le=(()=>{class y{constructor(I){this._subject=new c.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=I;const P=this._locationStrategy.getBaseHref();this._basePath=function ke(y){if(new RegExp("^(https?:)?//").test(y)){const[,I]=y.split(/\/\/[^\/]+/);return I}return y}(ge(be(P))),this._locationStrategy.onPopState(ne=>{this._subject.emit({url:this.path(!0),pop:!0,state:ne.state,type:ne.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(I=!1){return this.normalize(this._locationStrategy.path(I))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(I,P=""){return this.path()==this.normalize(I+Le(P))}normalize(I){return y.stripTrailingSlash(function Fe(y,j){if(!y||!j.startsWith(y))return j;const I=j.substring(y.length);return""===I||["/",";","?","#"].includes(I[0])?I:j}(this._basePath,be(I)))}prepareExternalUrl(I){return I&&"/"!==I[0]&&(I="/"+I),this._locationStrategy.prepareExternalUrl(I)}go(I,P="",ne=null){this._locationStrategy.pushState(ne,"",I,P),this._notifyUrlChangeListeners(this.prepareExternalUrl(I+Le(P)),ne)}replaceState(I,P="",ne=null){this._locationStrategy.replaceState(ne,"",I,P),this._notifyUrlChangeListeners(this.prepareExternalUrl(I+Le(P)),ne)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(I=0){this._locationStrategy.historyGo?.(I)}onUrlChange(I){return this._urlChangeListeners.push(I),this._urlChangeSubscription??=this.subscribe(P=>{this._notifyUrlChangeListeners(P.url,P.state)}),()=>{const P=this._urlChangeListeners.indexOf(I);this._urlChangeListeners.splice(P,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(I="",P){this._urlChangeListeners.forEach(ne=>ne(I,P))}subscribe(I,P,ne){return this._subject.subscribe({next:I,error:P,complete:ne})}static{this.normalizeQueryParams=Le}static{this.joinWithSlash=te}static{this.stripTrailingSlash=ge}static{this.\u0275fac=function(P){return new(P||y)(c.KVO(xe))}}static{this.\u0275prov=c.jDH({token:y,factory:()=>function De(){return new le((0,c.KVO)(xe))}(),providedIn:"root"})}}return y})();function be(y){return y.replace(/\/index.html$/,"")}const Ze={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var pt=function(y){return y[y.Decimal=0]="Decimal",y[y.Percent=1]="Percent",y[y.Currency=2]="Currency",y[y.Scientific=3]="Scientific",y}(pt||{}),Ke=function(y){return y[y.Format=0]="Format",y[y.Standalone=1]="Standalone",y}(Ke||{}),He=function(y){return y[y.Narrow=0]="Narrow",y[y.Abbreviated=1]="Abbreviated",y[y.Wide=2]="Wide",y[y.Short=3]="Short",y}(He||{}),vt=function(y){return y[y.Short=0]="Short",y[y.Medium=1]="Medium",y[y.Long=2]="Long",y[y.Full=3]="Full",y}(vt||{});const dt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Se(y,j){return Zt((0,c.H5H)(y)[c.KH2.DateFormat],j)}function Me(y,j){return Zt((0,c.H5H)(y)[c.KH2.TimeFormat],j)}function Oe(y,j){return Zt((0,c.H5H)(y)[c.KH2.DateTimeFormat],j)}function Ae(y,j){const I=(0,c.H5H)(y),P=I[c.KH2.NumberSymbols][j];if(typeof P>"u"){if(j===dt.CurrencyDecimal)return I[c.KH2.NumberSymbols][dt.Decimal];if(j===dt.CurrencyGroup)return I[c.KH2.NumberSymbols][dt.Group]}return P}function gn(y){if(!y[c.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${y[c.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Zt(y,j){for(let I=j;I>-1;I--)if(typeof y[I]<"u")return y[I];throw new Error("Locale data API: locale data undefined")}function hn(y){const[j,I]=y.split(":");return{hours:+j,minutes:+I}}const ar=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ur={},ci=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Fr=function(y){return y[y.Short=0]="Short",y[y.ShortGMT=1]="ShortGMT",y[y.Long=2]="Long",y[y.Extended=3]="Extended",y}(Fr||{}),en=function(y){return y[y.FullYear=0]="FullYear",y[y.Month=1]="Month",y[y.Date=2]="Date",y[y.Hours=3]="Hours",y[y.Minutes=4]="Minutes",y[y.Seconds=5]="Seconds",y[y.FractionalSeconds=6]="FractionalSeconds",y[y.Day=7]="Day",y}(en||{}),Mt=function(y){return y[y.DayPeriods=0]="DayPeriods",y[y.Days=1]="Days",y[y.Months=2]="Months",y[y.Eras=3]="Eras",y}(Mt||{});function tn(y,j,I,P){let ne=function Ot(y){if(Tn(y))return y;if("number"==typeof y&&!isNaN(y))return new Date(y);if("string"==typeof y){if(y=y.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(y)){const[ne,Ne=1,Ue=1]=y.split("-").map(mt=>+mt);return Xt(ne,Ne-1,Ue)}const I=parseFloat(y);if(!isNaN(y-I))return new Date(I);let P;if(P=y.match(ar))return function Ht(y){const j=new Date(0);let I=0,P=0;const ne=y[8]?j.setUTCFullYear:j.setFullYear,Ne=y[8]?j.setUTCHours:j.setHours;y[9]&&(I=Number(y[9]+y[10]),P=Number(y[9]+y[11])),ne.call(j,Number(y[1]),Number(y[2])-1,Number(y[3]));const Ue=Number(y[4]||0)-I,mt=Number(y[5]||0)-P,cn=Number(y[6]||0),Nn=Math.floor(1e3*parseFloat("0."+(y[7]||0)));return Ne.call(j,Ue,mt,cn,Nn),j}(P)}const j=new Date(y);if(!Tn(j))throw new Error(`Unable to convert "${y}" into a date`);return j}(y);j=jn(I,j)||j;let mt,Ue=[];for(;j;){if(mt=ci.exec(j),!mt){Ue.push(j);break}{Ue=Ue.concat(mt.slice(1));const Mn=Ue.pop();if(!Mn)break;j=Mn}}let cn=ne.getTimezoneOffset();P&&(cn=pe(P,cn),ne=function ct(y,j,I){const P=I?-1:1,ne=y.getTimezoneOffset();return function qe(y,j){return(y=new Date(y.getTime())).setMinutes(y.getMinutes()+j),y}(y,P*(pe(j,ne)-ne))}(ne,P,!0));let Nn="";return Ue.forEach(Mn=>{const sn=function se(y){if(he[y])return he[y];let j;switch(y){case"G":case"GG":case"GGG":j=vn(Mt.Eras,He.Abbreviated);break;case"GGGG":j=vn(Mt.Eras,He.Wide);break;case"GGGGG":j=vn(Mt.Eras,He.Narrow);break;case"y":j=Fn(en.FullYear,1,0,!1,!0);break;case"yy":j=Fn(en.FullYear,2,0,!0,!0);break;case"yyy":j=Fn(en.FullYear,3,0,!1,!0);break;case"yyyy":j=Fn(en.FullYear,4,0,!1,!0);break;case"Y":j=je(1);break;case"YY":j=je(2,!0);break;case"YYY":j=je(3);break;case"YYYY":j=je(4);break;case"M":case"L":j=Fn(en.Month,1,1);break;case"MM":case"LL":j=Fn(en.Month,2,1);break;case"MMM":j=vn(Mt.Months,He.Abbreviated);break;case"MMMM":j=vn(Mt.Months,He.Wide);break;case"MMMMM":j=vn(Mt.Months,He.Narrow);break;case"LLL":j=vn(Mt.Months,He.Abbreviated,Ke.Standalone);break;case"LLLL":j=vn(Mt.Months,He.Wide,Ke.Standalone);break;case"LLLLL":j=vn(Mt.Months,He.Narrow,Ke.Standalone);break;case"w":j=Dn(1);break;case"ww":j=Dn(2);break;case"W":j=Dn(1,!0);break;case"d":j=Fn(en.Date,1);break;case"dd":j=Fn(en.Date,2);break;case"c":case"cc":j=Fn(en.Day,1);break;case"ccc":j=vn(Mt.Days,He.Abbreviated,Ke.Standalone);break;case"cccc":j=vn(Mt.Days,He.Wide,Ke.Standalone);break;case"ccccc":j=vn(Mt.Days,He.Narrow,Ke.Standalone);break;case"cccccc":j=vn(Mt.Days,He.Short,Ke.Standalone);break;case"E":case"EE":case"EEE":j=vn(Mt.Days,He.Abbreviated);break;case"EEEE":j=vn(Mt.Days,He.Wide);break;case"EEEEE":j=vn(Mt.Days,He.Narrow);break;case"EEEEEE":j=vn(Mt.Days,He.Short);break;case"a":case"aa":case"aaa":j=vn(Mt.DayPeriods,He.Abbreviated);break;case"aaaa":j=vn(Mt.DayPeriods,He.Wide);break;case"aaaaa":j=vn(Mt.DayPeriods,He.Narrow);break;case"b":case"bb":case"bbb":j=vn(Mt.DayPeriods,He.Abbreviated,Ke.Standalone,!0);break;case"bbbb":j=vn(Mt.DayPeriods,He.Wide,Ke.Standalone,!0);break;case"bbbbb":j=vn(Mt.DayPeriods,He.Narrow,Ke.Standalone,!0);break;case"B":case"BB":case"BBB":j=vn(Mt.DayPeriods,He.Abbreviated,Ke.Format,!0);break;case"BBBB":j=vn(Mt.DayPeriods,He.Wide,Ke.Format,!0);break;case"BBBBB":j=vn(Mt.DayPeriods,He.Narrow,Ke.Format,!0);break;case"h":j=Fn(en.Hours,1,-12);break;case"hh":j=Fn(en.Hours,2,-12);break;case"H":j=Fn(en.Hours,1);break;case"HH":j=Fn(en.Hours,2);break;case"m":j=Fn(en.Minutes,1);break;case"mm":j=Fn(en.Minutes,2);break;case"s":j=Fn(en.Seconds,1);break;case"ss":j=Fn(en.Seconds,2);break;case"S":j=Fn(en.FractionalSeconds,1);break;case"SS":j=Fn(en.FractionalSeconds,2);break;case"SSS":j=Fn(en.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":j=Rt(Fr.Short);break;case"ZZZZZ":j=Rt(Fr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":j=Rt(Fr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":j=Rt(Fr.Long);break;default:return null}return he[y]=j,j}(Mn);Nn+=sn?sn(ne,I,cn):"''"===Mn?"'":Mn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Nn}function Xt(y,j,I){const P=new Date(0);return P.setFullYear(y,j,I),P.setHours(0,0,0),P}function jn(y,j){const I=function Pt(y){return(0,c.H5H)(y)[c.KH2.LocaleId]}(y);if(Ur[I]??={},Ur[I][j])return Ur[I][j];let P="";switch(j){case"shortDate":P=Se(y,vt.Short);break;case"mediumDate":P=Se(y,vt.Medium);break;case"longDate":P=Se(y,vt.Long);break;case"fullDate":P=Se(y,vt.Full);break;case"shortTime":P=Me(y,vt.Short);break;case"mediumTime":P=Me(y,vt.Medium);break;case"longTime":P=Me(y,vt.Long);break;case"fullTime":P=Me(y,vt.Full);break;case"short":const ne=jn(y,"shortTime"),Ne=jn(y,"shortDate");P=Qr(Oe(y,vt.Short),[ne,Ne]);break;case"medium":const Ue=jn(y,"mediumTime"),mt=jn(y,"mediumDate");P=Qr(Oe(y,vt.Medium),[Ue,mt]);break;case"long":const cn=jn(y,"longTime"),Nn=jn(y,"longDate");P=Qr(Oe(y,vt.Long),[cn,Nn]);break;case"full":const Mn=jn(y,"fullTime"),sn=jn(y,"fullDate");P=Qr(Oe(y,vt.Full),[Mn,sn])}return P&&(Ur[I][j]=P),P}function Qr(y,j){return j&&(y=y.replace(/\{([^}]+)}/g,function(I,P){return null!=j&&P in j?j[P]:I})),y}function Ln(y,j,I="-",P,ne){let Ne="";(y<0||ne&&y<=0)&&(ne?y=1-y:(y=-y,Ne=I));let Ue=String(y);for(;Ue.length<j;)Ue="0"+Ue;return P&&(Ue=Ue.slice(Ue.length-j)),Ne+Ue}function Fn(y,j,I=0,P=!1,ne=!1){return function(Ne,Ue){let mt=function nn(y,j){switch(y){case en.FullYear:return j.getFullYear();case en.Month:return j.getMonth();case en.Date:return j.getDate();case en.Hours:return j.getHours();case en.Minutes:return j.getMinutes();case en.Seconds:return j.getSeconds();case en.FractionalSeconds:return j.getMilliseconds();case en.Day:return j.getDay();default:throw new Error(`Unknown DateType value "${y}".`)}}(y,Ne);if((I>0||mt>-I)&&(mt+=I),y===en.Hours)0===mt&&-12===I&&(mt=12);else if(y===en.FractionalSeconds)return function Br(y,j){return Ln(y,3).substring(0,j)}(mt,j);const cn=Ae(Ue,dt.MinusSign);return Ln(mt,j,cn,P,ne)}}function vn(y,j,I=Ke.Format,P=!1){return function(ne,Ne){return function jo(y,j,I,P,ne,Ne){switch(I){case Mt.Months:return function St(y,j,I){const P=(0,c.H5H)(y),Ne=Zt([P[c.KH2.MonthsFormat],P[c.KH2.MonthsStandalone]],j);return Zt(Ne,I)}(j,ne,P)[y.getMonth()];case Mt.Days:return function jt(y,j,I){const P=(0,c.H5H)(y),Ne=Zt([P[c.KH2.DaysFormat],P[c.KH2.DaysStandalone]],j);return Zt(Ne,I)}(j,ne,P)[y.getDay()];case Mt.DayPeriods:const Ue=y.getHours(),mt=y.getMinutes();if(Ne){const Nn=function At(y){const j=(0,c.H5H)(y);return gn(j),(j[c.KH2.ExtraData][2]||[]).map(P=>"string"==typeof P?hn(P):[hn(P[0]),hn(P[1])])}(j),Mn=function xn(y,j,I){const P=(0,c.H5H)(y);gn(P);const Ne=Zt([P[c.KH2.ExtraData][0],P[c.KH2.ExtraData][1]],j)||[];return Zt(Ne,I)||[]}(j,ne,P),sn=Nn.findIndex(C=>{if(Array.isArray(C)){const[d,u]=C,f=Ue>=d.hours&&mt>=d.minutes,E=Ue<u.hours||Ue===u.hours&&mt<u.minutes;if(d.hours<u.hours){if(f&&E)return!0}else if(f||E)return!0}else if(C.hours===Ue&&C.minutes===mt)return!0;return!1});if(-1!==sn)return Mn[sn]}return function Sn(y,j,I){const P=(0,c.H5H)(y),Ne=Zt([P[c.KH2.DayPeriodsFormat],P[c.KH2.DayPeriodsStandalone]],j);return Zt(Ne,I)}(j,ne,P)[Ue<12?0:1];case Mt.Eras:return function dr(y,j){return Zt((0,c.H5H)(y)[c.KH2.Eras],j)}(j,P)[y.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${I}`)}}(ne,Ne,y,j,I,P)}}function Rt(y){return function(j,I,P){const ne=-1*P,Ne=Ae(I,dt.MinusSign),Ue=ne>0?Math.floor(ne/60):Math.ceil(ne/60);switch(y){case Fr.Short:return(ne>=0?"+":"")+Ln(Ue,2,Ne)+Ln(Math.abs(ne%60),2,Ne);case Fr.ShortGMT:return"GMT"+(ne>=0?"+":"")+Ln(Ue,1,Ne);case Fr.Long:return"GMT"+(ne>=0?"+":"")+Ln(Ue,2,Ne)+":"+Ln(Math.abs(ne%60),2,Ne);case Fr.Extended:return 0===P?"Z":(ne>=0?"+":"")+Ln(Ue,2,Ne)+":"+Ln(Math.abs(ne%60),2,Ne);default:throw new Error(`Unknown zone width "${y}"`)}}}const hr=0,Lt=4;function Ir(y){const j=y.getDay(),I=0===j?-3:Lt-j;return Xt(y.getFullYear(),y.getMonth(),y.getDate()+I)}function Dn(y,j=!1){return function(I,P){let ne;if(j){const Ne=new Date(I.getFullYear(),I.getMonth(),1).getDay()-1,Ue=I.getDate();ne=1+Math.floor((Ue+Ne)/7)}else{const Ne=Ir(I),Ue=function pr(y){const j=Xt(y,hr,1).getDay();return Xt(y,0,1+(j<=Lt?Lt:Lt+7)-j)}(Ne.getFullYear()),mt=Ne.getTime()-Ue.getTime();ne=1+Math.round(mt/6048e5)}return Ln(ne,y,Ae(P,dt.MinusSign))}}function je(y,j=!1){return function(I,P){return Ln(Ir(I).getFullYear(),y,Ae(P,dt.MinusSign),j)}}const he={};function pe(y,j){y=y.replace(/:/g,"");const I=Date.parse("Jan 01, 1970 00:00:00 "+y)/6e4;return isNaN(I)?j:I}function Tn(y){return y instanceof Date&&!isNaN(y.valueOf())}const nr=/^(\d+)?\.((\d+)(-(\d+))?)?$/,mr=22,or=".",ao="0",Jn=";",Gr=",",vo="#";function Fi(y,j,I,P,ne){const Ue=function Sr(y,j="-"){const I={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},P=y.split(Jn),ne=P[0],Ne=P[1],Ue=-1!==ne.indexOf(or)?ne.split(or):[ne.substring(0,ne.lastIndexOf(ao)+1),ne.substring(ne.lastIndexOf(ao)+1)],mt=Ue[0],cn=Ue[1]||"";I.posPre=mt.substring(0,mt.indexOf(vo));for(let Mn=0;Mn<cn.length;Mn++){const sn=cn.charAt(Mn);sn===ao?I.minFrac=I.maxFrac=Mn+1:sn===vo?I.maxFrac=Mn+1:I.posSuf+=sn}const Nn=mt.split(Gr);if(I.gSize=Nn[1]?Nn[1].length:0,I.lgSize=Nn[2]||Nn[1]?(Nn[2]||Nn[1]).length:0,Ne){const Mn=ne.length-I.posPre.length-I.posSuf.length,sn=Ne.indexOf(vo);I.negPre=Ne.substring(0,sn).replace(/'/g,""),I.negSuf=Ne.slice(sn+Mn).replace(/'/g,"")}else I.negPre=j+I.posPre,I.negSuf=I.posSuf;return I}(function Je(y,j){return(0,c.H5H)(y)[c.KH2.NumberFormats][j]}(j,pt.Currency),Ae(j,dt.MinusSign));return Ue.minFrac=function tr(y){let j;const I=Ze[y];return I&&(j=I[2]),"number"==typeof j?j:2}(P),Ue.maxFrac=Ue.minFrac,function Lo(y,j,I,P,ne,Ne,Ue=!1){let mt="",cn=!1;if(isFinite(y)){let Nn=function Jr(y){let P,ne,Ne,Ue,mt,j=Math.abs(y)+"",I=0;for((ne=j.indexOf(or))>-1&&(j=j.replace(or,"")),(Ne=j.search(/e/i))>0?(ne<0&&(ne=Ne),ne+=+j.slice(Ne+1),j=j.substring(0,Ne)):ne<0&&(ne=j.length),Ne=0;j.charAt(Ne)===ao;Ne++);if(Ne===(mt=j.length))P=[0],ne=1;else{for(mt--;j.charAt(mt)===ao;)mt--;for(ne-=Ne,P=[],Ue=0;Ne<=mt;Ne++,Ue++)P[Ue]=Number(j.charAt(Ne))}return ne>mr&&(P=P.splice(0,mr-1),I=ne-1,ne=1),{digits:P,exponent:I,integerLen:ne}}(y);Ue&&(Nn=function rn(y){if(0===y.digits[0])return y;const j=y.digits.length-y.integerLen;return y.exponent?y.exponent+=2:(0===j?y.digits.push(0,0):1===j&&y.digits.push(0),y.integerLen+=2),y}(Nn));let Mn=j.minInt,sn=j.minFrac,C=j.maxFrac;if(Ne){const R=Ne.match(nr);if(null===R)throw new Error(`${Ne} is not a valid digit info`);const $=R[1],q=R[3],Q=R[5];null!=$&&(Mn=qr($)),null!=q&&(sn=qr(q)),null!=Q?C=qr(Q):null!=q&&sn>C&&(C=sn)}!function br(y,j,I){if(j>I)throw new Error(`The minimum number of digits after fraction (${j}) is higher than the maximum (${I}).`);let P=y.digits,ne=P.length-y.integerLen;const Ne=Math.min(Math.max(j,ne),I);let Ue=Ne+y.integerLen,mt=P[Ue];if(Ue>0){P.splice(Math.max(y.integerLen,Ue));for(let sn=Ue;sn<P.length;sn++)P[sn]=0}else{ne=Math.max(0,ne),y.integerLen=1,P.length=Math.max(1,Ue=Ne+1),P[0]=0;for(let sn=1;sn<Ue;sn++)P[sn]=0}if(mt>=5)if(Ue-1<0){for(let sn=0;sn>Ue;sn--)P.unshift(0),y.integerLen++;P.unshift(1),y.integerLen++}else P[Ue-1]++;for(;ne<Math.max(0,Ne);ne++)P.push(0);let cn=0!==Ne;const Nn=j+y.integerLen,Mn=P.reduceRight(function(sn,C,d,u){return u[d]=(C+=sn)<10?C:C-10,cn&&(0===u[d]&&d>=Nn?u.pop():cn=!1),C>=10?1:0},0);Mn&&(P.unshift(Mn),y.integerLen++)}(Nn,sn,C);let d=Nn.digits,u=Nn.integerLen;const f=Nn.exponent;let E=[];for(cn=d.every(R=>!R);u<Mn;u++)d.unshift(0);for(;u<0;u++)d.unshift(0);u>0?E=d.splice(u,d.length):(E=d,d=[0]);const S=[];for(d.length>=j.lgSize&&S.unshift(d.splice(-j.lgSize,d.length).join(""));d.length>j.gSize;)S.unshift(d.splice(-j.gSize,d.length).join(""));d.length&&S.unshift(d.join("")),mt=S.join(Ae(I,P)),E.length&&(mt+=Ae(I,ne)+E.join("")),f&&(mt+=Ae(I,dt.Exponential)+"+"+f)}else mt=Ae(I,dt.Infinity);return mt=y<0&&!cn?j.negPre+mt+j.negSuf:j.posPre+mt+j.posSuf,mt}(y,Ue,j,dt.CurrencyGroup,dt.CurrencyDecimal,ne).replace("\xa4",I).replace("\xa4","").trim()}function qr(y){const j=parseInt(y);if(isNaN(j))throw new Error("Invalid integer literal when parsing "+y);return j}function Tr(y,j){j=encodeURIComponent(j);for(const I of y.split(";")){const P=I.indexOf("="),[ne,Ne]=-1==P?[I,""]:[I.slice(0,P),I.slice(P+1)];if(ne.trim()===j)return decodeURIComponent(Ne)}return null}const Vo=/\s+/,yo=[];let di=(()=>{class y{constructor(I,P){this._ngEl=I,this._renderer=P,this.initialClasses=yo,this.stateMap=new Map}set klass(I){this.initialClasses=null!=I?I.trim().split(Vo):yo}set ngClass(I){this.rawClass="string"==typeof I?I.trim().split(Vo):I}ngDoCheck(){for(const P of this.initialClasses)this._updateState(P,!0);const I=this.rawClass;if(Array.isArray(I)||I instanceof Set)for(const P of I)this._updateState(P,!0);else if(null!=I)for(const P of Object.keys(I))this._updateState(P,!!I[P]);this._applyStateDiff()}_updateState(I,P){const ne=this.stateMap.get(I);void 0!==ne?(ne.enabled!==P&&(ne.changed=!0,ne.enabled=P),ne.touched=!0):this.stateMap.set(I,{enabled:P,changed:!0,touched:!0})}_applyStateDiff(){for(const I of this.stateMap){const P=I[0],ne=I[1];ne.changed?(this._toggleClass(P,ne.enabled),ne.changed=!1):ne.touched||(ne.enabled&&this._toggleClass(P,!1),this.stateMap.delete(P)),ne.touched=!1}}_toggleClass(I,P){(I=I.trim()).length>0&&I.split(Vo).forEach(ne=>{P?this._renderer.addClass(this._ngEl.nativeElement,ne):this._renderer.removeClass(this._ngEl.nativeElement,ne)})}static{this.\u0275fac=function(P){return new(P||y)(c.rXU(c.aKT),c.rXU(c.sFG))}}static{this.\u0275dir=c.FsC({type:y,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return y})();class ae{constructor(j,I,P,ne){this.$implicit=j,this.ngForOf=I,this.index=P,this.count=ne}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ee=(()=>{class y{set ngForOf(I){this._ngForOf=I,this._ngForOfDirty=!0}set ngForTrackBy(I){this._trackByFn=I}get ngForTrackBy(){return this._trackByFn}constructor(I,P,ne){this._viewContainer=I,this._template=P,this._differs=ne,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(I){I&&(this._template=I)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const I=this._ngForOf;!this._differ&&I&&(this._differ=this._differs.find(I).create(this.ngForTrackBy))}if(this._differ){const I=this._differ.diff(this._ngForOf);I&&this._applyChanges(I)}}_applyChanges(I){const P=this._viewContainer;I.forEachOperation((ne,Ne,Ue)=>{if(null==ne.previousIndex)P.createEmbeddedView(this._template,new ae(ne.item,this._ngForOf,-1,-1),null===Ue?void 0:Ue);else if(null==Ue)P.remove(null===Ne?void 0:Ne);else if(null!==Ne){const mt=P.get(Ne);P.move(mt,Ue),Te(mt,ne)}});for(let ne=0,Ne=P.length;ne<Ne;ne++){const mt=P.get(ne).context;mt.index=ne,mt.count=Ne,mt.ngForOf=this._ngForOf}I.forEachIdentityChange(ne=>{Te(P.get(ne.currentIndex),ne)})}static ngTemplateContextGuard(I,P){return!0}static{this.\u0275fac=function(P){return new(P||y)(c.rXU(c.c1b),c.rXU(c.C4Q),c.rXU(c._q3))}}static{this.\u0275dir=c.FsC({type:y,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return y})();function Te(y,j){y.context.$implicit=j.item}let Qe=(()=>{class y{constructor(I,P){this._viewContainer=I,this._context=new tt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=P}set ngIf(I){this._context.$implicit=this._context.ngIf=I,this._updateView()}set ngIfThen(I){Tt("ngIfThen",I),this._thenTemplateRef=I,this._thenViewRef=null,this._updateView()}set ngIfElse(I){Tt("ngIfElse",I),this._elseTemplateRef=I,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(I,P){return!0}static{this.\u0275fac=function(P){return new(P||y)(c.rXU(c.c1b),c.rXU(c.C4Q))}}static{this.\u0275dir=c.FsC({type:y,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return y})();class tt{constructor(){this.$implicit=null,this.ngIf=null}}function Tt(y,j){if(j&&!j.createEmbeddedView)throw new Error(`${y} must be a TemplateRef, but received '${(0,c.Tbb)(j)}'.`)}class yt{constructor(j,I){this._viewContainerRef=j,this._templateRef=I,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(j){j&&!this._created?this.create():!j&&this._created&&this.destroy()}}let yn=(()=>{class y{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(I){this._ngSwitch=I,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(I){this._defaultViews.push(I)}_matchCase(I){const P=I===this._ngSwitch;return this._lastCasesMatched||=P,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),P}_updateDefaultCases(I){if(this._defaultViews.length>0&&I!==this._defaultUsed){this._defaultUsed=I;for(const P of this._defaultViews)P.enforceState(I)}}static{this.\u0275fac=function(P){return new(P||y)}}static{this.\u0275dir=c.FsC({type:y,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return y})(),pn=(()=>{class y{constructor(I,P,ne){this.ngSwitch=ne,ne._addCase(),this._view=new yt(I,P)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(P){return new(P||y)(c.rXU(c.c1b),c.rXU(c.C4Q),c.rXU(yn,9))}}static{this.\u0275dir=c.FsC({type:y,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return y})(),ln=(()=>{class y{constructor(I,P,ne){ne._addDefault(new yt(I,P))}static{this.\u0275fac=function(P){return new(P||y)(c.rXU(c.c1b),c.rXU(c.C4Q),c.rXU(yn,9))}}static{this.\u0275dir=c.FsC({type:y,selectors:[["","ngSwitchDefault",""]],standalone:!0})}}return y})();function ht(y,j){return new c.wOt(2100,!1)}class gr{createSubscription(j,I){return(0,c.O8t)(()=>j.subscribe({next:I,error:P=>{throw P}}))}dispose(j){(0,c.O8t)(()=>j.unsubscribe())}}class Qo{createSubscription(j,I){return j.then(I,P=>{throw P})}dispose(j){}}const uo=new Qo,Uo=new gr;let lo=(()=>{class y{constructor(I){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=I}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(I){if(!this._obj){if(I)try{this.markForCheckOnValueUpdate=!1,this._subscribe(I)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return I!==this._obj?(this._dispose(),this.transform(I)):this._latestValue}_subscribe(I){this._obj=I,this._strategy=this._selectStrategy(I),this._subscription=this._strategy.createSubscription(I,P=>this._updateLatestValue(I,P))}_selectStrategy(I){if((0,c.jNT)(I))return uo;if((0,c.zjR)(I))return Uo;throw ht()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(I,P){I===this._obj&&(this._latestValue=P,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(P){return new(P||y)(c.rXU(c.gRc,16))}}static{this.\u0275pipe=c.EJ8({name:"async",type:y,pure:!1,standalone:!0})}}return y})(),Jo=(()=>{class y{transform(I){if(null==I)return null;if("string"!=typeof I)throw ht();return I.toLowerCase()}static{this.\u0275fac=function(P){return new(P||y)}}static{this.\u0275pipe=c.EJ8({name:"lowercase",type:y,pure:!0,standalone:!0})}}return y})();const qt=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Zo=(()=>{class y{transform(I){if(null==I)return null;if("string"!=typeof I)throw ht();return I.replace(qt,P=>P[0].toUpperCase()+P.slice(1).toLowerCase())}static{this.\u0275fac=function(P){return new(P||y)}}static{this.\u0275pipe=c.EJ8({name:"titlecase",type:y,pure:!0,standalone:!0})}}return y})(),ki=(()=>{class y{transform(I){if(null==I)return null;if("string"!=typeof I)throw ht();return I.toUpperCase()}static{this.\u0275fac=function(P){return new(P||y)}}static{this.\u0275pipe=c.EJ8({name:"uppercase",type:y,pure:!0,standalone:!0})}}return y})();const bt=new c.nKC(""),ms=new c.nKC("");let Ms=(()=>{class y{constructor(I,P,ne){this.locale=I,this.defaultTimezone=P,this.defaultOptions=ne}transform(I,P,ne,Ne){if(null==I||""===I||I!=I)return null;try{return tn(I,P??this.defaultOptions?.dateFormat??"mediumDate",Ne||this.locale,ne??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Ue){throw ht()}}static{this.\u0275fac=function(P){return new(P||y)(c.rXU(c.xe9,16),c.rXU(bt,24),c.rXU(ms,24))}}static{this.\u0275pipe=c.EJ8({name:"date",type:y,pure:!0,standalone:!0})}}return y})(),_r=(()=>{class y{constructor(I,P="USD"){this._locale=I,this._defaultCurrencyCode=P}transform(I,P=this._defaultCurrencyCode,ne="symbol",Ne,Ue){if(!function Yn(y){return!(null==y||""===y||y!=y)}(I))return null;Ue||=this._locale,"boolean"==typeof ne&&(ne=ne?"symbol":"code");let mt=P||this._defaultCurrencyCode;"code"!==ne&&(mt="symbol"===ne||"symbol-narrow"===ne?function Wn(y,j,I="en"){const P=function En(y){return(0,c.H5H)(y)[c.KH2.Currencies]}(I)[y]||Ze[y]||[],ne=P[1];return"narrow"===j&&"string"==typeof ne?ne:P[0]||y}(mt,"symbol"===ne?"wide":"narrow",Ue):ne);try{return Fi(function Rn(y){if("string"==typeof y&&!isNaN(Number(y)-parseFloat(y)))return Number(y);if("number"!=typeof y)throw new Error(`${y} is not a number`);return y}(I),Ue,mt,P,Ne)}catch(cn){throw ht()}}static{this.\u0275fac=function(P){return new(P||y)(c.rXU(c.xe9,16),c.rXU(c.Ocv,16))}}static{this.\u0275pipe=c.EJ8({name:"currency",type:y,pure:!0,standalone:!0})}}return y})();let wo=(()=>{class y{static{this.\u0275fac=function(P){return new(P||y)}}static{this.\u0275mod=c.$C({type:y})}static{this.\u0275inj=c.G2t({})}}return y})();const yr="browser",co="server";function Zr(y){return y===yr}function Si(y){return y===co}let mi=(()=>{class y{static{this.\u0275prov=(0,c.jDH)({token:y,providedIn:"root",factory:()=>Zr((0,c.WQX)(c.Agw))?new Bo((0,c.WQX)(F),window):new ti})}}return y})();class Bo{constructor(j,I){this.document=j,this.window=I,this.offset=()=>[0,0]}setOffset(j){this.offset=Array.isArray(j)?()=>j:j}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(j){this.window.scrollTo(j[0],j[1])}scrollToAnchor(j){const I=function ei(y,j){const I=y.getElementById(j)||y.getElementsByName(j)[0];if(I)return I;if("function"==typeof y.createTreeWalker&&y.body&&"function"==typeof y.body.attachShadow){const P=y.createTreeWalker(y.body,NodeFilter.SHOW_ELEMENT);let ne=P.currentNode;for(;ne;){const Ne=ne.shadowRoot;if(Ne){const Ue=Ne.getElementById(j)||Ne.querySelector(`[name="${j}"]`);if(Ue)return Ue}ne=P.nextNode()}}return null}(this.document,j);I&&(this.scrollToElement(I),I.focus())}setHistoryScrollRestoration(j){this.window.history.scrollRestoration=j}scrollToElement(j){const I=j.getBoundingClientRect(),P=I.left+this.window.pageXOffset,ne=I.top+this.window.pageYOffset,Ne=this.offset();this.window.scrollTo(P-Ne[0],ne-Ne[1])}}class ti{setOffset(j){}getScrollPosition(){return[0,0]}scrollToPosition(j){}scrollToAnchor(j){}setHistoryScrollRestoration(j){}}class Co{}},1626:(ot,_e,M)=>{"use strict";M.d(_e,{$R:()=>ct,Lr:()=>xe,Qq:()=>Oe,hv:()=>Pt});var c=M(467),V=M(4438),Z=M(7673),e=M(1985),U=M(6648),G=M(274),F=M(5964),J=M(6354),me=M(980),fe=M(5558),te=M(177);class ge{}class Le{}class xe{constructor(ae){this.normalizedNames=new Map,this.lazyUpdate=null,ae?"string"==typeof ae?this.lazyInit=()=>{this.headers=new Map,ae.split("\n").forEach(ee=>{const Te=ee.indexOf(":");if(Te>0){const We=ee.slice(0,Te),Qe=We.toLowerCase(),tt=ee.slice(Te+1).trim();this.maybeSetNormalizedName(We,Qe),this.headers.has(Qe)?this.headers.get(Qe).push(tt):this.headers.set(Qe,[tt])}})}:typeof Headers<"u"&&ae instanceof Headers?(this.headers=new Map,ae.forEach((ee,Te)=>{this.setHeaderEntries(Te,ee)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(ae).forEach(([ee,Te])=>{this.setHeaderEntries(ee,Te)})}:this.headers=new Map}has(ae){return this.init(),this.headers.has(ae.toLowerCase())}get(ae){this.init();const ee=this.headers.get(ae.toLowerCase());return ee&&ee.length>0?ee[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ae){return this.init(),this.headers.get(ae.toLowerCase())||null}append(ae,ee){return this.clone({name:ae,value:ee,op:"a"})}set(ae,ee){return this.clone({name:ae,value:ee,op:"s"})}delete(ae,ee){return this.clone({name:ae,value:ee,op:"d"})}maybeSetNormalizedName(ae,ee){this.normalizedNames.has(ee)||this.normalizedNames.set(ee,ae)}init(){this.lazyInit&&(this.lazyInit instanceof xe?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ae=>this.applyUpdate(ae)),this.lazyUpdate=null))}copyFrom(ae){ae.init(),Array.from(ae.headers.keys()).forEach(ee=>{this.headers.set(ee,ae.headers.get(ee)),this.normalizedNames.set(ee,ae.normalizedNames.get(ee))})}clone(ae){const ee=new xe;return ee.lazyInit=this.lazyInit&&this.lazyInit instanceof xe?this.lazyInit:this,ee.lazyUpdate=(this.lazyUpdate||[]).concat([ae]),ee}applyUpdate(ae){const ee=ae.name.toLowerCase();switch(ae.op){case"a":case"s":let Te=ae.value;if("string"==typeof Te&&(Te=[Te]),0===Te.length)return;this.maybeSetNormalizedName(ae.name,ee);const We=("a"===ae.op?this.headers.get(ee):void 0)||[];We.push(...Te),this.headers.set(ee,We);break;case"d":const Qe=ae.value;if(Qe){let tt=this.headers.get(ee);if(!tt)return;tt=tt.filter(Tt=>-1===Qe.indexOf(Tt)),0===tt.length?(this.headers.delete(ee),this.normalizedNames.delete(ee)):this.headers.set(ee,tt)}else this.headers.delete(ee),this.normalizedNames.delete(ee)}}setHeaderEntries(ae,ee){const Te=(Array.isArray(ee)?ee:[ee]).map(Qe=>Qe.toString()),We=ae.toLowerCase();this.headers.set(We,Te),this.maybeSetNormalizedName(ae,We)}forEach(ae){this.init(),Array.from(this.normalizedNames.keys()).forEach(ee=>ae(this.normalizedNames.get(ee),this.headers.get(ee)))}}class W{encodeKey(ae){return Fe(ae)}encodeValue(ae){return Fe(ae)}decodeKey(ae){return decodeURIComponent(ae)}decodeValue(ae){return decodeURIComponent(ae)}}const le=/%(\d[a-f0-9])/gi,De={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Fe(X){return encodeURIComponent(X).replace(le,(ae,ee)=>De[ee]??ae)}function be(X){return`${X}`}class ke{constructor(ae={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ae.encoder||new W,ae.fromString){if(ae.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function K(X,ae){const ee=new Map;return X.length>0&&X.replace(/^\?/,"").split("&").forEach(We=>{const Qe=We.indexOf("="),[tt,Tt]=-1==Qe?[ae.decodeKey(We),""]:[ae.decodeKey(We.slice(0,Qe)),ae.decodeValue(We.slice(Qe+1))],yt=ee.get(tt)||[];yt.push(Tt),ee.set(tt,yt)}),ee}(ae.fromString,this.encoder)}else ae.fromObject?(this.map=new Map,Object.keys(ae.fromObject).forEach(ee=>{const Te=ae.fromObject[ee],We=Array.isArray(Te)?Te.map(be):[be(Te)];this.map.set(ee,We)})):this.map=null}has(ae){return this.init(),this.map.has(ae)}get(ae){this.init();const ee=this.map.get(ae);return ee?ee[0]:null}getAll(ae){return this.init(),this.map.get(ae)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ae,ee){return this.clone({param:ae,value:ee,op:"a"})}appendAll(ae){const ee=[];return Object.keys(ae).forEach(Te=>{const We=ae[Te];Array.isArray(We)?We.forEach(Qe=>{ee.push({param:Te,value:Qe,op:"a"})}):ee.push({param:Te,value:We,op:"a"})}),this.clone(ee)}set(ae,ee){return this.clone({param:ae,value:ee,op:"s"})}delete(ae,ee){return this.clone({param:ae,value:ee,op:"d"})}toString(){return this.init(),this.keys().map(ae=>{const ee=this.encoder.encodeKey(ae);return this.map.get(ae).map(Te=>ee+"="+this.encoder.encodeValue(Te)).join("&")}).filter(ae=>""!==ae).join("&")}clone(ae){const ee=new ke({encoder:this.encoder});return ee.cloneFrom=this.cloneFrom||this,ee.updates=(this.updates||[]).concat(ae),ee}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ae=>this.map.set(ae,this.cloneFrom.map.get(ae))),this.updates.forEach(ae=>{switch(ae.op){case"a":case"s":const ee=("a"===ae.op?this.map.get(ae.param):void 0)||[];ee.push(be(ae.value)),this.map.set(ae.param,ee);break;case"d":if(void 0===ae.value){this.map.delete(ae.param);break}{let Te=this.map.get(ae.param)||[];const We=Te.indexOf(be(ae.value));-1!==We&&Te.splice(We,1),Te.length>0?this.map.set(ae.param,Te):this.map.delete(ae.param)}}}),this.cloneFrom=this.updates=null)}}class pt{constructor(){this.map=new Map}set(ae,ee){return this.map.set(ae,ee),this}get(ae){return this.map.has(ae)||this.map.set(ae,ae.defaultValue()),this.map.get(ae)}delete(ae){return this.map.delete(ae),this}has(ae){return this.map.has(ae)}keys(){return this.map.keys()}}function Ke(X){return typeof ArrayBuffer<"u"&&X instanceof ArrayBuffer}function He(X){return typeof Blob<"u"&&X instanceof Blob}function vt(X){return typeof FormData<"u"&&X instanceof FormData}class ft{constructor(ae,ee,Te,We){let Qe;if(this.url=ee,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ae.toUpperCase(),function $e(X){switch(X){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||We?(this.body=void 0!==Te?Te:null,Qe=We):Qe=Te,Qe&&(this.reportProgress=!!Qe.reportProgress,this.withCredentials=!!Qe.withCredentials,Qe.responseType&&(this.responseType=Qe.responseType),Qe.headers&&(this.headers=Qe.headers),Qe.context&&(this.context=Qe.context),Qe.params&&(this.params=Qe.params),this.transferCache=Qe.transferCache),this.headers??=new xe,this.context??=new pt,this.params){const tt=this.params.toString();if(0===tt.length)this.urlWithParams=ee;else{const Tt=ee.indexOf("?");this.urlWithParams=ee+(-1===Tt?"?":Tt<ee.length-1?"&":"")+tt}}else this.params=new ke,this.urlWithParams=ee}serializeBody(){return null===this.body?null:"string"==typeof this.body||Ke(this.body)||He(this.body)||vt(this.body)||function dt(X){return typeof URLSearchParams<"u"&&X instanceof URLSearchParams}(this.body)?this.body:this.body instanceof ke?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||vt(this.body)?null:He(this.body)?this.body.type||null:Ke(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ke?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ae={}){const ee=ae.method||this.method,Te=ae.url||this.url,We=ae.responseType||this.responseType,Qe=ae.transferCache??this.transferCache,tt=void 0!==ae.body?ae.body:this.body,Tt=ae.withCredentials??this.withCredentials,yt=ae.reportProgress??this.reportProgress;let yn=ae.headers||this.headers,pn=ae.params||this.params;const ln=ae.context??this.context;return void 0!==ae.setHeaders&&(yn=Object.keys(ae.setHeaders).reduce((Pn,$n)=>Pn.set($n,ae.setHeaders[$n]),yn)),ae.setParams&&(pn=Object.keys(ae.setParams).reduce((Pn,$n)=>Pn.set($n,ae.setParams[$n]),pn)),new ft(ee,Te,tt,{params:pn,headers:yn,context:ln,reportProgress:yt,responseType:We,withCredentials:Tt,transferCache:Qe})}}var Pt=function(X){return X[X.Sent=0]="Sent",X[X.UploadProgress=1]="UploadProgress",X[X.ResponseHeader=2]="ResponseHeader",X[X.DownloadProgress=3]="DownloadProgress",X[X.Response=4]="Response",X[X.User=5]="User",X}(Pt||{});class Sn{constructor(ae,ee=200,Te="OK"){this.headers=ae.headers||new xe,this.status=void 0!==ae.status?ae.status:ee,this.statusText=ae.statusText||Te,this.url=ae.url||null,this.ok=this.status>=200&&this.status<300}}class jt extends Sn{constructor(ae={}){super(ae),this.type=Pt.ResponseHeader}clone(ae={}){return new jt({headers:ae.headers||this.headers,status:void 0!==ae.status?ae.status:this.status,statusText:ae.statusText||this.statusText,url:ae.url||this.url||void 0})}}class St extends Sn{constructor(ae={}){super(ae),this.type=Pt.Response,this.body=void 0!==ae.body?ae.body:null}clone(ae={}){return new St({body:void 0!==ae.body?ae.body:this.body,headers:ae.headers||this.headers,status:void 0!==ae.status?ae.status:this.status,statusText:ae.statusText||this.statusText,url:ae.url||this.url||void 0})}}class dr extends Sn{constructor(ae){super(ae,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ae.url||"(unknown url)"}`:`Http failure response for ${ae.url||"(unknown url)"}: ${ae.status} ${ae.statusText}`,this.error=ae.error||null}}function Me(X,ae){return{body:ae,headers:X.headers,context:X.context,observe:X.observe,params:X.params,reportProgress:X.reportProgress,responseType:X.responseType,withCredentials:X.withCredentials,transferCache:X.transferCache}}let Oe=(()=>{class X{constructor(ee){this.handler=ee}request(ee,Te,We={}){let Qe;if(ee instanceof ft)Qe=ee;else{let yt,yn;yt=We.headers instanceof xe?We.headers:new xe(We.headers),We.params&&(yn=We.params instanceof ke?We.params:new ke({fromObject:We.params})),Qe=new ft(ee,Te,void 0!==We.body?We.body:null,{headers:yt,context:We.context,params:yn,reportProgress:We.reportProgress,responseType:We.responseType||"json",withCredentials:We.withCredentials,transferCache:We.transferCache})}const tt=(0,Z.of)(Qe).pipe((0,G.H)(yt=>this.handler.handle(yt)));if(ee instanceof ft||"events"===We.observe)return tt;const Tt=tt.pipe((0,F.p)(yt=>yt instanceof St));switch(We.observe||"body"){case"body":switch(Qe.responseType){case"arraybuffer":return Tt.pipe((0,J.T)(yt=>{if(null!==yt.body&&!(yt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return yt.body}));case"blob":return Tt.pipe((0,J.T)(yt=>{if(null!==yt.body&&!(yt.body instanceof Blob))throw new Error("Response is not a Blob.");return yt.body}));case"text":return Tt.pipe((0,J.T)(yt=>{if(null!==yt.body&&"string"!=typeof yt.body)throw new Error("Response is not a string.");return yt.body}));default:return Tt.pipe((0,J.T)(yt=>yt.body))}case"response":return Tt;default:throw new Error(`Unreachable: unhandled observe type ${We.observe}}`)}}delete(ee,Te={}){return this.request("DELETE",ee,Te)}get(ee,Te={}){return this.request("GET",ee,Te)}head(ee,Te={}){return this.request("HEAD",ee,Te)}jsonp(ee,Te){return this.request("JSONP",ee,{params:(new ke).append(Te,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ee,Te={}){return this.request("OPTIONS",ee,Te)}patch(ee,Te,We={}){return this.request("PATCH",ee,Me(We,Te))}post(ee,Te,We={}){return this.request("POST",ee,Me(We,Te))}put(ee,Te,We={}){return this.request("PUT",ee,Me(We,Te))}static{this.\u0275fac=function(Te){return new(Te||X)(V.KVO(ge))}}static{this.\u0275prov=V.jDH({token:X,factory:X.\u0275fac})}}return X})();const Ae=/^\)\]\}',?\n/;function Pe(X){if(X.url)return X.url;const ae="X-Request-URL".toLocaleLowerCase();return X.headers.get(ae)}let gt=(()=>{class X{constructor(){this.fetchImpl=(0,V.WQX)(un,{optional:!0})?.fetch??((...ee)=>globalThis.fetch(...ee)),this.ngZone=(0,V.WQX)(V.SKi)}handle(ee){return new e.c(Te=>{const We=new AbortController;return this.doRequest(ee,We.signal,Te).then(En,Qe=>Te.error(new dr({error:Qe}))),()=>We.abort()})}doRequest(ee,Te,We){var Qe=this;return(0,c.A)(function*(){const tt=Qe.createRequestInit(ee);let Tt;try{const qn=Qe.ngZone.runOutsideAngular(()=>Qe.fetchImpl(ee.urlWithParams,{signal:Te,...tt}));(function It(X){X.then(En,En)})(qn),We.next({type:Pt.Sent}),Tt=yield qn}catch(qn){return void We.error(new dr({error:qn,status:qn.status??0,statusText:qn.statusText,url:ee.urlWithParams,headers:qn.headers}))}const yt=new xe(Tt.headers),yn=Tt.statusText,pn=Pe(Tt)??ee.urlWithParams;let ln=Tt.status,Pn=null;if(ee.reportProgress&&We.next(new jt({headers:yt,status:ln,statusText:yn,url:pn})),Tt.body){const qn=Tt.headers.get("content-length"),Ut=[],wn=Tt.body.getReader();let Dt,ht,Gn=0;const gr=typeof Zone<"u"&&Zone.current;yield Qe.ngZone.runOutsideAngular((0,c.A)(function*(){for(;;){const{done:uo,value:Uo}=yield wn.read();if(uo)break;if(Ut.push(Uo),Gn+=Uo.length,ee.reportProgress){ht="text"===ee.responseType?(ht??"")+(Dt??=new TextDecoder).decode(Uo,{stream:!0}):void 0;const lo=()=>We.next({type:Pt.DownloadProgress,total:qn?+qn:void 0,loaded:Gn,partialText:ht});gr?gr.run(lo):lo()}}}));const Qo=Qe.concatChunks(Ut,Gn);try{const uo=Tt.headers.get("Content-Type")??"";Pn=Qe.parseBody(ee,Qo,uo)}catch(uo){return void We.error(new dr({error:uo,headers:new xe(Tt.headers),status:Tt.status,statusText:Tt.statusText,url:Pe(Tt)??ee.urlWithParams}))}}0===ln&&(ln=Pn?200:0),ln>=200&&ln<300?(We.next(new St({body:Pn,headers:yt,status:ln,statusText:yn,url:pn})),We.complete()):We.error(new dr({error:Pn,headers:yt,status:ln,statusText:yn,url:pn}))})()}parseBody(ee,Te,We){switch(ee.responseType){case"json":const Qe=(new TextDecoder).decode(Te).replace(Ae,"");return""===Qe?null:JSON.parse(Qe);case"text":return(new TextDecoder).decode(Te);case"blob":return new Blob([Te],{type:We});case"arraybuffer":return Te.buffer}}createRequestInit(ee){const Te={},We=ee.withCredentials?"include":void 0;if(ee.headers.forEach((Qe,tt)=>Te[Qe]=tt.join(",")),ee.headers.has("Accept")||(Te.Accept="application/json, text/plain, */*"),!ee.headers.has("Content-Type")){const Qe=ee.detectContentTypeHeader();null!==Qe&&(Te["Content-Type"]=Qe)}return{body:ee.serializeBody(),method:ee.method,headers:Te,credentials:We}}concatChunks(ee,Te){const We=new Uint8Array(Te);let Qe=0;for(const tt of ee)We.set(tt,Qe),Qe+=tt.length;return We}static{this.\u0275fac=function(Te){return new(Te||X)}}static{this.\u0275prov=V.jDH({token:X,factory:X.\u0275fac})}}return X})();class un{}function En(){}function gn(X,ae){return ae(X)}const Zt=new V.nKC(""),hn=new V.nKC(""),Wn=new V.nKC("",{providedIn:"root",factory:()=>!0});let Ur=(()=>{class X extends ge{constructor(ee,Te){super(),this.backend=ee,this.injector=Te,this.chain=null,this.pendingTasks=(0,V.WQX)(V.TgB),this.contributeToStability=(0,V.WQX)(Wn)}handle(ee){if(null===this.chain){const Te=Array.from(new Set([...this.injector.get(Zt),...this.injector.get(hn,[])]));this.chain=Te.reduceRight((We,Qe)=>function xn(X,ae,ee){return(Te,We)=>(0,V.N4e)(ee,()=>ae(Te,Qe=>X(Qe,We)))}(We,Qe,this.injector),gn)}if(this.contributeToStability){const Te=this.pendingTasks.add();return this.chain(ee,We=>this.backend.handle(We)).pipe((0,me.j)(()=>this.pendingTasks.remove(Te)))}return this.chain(ee,Te=>this.backend.handle(Te))}static{this.\u0275fac=function(Te){return new(Te||X)(V.KVO(Le),V.KVO(V.uvJ))}}static{this.\u0275prov=V.jDH({token:X,factory:X.\u0275fac})}}return X})();const nn=/^\)\]\}',?\n/;let jo=(()=>{class X{constructor(ee){this.xhrFactory=ee}handle(ee){if("JSONP"===ee.method)throw new V.wOt(-2800,!1);const Te=this.xhrFactory;return(Te.\u0275loadImpl?(0,U.H)(Te.\u0275loadImpl()):(0,Z.of)(null)).pipe((0,fe.n)(()=>new e.c(Qe=>{const tt=Te.build();if(tt.open(ee.method,ee.urlWithParams),ee.withCredentials&&(tt.withCredentials=!0),ee.headers.forEach((Ut,wn)=>tt.setRequestHeader(Ut,wn.join(","))),ee.headers.has("Accept")||tt.setRequestHeader("Accept","application/json, text/plain, */*"),!ee.headers.has("Content-Type")){const Ut=ee.detectContentTypeHeader();null!==Ut&&tt.setRequestHeader("Content-Type",Ut)}if(ee.responseType){const Ut=ee.responseType.toLowerCase();tt.responseType="json"!==Ut?Ut:"text"}const Tt=ee.serializeBody();let yt=null;const yn=()=>{if(null!==yt)return yt;const Ut=tt.statusText||"OK",wn=new xe(tt.getAllResponseHeaders()),Gn=function vn(X){return"responseURL"in X&&X.responseURL?X.responseURL:/^X-Request-URL:/m.test(X.getAllResponseHeaders())?X.getResponseHeader("X-Request-URL"):null}(tt)||ee.url;return yt=new jt({headers:wn,status:tt.status,statusText:Ut,url:Gn}),yt},pn=()=>{let{headers:Ut,status:wn,statusText:Gn,url:Dt}=yn(),ht=null;204!==wn&&(ht=typeof tt.response>"u"?tt.responseText:tt.response),0===wn&&(wn=ht?200:0);let gr=wn>=200&&wn<300;if("json"===ee.responseType&&"string"==typeof ht){const Qo=ht;ht=ht.replace(nn,"");try{ht=""!==ht?JSON.parse(ht):null}catch(uo){ht=Qo,gr&&(gr=!1,ht={error:uo,text:ht})}}gr?(Qe.next(new St({body:ht,headers:Ut,status:wn,statusText:Gn,url:Dt||void 0})),Qe.complete()):Qe.error(new dr({error:ht,headers:Ut,status:wn,statusText:Gn,url:Dt||void 0}))},ln=Ut=>{const{url:wn}=yn(),Gn=new dr({error:Ut,status:tt.status||0,statusText:tt.statusText||"Unknown Error",url:wn||void 0});Qe.error(Gn)};let Pn=!1;const $n=Ut=>{Pn||(Qe.next(yn()),Pn=!0);let wn={type:Pt.DownloadProgress,loaded:Ut.loaded};Ut.lengthComputable&&(wn.total=Ut.total),"text"===ee.responseType&&tt.responseText&&(wn.partialText=tt.responseText),Qe.next(wn)},qn=Ut=>{let wn={type:Pt.UploadProgress,loaded:Ut.loaded};Ut.lengthComputable&&(wn.total=Ut.total),Qe.next(wn)};return tt.addEventListener("load",pn),tt.addEventListener("error",ln),tt.addEventListener("timeout",ln),tt.addEventListener("abort",ln),ee.reportProgress&&(tt.addEventListener("progress",$n),null!==Tt&&tt.upload&&tt.upload.addEventListener("progress",qn)),tt.send(Tt),Qe.next({type:Pt.Sent}),()=>{tt.removeEventListener("error",ln),tt.removeEventListener("abort",ln),tt.removeEventListener("load",pn),tt.removeEventListener("timeout",ln),ee.reportProgress&&(tt.removeEventListener("progress",$n),null!==Tt&&tt.upload&&tt.upload.removeEventListener("progress",qn)),tt.readyState!==tt.DONE&&tt.abort()}})))}static{this.\u0275fac=function(Te){return new(Te||X)(V.KVO(te.N0))}}static{this.\u0275prov=V.jDH({token:X,factory:X.\u0275fac})}}return X})();const Rt=new V.nKC(""),Lt=new V.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Ir=new V.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Dn{}let je=(()=>{class X{constructor(ee,Te,We){this.doc=ee,this.platform=Te,this.cookieName=We,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ee=this.doc.cookie||"";return ee!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,te._b)(ee,this.cookieName),this.lastCookieString=ee),this.lastToken}static{this.\u0275fac=function(Te){return new(Te||X)(V.KVO(te.qQ),V.KVO(V.Agw),V.KVO(Lt))}}static{this.\u0275prov=V.jDH({token:X,factory:X.\u0275fac})}}return X})();function he(X,ae){const ee=X.url.toLowerCase();if(!(0,V.WQX)(Rt)||"GET"===X.method||"HEAD"===X.method||ee.startsWith("http://")||ee.startsWith("https://"))return ae(X);const Te=(0,V.WQX)(Dn).getToken(),We=(0,V.WQX)(Ir);return null!=Te&&!X.headers.has(We)&&(X=X.clone({headers:X.headers.set(We,Te)})),ae(X)}function ct(...X){const ae=[Oe,jo,Ur,{provide:ge,useExisting:Ur},{provide:Le,useFactory:()=>(0,V.WQX)(gt,{optional:!0})??(0,V.WQX)(jo)},{provide:Zt,useValue:he,multi:!0},{provide:Rt,useValue:!0},{provide:Dn,useClass:je}];for(const ee of X)ae.push(...ee.\u0275providers);return(0,V.EmA)(ae)}},4438:(ot,_e,M)=>{"use strict";function c(t,n){return Object.is(t,n)}M.d(_e,{iLQ:()=>hd,sZ2:()=>lc,hnV:()=>w1,o8S:()=>Ts,BIS:()=>xE,gRc:()=>P1,Ql9:()=>pk,Ocv:()=>Ek,abz:()=>za,Z63:()=>Rr,aKT:()=>Gu,uvJ:()=>Xr,zcH:()=>zs,bkB:()=>xs,$GK:()=>qt,nKC:()=>Nt,zZn:()=>Xo,_q3:()=>Tp,MKu:()=>Mp,xe9:()=>xp,Co$:()=>gv,Vns:()=>Aa,SKi:()=>cr,Xx1:()=>Bo,Agw:()=>cc,PLl:()=>Vm,sFG:()=>pD,_9s:()=>dh,czy:()=>wc,kdw:()=>ti,C4Q:()=>al,NYb:()=>ak,giA:()=>b1,RxE:()=>f1,c1b:()=>Vc,gXe:()=>fo,mal:()=>Yc,Af3:()=>Wo,tdH:()=>mx,L39:()=>bS,EWP:()=>wS,Ol2:()=>kh,w6W:()=>ix,Rfq:()=>je,WQX:()=>_t,QuC:()=>oi,EmA:()=>Yr,HJs:()=>SS,N4e:()=>Zs,vPA:()=>Q0,O8t:()=>CS,H3F:()=>h1,H8p:()=>ts,KH2:()=>Fu,TgB:()=>Da,wOt:()=>et,WHO:()=>_1,e01:()=>y1,H5H:()=>Zh,Zy3:()=>tr,mq5:()=>D_,JZv:()=>nn,TL3:()=>eS,LfX:()=>Hn,plB:()=>aa,jNT:()=>Ep,zjR:()=>E1,TL$:()=>CE,Tbb:()=>Lt,Vt3:()=>Dh,GFd:()=>mv,OA$:()=>No,Jv_:()=>Ry,aNF:()=>Ny,R7$:()=>jg,BMQ:()=>Uh,ZvI:()=>h_,AVh:()=>Wh,vxM:()=>v_,wni:()=>ay,VBU:()=>Mi,FsC:()=>Xs,jDH:()=>rn,G2t:()=>br,$C:()=>Ji,EJ8:()=>Ks,rXU:()=>tu,nrm:()=>Jh,bVm:()=>rd,qex:()=>nd,k0s:()=>td,j41:()=>ed,RV6:()=>E_,xGo:()=>om,KVO:()=>Rn,kS0:()=>rc,QTQ:()=>$g,bIt:()=>np,lsd:()=>cy,joV:()=>Gp,qSk:()=>Bp,XpG:()=>X_,nI1:()=>zy,bMT:()=>Wy,i5U:()=>Yy,brH:()=>Xy,SdG:()=>Q_,NAR:()=>K_,Y8G:()=>qh,lJ4:()=>jy,eq3:()=>Ly,l_i:()=>$y,sMw:()=>Vy,mGM:()=>ly,sdS:()=>dy,Njj:()=>On,tSv:()=>vg,eBV:()=>Vt,npT:()=>cg,B4B:()=>If,n$t:()=>fg,DNE:()=>Th,C5r:()=>Ky,EFF:()=>Ey,JRh:()=>sp,SpI:()=>ud,Lme:()=>ap,E5c:()=>up,DH7:()=>Sy,mxI:()=>cp,R50:()=>lp,GBs:()=>uy});let V=null,Z=!1,e=1;const U=Symbol("SIGNAL");function G(t){const n=V;return V=t,n}function F(){return V}const fe={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function te(t){if(Z)throw new Error("");if(null===V)return;V.consumerOnSignalRead(t);const n=V.nextProducerIndex++;pt(V),n<V.producerNode.length&&V.producerNode[n]!==t&&Ze(V)&&ke(V.producerNode[n],V.producerIndexOfThis[n]),V.producerNode[n]!==t&&(V.producerNode[n]=t,V.producerIndexOfThis[n]=Ze(V)?be(t,V,n):0),V.producerLastReadVersion[n]=t.version}function Le(t){if((!Ze(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==e)){if(!t.producerMustRecompute(t)&&!De(t))return t.dirty=!1,void(t.lastCleanEpoch=e);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=e}}function xe(t){if(void 0===t.liveConsumerNode)return;const n=Z;Z=!0;try{for(const r of t.liveConsumerNode)r.dirty||W(r)}finally{Z=n}}function Xe(){return!1!==V?.consumerAllowSignalWrites}function W(t){t.dirty=!0,xe(t),t.consumerMarkedDirty?.(t)}function K(t){return t&&(t.nextProducerIndex=0),G(t)}function le(t,n){if(G(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Ze(t))for(let r=t.nextProducerIndex;r<t.producerNode.length;r++)ke(t.producerNode[r],t.producerIndexOfThis[r]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function De(t){pt(t);for(let n=0;n<t.producerNode.length;n++){const r=t.producerNode[n],o=t.producerLastReadVersion[n];if(o!==r.version||(Le(r),o!==r.version))return!0}return!1}function Fe(t){if(pt(t),Ze(t))for(let n=0;n<t.producerNode.length;n++)ke(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function be(t,n,r){if($e(t),0===t.liveConsumerNode.length&&Ke(t))for(let o=0;o<t.producerNode.length;o++)t.producerIndexOfThis[o]=be(t.producerNode[o],t,o);return t.liveConsumerIndexOfThis.push(r),t.liveConsumerNode.push(n)-1}function ke(t,n){if($e(t),1===t.liveConsumerNode.length&&Ke(t))for(let o=0;o<t.producerNode.length;o++)ke(t.producerNode[o],t.producerIndexOfThis[o]);const r=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[r],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[r],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const o=t.liveConsumerIndexOfThis[n],i=t.liveConsumerNode[n];pt(i),i.producerIndexOfThis[o]=n}}function Ze(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function pt(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function $e(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Ke(t){return void 0!==t.producerNode}const vt=Symbol("UNSET"),dt=Symbol("COMPUTING"),ft=Symbol("ERRORED"),Pt={...fe,value:vt,dirty:!0,error:null,equal:c,producerMustRecompute:t=>t.value===vt||t.value===dt,producerRecomputeValue(t){if(t.value===dt)throw new Error("Detected cycle in computations.");const n=t.value;t.value=dt;const r=K(t);let o;try{o=t.computation()}catch(i){o=ft,t.error=i}finally{le(t,r)}n!==vt&&n!==ft&&o!==ft&&t.equal(n,o)?t.value=n:(t.value=o,t.version++)}};let jt=function Sn(){throw new Error};function St(){jt()}let fr=null;function Oe(t,n){Xe()||St(),t.equal(t.value,n)||(t.value=n,function gt(t){t.version++,function ge(){e++}(),xe(t),fr?.()}(t))}const Pe={...fe,equal:c,value:void 0};var At=M(4412),xn=M(1413),fn=M(8359),Zt=M(6354);const Wn="https://g.co/ng/security#xss";class et extends Error{constructor(n,r){super(tr(n,r)),this.code=n}}function tr(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}function Mt(t){return{toString:t}.toString()}const Xt="__parameters__";function Br(t,n,r){return Mt(()=>{const o=function Ln(t){return function(...r){if(t){const o=t(...r);for(const i in o)this[i]=o[i]}}}(n);function i(...s){if(this instanceof i)return o.apply(this,s),this;const l=new i(...s);return m.annotation=l,m;function m(b,k,O){const Y=b.hasOwnProperty(Xt)?b[Xt]:Object.defineProperty(b,Xt,{value:[]})[Xt];for(;Y.length<=O;)Y.push(null);return(Y[O]=Y[O]||[]).push(l),b}}return r&&(i.prototype=Object.create(r.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const nn=globalThis;function Rt(t){for(let n in t)if(t[n]===Rt)return n;throw Error("Could not find renamed property on target object.")}function hr(t,n){for(const r in n)n.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&(t[r]=n[r])}function Lt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Lt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const r=n.indexOf("\n");return-1===r?n:n.substring(0,r)}function pr(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Dn=Rt({__forward_ref__:Rt});function je(t){return t.__forward_ref__=je,t.toString=function(){return Lt(this())},t}function he(t){return se(t)?t():t}function se(t){return"function"==typeof t&&t.hasOwnProperty(Dn)&&t.__forward_ref__===je}function rn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function br(t){return{providers:t.providers||[],imports:t.imports||[]}}function qr(t){return _o(t,Tr)||_o(t,yo)}function Hn(t){return null!==qr(t)}function _o(t,n){return t.hasOwnProperty(n)?t[n]:null}function $o(t){return t&&(t.hasOwnProperty(Vo)||t.hasOwnProperty(di))?t[Vo]:null}const Tr=Rt({\u0275prov:Rt}),Vo=Rt({\u0275inj:Rt}),yo=Rt({ngInjectableDef:Rt}),di=Rt({ngInjectorDef:Rt});class Nt{constructor(n,r){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=rn({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function pn(t){return t&&!!t.\u0275providers}const ln=Rt({\u0275cmp:Rt}),Pn=Rt({\u0275dir:Rt}),$n=Rt({\u0275pipe:Rt}),qn=Rt({\u0275mod:Rt}),Ut=Rt({\u0275fac:Rt}),wn=Rt({__NG_ELEMENT_ID__:Rt}),Gn=Rt({__NG_ENV_ID__:Rt});function Dt(t){return"string"==typeof t?t:null==t?"":String(t)}function Jo(t,n){throw new et(-201,!1)}var qt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(qt||{});let Zo;function ki(){return Zo}function Zn(t){const n=Zo;return Zo=t,n}function bt(t,n,r){const o=qr(t);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&qt.Optional?null:void 0!==n?n:void Jo()}const Mr={},vr="__NG_DI_FLAG__",_n="ngTempTokenPath",Er=/\n/gm,wr="__source";let bo;function _r(t){const n=bo;return bo=t,n}function Yn(t,n=qt.Default){if(void 0===bo)throw new et(-203,!1);return null===bo?bt(t,void 0,n):bo.get(t,n&qt.Optional?null:void 0,n)}function Rn(t,n=qt.Default){return(ki()||Yn)(he(t),n)}function _t(t,n=qt.Default){return Rn(t,wo(n))}function wo(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function yr(t){const n=[];for(let r=0;r<t.length;r++){const o=he(t[r]);if(Array.isArray(o)){if(0===o.length)throw new et(900,!1);let i,s=qt.Default;for(let l=0;l<o.length;l++){const m=o[l],b=Zr(m);"number"==typeof b?-1===b?i=m.token:s|=b:i=m}n.push(Rn(i,s))}else n.push(Rn(o))}return n}function co(t,n){return t[vr]=n,t.prototype[vr]=n,t}function Zr(t){return t[vr]}const Bo=co(Br("Optional"),8),ti=co(Br("SkipSelf"),4);function ur(t,n){return t.hasOwnProperty(Ut)?t[Ut]:null}function Do(t,n){t.forEach(r=>Array.isArray(r)?Do(r,n):n(r))}function Cn(t,n,r){n>=t.length?t.push(r):t.splice(n,0,r)}function Cr(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Vn(t,n,r){let o=ko(t,n);return o>=0?t[1|o]=r:(o=~o,function gi(t,n,r,o){let i=t.length;if(i==n)t.push(r,o);else if(1===i)t.push(o,t[0]),t[0]=r;else{for(i--,t.push(t[i-1],t[i]);i>n;)t[i]=t[i-2],i--;t[n]=r,t[n+1]=o}}(t,o,n,r)),o}function Ar(t,n){const r=ko(t,n);if(r>=0)return t[1|r]}function ko(t,n){return function qi(t,n,r){let o=0,i=t.length>>r;for(;i!==o;){const s=o+(i-o>>1),l=t[s<<r];if(n===l)return s<<r;l>n?i=s:o=s+1}return~(i<<r)}(t,n,1)}const lr={},on=[],Rr=new Nt(""),zi=new Nt("",-1),eo=new Nt("");class to{get(n,r=Mr){if(r===Mr){const o=new Error(`NullInjectorError: No provider for ${Lt(n)}!`);throw o.name="NullInjectorError",o}return r}}var Wi=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Wi||{}),fo=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(fo||{}),Xn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Xn||{});function ho(t,n,r){let o=t.length;for(;;){const i=t.indexOf(n,r);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=n.length;if(i+s===o||t.charCodeAt(i+s)<=32)return i}r=i+1}}function Yi(t,n,r){let o=0;for(;o<r.length;){const i=r[o];if("number"==typeof i){if(0!==i)break;o++;const s=r[o++],l=r[o++],m=r[o++];t.setAttribute(n,l,m,s)}else{const s=i,l=r[++o];Xi(s)?t.setProperty(n,s,l):t.setAttribute(n,s,l),o++}}return o}function gs(t){return 3===t||4===t||6===t}function Xi(t){return 64===t.charCodeAt(0)}function ni(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let r=-1;for(let o=0;o<n.length;o++){const i=n[o];"number"==typeof i?r=i:0===r||is(t,r,i,null,-1===r||2===r?n[++o]:null)}}return t}function is(t,n,r,o,i){let s=0,l=t.length;if(-1===n)l=-1;else for(;s<t.length;){const m=t[s++];if("number"==typeof m){if(m===n){l=-1;break}if(m>n){l=s-1;break}}}for(;s<t.length;){const m=t[s];if("number"==typeof m)break;if(m===r){if(null===o)return void(null!==i&&(t[s+1]=i));if(o===t[s+1])return void(t[s+2]=i)}s++,null!==o&&s++,null!==i&&s++}-1!==l&&(t.splice(l,0,n),s=l+1),t.splice(s++,0,r),null!==o&&t.splice(s++,0,o),null!==i&&t.splice(s++,0,i)}const Go="ng-template";function Ki(t,n,r,o){let i=0;if(o){for(;i<n.length&&"string"==typeof n[i];i+=2)if("class"===n[i]&&-1!==ho(n[i+1].toLowerCase(),r,0))return!0}else if(So(t))return!1;if(i=n.indexOf(1,i),i>-1){let s;for(;++i<n.length&&"string"==typeof(s=n[i]);)if(s.toLowerCase()===r)return!0}return!1}function So(t){return 4===t.type&&t.value!==Go}function To(t,n,r){return n===(4!==t.type||r?t.value:Go)}function T(t,n,r){let o=4;const i=t.attrs,s=null!==i?function ze(t){for(let n=0;n<t.length;n++)if(gs(t[n]))return n;return t.length}(i):0;let l=!1;for(let m=0;m<n.length;m++){const b=n[m];if("number"!=typeof b){if(!l)if(4&o){if(o=2|1&o,""!==b&&!To(t,b,r)||""===b&&1===n.length){if(A(o))return!1;l=!0}}else if(8&o){if(null===i||!Ki(t,i,b,r)){if(A(o))return!1;l=!0}}else{const k=n[++m],O=x(b,i,So(t),r);if(-1===O){if(A(o))return!1;l=!0;continue}if(""!==k){let Y;if(Y=O>s?"":i[O+1].toLowerCase(),2&o&&k!==Y){if(A(o))return!1;l=!0}}}}else{if(!l&&!A(o)&&!A(b))return!1;if(l&&A(b))continue;l=!1,o=b|1&o}}return A(o)||l}function A(t){return!(1&t)}function x(t,n,r,o){if(null===n)return-1;let i=0;if(o||!r){let s=!1;for(;i<n.length;){const l=n[i];if(l===t)return i;if(3===l||6===l)s=!0;else{if(1===l||2===l){let m=n[++i];for(;"string"==typeof m;)m=n[++i];continue}if(4===l)break;if(0===l){i+=4;continue}}i+=s?1:2}return-1}return function Bt(t,n){let r=t.indexOf(4);if(r>-1)for(r++;r<t.length;){const o=t[r];if("number"==typeof o)return-1;if(o===n)return r;r++}return-1}(n,t)}function H(t,n,r=!1){for(let o=0;o<n.length;o++)if(T(t,n[o],r))return!0;return!1}function po(t,n){e:for(let r=0;r<n.length;r++){const o=n[r];if(t.length===o.length){for(let i=0;i<t.length;i++)if(t[i]!==o[i])continue e;return!0}}return!1}function Mo(t,n){return t?":not("+n.trim()+")":n}function Dr(t){let n=t[0],r=1,o=2,i="",s=!1;for(;r<t.length;){let l=t[r];if("string"==typeof l)if(2&o){const m=t[++r];i+="["+l+(m.length>0?'="'+m+'"':"")+"]"}else 8&o?i+="."+l:4&o&&(i+=" "+l);else""!==i&&!A(l)&&(n+=Mo(s,i),i=""),o=l,s=s||!A(o);r++}return""!==i&&(n+=Mo(s,i)),n}function Mi(t){return Mt(()=>{const n=Ao(t),r={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Wi.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||fo.Emulated,styles:t.styles||on,_:null,schemas:t.schemas||null,tView:null,id:""};Zi(r);const o=t.dependencies;return r.directiveDefs=Ri(o,!1),r.pipeDefs=Ri(o,!0),r.id=function Ni(t){let n=0;const r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of r)n=Math.imul(31,n)+i.charCodeAt(0)|0;return n+=2147483648,"c"+n}(r),r})}function Qi(t){return zt(t)||In(t)}function Ho(t){return null!==t}function Ji(t){return Mt(()=>({type:t.type,bootstrap:t.bootstrap||on,declarations:t.declarations||on,imports:t.imports||on,exports:t.exports||on,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ai(t,n){if(null==t)return lr;const r={};for(const o in t)if(t.hasOwnProperty(o)){const i=t[o];let s,l,m=Xn.None;Array.isArray(i)?(m=i[0],s=i[1],l=i[2]??s):(s=i,l=i),n?(r[s]=m!==Xn.None?[o,m]:o,n[s]=l):r[s]=o}return r}function Xs(t){return Mt(()=>{const n=Ao(t);return Zi(n),n})}function Ks(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function zt(t){return t[ln]||null}function In(t){return t[Pn]||null}function er(t){return t[$n]||null}function oi(t){const n=zt(t)||In(t)||er(t);return null!==n&&n.standalone}function ir(t,n){const r=t[qn]||null;if(!r&&!0===n)throw new Error(`Type ${Lt(t)} does not have '\u0275mod' property.`);return r}function Ao(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||lr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||on,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ai(t.inputs,n),outputs:Ai(t.outputs),debugInfo:null}}function Zi(t){t.features?.forEach(n=>n(t))}function Ri(t,n){if(!t)return null;const r=n?er:Qi;return()=>("function"==typeof t?t():t).map(o=>r(o)).filter(Ho)}function Yr(t){return{\u0275providers:t}}function Rs(...t){return{\u0275providers:Ns(0,t),\u0275fromNgModule:!0}}function Ns(t,...n){const r=[],o=new Set;let i;const s=l=>{r.push(l)};return Do(n,l=>{const m=l;as(m,s,[],o)&&(i||=[],i.push(m))}),void 0!==i&&ss(i,s),r}function ss(t,n){for(let r=0;r<t.length;r++){const{ngModule:o,providers:i}=t[r];_s(i,s=>{n(s,o)})}}function as(t,n,r,o){if(!(t=he(t)))return!1;let i=null,s=$o(t);const l=!s&&zt(t);if(s||l){if(l&&!l.standalone)return!1;i=t}else{const b=t.ngModule;if(s=$o(b),!s)return!1;i=b}const m=o.has(i);if(l){if(m)return!1;if(o.add(i),l.dependencies){const b="function"==typeof l.dependencies?l.dependencies():l.dependencies;for(const k of b)as(k,n,r,o)}}else{if(!s)return!1;{if(null!=s.imports&&!m){let k;o.add(i);try{Do(s.imports,O=>{as(O,n,r,o)&&(k||=[],k.push(O))})}finally{}void 0!==k&&ss(k,n)}if(!m){const k=ur(i)||(()=>new i);n({provide:i,useFactory:k,deps:on},i),n({provide:eo,useValue:i,multi:!0},i),n({provide:Rr,useValue:()=>Rn(i),multi:!0},i)}const b=s.providers;if(null!=b&&!m){const k=t;_s(b,O=>{n(O,k)})}}}return i!==t&&void 0!==t.providers}function _s(t,n){for(let r of t)pn(r)&&(r=r.\u0275providers),Array.isArray(r)?_s(r,n):n(r)}const Ps=Rt({provide:String,useValue:Rt});function es(t){return null!==t&&"object"==typeof t&&Ps in t}function _i(t){return"function"==typeof t}const ts=new Nt(""),us={},js={};let ls;function Oi(){return void 0===ls&&(ls=new to),ls}class Xr{}class Pi extends Xr{get destroyed(){return this._destroyed}constructor(n,r,o,i){super(),this.parent=r,this.source=o,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,mo(n,l=>this.processProvider(l)),this.records.set(zi,ii(void 0,this)),i.has("environment")&&this.records.set(Xr,ii(void 0,this));const s=this.records.get(ts);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(eo,on,qt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=G(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),G(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const r=_r(this),o=Zn(void 0);try{return n()}finally{_r(r),Zn(o)}}get(n,r=Mr,o=qt.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Gn))return n[Gn](this);o=wo(o);const s=_r(this),l=Zn(void 0);try{if(!(o&qt.SkipSelf)){let b=this.records.get(n);if(void 0===b){const k=function Ls(t){return"function"==typeof t||"object"==typeof t&&t instanceof Nt}(n)&&qr(n);b=k&&this.injectableDefInScope(k)?ii(qo(n),us):null,this.records.set(n,b)}if(null!=b)return this.hydrate(n,b)}return(o&qt.Self?Oi():this.parent).get(n,r=o&qt.Optional&&r===Mr?null:r)}catch(m){if("NullInjectorError"===m.name){if((m[_n]=m[_n]||[]).unshift(Lt(n)),s)throw m;return function Si(t,n,r,o){const i=t[_n];throw n[wr]&&i.unshift(n[wr]),t.message=function pi(t,n,r,o=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Lt(n);if(Array.isArray(n))i=n.map(Lt).join(" -> ");else if("object"==typeof n){let s=[];for(let l in n)if(n.hasOwnProperty(l)){let m=n[l];s.push(l+":"+("string"==typeof m?JSON.stringify(m):Lt(m)))}i=`{${s.join(", ")}}`}return`${r}${o?"("+o+")":""}[${i}]: ${t.replace(Er,"\n  ")}`}("\n"+t.message,i,r,o),t.ngTokenPath=i,t[_n]=null,t}(m,n,"R3InjectorError",this.source)}throw m}finally{Zn(l),_r(s)}}resolveInjectorInitializers(){const n=G(null),r=_r(this),o=Zn(void 0);try{const s=this.get(Rr,on,qt.Self);for(const l of s)l()}finally{_r(r),Zn(o),G(n)}}toString(){const n=[],r=this.records;for(const o of r.keys())n.push(Lt(o));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new et(205,!1)}processProvider(n){let r=_i(n=he(n))?n:he(n&&n.provide);const o=function bs(t){return es(t)?ii(void 0,t.useValue):ii(zo(t),us)}(n);if(!_i(n)&&!0===n.multi){let i=this.records.get(r);i||(i=ii(void 0,us,!0),i.factory=()=>yr(i.multi),this.records.set(r,i)),r=n,i.multi.push(n)}this.records.set(r,o)}hydrate(n,r){const o=G(null);try{return r.value===us&&(r.value=js,r.value=r.factory()),"object"==typeof r.value&&r.value&&function Js(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{G(o)}}injectableDefInScope(n){if(!n.providedIn)return!1;const r=he(n.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(n){const r=this._onDestroyHooks.indexOf(n);-1!==r&&this._onDestroyHooks.splice(r,1)}}function qo(t){const n=qr(t),r=null!==n?n.factory:ur(t);if(null!==r)return r;if(t instanceof Nt)throw new et(204,!1);if(t instanceof Function)return function ys(t){if(t.length>0)throw new et(204,!1);const r=function Ii(t){return t&&(t[Tr]||t[yo])||null}(t);return null!==r?()=>r.factory(t):()=>new t}(t);throw new et(204,!1)}function zo(t,n,r){let o;if(_i(t)){const i=he(t);return ur(i)||qo(i)}if(es(t))o=()=>he(t.useValue);else if(function vi(t){return!(!t||!t.useFactory)}(t))o=()=>t.useFactory(...yr(t.deps||[]));else if(function Bn(t){return!(!t||!t.useExisting)}(t))o=()=>Rn(he(t.useExisting));else{const i=he(t&&(t.useClass||t.provide));if(!function Es(t){return!!t.deps}(t))return ur(i)||qo(i);o=()=>new i(...yr(t.deps))}return o}function ii(t,n,r=!1){return{factory:t,value:n,multi:r?[]:void 0}}function mo(t,n){for(const r of t)Array.isArray(r)?mo(r,n):r&&pn(r)?mo(r.\u0275providers,n):n(r)}function Zs(t,n){t instanceof Pi&&t.assertNotDestroyed();const o=_r(t),i=Zn(void 0);try{return n()}finally{_r(o),Zn(i)}}function ns(){return void 0!==ki()||null!=function Eo(){return bo}()}function Wo(t){if(!ns())throw new et(-203,!1)}const d=0,u=1,f=2,E=3,S=4,R=5,$=6,q=7,Q=8,re=9,we=10,ye=11,Ye=12,Be=13,it=14,nt=15,wt=16,Wt=17,Kt=18,Et=19,xt=20,bn=21,Nr=22,dn=23,lt=25,Ro=1,Li=7,Vs=9,sr=10;var cs=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(cs||{});function xr(t){return Array.isArray(t)&&"object"==typeof t[Ro]}function Or(t){return Array.isArray(t)&&!0===t[Ro]}function ha(t){return!!(4&t.flags)}function ds(t){return t.componentOffset>-1}function ea(t){return!(1&~t.flags)}function si(t){return!!t.template}function Us(t){return!!(512&t[f])}class ro{constructor(n,r,o){this.previousValue=n,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}}function Vi(t,n,r,o){null!==n?n.applyValueToInputSignal(n,o):t[r]=o}function No(){return ws}function ws(t){return t.type.prototype.ngOnChanges&&(t.setInput=na),Au}function Au(){const t=Bl(this),n=t?.current;if(n){const r=t.previous;if(r===lr)t.previous=n;else for(let o in n)r[o]=n[o];t.current=null,this.ngOnChanges(n)}}function na(t,n,r,o,i){const s=this.declaredInputs[o],l=Bl(t)||function Md(t,n){return t[Ul]=n}(t,{previous:lr,current:null}),m=l.current||(l.current={}),b=l.previous,k=b[s];m[s]=new ro(k&&k.currentValue,r,b===lr),Vi(t,n,i,r)}No.ngInherit=!0;const Ul="__ngSimpleChanges__";function Bl(t){return t[Ul]||null}const rs=function(t,n,r){},Gl="svg";function An(t){for(;Array.isArray(t);)t=t[d];return t}function pa(t,n){return An(n[t])}function Oo(t,n){return An(n[t.index])}function ma(t,n){return t.data[n]}function Bs(t,n){return t[n]}function ai(t,n){const r=n[t];return xr(r)?r:r[d]}function Ou(t){return!(128&~t[f])}function yi(t,n){return null==n?null:t[n]}function ql(t){t[Wt]=0}function zl(t){1024&t[f]||(t[f]|=1024,Ou(t)&&ra(t))}function Ua(t){return!!(9216&t[f]||t[dn]?.dirty)}function ga(t){t[we].changeDetectionScheduler?.notify(8),64&t[f]&&(t[f]|=1024),Ua(t)&&ra(t)}function ra(t){t[we].changeDetectionScheduler?.notify(0);let n=fs(t);for(;null!==n&&!(8192&n[f])&&(n[f]|=8192,Ou(n));)n=fs(n)}function va(t,n){if(!(256&~t[f]))throw new et(911,!1);null===t[bn]&&(t[bn]=[]),t[bn].push(n)}function fs(t){const n=t[E];return Or(n)?n[E]:n}const Gt={lFrame:$p(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Yl=!1;function a(){return Gt.bindingsEnabled}function g(){return null!==Gt.skipHydrationRootTNode}function ve(){return Gt.lFrame.lView}function st(){return Gt.lFrame.tView}function Vt(t){return Gt.lFrame.contextLView=t,t[Q]}function On(t){return Gt.lFrame.contextLView=null,t}function Ft(){let t=Jt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Jt(){return Gt.lFrame.currentTNode}function Pr(t,n){const r=Gt.lFrame;r.currentTNode=t,r.isParent=n}function Gs(){return Gt.lFrame.isParent}function oa(){Gt.lFrame.isParent=!1}function ya(){return Yl}function ba(t){Yl=t}function Kr(){const t=Gt.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function bi(){return Gt.lFrame.bindingIndex}function Yo(){return Gt.lFrame.bindingIndex++}function Ei(t){const n=Gt.lFrame,r=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,r}function gb(t,n){const r=Gt.lFrame;r.bindingIndex=r.bindingRootIndex=t,jd(n)}function jd(t){Gt.lFrame.currentDirectiveIndex=t}function $d(){return Gt.lFrame.currentQueryIndex}function Xl(t){Gt.lFrame.currentQueryIndex=t}function _b(t){const n=t[u];return 2===n.type?n.declTNode:1===n.type?t[R]:null}function jp(t,n,r){if(r&qt.SkipSelf){let i=n,s=t;for(;!(i=i.parent,null!==i||r&qt.Host||(i=_b(s),null===i||(s=s[it],10&i.type))););if(null===i)return!1;n=i,t=s}const o=Gt.lFrame=Lp();return o.currentTNode=n,o.lView=t,!0}function Vd(t){const n=Lp(),r=t[u];Gt.lFrame=n,n.currentTNode=r.firstChild,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex,n.inI18n=!1}function Lp(){const t=Gt.lFrame,n=null===t?null:t.child;return null===n?$p(t):n}function $p(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Vp(){const t=Gt.lFrame;return Gt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Up=Vp;function Ud(){const t=Vp();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Po(){return Gt.lFrame.selectedIndex}function Ea(t){Gt.lFrame.selectedIndex=t}function rr(){const t=Gt.lFrame;return ma(t.tView,t.selectedIndex)}function Bp(){Gt.lFrame.currentNamespace=Gl}function Gp(){!function Eb(){Gt.lFrame.currentNamespace=null}()}let qp=!0;function $u(){return qp}function Cs(t){qp=t}function Kl(t,n){for(let r=n.directiveStart,o=n.directiveEnd;r<o;r++){const s=t.data[r].type.prototype,{ngAfterContentInit:l,ngAfterContentChecked:m,ngAfterViewInit:b,ngAfterViewChecked:k,ngOnDestroy:O}=s;l&&(t.contentHooks??=[]).push(-r,l),m&&((t.contentHooks??=[]).push(r,m),(t.contentCheckHooks??=[]).push(r,m)),b&&(t.viewHooks??=[]).push(-r,b),k&&((t.viewHooks??=[]).push(r,k),(t.viewCheckHooks??=[]).push(r,k)),null!=O&&(t.destroyHooks??=[]).push(r,O)}}function Ql(t,n,r){zp(t,n,3,r)}function Jl(t,n,r,o){(3&t[f])===r&&zp(t,n,r,o)}function Bd(t,n){let r=t[f];(3&r)===n&&(r&=16383,r+=1,t[f]=r)}function zp(t,n,r,o){const s=o??-1,l=n.length-1;let m=0;for(let b=void 0!==o?65535&t[Wt]:0;b<l;b++)if("number"==typeof n[b+1]){if(m=n[b],null!=o&&m>=o)break}else n[b]<0&&(t[Wt]+=65536),(m<s||-1==s)&&(Cb(t,r,n,b),t[Wt]=(4294901760&t[Wt])+b+2),b++}function Wp(t,n){rs(4,t,n);const r=G(null);try{n.call(t)}finally{G(r),rs(5,t,n)}}function Cb(t,n,r,o){const i=r[o]<0,s=r[o+1],m=t[i?-r[o]:r[o]];i?t[f]>>14<t[Wt]>>16&&(3&t[f])===n&&(t[f]+=16384,Wp(m,s)):Wp(m,s)}const Ga=-1;class Vu{constructor(n,r,o){this.factory=n,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=o}}const Hd={};class wa{constructor(n,r){this.injector=n,this.parentInjector=r}get(n,r,o){o=wo(o);const i=this.injector.get(n,Hd,o);return i!==Hd||r===Hd?i:this.parentInjector.get(n,r,o)}}function qd(t){return t!==Ga}function Uu(t){return 32767&t}function Bu(t,n){let r=function kb(t){return t>>16}(t),o=n;for(;r>0;)o=o[it],r--;return o}let zd=!0;function Zl(t){const n=zd;return zd=t,n}const Xp=255,Kp=5;let Tb=0;const Ds={};function ec(t,n){const r=Qp(t,n);if(-1!==r)return r;const o=n[u];o.firstCreatePass&&(t.injectorIndex=n.length,Wd(o.data,t),Wd(n,null),Wd(o.blueprint,null));const i=tc(t,n),s=t.injectorIndex;if(qd(i)){const l=Uu(i),m=Bu(i,n),b=m[u].data;for(let k=0;k<8;k++)n[s+k]=m[l+k]|b[l+k]}return n[s+8]=i,s}function Wd(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Qp(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function tc(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let r=0,o=null,i=n;for(;null!==i;){if(o=im(i),null===o)return Ga;if(r++,i=i[it],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return Ga}function Yd(t,n,r){!function Mb(t,n,r){let o;"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(wn)&&(o=r[wn]),null==o&&(o=r[wn]=Tb++);const i=o&Xp;n.data[t+(i>>Kp)]|=1<<i}(t,n,r)}function Jp(t,n,r){if(r&qt.Optional||void 0!==t)return t;Jo()}function Zp(t,n,r,o){if(r&qt.Optional&&void 0===o&&(o=null),!(r&(qt.Self|qt.Host))){const i=t[re],s=Zn(void 0);try{return i?i.get(n,o,r&qt.Optional):bt(n,o,r&qt.Optional)}finally{Zn(s)}}return Jp(o,0,r)}function em(t,n,r,o=qt.Default,i){if(null!==t){if(2048&n[f]&&!(o&qt.Self)){const l=function Pb(t,n,r,o,i){let s=t,l=n;for(;null!==s&&null!==l&&2048&l[f]&&!(512&l[f]);){const m=tm(s,l,r,o|qt.Self,Ds);if(m!==Ds)return m;let b=s.parent;if(!b){const k=l[xt];if(k){const O=k.get(r,Ds,o);if(O!==Ds)return O}b=im(l),l=l[it]}s=b}return i}(t,n,r,o,Ds);if(l!==Ds)return l}const s=tm(t,n,r,o,Ds);if(s!==Ds)return s}return Zp(n,r,o,i)}function tm(t,n,r,o,i){const s=function Nb(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(wn)?t[wn]:void 0;return"number"==typeof n?n>=0?n&Xp:Ob:n}(r);if("function"==typeof s){if(!jp(n,t,o))return o&qt.Host?Jp(i,0,o):Zp(n,r,o,i);try{let l;if(l=s(o),null!=l||o&qt.Optional)return l;Jo()}finally{Up()}}else if("number"==typeof s){let l=null,m=Qp(t,n),b=Ga,k=o&qt.Host?n[nt][R]:null;for((-1===m||o&qt.SkipSelf)&&(b=-1===m?tc(t,n):n[m+8],b!==Ga&&rm(o,!1)?(l=n[u],m=Uu(b),n=Bu(b,n)):m=-1);-1!==m;){const O=n[u];if(nm(s,m,O.data)){const Y=Rb(m,n,r,l,o,k);if(Y!==Ds)return Y}b=n[m+8],b!==Ga&&rm(o,n[u].data[m+8]===k)&&nm(s,m,n)?(l=O,m=Uu(b),n=Bu(b,n)):m=-1}}return i}function Rb(t,n,r,o,i,s){const l=n[u],m=l.data[t+8],O=nc(m,l,r,null==o?ds(m)&&zd:o!=l&&!!(3&m.type),i&qt.Host&&s===m);return null!==O?Ca(n,l,O,m):Ds}function nc(t,n,r,o,i){const s=t.providerIndexes,l=n.data,m=1048575&s,b=t.directiveStart,O=s>>20,ie=i?m+O:t.directiveEnd;for(let de=o?m:m+O;de<ie;de++){const Ee=l[de];if(de<b&&r===Ee||de>=b&&Ee.type===r)return de}if(i){const de=l[b];if(de&&si(de)&&de.type===r)return b}return null}function Ca(t,n,r,o){let i=t[r];const s=n.data;if(function Db(t){return t instanceof Vu}(i)){const l=i;l.resolving&&function uo(t,n){throw n&&n.join(" > "),new et(-200,t)}(function ht(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Dt(t)}(s[r]));const m=Zl(l.canSeeViewProviders);l.resolving=!0;const k=l.injectImpl?Zn(l.injectImpl):null;jp(t,o,qt.Default);try{i=t[r]=l.factory(void 0,s,t,o),n.firstCreatePass&&r>=o.directiveStart&&function wb(t,n,r){const{ngOnChanges:o,ngOnInit:i,ngDoCheck:s}=n.type.prototype;if(o){const l=ws(n);(r.preOrderHooks??=[]).push(t,l),(r.preOrderCheckHooks??=[]).push(t,l)}i&&(r.preOrderHooks??=[]).push(0-t,i),s&&((r.preOrderHooks??=[]).push(t,s),(r.preOrderCheckHooks??=[]).push(t,s))}(r,s[r],n)}finally{null!==k&&Zn(k),Zl(m),l.resolving=!1,Up()}}return i}function nm(t,n,r){return!!(r[n+(t>>Kp)]&1<<t)}function rm(t,n){return!(t&qt.Self||t&qt.Host&&n)}class oo{constructor(n,r){this._tNode=n,this._lView=r}get(n,r,o){return em(this._tNode,this._lView,n,wo(o),r)}}function Ob(){return new oo(Ft(),ve())}function om(t){return Mt(()=>{const n=t.prototype.constructor,r=n[Ut]||Xd(n),o=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==o;){const s=i[Ut]||Xd(i);if(s&&s!==r)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Xd(t){return se(t)?()=>{const n=Xd(he(t));return n&&n()}:ur(t)}function im(t){const n=t[u],r=n.type;return 2===r?n.declTNode:1===r?t[R]:null}function rc(t){return function Ab(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const r=t.attrs;if(r){const o=r.length;let i=0;for(;i<o;){const s=r[i];if(gs(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<o&&"string"==typeof r[i];)i++;else{if(s===n)return r[i+1];i+=2}}}return null}(Ft(),t)}function cm(t,n=null,r=null,o){const i=dm(t,n,r,o);return i.resolveInjectorInitializers(),i}function dm(t,n=null,r=null,o,i=new Set){const s=[r||on,Rs(t)];return o=o||("object"==typeof t?void 0:Lt(t)),new Pi(s,n||Oi(),o||null,i)}class Xo{static{this.THROW_IF_NOT_FOUND=Mr}static{this.NULL=new to}static create(n,r){if(Array.isArray(n))return cm({name:""},r,n,"");{const o=n.name??"";return cm({name:o},n.parent,n.providers,o)}}static{this.\u0275prov=rn({token:Xo,providedIn:"any",factory:()=>Rn(zi)})}static{this.__NG_ELEMENT_ID__=-1}}new Nt("").__NG_ELEMENT_ID__=t=>{const n=Ft();if(null===n)throw new et(204,!1);if(2&n.type)return n.value;if(t&qt.Optional)return null;throw new et(204,!1)};function Qd(t){return t.ngOriginalError}const hm=!0;let za=(()=>{class t{static{this.__NG_ELEMENT_ID__=zb}static{this.__NG_ENV_ID__=r=>r}}return t})();class qb extends za{constructor(n){super(),this._lView=n}onDestroy(n){return va(this._lView,n),()=>function Pu(t,n){if(null===t[bn])return;const r=t[bn].indexOf(n);-1!==r&&t[bn].splice(r,1)}(this._lView,n)}}function zb(){return new qb(ve())}let Da=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new At.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=rn({token:t,providedIn:"root",factory:()=>new t})}}return t})();const xs=class Wb extends xn.B{constructor(n=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=n,ns()&&(this.destroyRef=_t(za,{optional:!0})??void 0,this.pendingTasks=_t(Da,{optional:!0})??void 0)}emit(n){const r=G(null);try{super.next(n)}finally{G(r)}}subscribe(n,r,o){let i=n,s=r||(()=>null),l=o;if(n&&"object"==typeof n){const b=n;i=b.next?.bind(b),s=b.error?.bind(b),l=b.complete?.bind(b)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),l&&(l=this.wrapInTimeout(l)));const m=super.subscribe({next:i,error:s,complete:l});return n instanceof fn.yU&&n.add(m),m}wrapInTimeout(n){return r=>{const o=this.pendingTasks?.add();setTimeout(()=>{n(r),void 0!==o&&this.pendingTasks?.remove(o)})}}};function ic(...t){}function pm(t){let n,r;function o(){t=ic;try{void 0!==r&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(r),void 0!==n&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{t(),o()}),"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(()=>{t(),o()})),()=>o()}function mm(t){return queueMicrotask(()=>t()),()=>{t=ic}}const Jd="isAngularZone",sc=Jd+"_ID";let Yb=0;class cr{constructor(n){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xs(!1),this.onMicrotaskEmpty=new xs(!1),this.onStable=new xs(!1),this.onError=new xs(!1);const{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=hm}=n;if(typeof Zone>"u")throw new et(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!i&&o,l.shouldCoalesceRunChangeDetection=i,l.callbackScheduled=!1,l.scheduleInRootZone=s,function Qb(t){const n=()=>{!function Kb(t){function n(){pm(()=>{t.callbackScheduled=!1,ef(t),t.isCheckStableRunning=!0,Zd(t),t.isCheckStableRunning=!1})}t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,t.scheduleInRootZone?Zone.root.run(()=>{n()}):t._outer.run(()=>{n()}),ef(t))}(t)},r=Yb++;t._inner=t._inner.fork({name:"angular",properties:{[Jd]:!0,[sc]:r,[sc+r]:!0},onInvokeTask:(o,i,s,l,m,b)=>{if(function Jb(t){return _m(t,"__ignore_ng_zone__")}(b))return o.invokeTask(s,l,m,b);try{return gm(t),o.invokeTask(s,l,m,b)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===l.type||t.shouldCoalesceRunChangeDetection)&&n(),vm(t)}},onInvoke:(o,i,s,l,m,b,k)=>{try{return gm(t),o.invoke(s,l,m,b,k)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!function Zb(t){return _m(t,"__scheduler_tick__")}(b)&&n(),vm(t)}},onHasTask:(o,i,s,l)=>{o.hasTask(s,l),i===s&&("microTask"==l.change?(t._hasPendingMicrotasks=l.microTask,ef(t),Zd(t)):"macroTask"==l.change&&(t.hasPendingMacrotasks=l.macroTask))},onHandleError:(o,i,s,l)=>(o.handleError(s,l),t.runOutsideAngular(()=>t.onError.emit(l)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Jd)}static assertInAngularZone(){if(!cr.isInAngularZone())throw new et(909,!1)}static assertNotInAngularZone(){if(cr.isInAngularZone())throw new et(909,!1)}run(n,r,o){return this._inner.run(n,r,o)}runTask(n,r,o,i){const s=this._inner,l=s.scheduleEventTask("NgZoneEvent: "+i,n,Xb,ic,ic);try{return s.runTask(l,r,o)}finally{s.cancelTask(l)}}runGuarded(n,r,o){return this._inner.runGuarded(n,r,o)}runOutsideAngular(n){return this._outer.run(n)}}const Xb={};function Zd(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ef(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&!0===t.callbackScheduled)}function gm(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function vm(t){t._nesting--,Zd(t)}class tf{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xs,this.onMicrotaskEmpty=new xs,this.onStable=new xs,this.onError=new xs}run(n,r,o){return n.apply(r,o)}runGuarded(n,r,o){return n.apply(r,o)}runOutsideAngular(n){return n()}runTask(n,r,o,i){return n.apply(r,o)}}function _m(t,n){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0]?.data?.[n]}class zs{constructor(){this._console=console}handleError(n){const r=this._findOriginalError(n);this._console.error("ERROR",n),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(n){let r=n&&Qd(n);for(;r&&Qd(r);)r=Qd(r);return r||null}}const tE=new Nt("",{providedIn:"root",factory:()=>{const t=_t(cr),n=_t(zs);return r=>t.runOutsideAngular(()=>n.handleError(r))}});function nE(){return Wa(Ft(),ve())}function Wa(t,n){return new Gu(Oo(t,n))}let Gu=(()=>{class t{constructor(r){this.nativeElement=r}static{this.__NG_ELEMENT_ID__=nE}}return t})();function bm(t){return t instanceof Gu?t.nativeElement:t}function rE(){return this._results[Symbol.iterator]()}class nf{get changes(){return this._changes??=new xs}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=nf.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=rE)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,r){return this._results.reduce(n,r)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,r){this.dirty=!1;const o=function zn(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function zr(t,n,r){if(t.length!==n.length)return!1;for(let o=0;o<t.length;o++){let i=t[o],s=n[o];if(r&&(i=r(i),s=r(s)),s!==i)return!1}return!0}(this._results,o,r))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function qu(t){return!(128&~t.flags)}const sf=new Map;let iE=0;function af(t){sf.delete(t[Et])}const ac="__ngContext__";function Ko(t,n){xr(n)?(t[ac]=n[Et],function aE(t){sf.set(t[Et],t)}(n)):t[ac]=n}function Tm(t){return Am(t[Ye])}function Mm(t){return Am(t[S])}function Am(t){for(;null!==t&&!Or(t);)t=t[S];return t}let lf;function CE(t){lf=t}function ia(){if(void 0!==lf)return lf;if(typeof document<"u")return document;throw new et(210,!1)}const lc=new Nt("",{providedIn:"root",factory:()=>DE}),DE="ng",Vm=new Nt(""),cc=new Nt("",{providedIn:"platform",factory:()=>"unknown"}),xE=new Nt("",{providedIn:"root",factory:()=>ia().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Um=()=>null;function gf(t,n,r=!1){return Um(t,n,r)}const Xm=new Nt("",{providedIn:"root",factory:()=>!1});let vc,_c;function Qa(t){return function Ef(){if(void 0===vc&&(vc=null,nn.trustedTypes))try{vc=nn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return vc}()?.createHTML(t)||t}function wf(){if(void 0===_c&&(_c=null,nn.trustedTypes))try{_c=nn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return _c}function Jm(t){return wf()?.createHTML(t)||t}function eg(t){return wf()?.createScriptURL(t)||t}class tg{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Wn})`}}function sa(t){return t instanceof tg?t.changingThisBreaksApplicationSecurity:t}function Ju(t,n){const r=function HE(t){return t instanceof tg&&t.getTypeName()||null}(t);if(null!=r&&r!==n){if("ResourceURL"===r&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${r} (see ${Wn})`)}return r===n}class qE{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const r=(new window.DOMParser).parseFromString(Qa(n),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(n):(r.firstChild?.remove(),r)}catch{return null}}}class zE{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const r=this.inertDocument.createElement("template");return r.innerHTML=Qa(n),r}}const YE=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Cf(t){return(t=String(t)).match(YE)?t:"unsafe:"+t}function Ws(t){const n={};for(const r of t.split(","))n[r]=!0;return n}function Zu(...t){const n={};for(const r of t)for(const o in r)r.hasOwnProperty(o)&&(n[o]=!0);return n}const rg=Ws("area,br,col,hr,img,wbr"),og=Ws("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ig=Ws("rp,rt"),Df=Zu(rg,Zu(og,Ws("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zu(ig,Ws("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Zu(ig,og)),xf=Ws("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),sg=Zu(xf,Ws("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ws("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),XE=Ws("script,style,template");class KE{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let r=n.firstChild,o=!0,i=[];for(;r;)if(r.nodeType===Node.ELEMENT_NODE?o=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,o&&r.firstChild)i.push(r),r=ZE(r);else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let s=JE(r);if(s){r=s;break}r=i.pop()}return this.buf.join("")}startElement(n){const r=ag(n).toLowerCase();if(!Df.hasOwnProperty(r))return this.sanitizedSomething=!0,!XE.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const o=n.attributes;for(let i=0;i<o.length;i++){const s=o.item(i),l=s.name,m=l.toLowerCase();if(!sg.hasOwnProperty(m)){this.sanitizedSomething=!0;continue}let b=s.value;xf[m]&&(b=Cf(b)),this.buf.push(" ",l,'="',lg(b),'"')}return this.buf.push(">"),!0}endElement(n){const r=ag(n).toLowerCase();Df.hasOwnProperty(r)&&!rg.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(n){this.buf.push(lg(n))}}function JE(t){const n=t.nextSibling;if(n&&t!==n.previousSibling)throw ug(n);return n}function ZE(t){const n=t.firstChild;if(n&&function QE(t,n){return(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(t,n))throw ug(n);return n}function ag(t){const n=t.nodeName;return"string"==typeof n?n:"FORM"}function ug(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}const ew=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,tw=/([^\#-~ |!])/g;function lg(t){return t.replace(/&/g,"&amp;").replace(ew,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(tw,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let yc;function Ff(t){return"content"in t&&function rw(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Ja=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ja||{});function cg(t){const n=el();return n?Jm(n.sanitize(Ja.HTML,t)||""):Ju(t,"HTML")?Jm(sa(t)):function nw(t,n){let r=null;try{yc=yc||function ng(t){const n=new zE(t);return function WE(){try{return!!(new window.DOMParser).parseFromString(Qa(""),"text/html")}catch{return!1}}()?new qE(n):n}(t);let o=n?String(n):"";r=yc.getInertBodyElement(o);let i=5,s=o;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,o=s,s=r.innerHTML,r=yc.getInertBodyElement(o)}while(o!==s);return Qa((new KE).sanitizeChildren(Ff(r)||r))}finally{if(r){const o=Ff(r)||r;for(;o.firstChild;)o.firstChild.remove()}}}(ia(),Dt(t))}function If(t){const n=el();return n?n.sanitize(Ja.URL,t)||"":Ju(t,"URL")?sa(t):Cf(Dt(t))}function dg(t){const n=el();if(n)return eg(n.sanitize(Ja.RESOURCE_URL,t)||"");if(Ju(t,"ResourceURL"))return eg(sa(t));throw new et(904,!1)}function fg(t,n,r){return function uw(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?dg:If}(n,r)(t)}function el(){const t=ve();return t&&t[we].sanitizer}const lw=/^>|^->|<!--|-->|--!>|<!-$/g,cw=/(<|>)/g,dw="\u200b$1\u200b";function vg(t){return t.ownerDocument.defaultView}function Ui(t){return t instanceof Function?t():t}var wc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(wc||{});let Tf;function Mf(t,n){return Tf(t,n)}function eu(t,n,r,o,i){if(null!=o){let s,l=!1;Or(o)?s=o:xr(o)&&(l=!0,o=o[d]);const m=An(o);0===t&&null!==r?null==i?Fg(n,r,m):Fa(n,r,m,i||null,!0):1===t&&null!==r?Fa(n,r,m,i||null,!0):2===t?function nl(t,n,r){t.removeChild(null,n,r)}(n,m,l):3===t&&n.destroyNode(m),null!=s&&function Tw(t,n,r,o,i){const s=r[Li];s!==An(r)&&eu(n,t,o,s,i);for(let m=sr;m<r.length;m++){const b=r[m];Fc(b[u],b,t,n,o,s)}}(n,t,s,r,i)}}function Rf(t,n){return t.createComment(function hg(t){return t.replace(lw,n=>n.replace(cw,dw))}(n))}function Cc(t,n,r){return t.createElement(n,r)}function Cg(t,n){n[we].changeDetectionScheduler?.notify(9),Fc(t,n,n[ye],2,null,null)}function Dg(t,n){const r=t[Vs],o=n[E];(xr(o)||n[nt]!==o[E][nt])&&(t[f]|=cs.HasTransplantedViews),null===r?t[Vs]=[n]:r.push(n)}function Nf(t,n){const r=t[Vs],o=r.indexOf(n);r.splice(o,1)}function tl(t,n){if(t.length<=sr)return;const r=sr+n,o=t[r];if(o){const i=o[wt];null!==i&&i!==t&&Nf(i,o),n>0&&(t[r-1][S]=o[S]);const s=Cr(t,sr+n);!function ww(t,n){Cg(t,n),n[d]=null,n[R]=null}(o[u],o);const l=s[Kt];null!==l&&l.detachView(s[u]),o[E]=null,o[S]=null,o[f]&=-129}return o}function Dc(t,n){if(!(256&n[f])){const r=n[ye];r.destroyNode&&Fc(t,n,r,3,null,null),function Dw(t){let n=t[Ye];if(!n)return Of(t[u],t);for(;n;){let r=null;if(xr(n))r=n[Ye];else{const o=n[sr];o&&(r=o)}if(!r){for(;n&&!n[S]&&n!==t;)xr(n)&&Of(n[u],n),n=n[E];null===n&&(n=t),xr(n)&&Of(n[u],n),r=n&&n[S]}n=r}}(n)}}function Of(t,n){if(256&n[f])return;const r=G(null);try{n[f]&=-129,n[f]|=256,n[dn]&&Fe(n[dn]),function Iw(t,n){let r;if(null!=t&&null!=(r=t.destroyHooks))for(let o=0;o<r.length;o+=2){const i=n[r[o]];if(!(i instanceof Vu)){const s=r[o+1];if(Array.isArray(s))for(let l=0;l<s.length;l+=2){const m=i[s[l]],b=s[l+1];rs(4,m,b);try{b.call(m)}finally{rs(5,m,b)}}else{rs(4,i,s);try{s.call(i)}finally{rs(5,i,s)}}}}}(t,n),function Fw(t,n){const r=t.cleanup,o=n[q];if(null!==r)for(let s=0;s<r.length-1;s+=2)if("string"==typeof r[s]){const l=r[s+3];l>=0?o[l]():o[-l].unsubscribe(),s+=2}else r[s].call(o[r[s+1]]);null!==o&&(n[q]=null);const i=n[bn];if(null!==i){n[bn]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,n),1===n[u].type&&n[ye].destroy();const o=n[wt];if(null!==o&&Or(n[E])){o!==n[E]&&Nf(o,n);const i=n[Kt];null!==i&&i.detachView(t)}af(n)}finally{G(r)}}function Pf(t,n,r){return function xg(t,n,r){let o=n;for(;null!==o&&168&o.type;)o=(n=o).parent;if(null===o)return r[d];{const{componentOffset:i}=o;if(i>-1){const{encapsulation:s}=t.data[o.directiveStart+i];if(s===fo.None||s===fo.Emulated)return null}return Oo(o,r)}}(t,n.parent,r)}function Fa(t,n,r,o,i){t.insertBefore(n,r,o,i)}function Fg(t,n,r){t.appendChild(n,r)}function Ig(t,n,r,o,i){null!==o?Fa(t,n,r,o,i):Fg(t,n,r)}function jf(t,n){return t.parentNode(n)}function kg(t,n,r){return Tg(t,n,r)}let Lf,Tg=function Sg(t,n,r){return 40&t.type?Oo(t,r):null};function xc(t,n,r,o){const i=Pf(t,o,n),s=n[ye],m=kg(o.parent||n[R],o,n);if(null!=i)if(Array.isArray(r))for(let b=0;b<r.length;b++)Ig(s,i,r[b],m,!1);else Ig(s,i,r,m,!1);void 0!==Lf&&Lf(s,o,n,r,i)}function Ia(t,n){if(null!==n){const r=n.type;if(3&r)return Oo(n,t);if(4&r)return $f(-1,t[n.index]);if(8&r){const o=n.child;if(null!==o)return Ia(t,o);{const i=t[n.index];return Or(i)?$f(-1,i):An(i)}}if(128&r)return Ia(t,n.next);if(32&r)return Mf(n,t)()||An(t[n.index]);{const o=Ag(t,n);return null!==o?Array.isArray(o)?o[0]:Ia(fs(t[nt]),o):Ia(t,n.next)}}return null}function Ag(t,n){return null!==n?t[nt][R].projection[n.projection]:null}function $f(t,n){const r=sr+t+1;if(r<n.length){const o=n[r],i=o[u].firstChild;if(null!==i)return Ia(o,i)}return n[Li]}function Vf(t,n,r,o,i,s,l){for(;null!=r;){if(128===r.type){r=r.next;continue}const m=o[r.index],b=r.type;if(l&&0===n&&(m&&Ko(An(m),o),r.flags|=2),32&~r.flags)if(8&b)Vf(t,n,r.child,o,i,s,!1),eu(n,t,i,m,s);else if(32&b){const k=Mf(r,o);let O;for(;O=k();)eu(n,t,i,O,s);eu(n,t,i,m,s)}else 16&b?Ng(t,n,o,r,i,s):eu(n,t,i,m,s);r=l?r.projectionNext:r.next}}function Fc(t,n,r,o,i,s){Vf(r,o,t.firstChild,n,i,s,!1)}function Ng(t,n,r,o,i,s){const l=r[nt],b=l[R].projection[o.projection];if(Array.isArray(b))for(let k=0;k<b.length;k++)eu(n,t,i,b[k],s);else{let k=b;const O=l[E];qu(o)&&(k.flags|=128),Vf(t,n,k,O,i,s,!0)}}function Og(t,n,r){""===r?t.removeAttribute(n,"class"):t.setAttribute(n,"class",r)}function Pg(t,n,r){const{mergedAttrs:o,classes:i,styles:s}=r;null!==o&&Yi(t,n,o),null!==i&&Og(t,n,i),null!==s&&function Aw(t,n,r){t.setAttribute(n,"style",r)}(t,n,s)}const an={};function jg(t=1){Lg(st(),ve(),Po()+t,!1)}function Lg(t,n,r,o){if(!o)if(3&~n[f]){const s=t.preOrderHooks;null!==s&&Jl(n,s,0,r)}else{const s=t.preOrderCheckHooks;null!==s&&Ql(n,s,r)}Ea(r)}function tu(t,n=qt.Default){const r=ve();return null===r?Rn(t,n):em(Ft(),r,he(t),n)}function $g(){throw new Error("invalid")}function Vg(t,n,r,o,i,s){const l=G(null);try{let m=null;i&Xn.SignalBased&&(m=n[o][U]),null!==m&&void 0!==m.transformFn&&(s=m.transformFn(s)),i&Xn.HasDecoratorInputTransform&&(s=t.inputTransforms[o].call(n,s)),null!==t.setInput?t.setInput(n,m,s,r,o):Vi(n,m,o,s)}finally{G(l)}}function Ic(t,n,r,o,i,s,l,m,b,k,O){const Y=n.blueprint.slice();return Y[d]=i,Y[f]=204|o,(null!==k||t&&2048&t[f])&&(Y[f]|=2048),ql(Y),Y[E]=Y[it]=t,Y[Q]=r,Y[we]=l||t&&t[we],Y[ye]=m||t&&t[ye],Y[re]=b||t&&t[re]||null,Y[R]=s,Y[Et]=function sE(){return iE++}(),Y[$]=O,Y[xt]=k,Y[nt]=2==n.type?t[nt]:Y,Y}function ka(t,n,r,o,i){let s=t.data[n];if(null===s)s=function Uf(t,n,r,o,i){const s=Jt(),l=Gs(),b=t.data[n]=function Vw(t,n,r,o,i,s){let l=n?n.injectorIndex:-1,m=0;return g()&&(m|=128),{type:r,index:o,insertBeforeIndex:null,injectorIndex:l,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:m,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,l?s:s&&s.parent,r,n,o,i);return null===t.firstChild&&(t.firstChild=b),null!==s&&(l?null==s.child&&null!==b.parent&&(s.child=b):null===s.next&&(s.next=b,b.prev=s)),b}(t,n,r,o,i),function mb(){return Gt.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=r,s.value=o,s.attrs=i;const l=function go(){const t=Gt.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();s.injectorIndex=null===l?-1:l.injectorIndex}return Pr(s,!0),s}function rl(t,n,r,o){if(0===r)return-1;const i=n.length;for(let s=0;s<r;s++)n.push(o),t.blueprint.push(o),t.data.push(null);return i}function Ug(t,n,r,o,i){const s=Po(),l=2&o;try{Ea(-1),l&&n.length>lt&&Lg(t,n,lt,!1),rs(l?2:0,i),r(o,i)}finally{Ea(s),rs(l?3:1,i)}}function Bf(t,n,r){if(ha(n)){const o=G(null);try{const s=n.directiveEnd;for(let l=n.directiveStart;l<s;l++){const m=t.data[l];m.contentQueries&&m.contentQueries(1,r[l],l)}}finally{G(o)}}}function Gf(t,n,r){a()&&(function Ww(t,n,r,o){const i=r.directiveStart,s=r.directiveEnd;ds(r)&&function eC(t,n,r){const o=Oo(n,t),i=Bg(r);let l=16;r.signals?l=4096:r.onPush&&(l=64);const m=kc(t,Ic(t,i,null,l,o,n,null,t[we].rendererFactory.createRenderer(o,r),null,null,null));t[n.index]=m}(n,r,t.data[i+r.componentOffset]),t.firstCreatePass||ec(r,n),Ko(o,n);const l=r.initialInputs;for(let m=i;m<s;m++){const b=t.data[m],k=Ca(n,t,m,r);Ko(k,n),null!==l&&tC(0,m-i,k,b,0,l),si(b)&&(ai(r.index,n)[Q]=Ca(n,t,m,r))}}(t,n,r,Oo(r,n)),!(64&~r.flags)&&Wg(t,n,r))}function Hf(t,n,r=Oo){const o=n.localNames;if(null!==o){let i=n.index+1;for(let s=0;s<o.length;s+=2){const l=o[s+1],m=-1===l?r(n,t):t[l];t[i++]=m}}}function Bg(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=qf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function qf(t,n,r,o,i,s,l,m,b,k,O){const Y=lt+o,ie=Y+i,de=function Nw(t,n){const r=[];for(let o=0;o<n;o++)r.push(o<t?null:an);return r}(Y,ie),Ee="function"==typeof k?k():k;return de[u]={type:t,blueprint:de,template:r,queries:null,viewQuery:m,declTNode:n,data:de.slice().fill(null,Y),bindingStartIndex:Y,expandoStartIndex:ie,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof l?l():l,firstChild:null,schemas:b,consts:Ee,incompleteFirstPass:!1,ssrId:O}}let Gg=()=>null;function Hg(t,n,r,o,i){for(let s in n){if(!n.hasOwnProperty(s))continue;const l=n[s];if(void 0===l)continue;o??={};let m,b=Xn.None;Array.isArray(l)?(m=l[0],b=l[1]):m=l;let k=s;if(null!==i){if(!i.hasOwnProperty(s))continue;k=i[s]}0===t?qg(o,r,k,m,b):qg(o,r,k,m)}return o}function qg(t,n,r,o,i){let s;t.hasOwnProperty(r)?(s=t[r]).push(n,o):s=t[r]=[n,o],void 0!==i&&s.push(i)}function Ci(t,n,r,o,i,s,l,m){const b=Oo(n,r);let O,k=n.inputs;!m&&null!=k&&(O=k[o])?(Kf(t,r,O,o,i),ds(n)&&function Gw(t,n){const r=ai(n,t);16&r[f]||(r[f]|=64)}(r,n.index)):3&n.type&&(o=function Bw(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(o),i=null!=l?l(i,n.value||"",o):i,s.setProperty(b,o,i))}function zf(t,n,r,o){if(a()){const i=null===o?null:{"":-1},s=function Xw(t,n){const r=t.directiveRegistry;let o=null,i=null;if(r)for(let s=0;s<r.length;s++){const l=r[s];if(H(n,l.selectors,!1))if(o||(o=[]),si(l))if(null!==l.findHostDirectiveDefs){const m=[];i=i||new Map,l.findHostDirectiveDefs(l,m,i),o.unshift(...m,l),Wf(t,n,m.length)}else o.unshift(l),Wf(t,n,0);else i=i||new Map,l.findHostDirectiveDefs?.(l,o,i),o.push(l)}return null===o?null:[o,i]}(t,r);let l,m;null===s?l=m=null:[l,m]=s,null!==l&&zg(t,n,r,l,i,m),i&&function Kw(t,n,r){if(n){const o=t.localNames=[];for(let i=0;i<n.length;i+=2){const s=r[n[i+1]];if(null==s)throw new et(-301,!1);o.push(n[i],s)}}}(r,o,i)}r.mergedAttrs=ni(r.mergedAttrs,r.attrs)}function zg(t,n,r,o,i,s){for(let k=0;k<o.length;k++)Yd(ec(r,n),t,o[k].type);!function Jw(t,n,r){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+r,t.providerIndexes=n}(r,t.data.length,o.length);for(let k=0;k<o.length;k++){const O=o[k];O.providersResolver&&O.providersResolver(O)}let l=!1,m=!1,b=rl(t,n,o.length,null);for(let k=0;k<o.length;k++){const O=o[k];r.mergedAttrs=ni(r.mergedAttrs,O.hostAttrs),Zw(t,r,n,b,O),Qw(b,O,i),null!==O.contentQueries&&(r.flags|=4),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(r.flags|=64);const Y=O.type.prototype;!l&&(Y.ngOnChanges||Y.ngOnInit||Y.ngDoCheck)&&((t.preOrderHooks??=[]).push(r.index),l=!0),!m&&(Y.ngOnChanges||Y.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(r.index),m=!0),b++}!function Uw(t,n,r){const i=n.directiveEnd,s=t.data,l=n.attrs,m=[];let b=null,k=null;for(let O=n.directiveStart;O<i;O++){const Y=s[O],ie=r?r.get(Y):null,Ee=ie?ie.outputs:null;b=Hg(0,Y.inputs,O,b,ie?ie.inputs:null),k=Hg(1,Y.outputs,O,k,Ee);const Ge=null===b||null===l||So(n)?null:nC(b,O,l);m.push(Ge)}null!==b&&(b.hasOwnProperty("class")&&(n.flags|=8),b.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=m,n.inputs=b,n.outputs=k}(t,r,s)}function Wg(t,n,r){const o=r.directiveStart,i=r.directiveEnd,s=r.index,l=function vb(){return Gt.lFrame.currentDirectiveIndex}();try{Ea(s);for(let m=o;m<i;m++){const b=t.data[m],k=n[m];jd(m),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&Yw(b,k)}}finally{Ea(-1),jd(l)}}function Yw(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Wf(t,n,r){n.componentOffset=r,(t.components??=[]).push(n.index)}function Qw(t,n,r){if(r){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)r[n.exportAs[o]]=t;si(n)&&(r[""]=t)}}function Zw(t,n,r,o,i){t.data[o]=i;const s=i.factory||(i.factory=ur(i.type)),l=new Vu(s,si(i),tu);t.blueprint[o]=l,r[o]=l,function qw(t,n,r,o,i){const s=i.hostBindings;if(s){let l=t.hostBindingOpCodes;null===l&&(l=t.hostBindingOpCodes=[]);const m=~n.index;(function zw(t){let n=t.length;for(;n>0;){const r=t[--n];if("number"==typeof r&&r<0)return r}return 0})(l)!=m&&l.push(m),l.push(r,o,s)}}(t,n,o,rl(t,r,i.hostVars,an),i)}function Fs(t,n,r,o,i,s){const l=Oo(t,n);!function Yf(t,n,r,o,i,s,l){if(null==s)t.removeAttribute(n,i,r);else{const m=null==l?Dt(s):l(s,o||"",i);t.setAttribute(n,i,m,r)}}(n[ye],l,s,t.value,r,o,i)}function tC(t,n,r,o,i,s){const l=s[n];if(null!==l)for(let m=0;m<l.length;)Vg(o,r,l[m++],l[m++],l[m++],l[m++])}function nC(t,n,r){let o=null,i=0;for(;i<r.length;){const s=r[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===o&&(o=[]);const l=t[s];for(let m=0;m<l.length;m+=3)if(l[m]===n){o.push(s,l[m+1],l[m+2],r[i+1]);break}}i+=2}else i+=2;else i+=4}return o}function Yg(t,n,r,o){return[t,!0,0,n,null,o,null,r,null,null]}function Xg(t,n){const r=t.contentQueries;if(null!==r){const o=G(null);try{for(let i=0;i<r.length;i+=2){const l=r[i+1];if(-1!==l){const m=t.data[l];Xl(r[i]),m.contentQueries(2,n[l],l)}}}finally{G(o)}}}function kc(t,n){return t[Ye]?t[Be][S]=n:t[Ye]=n,t[Be]=n,n}function Xf(t,n,r){Xl(0);const o=G(null);try{n(t,r)}finally{G(o)}}function Kg(t){return t[q]??=[]}function Qg(t){return t.cleanup??=[]}function Sc(t,n){const r=t[re],o=r?r.get(zs,null):null;o&&o.handleError(n)}function Kf(t,n,r,o,i){for(let s=0;s<r.length;){const l=r[s++],m=r[s++],b=r[s++];Vg(t.data[l],n[l],o,m,b,i)}}function Ys(t,n,r){const o=pa(n,t);!function wg(t,n,r){t.setValue(n,r)}(t[ye],o,r)}function rC(t,n){const r=ai(n,t),o=r[u];!function oC(t,n){for(let r=n.length;r<t.blueprint.length;r++)n.push(t.blueprint[r])}(o,r);const i=r[d];null!==i&&null===r[$]&&(r[$]=gf(i,r[re])),Qf(o,r,r[Q])}function Qf(t,n,r){Vd(n);try{const o=t.viewQuery;null!==o&&Xf(1,o,r);const i=t.template;null!==i&&Ug(t,n,i,1,r),t.firstCreatePass&&(t.firstCreatePass=!1),n[Kt]?.finishViewCreation(t),t.staticContentQueries&&Xg(t,n),t.staticViewQueries&&Xf(2,t.viewQuery,r);const s=t.components;null!==s&&function iC(t,n){for(let r=0;r<n.length;r++)rC(t,n[r])}(n,s)}catch(o){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),o}finally{n[f]&=-5,Ud()}}function nu(t,n,r,o){const i=G(null);try{const s=n.tView,b=Ic(t,s,r,4096&t[f]?4096:16,null,n,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null);b[wt]=t[n.index];const O=t[Kt];return null!==O&&(b[Kt]=O.createEmbeddedView(s)),Qf(s,b,r),b}finally{G(i)}}function Sa(t,n){return!n||null===n.firstChild||qu(t)}function ru(t,n,r,o=!0){const i=n[u];if(function xw(t,n,r,o){const i=sr+o,s=r.length;o>0&&(r[i-1][S]=n),o<s-sr?(n[S]=r[i],Cn(r,sr+o,n)):(r.push(n),n[S]=null),n[E]=r;const l=n[wt];null!==l&&r!==l&&Dg(l,n);const m=n[Kt];null!==m&&m.insertView(t),ga(n),n[f]|=128}(i,n,t,r),o){const l=$f(r,t),m=n[ye],b=jf(m,t[Li]);null!==b&&function Cw(t,n,r,o,i,s){o[d]=i,o[R]=n,Fc(t,o,r,1,i,s)}(i,t[R],m,n,b,l)}const s=n[$];null!==s&&null!==s.firstChild&&(s.firstChild=null)}function ol(t,n,r,o,i=!1){for(;null!==r;){if(128===r.type){r=i?r.projectionNext:r.next;continue}const s=n[r.index];null!==s&&o.push(An(s)),Or(s)&&e0(s,o);const l=r.type;if(8&l)ol(t,n,r.child,o);else if(32&l){const m=Mf(r,n);let b;for(;b=m();)o.push(b)}else if(16&l){const m=Ag(n,r);if(Array.isArray(m))o.push(...m);else{const b=fs(n[nt]);ol(b[u],b,m,o,!0)}}r=i?r.projectionNext:r.next}return o}function e0(t,n){for(let r=sr;r<t.length;r++){const o=t[r],i=o[u].firstChild;null!==i&&ol(o[u],o,i,n)}t[Li]!==t[d]&&n.push(t[Li])}let t0=[];const lC={...fe,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ra(t.lView)},consumerOnSignalRead(){this.lView[dn]=this}},dC={...fe,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let n=fs(t.lView);for(;n&&!n0(n[u]);)n=fs(n);n&&zl(n)},consumerOnSignalRead(){this.lView[dn]=this}};function n0(t){return 2!==t.type}const fC=100;function Tc(t,n=!0,r=0){const o=t[we],i=o.rendererFactory;i.begin?.();try{!function hC(t,n){const r=ya();try{ba(!0),Zf(t,n);let o=0;for(;Ua(t);){if(o===fC)throw new et(103,!1);o++,Zf(t,1)}}finally{ba(r)}}(t,r)}catch(l){throw n&&Sc(t,l),l}finally{i.end?.(),o.inlineEffectRunner?.flush()}}function pC(t,n,r,o){const i=n[f];if(!(256&~i))return;n[we].inlineEffectRunner?.flush(),Vd(n);let m=!0,b=null,k=null;n0(t)?(k=function sC(t){return t[dn]??function aC(t){const n=t0.pop()??Object.create(lC);return n.lView=t,n}(t)}(n),b=K(k)):null===F()?(m=!1,k=function cC(t){const n=t[dn]??Object.create(dC);return n.lView=t,n}(n),b=K(k)):n[dn]&&(Fe(n[dn]),n[dn]=null);try{ql(n),function qs(t){return Gt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==r&&Ug(t,n,r,2,o);const O=!(3&~i);if(O){const de=t.preOrderCheckHooks;null!==de&&Ql(n,de,null)}else{const de=t.preOrderHooks;null!==de&&Jl(n,de,0,null),Bd(n,0)}if(function mC(t){for(let n=Tm(t);null!==n;n=Mm(n)){if(!(n[f]&cs.HasTransplantedViews))continue;const r=n[Vs];for(let o=0;o<r.length;o++)zl(r[o])}}(n),o0(n,0),null!==t.contentQueries&&Xg(t,n),O){const de=t.contentCheckHooks;null!==de&&Ql(n,de)}else{const de=t.contentHooks;null!==de&&Jl(n,de,1),Bd(n,1)}!function Rw(t,n){const r=t.hostBindingOpCodes;if(null!==r)try{for(let o=0;o<r.length;o++){const i=r[o];if(i<0)Ea(~i);else{const s=i,l=r[++o],m=r[++o];gb(l,s),m(2,n[s])}}}finally{Ea(-1)}}(t,n);const Y=t.components;null!==Y&&a0(n,Y,0);const ie=t.viewQuery;if(null!==ie&&Xf(2,ie,o),O){const de=t.viewCheckHooks;null!==de&&Ql(n,de)}else{const de=t.viewHooks;null!==de&&Jl(n,de,2),Bd(n,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Nr]){for(const de of n[Nr])de();n[Nr]=null}n[f]&=-73}catch(O){throw ra(n),O}finally{null!==k&&(le(k,b),m&&function uC(t){t.lView[dn]!==t&&(t.lView=null,t0.push(t))}(k)),Ud()}}function o0(t,n){for(let r=Tm(t);null!==r;r=Mm(r))for(let o=sr;o<r.length;o++)s0(r[o],n)}function gC(t,n,r){s0(ai(n,t),r)}function s0(t,n){Ou(t)&&Zf(t,n)}function Zf(t,n){const o=t[u],i=t[f],s=t[dn];let l=!!(0===n&&16&i);if(l||=!!(64&i&&0===n),l||=!!(1024&i),l||=!(!s?.dirty||!De(s)),l||=!1,s&&(s.dirty=!1),t[f]&=-9217,l)pC(o,t,o.template,t[Q]);else if(8192&i){o0(t,1);const m=o.components;null!==m&&a0(t,m,1)}}function a0(t,n,r){for(let o=0;o<n.length;o++)gC(t,n[o],r)}function il(t,n){const r=ya()?64:1088;for(t[we].changeDetectionScheduler?.notify(n);t;){t[f]|=r;const o=fs(t);if(Us(t)&&!o)return t;t=o}return null}class sl{get rootNodes(){const n=this._lView,r=n[u];return ol(r,n,r.firstChild,[])}constructor(n,r,o=!0){this._lView=n,this._cdRefInjectingView=r,this.notifyErrorHandler=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Q]}set context(n){this._lView[Q]=n}get destroyed(){return!(256&~this._lView[f])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[E];if(Or(n)){const r=n[8],o=r?r.indexOf(this):-1;o>-1&&(tl(n,o),Cr(r,o))}this._attachedToViewContainer=!1}Dc(this._lView[u],this._lView)}onDestroy(n){va(this._lView,n)}markForCheck(){il(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[f]&=-129}reattach(){ga(this._lView),this._lView[f]|=128}detectChanges(){this._lView[f]|=1024,Tc(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new et(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=Us(this._lView),r=this._lView[wt];null!==r&&!n&&Nf(r,this._lView),Cg(this._lView[u],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new et(902,!1);this._appRef=n;const r=Us(this._lView),o=this._lView[wt];null!==o&&!r&&Dg(o,this._lView),ga(this._lView)}}let al=(()=>{class t{static{this.__NG_ELEMENT_ID__=yC}}return t})();const vC=al,_C=class extends vC{constructor(n,r,o){super(),this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,o){const i=nu(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:o});return new sl(i)}};function yC(){return Mc(Ft(),ve())}function Mc(t,n){return 4&t.type?new _C(n,t,Wa(t,n)):null}let k0=()=>null;function Ma(t,n){return k0(t,n)}class iu{}const ml=new Nt("",{providedIn:"root",factory:()=>!1}),S0=new Nt(""),ch=new Nt("");class dD{}class T0{}class hD{resolveComponentFactory(n){throw function fD(t){const n=Error(`No component factory found for ${Lt(t)}.`);return n.ngComponent=t,n}(n)}}class jc{static{this.NULL=new hD}}class dh{}let pD=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function mD(){const t=ve(),r=ai(Ft().index,t);return(xr(r)?r:t)[ye]}()}}return t})(),gD=(()=>{class t{static{this.\u0275prov=rn({token:t,providedIn:"root",factory:()=>null})}}return t})();function aa(t){return!!ir(t)}function $c(t,n,r){let o=r?t.styles:null,i=r?t.classes:null,s=0;if(null!==n)for(let l=0;l<n.length;l++){const m=n[l];"number"==typeof m?s=m:1==s?i=pr(i,m):2==s&&(o=pr(o,m+": "+n[++l]+";"))}r?t.styles=o:t.stylesWithoutHost=o,r?t.classes=i:t.classesWithoutHost=i}class N0 extends jc{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const r=zt(n);return new _l(r,this.ngModule)}}function O0(t,n){const r=[];for(const o in t){if(!t.hasOwnProperty(o))continue;const i=t[o];if(void 0===i)continue;const s=Array.isArray(i),l=s?i[0]:i;r.push(n?{propName:l,templateName:o,isSignal:!!((s?i[1]:Xn.None)&Xn.SignalBased)}:{propName:l,templateName:o})}return r}class _l extends T0{get inputs(){const n=this.componentDef,r=n.inputTransforms,o=O0(n.inputs,!0);if(null!==r)for(const i of o)r.hasOwnProperty(i.propName)&&(i.transform=r[i.propName]);return o}get outputs(){return O0(this.componentDef.outputs,!1)}constructor(n,r){super(),this.componentDef=n,this.ngModule=r,this.componentType=n.type,this.selector=function vs(t){return t.map(Dr).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!r}create(n,r,o,i){const s=G(null);try{let l=(i=i||this.ngModule)instanceof Xr?i:i?.injector;l&&null!==this.componentDef.getStandaloneInjector&&(l=this.componentDef.getStandaloneInjector(l)||l);const m=l?new wa(n,l):n,b=m.get(dh,null);if(null===b)throw new et(407,!1);const Y={rendererFactory:b,sanitizer:m.get(gD,null),inlineEffectRunner:null,changeDetectionScheduler:m.get(iu,null)},ie=b.createRenderer(null,this.componentDef),de=this.componentDef.selectors[0][0]||"div",Ee=o?function Ow(t,n,r,o){const s=o.get(Xm,!1)||r===fo.ShadowDom,l=t.selectRootElement(n,s);return function Pw(t){Gg(t)}(l),l}(ie,o,this.componentDef.encapsulation,m):Cc(ie,de,function yD(t){const n=t.toLowerCase();return"svg"===n?Gl:"math"===n?"math":null}(de));let Ge=512;this.componentDef.signals?Ge|=4096:this.componentDef.onPush||(Ge|=16);let rt=null;null!==Ee&&(rt=gf(Ee,m,!0));const ut=qf(0,null,null,1,0,null,null,null,null,null,null),Ve=Ic(null,ut,null,Ge,null,null,Y,ie,m,null,rt);Vd(Ve);let Yt,kn,Qn=null;try{const Vr=this.componentDef;let xi,Tu=null;Vr.findHostDirectiveDefs?(xi=[],Tu=new Map,Vr.findHostDirectiveDefs(Vr,xi,Tu),xi.push(Vr)):xi=[Vr];const pb=function ED(t,n){const r=t[u],o=lt;return t[o]=n,ka(r,o,2,"#host",null)}(Ve,Ee);Qn=function wD(t,n,r,o,i,s,l){const m=i[u];!function CD(t,n,r,o){for(const i of t)n.mergedAttrs=ni(n.mergedAttrs,i.hostAttrs);null!==n.mergedAttrs&&($c(n,n.mergedAttrs,!0),null!==r&&Pg(o,r,n))}(o,t,n,l);let b=null;null!==n&&(b=gf(n,i[re]));const k=s.rendererFactory.createRenderer(n,r);let O=16;r.signals?O=4096:r.onPush&&(O=64);const Y=Ic(i,Bg(r),null,O,i[t.index],t,s,k,null,null,b);return m.firstCreatePass&&Wf(m,t,o.length-1),kc(i,Y),i[t.index]=Y}(pb,Ee,Vr,xi,Ve,Y,ie),kn=ma(ut,lt),Ee&&function xD(t,n,r,o){if(o)Yi(t,r,["ng-version","18.2.14"]);else{const{attrs:i,classes:s}=function ri(t){const n=[],r=[];let o=1,i=2;for(;o<t.length;){let s=t[o];if("string"==typeof s)2===i?""!==s&&n.push(s,t[++o]):8===i&&r.push(s);else{if(!A(i))break;i=s}o++}return{attrs:n,classes:r}}(n.selectors[0]);i&&Yi(t,r,i),s&&s.length>0&&Og(t,r,s.join(" "))}}(ie,Vr,Ee,o),void 0!==r&&function FD(t,n,r){const o=t.projection=[];for(let i=0;i<n.length;i++){const s=r[i];o.push(null!=s?Array.from(s):null)}}(kn,this.ngContentSelectors,r),Yt=function DD(t,n,r,o,i,s){const l=Ft(),m=i[u],b=Oo(l,i);zg(m,i,l,r,null,o);for(let O=0;O<r.length;O++)Ko(Ca(i,m,l.directiveStart+O,l),i);Wg(m,i,l),b&&Ko(b,i);const k=Ca(i,m,l.directiveStart+l.componentOffset,l);if(t[Q]=i[Q]=k,null!==s)for(const O of s)O(k,n);return Bf(m,l,i),k}(Qn,Vr,xi,Tu,Ve,[ID]),Qf(ut,Ve,null)}catch(Vr){throw null!==Qn&&af(Qn),af(Ve),Vr}finally{Ud()}return new bD(this.componentType,Yt,Wa(kn,Ve),Ve,kn)}finally{G(s)}}}class bD extends dD{constructor(n,r,o,i,s){super(),this.location=o,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new sl(i,void 0,!1),this.componentType=n}setInput(n,r){const o=this._tNode.inputs;let i;if(null!==o&&(i=o[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),r))return;const s=this._rootLView;Kf(s[u],s,i,n,r),this.previousInputValues.set(n,r),il(ai(this._tNode.index,s),1)}}get injector(){return new oo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function ID(){const t=Ft();Kl(ve()[u],t)}let Vc=(()=>{class t{static{this.__NG_ELEMENT_ID__=kD}}return t})();function kD(){return L0(Ft(),ve())}const SD=Vc,P0=class extends SD{constructor(n,r,o){super(),this._lContainer=n,this._hostTNode=r,this._hostLView=o}get element(){return Wa(this._hostTNode,this._hostLView)}get injector(){return new oo(this._hostTNode,this._hostLView)}get parentInjector(){const n=tc(this._hostTNode,this._hostLView);if(qd(n)){const r=Bu(n,this._hostLView),o=Uu(n);return new oo(r[u].data[o+8],r)}return new oo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const r=j0(this._lContainer);return null!==r&&r[n]||null}get length(){return this._lContainer.length-sr}createEmbeddedView(n,r,o){let i,s;"number"==typeof o?i=o:null!=o&&(i=o.index,s=o.injector);const l=Ma(this._lContainer,n.ssrId),m=n.createEmbeddedViewImpl(r||{},s,l);return this.insertImpl(m,i,Sa(this._hostTNode,l)),m}createComponent(n,r,o,i,s){const l=n&&!function ne(t){return"function"==typeof t}(n);let m;if(l)m=r;else{const Ee=r||{};m=Ee.index,o=Ee.injector,i=Ee.projectableNodes,s=Ee.environmentInjector||Ee.ngModuleRef}const b=l?n:new _l(zt(n)),k=o||this.parentInjector;if(!s&&null==b.ngModule){const Ge=(l?k:this.parentInjector).get(Xr,null);Ge&&(s=Ge)}const O=zt(b.componentType??{}),Y=Ma(this._lContainer,O?.id??null),de=b.create(k,i,Y?.firstChild??null,s);return this.insertImpl(de.hostView,m,Sa(this._hostTNode,Y)),de}insert(n,r){return this.insertImpl(n,r,!0)}insertImpl(n,r,o){const i=n._lView;if(function Np(t){return Or(t[E])}(i)){const m=this.indexOf(n);if(-1!==m)this.detach(m);else{const b=i[E],k=new P0(b,b[R],b[E]);k.detach(k.indexOf(n))}}const s=this._adjustIndex(r),l=this._lContainer;return ru(l,i,s,o),n.attachToViewContainerRef(),Cn(ph(l),s,n),n}move(n,r){return this.insert(n,r)}indexOf(n){const r=j0(this._lContainer);return null!==r?r.indexOf(n):-1}remove(n){const r=this._adjustIndex(n,-1),o=tl(this._lContainer,r);o&&(Cr(ph(this._lContainer),r),Dc(o[u],o))}detach(n){const r=this._adjustIndex(n,-1),o=tl(this._lContainer,r);return o&&null!=Cr(ph(this._lContainer),r)?new sl(o):null}_adjustIndex(n,r=0){return n??this.length+r}};function j0(t){return t[8]}function ph(t){return t[8]||(t[8]=[])}function L0(t,n){let r;const o=n[t.index];return Or(o)?r=o:(r=Yg(o,n,null,t),n[t.index]=r,kc(n,r)),$0(r,n,t,o),new P0(r,t,n)}let $0=function U0(t,n,r,o){if(t[Li])return;let i;i=8&r.type?An(o):function TD(t,n){const r=t[ye],o=r.createComment(""),i=Oo(n,t);return Fa(r,jf(r,i),o,function kw(t,n){return t.nextSibling(n)}(r,i),!1),o}(n,r),t[Li]=i},mh=()=>!1;class gh{constructor(n){this.queryList=n,this.matches=null}clone(){return new gh(this.queryList)}setDirty(){this.queryList.setDirty()}}class vh{constructor(n=[]){this.queries=n}createEmbeddedView(n){const r=n.queries;if(null!==r){const o=null!==n.contentQueries?n.contentQueries[0]:r.length,i=[];for(let s=0;s<o;s++){const l=r.getByIndex(s);i.push(this.queries[l.indexInDeclarationView].clone())}return new vh(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let r=0;r<this.queries.length;r++)null!==wh(n,r).matches&&this.queries[r].setDirty()}}class B0{constructor(n,r,o=null){this.flags=r,this.read=o,this.predicate="string"==typeof n?function LD(t){return t.split(",").map(n=>n.trim())}(n):n}}class _h{constructor(n=[]){this.queries=n}elementStart(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,r)}elementEnd(n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(n)}embeddedTView(n){let r=null;for(let o=0;o<this.length;o++){const i=null!==r?r.length:0,s=this.getByIndex(o).embeddedTView(n,i);s&&(s.indexInDeclarationView=o,null!==r?r.push(s):r=[s])}return null!==r?new _h(r):null}template(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,r)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class yh{constructor(n,r=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(n,r){this.isApplyingToNode(r)&&this.matchTNode(n,r)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,r){this.elementStart(n,r)}embeddedTView(n,r){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,r),new yh(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==r;)o=o.parent;return r===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,r){const o=this.metadata.predicate;if(Array.isArray(o))for(let i=0;i<o.length;i++){const s=o[i];this.matchTNodeWithReadOption(n,r,ND(r,s)),this.matchTNodeWithReadOption(n,r,nc(r,n,s,!1,!1))}else o===al?4&r.type&&this.matchTNodeWithReadOption(n,r,-1):this.matchTNodeWithReadOption(n,r,nc(r,n,o,!1,!1))}matchTNodeWithReadOption(n,r,o){if(null!==o){const i=this.metadata.read;if(null!==i)if(i===Gu||i===Vc||i===al&&4&r.type)this.addMatch(r.index,-2);else{const s=nc(r,n,i,!1,!1);null!==s&&this.addMatch(r.index,s)}else this.addMatch(r.index,o)}}addMatch(n,r){null===this.matches?this.matches=[n,r]:this.matches.push(n,r)}}function ND(t,n){const r=t.localNames;if(null!==r)for(let o=0;o<r.length;o+=2)if(r[o]===n)return r[o+1];return null}function PD(t,n,r,o){return-1===r?function OD(t,n){return 11&t.type?Wa(t,n):4&t.type?Mc(t,n):null}(n,t):-2===r?function jD(t,n,r){return r===Gu?Wa(n,t):r===al?Mc(n,t):r===Vc?L0(n,t):void 0}(t,n,o):Ca(t,t[u],r,n)}function G0(t,n,r,o){const i=n[Kt].queries[o];if(null===i.matches){const s=t.data,l=r.matches,m=[];for(let b=0;null!==l&&b<l.length;b+=2){const k=l[b];m.push(k<0?null:PD(n,s[k],l[b+1],r.metadata.read))}i.matches=m}return i.matches}function bh(t,n,r,o){const i=t.queries.getByIndex(r),s=i.matches;if(null!==s){const l=G0(t,n,i,r);for(let m=0;m<s.length;m+=2){const b=s[m];if(b>0)o.push(l[m/2]);else{const k=s[m+1],O=n[-b];for(let Y=sr;Y<O.length;Y++){const ie=O[Y];ie[wt]===ie[E]&&bh(ie[u],ie,k,o)}if(null!==O[Vs]){const Y=O[Vs];for(let ie=0;ie<Y.length;ie++){const de=Y[ie];bh(de[u],de,k,o)}}}}}return o}function H0(t,n,r){const o=new nf(!(4&~r));return function $w(t,n,r,o){const i=Kg(n);i.push(r),t.firstCreatePass&&Qg(t).push(o,i.length-1)}(t,n,o,o.destroy),(n[Kt]??=new vh).queries.push(new gh(o))-1}function W0(t,n,r){null===t.queries&&(t.queries=new _h),t.queries.track(new yh(n,r))}function wh(t,n){return t.queries.getByIndex(n)}function Y0(t,n){const r=t[u],o=wh(r,n);return o.crossesNgTemplate?bh(r,t,n,[]):G0(r,t,o,n)}const X0=new Set;function ui(t){X0.has(t)||(X0.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Q0(t,n){ui("NgSignals");const r=function mn(t){const n=Object.create(Pe);n.value=t;const r=()=>(te(n),n.value);return r[U]=n,r}(t),o=r[U];return n?.equal&&(o.equal=n.equal),r.set=i=>Oe(o,i),r.update=i=>function Ae(t,n){Xe()||St(),Oe(t,n(t.value))}(o,i),r.asReadonly=J0.bind(r),r}function J0(){const t=this[U];if(void 0===t.readonlyFn){const n=()=>this();n[U]=t,t.readonlyFn=n}return t.readonlyFn}function Z0(t){return function K0(t){return"function"==typeof t&&void 0!==t[U]}(t)&&"function"==typeof t.set}function Dh(t){let n=function cv(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),r=!0;const o=[t];for(;n;){let i;if(si(t))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new et(903,!1);i=n.\u0275dir}if(i){if(r){o.push(i);const l=t;l.inputs=Bc(t.inputs),l.inputTransforms=Bc(t.inputTransforms),l.declaredInputs=Bc(t.declaredInputs),l.outputs=Bc(t.outputs);const m=i.hostBindings;m&&ZD(t,m);const b=i.viewQuery,k=i.contentQueries;if(b&&QD(t,b),k&&JD(t,k),XD(t,i),hr(t.outputs,i.outputs),si(i)&&i.data.animation){const O=t.data;O.animation=(O.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let l=0;l<s.length;l++){const m=s[l];m&&m.ngInherit&&m(t),m===Dh&&(r=!1)}}n=Object.getPrototypeOf(n)}!function KD(t){let n=0,r=null;for(let o=t.length-1;o>=0;o--){const i=t[o];i.hostVars=n+=i.hostVars,i.hostAttrs=ni(i.hostAttrs,r=ni(r,i.hostAttrs))}}(o)}function XD(t,n){for(const r in n.inputs){if(!n.inputs.hasOwnProperty(r)||t.inputs.hasOwnProperty(r))continue;const o=n.inputs[r];if(void 0!==o&&(t.inputs[r]=o,t.declaredInputs[r]=n.declaredInputs[r],null!==n.inputTransforms)){const i=Array.isArray(o)?o[0]:o;if(!n.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=n.inputTransforms[i]}}}function Bc(t){return t===lr?{}:t===on?[]:t}function QD(t,n){const r=t.viewQuery;t.viewQuery=r?(o,i)=>{n(o,i),r(o,i)}:n}function JD(t,n){const r=t.contentQueries;t.contentQueries=r?(o,i,s)=>{n(o,i,s),r(o,i,s)}:n}function ZD(t,n){const r=t.hostBindings;t.hostBindings=r?(o,i)=>{n(o,i),r(o,i)}:n}function mv(t){const n=t.inputConfig,r={};for(const o in n)if(n.hasOwnProperty(o)){const i=n[o];Array.isArray(i)&&i[3]&&(r[o]=i[3])}t.inputTransforms=r}class Aa{}class gv{}function ix(t,n){return new Fh(t,n??null,[])}class Fh extends Aa{constructor(n,r,o,i=!0){super(),this.ngModuleType=n,this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new N0(this);const s=ir(n);this._bootstrapComponents=Ui(s.bootstrap),this._r3Injector=dm(n,r,[{provide:Aa,useValue:this},{provide:jc,useValue:this.componentFactoryResolver},...o],Lt(n),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Ih extends gv{constructor(n){super(),this.moduleType=n}create(n){return new Fh(this.moduleType,n,[])}}class vv extends Aa{constructor(n){super(),this.componentFactoryResolver=new N0(this),this.instance=null;const r=new Pi([...n.providers,{provide:Aa,useValue:this},{provide:jc,useValue:this.componentFactoryResolver}],n.parent||Oi(),n.debugName,new Set(["environment"]));this.injector=r,n.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function kh(t,n,r=null){return new vv({providers:t,parent:n,debugName:r,runEnvironmentInitializers:!0}).injector}function Gc(t){return!!Sh(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Sh(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Is(t,n,r){return t[n]=r}function jr(t,n,r){return!Object.is(t[n],r)&&(t[n]=r,!0)}function Ra(t,n,r,o){const i=jr(t,n,r);return jr(t,n+1,o)||i}function Hc(t,n,r,o,i){const s=Ra(t,n,r,o);return jr(t,n+2,i)||s}function El(t,n,r,o,i,s,l,m,b,k){const O=r+lt,Y=n.firstCreatePass?function dx(t,n,r,o,i,s,l,m,b){const k=n.consts,O=ka(n,t,4,l||null,m||null);zf(n,r,O,yi(k,b)),Kl(n,O);const Y=O.tView=qf(2,O,o,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,k,null);return null!==n.queries&&(n.queries.template(n,O),Y.queries=n.queries.embeddedTView(O)),O}(O,n,t,o,i,s,l,m,b):n.data[O];Pr(Y,!1);const ie=_v(n,t,Y,r);$u()&&xc(n,t,ie,Y),Ko(ie,t);const de=Yg(ie,t,ie,Y);return t[O]=de,kc(t,de),function V0(t,n,r){return mh(t,n,r)}(de,Y,t),ea(Y)&&Gf(n,t,Y),null!=b&&Hf(t,Y,k),Y}function Th(t,n,r,o,i,s,l,m){const b=ve(),k=st();return El(b,k,t,n,r,o,i,yi(k.consts,s),l,m),Th}let _v=function yv(t,n,r,o){return Cs(!0),n[ye].createComment("")};function mx(t,n){if(null!==F())throw new et(-602,!1)}var lu=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(lu||{});let xv=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=rn({token:t,providedIn:"root",factory:()=>new t})}}return t})();class Dl{constructor(){this.ngZone=_t(cr),this.scheduler=_t(iu),this.errorHandler=_t(zs,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[lu.EarlyRead,lu.Write,lu.MixedReadWrite,lu.Read]}execute(){this.executing=!0;for(const n of Dl.PHASES)for(const r of this.sequences)if(!r.erroredOrDestroyed&&r.hooks[n])try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>r.hooks[n](r.pipelinedValue))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(const n of this.sequences)n.afterRun(),n.once&&(this.sequences.delete(n),n.destroy());for(const n of this.deferredRegistrations)this.sequences.add(n);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(6))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}static{this.\u0275prov=rn({token:Dl,providedIn:"root",factory:()=>new Dl})}}class gx{constructor(n,r,o,i){this.impl=n,this.hooks=r,this.once=o,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}}function Yc(t,n){!n?.injector&&Wo();const r=n?.injector??_t(Xo);return function Bi(t){return"browser"===(t??_t(Xo)).get(cc)}(r)?(ui("NgAfterNextRender"),function Fv(t,n,r,o){const i=n.get(xv);i.impl??=n.get(Dl);const s=r?.phase??lu.MixedReadWrite,l=!0!==r?.manualCleanup?n.get(za):null,m=new gx(i.impl,function _x(t,n){if(t instanceof Function){const r=[void 0,void 0,void 0,void 0];return r[n]=t,r}return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}(t,s),o,l);return i.impl.register(m),m}(t,r,n,!0)):Iv}const Iv={destroy(){}};function Uh(t,n,r,o){const i=ve();return jr(i,Yo(),n)&&(st(),Fs(rr(),i,t,n,r,o)),Uh}function gu(t,n,r,o){return jr(t,Yo(),r)?n+Dt(r)+o:an}function Qc(t,n){return t<<17|n<<2}function ca(t){return t>>17&32767}function Bh(t){return 2|t}function Oa(t){return(131068&t)>>2}function Gh(t,n){return-131069&t|n<<2}function Hh(t){return 1|t}function Zv(t,n,r,o){const i=t[r+1],s=null===n;let l=o?ca(i):Oa(i),m=!1;for(;0!==l&&(!1===m||s);){const k=t[l+1];e2(t[l],n)&&(m=!0,t[l+1]=o?Hh(k):Bh(k)),l=o?ca(k):Oa(k)}m&&(t[r+1]=o?Bh(i):Hh(i))}function e2(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&ko(t,n)>=0}const io={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function e_(t){return t.substring(io.key,io.keyEnd)}function t_(t,n){const r=io.textEnd;return r===n?-1:(n=io.keyEnd=function o2(t,n,r){for(;n<r&&t.charCodeAt(n)>32;)n++;return n}(t,io.key=n,r),Du(t,n,r))}function Du(t,n,r){for(;n<r&&t.charCodeAt(n)<=32;)n++;return n}function qh(t,n,r){const o=ve();return jr(o,Yo(),n)&&Ci(st(),rr(),o,t,n,o[ye],r,!1),qh}function zh(t,n,r,o,i){const l=i?"class":"style";Kf(t,r,n.inputs[l],l,o)}function Wh(t,n){return function hs(t,n,r,o){const i=ve(),s=st(),l=Ei(2);s.firstUpdatePass&&u_(s,t,l,o),n!==an&&jr(i,l,n)&&c_(s,s.data[Po()],i,i[ye],t,i[l+1]=function g2(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Lt(sa(t)))),t}(n,r),o,l)}(t,n,null,!0),Wh}function Ss(t,n){for(let r=function n2(t){return function r_(t){io.key=0,io.keyEnd=0,io.value=0,io.valueEnd=0,io.textEnd=t.length}(t),t_(t,Du(t,0,io.textEnd))}(n);r>=0;r=t_(n,r))Vn(t,e_(n),!0)}function a_(t,n){return n>=t.expandoStartIndex}function u_(t,n,r,o){const i=t.data;if(null===i[r+1]){const s=i[Po()],l=a_(t,r);f_(s,o)&&null===n&&!l&&(n=!1),n=function l2(t,n,r,o){const i=function Ld(t){const n=Gt.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let s=o?n.residualClasses:n.residualStyles;if(null===i)0===(o?n.classBindings:n.styleBindings)&&(r=Fl(r=Yh(null,t,n,r,o),n.attrs,o),s=null);else{const l=n.directiveStylingLast;if(-1===l||t[l]!==i)if(r=Yh(i,t,n,r,o),null===s){let b=function c2(t,n,r){const o=r?n.classBindings:n.styleBindings;if(0!==Oa(o))return t[ca(o)]}(t,n,o);void 0!==b&&Array.isArray(b)&&(b=Yh(null,t,n,b[1],o),b=Fl(b,n.attrs,o),function d2(t,n,r,o){t[ca(r?n.classBindings:n.styleBindings)]=o}(t,n,o,b))}else s=function f2(t,n,r){let o;const i=n.directiveEnd;for(let s=1+n.directiveStylingLast;s<i;s++)o=Fl(o,t[s].hostAttrs,r);return Fl(o,n.attrs,r)}(t,n,o)}return void 0!==s&&(o?n.residualClasses=s:n.residualStyles=s),r}(i,s,n,o),function Jx(t,n,r,o,i,s){let l=s?n.classBindings:n.styleBindings,m=ca(l),b=Oa(l);t[o]=r;let O,k=!1;if(Array.isArray(r)?(O=r[1],(null===O||ko(r,O)>0)&&(k=!0)):O=r,i)if(0!==b){const ie=ca(t[m+1]);t[o+1]=Qc(ie,m),0!==ie&&(t[ie+1]=Gh(t[ie+1],o)),t[m+1]=function Kx(t,n){return 131071&t|n<<17}(t[m+1],o)}else t[o+1]=Qc(m,0),0!==m&&(t[m+1]=Gh(t[m+1],o)),m=o;else t[o+1]=Qc(b,0),0===m?m=o:t[b+1]=Gh(t[b+1],o),b=o;k&&(t[o+1]=Bh(t[o+1])),Zv(t,O,o,!0),Zv(t,O,o,!1),function Zx(t,n,r,o,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof n&&ko(s,n)>=0&&(r[o+1]=Hh(r[o+1]))}(n,O,t,o,s),l=Qc(m,b),s?n.classBindings=l:n.styleBindings=l}(i,s,n,r,l,o)}}function Yh(t,n,r,o,i){let s=null;const l=r.directiveEnd;let m=r.directiveStylingLast;for(-1===m?m=r.directiveStart:m++;m<l&&(s=n[m],o=Fl(o,s.hostAttrs,i),s!==t);)m++;return null!==t&&(r.directiveStylingLast=m),o}function Fl(t,n,r){const o=r?1:2;let i=-1;if(null!==n)for(let s=0;s<n.length;s++){const l=n[s];"number"==typeof l?i=l:i===o&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Vn(t,l,!!r||n[++s]))}return void 0===t?null:t}function c_(t,n,r,o,i,s,l,m){if(!(3&n.type))return;const b=t.data,k=b[m+1],O=function Qx(t){return!(1&~t)}(k)?d_(b,n,r,i,Oa(k),l):void 0;Jc(O)||(Jc(s)||function Xx(t){return!(2&~t)}(k)&&(s=d_(b,null,r,i,m,l)),function Mw(t,n,r,o,i){if(n)i?t.addClass(r,o):t.removeClass(r,o);else{let s=-1===o.indexOf("-")?void 0:wc.DashCase;null==i?t.removeStyle(r,o,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=wc.Important),t.setStyle(r,o,i,s))}}(o,l,pa(Po(),r),i,s))}function d_(t,n,r,o,i,s){const l=null===n;let m;for(;i>0;){const b=t[i],k=Array.isArray(b),O=k?b[1]:b,Y=null===O;let ie=r[i+1];ie===an&&(ie=Y?on:void 0);let de=Y?Ar(ie,o):O===o?ie:void 0;if(k&&!Jc(de)&&(de=Ar(b,o)),Jc(de)&&(m=de,l))return m;const Ee=t[i+1];i=l?ca(Ee):Oa(Ee)}if(null!==n){let b=s?n.residualClasses:n.residualStyles;null!=b&&(m=Ar(b,o))}return m}function Jc(t){return void 0!==t}function f_(t,n){return!!(t.flags&(n?8:16))}function h_(t,n,r){!function ps(t,n,r,o){const i=st(),s=Ei(2);i.firstUpdatePass&&u_(i,null,s,o);const l=ve();if(r!==an&&jr(l,s,r)){const m=i.data[Po()];if(f_(m,o)&&!a_(i,s)){let b=o?m.classesWithoutHost:m.stylesWithoutHost;null!==b&&(r=pr(b,r||"")),zh(i,m,l,r,o)}else!function m2(t,n,r,o,i,s,l,m){i===an&&(i=on);let b=0,k=0,O=0<i.length?i[0]:null,Y=0<s.length?s[0]:null;for(;null!==O||null!==Y;){const ie=b<i.length?i[b+1]:void 0,de=k<s.length?s[k+1]:void 0;let Ge,Ee=null;O===Y?(b+=2,k+=2,ie!==de&&(Ee=Y,Ge=de)):null===Y||null!==O&&O<Y?(b+=2,Ee=O):(k+=2,Ee=Y,Ge=de),null!==Ee&&c_(t,n,r,o,Ee,Ge,l,m),O=b<i.length?i[b]:null,Y=k<s.length?s[k]:null}}(i,m,l,l[ye],l[s+1],l[s+1]=function h2(t,n,r){if(null==r||""===r)return on;const o=[],i=sa(r);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(o,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(o,s,i[s]);else"string"==typeof i&&n(o,i);return o}(t,n,r),o,s)}}(Vn,Ss,gu(ve(),t,n,r),!0)}function v_(t,n){ui("NgControlFlow");const r=ve(),o=Yo(),i=r[o]!==an?r[o]:-1,s=-1!==i?Zc(r,lt+i):void 0;if(jr(r,o,t)){const m=G(null);try{if(void 0!==s&&function Jf(t,n){const r=tl(t,n);return void 0!==r&&Dc(r[u],r),r}(s,0),-1!==t){const b=lt+t,k=Zc(r,b),O=function Qh(t,n){return ma(t,n)}(r[u],b),Y=Ma(k,O.tView.ssrId);ru(k,nu(r,O,n,{dehydratedView:Y}),0,Sa(O,Y))}}finally{G(m)}}else if(void 0!==s){const m=function Zg(t,n){const r=sr+n;if(r<t.length)return t[r]}(s,0);void 0!==m&&(m[Q]=n)}}function Zc(t,n){return t[n]}function ed(t,n,r,o){const i=ve(),s=st(),l=lt+t,m=i[ye],b=s.firstCreatePass?function j2(t,n,r,o,i,s){const l=n.consts,b=ka(n,t,2,o,yi(l,i));return zf(n,r,b,yi(l,s)),null!==b.attrs&&$c(b,b.attrs,!1),null!==b.mergedAttrs&&$c(b,b.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,b),b}(l,s,i,n,r,o):s.data[l],k=__(s,i,b,m,n,t);i[l]=k;const O=ea(b);return Pr(b,!0),Pg(m,k,b),!function au(t){return!(32&~t.flags)}(b)&&$u()&&xc(s,i,k,b),0===function Od(){return Gt.lFrame.elementDepthCount}()&&Ko(k,i),function p(){Gt.lFrame.elementDepthCount++}(),O&&(Gf(s,i,b),Bf(s,b,i)),null!==o&&Hf(i,b),ed}function td(){let t=Ft();Gs()?oa():(t=t.parent,Pr(t,!1));const n=t;(function h(t){return Gt.skipHydrationRootTNode===t})(n)&&function kt(){Gt.skipHydrationRootTNode=null}(),function L(){Gt.lFrame.elementDepthCount--}();const r=st();return r.firstCreatePass&&(Kl(r,t),ha(t)&&r.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Fb(t){return!!(8&t.flags)}(n)&&zh(r,n,ve(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Ib(t){return!!(16&t.flags)}(n)&&zh(r,n,ve(),n.stylesWithoutHost,!1),td}function Jh(t,n,r,o){return ed(t,n,r,o),td(),Jh}let __=(t,n,r,o,i,s)=>(Cs(!0),Cc(o,i,function Hp(){return Gt.lFrame.currentNamespace}()));function nd(t,n,r){const o=ve(),i=st(),s=t+lt,l=i.firstCreatePass?function V2(t,n,r,o,i){const s=n.consts,l=yi(s,o),m=ka(n,t,8,"ng-container",l);return null!==l&&$c(m,l,!0),zf(n,r,m,yi(s,i)),null!==n.queries&&n.queries.elementStart(n,m),m}(s,i,o,n,r):i.data[s];Pr(l,!0);const m=b_(i,o,l,t);return o[s]=m,$u()&&xc(i,o,m,l),Ko(m,o),ea(l)&&(Gf(i,o,l),Bf(i,l,o)),null!=r&&Hf(o,l),nd}function rd(){let t=Ft();const n=st();return Gs()?oa():(t=t.parent,Pr(t,!1)),n.firstCreatePass&&(Kl(n,t),ha(t)&&n.queries.elementEnd(t)),rd}let b_=(t,n,r,o)=>(Cs(!0),Rf(n[ye],""));function E_(){return ve()}const Pa=void 0;var H2=["en",[["a","p"],["AM","PM"],Pa],[["AM","PM"],Pa,Pa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pa,"{1} 'at' {0}",Pa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function G2(t){const r=Math.floor(Math.abs(t)),o=t.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===o?1:5}];let xu={};function Zh(t){const n=function q2(t){return t.toLowerCase().replace(/_/g,"-")}(t);let r=x_(n);if(r)return r;const o=n.split("-")[0];if(r=x_(o),r)return r;if("en"===o)return H2;throw new et(701,!1)}function D_(t){return Zh(t)[Fu.PluralCase]}function x_(t){return t in xu||(xu[t]=nn.ng&&nn.ng.common&&nn.ng.common.locales&&nn.ng.common.locales[t]),xu[t]}var Fu=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Fu||{});const od="en-US";let F_=od,H_=(t,n,r)=>{};function np(t,n,r,o){const i=ve(),s=st(),l=Ft();return rp(s,i,i[ye],l,t,n,o),np}function rp(t,n,r,o,i,s,l){const m=ea(o),k=t.firstCreatePass&&Qg(t),O=n[Q],Y=Kg(n);let ie=!0;if(3&o.type||l){const Ge=Oo(o,n),rt=l?l(Ge):Ge,ut=Y.length,Ve=l?kn=>l(An(kn[o.index])):o.index;let Yt=null;if(!l&&m&&(Yt=function RF(t,n,r,o){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const l=i[s];if(l===r&&i[s+1]===o){const m=n[q],b=i[s+2];return m.length>b?m[b]:null}"string"==typeof l&&(s+=2)}return null}(t,n,i,o.index)),null!==Yt)(Yt.__ngLastListenerFn__||Yt).__ngNextListenerFn__=s,Yt.__ngLastListenerFn__=s,ie=!1;else{s=Y_(o,n,O,s),H_(Ge,i,s);const kn=r.listen(rt,i,s);Y.push(s,kn),k&&k.push(i,Ve,ut,ut+1)}}else s=Y_(o,n,O,s);const de=o.outputs;let Ee;if(ie&&null!==de&&(Ee=de[i])){const Ge=Ee.length;if(Ge)for(let rt=0;rt<Ge;rt+=2){const Qn=n[Ee[rt]][Ee[rt+1]].subscribe(s),Vr=Y.length;Y.push(s,Qn),k&&k.push(i,o.index,Vr,-(Vr+1))}}}function W_(t,n,r,o){const i=G(null);try{return rs(6,n,r),!1!==r(o)}catch(s){return Sc(t,s),!1}finally{rs(7,n,r),G(i)}}function Y_(t,n,r,o){return function i(s){if(s===Function)return o;il(t.componentOffset>-1?ai(t.index,n):n,5);let m=W_(n,r,o,s),b=i.__ngNextListenerFn__;for(;b;)m=W_(n,r,b,s)&&m,b=b.__ngNextListenerFn__;return m}}function X_(t=1){return function yb(t){return(Gt.lFrame.contextLView=function Wl(t,n){for(;t>0;)n=n[it],t--;return n}(t,Gt.lFrame.contextLView))[Q]}(t)}function NF(t,n){let r=null;const o=function ue(t){const n=t.attrs;if(null!=n){const r=n.indexOf(5);if(!(1&r))return n[r+1]}return null}(t);for(let i=0;i<n.length;i++){const s=n[i];if("*"!==s){if(null===o?H(t,s,!0):po(o,s))return i}else r=i}return r}function K_(t){const n=ve()[nt][R];if(!n.projection){const o=n.projection=function xo(t,n){const r=[];for(let o=0;o<t;o++)r.push(n);return r}(t?t.length:1,null),i=o.slice();let s=n.child;for(;null!==s;){if(128!==s.type){const l=t?NF(s,t):0;null!==l&&(i[l]?i[l].projectionNext=s:o[l]=s,i[l]=s)}s=s.next}}}function Q_(t,n=0,r,o,i,s){const l=ve(),m=st(),b=o?t+1:null;null!==b&&El(l,m,b,o,i,s,null,r);const k=ka(m,lt+t,16,null,r||null);null===k.projection&&(k.projection=n),oa();const Y=!l[$]||g();null===l[nt][R].projection[k.projection]&&null!==b?function OF(t,n,r){const o=lt+r,i=n.data[o],s=t[o],l=Ma(s,i.tView.ssrId);ru(s,nu(t,i,void 0,{dehydratedView:l}),0,Sa(i,l))}(l,m,b):Y&&32&~k.flags&&function Sw(t,n,r){Ng(n[ye],0,n,r,Pf(t,r,n),kg(r.parent||n[R],r,n))}(m,l,k)}function ay(t,n,r,o){!function z0(t,n,r,o){const i=st();if(i.firstCreatePass){const s=Ft();W0(i,new B0(n,r,o),s.index),function $D(t,n){const r=t.contentQueries||(t.contentQueries=[]);n!==(r.length?r[r.length-1]:-1)&&r.push(t.queries.length-1,n)}(i,t),!(2&~r)&&(i.staticContentQueries=!0)}return H0(i,ve(),r)}(t,n,r,o)}function uy(t,n,r){!function q0(t,n,r){const o=st();return o.firstCreatePass&&(W0(o,new B0(t,n,r),-1),!(2&~n)&&(o.staticViewQueries=!0)),H0(o,ve(),n)}(t,n,r)}function ly(t){const n=ve(),r=st(),o=$d();Xl(o+1);const i=wh(r,o);if(t.dirty&&function Nd(t){return!(4&~t[f])}(n)===!(2&~i.metadata.flags)){if(null===i.matches)t.reset([]);else{const s=Y0(n,o);t.reset(s,bm),t.notifyOnChanges()}return!0}return!1}function cy(){return function Eh(t,n){return t[Kt].queries[n].queryList}(ve(),$d())}function dy(t){return Bs(function Hs(){return Gt.lFrame.contextLView}(),lt+t)}function Ey(t,n=""){const r=ve(),o=st(),i=t+lt,s=o.firstCreatePass?ka(o,i,1,n,null):o.data[i],l=wy(o,r,s,n,t);r[i]=l,$u()&&xc(o,r,l,s),Pr(s,!1)}let wy=(t,n,r,o,i)=>(Cs(!0),function Af(t,n){return t.createText(n)}(n[ye],o));function sp(t){return ud("",t,""),sp}function ud(t,n,r){const o=ve(),i=gu(o,t,n,r);return i!==an&&Ys(o,Po(),i),ud}function ap(t,n,r,o,i){const s=ve(),l=function vu(t,n,r,o,i,s){const m=Ra(t,bi(),r,i);return Ei(2),m?n+Dt(r)+o+Dt(i)+s:an}(s,t,n,r,o,i);return l!==an&&Ys(s,Po(),l),ap}function up(t,n,r,o,i,s,l){const m=ve(),b=function _u(t,n,r,o,i,s,l,m){const k=Hc(t,bi(),r,i,l);return Ei(3),k?n+Dt(r)+o+Dt(i)+s+Dt(l)+m:an}(m,t,n,r,o,i,s,l);return b!==an&&Ys(m,Po(),b),up}function lp(t,n,r){Z0(n)&&(n=n());const o=ve();return jr(o,Yo(),n)&&Ci(st(),rr(),o,t,n,o[ye],r,!1),lp}function Sy(t,n){const r=Z0(t);return r&&t.set(n),r}function cp(t,n){const r=ve(),o=st(),i=Ft();return rp(o,r,r[ye],i,t,n),cp}function dp(t,n,r,o,i){if(t=he(t),Array.isArray(t))for(let s=0;s<t.length;s++)dp(t[s],n,r,o,i);else{const s=st(),l=ve(),m=Ft();let b=_i(t)?t:he(t.provide);const k=zo(t),O=1048575&m.providerIndexes,Y=m.directiveStart,ie=m.providerIndexes>>20;if(_i(t)||!t.multi){const de=new Vu(k,i,tu),Ee=hp(b,n,i?O:O+ie,Y);-1===Ee?(Yd(ec(m,l),s,b),fp(s,t,n.length),n.push(b),m.directiveStart++,m.directiveEnd++,i&&(m.providerIndexes+=1048576),r.push(de),l.push(de)):(r[Ee]=de,l[Ee]=de)}else{const de=hp(b,n,O+ie,Y),Ee=hp(b,n,O,O+ie),rt=Ee>=0&&r[Ee];if(i&&!rt||!i&&!(de>=0&&r[de])){Yd(ec(m,l),s,b);const ut=function tI(t,n,r,o,i){const s=new Vu(t,r,tu);return s.multi=[],s.index=n,s.componentProviders=0,Ay(s,i,o&&!r),s}(i?eI:ZF,r.length,i,o,k);!i&&rt&&(r[Ee].providerFactory=ut),fp(s,t,n.length,0),n.push(b),m.directiveStart++,m.directiveEnd++,i&&(m.providerIndexes+=1048576),r.push(ut),l.push(ut)}else fp(s,t,de>-1?de:Ee,Ay(r[i?Ee:de],k,!i&&o));!i&&o&&rt&&r[Ee].componentProviders++}}}function fp(t,n,r,o){const i=_i(n),s=function Qs(t){return!!t.useClass}(n);if(i||s){const b=(s?he(n.useClass):n).prototype.ngOnDestroy;if(b){const k=t.destroyHooks||(t.destroyHooks=[]);if(!i&&n.multi){const O=k.indexOf(r);-1===O?k.push(r,[o,b]):k[O+1].push(o,b)}else k.push(r,b)}}}function Ay(t,n,r){return r&&t.componentProviders++,t.multi.push(n)-1}function hp(t,n,r,o){for(let i=r;i<o;i++)if(n[i]===t)return i;return-1}function ZF(t,n,r,o){return pp(this.multi,[])}function eI(t,n,r,o){const i=this.multi;let s;if(this.providerFactory){const l=this.providerFactory.componentProviders,m=Ca(r,r[u],this.providerFactory.index,o);s=m.slice(0,l),pp(i,s);for(let b=l;b<m.length;b++)s.push(m[b])}else s=[],pp(i,s);return s}function pp(t,n){for(let r=0;r<t.length;r++)n.push((0,t[r])());return n}function Ry(t,n=[]){return r=>{r.providersResolver=(o,i)=>function JF(t,n,r){const o=st();if(o.firstCreatePass){const i=si(t);dp(r,o.data,o.blueprint,i,!0),dp(n,o.data,o.blueprint,i,!1)}}(o,i?i(t):t,n)}}let nI=(()=>{class t{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const o=Ns(0,r.type),i=o.length>0?kh([o],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,i)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=rn({token:t,providedIn:"environment",factory:()=>new t(Rn(Xr))})}}return t})();function Ny(t){ui("NgStandalone"),t.getStandaloneInjector=n=>n.get(nI).getOrCreateStandaloneInjector(t)}function jy(t,n,r){const o=Kr()+t,i=ve();return i[o]===an?Is(i,o,r?n.call(r):n()):function bl(t,n){return t[n]}(i,o)}function Ly(t,n,r,o){return Uy(ve(),Kr(),t,n,r,o)}function $y(t,n,r,o,i){return By(ve(),Kr(),t,n,r,o,i)}function Vy(t,n,r,o,i,s){return Gy(ve(),Kr(),t,n,r,o,i,s)}function Al(t,n){const r=t[n];return r===an?void 0:r}function Uy(t,n,r,o,i,s){const l=n+r;return jr(t,l,i)?Is(t,l+1,s?o.call(s,i):o(i)):Al(t,l+1)}function By(t,n,r,o,i,s,l){const m=n+r;return Ra(t,m,i,s)?Is(t,m+2,l?o.call(l,i,s):o(i,s)):Al(t,m+2)}function Gy(t,n,r,o,i,s,l,m){const b=n+r;return Hc(t,b,i,s,l)?Is(t,b+3,m?o.call(m,i,s,l):o(i,s,l)):Al(t,b+3)}function zy(t,n){const r=st();let o;const i=t+lt;r.firstCreatePass?(o=function fI(t,n){if(n)for(let r=n.length-1;r>=0;r--){const o=n[r];if(t===o.name)return o}}(n,r.pipeRegistry),r.data[i]=o,o.onDestroy&&(r.destroyHooks??=[]).push(i,o.onDestroy)):o=r.data[i];const s=o.factory||(o.factory=ur(o.type)),m=Zn(tu);try{const b=Zl(!1),k=s();return Zl(b),function ip(t,n,r,o){r>=t.data.length&&(t.data[r]=null,t.blueprint[r]=null),n[r]=o}(r,ve(),i,k),k}finally{Zn(m)}}function Wy(t,n,r){const o=t+lt,i=ve(),s=Bs(i,o);return Rl(i,o)?Uy(i,Kr(),n,s.transform,r,s):s.transform(r)}function Yy(t,n,r,o){const i=t+lt,s=ve(),l=Bs(s,i);return Rl(s,i)?By(s,Kr(),n,l.transform,r,o,l):l.transform(r,o)}function Xy(t,n,r,o,i){const s=t+lt,l=ve(),m=Bs(l,s);return Rl(l,s)?Gy(l,Kr(),n,m.transform,r,o,i,m):m.transform(r,o,i)}function Rl(t,n){return t[u].data[n].pure}function Ky(t,n){return Mc(t,n)}class f1{constructor(n){this.full=n;const r=n.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}let h1=(()=>{class t{log(r){console.log(r)}warn(r){console.warn(r)}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const _1=new Nt(""),y1=new Nt("");let bp,ak=(()=>{class t{constructor(r,o,i){this._ngZone=r,this.registry=o,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,bp||(function uk(t){bp=t}(i),i.addToWindow(o)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{cr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(r)||(clearTimeout(o.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,o,i){let s=-1;o&&o>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(l=>l.timeoutId!==s),r()},o)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:i})}whenStable(r,o,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,o,i),this._runCallbacksIfReady()}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,o,i){return[]}static{this.\u0275fac=function(o){return new(o||t)(Rn(cr),Rn(b1),Rn(y1))}}static{this.\u0275prov=rn({token:t,factory:t.\u0275fac})}}return t})(),b1=(()=>{class t{constructor(){this._applications=new Map}registerApplication(r,o){this._applications.set(r,o)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,o=!0){return bp?.findTestabilityInTree(this,r,o)??null}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function Ep(t){return!!t&&"function"==typeof t.then}function E1(t){return!!t&&"function"==typeof t.subscribe}const w1=new Nt("");let C1=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o}),this.appInits=_t(w1,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const i of this.appInits){const s=i();if(Ep(s))r.push(s);else if(E1(s)){const l=new Promise((m,b)=>{s.subscribe({complete:m,error:b})});r.push(l)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{o()}).catch(i=>{this.reject(i)}),0===r.length&&o(),this.initialized=!0}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const hd=new Nt("");let Ts=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=_t(tE),this.afterRenderManager=_t(xv),this.zonelessEnabled=_t(ml),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new xn.B,this.afterTick=new xn.B,this.componentTypes=[],this.components=[],this.isStable=_t(Da).hasPendingTasks.pipe((0,Zt.T)(r=>!r)),this._injector=_t(Xr)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(o=>{r=this.isStable.subscribe({next:i=>{i&&o()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,o){const i=r instanceof T0;if(!this._injector.get(C1).done)throw!i&&oi(r),new et(405,!1);let l;l=i?r:this._injector.get(jc).resolveComponentFactory(r),this.componentTypes.push(l.componentType);const m=function lk(t){return t.isBoundToModule}(l)?void 0:this._injector.get(Aa),k=l.create(Xo.NULL,[],o||l.selector,m),O=k.location.nativeElement,Y=k.injector.get(_1,null);return Y?.registerApplication(O),k.onDestroy(()=>{this.detachView(k.hostView),pd(this.components,k),Y?.unregisterApplication(O)}),this._loadComponent(k),k}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new et(101,!1);const r=G(null);try{this._runningTick=!0,this.synchronize()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,G(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(dh,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let o=0;for(;0!==this.dirtyFlags&&o++<10;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const o=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(o);for(let{_lView:i,notifyErrorHandler:s}of this._views)fk(i,s,o,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else r?.begin?.(),r?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:r})=>Ua(r))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(r){const o=r;this._views.push(o),o.attachToAppRef(this)}detachView(r){const o=r;pd(this._views,o),o.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const o=this._injector.get(hd,[]);[...this._bootstrapListeners,...o].forEach(i=>i(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>pd(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new et(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function pd(t,n){const r=t.indexOf(n);r>-1&&t.splice(r,1)}function fk(t,n,r,o){(r||Ua(t))&&Tc(t,n,r&&!o?0:1)}class hk{constructor(n,r){this.ngModuleFactory=n,this.componentFactories=r}}let pk=(()=>{class t{compileModuleSync(r){return new Ih(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const o=this.compileModuleSync(r),s=Ui(ir(r).declarations).reduce((l,m)=>{const b=zt(m);return b&&l.push(new _l(b)),l},[]);return new hk(o,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),vk=(()=>{class t{constructor(){this.zone=_t(cr),this.changeDetectionScheduler=_t(iu),this.applicationRef=_t(Ts)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function wp({ngZoneFactory:t,ignoreChangesOutsideZone:n,scheduleInRootZone:r}){return t??=()=>new cr({...Cp(),scheduleInRootZone:r}),[{provide:cr,useFactory:t},{provide:Rr,multi:!0,useFactory:()=>{const o=_t(vk,{optional:!0});return()=>o.initialize()}},{provide:Rr,multi:!0,useFactory:()=>{const o=_t(yk);return()=>{o.initialize()}}},!0===n?{provide:S0,useValue:!0}:[],{provide:ch,useValue:r??hm}]}function Cp(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}let yk=(()=>{class t{constructor(){this.subscription=new fn.yU,this.initialized=!1,this.zone=_t(cr),this.pendingTasks=_t(Da)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{cr.assertNotInAngularZone(),queueMicrotask(()=>{null!==r&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{cr.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Pl=(()=>{class t{constructor(){this.appRef=_t(Ts),this.taskService=_t(Da),this.ngZone=_t(cr),this.zonelessEnabled=_t(ml),this.disableScheduling=_t(S0,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new fn.yU,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(sc):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(_t(ch,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof tf||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&5===r)return;switch(r){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const o=this.useMicrotaskScheduler?mm:pm;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>o(()=>this.tick())):this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(sc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(r),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,mm(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const xp=new Nt("",{providedIn:"root",factory:()=>_t(xp,qt.Optional|qt.SkipSelf)||function bk(){return typeof $localize<"u"&&$localize.locale||od}()}),Ek=new Nt("",{providedIn:"root",factory:()=>"USD"}),gd=new Nt("");function vd(t){return!t.moduleRef}let da=null;const Su=new Nt("");let P1=(()=>{class t{static{this.__NG_ELEMENT_ID__=Tk}}return t})();function Tk(t){return function Mk(t,n,r){if(ds(t)&&!r){const o=ai(t.index,n);return new sl(o,o)}return 175&t.type?new sl(n[nt],n):null}(Ft(),ve(),!(16&~t))}class V1{constructor(){}supports(n){return Gc(n)}create(n){return new Pk(n)}}const Ok=(t,n)=>n;class Pk{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||Ok}forEachItem(n){let r;for(r=this._itHead;null!==r;r=r._next)n(r)}forEachOperation(n){let r=this._itHead,o=this._removalsHead,i=0,s=null;for(;r||o;){const l=!o||r&&r.currentIndex<B1(o,i,s)?r:o,m=B1(l,i,s),b=l.currentIndex;if(l===o)i--,o=o._nextRemoved;else if(r=r._next,null==l.previousIndex)i++;else{s||(s=[]);const k=m-i,O=b-i;if(k!=O){for(let ie=0;ie<k;ie++){const de=ie<s.length?s[ie]:s[ie]=0,Ee=de+ie;O<=Ee&&Ee<k&&(s[ie]=de+1)}s[l.previousIndex]=O-k}}m!==b&&n(l,m,b)}}forEachPreviousItem(n){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachMovedItem(n){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}forEachIdentityChange(n){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)n(r)}diff(n){if(null==n&&(n=[]),!Gc(n))throw new et(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,s,l,r=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let m=0;m<this.length;m++)s=n[m],l=this._trackByFn(m,s),null!==r&&Object.is(r.trackById,l)?(o&&(r=this._verifyReinsertion(r,s,l,m)),Object.is(r.item,s)||this._addIdentityChange(r,s)):(r=this._mismatch(r,s,l,m),o=!0),r=r._next}else i=0,function lx(t,n){if(Array.isArray(t))for(let r=0;r<t.length;r++)n(t[r]);else{const r=t[Symbol.iterator]();let o;for(;!(o=r.next()).done;)n(o.value)}}(n,m=>{l=this._trackByFn(i,m),null!==r&&Object.is(r.trackById,l)?(o&&(r=this._verifyReinsertion(r,m,l,i)),Object.is(r.item,m)||this._addIdentityChange(r,m)):(r=this._mismatch(r,m,l,i),o=!0),r=r._next,i++}),this.length=i;return this._truncate(r),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,r,o,i){let s;return null===n?s=this._itTail:(s=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._reinsertAfter(n,s,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,i))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._moveAfter(n,s,i)):n=this._addAfter(new jk(r,o),s,i),n}_verifyReinsertion(n,r,o,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==s?n=this._reinsertAfter(s,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const r=n._next;this._addToRemovals(this._unlink(n)),n=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,r,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,s=n._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(n,r,o),this._addToMoves(n,o),n}_moveAfter(n,r,o){return this._unlink(n),this._insertAfter(n,r,o),this._addToMoves(n,o),n}_addAfter(n,r,o){return this._insertAfter(n,r,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,r,o){const i=null===r?this._itHead:r._next;return n._next=i,n._prev=r,null===i?this._itTail=n:i._prev=n,null===r?this._itHead=n:r._next=n,null===this._linkedRecords&&(this._linkedRecords=new U1),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const r=n._prev,o=n._next;return null===r?this._itHead=o:r._next=o,null===o?this._itTail=r:o._prev=r,n}_addToMoves(n,r){return n.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new U1),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,r){return n.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class jk{constructor(n,r){this.item=n,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Lk{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,r){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===r||r<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const r=n._prevDup,o=n._nextDup;return null===r?this._head=o:r._nextDup=o,null===o?this._tail=r:o._prevDup=r,null===this._head}}class U1{constructor(){this.map=new Map}put(n){const r=n.trackById;let o=this.map.get(r);o||(o=new Lk,this.map.set(r,o)),o.add(n)}get(n,r){const i=this.map.get(n);return i?i.get(n,r):null}remove(n){const r=n.trackById;return this.map.get(r).remove(n)&&this.map.delete(r),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function B1(t,n,r){const o=t.previousIndex;if(null===o)return o;let i=0;return r&&o<r.length&&(i=r[o]),o+n+i}class G1{constructor(){}supports(n){return n instanceof Map||Sh(n)}create(){return new $k}}class $k{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let r;for(r=this._mapHead;null!==r;r=r._next)n(r)}forEachPreviousItem(n){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)n(r)}forEachChangedItem(n){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}diff(n){if(n){if(!(n instanceof Map||Sh(n)))throw new et(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,i)=>{if(r&&r.key===i)this._maybeAddToChanges(r,o),this._appendAfter=r,r=r._next;else{const s=this._getOrCreateRecordForKey(i,o);r=this._insertBeforeOrAppend(r,s)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let o=r;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,r){if(n){const o=n._prev;return r._next=n,r._prev=o,n._prev=r,o&&(o._next=r),n===this._mapHead&&(this._mapHead=r),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(n,r){if(this._records.has(n)){const i=this._records.get(n);this._maybeAddToChanges(i,r);const s=i._prev,l=i._next;return s&&(s._next=l),l&&(l._prev=s),i._next=null,i._prev=null,i}const o=new Vk(n);return this._records.set(n,o),o.currentValue=r,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,r){Object.is(r,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=r,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,r){n instanceof Map?n.forEach(r):Object.keys(n).forEach(o=>r(n[o],o))}}class Vk{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function H1(){return new Tp([new V1])}let Tp=(()=>{class t{static{this.\u0275prov=rn({token:t,providedIn:"root",factory:H1})}constructor(r){this.factories=r}static create(r,o){if(null!=o){const i=o.factories.slice();r=r.concat(i)}return new t(r)}static extend(r){return{provide:t,useFactory:o=>t.create(r,o||H1()),deps:[[t,new ti,new Bo]]}}find(r){const o=this.factories.find(i=>i.supports(r));if(null!=o)return o;throw new et(901,!1)}}return t})();function q1(){return new Mp([new G1])}let Mp=(()=>{class t{static{this.\u0275prov=rn({token:t,providedIn:"root",factory:q1})}constructor(r){this.factories=r}static create(r,o){if(o){const i=o.factories.slice();r=r.concat(i)}return new t(r)}static extend(r){return{provide:t,useFactory:o=>t.create(r,o||q1()),deps:[[t,new ti,new Bo]]}}find(r){const o=this.factories.find(i=>i.supports(r));if(o)return o;throw new et(901,!1)}}return t})();function eS(t){const{rootComponent:n,appProviders:r,platformProviders:o,platformRef:i}=t;try{const s=i?.injector??function Sk(t=[]){if(da)return da;const n=function R1(t=[],n){return Xo.create({name:n,providers:[{provide:ts,useValue:"platform"},{provide:gd,useValue:new Set([()=>da=null])},...t]})}(t);return n.get(Su,!1)||(da=n),function D1(){!function dr(t){jt=t}(()=>{throw new et(600,!1)})}(),function N1(t){t.get(Vm,null)?.forEach(r=>r())}(n),n}(o);if(!0===s.get(Su,!1)&&!t.platformRef)throw new et(401,!1);const l=[wp({}),{provide:iu,useExisting:Pl},...r||[]];return function M1(t){const n=vd(t)?t.r3Injector:t.moduleRef.injector,r=n.get(cr);return r.run(()=>{vd(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();const o=n.get(zs,null);let i;if(r.runOutsideAngular(()=>{i=r.onError.subscribe({next:s=>{o.handleError(s)}})}),vd(t)){const s=()=>n.destroy(),l=t.platformInjector.get(gd);l.add(s),n.onDestroy(()=>{i.unsubscribe(),l.delete(s)})}else{const s=()=>t.moduleRef.destroy(),l=t.platformInjector.get(gd);l.add(s),t.moduleRef.onDestroy(()=>{pd(t.allPlatformModules,t.moduleRef),i.unsubscribe(),l.delete(s)})}return function dk(t,n,r){try{const o=r();return Ep(o)?o.catch(i=>{throw n.runOutsideAngular(()=>t.handleError(i)),i}):o}catch(o){throw n.runOutsideAngular(()=>t.handleError(o)),o}}(o,r,()=>{const s=n.get(C1);return s.runInitializers(),s.donePromise.then(()=>{if(function X2(t){"string"==typeof t&&(F_=t.toLowerCase().replace(/_/g,"-"))}(n.get(xp,od)||od),vd(t)){const m=n.get(Ts);return void 0!==t.rootComponent&&m.bootstrap(t.rootComponent),m}return function Fk(t,n){const r=t.injector.get(Ts);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!t.instance.ngDoBootstrap)throw new et(-403,!1);t.instance.ngDoBootstrap(r)}n.push(t)}(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}({r3Injector:new vv({providers:l,parent:s,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:s,rootComponent:n})}catch(s){return Promise.reject(s)}}function bS(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function wS(t,n){ui("NgSignals");const r=function He(t){const n=Object.create(Pt);n.computation=t;const r=()=>{if(Le(n),te(n),n.value===ft)throw n.error;return n.value};return r[U]=n,r}(t);return n?.equal&&(r[U].equal=n.equal),r}function CS(t){const n=G(null);try{return t()}finally{G(n)}}function SS(t){const n=zt(t);if(!n)return null;const r=new _l(n);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},9417:(ot,_e,M)=>{"use strict";M.d(_e,{$R:()=>Yn,BC:()=>Wn,Fm:()=>vr,JD:()=>yr,MJ:()=>Ut,Q0:()=>bt,X1:()=>To,YN:()=>So,YS:()=>Vn,Zm:()=>te,cb:()=>et,gE:()=>Gr,j4:()=>Eo,k0:()=>be,kq:()=>me,l_:()=>wr,me:()=>Xe,ok:()=>ni,qT:()=>ki,tU:()=>Rr,v8:()=>hi,vO:()=>xn,vS:()=>Zo,wz:()=>pi,xH:()=>mi,y7:()=>zr,zX:()=>xo});var c=M(4438),V=M(177),Z=M(6648),e=M(7468),U=M(1413),G=M(6354);let F=(()=>{class T{constructor(x,H){this._renderer=x,this._elementRef=H,this.onChange=ue=>{},this.onTouched=()=>{}}setProperty(x,H){this._renderer.setProperty(this._elementRef.nativeElement,x,H)}registerOnTouched(x){this.onTouched=x}registerOnChange(x){this.onChange=x}setDisabledState(x){this.setProperty("disabled",x)}static{this.\u0275fac=function(H){return new(H||T)(c.rXU(c.sFG),c.rXU(c.aKT))}}static{this.\u0275dir=c.FsC({type:T})}}return T})(),J=(()=>{class T extends F{static{this.\u0275fac=(()=>{let x;return function(ue){return(x||(x=c.xGo(T)))(ue||T)}})()}static{this.\u0275dir=c.FsC({type:T,features:[c.Vt3]})}}return T})();const me=new c.nKC(""),fe={provide:me,useExisting:(0,c.Rfq)(()=>te),multi:!0};let te=(()=>{class T extends J{writeValue(x){this.setProperty("checked",x)}static{this.\u0275fac=(()=>{let x;return function(ue){return(x||(x=c.xGo(T)))(ue||T)}})()}static{this.\u0275dir=c.FsC({type:T,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(H,ue){1&H&&c.bIt("change",function(Bt){return ue.onChange(Bt.target.checked)})("blur",function(){return ue.onTouched()})},features:[c.Jv_([fe]),c.Vt3]})}}return T})();const ge={provide:me,useExisting:(0,c.Rfq)(()=>Xe),multi:!0},xe=new c.nKC("");let Xe=(()=>{class T extends F{constructor(x,H,ue){super(x,H),this._compositionMode=ue,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Le(){const T=(0,V.QT)()?(0,V.QT)().getUserAgent():"";return/android (\d+)/.test(T.toLowerCase())}())}writeValue(x){this.setProperty("value",x??"")}_handleInput(x){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(x)}_compositionStart(){this._composing=!0}_compositionEnd(x){this._composing=!1,this._compositionMode&&this.onChange(x)}static{this.\u0275fac=function(H){return new(H||T)(c.rXU(c.sFG),c.rXU(c.aKT),c.rXU(xe,8))}}static{this.\u0275dir=c.FsC({type:T,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(H,ue){1&H&&c.bIt("input",function(Bt){return ue._handleInput(Bt.target.value)})("blur",function(){return ue.onTouched()})("compositionstart",function(){return ue._compositionStart()})("compositionend",function(Bt){return ue._compositionEnd(Bt.target.value)})},features:[c.Jv_([ge]),c.Vt3]})}}return T})();function W(T){return null==T||("string"==typeof T||Array.isArray(T))&&0===T.length}function K(T){return null!=T&&"number"==typeof T.length}const le=new c.nKC(""),De=new c.nKC(""),Fe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class be{static min(A){return function ke(T){return A=>{if(W(A.value)||W(T))return null;const x=parseFloat(A.value);return!isNaN(x)&&x<T?{min:{min:T,actual:A.value}}:null}}(A)}static max(A){return Ze(A)}static required(A){return pt(A)}static requiredTrue(A){return function $e(T){return!0===T.value?null:{required:!0}}(A)}static email(A){return function Ke(T){return W(T.value)||Fe.test(T.value)?null:{email:!0}}(A)}static minLength(A){return function He(T){return A=>W(A.value)||!K(A.value)?null:A.value.length<T?{minlength:{requiredLength:T,actualLength:A.value.length}}:null}(A)}static maxLength(A){return vt(A)}static pattern(A){return function dt(T){if(!T)return ft;let A,x;return"string"==typeof T?(x="","^"!==T.charAt(0)&&(x+="^"),x+=T,"$"!==T.charAt(T.length-1)&&(x+="$"),A=new RegExp(x)):(x=T.toString(),A=T),H=>{if(W(H.value))return null;const ue=H.value;return A.test(ue)?null:{pattern:{requiredPattern:x,actualValue:ue}}}}(A)}static nullValidator(A){return null}static compose(A){return mn(A)}static composeAsync(A){return Me(A)}}function Ze(T){return A=>{if(W(A.value)||W(T))return null;const x=parseFloat(A.value);return!isNaN(x)&&x>T?{max:{max:T,actual:A.value}}:null}}function pt(T){return W(T.value)?{required:!0}:null}function vt(T){return A=>K(A.value)&&A.value.length>T?{maxlength:{requiredLength:T,actualLength:A.value.length}}:null}function ft(T){return null}function Pt(T){return null!=T}function Sn(T){return(0,c.jNT)(T)?(0,Z.H)(T):T}function jt(T){let A={};return T.forEach(x=>{A=null!=x?{...A,...x}:A}),0===Object.keys(A).length?null:A}function St(T,A){return A.map(x=>x(T))}function fr(T){return T.map(A=>function dr(T){return!T.validate}(A)?A:x=>A.validate(x))}function mn(T){if(!T)return null;const A=T.filter(Pt);return 0==A.length?null:function(x){return jt(St(x,A))}}function Se(T){return null!=T?mn(fr(T)):null}function Me(T){if(!T)return null;const A=T.filter(Pt);return 0==A.length?null:function(x){const H=St(x,A).map(Sn);return(0,e.p)(H).pipe((0,G.T)(jt))}}function Oe(T){return null!=T?Me(fr(T)):null}function Ae(T,A){return null===T?[A]:Array.isArray(T)?[...T,A]:[T,A]}function Je(T){return T._rawValidators}function Pe(T){return T._rawAsyncValidators}function gt(T){return T?Array.isArray(T)?T:[T]:[]}function un(T,A){return Array.isArray(T)?T.includes(A):T===A}function En(T,A){const x=gt(A);return gt(T).forEach(ue=>{un(x,ue)||x.push(ue)}),x}function It(T,A){return gt(A).filter(x=>!un(T,x))}class gn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(A){this._rawValidators=A||[],this._composedValidatorFn=Se(this._rawValidators)}_setAsyncValidators(A){this._rawAsyncValidators=A||[],this._composedAsyncValidatorFn=Oe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(A){this._onDestroyCallbacks.push(A)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(A=>A()),this._onDestroyCallbacks=[]}reset(A=void 0){this.control&&this.control.reset(A)}hasError(A,x){return!!this.control&&this.control.hasError(A,x)}getError(A,x){return this.control?this.control.getError(A,x):null}}class At extends gn{get formDirective(){return null}get path(){return null}}class xn extends gn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class fn{constructor(A){this._cd=A}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let Wn=(()=>{class T extends fn{constructor(x){super(x)}static{this.\u0275fac=function(H){return new(H||T)(c.rXU(xn,2))}}static{this.\u0275dir=c.FsC({type:T,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(H,ue){2&H&&c.AVh("ng-untouched",ue.isUntouched)("ng-touched",ue.isTouched)("ng-pristine",ue.isPristine)("ng-dirty",ue.isDirty)("ng-valid",ue.isValid)("ng-invalid",ue.isInvalid)("ng-pending",ue.isPending)},features:[c.Vt3]})}}return T})(),et=(()=>{class T extends fn{constructor(x){super(x)}static{this.\u0275fac=function(H){return new(H||T)(c.rXU(At,10))}}static{this.\u0275dir=c.FsC({type:T,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(H,ue){2&H&&c.AVh("ng-untouched",ue.isUntouched)("ng-touched",ue.isTouched)("ng-pristine",ue.isPristine)("ng-dirty",ue.isDirty)("ng-valid",ue.isValid)("ng-invalid",ue.isInvalid)("ng-pending",ue.isPending)("ng-submitted",ue.isSubmitted)},features:[c.Vt3]})}}return T})();const hr="VALID",Lt="INVALID",pr="PENDING",Ir="DISABLED";class Dn{}class je extends Dn{constructor(A,x){super(),this.value=A,this.source=x}}class he extends Dn{constructor(A,x){super(),this.pristine=A,this.source=x}}class se extends Dn{constructor(A,x){super(),this.touched=A,this.source=x}}class pe extends Dn{constructor(A,x){super(),this.status=A,this.source=x}}class qe extends Dn{constructor(A){super(),this.source=A}}class ct extends Dn{constructor(A){super(),this.source=A}}function Ot(T){return(mr(T)?T.validators:T)||null}function Tn(T,A){return(mr(A)?A.asyncValidators:T)||null}function mr(T){return null!=T&&!Array.isArray(T)&&"object"==typeof T}function or(T,A,x){const H=T.controls;if(!(A?Object.keys(H):H).length)throw new c.wOt(1e3,"");if(!H[x])throw new c.wOt(1001,"")}function ao(T,A,x){T._forEachChild((H,ue)=>{if(void 0===x[ue])throw new c.wOt(1002,"")})}class Jn{constructor(A,x){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,c.EWP)(()=>this.statusReactive()),this.statusReactive=(0,c.vPA)(void 0),this._pristine=(0,c.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,c.vPA)(!0),this._touched=(0,c.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,c.vPA)(!1),this._events=new U.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(A),this._assignAsyncValidators(x)}get validator(){return this._composedValidatorFn}set validator(A){this._rawValidators=this._composedValidatorFn=A}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(A){this._rawAsyncValidators=this._composedAsyncValidatorFn=A}get parent(){return this._parent}get status(){return(0,c.O8t)(this.statusReactive)}set status(A){(0,c.O8t)(()=>this.statusReactive.set(A))}get valid(){return this.status===hr}get invalid(){return this.status===Lt}get pending(){return this.status==pr}get disabled(){return this.status===Ir}get enabled(){return this.status!==Ir}get pristine(){return(0,c.O8t)(this.pristineReactive)}set pristine(A){(0,c.O8t)(()=>this.pristineReactive.set(A))}get dirty(){return!this.pristine}get touched(){return(0,c.O8t)(this.touchedReactive)}set touched(A){(0,c.O8t)(()=>this.touchedReactive.set(A))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(A){this._assignValidators(A)}setAsyncValidators(A){this._assignAsyncValidators(A)}addValidators(A){this.setValidators(En(A,this._rawValidators))}addAsyncValidators(A){this.setAsyncValidators(En(A,this._rawAsyncValidators))}removeValidators(A){this.setValidators(It(A,this._rawValidators))}removeAsyncValidators(A){this.setAsyncValidators(It(A,this._rawAsyncValidators))}hasValidator(A){return un(this._rawValidators,A)}hasAsyncValidator(A){return un(this._rawAsyncValidators,A)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(A={}){const x=!1===this.touched;this.touched=!0;const H=A.sourceControl??this;this._parent&&!A.onlySelf&&this._parent.markAsTouched({...A,sourceControl:H}),x&&!1!==A.emitEvent&&this._events.next(new se(!0,H))}markAllAsTouched(A={}){this.markAsTouched({onlySelf:!0,emitEvent:A.emitEvent,sourceControl:this}),this._forEachChild(x=>x.markAllAsTouched(A))}markAsUntouched(A={}){const x=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const H=A.sourceControl??this;this._forEachChild(ue=>{ue.markAsUntouched({onlySelf:!0,emitEvent:A.emitEvent,sourceControl:H})}),this._parent&&!A.onlySelf&&this._parent._updateTouched(A,H),x&&!1!==A.emitEvent&&this._events.next(new se(!1,H))}markAsDirty(A={}){const x=!0===this.pristine;this.pristine=!1;const H=A.sourceControl??this;this._parent&&!A.onlySelf&&this._parent.markAsDirty({...A,sourceControl:H}),x&&!1!==A.emitEvent&&this._events.next(new he(!1,H))}markAsPristine(A={}){const x=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const H=A.sourceControl??this;this._forEachChild(ue=>{ue.markAsPristine({onlySelf:!0,emitEvent:A.emitEvent})}),this._parent&&!A.onlySelf&&this._parent._updatePristine(A,H),x&&!1!==A.emitEvent&&this._events.next(new he(!0,H))}markAsPending(A={}){this.status=pr;const x=A.sourceControl??this;!1!==A.emitEvent&&(this._events.next(new pe(this.status,x)),this.statusChanges.emit(this.status)),this._parent&&!A.onlySelf&&this._parent.markAsPending({...A,sourceControl:x})}disable(A={}){const x=this._parentMarkedDirty(A.onlySelf);this.status=Ir,this.errors=null,this._forEachChild(ue=>{ue.disable({...A,onlySelf:!0})}),this._updateValue();const H=A.sourceControl??this;!1!==A.emitEvent&&(this._events.next(new je(this.value,H)),this._events.next(new pe(this.status,H)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...A,skipPristineCheck:x},this),this._onDisabledChange.forEach(ue=>ue(!0))}enable(A={}){const x=this._parentMarkedDirty(A.onlySelf);this.status=hr,this._forEachChild(H=>{H.enable({...A,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:A.emitEvent}),this._updateAncestors({...A,skipPristineCheck:x},this),this._onDisabledChange.forEach(H=>H(!1))}_updateAncestors(A,x){this._parent&&!A.onlySelf&&(this._parent.updateValueAndValidity(A),A.skipPristineCheck||this._parent._updatePristine({},x),this._parent._updateTouched({},x))}setParent(A){this._parent=A}getRawValue(){return this.value}updateValueAndValidity(A={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const H=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===hr||this.status===pr)&&this._runAsyncValidator(H,A.emitEvent)}const x=A.sourceControl??this;!1!==A.emitEvent&&(this._events.next(new je(this.value,x)),this._events.next(new pe(this.status,x)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!A.onlySelf&&this._parent.updateValueAndValidity({...A,sourceControl:x})}_updateTreeValidity(A={emitEvent:!0}){this._forEachChild(x=>x._updateTreeValidity(A)),this.updateValueAndValidity({onlySelf:!0,emitEvent:A.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ir:hr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(A,x){if(this.asyncValidator){this.status=pr,this._hasOwnPendingAsyncValidator={emitEvent:!1!==x};const H=Sn(this.asyncValidator(this));this._asyncValidationSubscription=H.subscribe(ue=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(ue,{emitEvent:x,shouldHaveEmitted:A})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const A=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,A}return!1}setErrors(A,x={}){this.errors=A,this._updateControlsErrors(!1!==x.emitEvent,this,x.shouldHaveEmitted)}get(A){let x=A;return null==x||(Array.isArray(x)||(x=x.split(".")),0===x.length)?null:x.reduce((H,ue)=>H&&H._find(ue),this)}getError(A,x){const H=x?this.get(x):this;return H&&H.errors?H.errors[A]:null}hasError(A,x){return!!this.getError(A,x)}get root(){let A=this;for(;A._parent;)A=A._parent;return A}_updateControlsErrors(A,x,H){this.status=this._calculateStatus(),A&&this.statusChanges.emit(this.status),(A||H)&&this._events.next(new pe(this.status,x)),this._parent&&this._parent._updateControlsErrors(A,x,H)}_initObservables(){this.valueChanges=new c.bkB,this.statusChanges=new c.bkB}_calculateStatus(){return this._allControlsDisabled()?Ir:this.errors?Lt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pr)?pr:this._anyControlsHaveStatus(Lt)?Lt:hr}_anyControlsHaveStatus(A){return this._anyControls(x=>x.status===A)}_anyControlsDirty(){return this._anyControls(A=>A.dirty)}_anyControlsTouched(){return this._anyControls(A=>A.touched)}_updatePristine(A,x){const H=!this._anyControlsDirty(),ue=this.pristine!==H;this.pristine=H,this._parent&&!A.onlySelf&&this._parent._updatePristine(A,x),ue&&this._events.next(new he(this.pristine,x))}_updateTouched(A={},x){this.touched=this._anyControlsTouched(),this._events.next(new se(this.touched,x)),this._parent&&!A.onlySelf&&this._parent._updateTouched(A,x)}_registerOnCollectionChange(A){this._onCollectionChange=A}_setUpdateStrategy(A){mr(A)&&null!=A.updateOn&&(this._updateOn=A.updateOn)}_parentMarkedDirty(A){return!A&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(A){return null}_assignValidators(A){this._rawValidators=Array.isArray(A)?A.slice():A,this._composedValidatorFn=function Ht(T){return Array.isArray(T)?Se(T):T||null}(this._rawValidators)}_assignAsyncValidators(A){this._rawAsyncValidators=Array.isArray(A)?A.slice():A,this._composedAsyncValidatorFn=function nr(T){return Array.isArray(T)?Oe(T):T||null}(this._rawAsyncValidators)}}class Gr extends Jn{constructor(A,x,H){super(Ot(x),Tn(H,x)),this.controls=A,this._initObservables(),this._setUpdateStrategy(x),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(A,x){return this.controls[A]?this.controls[A]:(this.controls[A]=x,x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange),x)}addControl(A,x,H={}){this.registerControl(A,x),this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}removeControl(A,x={}){this.controls[A]&&this.controls[A]._registerOnCollectionChange(()=>{}),delete this.controls[A],this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}setControl(A,x,H={}){this.controls[A]&&this.controls[A]._registerOnCollectionChange(()=>{}),delete this.controls[A],x&&this.registerControl(A,x),this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}contains(A){return this.controls.hasOwnProperty(A)&&this.controls[A].enabled}setValue(A,x={}){ao(this,0,A),Object.keys(A).forEach(H=>{or(this,!0,H),this.controls[H].setValue(A[H],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x)}patchValue(A,x={}){null!=A&&(Object.keys(A).forEach(H=>{const ue=this.controls[H];ue&&ue.patchValue(A[H],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x))}reset(A={},x={}){this._forEachChild((H,ue)=>{H.reset(A?A[ue]:null,{onlySelf:!0,emitEvent:x.emitEvent})}),this._updatePristine(x,this),this._updateTouched(x,this),this.updateValueAndValidity(x)}getRawValue(){return this._reduceChildren({},(A,x,H)=>(A[H]=x.getRawValue(),A))}_syncPendingControls(){let A=this._reduceChildren(!1,(x,H)=>!!H._syncPendingControls()||x);return A&&this.updateValueAndValidity({onlySelf:!0}),A}_forEachChild(A){Object.keys(this.controls).forEach(x=>{const H=this.controls[x];H&&A(H,x)})}_setUpControls(){this._forEachChild(A=>{A.setParent(this),A._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(A){for(const[x,H]of Object.entries(this.controls))if(this.contains(x)&&A(H))return!0;return!1}_reduceValue(){return this._reduceChildren({},(x,H,ue)=>((H.enabled||this.disabled)&&(x[ue]=H.value),x))}_reduceChildren(A,x){let H=A;return this._forEachChild((ue,ze)=>{H=x(H,ue,ze)}),H}_allControlsDisabled(){for(const A of Object.keys(this.controls))if(this.controls[A].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(A){return this.controls.hasOwnProperty(A)?this.controls[A]:null}}class Lo extends Gr{}const kr=new c.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Hr}),Hr="always";function Sr(T,A){return[...A.path,T]}function rn(T,A,x=Hr){Hn(T,A),A.valueAccessor.writeValue(T.value),(T.disabled||"always"===x)&&A.valueAccessor.setDisabledState?.(T.disabled),function Ii(T,A){A.valueAccessor.registerOnChange(x=>{T._pendingValue=x,T._pendingChange=!0,T._pendingDirty=!0,"change"===T.updateOn&&Tr(T,A)})}(T,A),function Vo(T,A){const x=(H,ue)=>{A.valueAccessor.writeValue(H),ue&&A.viewToModelUpdate(H)};T.registerOnChange(x),A._registerOnDestroy(()=>{T._unregisterOnChange(x)})}(T,A),function $o(T,A){A.valueAccessor.registerOnTouched(()=>{T._pendingTouched=!0,"blur"===T.updateOn&&T._pendingChange&&Tr(T,A),"submit"!==T.updateOn&&T.markAsTouched()})}(T,A),function qr(T,A){if(A.valueAccessor.setDisabledState){const x=H=>{A.valueAccessor.setDisabledState(H)};T.registerOnDisabledChange(x),A._registerOnDestroy(()=>{T._unregisterOnDisabledChange(x)})}}(T,A)}function Jr(T,A,x=!0){const H=()=>{};A.valueAccessor&&(A.valueAccessor.registerOnChange(H),A.valueAccessor.registerOnTouched(H)),_o(T,A),T&&(A._invokeOnDestroyCallbacks(),T._registerOnCollectionChange(()=>{}))}function br(T,A){T.forEach(x=>{x.registerOnValidatorChange&&x.registerOnValidatorChange(A)})}function Hn(T,A){const x=Je(T);null!==A.validator?T.setValidators(Ae(x,A.validator)):"function"==typeof x&&T.setValidators([x]);const H=Pe(T);null!==A.asyncValidator?T.setAsyncValidators(Ae(H,A.asyncValidator)):"function"==typeof H&&T.setAsyncValidators([H]);const ue=()=>T.updateValueAndValidity();br(A._rawValidators,ue),br(A._rawAsyncValidators,ue)}function _o(T,A){let x=!1;if(null!==T){if(null!==A.validator){const ue=Je(T);if(Array.isArray(ue)&&ue.length>0){const ze=ue.filter(Bt=>Bt!==A.validator);ze.length!==ue.length&&(x=!0,T.setValidators(ze))}}if(null!==A.asyncValidator){const ue=Pe(T);if(Array.isArray(ue)&&ue.length>0){const ze=ue.filter(Bt=>Bt!==A.asyncValidator);ze.length!==ue.length&&(x=!0,T.setAsyncValidators(ze))}}}const H=()=>{};return br(A._rawValidators,H),br(A._rawAsyncValidators,H),x}function Tr(T,A){T._pendingDirty&&T.markAsDirty(),T.setValue(T._pendingValue,{emitModelToViewChange:!1}),A.viewToModelUpdate(T._pendingValue),T._pendingChange=!1}function We(T,A){if(!T.hasOwnProperty("model"))return!1;const x=T.model;return!!x.isFirstChange()||!Object.is(A,x.currentValue)}function Tt(T,A){if(!A)return null;let x,H,ue;return Array.isArray(A),A.forEach(ze=>{ze.constructor===Xe?x=ze:function Qe(T){return Object.getPrototypeOf(T.constructor)===J}(ze)?H=ze:ue=ze}),ue||H||x||null}function $n(T,A){const x=T.indexOf(A);x>-1&&T.splice(x,1)}function qn(T){return"object"==typeof T&&null!==T&&2===Object.keys(T).length&&"value"in T&&"disabled"in T}Promise.resolve();const Ut=class extends Jn{constructor(A=null,x,H){super(Ot(x),Tn(H,x)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(A),this._setUpdateStrategy(x),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),mr(x)&&(x.nonNullable||x.initialValueIsDefault)&&(this.defaultValue=qn(A)?A.value:A)}setValue(A,x={}){this.value=this._pendingValue=A,this._onChange.length&&!1!==x.emitModelToViewChange&&this._onChange.forEach(H=>H(this.value,!1!==x.emitViewToModelChange)),this.updateValueAndValidity(x)}patchValue(A,x={}){this.setValue(A,x)}reset(A=this.defaultValue,x={}){this._applyFormState(A),this.markAsPristine(x),this.markAsUntouched(x),this.setValue(this.value,x),this._pendingChange=!1}_updateValue(){}_anyControls(A){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(A){this._onChange.push(A)}_unregisterOnChange(A){$n(this._onChange,A)}registerOnDisabledChange(A){this._onDisabledChange.push(A)}_unregisterOnDisabledChange(A){$n(this._onDisabledChange,A)}_forEachChild(A){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(A){qn(A)?(this.value=this._pendingValue=A.value,A.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=A}};let Dt=(()=>{class T extends At{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Sr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let x;return function(ue){return(x||(x=c.xGo(T)))(ue||T)}})()}static{this.\u0275dir=c.FsC({type:T,features:[c.Vt3]})}}return T})();const Jo={provide:xn,useExisting:(0,c.Rfq)(()=>Zo)},qt=Promise.resolve();let Zo=(()=>{class T extends xn{constructor(x,H,ue,ze,Bt,po){super(),this._changeDetectorRef=Bt,this.callSetDisabledState=po,this.control=new Ut,this._registered=!1,this.name="",this.update=new c.bkB,this._parent=x,this._setValidators(H),this._setAsyncValidators(ue),this.valueAccessor=Tt(0,ze)}ngOnChanges(x){if(this._checkForErrors(),!this._registered||"name"in x){if(this._registered&&(this._checkName(),this.formDirective)){const H=x.name.previousValue;this.formDirective.removeControl({name:H,path:this._getPath(H)})}this._setUpControl()}"isDisabled"in x&&this._updateDisabled(x),We(x,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){rn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(x){qt.then(()=>{this.control.setValue(x,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(x){const H=x.isDisabled.currentValue,ue=0!==H&&(0,c.L39)(H);qt.then(()=>{ue&&!this.control.disabled?this.control.disable():!ue&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(x){return this._parent?Sr(x,this._parent):[x]}static{this.\u0275fac=function(H){return new(H||T)(c.rXU(At,9),c.rXU(le,10),c.rXU(De,10),c.rXU(me,10),c.rXU(c.gRc,8),c.rXU(kr,8))}}static{this.\u0275dir=c.FsC({type:T,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c.Jv_([Jo]),c.Vt3,c.OA$]})}}return T})(),ki=(()=>{class T{static{this.\u0275fac=function(H){return new(H||T)}}static{this.\u0275dir=c.FsC({type:T,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return T})();const Zn={provide:me,useExisting:(0,c.Rfq)(()=>bt),multi:!0};let bt=(()=>{class T extends J{writeValue(x){this.setProperty("value",x??"")}registerOnChange(x){this.onChange=H=>{x(""==H?null:parseFloat(H))}}static{this.\u0275fac=(()=>{let x;return function(ue){return(x||(x=c.xGo(T)))(ue||T)}})()}static{this.\u0275dir=c.FsC({type:T,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(H,ue){1&H&&c.bIt("input",function(Bt){return ue.onChange(Bt.target.value)})("blur",function(){return ue.onTouched()})},features:[c.Jv_([Zn]),c.Vt3]})}}return T})();const ms={provide:me,useExisting:(0,c.Rfq)(()=>vr),multi:!0};let Mr=(()=>{class T{constructor(){this._accessors=[]}add(x,H){this._accessors.push([x,H])}remove(x){for(let H=this._accessors.length-1;H>=0;--H)if(this._accessors[H][1]===x)return void this._accessors.splice(H,1)}select(x){this._accessors.forEach(H=>{this._isSameGroup(H,x)&&H[1]!==x&&H[1].fireUncheck(x.value)})}_isSameGroup(x,H){return!!x[0].control&&x[0]._parent===H._control._parent&&x[1].name===H.name}static{this.\u0275fac=function(H){return new(H||T)}}static{this.\u0275prov=c.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})(),vr=(()=>{class T extends J{constructor(x,H,ue,ze){super(x,H),this._registry=ue,this._injector=ze,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,c.WQX)(kr,{optional:!0})??Hr}ngOnInit(){this._control=this._injector.get(xn),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(x){this._state=x===this.value,this.setProperty("checked",this._state)}registerOnChange(x){this._fn=x,this.onChange=()=>{x(this.value),this._registry.select(this)}}setDisabledState(x){(this.setDisabledStateFired||x||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",x),this.setDisabledStateFired=!0}fireUncheck(x){this.writeValue(x)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(H){return new(H||T)(c.rXU(c.sFG),c.rXU(c.aKT),c.rXU(Mr),c.rXU(c.zZn))}}static{this.\u0275dir=c.FsC({type:T,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(H,ue){1&H&&c.bIt("change",function(){return ue.onChange()})("blur",function(){return ue.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[c.Jv_([ms]),c.Vt3]})}}return T})();const Er=new c.nKC(""),fi={provide:xn,useExisting:(0,c.Rfq)(()=>wr)};let wr=(()=>{class T extends xn{set isDisabled(x){}static{this._ngModelWarningSentOnce=!1}constructor(x,H,ue,ze,Bt){super(),this._ngModelWarningConfig=ze,this.callSetDisabledState=Bt,this.update=new c.bkB,this._ngModelWarningSent=!1,this._setValidators(x),this._setAsyncValidators(H),this.valueAccessor=Tt(0,ue)}ngOnChanges(x){if(this._isControlChanged(x)){const H=x.form.previousValue;H&&Jr(H,this,!1),rn(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}We(x,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Jr(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}_isControlChanged(x){return x.hasOwnProperty("form")}static{this.\u0275fac=function(H){return new(H||T)(c.rXU(le,10),c.rXU(De,10),c.rXU(me,10),c.rXU(Er,8),c.rXU(kr,8))}}static{this.\u0275dir=c.FsC({type:T,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[c.Jv_([fi]),c.Vt3,c.OA$]})}}return T})();const bo={provide:At,useExisting:(0,c.Rfq)(()=>Eo)};let Eo=(()=>{class T extends At{get submitted(){return(0,c.O8t)(this._submittedReactive)}set submitted(x){this._submittedReactive.set(x)}constructor(x,H,ue){super(),this.callSetDisabledState=ue,this._submitted=(0,c.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,c.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.bkB,this._setValidators(x),this._setAsyncValidators(H)}ngOnChanges(x){this._checkFormPresent(),x.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(_o(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(x){const H=this.form.get(x.path);return rn(H,x,this.callSetDisabledState),H.updateValueAndValidity({emitEvent:!1}),this.directives.push(x),H}getControl(x){return this.form.get(x.path)}removeControl(x){Jr(x.control||null,x,!1),function yt(T,A){const x=T.indexOf(A);x>-1&&T.splice(x,1)}(this.directives,x)}addFormGroup(x){this._setUpFormContainer(x)}removeFormGroup(x){this._cleanUpFormContainer(x)}getFormGroup(x){return this.form.get(x.path)}addFormArray(x){this._setUpFormContainer(x)}removeFormArray(x){this._cleanUpFormContainer(x)}getFormArray(x){return this.form.get(x.path)}updateModel(x,H){this.form.get(x.path).setValue(H)}onSubmit(x){return this._submittedReactive.set(!0),function tt(T,A){T._syncPendingControls(),A.forEach(x=>{const H=x.control;"submit"===H.updateOn&&H._pendingChange&&(x.viewToModelUpdate(H._pendingValue),H._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(x),this.form._events.next(new qe(this.control)),"dialog"===x?.target?.method}onReset(){this.resetForm()}resetForm(x=void 0){this.form.reset(x),this._submittedReactive.set(!1),this.form._events.next(new ct(this.form))}_updateDomValue(){this.directives.forEach(x=>{const H=x.control,ue=this.form.get(x.path);H!==ue&&(Jr(H||null,x),(T=>T instanceof Ut)(ue)&&(rn(ue,x,this.callSetDisabledState),x.control=ue))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(x){const H=this.form.get(x.path);(function yo(T,A){Hn(T,A)})(H,x),H.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(x){if(this.form){const H=this.form.get(x.path);H&&function di(T,A){return _o(T,A)}(H,x)&&H.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Hn(this.form,this),this._oldForm&&_o(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(H){return new(H||T)(c.rXU(le,10),c.rXU(De,10),c.rXU(kr,8))}}static{this.\u0275dir=c.FsC({type:T,selectors:[["","formGroup",""]],hostBindings:function(H,ue){1&H&&c.bIt("submit",function(Bt){return ue.onSubmit(Bt)})("reset",function(){return ue.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c.Jv_([bo]),c.Vt3,c.OA$]})}}return T})();const _r={provide:At,useExisting:(0,c.Rfq)(()=>Yn)};let Yn=(()=>{class T extends Dt{constructor(x,H,ue){super(),this.name=null,this._parent=x,this._setValidators(H),this._setAsyncValidators(ue)}_checkParentType(){_t(this._parent)}static{this.\u0275fac=function(H){return new(H||T)(c.rXU(At,13),c.rXU(le,10),c.rXU(De,10))}}static{this.\u0275dir=c.FsC({type:T,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[c.Jv_([_r]),c.Vt3]})}}return T})();const Rn={provide:At,useExisting:(0,c.Rfq)(()=>hi)};let hi=(()=>{class T extends At{constructor(x,H,ue){super(),this.name=null,this._parent=x,this._setValidators(H),this._setAsyncValidators(ue)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Sr(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){_t(this._parent)}static{this.\u0275fac=function(H){return new(H||T)(c.rXU(At,13),c.rXU(le,10),c.rXU(De,10))}}static{this.\u0275dir=c.FsC({type:T,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[c.Jv_([Rn]),c.Vt3]})}}return T})();function _t(T){return!(T instanceof Yn||T instanceof Eo||T instanceof hi)}const wo={provide:xn,useExisting:(0,c.Rfq)(()=>yr)};let yr=(()=>{class T extends xn{set isDisabled(x){}static{this._ngModelWarningSentOnce=!1}constructor(x,H,ue,ze,Bt){super(),this._ngModelWarningConfig=Bt,this._added=!1,this.name=null,this.update=new c.bkB,this._ngModelWarningSent=!1,this._parent=x,this._setValidators(H),this._setAsyncValidators(ue),this.valueAccessor=Tt(0,ze)}ngOnChanges(x){this._added||this._setUpControl(),We(x,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}get path(){return Sr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(H){return new(H||T)(c.rXU(At,13),c.rXU(le,10),c.rXU(De,10),c.rXU(me,10),c.rXU(Er,8))}}static{this.\u0275dir=c.FsC({type:T,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[c.Jv_([wo]),c.Vt3,c.OA$]})}}return T})();const co={provide:me,useExisting:(0,c.Rfq)(()=>pi),multi:!0};function Zr(T,A){return null==T?`${A}`:(A&&"object"==typeof A&&(A="Object"),`${T}: ${A}`.slice(0,50))}let pi=(()=>{class T extends J{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(x){this._compareWith=x}writeValue(x){this.value=x;const ue=Zr(this._getOptionId(x),x);this.setProperty("value",ue)}registerOnChange(x){this.onChange=H=>{this.value=this._getOptionValue(H),x(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(x){for(const H of this._optionMap.keys())if(this._compareWith(this._optionMap.get(H),x))return H;return null}_getOptionValue(x){const H=function Si(T){return T.split(":")[0]}(x);return this._optionMap.has(H)?this._optionMap.get(H):x}static{this.\u0275fac=(()=>{let x;return function(ue){return(x||(x=c.xGo(T)))(ue||T)}})()}static{this.\u0275dir=c.FsC({type:T,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(H,ue){1&H&&c.bIt("change",function(Bt){return ue.onChange(Bt.target.value)})("blur",function(){return ue.onTouched()})},inputs:{compareWith:"compareWith"},features:[c.Jv_([co]),c.Vt3]})}}return T})(),mi=(()=>{class T{constructor(x,H,ue){this._element=x,this._renderer=H,this._select=ue,this._select&&(this.id=this._select._registerOption())}set ngValue(x){null!=this._select&&(this._select._optionMap.set(this.id,x),this._setElementValue(Zr(this.id,x)),this._select.writeValue(this._select.value))}set value(x){this._setElementValue(x),this._select&&this._select.writeValue(this._select.value)}_setElementValue(x){this._renderer.setProperty(this._element.nativeElement,"value",x)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(H){return new(H||T)(c.rXU(c.aKT),c.rXU(c.sFG),c.rXU(pi,9))}}static{this.\u0275dir=c.FsC({type:T,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return T})();const Bo={provide:me,useExisting:(0,c.Rfq)(()=>ur),multi:!0};function ei(T,A){return null==T?`${A}`:("string"==typeof A&&(A=`'${A}'`),A&&"object"==typeof A&&(A="Object"),`${T}: ${A}`.slice(0,50))}let ur=(()=>{class T extends J{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(x){this._compareWith=x}writeValue(x){let H;if(this.value=x,Array.isArray(x)){const ue=x.map(ze=>this._getOptionId(ze));H=(ze,Bt)=>{ze._setSelected(ue.indexOf(Bt.toString())>-1)}}else H=(ue,ze)=>{ue._setSelected(!1)};this._optionMap.forEach(H)}registerOnChange(x){this.onChange=H=>{const ue=[],ze=H.selectedOptions;if(void 0!==ze){const Bt=ze;for(let po=0;po<Bt.length;po++){const Dr=this._getOptionValue(Bt[po].value);ue.push(Dr)}}else{const Bt=H.options;for(let po=0;po<Bt.length;po++){const Mo=Bt[po];if(Mo.selected){const Dr=this._getOptionValue(Mo.value);ue.push(Dr)}}}this.value=ue,x(ue)}}_registerOption(x){const H=(this._idCounter++).toString();return this._optionMap.set(H,x),H}_getOptionId(x){for(const H of this._optionMap.keys())if(this._compareWith(this._optionMap.get(H)._value,x))return H;return null}_getOptionValue(x){const H=function ti(T){return T.split(":")[0]}(x);return this._optionMap.has(H)?this._optionMap.get(H)._value:x}static{this.\u0275fac=(()=>{let x;return function(ue){return(x||(x=c.xGo(T)))(ue||T)}})()}static{this.\u0275dir=c.FsC({type:T,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(H,ue){1&H&&c.bIt("change",function(Bt){return ue.onChange(Bt.target)})("blur",function(){return ue.onTouched()})},inputs:{compareWith:"compareWith"},features:[c.Jv_([Bo]),c.Vt3]})}}return T})(),zr=(()=>{class T{constructor(x,H,ue){this._element=x,this._renderer=H,this._select=ue,this._select&&(this.id=this._select._registerOption(this))}set ngValue(x){null!=this._select&&(this._value=x,this._setElementValue(ei(this.id,x)),this._select.writeValue(this._select.value))}set value(x){this._select?(this._value=x,this._setElementValue(ei(this.id,x)),this._select.writeValue(this._select.value)):this._setElementValue(x)}_setElementValue(x){this._renderer.setProperty(this._element.nativeElement,"value",x)}_setSelected(x){this._renderer.setProperty(this._element.nativeElement,"selected",x)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(H){return new(H||T)(c.rXU(c.aKT),c.rXU(c.sFG),c.rXU(ur,9))}}static{this.\u0275dir=c.FsC({type:T,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return T})();let Cn=(()=>{class T{constructor(){this._validator=ft}ngOnChanges(x){if(this.inputName in x){const H=this.normalizeInput(x[this.inputName].currentValue);this._enabled=this.enabled(H),this._validator=this._enabled?this.createValidator(H):ft,this._onChange&&this._onChange()}}validate(x){return this._validator(x)}registerOnValidatorChange(x){this._onChange=x}enabled(x){return null!=x}static{this.\u0275fac=function(H){return new(H||T)}}static{this.\u0275dir=c.FsC({type:T,features:[c.OA$]})}}return T})();const Cr={provide:le,useExisting:(0,c.Rfq)(()=>xo),multi:!0};let xo=(()=>{class T extends Cn{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=x=>function Do(T){return"number"==typeof T?T:parseFloat(T)}(x),this.createValidator=x=>Ze(x)}static{this.\u0275fac=(()=>{let x;return function(ue){return(x||(x=c.xGo(T)))(ue||T)}})()}static{this.\u0275dir=c.FsC({type:T,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(H,ue){2&H&&c.BMQ("max",ue._enabled?ue.max:null)},inputs:{max:"max"},features:[c.Jv_([Cr]),c.Vt3]})}}return T})();const gi={provide:le,useExisting:(0,c.Rfq)(()=>Vn),multi:!0};let Vn=(()=>{class T extends Cn{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.L39,this.createValidator=x=>pt}enabled(x){return x}static{this.\u0275fac=(()=>{let x;return function(ue){return(x||(x=c.xGo(T)))(ue||T)}})()}static{this.\u0275dir=c.FsC({type:T,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(H,ue){2&H&&c.BMQ("required",ue._enabled?"":null)},inputs:{required:"required"},features:[c.Jv_([gi]),c.Vt3]})}}return T})();const on={provide:le,useExisting:(0,c.Rfq)(()=>Rr),multi:!0};let Rr=(()=>{class T extends Cn{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=x=>function zn(T){return"number"==typeof T?T:parseInt(T,10)}(x),this.createValidator=x=>vt(x)}static{this.\u0275fac=(()=>{let x;return function(ue){return(x||(x=c.xGo(T)))(ue||T)}})()}static{this.\u0275dir=c.FsC({type:T,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(H,ue){2&H&&c.BMQ("maxlength",ue._enabled?ue.maxlength:null)},inputs:{maxlength:"maxlength"},features:[c.Jv_([on]),c.Vt3]})}}return T})(),Xn=(()=>{class T{static{this.\u0275fac=function(H){return new(H||T)}}static{this.\u0275mod=c.$C({type:T})}static{this.\u0275inj=c.G2t({})}}return T})();class ho extends Jn{constructor(A,x,H){super(Ot(x),Tn(H,x)),this.controls=A,this._initObservables(),this._setUpdateStrategy(x),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(A){return this.controls[this._adjustIndex(A)]}push(A,x={}){this.controls.push(A),this._registerControl(A),this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}insert(A,x,H={}){this.controls.splice(A,0,x),this._registerControl(x),this.updateValueAndValidity({emitEvent:H.emitEvent})}removeAt(A,x={}){let H=this._adjustIndex(A);H<0&&(H=0),this.controls[H]&&this.controls[H]._registerOnCollectionChange(()=>{}),this.controls.splice(H,1),this.updateValueAndValidity({emitEvent:x.emitEvent})}setControl(A,x,H={}){let ue=this._adjustIndex(A);ue<0&&(ue=0),this.controls[ue]&&this.controls[ue]._registerOnCollectionChange(()=>{}),this.controls.splice(ue,1),x&&(this.controls.splice(ue,0,x),this._registerControl(x)),this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(A,x={}){ao(this,0,A),A.forEach((H,ue)=>{or(this,!1,ue),this.at(ue).setValue(H,{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x)}patchValue(A,x={}){null!=A&&(A.forEach((H,ue)=>{this.at(ue)&&this.at(ue).patchValue(H,{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x))}reset(A=[],x={}){this._forEachChild((H,ue)=>{H.reset(A[ue],{onlySelf:!0,emitEvent:x.emitEvent})}),this._updatePristine(x,this),this._updateTouched(x,this),this.updateValueAndValidity(x)}getRawValue(){return this.controls.map(A=>A.getRawValue())}clear(A={}){this.controls.length<1||(this._forEachChild(x=>x._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:A.emitEvent}))}_adjustIndex(A){return A<0?A+this.length:A}_syncPendingControls(){let A=this.controls.reduce((x,H)=>!!H._syncPendingControls()||x,!1);return A&&this.updateValueAndValidity({onlySelf:!0}),A}_forEachChild(A){this.controls.forEach((x,H)=>{A(x,H)})}_updateValue(){this.value=this.controls.filter(A=>A.enabled||this.disabled).map(A=>A.value)}_anyControls(A){return this.controls.some(x=>x.enabled&&A(x))}_setUpControls(){this._forEachChild(A=>this._registerControl(A))}_allControlsDisabled(){for(const A of this.controls)if(A.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(A){A.setParent(this),A._registerOnCollectionChange(this._onCollectionChange)}_find(A){return this.at(A)??null}}function Xi(T){return!!T&&(void 0!==T.asyncValidators||void 0!==T.validators||void 0!==T.updateOn)}let ni=(()=>{class T{constructor(){this.useNonNullable=!1}get nonNullable(){const x=new T;return x.useNonNullable=!0,x}group(x,H=null){const ue=this._reduceControls(x);let ze={};return Xi(H)?ze=H:null!==H&&(ze.validators=H.validator,ze.asyncValidators=H.asyncValidator),new Gr(ue,ze)}record(x,H=null){const ue=this._reduceControls(x);return new Lo(ue,H)}control(x,H,ue){let ze={};return this.useNonNullable?(Xi(H)?ze=H:(ze.validators=H,ze.asyncValidators=ue),new Ut(x,{...ze,nonNullable:!0})):new Ut(x,H,ue)}array(x,H,ue){const ze=x.map(Bt=>this._createControl(Bt));return new ho(ze,H,ue)}_reduceControls(x){const H={};return Object.keys(x).forEach(ue=>{H[ue]=this._createControl(x[ue])}),H}_createControl(x){return x instanceof Ut||x instanceof Jn?x:Array.isArray(x)?this.control(x[0],x.length>1?x[1]:null,x.length>2?x[2]:null):this.control(x)}static{this.\u0275fac=function(H){return new(H||T)}}static{this.\u0275prov=c.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})(),So=(()=>{class T{static withConfig(x){return{ngModule:T,providers:[{provide:kr,useValue:x.callSetDisabledState??Hr}]}}static{this.\u0275fac=function(H){return new(H||T)}}static{this.\u0275mod=c.$C({type:T})}static{this.\u0275inj=c.G2t({imports:[Xn]})}}return T})(),To=(()=>{class T{static withConfig(x){return{ngModule:T,providers:[{provide:Er,useValue:x.warnOnNgModelWithFormControl??"always"},{provide:kr,useValue:x.callSetDisabledState??Hr}]}}static{this.\u0275fac=function(H){return new(H||T)}}static{this.\u0275mod=c.$C({type:T})}static{this.\u0275inj=c.G2t({imports:[Xn]})}}return T})()},345:(ot,_e,M)=>{"use strict";M.d(_e,{B8:()=>Se,hE:()=>hn});var c=M(177),V=M(4438);class Z extends c.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class e extends Z{static makeCurrent(){(0,c.ZD)(new e)}onAndCancel(he,se,pe){return he.addEventListener(se,pe),()=>{he.removeEventListener(se,pe)}}dispatchEvent(he,se){he.dispatchEvent(se)}remove(he){he.remove()}createElement(he,se){return(se=se||this.getDefaultDocument()).createElement(he)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(he){return he.nodeType===Node.ELEMENT_NODE}isShadowRoot(he){return he instanceof DocumentFragment}getGlobalEventTarget(he,se){return"window"===se?window:"document"===se?he:"body"===se?he.body:null}getBaseHref(he){const se=function G(){return U=U||document.querySelector("base"),U?U.getAttribute("href"):null}();return null==se?null:function F(je){return new URL(je,document.baseURI).pathname}(se)}resetBaseElement(){U=null}getUserAgent(){return window.navigator.userAgent}getCookie(he){return(0,c._b)(document.cookie,he)}}let U=null,me=(()=>{class je{build(){return new XMLHttpRequest}static{this.\u0275fac=function(pe){return new(pe||je)}}static{this.\u0275prov=V.jDH({token:je,factory:je.\u0275fac})}}return je})();const fe=new V.nKC("");let te=(()=>{class je{constructor(se,pe){this._zone=pe,this._eventNameToPlugin=new Map,se.forEach(qe=>{qe.manager=this}),this._plugins=se.slice().reverse()}addEventListener(se,pe,qe){return this._findPluginFor(pe).addEventListener(se,pe,qe)}getZone(){return this._zone}_findPluginFor(se){let pe=this._eventNameToPlugin.get(se);if(pe)return pe;if(pe=this._plugins.find(ct=>ct.supports(se)),!pe)throw new V.wOt(5101,!1);return this._eventNameToPlugin.set(se,pe),pe}static{this.\u0275fac=function(pe){return new(pe||je)(V.KVO(fe),V.KVO(V.SKi))}}static{this.\u0275prov=V.jDH({token:je,factory:je.\u0275fac})}}return je})();class ge{constructor(he){this._doc=he}}const Le="ng-app-id";let xe=(()=>{class je{constructor(se,pe,qe,ct={}){this.doc=se,this.appId=pe,this.nonce=qe,this.platformId=ct,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,c.Vy)(ct),this.resetHostNodes()}addStyles(se){for(const pe of se)1===this.changeUsageCount(pe,1)&&this.onStyleAdded(pe)}removeStyles(se){for(const pe of se)this.changeUsageCount(pe,-1)<=0&&this.onStyleRemoved(pe)}ngOnDestroy(){const se=this.styleNodesInDOM;se&&(se.forEach(pe=>pe.remove()),se.clear());for(const pe of this.getAllStyles())this.onStyleRemoved(pe);this.resetHostNodes()}addHost(se){this.hostNodes.add(se);for(const pe of this.getAllStyles())this.addStyleToHost(se,pe)}removeHost(se){this.hostNodes.delete(se)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(se){for(const pe of this.hostNodes)this.addStyleToHost(pe,se)}onStyleRemoved(se){const pe=this.styleRef;pe.get(se)?.elements?.forEach(qe=>qe.remove()),pe.delete(se)}collectServerRenderedStyles(){const se=this.doc.head?.querySelectorAll(`style[${Le}="${this.appId}"]`);if(se?.length){const pe=new Map;return se.forEach(qe=>{null!=qe.textContent&&pe.set(qe.textContent,qe)}),pe}return null}changeUsageCount(se,pe){const qe=this.styleRef;if(qe.has(se)){const ct=qe.get(se);return ct.usage+=pe,ct.usage}return qe.set(se,{usage:pe,elements:[]}),pe}getStyleElement(se,pe){const qe=this.styleNodesInDOM,ct=qe?.get(pe);if(ct?.parentNode===se)return qe.delete(pe),ct.removeAttribute(Le),ct;{const Ot=this.doc.createElement("style");return this.nonce&&Ot.setAttribute("nonce",this.nonce),Ot.textContent=pe,this.platformIsServer&&Ot.setAttribute(Le,this.appId),se.appendChild(Ot),Ot}}addStyleToHost(se,pe){const qe=this.getStyleElement(se,pe),ct=this.styleRef,Ot=ct.get(pe)?.elements;Ot?Ot.push(qe):ct.set(pe,{elements:[qe],usage:1})}resetHostNodes(){const se=this.hostNodes;se.clear(),se.add(this.doc.head)}static{this.\u0275fac=function(pe){return new(pe||je)(V.KVO(c.qQ),V.KVO(V.sZ2),V.KVO(V.BIS,8),V.KVO(V.Agw))}}static{this.\u0275prov=V.jDH({token:je,factory:je.\u0275fac})}}return je})();const Xe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},W=/%COMP%/g,K="%COMP%",le=`_nghost-${K}`,De=`_ngcontent-${K}`,be=new V.nKC("",{providedIn:"root",factory:()=>!0});function pt(je,he){return he.map(se=>se.replace(W,je))}let $e=(()=>{class je{constructor(se,pe,qe,ct,Ot,Ht,Tn,nr=null){this.eventManager=se,this.sharedStylesHost=pe,this.appId=qe,this.removeStylesOnCompDestroy=ct,this.doc=Ot,this.platformId=Ht,this.ngZone=Tn,this.nonce=nr,this.rendererByCompId=new Map,this.platformIsServer=(0,c.Vy)(Ht),this.defaultRenderer=new Ke(se,Ot,Tn,this.platformIsServer)}createRenderer(se,pe){if(!se||!pe)return this.defaultRenderer;this.platformIsServer&&pe.encapsulation===V.gXe.ShadowDom&&(pe={...pe,encapsulation:V.gXe.Emulated});const qe=this.getOrCreateRenderer(se,pe);return qe instanceof Sn?qe.applyToHost(se):qe instanceof Pt&&qe.applyStyles(),qe}getOrCreateRenderer(se,pe){const qe=this.rendererByCompId;let ct=qe.get(pe.id);if(!ct){const Ot=this.doc,Ht=this.ngZone,Tn=this.eventManager,nr=this.sharedStylesHost,mr=this.removeStylesOnCompDestroy,or=this.platformIsServer;switch(pe.encapsulation){case V.gXe.Emulated:ct=new Sn(Tn,nr,pe,this.appId,mr,Ot,Ht,or);break;case V.gXe.ShadowDom:return new ft(Tn,nr,se,pe,Ot,Ht,this.nonce,or);default:ct=new Pt(Tn,nr,pe,mr,Ot,Ht,or)}qe.set(pe.id,ct)}return ct}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(pe){return new(pe||je)(V.KVO(te),V.KVO(xe),V.KVO(V.sZ2),V.KVO(be),V.KVO(c.qQ),V.KVO(V.Agw),V.KVO(V.SKi),V.KVO(V.BIS))}}static{this.\u0275prov=V.jDH({token:je,factory:je.\u0275fac})}}return je})();class Ke{constructor(he,se,pe,qe){this.eventManager=he,this.doc=se,this.ngZone=pe,this.platformIsServer=qe,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(he,se){return se?this.doc.createElementNS(Xe[se]||se,he):this.doc.createElement(he)}createComment(he){return this.doc.createComment(he)}createText(he){return this.doc.createTextNode(he)}appendChild(he,se){(dt(he)?he.content:he).appendChild(se)}insertBefore(he,se,pe){he&&(dt(he)?he.content:he).insertBefore(se,pe)}removeChild(he,se){se.remove()}selectRootElement(he,se){let pe="string"==typeof he?this.doc.querySelector(he):he;if(!pe)throw new V.wOt(-5104,!1);return se||(pe.textContent=""),pe}parentNode(he){return he.parentNode}nextSibling(he){return he.nextSibling}setAttribute(he,se,pe,qe){if(qe){se=qe+":"+se;const ct=Xe[qe];ct?he.setAttributeNS(ct,se,pe):he.setAttribute(se,pe)}else he.setAttribute(se,pe)}removeAttribute(he,se,pe){if(pe){const qe=Xe[pe];qe?he.removeAttributeNS(qe,se):he.removeAttribute(`${pe}:${se}`)}else he.removeAttribute(se)}addClass(he,se){he.classList.add(se)}removeClass(he,se){he.classList.remove(se)}setStyle(he,se,pe,qe){qe&(V.czy.DashCase|V.czy.Important)?he.style.setProperty(se,pe,qe&V.czy.Important?"important":""):he.style[se]=pe}removeStyle(he,se,pe){pe&V.czy.DashCase?he.style.removeProperty(se):he.style[se]=""}setProperty(he,se,pe){null!=he&&(he[se]=pe)}setValue(he,se){he.nodeValue=se}listen(he,se,pe){if("string"==typeof he&&!(he=(0,c.QT)().getGlobalEventTarget(this.doc,he)))throw new Error(`Unsupported event target ${he} for event ${se}`);return this.eventManager.addEventListener(he,se,this.decoratePreventDefault(pe))}decoratePreventDefault(he){return se=>{if("__ngUnwrap__"===se)return he;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>he(se)):he(se))&&se.preventDefault()}}}function dt(je){return"TEMPLATE"===je.tagName&&void 0!==je.content}class ft extends Ke{constructor(he,se,pe,qe,ct,Ot,Ht,Tn){super(he,ct,Ot,Tn),this.sharedStylesHost=se,this.hostEl=pe,this.shadowRoot=pe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const nr=pt(qe.id,qe.styles);for(const mr of nr){const or=document.createElement("style");Ht&&or.setAttribute("nonce",Ht),or.textContent=mr,this.shadowRoot.appendChild(or)}}nodeOrShadowRoot(he){return he===this.hostEl?this.shadowRoot:he}appendChild(he,se){return super.appendChild(this.nodeOrShadowRoot(he),se)}insertBefore(he,se,pe){return super.insertBefore(this.nodeOrShadowRoot(he),se,pe)}removeChild(he,se){return super.removeChild(null,se)}parentNode(he){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(he)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Pt extends Ke{constructor(he,se,pe,qe,ct,Ot,Ht,Tn){super(he,ct,Ot,Ht),this.sharedStylesHost=se,this.removeStylesOnCompDestroy=qe,this.styles=Tn?pt(Tn,pe.styles):pe.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Sn extends Pt{constructor(he,se,pe,qe,ct,Ot,Ht,Tn){const nr=qe+"-"+pe.id;super(he,se,pe,ct,Ot,Ht,Tn,nr),this.contentAttr=function ke(je){return De.replace(W,je)}(nr),this.hostAttr=function Ze(je){return le.replace(W,je)}(nr)}applyToHost(he){this.applyStyles(),this.setAttribute(he,this.hostAttr,"")}createElement(he,se){const pe=super.createElement(he,se);return super.setAttribute(pe,this.contentAttr,""),pe}}let jt=(()=>{class je extends ge{constructor(se){super(se)}supports(se){return!0}addEventListener(se,pe,qe){return se.addEventListener(pe,qe,!1),()=>this.removeEventListener(se,pe,qe)}removeEventListener(se,pe,qe){return se.removeEventListener(pe,qe)}static{this.\u0275fac=function(pe){return new(pe||je)(V.KVO(c.qQ))}}static{this.\u0275prov=V.jDH({token:je,factory:je.\u0275fac})}}return je})();const St=["alt","control","meta","shift"],dr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fr={alt:je=>je.altKey,control:je=>je.ctrlKey,meta:je=>je.metaKey,shift:je=>je.shiftKey};let mn=(()=>{class je extends ge{constructor(se){super(se)}supports(se){return null!=je.parseEventName(se)}addEventListener(se,pe,qe){const ct=je.parseEventName(pe),Ot=je.eventCallback(ct.fullKey,qe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,c.QT)().onAndCancel(se,ct.domEventName,Ot))}static parseEventName(se){const pe=se.toLowerCase().split("."),qe=pe.shift();if(0===pe.length||"keydown"!==qe&&"keyup"!==qe)return null;const ct=je._normalizeKey(pe.pop());let Ot="",Ht=pe.indexOf("code");if(Ht>-1&&(pe.splice(Ht,1),Ot="code."),St.forEach(nr=>{const mr=pe.indexOf(nr);mr>-1&&(pe.splice(mr,1),Ot+=nr+".")}),Ot+=ct,0!=pe.length||0===ct.length)return null;const Tn={};return Tn.domEventName=qe,Tn.fullKey=Ot,Tn}static matchEventFullKeyCode(se,pe){let qe=dr[se.key]||se.key,ct="";return pe.indexOf("code.")>-1&&(qe=se.code,ct="code."),!(null==qe||!qe)&&(qe=qe.toLowerCase()," "===qe?qe="space":"."===qe&&(qe="dot"),St.forEach(Ot=>{Ot!==qe&&(0,fr[Ot])(se)&&(ct+=Ot+".")}),ct+=qe,ct===pe)}static eventCallback(se,pe,qe){return ct=>{je.matchEventFullKeyCode(ct,se)&&qe.runGuarded(()=>pe(ct))}}static _normalizeKey(se){return"esc"===se?"escape":se}static{this.\u0275fac=function(pe){return new(pe||je)(V.KVO(c.qQ))}}static{this.\u0275prov=V.jDH({token:je,factory:je.\u0275fac})}}return je})();function Se(je,he,se){return(0,V.TL3)({rootComponent:je,platformRef:se?.platformRef,...Oe(he)})}function Oe(je){return{appProviders:[...At,...je?.providers??[]],platformProviders:un}}const un=[{provide:V.Agw,useValue:c.AJ},{provide:V.PLl,useValue:function Je(){e.makeCurrent()},multi:!0},{provide:c.qQ,useFactory:function gt(){return(0,V.TL$)(document),document},deps:[]}],At=[{provide:V.H8p,useValue:"root"},{provide:V.zcH,useFactory:function Pe(){return new V.zcH},deps:[]},{provide:fe,useClass:jt,multi:!0,deps:[c.qQ,V.SKi,V.Agw]},{provide:fe,useClass:mn,multi:!0,deps:[c.qQ]},$e,xe,te,{provide:V._9s,useExisting:$e},{provide:c.N0,useClass:me,deps:[]},[]];let hn=(()=>{class je{constructor(se){this._doc=se}getTitle(){return this._doc.title}setTitle(se){this._doc.title=se||""}static{this.\u0275fac=function(pe){return new(pe||je)(V.KVO(c.qQ))}}static{this.\u0275prov=V.jDH({token:je,factory:je.\u0275fac,providedIn:"root"})}}return je})()},9981:(ot,_e,M)=>{"use strict";M.d(_e,{nX:()=>yr,wF:()=>Qe,Ix:()=>d,Wk:()=>E,wQ:()=>S,iI:()=>ds,n3:()=>Co,lh:()=>Ye});var c=M(4438),V=M(1985),Z=M(8071),U=M(6648),G=M(7673),F=M(4412),J=M(4572),me=M(9350),fe=M(8793),te=M(9030),ge=M(1203),Le=M(8810),xe=M(983),Xe=M(8359),W=M(9974),K=M(4360);function le(){return(0,W.N)((v,w)=>{let _=null;v._refCount++;const D=(0,K._)(w,void 0,void 0,void 0,()=>{if(!v||v._refCount<=0||0<--v._refCount)return void(_=null);const N=v._connection,z=_;_=null,N&&(!z||N===z)&&N.unsubscribe(),w.unsubscribe()});v.subscribe(D),D.closed||(_=v.connect())})}class De extends V.c{constructor(w,_){super(),this.source=w,this.subjectFactory=_,this._subject=null,this._refCount=0,this._connection=null,(0,W.S)(w)&&(this.lift=w.lift)}_subscribe(w){return this.getSubject().subscribe(w)}getSubject(){const w=this._subject;return(!w||w.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:w}=this;this._subject=this._connection=null,w?.unsubscribe()}connect(){let w=this._connection;if(!w){w=this._connection=new Xe.yU;const _=this.getSubject();w.add(this.source.subscribe((0,K._)(_,void 0,()=>{this._teardown(),_.complete()},D=>{this._teardown(),_.error(D)},()=>this._teardown()))),w.closed&&(this._connection=null,w=Xe.yU.EMPTY)}return w}refCount(){return le()(this)}}var Fe=M(1413),be=M(177),ke=M(6354),Ze=M(5558),pt=M(6697),$e=M(9172),Ke=M(5964),He=M(1397),vt=M(1594),dt=M(274),ft=M(8141),Pt=M(9437),Sn=M(1943),jt=M(9901);function St(v){return v<=0?()=>xe.w:(0,W.N)((w,_)=>{let D=[];w.subscribe((0,K._)(_,N=>{D.push(N),v<D.length&&D.shift()},()=>{for(const N of D)_.next(N);_.complete()},void 0,()=>{D=null}))})}var dr=M(3774),fr=M(3669),Me=M(980),Oe=M(6977),Ae=M(6365),Je=M(345);const Pe="primary",gt=Symbol("RouteTitle");class un{constructor(w){this.params=w||{}}has(w){return Object.prototype.hasOwnProperty.call(this.params,w)}get(w){if(this.has(w)){const _=this.params[w];return Array.isArray(_)?_[0]:_}return null}getAll(w){if(this.has(w)){const _=this.params[w];return Array.isArray(_)?_:[_]}return[]}get keys(){return Object.keys(this.params)}}function En(v){return new un(v)}function It(v,w,_){const D=_.path.split("/");if(D.length>v.length||"full"===_.pathMatch&&(w.hasChildren()||D.length<v.length))return null;const N={};for(let z=0;z<D.length;z++){const oe=D[z],Re=v[z];if(":"===oe[0])N[oe.substring(1)]=Re;else if(oe!==Re.path)return null}return{consumed:v.slice(0,D.length),posParams:N}}function At(v,w){const _=v?xn(v):void 0,D=w?xn(w):void 0;if(!_||!D||_.length!=D.length)return!1;let N;for(let z=0;z<_.length;z++)if(N=_[z],!fn(v[N],w[N]))return!1;return!0}function xn(v){return[...Object.keys(v),...Object.getOwnPropertySymbols(v)]}function fn(v,w){if(Array.isArray(v)&&Array.isArray(w)){if(v.length!==w.length)return!1;const _=[...v].sort(),D=[...w].sort();return _.every((N,z)=>D[z]===N)}return v===w}function Zt(v){return v.length>0?v[v.length-1]:null}function hn(v){return function e(v){return!!v&&(v instanceof V.c||(0,Z.T)(v.lift)&&(0,Z.T)(v.subscribe))}(v)?v:(0,c.jNT)(v)?(0,U.H)(Promise.resolve(v)):(0,G.of)(v)}const Wn={exact:function Ur(v,w,_){if(!Ln(v.segments,w.segments)||!Mt(v.segments,w.segments,_)||v.numberOfChildren!==w.numberOfChildren)return!1;for(const D in w.children)if(!v.children[D]||!Ur(v.children[D],w.children[D],_))return!1;return!0},subset:Fr},et={exact:function ar(v,w){return At(v,w)},subset:function ci(v,w){return Object.keys(w).length<=Object.keys(v).length&&Object.keys(w).every(_=>fn(v[_],w[_]))},ignored:()=>!0};function tr(v,w,_){return Wn[_.paths](v.root,w.root,_.matrixParams)&&et[_.queryParams](v.queryParams,w.queryParams)&&!("exact"===_.fragment&&v.fragment!==w.fragment)}function Fr(v,w,_){return en(v,w,w.segments,_)}function en(v,w,_,D){if(v.segments.length>_.length){const N=v.segments.slice(0,_.length);return!(!Ln(N,_)||w.hasChildren()||!Mt(N,_,D))}if(v.segments.length===_.length){if(!Ln(v.segments,_)||!Mt(v.segments,_,D))return!1;for(const N in w.children)if(!v.children[N]||!Fr(v.children[N],w.children[N],D))return!1;return!0}{const N=_.slice(0,v.segments.length),z=_.slice(v.segments.length);return!!(Ln(v.segments,N)&&Mt(v.segments,N,D)&&v.children[Pe])&&en(v.children[Pe],w,z,D)}}function Mt(v,w,_){return w.every((D,N)=>et[_](v[N].parameters,D.parameters))}class tn{constructor(w=new Xt([],{}),_={},D=null){this.root=w,this.queryParams=_,this.fragment=D}get queryParamMap(){return this._queryParamMap??=En(this.queryParams),this._queryParamMap}toString(){return vn.serialize(this)}}class Xt{constructor(w,_){this.segments=w,this.children=_,this.parent=null,Object.values(_).forEach(D=>D.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jo(this)}}class jn{constructor(w,_){this.path=w,this.parameters=_}get parameterMap(){return this._parameterMap??=En(this.parameters),this._parameterMap}toString(){return he(this)}}function Ln(v,w){return v.length===w.length&&v.every((_,D)=>_.path===w[D].path)}let Fn=(()=>{class v{static{this.\u0275fac=function(D){return new(D||v)}}static{this.\u0275prov=c.jDH({token:v,factory:()=>new nn,providedIn:"root"})}}return v})();class nn{parse(w){const _=new ao(w);return new tn(_.parseRootSegment(),_.parseQueryParams(),_.parseFragment())}serialize(w){const _=`/${Rt(w.root,!0)}`,D=function pe(v){const w=Object.entries(v).map(([_,D])=>Array.isArray(D)?D.map(N=>`${Lt(_)}=${Lt(N)}`).join("&"):`${Lt(_)}=${Lt(D)}`).filter(_=>_);return w.length?`?${w.join("&")}`:""}(w.queryParams);return`${_}${D}${"string"==typeof w.fragment?`#${function pr(v){return encodeURI(v)}(w.fragment)}`:""}`}}const vn=new nn;function jo(v){return v.segments.map(w=>he(w)).join("/")}function Rt(v,w){if(!v.hasChildren())return jo(v);if(w){const _=v.children[Pe]?Rt(v.children[Pe],!1):"",D=[];return Object.entries(v.children).forEach(([N,z])=>{N!==Pe&&D.push(`${N}:${Rt(z,!1)}`)}),D.length>0?`${_}(${D.join("//")})`:_}{const _=function Br(v,w){let _=[];return Object.entries(v.children).forEach(([D,N])=>{D===Pe&&(_=_.concat(w(N,D)))}),Object.entries(v.children).forEach(([D,N])=>{D!==Pe&&(_=_.concat(w(N,D)))}),_}(v,(D,N)=>N===Pe?[Rt(v.children[Pe],!1)]:[`${N}:${Rt(D,!1)}`]);return 1===Object.keys(v.children).length&&null!=v.children[Pe]?`${jo(v)}/${_[0]}`:`${jo(v)}/(${_.join("//")})`}}function hr(v){return encodeURIComponent(v).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Lt(v){return hr(v).replace(/%3B/gi,";")}function Ir(v){return hr(v).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dn(v){return decodeURIComponent(v)}function je(v){return Dn(v.replace(/\+/g,"%20"))}function he(v){return`${Ir(v.path)}${function se(v){return Object.entries(v).map(([w,_])=>`;${Ir(w)}=${Ir(_)}`).join("")}(v.parameters)}`}const qe=/^[^\/()?;#]+/;function ct(v){const w=v.match(qe);return w?w[0]:""}const Ot=/^[^\/()?;=#]+/,Tn=/^[^=?&#]+/,mr=/^[^&#]+/;class ao{constructor(w){this.url=w,this.remaining=w}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xt([],{}):new Xt([],this.parseChildren())}parseQueryParams(){const w={};if(this.consumeOptional("?"))do{this.parseQueryParam(w)}while(this.consumeOptional("&"));return w}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const w=[];for(this.peekStartsWith("(")||w.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),w.push(this.parseSegment());let _={};this.peekStartsWith("/(")&&(this.capture("/"),_=this.parseParens(!0));let D={};return this.peekStartsWith("(")&&(D=this.parseParens(!1)),(w.length>0||Object.keys(_).length>0)&&(D[Pe]=new Xt(w,_)),D}parseSegment(){const w=ct(this.remaining);if(""===w&&this.peekStartsWith(";"))throw new c.wOt(4009,!1);return this.capture(w),new jn(Dn(w),this.parseMatrixParams())}parseMatrixParams(){const w={};for(;this.consumeOptional(";");)this.parseParam(w);return w}parseParam(w){const _=function Ht(v){const w=v.match(Ot);return w?w[0]:""}(this.remaining);if(!_)return;this.capture(_);let D="";if(this.consumeOptional("=")){const N=ct(this.remaining);N&&(D=N,this.capture(D))}w[Dn(_)]=Dn(D)}parseQueryParam(w){const _=function nr(v){const w=v.match(Tn);return w?w[0]:""}(this.remaining);if(!_)return;this.capture(_);let D="";if(this.consumeOptional("=")){const oe=function or(v){const w=v.match(mr);return w?w[0]:""}(this.remaining);oe&&(D=oe,this.capture(D))}const N=je(_),z=je(D);if(w.hasOwnProperty(N)){let oe=w[N];Array.isArray(oe)||(oe=[oe],w[N]=oe),oe.push(z)}else w[N]=z}parseParens(w){const _={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const D=ct(this.remaining),N=this.remaining[D.length];if("/"!==N&&")"!==N&&";"!==N)throw new c.wOt(4010,!1);let z;D.indexOf(":")>-1?(z=D.slice(0,D.indexOf(":")),this.capture(z),this.capture(":")):w&&(z=Pe);const oe=this.parseChildren();_[z]=1===Object.keys(oe).length?oe[Pe]:new Xt([],oe),this.consumeOptional("//")}return _}peekStartsWith(w){return this.remaining.startsWith(w)}consumeOptional(w){return!!this.peekStartsWith(w)&&(this.remaining=this.remaining.substring(w.length),!0)}capture(w){if(!this.consumeOptional(w))throw new c.wOt(4011,!1)}}function Jn(v){return v.segments.length>0?new Xt([],{[Pe]:v}):v}function Gr(v){const w={};for(const[D,N]of Object.entries(v.children)){const z=Gr(N);if(D===Pe&&0===z.segments.length&&z.hasChildren())for(const[oe,Re]of Object.entries(z.children))w[oe]=Re;else(z.segments.length>0||z.hasChildren())&&(w[D]=z)}return function vo(v){if(1===v.numberOfChildren&&v.children[Pe]){const w=v.children[Pe];return new Xt(v.segments.concat(w.segments),w.children)}return v}(new Xt(v.segments,w))}function Un(v){return v instanceof tn}function Lo(v){let w;const N=Jn(function _(z){const oe={};for(const Ce of z.children){const at=_(Ce);oe[Ce.outlet]=at}const Re=new Xt(z.url,oe);return z===v&&(w=Re),Re}(v.root));return w??N}function Fi(v,w,_,D){let N=v;for(;N.parent;)N=N.parent;if(0===w.length)return Sr(N,N,N,_,D);const z=function br(v){if("string"==typeof v[0]&&1===v.length&&"/"===v[0])return new Jr(!0,0,v);let w=0,_=!1;const D=v.reduce((N,z,oe)=>{if("object"==typeof z&&null!=z){if(z.outlets){const Re={};return Object.entries(z.outlets).forEach(([Ce,at])=>{Re[Ce]="string"==typeof at?at.split("/"):at}),[...N,{outlets:Re}]}if(z.segmentPath)return[...N,z.segmentPath]}return"string"!=typeof z?[...N,z]:0===oe?(z.split("/").forEach((Re,Ce)=>{0==Ce&&"."===Re||(0==Ce&&""===Re?_=!0:".."===Re?w++:""!=Re&&N.push(Re))}),N):[...N,z]},[]);return new Jr(_,w,D)}(w);if(z.toRoot())return Sr(N,N,new Xt([],{}),_,D);const oe=function Hn(v,w,_){if(v.isAbsolute)return new qr(w,!0,0);if(!_)return new qr(w,!1,NaN);if(null===_.parent)return new qr(_,!0,0);const D=kr(v.commands[0])?0:1;return function _o(v,w,_){let D=v,N=w,z=_;for(;z>N;){if(z-=N,D=D.parent,!D)throw new c.wOt(4005,!1);N=D.segments.length}return new qr(D,!1,N-z)}(_,_.segments.length-1+D,v.numberOfDoubleDots)}(z,N,v),Re=oe.processChildren?Tr(oe.segmentGroup,oe.index,z.commands):$o(oe.segmentGroup,oe.index,z.commands);return Sr(N,oe.segmentGroup,Re,_,D)}function kr(v){return"object"==typeof v&&null!=v&&!v.outlets&&!v.segmentPath}function Hr(v){return"object"==typeof v&&null!=v&&v.outlets}function Sr(v,w,_,D,N){let oe,z={};D&&Object.entries(D).forEach(([Ce,at])=>{z[Ce]=Array.isArray(at)?at.map($t=>`${$t}`):`${at}`}),oe=v===w?_:rn(v,w,_);const Re=Jn(Gr(oe));return new tn(Re,z,N)}function rn(v,w,_){const D={};return Object.entries(v.children).forEach(([N,z])=>{D[N]=z===w?_:rn(z,w,_)}),new Xt(v.segments,D)}class Jr{constructor(w,_,D){if(this.isAbsolute=w,this.numberOfDoubleDots=_,this.commands=D,w&&D.length>0&&kr(D[0]))throw new c.wOt(4003,!1);const N=D.find(Hr);if(N&&N!==Zt(D))throw new c.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qr{constructor(w,_,D){this.segmentGroup=w,this.processChildren=_,this.index=D}}function $o(v,w,_){if(v??=new Xt([],{}),0===v.segments.length&&v.hasChildren())return Tr(v,w,_);const D=function Vo(v,w,_){let D=0,N=w;const z={match:!1,pathIndex:0,commandIndex:0};for(;N<v.segments.length;){if(D>=_.length)return z;const oe=v.segments[N],Re=_[D];if(Hr(Re))break;const Ce=`${Re}`,at=D<_.length-1?_[D+1]:null;if(N>0&&void 0===Ce)break;if(Ce&&at&&"object"==typeof at&&void 0===at.outlets){if(!X(Ce,at,oe))return z;D+=2}else{if(!X(Ce,{},oe))return z;D++}N++}return{match:!0,pathIndex:N,commandIndex:D}}(v,w,_),N=_.slice(D.commandIndex);if(D.match&&D.pathIndex<v.segments.length){const z=new Xt(v.segments.slice(0,D.pathIndex),{});return z.children[Pe]=new Xt(v.segments.slice(D.pathIndex),v.children),Tr(z,0,N)}return D.match&&0===N.length?new Xt(v.segments,{}):D.match&&!v.hasChildren()?yo(v,w,_):D.match?Tr(v,0,N):yo(v,w,_)}function Tr(v,w,_){if(0===_.length)return new Xt(v.segments,{});{const D=function Ii(v){return Hr(v[0])?v[0].outlets:{[Pe]:v}}(_),N={};if(Object.keys(D).some(z=>z!==Pe)&&v.children[Pe]&&1===v.numberOfChildren&&0===v.children[Pe].segments.length){const z=Tr(v.children[Pe],w,_);return new Xt(v.segments,z.children)}return Object.entries(D).forEach(([z,oe])=>{"string"==typeof oe&&(oe=[oe]),null!==oe&&(N[z]=$o(v.children[z],w,oe))}),Object.entries(v.children).forEach(([z,oe])=>{void 0===D[z]&&(N[z]=oe)}),new Xt(v.segments,N)}}function yo(v,w,_){const D=v.segments.slice(0,w);let N=0;for(;N<_.length;){const z=_[N];if(Hr(z)){const Ce=di(z.outlets);return new Xt(D,Ce)}if(0===N&&kr(_[0])){D.push(new jn(v.segments[w].path,Nt(_[0]))),N++;continue}const oe=Hr(z)?z.outlets[Pe]:`${z}`,Re=N<_.length-1?_[N+1]:null;oe&&Re&&kr(Re)?(D.push(new jn(oe,Nt(Re))),N+=2):(D.push(new jn(oe,{})),N++)}return new Xt(D,{})}function di(v){const w={};return Object.entries(v).forEach(([_,D])=>{"string"==typeof D&&(D=[D]),null!==D&&(w[_]=yo(new Xt([],{}),0,D))}),w}function Nt(v){const w={};return Object.entries(v).forEach(([_,D])=>w[_]=`${D}`),w}function X(v,w,_){return v==_.path&&At(w,_.parameters)}const ae="imperative";var ee=function(v){return v[v.NavigationStart=0]="NavigationStart",v[v.NavigationEnd=1]="NavigationEnd",v[v.NavigationCancel=2]="NavigationCancel",v[v.NavigationError=3]="NavigationError",v[v.RoutesRecognized=4]="RoutesRecognized",v[v.ResolveStart=5]="ResolveStart",v[v.ResolveEnd=6]="ResolveEnd",v[v.GuardsCheckStart=7]="GuardsCheckStart",v[v.GuardsCheckEnd=8]="GuardsCheckEnd",v[v.RouteConfigLoadStart=9]="RouteConfigLoadStart",v[v.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",v[v.ChildActivationStart=11]="ChildActivationStart",v[v.ChildActivationEnd=12]="ChildActivationEnd",v[v.ActivationStart=13]="ActivationStart",v[v.ActivationEnd=14]="ActivationEnd",v[v.Scroll=15]="Scroll",v[v.NavigationSkipped=16]="NavigationSkipped",v}(ee||{});class Te{constructor(w,_){this.id=w,this.url=_}}class We extends Te{constructor(w,_,D="imperative",N=null){super(w,_),this.type=ee.NavigationStart,this.navigationTrigger=D,this.restoredState=N}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Qe extends Te{constructor(w,_,D){super(w,_),this.urlAfterRedirects=D,this.type=ee.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var tt=function(v){return v[v.Redirect=0]="Redirect",v[v.SupersededByNewNavigation=1]="SupersededByNewNavigation",v[v.NoDataFromResolver=2]="NoDataFromResolver",v[v.GuardRejected=3]="GuardRejected",v}(tt||{}),Tt=function(v){return v[v.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",v[v.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",v}(Tt||{});class yt extends Te{constructor(w,_,D,N){super(w,_),this.reason=D,this.code=N,this.type=ee.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class yn extends Te{constructor(w,_,D,N){super(w,_),this.reason=D,this.code=N,this.type=ee.NavigationSkipped}}class pn extends Te{constructor(w,_,D,N){super(w,_),this.error=D,this.target=N,this.type=ee.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ln extends Te{constructor(w,_,D,N){super(w,_),this.urlAfterRedirects=D,this.state=N,this.type=ee.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pn extends Te{constructor(w,_,D,N){super(w,_),this.urlAfterRedirects=D,this.state=N,this.type=ee.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $n extends Te{constructor(w,_,D,N,z){super(w,_),this.urlAfterRedirects=D,this.state=N,this.shouldActivate=z,this.type=ee.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qn extends Te{constructor(w,_,D,N){super(w,_),this.urlAfterRedirects=D,this.state=N,this.type=ee.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ut extends Te{constructor(w,_,D,N){super(w,_),this.urlAfterRedirects=D,this.state=N,this.type=ee.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wn{constructor(w){this.route=w,this.type=ee.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Gn{constructor(w){this.route=w,this.type=ee.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Dt{constructor(w){this.snapshot=w,this.type=ee.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ht{constructor(w){this.snapshot=w,this.type=ee.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gr{constructor(w){this.snapshot=w,this.type=ee.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qo{constructor(w){this.snapshot=w,this.type=ee.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uo{constructor(w,_,D){this.routerEvent=w,this.position=_,this.anchor=D,this.type=ee.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Uo{}class lo{constructor(w,_){this.url=w,this.navigationBehaviorOptions=_}}function _n(v){return v.outlet||Pe}function Er(v){if(!v)return null;if(v.routeConfig?._injector)return v.routeConfig._injector;for(let w=v.parent;w;w=w.parent){const _=w.routeConfig;if(_?._loadedInjector)return _._loadedInjector;if(_?._injector)return _._injector}return null}class fi{get injector(){return Er(this.route?.snapshot)??this.rootInjector}set injector(w){}constructor(w){this.rootInjector=w,this.outlet=null,this.route=null,this.children=new wr(this.rootInjector),this.attachRef=null}}let wr=(()=>{class v{constructor(_){this.rootInjector=_,this.contexts=new Map}onChildOutletCreated(_,D){const N=this.getOrCreateContext(_);N.outlet=D,this.contexts.set(_,N)}onChildOutletDestroyed(_){const D=this.getContext(_);D&&(D.outlet=null,D.attachRef=null)}onOutletDeactivated(){const _=this.contexts;return this.contexts=new Map,_}onOutletReAttached(_){this.contexts=_}getOrCreateContext(_){let D=this.getContext(_);return D||(D=new fi(this.rootInjector),this.contexts.set(_,D)),D}getContext(_){return this.contexts.get(_)||null}static{this.\u0275fac=function(D){return new(D||v)(c.KVO(c.uvJ))}}static{this.\u0275prov=c.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})();class bo{constructor(w){this._root=w}get root(){return this._root.value}parent(w){const _=this.pathFromRoot(w);return _.length>1?_[_.length-2]:null}children(w){const _=Eo(w,this._root);return _?_.children.map(D=>D.value):[]}firstChild(w){const _=Eo(w,this._root);return _&&_.children.length>0?_.children[0].value:null}siblings(w){const _=_r(w,this._root);return _.length<2?[]:_[_.length-2].children.map(N=>N.value).filter(N=>N!==w)}pathFromRoot(w){return _r(w,this._root).map(_=>_.value)}}function Eo(v,w){if(v===w.value)return w;for(const _ of w.children){const D=Eo(v,_);if(D)return D}return null}function _r(v,w){if(v===w.value)return[w];for(const _ of w.children){const D=_r(v,_);if(D.length)return D.unshift(w),D}return[]}class Yn{constructor(w,_){this.value=w,this.children=_}toString(){return`TreeNode(${this.value})`}}function Rn(v){const w={};return v&&v.children.forEach(_=>w[_.value.outlet]=_),w}class hi extends bo{constructor(w,_){super(w),this.snapshot=_,pi(this,w)}toString(){return this.snapshot.toString()}}function _t(v){const w=function wo(v){const z=new Zr([],{},{},"",{},Pe,v,null,{});return new Si("",new Yn(z,[]))}(v),_=new F.t([new jn("",{})]),D=new F.t({}),N=new F.t({}),z=new F.t({}),oe=new F.t(""),Re=new yr(_,D,z,oe,N,Pe,v,w.root);return Re.snapshot=w.root,new hi(new Yn(Re,[]),w)}class yr{constructor(w,_,D,N,z,oe,Re,Ce){this.urlSubject=w,this.paramsSubject=_,this.queryParamsSubject=D,this.fragmentSubject=N,this.dataSubject=z,this.outlet=oe,this.component=Re,this._futureSnapshot=Ce,this.title=this.dataSubject?.pipe((0,ke.T)(at=>at[gt]))??(0,G.of)(void 0),this.url=w,this.params=_,this.queryParams=D,this.fragment=N,this.data=z}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,ke.T)(w=>En(w))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,ke.T)(w=>En(w))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function co(v,w,_="emptyOnly"){let D;const{routeConfig:N}=v;return D=null===w||"always"!==_&&""!==N?.path&&(w.component||w.routeConfig?.loadComponent)?{params:{...v.params},data:{...v.data},resolve:{...v.data,...v._resolvedData??{}}}:{params:{...w.params,...v.params},data:{...w.data,...v.data},resolve:{...v.data,...w.data,...N?.data,...v._resolvedData}},N&&ti(N)&&(D.resolve[gt]=N.title),D}class Zr{get title(){return this.data?.[gt]}constructor(w,_,D,N,z,oe,Re,Ce,at){this.url=w,this.params=_,this.queryParams=D,this.fragment=N,this.data=z,this.outlet=oe,this.component=Re,this.routeConfig=Ce,this._resolve=at}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=En(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=En(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(D=>D.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Si extends bo{constructor(w,_){super(_),this.url=w,pi(this,_)}toString(){return mi(this._root)}}function pi(v,w){w.value._routerState=v,w.children.forEach(_=>pi(v,_))}function mi(v){const w=v.children.length>0?` { ${v.children.map(mi).join(", ")} } `:"";return`${v.value}${w}`}function Bo(v){if(v.snapshot){const w=v.snapshot,_=v._futureSnapshot;v.snapshot=_,At(w.queryParams,_.queryParams)||v.queryParamsSubject.next(_.queryParams),w.fragment!==_.fragment&&v.fragmentSubject.next(_.fragment),At(w.params,_.params)||v.paramsSubject.next(_.params),function gn(v,w){if(v.length!==w.length)return!1;for(let _=0;_<v.length;++_)if(!At(v[_],w[_]))return!1;return!0}(w.url,_.url)||v.urlSubject.next(_.url),At(w.data,_.data)||v.dataSubject.next(_.data)}else v.snapshot=v._futureSnapshot,v.dataSubject.next(v._futureSnapshot.data)}function ei(v,w){const _=At(v.params,w.params)&&function Qr(v,w){return Ln(v,w)&&v.every((_,D)=>At(_.parameters,w[D].parameters))}(v.url,w.url);return _&&!(!v.parent!=!w.parent)&&(!v.parent||ei(v.parent,w.parent))}function ti(v){return"string"==typeof v.title||null===v.title}let Co=(()=>{class v{constructor(){this.activated=null,this._activatedRoute=null,this.name=Pe,this.activateEvents=new c.bkB,this.deactivateEvents=new c.bkB,this.attachEvents=new c.bkB,this.detachEvents=new c.bkB,this.parentContexts=(0,c.WQX)(wr),this.location=(0,c.WQX)(c.c1b),this.changeDetector=(0,c.WQX)(c.gRc),this.inputBinder=(0,c.WQX)(zr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(_){if(_.name){const{firstChange:D,previousValue:N}=_.name;if(D)return;this.isTrackedInParentContexts(N)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(N)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(_){return this.parentContexts.getContext(_)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const _=this.parentContexts.getContext(this.name);_?.route&&(_.attachRef?this.attach(_.attachRef,_.route):this.activateWith(_.route,_.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.wOt(4012,!1);this.location.detach();const _=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(_.instance),_}attach(_,D){this.activated=_,this._activatedRoute=D,this.location.insert(_.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(_.instance)}deactivate(){if(this.activated){const _=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,D){if(this.isActivated)throw new c.wOt(4013,!1);this._activatedRoute=_;const N=this.location,oe=_.snapshot.component,Re=this.parentContexts.getOrCreateContext(this.name).children,Ce=new ur(_,Re,N.injector);this.activated=N.createComponent(oe,{index:N.length,injector:Ce,environmentInjector:D}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(D){return new(D||v)}}static{this.\u0275dir=c.FsC({type:v,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.OA$]})}}return v})();class ur{__ngOutletInjector(w){return new ur(this.route,this.childContexts,w)}constructor(w,_,D){this.route=w,this.childContexts=_,this.parent=D}get(w,_){return w===yr?this.route:w===wr?this.childContexts:this.parent.get(w,_)}}const zr=new c.nKC("");let zn=(()=>{class v{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(_){this.unsubscribeFromRouteData(_),this.subscribeToRouteData(_)}unsubscribeFromRouteData(_){this.outletDataSubscriptions.get(_)?.unsubscribe(),this.outletDataSubscriptions.delete(_)}subscribeToRouteData(_){const{activatedRoute:D}=_,N=(0,J.z)([D.queryParams,D.params,D.data]).pipe((0,Ze.n)(([z,oe,Re],Ce)=>(Re={...z,...oe,...Re},0===Ce?(0,G.of)(Re):Promise.resolve(Re)))).subscribe(z=>{if(!_.isActivated||!_.activatedComponentRef||_.activatedRoute!==D||null===D.component)return void this.unsubscribeFromRouteData(_);const oe=(0,c.HJs)(D.component);if(oe)for(const{templateName:Re}of oe.inputs)_.activatedComponentRef.setInput(Re,z[Re]);else this.unsubscribeFromRouteData(_)});this.outletDataSubscriptions.set(_,N)}static{this.\u0275fac=function(D){return new(D||v)}}static{this.\u0275prov=c.jDH({token:v,factory:v.\u0275fac})}}return v})();function Cn(v,w,_){if(_&&v.shouldReuseRoute(w.value,_.value.snapshot)){const D=_.value;D._futureSnapshot=w.value;const N=function Cr(v,w,_){return w.children.map(D=>{for(const N of _.children)if(v.shouldReuseRoute(D.value,N.value.snapshot))return Cn(v,D,N);return Cn(v,D)})}(v,w,_);return new Yn(D,N)}{if(v.shouldAttach(w.value)){const z=v.retrieve(w.value);if(null!==z){const oe=z.route;return oe.value._futureSnapshot=w.value,oe.children=w.children.map(Re=>Cn(v,Re)),oe}}const D=function xo(v){return new yr(new F.t(v.url),new F.t(v.params),new F.t(v.queryParams),new F.t(v.fragment),new F.t(v.data),v.outlet,v.component,v)}(w.value),N=w.children.map(z=>Cn(v,z));return new Yn(D,N)}}class Wr{constructor(w,_){this.redirectTo=w,this.navigationBehaviorOptions=_}}const Fo="ngNavigationCancelingError";function gi(v,w){const{redirectTo:_,navigationBehaviorOptions:D}=Un(w)?{redirectTo:w,navigationBehaviorOptions:void 0}:w,N=Io(!1,tt.Redirect);return N.url=_,N.navigationBehaviorOptions=D,N}function Io(v,w){const _=new Error(`NavigationCancelingError: ${v||""}`);return _[Fo]=!0,_.cancellationCode=w,_}function Ar(v){return!!v&&v[Fo]}class qi{constructor(w,_,D,N,z){this.routeReuseStrategy=w,this.futureState=_,this.currState=D,this.forwardEvent=N,this.inputBindingEnabled=z}activate(w){const _=this.futureState._root,D=this.currState?this.currState._root:null;this.deactivateChildRoutes(_,D,w),Bo(this.futureState.root),this.activateChildRoutes(_,D,w)}deactivateChildRoutes(w,_,D){const N=Rn(_);w.children.forEach(z=>{const oe=z.value.outlet;this.deactivateRoutes(z,N[oe],D),delete N[oe]}),Object.values(N).forEach(z=>{this.deactivateRouteAndItsChildren(z,D)})}deactivateRoutes(w,_,D){const N=w.value,z=_?_.value:null;if(N===z)if(N.component){const oe=D.getContext(N.outlet);oe&&this.deactivateChildRoutes(w,_,oe.children)}else this.deactivateChildRoutes(w,_,D);else z&&this.deactivateRouteAndItsChildren(_,D)}deactivateRouteAndItsChildren(w,_){w.value.component&&this.routeReuseStrategy.shouldDetach(w.value.snapshot)?this.detachAndStoreRouteSubtree(w,_):this.deactivateRouteAndOutlet(w,_)}detachAndStoreRouteSubtree(w,_){const D=_.getContext(w.value.outlet),N=D&&w.value.component?D.children:_,z=Rn(w);for(const oe of Object.values(z))this.deactivateRouteAndItsChildren(oe,N);if(D&&D.outlet){const oe=D.outlet.detach(),Re=D.children.onOutletDeactivated();this.routeReuseStrategy.store(w.value.snapshot,{componentRef:oe,route:w,contexts:Re})}}deactivateRouteAndOutlet(w,_){const D=_.getContext(w.value.outlet),N=D&&w.value.component?D.children:_,z=Rn(w);for(const oe of Object.values(z))this.deactivateRouteAndItsChildren(oe,N);D&&(D.outlet&&(D.outlet.deactivate(),D.children.onOutletDeactivated()),D.attachRef=null,D.route=null)}activateChildRoutes(w,_,D){const N=Rn(_);w.children.forEach(z=>{this.activateRoutes(z,N[z.value.outlet],D),this.forwardEvent(new Qo(z.value.snapshot))}),w.children.length&&this.forwardEvent(new ht(w.value.snapshot))}activateRoutes(w,_,D){const N=w.value,z=_?_.value:null;if(Bo(N),N===z)if(N.component){const oe=D.getOrCreateContext(N.outlet);this.activateChildRoutes(w,_,oe.children)}else this.activateChildRoutes(w,_,D);else if(N.component){const oe=D.getOrCreateContext(N.outlet);if(this.routeReuseStrategy.shouldAttach(N.snapshot)){const Re=this.routeReuseStrategy.retrieve(N.snapshot);this.routeReuseStrategy.store(N.snapshot,null),oe.children.onOutletReAttached(Re.contexts),oe.attachRef=Re.componentRef,oe.route=Re.route.value,oe.outlet&&oe.outlet.attach(Re.componentRef,Re.route.value),Bo(Re.route.value),this.activateChildRoutes(w,null,oe.children)}else oe.attachRef=null,oe.route=N,oe.outlet&&oe.outlet.activateWith(N,oe.injector),this.activateChildRoutes(w,null,oe.children)}else this.activateChildRoutes(w,null,D)}}class lr{constructor(w){this.path=w,this.route=this.path[this.path.length-1]}}class on{constructor(w,_){this.component=w,this.route=_}}function Rr(v,w,_){const D=v._root;return to(D,w?w._root:null,_,[D.value])}function eo(v,w){const _=Symbol(),D=w.get(v,_);return D===_?"function"!=typeof v||(0,c.LfX)(v)?w.get(v):v:D}function to(v,w,_,D,N={canDeactivateChecks:[],canActivateChecks:[]}){const z=Rn(w);return v.children.forEach(oe=>{(function Wi(v,w,_,D,N={canDeactivateChecks:[],canActivateChecks:[]}){const z=v.value,oe=w?w.value:null,Re=_?_.getContext(v.value.outlet):null;if(oe&&z.routeConfig===oe.routeConfig){const Ce=function fo(v,w,_){if("function"==typeof _)return _(v,w);switch(_){case"pathParamsChange":return!Ln(v.url,w.url);case"pathParamsOrQueryParamsChange":return!Ln(v.url,w.url)||!At(v.queryParams,w.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ei(v,w)||!At(v.queryParams,w.queryParams);default:return!ei(v,w)}}(oe,z,z.routeConfig.runGuardsAndResolvers);Ce?N.canActivateChecks.push(new lr(D)):(z.data=oe.data,z._resolvedData=oe._resolvedData),to(v,w,z.component?Re?Re.children:null:_,D,N),Ce&&Re&&Re.outlet&&Re.outlet.isActivated&&N.canDeactivateChecks.push(new on(Re.outlet.component,oe))}else oe&&Xn(w,Re,N),N.canActivateChecks.push(new lr(D)),to(v,null,z.component?Re?Re.children:null:_,D,N)})(oe,z[oe.value.outlet],_,D.concat([oe.value]),N),delete z[oe.value.outlet]}),Object.entries(z).forEach(([oe,Re])=>Xn(Re,_.getContext(oe),N)),N}function Xn(v,w,_){const D=Rn(v),N=v.value;Object.entries(D).forEach(([z,oe])=>{Xn(oe,N.component?w?w.children.getContext(z):null:w,_)}),_.canDeactivateChecks.push(new on(N.component&&w&&w.outlet&&w.outlet.isActivated?w.outlet.component:null,N))}function ho(v){return"function"==typeof v}function Ki(v){return v instanceof me.G||"EmptyError"===v?.name}const So=Symbol("INITIAL_VALUE");function To(){return(0,Ze.n)(v=>(0,J.z)(v.map(w=>w.pipe((0,pt.s)(1),(0,$e.Z)(So)))).pipe((0,ke.T)(w=>{for(const _ of w)if(!0!==_){if(_===So)return So;if(!1===_||T(_))return _}return!0}),(0,Ke.p)(w=>w!==So),(0,pt.s)(1)))}function T(v){return Un(v)||v instanceof Wr}function vs(v){return(0,ge.F)((0,ft.M)(w=>{if("boolean"!=typeof w)throw gi(0,w)}),(0,ke.T)(w=>!0===w))}class Mi{constructor(w){this.segmentGroup=w||null}}class Qi extends Error{constructor(w){super(),this.urlTree=w}}function Ho(v){return(0,Le.$)(new Mi(v))}class Ks{constructor(w,_){this.urlSerializer=w,this.urlTree=_}lineralizeSegments(w,_){let D=[],N=_.root;for(;;){if(D=D.concat(N.segments),0===N.numberOfChildren)return(0,G.of)(D);if(N.numberOfChildren>1||!N.children[Pe])return(0,Le.$)(new c.wOt(4e3,!1));N=N.children[Pe]}}applyRedirectCommands(w,_,D,N,z){if("string"!=typeof _){const Re=_,{queryParams:Ce,fragment:at,routeConfig:$t,url:Qt,outlet:Kn,params:$i,data:ro,title:Vi}=N,No=(0,c.N4e)(z,()=>Re({params:$i,data:ro,queryParams:Ce,fragment:at,routeConfig:$t,url:Qt,outlet:Kn,title:Vi}));if(No instanceof tn)throw new Qi(No);_=No}const oe=this.applyRedirectCreateUrlTree(_,this.urlSerializer.parse(_),w,D);if("/"===_[0])throw new Qi(oe);return oe}applyRedirectCreateUrlTree(w,_,D,N){const z=this.createSegmentGroup(w,_.root,D,N);return new tn(z,this.createQueryParams(_.queryParams,this.urlTree.queryParams),_.fragment)}createQueryParams(w,_){const D={};return Object.entries(w).forEach(([N,z])=>{if("string"==typeof z&&":"===z[0]){const Re=z.substring(1);D[N]=_[Re]}else D[N]=z}),D}createSegmentGroup(w,_,D,N){const z=this.createSegments(w,_.segments,D,N);let oe={};return Object.entries(_.children).forEach(([Re,Ce])=>{oe[Re]=this.createSegmentGroup(w,Ce,D,N)}),new Xt(z,oe)}createSegments(w,_,D,N){return _.map(z=>":"===z.path[0]?this.findPosParam(w,z,N):this.findOrReturn(z,D))}findPosParam(w,_,D){const N=D[_.path.substring(1)];if(!N)throw new c.wOt(4001,!1);return N}findOrReturn(w,_){let D=0;for(const N of _){if(N.path===w.path)return _.splice(D),N;D++}return w}}const zt={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function In(v,w,_,D,N){const z=er(v,w,_);return z.matched?(D=function qt(v,w){return v.providers&&!v._injector&&(v._injector=(0,c.Ol2)(v.providers,w,`Route: ${v.path}`)),v._injector??w}(w,D),function ri(v,w,_,D){const N=w.canMatch;if(!N||0===N.length)return(0,G.of)(!0);const z=N.map(oe=>{const Re=eo(oe,v);return hn(function Go(v){return v&&ho(v.canMatch)}(Re)?Re.canMatch(w,_):(0,c.N4e)(v,()=>Re(w,_)))});return(0,G.of)(z).pipe(To(),vs())}(D,w,_).pipe((0,ke.T)(oe=>!0===oe?z:{...zt}))):(0,G.of)(z)}function er(v,w,_){if("**"===w.path)return function oi(v){return{matched:!0,parameters:v.length>0?Zt(v).parameters:{},consumedSegments:v,remainingSegments:[],positionalParamSegments:{}}}(_);if(""===w.path)return"full"===w.pathMatch&&(v.hasChildren()||_.length>0)?{...zt}:{matched:!0,consumedSegments:[],remainingSegments:_,parameters:{},positionalParamSegments:{}};const N=(w.matcher||It)(_,v,w);if(!N)return{...zt};const z={};Object.entries(N.posParams??{}).forEach(([Re,Ce])=>{z[Re]=Ce.path});const oe=N.consumed.length>0?{...z,...N.consumed[N.consumed.length-1].parameters}:z;return{matched:!0,consumedSegments:N.consumed,remainingSegments:_.slice(N.consumed.length),parameters:oe,positionalParamSegments:N.posParams??{}}}function ir(v,w,_,D){return _.length>0&&function Ri(v,w,_){return _.some(D=>Ni(v,w,D)&&_n(D)!==Pe)}(v,_,D)?{segmentGroup:new Xt(w,Zi(D,new Xt(_,v.children))),slicedSegments:[]}:0===_.length&&function As(v,w,_){return _.some(D=>Ni(v,w,D))}(v,_,D)?{segmentGroup:new Xt(v.segments,Ao(v,_,D,v.children)),slicedSegments:_}:{segmentGroup:new Xt(v.segments,v.children),slicedSegments:_}}function Ao(v,w,_,D){const N={};for(const z of _)if(Ni(v,w,z)&&!D[_n(z)]){const oe=new Xt([],{});N[_n(z)]=oe}return{...D,...N}}function Zi(v,w){const _={};_[Pe]=w;for(const D of v)if(""===D.path&&_n(D)!==Pe){const N=new Xt([],{});_[_n(D)]=N}return _}function Ni(v,w,_){return(!(v.hasChildren()||w.length>0)||"full"!==_.pathMatch)&&""===_.path}class Rs{}class as{constructor(w,_,D,N,z,oe,Re){this.injector=w,this.configLoader=_,this.rootComponentType=D,this.config=N,this.urlTree=z,this.paramsInheritanceStrategy=oe,this.urlSerializer=Re,this.applyRedirects=new Ks(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(w){return new c.wOt(4002,`'${w.segmentGroup}'`)}recognize(){const w=ir(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(w).pipe((0,ke.T)(({children:_,rootSnapshot:D})=>{const N=new Yn(D,_),z=new Si("",N),oe=function Ct(v,w,_=null,D=null){return Fi(Lo(v),w,_,D)}(D,[],this.urlTree.queryParams,this.urlTree.fragment);return oe.queryParams=this.urlTree.queryParams,z.url=this.urlSerializer.serialize(oe),{state:z,tree:oe}}))}match(w){const _=new Zr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Pe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,w,Pe,_).pipe((0,ke.T)(D=>({children:D,rootSnapshot:_})),(0,Pt.W)(D=>{if(D instanceof Qi)return this.urlTree=D.urlTree,this.match(D.urlTree.root);throw D instanceof Mi?this.noMatchError(D):D}))}processSegmentGroup(w,_,D,N,z){return 0===D.segments.length&&D.hasChildren()?this.processChildren(w,_,D,z):this.processSegment(w,_,D,D.segments,N,!0,z).pipe((0,ke.T)(oe=>oe instanceof Yn?[oe]:[]))}processChildren(w,_,D,N){const z=[];for(const oe of Object.keys(D.children))"primary"===oe?z.unshift(oe):z.push(oe);return(0,U.H)(z).pipe((0,dt.H)(oe=>{const Re=D.children[oe],Ce=function Hi(v,w){const _=v.filter(D=>_n(D)===w);return _.push(...v.filter(D=>_n(D)!==w)),_}(_,oe);return this.processSegmentGroup(w,Ce,Re,oe,N)}),(0,Sn.S)((oe,Re)=>(oe.push(...Re),oe)),(0,jt.U)(null),function mn(v,w){const _=arguments.length>=2;return D=>D.pipe(v?(0,Ke.p)((N,z)=>v(N,z,D)):fr.D,St(1),_?(0,jt.U)(w):(0,dr.v)(()=>new me.G))}(),(0,He.Z)(oe=>{if(null===oe)return Ho(D);const Re=Ps(oe);return function Os(v){v.sort((w,_)=>w.value.outlet===Pe?-1:_.value.outlet===Pe?1:w.value.outlet.localeCompare(_.value.outlet))}(Re),(0,G.of)(Re)}))}processSegment(w,_,D,N,z,oe,Re){return(0,U.H)(_).pipe((0,dt.H)(Ce=>this.processSegmentAgainstRoute(Ce._injector??w,_,Ce,D,N,z,oe,Re).pipe((0,Pt.W)(at=>{if(at instanceof Mi)return(0,G.of)(null);throw at}))),(0,vt.$)(Ce=>!!Ce),(0,Pt.W)(Ce=>{if(Ki(Ce))return function Yr(v,w,_){return 0===w.length&&!v.children[_]}(D,N,z)?(0,G.of)(new Rs):Ho(D);throw Ce}))}processSegmentAgainstRoute(w,_,D,N,z,oe,Re,Ce){return _n(D)===oe||oe!==Pe&&Ni(N,z,D)?void 0===D.redirectTo?this.matchSegmentAgainstRoute(w,N,D,z,oe,Ce):this.allowRedirects&&Re?this.expandSegmentAgainstRouteUsingRedirect(w,N,_,D,z,oe,Ce):Ho(N):Ho(N)}expandSegmentAgainstRouteUsingRedirect(w,_,D,N,z,oe,Re){const{matched:Ce,parameters:at,consumedSegments:$t,positionalParamSegments:Qt,remainingSegments:Kn}=er(_,N,z);if(!Ce)return Ho(_);"string"==typeof N.redirectTo&&"/"===N.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const $i=new Zr(z,at,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Bn(N),_n(N),N.component??N._loadedComponent??null,N,vi(N)),ro=co($i,Re,this.paramsInheritanceStrategy);$i.params=Object.freeze(ro.params),$i.data=Object.freeze(ro.data);const Vi=this.applyRedirects.applyRedirectCommands($t,N.redirectTo,Qt,$i,w);return this.applyRedirects.lineralizeSegments(N,Vi).pipe((0,He.Z)(No=>this.processSegment(w,D,_,No.concat(Kn),oe,!1,Re)))}matchSegmentAgainstRoute(w,_,D,N,z,oe){const Re=In(_,D,N,w);return"**"===D.path&&(_.children={}),Re.pipe((0,Ze.n)(Ce=>Ce.matched?this.getChildConfig(w=D._injector??w,D,N).pipe((0,Ze.n)(({routes:at})=>{const $t=D._loadedInjector??w,{parameters:Qt,consumedSegments:Kn,remainingSegments:$i}=Ce,ro=new Zr(Kn,Qt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Bn(D),_n(D),D.component??D._loadedComponent??null,D,vi(D)),Vi=co(ro,oe,this.paramsInheritanceStrategy);ro.params=Object.freeze(Vi.params),ro.data=Object.freeze(Vi.data);const{segmentGroup:No,slicedSegments:ws}=ir(_,Kn,$i,at);if(0===ws.length&&No.hasChildren())return this.processChildren($t,at,No,ro).pipe((0,ke.T)(na=>new Yn(ro,na)));if(0===at.length&&0===ws.length)return(0,G.of)(new Yn(ro,[]));const Au=_n(D)===z;return this.processSegment($t,at,No,ws,Au?Pe:z,!0,ro).pipe((0,ke.T)(na=>new Yn(ro,na instanceof Yn?[na]:[])))})):Ho(_)))}getChildConfig(w,_,D){return _.children?(0,G.of)({routes:_.children,injector:w}):_.loadChildren?void 0!==_._loadedRoutes?(0,G.of)({routes:_._loadedRoutes,injector:_._loadedInjector}):function Dr(v,w,_,D){const N=w.canLoad;if(void 0===N||0===N.length)return(0,G.of)(!0);const z=N.map(oe=>{const Re=eo(oe,v);return hn(function gs(v){return v&&ho(v.canLoad)}(Re)?Re.canLoad(w,_):(0,c.N4e)(v,()=>Re(w,_)))});return(0,G.of)(z).pipe(To(),vs())}(w,_,D).pipe((0,He.Z)(N=>N?this.configLoader.loadChildren(w,_).pipe((0,ft.M)(z=>{_._loadedRoutes=z.routes,_._loadedInjector=z.injector})):function Xs(){return(0,Le.$)(Io(!1,tt.GuardRejected))}())):(0,G.of)({routes:[],injector:w})}}function _s(v){const w=v.value.routeConfig;return w&&""===w.path}function Ps(v){const w=[],_=new Set;for(const D of v){if(!_s(D)){w.push(D);continue}const N=w.find(z=>D.value.routeConfig===z.value.routeConfig);void 0!==N?(N.children.push(...D.children),_.add(N)):w.push(D)}for(const D of _){const N=Ps(D.children);w.push(new Yn(D.value,N))}return w.filter(D=>!_.has(D))}function Bn(v){return v.data||{}}function vi(v){return v.resolve||{}}function ts(v){const w=v.children.map(_=>ts(_)).flat();return[v,...w]}function Oi(v){return(0,Ze.n)(w=>{const _=v(w);return _?(0,U.H)(_).pipe((0,ke.T)(()=>w)):(0,G.of)(w)})}let Xr=(()=>{class v{buildTitle(_){let D,N=_.root;for(;void 0!==N;)D=this.getResolvedTitleForRoute(N)??D,N=N.children.find(z=>z.outlet===Pe);return D}getResolvedTitleForRoute(_){return _.data[gt]}static{this.\u0275fac=function(D){return new(D||v)}}static{this.\u0275prov=c.jDH({token:v,factory:()=>(0,c.WQX)(Pi),providedIn:"root"})}}return v})(),Pi=(()=>{class v extends Xr{constructor(_){super(),this.title=_}updateTitle(_){const D=this.buildTitle(_);void 0!==D&&this.title.setTitle(D)}static{this.\u0275fac=function(D){return new(D||v)(c.KVO(Je.hE))}}static{this.\u0275prov=c.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})();const qo=new c.nKC("",{providedIn:"root",factory:()=>({})});let ys=(()=>{class v{static{this.\u0275fac=function(D){return new(D||v)}}static{this.\u0275cmp=c.VBU({type:v,selectors:[["ng-component"]],standalone:!0,features:[c.aNF],decls:1,vars:0,template:function(D,N){1&D&&c.nrm(0,"router-outlet")},dependencies:[Co],encapsulation:2})}}return v})();function bs(v){const w=v.children&&v.children.map(bs),_=w?{...v,children:w}:{...v};return!_.component&&!_.loadComponent&&(w||_.loadChildren)&&_.outlet&&_.outlet!==Pe&&(_.component=ys),_}const zo=new c.nKC("");let ii=(()=>{class v{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.WQX)(c.Ql9)}loadComponent(_){if(this.componentLoaders.get(_))return this.componentLoaders.get(_);if(_._loadedComponent)return(0,G.of)(_._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(_);const D=hn(_.loadComponent()).pipe((0,ke.T)(Ls),(0,ft.M)(z=>{this.onLoadEndListener&&this.onLoadEndListener(_),_._loadedComponent=z}),(0,Me.j)(()=>{this.componentLoaders.delete(_)})),N=new De(D,()=>new Fe.B).pipe(le());return this.componentLoaders.set(_,N),N}loadChildren(_,D){if(this.childrenLoaders.get(D))return this.childrenLoaders.get(D);if(D._loadedRoutes)return(0,G.of)({routes:D._loadedRoutes,injector:D._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(D);const z=function Es(v,w,_,D){return hn(v.loadChildren()).pipe((0,ke.T)(Ls),(0,He.Z)(N=>N instanceof c.Co$||Array.isArray(N)?(0,G.of)(N):(0,U.H)(w.compileModuleAsync(N))),(0,ke.T)(N=>{D&&D(v);let z,oe,Re=!1;return Array.isArray(N)?(oe=N,!0):(z=N.create(_).injector,oe=z.get(zo,[],{optional:!0,self:!0}).flat()),{routes:oe.map(bs),injector:z}}))}(D,this.compiler,_,this.onLoadEndListener).pipe((0,Me.j)(()=>{this.childrenLoaders.delete(D)})),oe=new De(z,()=>new Fe.B).pipe(le());return this.childrenLoaders.set(D,oe),oe}static{this.\u0275fac=function(D){return new(D||v)}}static{this.\u0275prov=c.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})();function Ls(v){return function Js(v){return v&&"object"==typeof v&&"default"in v}(v)?v.default:v}let mo=(()=>{class v{static{this.\u0275fac=function(D){return new(D||v)}}static{this.\u0275prov=c.jDH({token:v,factory:()=>(0,c.WQX)(Zs),providedIn:"root"})}}return v})(),Zs=(()=>{class v{shouldProcessUrl(_){return!0}extract(_){return _}merge(_,D){return _}static{this.\u0275fac=function(D){return new(D||v)}}static{this.\u0275prov=c.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})();const ns=new c.nKC(""),Wo=new c.nKC("");function ji(v,w,_){const D=v.get(Wo),N=v.get(be.qQ);return v.get(c.SKi).runOutsideAngular(()=>{if(!N.startViewTransition||D.skipNextTransition)return D.skipNextTransition=!1,new Promise(at=>setTimeout(at));let z;const oe=new Promise(at=>{z=at}),Re=N.startViewTransition(()=>(z(),function $s(v){return new Promise(w=>{(0,c.mal)({read:()=>setTimeout(w)},{injector:v})})}(v))),{onViewTransitionCreated:Ce}=D;return Ce&&(0,c.N4e)(v,()=>Ce({transition:Re,from:w,to:_})),oe})}const y=new c.nKC("");let j=(()=>{class v{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Fe.B,this.transitionAbortSubject=new Fe.B,this.configLoader=(0,c.WQX)(ii),this.environmentInjector=(0,c.WQX)(c.uvJ),this.urlSerializer=(0,c.WQX)(Fn),this.rootContexts=(0,c.WQX)(wr),this.location=(0,c.WQX)(be.aZ),this.inputBindingEnabled=null!==(0,c.WQX)(zr,{optional:!0}),this.titleStrategy=(0,c.WQX)(Xr),this.options=(0,c.WQX)(qo,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,c.WQX)(mo),this.createViewTransition=(0,c.WQX)(ns,{optional:!0}),this.navigationErrorHandler=(0,c.WQX)(y,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,G.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=N=>this.events.next(new Gn(N)),this.configLoader.onLoadStartListener=N=>this.events.next(new wn(N))}complete(){this.transitions?.complete()}handleNavigationRequest(_){const D=++this.navigationId;this.transitions?.next({...this.transitions.value,..._,id:D})}setupNavigations(_,D,N){return this.transitions=new F.t({id:0,currentUrlTree:D,currentRawUrl:D,extractedUrl:this.urlHandlingStrategy.extract(D),urlAfterRedirects:this.urlHandlingStrategy.extract(D),rawUrl:D,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ae,restoredState:null,currentSnapshot:N.snapshot,targetSnapshot:null,currentRouterState:N,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ke.p)(z=>0!==z.id),(0,ke.T)(z=>({...z,extractedUrl:this.urlHandlingStrategy.extract(z.rawUrl)})),(0,Ze.n)(z=>{let oe=!1,Re=!1;return(0,G.of)(z).pipe((0,Ze.n)(Ce=>{if(this.navigationId>z.id)return this.cancelNavigationTransition(z,"",tt.SupersededByNewNavigation),xe.w;this.currentTransition=z,this.currentNavigation={id:Ce.id,initialUrl:Ce.rawUrl,extractedUrl:Ce.extractedUrl,targetBrowserUrl:"string"==typeof Ce.extras.browserUrl?this.urlSerializer.parse(Ce.extras.browserUrl):Ce.extras.browserUrl,trigger:Ce.source,extras:Ce.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const at=!_.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!at&&"reload"!==(Ce.extras.onSameUrlNavigation??_.onSameUrlNavigation)){const Qt="";return this.events.next(new yn(Ce.id,this.urlSerializer.serialize(Ce.rawUrl),Qt,Tt.IgnoredSameUrlNavigation)),Ce.resolve(!1),xe.w}if(this.urlHandlingStrategy.shouldProcessUrl(Ce.rawUrl))return(0,G.of)(Ce).pipe((0,Ze.n)(Qt=>{const Kn=this.transitions?.getValue();return this.events.next(new We(Qt.id,this.urlSerializer.serialize(Qt.extractedUrl),Qt.source,Qt.restoredState)),Kn!==this.transitions?.getValue()?xe.w:Promise.resolve(Qt)}),function _i(v,w,_,D,N,z){return(0,He.Z)(oe=>function Ns(v,w,_,D,N,z,oe="emptyOnly"){return new as(v,w,_,D,N,oe,z).recognize()}(v,w,_,D,oe.extractedUrl,N,z).pipe((0,ke.T)(({state:Re,tree:Ce})=>({...oe,targetSnapshot:Re,urlAfterRedirects:Ce}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,_.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,ft.M)(Qt=>{z.targetSnapshot=Qt.targetSnapshot,z.urlAfterRedirects=Qt.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Qt.urlAfterRedirects};const Kn=new ln(Qt.id,this.urlSerializer.serialize(Qt.extractedUrl),this.urlSerializer.serialize(Qt.urlAfterRedirects),Qt.targetSnapshot);this.events.next(Kn)}));if(at&&this.urlHandlingStrategy.shouldProcessUrl(Ce.currentRawUrl)){const{id:Qt,extractedUrl:Kn,source:$i,restoredState:ro,extras:Vi}=Ce,No=new We(Qt,this.urlSerializer.serialize(Kn),$i,ro);this.events.next(No);const ws=_t(this.rootComponentType).snapshot;return this.currentTransition=z={...Ce,targetSnapshot:ws,urlAfterRedirects:Kn,extras:{...Vi,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Kn,(0,G.of)(z)}{const Qt="";return this.events.next(new yn(Ce.id,this.urlSerializer.serialize(Ce.extractedUrl),Qt,Tt.IgnoredByUrlHandlingStrategy)),Ce.resolve(!1),xe.w}}),(0,ft.M)(Ce=>{const at=new Pn(Ce.id,this.urlSerializer.serialize(Ce.extractedUrl),this.urlSerializer.serialize(Ce.urlAfterRedirects),Ce.targetSnapshot);this.events.next(at)}),(0,ke.T)(Ce=>(this.currentTransition=z={...Ce,guards:Rr(Ce.targetSnapshot,Ce.currentSnapshot,this.rootContexts)},z)),function A(v,w){return(0,He.Z)(_=>{const{targetSnapshot:D,currentSnapshot:N,guards:{canActivateChecks:z,canDeactivateChecks:oe}}=_;return 0===oe.length&&0===z.length?(0,G.of)({..._,guardsResult:!0}):function x(v,w,_,D){return(0,U.H)(v).pipe((0,He.Z)(N=>function Mo(v,w,_,D,N){const z=w&&w.routeConfig?w.routeConfig.canDeactivate:null;if(!z||0===z.length)return(0,G.of)(!0);const oe=z.map(Re=>{const Ce=Er(w)??N,at=eo(Re,Ce);return hn(function is(v){return v&&ho(v.canDeactivate)}(at)?at.canDeactivate(v,w,_,D):(0,c.N4e)(Ce,()=>at(v,w,_,D))).pipe((0,vt.$)())});return(0,G.of)(oe).pipe(To())}(N.component,N.route,_,w,D)),(0,vt.$)(N=>!0!==N,!0))}(oe,D,N,v).pipe((0,He.Z)(Re=>Re&&function Yi(v){return"boolean"==typeof v}(Re)?function H(v,w,_,D){return(0,U.H)(w).pipe((0,dt.H)(N=>(0,fe.x)(function ze(v,w){return null!==v&&w&&w(new Dt(v)),(0,G.of)(!0)}(N.route.parent,D),function ue(v,w){return null!==v&&w&&w(new gr(v)),(0,G.of)(!0)}(N.route,D),function po(v,w,_){const D=w[w.length-1],z=w.slice(0,w.length-1).reverse().map(oe=>function zi(v){const w=v.routeConfig?v.routeConfig.canActivateChild:null;return w&&0!==w.length?{node:v,guards:w}:null}(oe)).filter(oe=>null!==oe).map(oe=>(0,te.v)(()=>{const Re=oe.guards.map(Ce=>{const at=Er(oe.node)??_,$t=eo(Ce,at);return hn(function ni(v){return v&&ho(v.canActivateChild)}($t)?$t.canActivateChild(D,v):(0,c.N4e)(at,()=>$t(D,v))).pipe((0,vt.$)())});return(0,G.of)(Re).pipe(To())}));return(0,G.of)(z).pipe(To())}(v,N.path,_),function Bt(v,w,_){const D=w.routeConfig?w.routeConfig.canActivate:null;if(!D||0===D.length)return(0,G.of)(!0);const N=D.map(z=>(0,te.v)(()=>{const oe=Er(w)??_,Re=eo(z,oe);return hn(function Xi(v){return v&&ho(v.canActivate)}(Re)?Re.canActivate(w,v):(0,c.N4e)(oe,()=>Re(w,v))).pipe((0,vt.$)())}));return(0,G.of)(N).pipe(To())}(v,N.route,_))),(0,vt.$)(N=>!0!==N,!0))}(D,z,v,w):(0,G.of)(Re)),(0,ke.T)(Re=>({..._,guardsResult:Re})))})}(this.environmentInjector,Ce=>this.events.next(Ce)),(0,ft.M)(Ce=>{if(z.guardsResult=Ce.guardsResult,Ce.guardsResult&&"boolean"!=typeof Ce.guardsResult)throw gi(0,Ce.guardsResult);const at=new $n(Ce.id,this.urlSerializer.serialize(Ce.extractedUrl),this.urlSerializer.serialize(Ce.urlAfterRedirects),Ce.targetSnapshot,!!Ce.guardsResult);this.events.next(at)}),(0,Ke.p)(Ce=>!!Ce.guardsResult||(this.cancelNavigationTransition(Ce,"",tt.GuardRejected),!1)),Oi(Ce=>{if(Ce.guards.canActivateChecks.length)return(0,G.of)(Ce).pipe((0,ft.M)(at=>{const $t=new qn(at.id,this.urlSerializer.serialize(at.extractedUrl),this.urlSerializer.serialize(at.urlAfterRedirects),at.targetSnapshot);this.events.next($t)}),(0,Ze.n)(at=>{let $t=!1;return(0,G.of)(at).pipe(function Qs(v,w){return(0,He.Z)(_=>{const{targetSnapshot:D,guards:{canActivateChecks:N}}=_;if(!N.length)return(0,G.of)(_);const z=new Set(N.map(Ce=>Ce.route)),oe=new Set;for(const Ce of z)if(!oe.has(Ce))for(const at of ts(Ce))oe.add(at);let Re=0;return(0,U.H)(oe).pipe((0,dt.H)(Ce=>z.has(Ce)?function us(v,w,_,D){const N=v.routeConfig,z=v._resolve;return void 0!==N?.title&&!ti(N)&&(z[gt]=N.title),function js(v,w,_,D){const N=xn(v);if(0===N.length)return(0,G.of)({});const z={};return(0,U.H)(N).pipe((0,He.Z)(oe=>function ls(v,w,_,D){const N=Er(w)??D,z=eo(v,N);return hn(z.resolve?z.resolve(w,_):(0,c.N4e)(N,()=>z(w,_)))}(v[oe],w,_,D).pipe((0,vt.$)(),(0,ft.M)(Re=>{if(Re instanceof Wr)throw gi(new nn,Re);z[oe]=Re}))),St(1),function Se(v){return(0,ke.T)(()=>v)}(z),(0,Pt.W)(oe=>Ki(oe)?xe.w:(0,Le.$)(oe)))}(z,v,w,D).pipe((0,ke.T)(oe=>(v._resolvedData=oe,v.data=co(v,v.parent,_).resolve,null)))}(Ce,D,v,w):(Ce.data=co(Ce,Ce.parent,v).resolve,(0,G.of)(void 0))),(0,ft.M)(()=>Re++),St(1),(0,He.Z)(Ce=>Re===oe.size?(0,G.of)(_):xe.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,ft.M)({next:()=>$t=!0,complete:()=>{$t||this.cancelNavigationTransition(at,"",tt.NoDataFromResolver)}}))}),(0,ft.M)(at=>{const $t=new Ut(at.id,this.urlSerializer.serialize(at.extractedUrl),this.urlSerializer.serialize(at.urlAfterRedirects),at.targetSnapshot);this.events.next($t)}))}),Oi(Ce=>{const at=$t=>{const Qt=[];$t.routeConfig?.loadComponent&&!$t.routeConfig._loadedComponent&&Qt.push(this.configLoader.loadComponent($t.routeConfig).pipe((0,ft.M)(Kn=>{$t.component=Kn}),(0,ke.T)(()=>{})));for(const Kn of $t.children)Qt.push(...at(Kn));return Qt};return(0,J.z)(at(Ce.targetSnapshot.root)).pipe((0,jt.U)(null),(0,pt.s)(1))}),Oi(()=>this.afterPreactivation()),(0,Ze.n)(()=>{const{currentSnapshot:Ce,targetSnapshot:at}=z,$t=this.createViewTransition?.(this.environmentInjector,Ce.root,at.root);return $t?(0,U.H)($t).pipe((0,ke.T)(()=>z)):(0,G.of)(z)}),(0,ke.T)(Ce=>{const at=function Do(v,w,_){const D=Cn(v,w._root,_?_._root:void 0);return new hi(D,w)}(_.routeReuseStrategy,Ce.targetSnapshot,Ce.currentRouterState);return this.currentTransition=z={...Ce,targetRouterState:at},this.currentNavigation.targetRouterState=at,z}),(0,ft.M)(()=>{this.events.next(new Uo)}),((v,w,_,D)=>(0,ke.T)(N=>(new qi(w,N.targetRouterState,N.currentRouterState,_,D).activate(v),N)))(this.rootContexts,_.routeReuseStrategy,Ce=>this.events.next(Ce),this.inputBindingEnabled),(0,pt.s)(1),(0,ft.M)({next:Ce=>{oe=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Qe(Ce.id,this.urlSerializer.serialize(Ce.extractedUrl),this.urlSerializer.serialize(Ce.urlAfterRedirects))),this.titleStrategy?.updateTitle(Ce.targetRouterState.snapshot),Ce.resolve(!0)},complete:()=>{oe=!0}}),(0,Oe.Q)(this.transitionAbortSubject.pipe((0,ft.M)(Ce=>{throw Ce}))),(0,Me.j)(()=>{!oe&&!Re&&this.cancelNavigationTransition(z,"",tt.SupersededByNewNavigation),this.currentTransition?.id===z.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,Pt.W)(Ce=>{if(Re=!0,Ar(Ce))this.events.next(new yt(z.id,this.urlSerializer.serialize(z.extractedUrl),Ce.message,Ce.cancellationCode)),function Vn(v){return Ar(v)&&Un(v.url)}(Ce)?this.events.next(new lo(Ce.url,Ce.navigationBehaviorOptions)):z.resolve(!1);else{const at=new pn(z.id,this.urlSerializer.serialize(z.extractedUrl),Ce,z.targetSnapshot??void 0);try{const $t=(0,c.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(at));if($t instanceof Wr){const{message:Qt,cancellationCode:Kn}=gi(0,$t);this.events.next(new yt(z.id,this.urlSerializer.serialize(z.extractedUrl),Qt,Kn)),this.events.next(new lo($t.redirectTo,$t.navigationBehaviorOptions))}else{this.events.next(at);const Qt=_.errorHandler(Ce);z.resolve(!!Qt)}}catch($t){this.options.resolveNavigationPromiseOnError?z.resolve(!1):z.reject($t)}}return xe.w}))}))}cancelNavigationTransition(_,D,N){const z=new yt(_.id,this.urlSerializer.serialize(_.extractedUrl),D,N);this.events.next(z),_.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const _=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),D=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return _.toString()!==D?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(D){return new(D||v)}}static{this.\u0275prov=c.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})();function I(v){return v!==ae}let P=(()=>{class v{static{this.\u0275fac=function(D){return new(D||v)}}static{this.\u0275prov=c.jDH({token:v,factory:()=>(0,c.WQX)(Ne),providedIn:"root"})}}return v})();class ne{shouldDetach(w){return!1}store(w,_){}shouldAttach(w){return!1}retrieve(w){return null}shouldReuseRoute(w,_){return w.routeConfig===_.routeConfig}}let Ne=(()=>{class v extends ne{static{this.\u0275fac=(()=>{let _;return function(N){return(_||(_=c.xGo(v)))(N||v)}})()}static{this.\u0275prov=c.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})(),Ue=(()=>{class v{static{this.\u0275fac=function(D){return new(D||v)}}static{this.\u0275prov=c.jDH({token:v,factory:()=>(0,c.WQX)(mt),providedIn:"root"})}}return v})(),mt=(()=>{class v extends Ue{constructor(){super(...arguments),this.location=(0,c.WQX)(be.aZ),this.urlSerializer=(0,c.WQX)(Fn),this.options=(0,c.WQX)(qo,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,c.WQX)(mo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new tn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=_t(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(_){return this.location.subscribe(D=>{"popstate"===D.type&&_(D.url,D.state)})}handleRouterEvent(_,D){if(_ instanceof We)this.stateMemento=this.createStateMemento();else if(_ instanceof yn)this.rawUrlTree=D.initialUrl;else if(_ instanceof ln){if("eager"===this.urlUpdateStrategy&&!D.extras.skipLocationChange){const N=this.urlHandlingStrategy.merge(D.finalUrl,D.initialUrl);this.setBrowserUrl(D.targetBrowserUrl??N,D)}}else _ instanceof Uo?(this.currentUrlTree=D.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(D.finalUrl,D.initialUrl),this.routerState=D.targetRouterState,"deferred"===this.urlUpdateStrategy&&!D.extras.skipLocationChange&&this.setBrowserUrl(D.targetBrowserUrl??this.rawUrlTree,D)):_ instanceof yt&&(_.code===tt.GuardRejected||_.code===tt.NoDataFromResolver)?this.restoreHistory(D):_ instanceof pn?this.restoreHistory(D,!0):_ instanceof Qe&&(this.lastSuccessfulId=_.id,this.currentPageId=this.browserPageId)}setBrowserUrl(_,D){const N=_ instanceof tn?this.urlSerializer.serialize(_):_;if(this.location.isCurrentPathEqualTo(N)||D.extras.replaceUrl){const oe={...D.extras.state,...this.generateNgRouterState(D.id,this.browserPageId)};this.location.replaceState(N,"",oe)}else{const z={...D.extras.state,...this.generateNgRouterState(D.id,this.browserPageId+1)};this.location.go(N,"",z)}}restoreHistory(_,D=!1){if("computed"===this.canceledNavigationResolution){const z=this.currentPageId-this.browserPageId;0!==z?this.location.historyGo(z):this.currentUrlTree===_.finalUrl&&0===z&&(this.resetState(_),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(D&&this.resetState(_),this.resetUrlToCurrentUrlTree())}resetState(_){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(_,D){return"computed"===this.canceledNavigationResolution?{navigationId:_,\u0275routerPageId:D}:{navigationId:_}}static{this.\u0275fac=(()=>{let _;return function(N){return(_||(_=c.xGo(v)))(N||v)}})()}static{this.\u0275prov=c.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})();var cn=function(v){return v[v.COMPLETE=0]="COMPLETE",v[v.FAILED=1]="FAILED",v[v.REDIRECTING=2]="REDIRECTING",v}(cn||{});function Nn(v,w){v.events.pipe((0,Ke.p)(_=>_ instanceof Qe||_ instanceof yt||_ instanceof pn||_ instanceof yn),(0,ke.T)(_=>_ instanceof Qe||_ instanceof yn?cn.COMPLETE:_ instanceof yt&&(_.code===tt.Redirect||_.code===tt.SupersededByNewNavigation)?cn.REDIRECTING:cn.FAILED),(0,Ke.p)(_=>_!==cn.REDIRECTING),(0,pt.s)(1)).subscribe(()=>{w()})}function Mn(v){throw v}const sn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},C={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let d=(()=>{class v{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,c.WQX)(c.H3F),this.stateManager=(0,c.WQX)(Ue),this.options=(0,c.WQX)(qo,{optional:!0})||{},this.pendingTasks=(0,c.WQX)(c.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,c.WQX)(j),this.urlSerializer=(0,c.WQX)(Fn),this.location=(0,c.WQX)(be.aZ),this.urlHandlingStrategy=(0,c.WQX)(mo),this._events=new Fe.B,this.errorHandler=this.options.errorHandler||Mn,this.navigated=!1,this.routeReuseStrategy=(0,c.WQX)(P),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,c.WQX)(zo,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,c.WQX)(zr,{optional:!0}),this.eventsSubscription=new Xe.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:_=>{this.console.warn(_)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const _=this.navigationTransitions.events.subscribe(D=>{try{const N=this.navigationTransitions.currentTransition,z=this.navigationTransitions.currentNavigation;if(null!==N&&null!==z)if(this.stateManager.handleRouterEvent(D,z),D instanceof yt&&D.code!==tt.Redirect&&D.code!==tt.SupersededByNewNavigation)this.navigated=!0;else if(D instanceof Qe)this.navigated=!0;else if(D instanceof lo){const oe=D.navigationBehaviorOptions,Re=this.urlHandlingStrategy.merge(D.url,N.currentRawUrl),Ce={browserUrl:N.extras.browserUrl,info:N.extras.info,skipLocationChange:N.extras.skipLocationChange,replaceUrl:N.extras.replaceUrl||"eager"===this.urlUpdateStrategy||I(N.source),...oe};this.scheduleNavigation(Re,ae,null,Ce,{resolve:N.resolve,reject:N.reject,promise:N.promise})}(function f(v){return!(v instanceof Uo||v instanceof lo)})(D)&&this._events.next(D)}catch(N){this.navigationTransitions.transitionAbortSubject.next(N)}});this.eventsSubscription.add(_)}resetRootComponentType(_){this.routerState.root.component=_,this.navigationTransitions.rootComponentType=_}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ae,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((_,D)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(_,"popstate",D)},0)})}navigateToSyncWithBrowser(_,D,N){const z={replaceUrl:!0},oe=N?.navigationId?N:null;if(N){const Ce={...N};delete Ce.navigationId,delete Ce.\u0275routerPageId,0!==Object.keys(Ce).length&&(z.state=Ce)}const Re=this.parseUrl(_);this.scheduleNavigation(Re,D,oe,z)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(_){this.config=_.map(bs),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(_,D={}){const{relativeTo:N,queryParams:z,fragment:oe,queryParamsHandling:Re,preserveFragment:Ce}=D,at=Ce?this.currentUrlTree.fragment:oe;let Qt,$t=null;switch(Re??this.options.defaultQueryParamsHandling){case"merge":$t={...this.currentUrlTree.queryParams,...z};break;case"preserve":$t=this.currentUrlTree.queryParams;break;default:$t=z||null}null!==$t&&($t=this.removeEmptyProps($t));try{Qt=Lo(N?N.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof _[0]||"/"!==_[0][0])&&(_=[]),Qt=this.currentUrlTree.root}return Fi(Qt,_,$t,at??null)}navigateByUrl(_,D={skipLocationChange:!1}){const N=Un(_)?_:this.parseUrl(_),z=this.urlHandlingStrategy.merge(N,this.rawUrlTree);return this.scheduleNavigation(z,ae,null,D)}navigate(_,D={skipLocationChange:!1}){return function u(v){for(let w=0;w<v.length;w++)if(null==v[w])throw new c.wOt(4008,!1)}(_),this.navigateByUrl(this.createUrlTree(_,D),D)}serializeUrl(_){return this.urlSerializer.serialize(_)}parseUrl(_){try{return this.urlSerializer.parse(_)}catch{return this.urlSerializer.parse("/")}}isActive(_,D){let N;if(N=!0===D?{...sn}:!1===D?{...C}:D,Un(_))return tr(this.currentUrlTree,_,N);const z=this.parseUrl(_);return tr(this.currentUrlTree,z,N)}removeEmptyProps(_){return Object.entries(_).reduce((D,[N,z])=>(null!=z&&(D[N]=z),D),{})}scheduleNavigation(_,D,N,z,oe){if(this.disposed)return Promise.resolve(!1);let Re,Ce,at;oe?(Re=oe.resolve,Ce=oe.reject,at=oe.promise):at=new Promise((Qt,Kn)=>{Re=Qt,Ce=Kn});const $t=this.pendingTasks.add();return Nn(this,()=>{queueMicrotask(()=>this.pendingTasks.remove($t))}),this.navigationTransitions.handleNavigationRequest({source:D,restoredState:N,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:_,extras:z,resolve:Re,reject:Ce,promise:at,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),at.catch(Qt=>Promise.reject(Qt))}static{this.\u0275fac=function(D){return new(D||v)}}static{this.\u0275prov=c.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})(),E=(()=>{class v{constructor(_,D,N,z,oe,Re){this.router=_,this.route=D,this.tabIndexAttribute=N,this.renderer=z,this.el=oe,this.locationStrategy=Re,this.href=null,this.onChanges=new Fe.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const Ce=oe.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Ce||"area"===Ce,this.isAnchorElement?this.subscription=_.events.subscribe(at=>{at instanceof Qe&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(_){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",_)}ngOnChanges(_){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(_){null==_?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=Un(_)||Array.isArray(_)?_:[_],this.setTabIndexIfNotOnNativeEl("0"))}onClick(_,D,N,z,oe){const Re=this.urlTree;return!!(null===Re||this.isAnchorElement&&(0!==_||D||N||z||oe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(Re,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const _=this.urlTree;this.href=null!==_&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(_)):null;const D=null===this.href?null:(0,c.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",D)}applyAttributeValue(_,D){const N=this.renderer,z=this.el.nativeElement;null!==D?N.setAttribute(z,_,D):N.removeAttribute(z,_)}get urlTree(){return null===this.routerLinkInput?null:Un(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(D){return new(D||v)(c.rXU(d),c.rXU(yr),c.kS0("tabindex"),c.rXU(c.sFG),c.rXU(c.aKT),c.rXU(be.hb))}}static{this.\u0275dir=c.FsC({type:v,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(D,N){1&D&&c.bIt("click",function(oe){return N.onClick(oe.button,oe.ctrlKey,oe.shiftKey,oe.altKey,oe.metaKey)}),2&D&&c.BMQ("target",N.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",c.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",c.L39],replaceUrl:[2,"replaceUrl","replaceUrl",c.L39],routerLink:"routerLink"},standalone:!0,features:[c.GFd,c.OA$]})}}return v})(),S=(()=>{class v{get isActive(){return this._isActive}constructor(_,D,N,z,oe){this.router=_,this.element=D,this.renderer=N,this.cdr=z,this.link=oe,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new c.bkB,this.routerEventsSubscription=_.events.subscribe(Re=>{Re instanceof Qe&&this.update()})}ngAfterContentInit(){(0,G.of)(this.links.changes,(0,G.of)(null)).pipe((0,Ae.U)()).subscribe(_=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const _=[...this.links.toArray(),this.link].filter(D=>!!D).map(D=>D.onChanges);this.linkInputChangesSubscription=(0,U.H)(_).pipe((0,Ae.U)()).subscribe(D=>{this._isActive!==this.isLinkActive(this.router)(D)&&this.update()})}set routerLinkActive(_){const D=Array.isArray(_)?_:_.split(" ");this.classes=D.filter(N=>!!N)}ngOnChanges(_){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const _=this.hasActiveLinks();this.classes.forEach(D=>{_?this.renderer.addClass(this.element.nativeElement,D):this.renderer.removeClass(this.element.nativeElement,D)}),_&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==_&&(this._isActive=_,this.cdr.markForCheck(),this.isActiveChange.emit(_))})}isLinkActive(_){const D=function R(v){return!!v.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return N=>{const z=N.urlTree;return!!z&&_.isActive(z,D)}}hasActiveLinks(){const _=this.isLinkActive(this.router);return this.link&&_(this.link)||this.links.some(_)}static{this.\u0275fac=function(D){return new(D||v)(c.rXU(d),c.rXU(c.aKT),c.rXU(c.sFG),c.rXU(c.gRc),c.rXU(E,8))}}static{this.\u0275dir=c.FsC({type:v,selectors:[["","routerLinkActive",""]],contentQueries:function(D,N,z){if(1&D&&c.wni(z,E,5),2&D){let oe;c.mGM(oe=c.lsd())&&(N.links=oe)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[c.OA$]})}}return v})();class ${}let re=(()=>{class v{constructor(_,D,N,z,oe){this.router=_,this.injector=N,this.preloadingStrategy=z,this.loader=oe}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ke.p)(_=>_ instanceof Qe),(0,dt.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(_,D){const N=[];for(const z of D){z.providers&&!z._injector&&(z._injector=(0,c.Ol2)(z.providers,_,`Route: ${z.path}`));const oe=z._injector??_,Re=z._loadedInjector??oe;(z.loadChildren&&!z._loadedRoutes&&void 0===z.canLoad||z.loadComponent&&!z._loadedComponent)&&N.push(this.preloadConfig(oe,z)),(z.children||z._loadedRoutes)&&N.push(this.processRoutes(Re,z.children??z._loadedRoutes))}return(0,U.H)(N).pipe((0,Ae.U)())}preloadConfig(_,D){return this.preloadingStrategy.preload(D,()=>{let N;N=D.loadChildren&&void 0===D.canLoad?this.loader.loadChildren(_,D):(0,G.of)(null);const z=N.pipe((0,He.Z)(oe=>null===oe?(0,G.of)(void 0):(D._loadedRoutes=oe.routes,D._loadedInjector=oe.injector,this.processRoutes(oe.injector??_,oe.routes))));if(D.loadComponent&&!D._loadedComponent){const oe=this.loader.loadComponent(D);return(0,U.H)([z,oe]).pipe((0,Ae.U)())}return z})}static{this.\u0275fac=function(D){return new(D||v)(c.KVO(d),c.KVO(c.Ql9),c.KVO(c.uvJ),c.KVO($),c.KVO(ii))}}static{this.\u0275prov=c.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})();const we=new c.nKC("");let ye=(()=>{class v{constructor(_,D,N,z,oe={}){this.urlSerializer=_,this.transitions=D,this.viewportScroller=N,this.zone=z,this.options=oe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},oe.scrollPositionRestoration||="disabled",oe.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(_=>{_ instanceof We?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=_.navigationTrigger,this.restoredId=_.restoredState?_.restoredState.navigationId:0):_ instanceof Qe?(this.lastId=_.id,this.scheduleScrollEvent(_,this.urlSerializer.parse(_.urlAfterRedirects).fragment)):_ instanceof yn&&_.code===Tt.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(_,this.urlSerializer.parse(_.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(_=>{_ instanceof uo&&(_.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(_.position):_.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(_.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(_,D){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new uo(_,"popstate"===this.lastSource?this.store[this.restoredId]:null,D))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(D){c.QTQ()}}static{this.\u0275prov=c.jDH({token:v,factory:v.\u0275fac})}}return v})();function Ye(v,...w){return(0,c.EmA)([{provide:zo,multi:!0,useValue:v},[],{provide:yr,useFactory:Be,deps:[d]},{provide:c.iLQ,multi:!0,useFactory:Et},w.map(_=>_.\u0275providers)])}function Be(v){return v.routerState.root}function it(v,w){return{\u0275kind:v,\u0275providers:w}}function Et(){const v=(0,c.WQX)(c.zZn);return w=>{const _=v.get(c.o8S);if(w!==_.components[0])return;const D=v.get(d),N=v.get(xt);1===v.get(bn)&&D.initialNavigation(),v.get(Ro,null,c.$GK.Optional)?.setUpPreloading(),v.get(we,null,c.$GK.Optional)?.init(),D.resetRootComponentType(_.componentTypes[0]),N.closed||(N.next(),N.complete(),N.unsubscribe())}}const xt=new c.nKC("",{factory:()=>new Fe.B}),bn=new c.nKC("",{providedIn:"root",factory:()=>1}),Ro=new c.nKC("");function no(v){return it(0,[{provide:Ro,useExisting:re},{provide:$,useExisting:v}])}function cs(v){return it(9,[{provide:ns,useValue:ji},{provide:Wo,useValue:{skipNextTransition:!!v?.skipInitialTransition,...v}}])}const Or=new c.nKC("ROUTER_FORROOT_GUARD"),ha=[be.aZ,{provide:Fn,useClass:nn},d,wr,{provide:yr,useFactory:Be,deps:[d]},ii,[]];let ds=(()=>{class v{constructor(_){}static forRoot(_,D){return{ngModule:v,providers:[ha,[],{provide:zo,multi:!0,useValue:_},{provide:Or,useFactory:La,deps:[[d,new c.Xx1,new c.kdw]]},{provide:qo,useValue:D||{}},D?.useHash?{provide:be.hb,useClass:be.fw}:{provide:be.hb,useClass:be.Sm},{provide:we,useFactory:()=>{const v=(0,c.WQX)(be.Xr),w=(0,c.WQX)(c.SKi),_=(0,c.WQX)(qo),D=(0,c.WQX)(j),N=(0,c.WQX)(Fn);return _.scrollOffset&&v.setOffset(_.scrollOffset),new ye(N,D,v,w,_)}},D?.preloadingStrategy?no(D.preloadingStrategy).\u0275providers:[],D?.initialNavigation?Mu(D):[],D?.bindToComponentInputs?it(8,[zn,{provide:zr,useExisting:zn}]).\u0275providers:[],D?.enableViewTransitions?cs().\u0275providers:[],[{provide:ta,useFactory:Et},{provide:c.iLQ,multi:!0,useExisting:ta}]]}}static forChild(_){return{ngModule:v,providers:[{provide:zo,multi:!0,useValue:_}]}}static{this.\u0275fac=function(D){return new(D||v)(c.KVO(Or,8))}}static{this.\u0275mod=c.$C({type:v})}static{this.\u0275inj=c.G2t({})}}return v})();function La(v){return"guarded"}function Mu(v){return["disabled"===v.initialNavigation?it(3,[{provide:c.hnV,multi:!0,useFactory:()=>{const w=(0,c.WQX)(d);return()=>{w.setUpLocationChangeListener()}}},{provide:bn,useValue:2}]).\u0275providers:[],"enabledBlocking"===v.initialNavigation?it(2,[{provide:bn,useValue:0},{provide:c.hnV,multi:!0,deps:[c.zZn],useFactory:w=>{const _=w.get(be.hj,Promise.resolve());return()=>_.then(()=>new Promise(D=>{const N=w.get(d),z=w.get(xt);Nn(N,()=>{D(!0)}),w.get(j).afterPreactivation=()=>(D(!0),z.closed?(0,G.of)(void 0):z),N.initialNavigation()}))}}]).\u0275providers:[]]}const ta=new c.nKC("")},467:(ot,_e,M)=>{"use strict";function c(Z,e,U,G,F,J,me){try{var fe=Z[J](me),te=fe.value}catch(ge){return void U(ge)}fe.done?e(te):Promise.resolve(te).then(G,F)}function V(Z){return function(){var e=this,U=arguments;return new Promise(function(G,F){var J=Z.apply(e,U);function me(te){c(J,G,F,me,fe,"next",te)}function fe(te){c(J,G,F,me,fe,"throw",te)}me(void 0)})}}M.d(_e,{A:()=>V})},1635:(ot,_e,M)=>{"use strict";M.r(_e),M.d(_e,{__addDisposableResource:()=>jt,__assign:()=>Z,__asyncDelegator:()=>Ze,__asyncGenerator:()=>ke,__asyncValues:()=>pt,__await:()=>be,__awaiter:()=>ge,__classPrivateFieldGet:()=>ft,__classPrivateFieldIn:()=>Sn,__classPrivateFieldSet:()=>Pt,__createBinding:()=>xe,__decorate:()=>U,__disposeResources:()=>dr,__esDecorate:()=>F,__exportStar:()=>Xe,__extends:()=>V,__generator:()=>Le,__importDefault:()=>dt,__importStar:()=>vt,__makeTemplateObject:()=>$e,__metadata:()=>te,__param:()=>G,__propKey:()=>me,__read:()=>K,__rest:()=>e,__rewriteRelativeImportExtension:()=>fr,__runInitializers:()=>J,__setFunctionName:()=>fe,__spread:()=>le,__spreadArray:()=>Fe,__spreadArrays:()=>De,__values:()=>W,default:()=>mn});var c=function(Se,Me){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Oe,Ae){Oe.__proto__=Ae}||function(Oe,Ae){for(var Je in Ae)Object.prototype.hasOwnProperty.call(Ae,Je)&&(Oe[Je]=Ae[Je])})(Se,Me)};function V(Se,Me){if("function"!=typeof Me&&null!==Me)throw new TypeError("Class extends value "+String(Me)+" is not a constructor or null");function Oe(){this.constructor=Se}c(Se,Me),Se.prototype=null===Me?Object.create(Me):(Oe.prototype=Me.prototype,new Oe)}var Z=function(){return Z=Object.assign||function(Me){for(var Oe,Ae=1,Je=arguments.length;Ae<Je;Ae++)for(var Pe in Oe=arguments[Ae])Object.prototype.hasOwnProperty.call(Oe,Pe)&&(Me[Pe]=Oe[Pe]);return Me},Z.apply(this,arguments)};function e(Se,Me){var Oe={};for(var Ae in Se)Object.prototype.hasOwnProperty.call(Se,Ae)&&Me.indexOf(Ae)<0&&(Oe[Ae]=Se[Ae]);if(null!=Se&&"function"==typeof Object.getOwnPropertySymbols){var Je=0;for(Ae=Object.getOwnPropertySymbols(Se);Je<Ae.length;Je++)Me.indexOf(Ae[Je])<0&&Object.prototype.propertyIsEnumerable.call(Se,Ae[Je])&&(Oe[Ae[Je]]=Se[Ae[Je]])}return Oe}function U(Se,Me,Oe,Ae){var gt,Je=arguments.length,Pe=Je<3?Me:null===Ae?Ae=Object.getOwnPropertyDescriptor(Me,Oe):Ae;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Pe=Reflect.decorate(Se,Me,Oe,Ae);else for(var un=Se.length-1;un>=0;un--)(gt=Se[un])&&(Pe=(Je<3?gt(Pe):Je>3?gt(Me,Oe,Pe):gt(Me,Oe))||Pe);return Je>3&&Pe&&Object.defineProperty(Me,Oe,Pe),Pe}function G(Se,Me){return function(Oe,Ae){Me(Oe,Ae,Se)}}function F(Se,Me,Oe,Ae,Je,Pe){function gt(et){if(void 0!==et&&"function"!=typeof et)throw new TypeError("Function expected");return et}for(var At,un=Ae.kind,En="getter"===un?"get":"setter"===un?"set":"value",It=!Me&&Se?Ae.static?Se:Se.prototype:null,gn=Me||(It?Object.getOwnPropertyDescriptor(It,Ae.name):{}),xn=!1,fn=Oe.length-1;fn>=0;fn--){var Zt={};for(var hn in Ae)Zt[hn]="access"===hn?{}:Ae[hn];for(var hn in Ae.access)Zt.access[hn]=Ae.access[hn];Zt.addInitializer=function(et){if(xn)throw new TypeError("Cannot add initializers after decoration has completed");Pe.push(gt(et||null))};var Wn=(0,Oe[fn])("accessor"===un?{get:gn.get,set:gn.set}:gn[En],Zt);if("accessor"===un){if(void 0===Wn)continue;if(null===Wn||"object"!=typeof Wn)throw new TypeError("Object expected");(At=gt(Wn.get))&&(gn.get=At),(At=gt(Wn.set))&&(gn.set=At),(At=gt(Wn.init))&&Je.unshift(At)}else(At=gt(Wn))&&("field"===un?Je.unshift(At):gn[En]=At)}It&&Object.defineProperty(It,Ae.name,gn),xn=!0}function J(Se,Me,Oe){for(var Ae=arguments.length>2,Je=0;Je<Me.length;Je++)Oe=Ae?Me[Je].call(Se,Oe):Me[Je].call(Se);return Ae?Oe:void 0}function me(Se){return"symbol"==typeof Se?Se:"".concat(Se)}function fe(Se,Me,Oe){return"symbol"==typeof Me&&(Me=Me.description?"[".concat(Me.description,"]"):""),Object.defineProperty(Se,"name",{configurable:!0,value:Oe?"".concat(Oe," ",Me):Me})}function te(Se,Me){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(Se,Me)}function ge(Se,Me,Oe,Ae){return new(Oe||(Oe=Promise))(function(Pe,gt){function un(gn){try{It(Ae.next(gn))}catch(At){gt(At)}}function En(gn){try{It(Ae.throw(gn))}catch(At){gt(At)}}function It(gn){gn.done?Pe(gn.value):function Je(Pe){return Pe instanceof Oe?Pe:new Oe(function(gt){gt(Pe)})}(gn.value).then(un,En)}It((Ae=Ae.apply(Se,Me||[])).next())})}function Le(Se,Me){var Ae,Je,Pe,Oe={label:0,sent:function(){if(1&Pe[0])throw Pe[1];return Pe[1]},trys:[],ops:[]},gt=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return gt.next=un(0),gt.throw=un(1),gt.return=un(2),"function"==typeof Symbol&&(gt[Symbol.iterator]=function(){return this}),gt;function un(It){return function(gn){return function En(It){if(Ae)throw new TypeError("Generator is already executing.");for(;gt&&(gt=0,It[0]&&(Oe=0)),Oe;)try{if(Ae=1,Je&&(Pe=2&It[0]?Je.return:It[0]?Je.throw||((Pe=Je.return)&&Pe.call(Je),0):Je.next)&&!(Pe=Pe.call(Je,It[1])).done)return Pe;switch(Je=0,Pe&&(It=[2&It[0],Pe.value]),It[0]){case 0:case 1:Pe=It;break;case 4:return Oe.label++,{value:It[1],done:!1};case 5:Oe.label++,Je=It[1],It=[0];continue;case 7:It=Oe.ops.pop(),Oe.trys.pop();continue;default:if(!(Pe=(Pe=Oe.trys).length>0&&Pe[Pe.length-1])&&(6===It[0]||2===It[0])){Oe=0;continue}if(3===It[0]&&(!Pe||It[1]>Pe[0]&&It[1]<Pe[3])){Oe.label=It[1];break}if(6===It[0]&&Oe.label<Pe[1]){Oe.label=Pe[1],Pe=It;break}if(Pe&&Oe.label<Pe[2]){Oe.label=Pe[2],Oe.ops.push(It);break}Pe[2]&&Oe.ops.pop(),Oe.trys.pop();continue}It=Me.call(Se,Oe)}catch(gn){It=[6,gn],Je=0}finally{Ae=Pe=0}if(5&It[0])throw It[1];return{value:It[0]?It[1]:void 0,done:!0}}([It,gn])}}}var xe=Object.create?function(Se,Me,Oe,Ae){void 0===Ae&&(Ae=Oe);var Je=Object.getOwnPropertyDescriptor(Me,Oe);(!Je||("get"in Je?!Me.__esModule:Je.writable||Je.configurable))&&(Je={enumerable:!0,get:function(){return Me[Oe]}}),Object.defineProperty(Se,Ae,Je)}:function(Se,Me,Oe,Ae){void 0===Ae&&(Ae=Oe),Se[Ae]=Me[Oe]};function Xe(Se,Me){for(var Oe in Se)"default"!==Oe&&!Object.prototype.hasOwnProperty.call(Me,Oe)&&xe(Me,Se,Oe)}function W(Se){var Me="function"==typeof Symbol&&Symbol.iterator,Oe=Me&&Se[Me],Ae=0;if(Oe)return Oe.call(Se);if(Se&&"number"==typeof Se.length)return{next:function(){return Se&&Ae>=Se.length&&(Se=void 0),{value:Se&&Se[Ae++],done:!Se}}};throw new TypeError(Me?"Object is not iterable.":"Symbol.iterator is not defined.")}function K(Se,Me){var Oe="function"==typeof Symbol&&Se[Symbol.iterator];if(!Oe)return Se;var Je,gt,Ae=Oe.call(Se),Pe=[];try{for(;(void 0===Me||Me-- >0)&&!(Je=Ae.next()).done;)Pe.push(Je.value)}catch(un){gt={error:un}}finally{try{Je&&!Je.done&&(Oe=Ae.return)&&Oe.call(Ae)}finally{if(gt)throw gt.error}}return Pe}function le(){for(var Se=[],Me=0;Me<arguments.length;Me++)Se=Se.concat(K(arguments[Me]));return Se}function De(){for(var Se=0,Me=0,Oe=arguments.length;Me<Oe;Me++)Se+=arguments[Me].length;var Ae=Array(Se),Je=0;for(Me=0;Me<Oe;Me++)for(var Pe=arguments[Me],gt=0,un=Pe.length;gt<un;gt++,Je++)Ae[Je]=Pe[gt];return Ae}function Fe(Se,Me,Oe){if(Oe||2===arguments.length)for(var Pe,Ae=0,Je=Me.length;Ae<Je;Ae++)(Pe||!(Ae in Me))&&(Pe||(Pe=Array.prototype.slice.call(Me,0,Ae)),Pe[Ae]=Me[Ae]);return Se.concat(Pe||Array.prototype.slice.call(Me))}function be(Se){return this instanceof be?(this.v=Se,this):new be(Se)}function ke(Se,Me,Oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Je,Ae=Oe.apply(Se,Me||[]),Pe=[];return Je=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),un("next"),un("throw"),un("return",function gt(fn){return function(Zt){return Promise.resolve(Zt).then(fn,At)}}),Je[Symbol.asyncIterator]=function(){return this},Je;function un(fn,Zt){Ae[fn]&&(Je[fn]=function(hn){return new Promise(function(Wn,et){Pe.push([fn,hn,Wn,et])>1||En(fn,hn)})},Zt&&(Je[fn]=Zt(Je[fn])))}function En(fn,Zt){try{!function It(fn){fn.value instanceof be?Promise.resolve(fn.value.v).then(gn,At):xn(Pe[0][2],fn)}(Ae[fn](Zt))}catch(hn){xn(Pe[0][3],hn)}}function gn(fn){En("next",fn)}function At(fn){En("throw",fn)}function xn(fn,Zt){fn(Zt),Pe.shift(),Pe.length&&En(Pe[0][0],Pe[0][1])}}function Ze(Se){var Me,Oe;return Me={},Ae("next"),Ae("throw",function(Je){throw Je}),Ae("return"),Me[Symbol.iterator]=function(){return this},Me;function Ae(Je,Pe){Me[Je]=Se[Je]?function(gt){return(Oe=!Oe)?{value:be(Se[Je](gt)),done:!1}:Pe?Pe(gt):gt}:Pe}}function pt(Se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Oe,Me=Se[Symbol.asyncIterator];return Me?Me.call(Se):(Se=W(Se),Oe={},Ae("next"),Ae("throw"),Ae("return"),Oe[Symbol.asyncIterator]=function(){return this},Oe);function Ae(Pe){Oe[Pe]=Se[Pe]&&function(gt){return new Promise(function(un,En){!function Je(Pe,gt,un,En){Promise.resolve(En).then(function(It){Pe({value:It,done:un})},gt)}(un,En,(gt=Se[Pe](gt)).done,gt.value)})}}}function $e(Se,Me){return Object.defineProperty?Object.defineProperty(Se,"raw",{value:Me}):Se.raw=Me,Se}var Ke=Object.create?function(Se,Me){Object.defineProperty(Se,"default",{enumerable:!0,value:Me})}:function(Se,Me){Se.default=Me},He=function(Se){return(He=Object.getOwnPropertyNames||function(Me){var Oe=[];for(var Ae in Me)Object.prototype.hasOwnProperty.call(Me,Ae)&&(Oe[Oe.length]=Ae);return Oe})(Se)};function vt(Se){if(Se&&Se.__esModule)return Se;var Me={};if(null!=Se)for(var Oe=He(Se),Ae=0;Ae<Oe.length;Ae++)"default"!==Oe[Ae]&&xe(Me,Se,Oe[Ae]);return Ke(Me,Se),Me}function dt(Se){return Se&&Se.__esModule?Se:{default:Se}}function ft(Se,Me,Oe,Ae){if("a"===Oe&&!Ae)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof Me?Se!==Me||!Ae:!Me.has(Se))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===Oe?Ae:"a"===Oe?Ae.call(Se):Ae?Ae.value:Me.get(Se)}function Pt(Se,Me,Oe,Ae,Je){if("m"===Ae)throw new TypeError("Private method is not writable");if("a"===Ae&&!Je)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof Me?Se!==Me||!Je:!Me.has(Se))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===Ae?Je.call(Se,Oe):Je?Je.value=Oe:Me.set(Se,Oe),Oe}function Sn(Se,Me){if(null===Me||"object"!=typeof Me&&"function"!=typeof Me)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof Se?Me===Se:Se.has(Me)}function jt(Se,Me,Oe){if(null!=Me){if("object"!=typeof Me&&"function"!=typeof Me)throw new TypeError("Object expected.");var Ae,Je;if(Oe){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");Ae=Me[Symbol.asyncDispose]}if(void 0===Ae){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");Ae=Me[Symbol.dispose],Oe&&(Je=Ae)}if("function"!=typeof Ae)throw new TypeError("Object not disposable.");Je&&(Ae=function(){try{Je.call(this)}catch(Pe){return Promise.reject(Pe)}}),Se.stack.push({value:Me,dispose:Ae,async:Oe})}else Oe&&Se.stack.push({async:!0});return Me}var St="function"==typeof SuppressedError?SuppressedError:function(Se,Me,Oe){var Ae=new Error(Oe);return Ae.name="SuppressedError",Ae.error=Se,Ae.suppressed=Me,Ae};function dr(Se){function Me(Pe){Se.error=Se.hasError?new St(Pe,Se.error,"An error was suppressed during disposal."):Pe,Se.hasError=!0}var Oe,Ae=0;return function Je(){for(;Oe=Se.stack.pop();)try{if(!Oe.async&&1===Ae)return Ae=0,Se.stack.push(Oe),Promise.resolve().then(Je);if(Oe.dispose){var Pe=Oe.dispose.call(Oe.value);if(Oe.async)return Ae|=2,Promise.resolve(Pe).then(Je,function(gt){return Me(gt),Je()})}else Ae|=1}catch(gt){Me(gt)}if(1===Ae)return Se.hasError?Promise.reject(Se.error):Promise.resolve();if(Se.hasError)throw Se.error}()}function fr(Se,Me){return"string"==typeof Se&&/^\.\.?\//.test(Se)?Se.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(Oe,Ae,Je,Pe,gt){return Ae?Me?".jsx":".js":!Je||Pe&&gt?Je+Pe+"."+gt.toLowerCase()+"js":Oe}):Se}const mn={__extends:V,__assign:Z,__rest:e,__decorate:U,__param:G,__esDecorate:F,__runInitializers:J,__propKey:me,__setFunctionName:fe,__metadata:te,__awaiter:ge,__generator:Le,__createBinding:xe,__exportStar:Xe,__values:W,__read:K,__spread:le,__spreadArrays:De,__spreadArray:Fe,__await:be,__asyncGenerator:ke,__asyncDelegator:Ze,__asyncValues:pt,__makeTemplateObject:$e,__importStar:vt,__importDefault:dt,__classPrivateFieldGet:ft,__classPrivateFieldSet:Pt,__classPrivateFieldIn:Sn,__addDisposableResource:jt,__disposeResources:dr,__rewriteRelativeImportExtension:fr}}},ot=>{ot(ot.s=1615)}]);