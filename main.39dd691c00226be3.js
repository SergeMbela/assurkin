(self.webpackChunkassurkin=self.webpackChunkassurkin||[]).push([[792],{3583:(Je,_e,D)=>{"use strict";D.r(_e),D.d(_e,{AssurancesDetailsComponent:()=>U});var l=D(4438),j=D(177),te=D(9981),e=D(9172),S=D(7673),H=D(5558),E=D(6354),K=D(9437),ue=D(1807),ve=D(1364);const Q=()=>["/management"],ye=()=>({loading:!0}),Fe=(B,he,le)=>({"text-green-600":B,"text-yellow-600":he,"text-red-600":le});function Ee(B,he){if(1&B&&(l.j41(0,"div",9)(1,"div",10)(2,"h2",11),l.EFF(3,"Informations G\xe9n\xe9rales"),l.k0s(),l.j41(4,"p")(5,"strong"),l.EFF(6,"ID du Devis :"),l.k0s(),l.EFF(7),l.k0s(),l.j41(8,"p")(9,"strong"),l.EFF(10,"Compagnie :"),l.k0s(),l.EFF(11),l.k0s(),l.j41(12,"p")(13,"strong"),l.EFF(14,"Date de cr\xe9ation :"),l.k0s(),l.EFF(15),l.nI1(16,"date"),l.k0s(),l.j41(17,"p")(18,"strong"),l.EFF(19,"Date d'effet :"),l.k0s(),l.EFF(20),l.nI1(21,"date"),l.k0s(),l.j41(22,"p")(23,"strong"),l.EFF(24,"Statut :"),l.k0s(),l.j41(25,"span",12),l.EFF(26),l.k0s()()(),l.j41(27,"div",10)(28,"h2",11),l.EFF(29,"Preneur d'assurance"),l.k0s(),l.j41(30,"p")(31,"strong"),l.EFF(32,"Nom :"),l.k0s(),l.EFF(33),l.k0s(),l.j41(34,"p")(35,"strong"),l.EFF(36,"Email :"),l.k0s(),l.EFF(37),l.k0s(),l.j41(38,"p")(39,"strong"),l.EFF(40,"T\xe9l\xe9phone :"),l.k0s(),l.EFF(41),l.k0s(),l.j41(42,"p")(43,"strong"),l.EFF(44,"Adresse :"),l.k0s(),l.EFF(45),l.k0s()(),l.j41(46,"div",10)(47,"h2",11),l.EFF(48,"V\xe9hicule"),l.k0s(),l.j41(49,"p")(50,"strong"),l.EFF(51,"Type :"),l.k0s(),l.EFF(52),l.k0s(),l.j41(53,"p")(54,"strong"),l.EFF(55,"Marque :"),l.k0s(),l.EFF(56),l.k0s(),l.j41(57,"p")(58,"strong"),l.EFF(59,"Mod\xe8le :"),l.k0s(),l.EFF(60),l.k0s(),l.j41(61,"p")(62,"strong"),l.EFF(63,"Ann\xe9e :"),l.k0s(),l.EFF(64),l.k0s(),l.j41(65,"p")(66,"strong"),l.EFF(67,"Plaque :"),l.k0s(),l.EFF(68),l.k0s(),l.j41(69,"p")(70,"strong"),l.EFF(71,"Valeur :"),l.k0s(),l.EFF(72),l.nI1(73,"currency"),l.k0s()(),l.j41(74,"div",10)(75,"h2",11),l.EFF(76,"Couverture d'assurance"),l.k0s(),l.j41(77,"p")(78,"strong"),l.EFF(79,"Type :"),l.k0s(),l.EFF(80),l.k0s(),l.j41(81,"p")(82,"strong"),l.EFF(83,"RC de base :"),l.k0s(),l.EFF(84),l.k0s(),l.j41(85,"p")(86,"strong"),l.EFF(87,"Assistance :"),l.k0s(),l.EFF(88),l.k0s(),l.j41(89,"p")(90,"strong"),l.EFF(91,"Protection du conducteur :"),l.k0s(),l.EFF(92),l.k0s(),l.j41(93,"p")(94,"strong"),l.EFF(95,"Omnium :"),l.k0s(),l.EFF(96),l.k0s()()()),2&B){const le=he.ngIf;l.R7$(7),l.SpI(" ",null==le.details?null:le.details.id,""),l.R7$(4),l.SpI(" ",le.compagnie_nom,""),l.R7$(4),l.SpI(" ",l.i5U(16,24,null==le.details?null:le.details.created_at,"dd/MM/yyyy HH:mm"),""),l.R7$(5),l.SpI(" ",l.i5U(21,27,null==le.details?null:le.details.date_effet,"dd/MM/yyyy"),""),l.R7$(5),l.Y8G("ngClass",l.sMw(34,Fe,"Accept\xe9"===(null==le.details?null:le.details.statut),"En cours de traitement"===(null==le.details?null:le.details.statut),"Refus\xe9"===(null==le.details?null:le.details.statut))),l.R7$(),l.JRh(null==le.details?null:le.details.statut),l.R7$(7),l.Lme(" ",null==le.preneur?null:le.preneur.prenom," ",null==le.preneur?null:le.preneur.nom,""),l.R7$(4),l.SpI(" ",null==le.preneur?null:le.preneur.email,""),l.R7$(4),l.SpI(" ",null==le.preneur?null:le.preneur.telephone,""),l.R7$(4),l.E5c(" ",null==le.preneur?null:le.preneur.adresse,", ",null==le.preneur?null:le.preneur.code_postal," ",null==le.preneur?null:le.preneur.ville,""),l.R7$(7),l.SpI(" ",null==le.vehicule?null:le.vehicule.type,""),l.R7$(4),l.SpI(" ",null==le.vehicule?null:le.vehicule.marque,""),l.R7$(4),l.SpI(" ",null==le.vehicule?null:le.vehicule.modele,""),l.R7$(4),l.SpI(" ",null==le.vehicule?null:le.vehicule.annee,""),l.R7$(4),l.SpI(" ",null==le.vehicule?null:le.vehicule.plaque,""),l.R7$(4),l.SpI(" ",l.brH(73,30,null==le.vehicule?null:le.vehicule.valeur,"EUR","symbol"),""),l.R7$(8),l.SpI(" ",le.type,""),l.R7$(4),l.SpI(" ",null!=le.details&&le.details.garantie_base_rc?"Oui":"Non",""),l.R7$(4),l.SpI(" ",null!=le.details&&le.details.garantie_assistance?"Oui":"Non",""),l.R7$(4),l.SpI(" ",null!=le.details&&le.details.garantie_conducteur?"Oui":"Non",""),l.R7$(4),l.SpI(" ",(null==le.details?null:le.details.garantie_omnium_niveau)||"Aucune","")}}function Le(B,he){1&B&&(l.j41(0,"div",13),l.EFF(1," Aucun d\xe9tail trouv\xe9 pour ce devis. "),l.k0s())}function ne(B,he){if(1&B&&(l.j41(0,"div",6),l.DNE(1,Ee,97,38,"div",7)(2,Le,2,0,"div",8),l.k0s()),2&B){const le=he.$implicit;l.R7$(),l.Y8G("ngIf",le.data),l.R7$(),l.Y8G("ngIf",!le.data)}}let U=(()=>{class B{route=(0,l.WQX)(te.nX);dbConnectService=(0,l.WQX)(ue.y);devisState$;ngOnInit(){this.devisState$=this.route.paramMap.pipe((0,H.n)(le=>this.getDevisData(le)),(0,E.T)(le=>{const fe=Array.isArray(le)?le[0]:le;return console.log("[AssurancesDetailsComponent] Donn\xe9es du devis re\xe7ues et extraites:",fe),{loading:!1,data:fe}}),(0,e.Z)({loading:!0}),(0,K.W)(le=>{console.error("[AssurancesDetailsComponent] Erreur dans le chargement des d\xe9tails du devis:",le);const fe=le instanceof Error?le.message:"Une erreur inconnue est survenue.";return(0,S.of)({loading:!1,error:fe})}))}getDevisData(le){const fe=Number(le.get("id"));if(isNaN(fe))throw new Error("ID de devis invalide.");return console.log(`[AssurancesDetailsComponent] Calling Supabase function for devisId: ${fe}`),this.dbConnectService.getFullQuoteDetails(fe)}static \u0275fac=function(fe){return new(fe||B)};static \u0275cmp=l.VBU({type:B,selectors:[["app-assurances-details"]],standalone:!0,features:[l.aNF],decls:10,vars:6,consts:[["dataTemplate",""],[1,"container","mx-auto","p-4"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-3xl","font-bold","text-gray-800"],[1,"bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded","transition","duration-300",3,"routerLink"],[3,"state"],[1,"bg-white","shadow-lg","rounded-lg","p-6"],["class","grid grid-cols-1 md:grid-cols-2 gap-6",4,"ngIf"],["class","text-center text-gray-500 mt-8",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"p-4","border","rounded-lg"],[1,"text-xl","font-semibold","text-gray-700","mb-4"],[1,"font-medium",3,"ngClass"],[1,"text-center","text-gray-500","mt-8"]],template:function(fe,pe){1&fe&&(l.j41(0,"div",1)(1,"div",2)(2,"h1",3),l.EFF(3,"D\xe9tails du Devis"),l.k0s(),l.j41(4,"a",4),l.EFF(5," Retour \xe0 la liste "),l.k0s()(),l.j41(6,"app-state-container",5),l.nI1(7,"async"),l.DNE(8,ne,3,2,"ng-template",null,0,l.C5r),l.k0s()()),2&fe&&(l.R7$(4),l.Y8G("routerLink",l.lJ4(4,Q)),l.R7$(2),l.Y8G("state",l.bMT(7,2,pe.devisState$)||l.lJ4(5,ye)))},dependencies:[j.MD,j.YU,j.bT,j.Jj,j.oe,j.vh,te.Wk,ve.Y]})}return B})()},2263:(Je,_e,D)=>{"use strict";D.r(_e),D.d(_e,{CompaniesComponent:()=>le});var l=D(4438),j=D(177),te=D(9417),e=D(1807);const S=fe=>({"border-red-500":fe});function H(fe,pe){if(1&fe&&(l.j41(0,"div",58),l.EFF(1),l.k0s()),2&fe){const xe=l.XpG();l.R7$(),l.SpI(" ",xe.successMessage," ")}}function E(fe,pe){if(1&fe&&(l.j41(0,"div",59),l.EFF(1),l.k0s()),2&fe){const xe=l.XpG();l.R7$(),l.SpI(" ",xe.errorMessage," ")}}function K(fe,pe){1&fe&&(l.j41(0,"p",60),l.EFF(1,"Le nom est requis."),l.k0s())}function ue(fe,pe){if(1&fe&&(l.j41(0,"option",61),l.EFF(1),l.k0s()),2&fe){const xe=pe.$implicit;l.Y8G("value",xe),l.R7$(),l.JRh(xe)}}function ve(fe,pe){1&fe&&(l.j41(0,"p",60),l.EFF(1,"Requis."),l.k0s())}function Q(fe,pe){1&fe&&(l.j41(0,"p",60),l.EFF(1,"Requis."),l.k0s())}function ye(fe,pe){1&fe&&(l.j41(0,"p",60),l.EFF(1,"Doit contenir 10 caract\xe8res."),l.k0s())}function Fe(fe,pe){1&fe&&(l.j41(0,"p",60),l.EFF(1,"Doit commencer par 'BE'."),l.k0s())}function Ee(fe,pe){1&fe&&(l.j41(0,"p",60),l.EFF(1,"Email invalide."),l.k0s())}function Le(fe,pe){1&fe&&(l.j41(0,"p",62),l.EFF(1," Veuillez s\xe9lectionner au moins un besoin en assurance. "),l.k0s())}function ne(fe,pe){1&fe&&(l.qSk(),l.j41(0,"svg",63),l.nrm(1,"circle",64)(2,"path",65),l.k0s())}function U(fe,pe){if(1&fe&&(l.j41(0,"div",58),l.EFF(1),l.k0s()),2&fe){const xe=l.XpG();l.R7$(),l.SpI(" ",xe.successMessage," ")}}function B(fe,pe){if(1&fe&&(l.j41(0,"div",59),l.EFF(1),l.k0s()),2&fe){const xe=l.XpG();l.R7$(),l.SpI(" ",xe.errorMessage," ")}}function he(fe){return pe=>fe.some(nt=>pe.get(nt)?.value)?null:{requireAtLeastOne:!0}}let le=(()=>{class fe{fb=(0,l.WQX)(te.ok);dbService=(0,l.WQX)(e.y);platformId=(0,l.WQX)(l.Agw);companyForm=this.fb.group({name:["",te.k0.required],legal_form:["",te.k0.required],enterprise_number:["",[te.k0.required,te.k0.minLength(10),te.k0.maxLength(10)]],vat_number:["",[te.k0.pattern(/^BE/)]],street:["",te.k0.required],house_number:["",te.k0.required],postal_code:["",te.k0.required],city:["",te.k0.required],email:["",[te.k0.email]],has_car_policy:[!1],wants_auto_insurance:[!1],wants_home_insurance:[!1],wants_liability_insurance:[!1]},{validators:he(["has_car_policy","wants_auto_insurance","wants_home_insurance","wants_liability_insurance"])});legalForms=["SRL","SA","SC","SNC","SComm","ASBL","Ind\xe9pendant"];isSubmitting=!1;successMessage=null;errorMessage=null;onSubmit(){if(this.companyForm.invalid)return void this.companyForm.markAllAsTouched();this.isSubmitting=!0,this.successMessage=null,this.errorMessage=null;const xe=this.companyForm.value,nt={p_name:xe.name,p_legal_form:xe.legal_form,p_enterprise_number:xe.enterprise_number,p_vat_number:xe.vat_number||null,p_street:xe.street,p_house_number:xe.house_number,p_postal_code:xe.postal_code,p_city:xe.city,p_email:xe.email||null,p_has_car_policy:xe.has_car_policy,p_wants_auto_insurance:xe.wants_auto_insurance,p_wants_home_insurance:xe.wants_home_insurance,p_wants_liability_insurance:xe.wants_liability_insurance};console.log("Donn\xe9es pr\xeates pour register_belgian_company:",nt),this.dbService.registerCompany(nt).subscribe({next:Te=>{this.isSubmitting=!1,this.successMessage="Votre demande d'informations nous est parvenues",this.companyForm.reset()},error:Te=>{this.isSubmitting=!1,console.error("Erreur lors de l'enregistrement:",Te),this.errorMessage=Te.message||"Une erreur technique est survenue."}})}scrollToForm(){if((0,j.UE)(this.platformId)){const xe=document.getElementById("company-form");xe&&xe.scrollIntoView({behavior:"smooth",block:"start"})}}static \u0275fac=function(nt){return new(nt||fe)};static \u0275cmp=l.VBU({type:fe,selectors:[["app-companies"]],standalone:!0,features:[l.aNF],decls:104,vars:43,consts:[[1,"bg-white"],["id","hero",1,"relative","isolate","bg-black","px-6","pt-14","lg:px-8"],[1,"mx-auto","max-w-7xl","py-8","sm:py-12","lg:py-16"],[1,"grid","grid-cols-1","items-center","gap-x-8","gap-y-16","lg:grid-cols-2"],[1,"text-center","lg:text-left","animate-fade-in-up"],[1,"text-4xl","font-bold","tracking-tight","text-white","sm:text-6xl","animate-fade-in-up",2,"animation-delay","0.2s"],[1,"mt-6","text-lg","leading-8","text-gray-300","animate-fade-in-up",2,"animation-delay","0.4s"],[1,"mt-10","flex","items-center","justify-center","gap-x-6","lg:justify-start","animate-fade-in-up",2,"animation-delay","0.6s"],[1,"rounded-md","bg-indigo-600","px-3.5","py-2.5","text-sm","font-semibold","text-white","shadow-sm","hover:bg-indigo-500","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-indigo-600",3,"click"],[1,"flex","justify-center","lg:justify-end","animate-fade-in",2,"animation-delay","0.8s"],["src","https://fqopliwvpuiprdegxytz.supabase.co/storage/v1/object/sign/img_website/assukin.webp?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV81MmJmNDFiNC0yNGQ0LTQ3ZTktYmEzNi04YWZmY2NjMzEzNzIiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJpbWdfd2Vic2l0ZS9hc3N1a2luLndlYnAiLCJpYXQiOjE3NjMwMjAyMjYsImV4cCI6MjA3ODM4MDIyNn0.7YNFUpPItIygZoqlnw2CE-Elj9r-64kfppEpvelhMpA","alt","\xc9quipe Assurkin",1,"w-full","max-w-xs","rounded-xl","shadow-xl","ring-1","ring-gray-400/10","lg:max-w-md"],[1,"container","mx-auto","p-6"],[1,"text-2xl","font-bold","mb-6","text-gray-800"],["class","bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",4,"ngIf"],["class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",4,"ngIf"],["id","company-form",1,"bg-white","shadow-md","rounded","px-8","pt-6","pb-8","mb-4",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","mb-4"],["for","name",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["id","name","type","text","formControlName","name","placeholder","Ex: Ma Soci\xe9t\xe9",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline",3,"ngClass"],["class","text-red-500 text-xs italic mt-1",4,"ngIf"],["for","legal_form",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["id","legal_form","formControlName","legal_form",1,"shadow","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline","bg-white",3,"ngClass"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","enterprise_number",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["id","enterprise_number","type","text","formControlName","enterprise_number","placeholder","0123456789",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline",3,"ngClass"],["for","vat_number",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["id","vat_number","type","text","formControlName","vat_number","placeholder","BE0123456789",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline",3,"ngClass"],[1,"text-gray-500","text-xs","italic","mt-1"],[1,"mb-4"],[1,"block","text-gray-700","text-sm","font-bold","mb-2"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],[1,"md:col-span-2"],["type","text","formControlName","street","placeholder","Rue",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline",3,"ngClass"],["type","text","formControlName","house_number","placeholder","Num\xe9ro",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline",3,"ngClass"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4","mb-4"],["type","text","formControlName","postal_code","placeholder","Code Postal",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline",3,"ngClass"],["type","text","formControlName","city","placeholder","Ville",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline",3,"ngClass"],[1,"mb-6"],["for","email",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["id","email","type","email","formControlName","email","placeholder","contact@entreprise.be",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline",3,"ngClass"],[1,"space-y-3","mt-2"],[1,"relative","flex","items-start"],[1,"flex","h-6","items-center"],["id","has_car_policy","formControlName","has_car_policy","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-600"],[1,"ml-3","text-sm","leading-6"],["for","has_car_policy",1,"font-medium","text-gray-900"],[1,"text-gray-500","text-xs"],["id","wants_auto_insurance","formControlName","wants_auto_insurance","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-600"],["for","wants_auto_insurance",1,"font-medium","text-gray-900"],["id","wants_home_insurance","formControlName","wants_home_insurance","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-600"],["for","wants_home_insurance",1,"font-medium","text-gray-900"],["id","wants_liability_insurance","formControlName","wants_liability_insurance","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-600"],["for","wants_liability_insurance",1,"font-medium","text-gray-900"],["class","text-red-500 text-xs italic mt-2",4,"ngIf"],[1,"flex","items-center","justify-end"],["type","submit",1,"bg-blue-600","hover:bg-blue-700","text-white","font-bold","py-2","px-6","rounded","focus:outline-none","focus:shadow-outline","disabled:opacity-50","transition-colors","flex","items-center",3,"disabled"],["class","animate-spin -ml-1 mr-3 h-5 w-5 text-white","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",4,"ngIf"],[1,"bg-green-100","border","border-green-400","text-green-700","px-4","py-3","rounded","mb-4"],[1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","mb-4"],[1,"text-red-500","text-xs","italic","mt-1"],[3,"value"],[1,"text-red-500","text-xs","italic","mt-2"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(nt,Te){if(1&nt&&(l.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),l.EFF(6,"AssurKin, le partenaire de votre r\xe9ussite professionnelle"),l.k0s(),l.j41(7,"p",6),l.EFF(8,"Parce que votre activit\xe9 m\xe9rite une protection sans faille, nous concevons des solutions d'assurance sur-mesure pour les entreprises et les ind\xe9pendants. Notre expertise nous permet d'identifier vos risques sp\xe9cifiques pour vous garantir la couverture la plus robuste. Nous s\xe9curisons votre outil de travail et vos responsabilit\xe9s \xe0 chaque \xe9tape, vous offrant la r\xe9activit\xe9 indispensable \xe0 la continuit\xe9 de votre business."),l.k0s(),l.j41(9,"div",7)(10,"button",8),l.bIt("click",function(){return Te.scrollToForm()}),l.EFF(11,"Souscrire"),l.k0s(),l.EFF(12,"n> "),l.k0s()(),l.j41(13,"div",9),l.nrm(14,"img",10),l.k0s()()()(),l.j41(15,"div",11)(16,"h1",12),l.EFF(17,"Demande d'informations"),l.k0s(),l.DNE(18,H,2,1,"div",13)(19,E,2,1,"div",14),l.j41(20,"form",15),l.bIt("ngSubmit",function(){return Te.onSubmit()}),l.j41(21,"div",16)(22,"div")(23,"label",17),l.EFF(24,"Nom de l'entreprise *"),l.k0s(),l.nrm(25,"input",18),l.DNE(26,K,2,0,"p",19),l.k0s(),l.j41(27,"div")(28,"label",20),l.EFF(29,"Forme Juridique *"),l.k0s(),l.j41(30,"select",21)(31,"option",22),l.EFF(32,"S\xe9lectionner..."),l.k0s(),l.DNE(33,ue,2,2,"option",23),l.k0s(),l.DNE(34,ve,2,0,"p",19),l.k0s()(),l.j41(35,"div",16)(36,"div")(37,"label",24),l.EFF(38,"Num\xe9ro d'entreprise (BCE) *"),l.k0s(),l.nrm(39,"input",25),l.DNE(40,Q,2,0,"p",19)(41,ye,2,0,"p",19),l.k0s(),l.j41(42,"div")(43,"label",26),l.EFF(44,"Num\xe9ro de TVA (Optionnel)"),l.k0s(),l.nrm(45,"input",27),l.DNE(46,Fe,2,0,"p",19),l.j41(47,"p",28),l.EFF(48,"Si vide, sera g\xe9n\xe9r\xe9 automatiquement (BE + BCE)."),l.k0s()()(),l.j41(49,"div",29)(50,"label",30),l.EFF(51,"Adresse *"),l.k0s(),l.j41(52,"div",31)(53,"div",32),l.nrm(54,"input",33),l.k0s(),l.j41(55,"div"),l.nrm(56,"input",34),l.k0s()()(),l.j41(57,"div",35)(58,"div"),l.nrm(59,"input",36),l.k0s(),l.j41(60,"div",32),l.nrm(61,"input",37),l.k0s()(),l.j41(62,"div",38)(63,"label",39),l.EFF(64,"Email (Optionnel)"),l.k0s(),l.nrm(65,"input",40),l.DNE(66,Ee,2,0,"p",19),l.k0s(),l.j41(67,"div",38)(68,"label",30),l.EFF(69,"Quels sont vos besoins ?"),l.k0s(),l.j41(70,"div",41)(71,"div",42)(72,"div",43),l.nrm(73,"input",44),l.k0s(),l.j41(74,"div",45)(75,"label",46),l.EFF(76,"Politique de voitures de soci\xe9t\xe9"),l.k0s(),l.j41(77,"p",47),l.EFF(78,"Cochez si votre entreprise poss\xe8de ou g\xe8re une flotte de v\xe9hicules."),l.k0s()()(),l.j41(79,"div",42)(80,"div",43),l.nrm(81,"input",48),l.k0s(),l.j41(82,"div",45)(83,"label",49),l.EFF(84,"Assurance Flotte Auto"),l.k0s()()(),l.j41(85,"div",42)(86,"div",43),l.nrm(87,"input",50),l.k0s(),l.j41(88,"div",45)(89,"label",51),l.EFF(90,"Assurance Locaux Professionnels"),l.k0s()()(),l.j41(91,"div",42)(92,"div",43),l.nrm(93,"input",52),l.k0s(),l.j41(94,"div",45)(95,"label",53),l.EFF(96,"Assurance RC Professionnelle"),l.k0s()()()(),l.DNE(97,Le,2,0,"p",54),l.k0s(),l.j41(98,"div",55)(99,"button",56),l.DNE(100,ne,3,0,"svg",57),l.EFF(101),l.k0s()()(),l.DNE(102,U,2,1,"div",13)(103,B,2,1,"div",14),l.k0s()()),2&nt){let $e,Ye,Ke,st,kt,_t,St,Rn,xn,Yn,rr,Nr,Ie,Me,Re;l.R7$(18),l.Y8G("ngIf",Te.successMessage),l.R7$(),l.Y8G("ngIf",Te.errorMessage),l.R7$(),l.Y8G("formGroup",Te.companyForm),l.R7$(5),l.Y8G("ngClass",l.eq3(25,S,(null==($e=Te.companyForm.get("name"))?null:$e.invalid)&&(null==($e=Te.companyForm.get("name"))?null:$e.touched))),l.R7$(),l.Y8G("ngIf",(null==(Ye=Te.companyForm.get("name"))?null:Ye.invalid)&&(null==(Ye=Te.companyForm.get("name"))?null:Ye.touched)),l.R7$(4),l.Y8G("ngClass",l.eq3(27,S,(null==(Ke=Te.companyForm.get("legal_form"))?null:Ke.invalid)&&(null==(Ke=Te.companyForm.get("legal_form"))?null:Ke.touched))),l.R7$(3),l.Y8G("ngForOf",Te.legalForms),l.R7$(),l.Y8G("ngIf",(null==(st=Te.companyForm.get("legal_form"))?null:st.invalid)&&(null==(st=Te.companyForm.get("legal_form"))?null:st.touched)),l.R7$(5),l.Y8G("ngClass",l.eq3(29,S,(null==(kt=Te.companyForm.get("enterprise_number"))?null:kt.invalid)&&(null==(kt=Te.companyForm.get("enterprise_number"))?null:kt.touched))),l.R7$(),l.Y8G("ngIf",(null==(_t=Te.companyForm.get("enterprise_number"))||null==_t.errors?null:_t.errors.required)&&(null==(_t=Te.companyForm.get("enterprise_number"))?null:_t.touched)),l.R7$(),l.Y8G("ngIf",(null==(St=Te.companyForm.get("enterprise_number"))||null==St.errors?null:St.errors.minlength)&&(null==(St=Te.companyForm.get("enterprise_number"))?null:St.touched)),l.R7$(4),l.Y8G("ngClass",l.eq3(31,S,(null==(Rn=Te.companyForm.get("vat_number"))?null:Rn.invalid)&&(null==(Rn=Te.companyForm.get("vat_number"))?null:Rn.touched))),l.R7$(),l.Y8G("ngIf",(null==(xn=Te.companyForm.get("vat_number"))?null:xn.hasError("pattern"))&&(null==(xn=Te.companyForm.get("vat_number"))?null:xn.touched)),l.R7$(8),l.Y8G("ngClass",l.eq3(33,S,(null==(Yn=Te.companyForm.get("street"))?null:Yn.invalid)&&(null==(Yn=Te.companyForm.get("street"))?null:Yn.touched))),l.R7$(2),l.Y8G("ngClass",l.eq3(35,S,(null==(rr=Te.companyForm.get("house_number"))?null:rr.invalid)&&(null==(rr=Te.companyForm.get("house_number"))?null:rr.touched))),l.R7$(3),l.Y8G("ngClass",l.eq3(37,S,(null==(Nr=Te.companyForm.get("postal_code"))?null:Nr.invalid)&&(null==(Nr=Te.companyForm.get("postal_code"))?null:Nr.touched))),l.R7$(2),l.Y8G("ngClass",l.eq3(39,S,(null==(Ie=Te.companyForm.get("city"))?null:Ie.invalid)&&(null==(Ie=Te.companyForm.get("city"))?null:Ie.touched))),l.R7$(4),l.Y8G("ngClass",l.eq3(41,S,(null==(Me=Te.companyForm.get("email"))?null:Me.invalid)&&(null==(Me=Te.companyForm.get("email"))?null:Me.touched))),l.R7$(),l.Y8G("ngIf",(null==(Re=Te.companyForm.get("email"))?null:Re.invalid)&&(null==(Re=Te.companyForm.get("email"))?null:Re.touched)),l.R7$(31),l.Y8G("ngIf",(null==Te.companyForm.errors?null:Te.companyForm.errors.requireAtLeastOne)&&Te.companyForm.touched),l.R7$(2),l.Y8G("disabled",Te.isSubmitting),l.R7$(),l.Y8G("ngIf",Te.isSubmitting),l.R7$(),l.SpI(" ",Te.isSubmitting?"Enregistrement...":"Poster"," "),l.R7$(),l.Y8G("ngIf",Te.successMessage),l.R7$(),l.Y8G("ngIf",Te.errorMessage)}},dependencies:[j.MD,j.YU,j.Sq,j.bT,te.X1,te.qT,te.xH,te.y7,te.me,te.Zm,te.wz,te.BC,te.cb,te.j4,te.JD]})}return fe})()},9499:(Je,_e,D)=>{"use strict";D.d(_e,{u:()=>Le});var l=D(4438),j=D(4412),te=D(6354),e=D(6648),S=D(177);function Q(ne,U){const B=!U?.manualCleanup;B&&!U?.injector&&(0,l.Af3)(Q);const he=B?U?.injector?.get(l.abz)??(0,l.WQX)(l.abz):null,le=function ye(ne=Object.is){return(U,B)=>1===U.kind&&1===B.kind&&ne(U.value,B.value)}(U?.equal);let fe;fe=(0,l.vPA)(U?.requireSync?{kind:0}:{kind:1,value:U?.initialValue},{equal:le});const pe=ne.subscribe({next:xe=>fe.set({kind:1,value:xe}),error:xe=>{if(U?.rejectErrors)throw xe;fe.set({kind:2,error:xe})}});if(U?.requireSync&&0===fe().kind)throw new l.wOt(601,!1);return he?.onDestroy(pe.unsubscribe.bind(pe)),(0,l.EWP)(()=>{const xe=fe();switch(xe.kind){case 1:return xe.value;case 2:throw xe.error;case 0:throw new l.wOt(601,!1)}},{equal:U?.equal})}var Fe=D(5312),Ee=D(9692);let Le=(()=>{class ne{supabaseService;platformId=(0,l.WQX)(l.Agw);_currentUser$=new j.t(null);currentUser$=this._currentUser$.asObservable();isAuthenticated=Q(this.currentUser$.pipe((0,te.T)(B=>!!B)),{initialValue:!1});authSubscription=null;constructor(B){if(this.supabaseService=B,(0,S.UE)(this.platformId)){this.supabaseService.supabase.auth.getSession().then(({data:le})=>{this._currentUser$.next(le.session?.user??null)});const{data:{subscription:he}}=this.supabaseService.supabase.auth.onAuthStateChange((le,fe)=>{this._currentUser$.next(fe?.user??null)});this.authSubscription=he}}ngOnDestroy(){this.authSubscription&&this.authSubscription.unsubscribe()}signIn(B){return(0,e.H)(this.supabaseService.supabase.auth.signInWithPassword(B))}getSession(){return this.supabaseService.supabase.auth.getSession()}signOut(){return(0,e.H)(this.supabaseService.supabase.auth.signOut())}sendPasswordResetEmail(B){const he=(0,S.UE)(this.platformId)?`${window.location.origin}/update-password`:`${Fe.c.website}/update-password`;return(0,e.H)(this.supabaseService.supabase.functions.invoke("reset-password-email",{body:{email:B,redirectTo:he}})).pipe((0,te.T)(le=>(le.error&&console.error("Erreur Edge Function d\xe9taill\xe9e:",le.error),le)))}updatePassword(B){return(0,e.H)(this.supabaseService.supabase.auth.updateUser({password:B}))}static \u0275fac=function(he){return new(he||ne)(l.KVO(Ee.w))};static \u0275prov=l.jDH({token:ne,factory:ne.\u0275fac,providedIn:"root"})}return ne})()},324:(Je,_e,D)=>{"use strict";D.d(_e,{y:()=>S});var l=D(4438),j=D(9692),te=D(6648),e=D(6354);let S=(()=>{class H{supabase=(0,l.WQX)(j.w);saveContractData(K){return console.log("Envoi des donn\xe9es du contrat \xe0 Supabase:",K),(0,te.H)(this.supabase.supabase.from("contrats").insert([K]).select().single())}getQuoteTypeId(K){return{auto:1,habitation:2,obseques:3,rc:4,voyage:5}[K.toLowerCase()]||0}getContractFiles(K,ue){return(0,te.H)(this.supabase.supabase.from("uploaded_files").select("path, file_name, raisons,date_created").eq("id_quote",K).eq("id_type",this.getQuoteTypeId(ue))).pipe((0,e.T)(ve=>ve.error?(console.error("Erreur lors de la r\xe9cup\xe9ration des fichiers:",ve.error),[]):ve.data||[]))}addContractFile(K,ue,ve,Q,ye,Fe){const Ee={id_quote:K,id_type:this.getQuoteTypeId(ue),user_id:Fe,path:ve,file_name:Q,raisons:ye};return(0,te.H)(this.supabase.supabase.from("uploaded_files").insert(Ee)).pipe((0,e.T)(Le=>{if(Le&&Le.error)throw console.error("Erreur lors de l'insertion de la r\xe9f\xe9rence du fichier:",Le.error),Le.error}))}static \u0275fac=function(ue){return new(ue||H)};static \u0275prov=l.jDH({token:H,factory:H.\u0275fac,providedIn:"root"})}return H})()},1807:(Je,_e,D)=>{"use strict";D.d(_e,{y:()=>Ee});var l=D(467),j=D(1626),te=D(1413),e=D(6648),S=D(9030),H=D(7673),E=D(6354),K=D(5558),ue=D(9437),ve=D(253),Q=D(5312),ye=D(4438),Fe=D(9692);let Ee=(()=>{class Le{supabase;http;nationalities$=null;onNewQuote$=new te.B;realtimeInitialized=!1;constructor(U,B){this.supabase=U,this.http=B}saveContactForm(U){return(0,e.H)(this.supabase.insertData("contact_submissions",U))}saveMessage(U){var B=this;return(0,l.A)(function*(){const{error:he}=yield B.supabase.supabase.from("messages").insert([U]);he&&console.error("Erreur lors de la sauvegarde du message:",he)})()}saveCommission(U){return(0,e.H)(this.supabase.supabase.from("commissions").insert(U).select().single()).pipe((0,E.T)(B=>{if(B.error)throw B.error;return B.data}))}getAllCommissions(U){let B=this.supabase.supabase.from("commissions").select("*").order("created_at",{ascending:!1});return U&&(B=B.eq("quote_type",U)),(0,e.H)(B).pipe((0,E.T)(he=>{if(he.error)throw he.error;return he.data||[]}))}createFullDevis(U){var B=this;return console.log("[createFullDevis] Donn\xe9es du formulaire re\xe7ues :",U),(0,S.v)((0,l.A)(function*(){console.log("[createFullDevis] \xc9tape 1: Recherche ou cr\xe9ation du preneur...");const he=yield B.findOrCreatePerson(U.preneur);console.log("[createFullDevis] R\xe9sultat pour le preneur :",he),console.log("[createFullDevis] \xc9tape 2: Traitement du conducteur...");let le=null;if(U.conducteurDifferent){const{data:Te,error:$e}=yield B.supabase.supabase.from("personnes").insert(U.conducteur).select().single();if($e)throw console.error("[createFullDevis] Erreur lors de l'insertion du conducteur :",$e),$e;le=Te}else console.log("[createFullDevis] Le conducteur est le m\xeame que le preneur."),le=he;console.log("[createFullDevis] R\xe9sultat pour le conducteur :",le),console.log("[createFullDevis] \xc9tape 3: Insertion du v\xe9hicule...");const{data:fe,error:pe}=yield B.supabase.supabase.from("vehicules").insert({type:U.vehicule.type,marque:U.vehicule.marque,modele:U.vehicule.modele,puissance_kw:U.vehicule.puissance,places:U.vehicule.places,date_circulation:U.vehicule.dateCirculation,valeur:U.vehicule.valeur}).select().single();if(pe)throw console.error("[createFullDevis] Erreur lors de l'insertion du v\xe9hicule :",pe),pe;if(console.log("[createFullDevis] V\xe9hicule ins\xe9r\xe9 :",fe),!le||!fe)throw new Error("Could not create driver or vehicle.");console.log("[createFullDevis] \xc9tape 4: Insertion du devis...");const{data:xe,error:nt}=yield B.supabase.supabase.from("devis_assurance").insert({preneur_id:he.id,conducteur_id:le.id,vehicule_id:fe.id,garantie_base_rc:U.garanties.base,garantie_omnium_niveau:U.garanties.omnium,garantie_conducteur:U.garanties.conducteur,garantie_assistance:U.garanties.assistance,date_effet:U.dateEffet}).select().single();if(nt)throw console.error("[createFullDevis] Erreur lors de l'insertion du devis :",nt),nt;return console.log("Devis cr\xe9\xe9 avec succ\xe8s:",xe),xe}))}createCorporateAccount(U){return(0,e.H)(this.supabase.supabase.auth.signUp({email:U.email,password:U.password,options:{data:{nom:U.nom,prenom:U.prenom,fonction:U.fonction}}})).pipe((0,K.n)(({data:B,error:he})=>{if(he)throw he;if(!B.user)throw new Error("Erreur: Utilisateur non cr\xe9\xe9.");const le={user_id:B.user.id,nom:U.nom,prenom:U.prenom,email:U.email};return(0,e.H)(this.supabase.supabase.from("personnes").insert(le).select().single())}),(0,E.T)(B=>{if(B.error)throw B.error;return{data:B.data,error:null}}))}saveHabitationForm(U){return(0,e.H)(this.supabase.insertData("habitation_quotes",U))}createHabitationQuote(U){var B=this;return(0,S.v)((0,l.A)(function*(){const le={preneur_id:(yield B.findOrCreatePerson({...U.preneur,adresse:U.batiment.adresse,code_postal:U.batiment.codePostal,ville:U.batiment.ville})).id,batiment_adresse:U.batiment.adresse,batiment_code_postal:U.batiment.codePostal,batiment_ville:U.batiment.ville,batiment_type_maison:U.batiment.typeMaison,evaluation_type_valeur_batiment:U.evaluation.valeurBatiment,evaluation_superficie:U.evaluation.superficie,evaluation_nombre_pieces:U.evaluation.nombrePieces,evaluation_loyer_mensuel:U.evaluation.loyer,evaluation_type_valeur_contenu:U.evaluation.valeurContenu,evaluation_valeur_expertise:U.evaluation.valeurExpertise,evaluation_date_expertise:U.evaluation.dateExpertise?`${U.evaluation.dateExpertise}-01`:null,evaluation_valeur_libre_contenu:U.evaluation.evaluation_valeur_libre_contenu,garantie_contenu:U.garanties.contenu,garantie_vol:U.garanties.vol,garantie_pertes_indirectes:U.garanties.pertesIndirectes,garantie_protection_juridique:U.garanties.protectionJuridique,garantie_assistance:U.garanties.assistance,date_effet:U.dateEffet},{data:fe,error:pe}=yield B.supabase.insertData("habitation_quotes",le);if(pe)throw pe;return fe}))}saveRcForm(U){return(0,e.H)(this.supabase.insertData("rc_familiale_quotes",U))}saveVoyageForm(U){return(0,e.H)(this.supabase.insertData("assu_voyage",U))}saveObsequesForm(U){return this.createObsequesQuote(U)}createObsequesQuote(U){var B=this;return(0,S.v)((0,l.A)(function*(){const le={preneur_id:(yield B.findOrCreatePerson({...U.preneur,date_naissance:U.preneur.dateNaissance,code_postal:U.preneur.codePostal})).id,nombre_assures:U.nombreAssures,preneur_est_assure:U.preneurEstAssure,assures:U.assures},{data:fe,error:pe}=yield B.supabase.insertData("obseques_quotes",le);if(pe)throw pe;return fe}))}saveInfoRequestForm(U,B){return(0,e.H)(this.supabase.insertData("voyage"===B?"info_requests":"juridique_form",U))}getPostalCodes(U){const B=this.supabase.supabase.from("code_postal_belge").select("postal, name").like("postal",`${U}%`).limit(10);return(0,e.H)(B).pipe((0,E.T)(he=>(he.data||[]).map(le=>({postalCode:le.postal,city:le.name}))))}getVilles(U){const B=this.supabase.supabase.from("code_postal_belge").select("postal, name").ilike("name",`${U}%`).limit(10);return(0,e.H)(B).pipe((0,E.T)(he=>(he.data||[]).map(fe=>({postalCode:fe.postal,city:fe.name}))))}getCitiesByPostalCode(U){return(0,e.H)(this.supabase.supabase.from("code_postal_belge").select("name").eq("postal",U)).pipe((0,E.T)(B=>{if(B.error)throw B.error;return(B.data||[]).map(le=>le.name)}),(0,ue.W)(B=>(console.error("Erreur lors de la r\xe9cup\xe9ration des villes par code postal:",B),(0,H.of)([]))))}searchMarques(U){return(0,e.H)(this.supabase.supabase.from("marques").select("marque_id:id, nom").ilike("nom",`${U}%`).limit(10)).pipe((0,E.T)(B=>(B.data||[]).map(le=>({marque_id:le.marque_id,nom:le.nom}))))}searchModeles(U,B){let he=this.supabase.supabase.from("modeles").select("marque_id, nom").eq("marque_id",U).order("nom",{ascending:!0});return B&&(he=he.ilike("nom",`${B}%`).limit(10)),(0,e.H)(he).pipe((0,E.T)(le=>(le.data||[]).map(pe=>({marque_id:pe.marque_id,nom:pe.nom}))))}searchAssureurs(U){return(0,e.H)(this.supabase.supabase.from("assureurs_belges").select("id, nom_assureur").ilike("nom_assureur",`${U}%`).order("nom_assureur",{ascending:!0}).limit(10)).pipe((0,E.T)(B=>(console.log("Compagnies d'assurance re\xe7ues:",B.data),(B.data||[]).map(le=>({id:le.id,nom:le.nom_assureur})))))}getInsurerById(U){return(0,e.H)(this.supabase.supabase.from("assureurs_belges").select("id, nom_assureur").eq("id",U).single()).pipe((0,E.T)(B=>{if(B.error||!B.data)throw console.error(`Erreur lors de la r\xe9cup\xe9ration de l'assureur avec l'ID ${U}:`,B.error),B.error||new Error(`Aucun assureur trouv\xe9 pour l'ID ${U}`);return{id:B.data.id,nom:B.data.nom_assureur}}))}getAllAssureurs(){return(0,e.H)(this.supabase.supabase.from("assureurs_belges").select("id, nom_assureur").order("nom_assureur",{ascending:!0})).pipe((0,E.T)(U=>(U.data||[]).map(he=>({id:he.id,nom:he.nom_assureur}))))}getAllStatuts(){return(0,e.H)(this.supabase.supabase.from("statut").select("id, statut").order("statut",{ascending:!0})).pipe((0,E.T)(U=>{if(U.error)throw console.error("Erreur lors de la r\xe9cup\xe9ration des statuts:",U.error),U.error;return console.log("Statuts r\xe9cup\xe9r\xe9s depuis Supabase:",U.data),U.data||[]}))}getAllMaritalStatuses(){return(0,e.H)(this.supabase.supabase.from("marital_statut").select("id, label").order("id",{ascending:!0})).pipe((0,E.T)(U=>{if(U.error)throw console.error("Erreur lors de la r\xe9cup\xe9ration des statuts matrimoniaux:",U.error),U.error;return console.log("Statuts matrimoniaux r\xe9cup\xe9r\xe9s depuis Supabase:",U.data),U.data||[]}))}getContracts(U,B){return"auto"===B?(0,e.H)(this.supabase.supabase.from("devis_assurance").select("\n            id,\n            date_effet,\n            statut,\n            vehicules ( marque, modele )\n          ").eq("preneur_id",U)).pipe((0,E.T)(he=>{if(he.error)throw he.error;return(he.data||[]).map(le=>({id:le.id,categorie:"Auto",denomination:`${le.vehicules.marque} ${le.vehicules.modele}`,date_contract:le.date_effet,date_validite:le.date_effet,date_terme:"",statut:le.statut||"Devis en attente"}))})):"habitation"===B?(0,e.H)(this.supabase.supabase.from("habitation_quotes").select("\n            id,\n            date_effet,\n            statut,\n            batiment_type_maison, \n            batiment_adresse\n          ").eq("preneur_id",U)).pipe((0,E.T)(he=>{if(he.error)throw he.error;return console.log("Donn\xe9es brutes des devis habitation:",he.data),(he.data||[]).map(le=>({id:le.id,categorie:"Habitation",denomination:le.batiment_adresse?`${le.batiment_type_maison} - ${le.batiment_adresse}`:le.batiment_type_maison,date_contract:le.date_effet,date_validite:le.date_effet,date_terme:"",statut:le.statut||"Devis en attente"}))})):"obseques"===B?(0,e.H)(this.supabase.supabase.from("obseques_quotes").select("\n            id,\n            created_at,\n            nombre_assures\n          ").eq("preneur_id",U)).pipe((0,E.T)(he=>{if(he.error)throw he.error;return(he.data||[]).map(le=>({id:le.id,categorie:"Obs\xe8ques",denomination:`Devis pour ${le.nombre_assures} personne(s)`,date_contract:le.created_at,date_validite:le.created_at,date_terme:"",statut:"Devis en attente"}))})):(0,e.H)(this.supabase.supabase.from("contracts").select("*").eq("preneur_id",U).eq("categorie",B)).pipe((0,E.T)(he=>he.data||[]))}getDocuments(U){return(0,e.H)(this.supabase.supabase.from("uploaded_files").select("*").eq("user_id",U).order("date_created",{ascending:!1})).pipe((0,E.T)(B=>{if(B.error)throw console.error("Erreur lors de la r\xe9cup\xe9ration des documents :",B.error),B.error;return B.data||[]}))}uploadDocument(U,B,he,le,fe){const pe=he,xe=fe||Q.c.storage_bucket_clients,nt=U.name.replace(/[^a-zA-Z0-9._-]/g,"_"),Te=`${pe}/${Date.now()}_${nt}`,$e=new FormData;$e.append("file",U);const Ye=new j.Lr({apikey:Q.c.supabaseKey,Authorization:`Bearer ${Q.c.supabaseKey}`});return this.http.post(`${Q.c.supabaseUrl}/storage/v1/object/${xe}/${Te}`,$e,{headers:Ye}).pipe((0,K.n)(()=>{const Ke={file_name:U.name,path:Te,user_id:B,status:"En attente",date_created:(new Date).toISOString(),id_type:le};return(0,e.H)(this.supabase.insertData("uploaded_files",Ke))}),(0,E.T)(Ke=>{if(Ke.error)throw Ke.error;return Ke.data}))}deleteDocument(U,B,he){return(0,e.H)(this.supabase.supabase.storage.from(he).remove([B])).pipe((0,K.n)(le=>{if(le.error)throw le.error;return(0,e.H)(this.supabase.supabase.from("uploaded_files").delete().eq("id",U))}),(0,E.T)(le=>{if(le.error)throw le.error}))}checkEmailExists(U){return(0,e.H)(this.supabase.supabase.from("personnes").select("id",{count:"exact",head:!0}).eq("email",U)).pipe((0,E.T)(B=>(B.count??0)>0),(0,ue.W)(B=>{throw console.error("Critical DB Error checking email:",B),B}))}checkPermisExists(U){return(0,e.H)(this.supabase.supabase.from("personnes").select("permis_numero",{count:"exact",head:!0}).eq("permis_numero",U)).pipe((0,E.T)(B=>(B.count??0)>0),(0,ue.W)(B=>(console.error("Erreur lors de la v\xe9rification du permis:",B),(0,H.of)(!1))))}createUser(U){return(0,e.H)(this.supabase.supabase.auth.signUp({email:U.email,password:U.password})).pipe((0,K.n)(({data:B,error:he})=>{if(he)throw he;if(!B.user)throw new Error("La cr\xe9ation de l'utilisateur a \xe9chou\xe9, aucun utilisateur retourn\xe9.");const le={user_id:B.user.id,nom:U.nom,prenom:U.prenom,email:U.email,telephone:U.telephone,adresse:U.adresse,code_postal:U.codePostal,ville:U.ville,date_naissance:U.dateNaissance,permis_numero:U.permis,permis_date:U.datePermis,genre:U.genre};return(0,e.H)(this.supabase.supabase.from("personnes").insert(le).select().single()).pipe((0,K.n)(fe=>{if(fe.error)throw fe.error;return this.createUserStorageFolder(B.user.id).pipe((0,E.T)(()=>fe))}))}))}getPersonByUserId(U){return(0,e.H)(this.supabase.supabase.from("personnes").select("*").eq("user_id",U).single()).pipe((0,E.T)(B=>B.data))}getPeopleWithAccounts(){return(0,e.H)(this.supabase.supabase.from("personnes").select("*").not("user_id","is",null).order("nom",{ascending:!0})).pipe((0,E.T)(U=>{if(U.error)throw console.error("Erreur lors de la r\xe9cup\xe9ration des personnes avec compte:",U.error),U.error;return U.data||[]}))}getPersonByEmail(U){return(0,e.H)(this.supabase.supabase.from("personnes").select("*").eq("email",U).single()).pipe((0,E.T)(B=>(B.error&&"PGRST116"!==B.error.code&&console.error("Erreur lors de la r\xe9cup\xe9ration de la personne par email:",B.error),B.data)))}linkUserToPerson(U,B){return this.getPersonByEmail(B).pipe((0,K.n)(he=>{if(!he)return(0,H.of)(null);const le=he.user_id!==U?this.supabase.supabase.from("personnes").update({user_id:U}).eq("id",he.id):Promise.resolve();return(0,e.H)(le).pipe((0,K.n)(()=>!0===he.folder_id?(0,H.of)({status:"folder_exists"}):this.createUserStorageFolder(U).pipe((0,K.n)(()=>(0,e.H)(this.supabase.supabase.from("personnes").update({folder_id:!0}).eq("id",he.id))))))}))}getDevisDetails(U){return console.log(`[DbConnectService] R\xe9cup\xe9ration des d\xe9tails du devis auto pour l'ID: ${U}`),(0,e.H)(this.supabase.supabase.from("devis_assurance").select("\n          *,\n          preneur:personnes!devis_assurance_preneur_id_fkey(*),\n          conducteur:personnes!devis_assurance_conducteur_id_fkey(*),\n          vehicule:vehicules(*)\n        ").eq("id",U).single()).pipe((0,E.T)(B=>{if(B.error)throw B.error;return B.data}))}getHabitationQuoteDetails(U){return console.log(`[DbConnectService] R\xe9cup\xe9ration des d\xe9tails du devis habitation pour l'ID: ${U}`),(0,e.H)(this.supabase.supabase.from("habitation_quotes").select("\n          *, \n          preneur:personnes!habitation_quotes_preneur_id_fkey(*)\n        ").eq("id",U).single()).pipe((0,E.T)(B=>{if(B.error)throw B.error;return B.data}))}getObsequesQuoteDetails(U){return console.log(`[DbConnectService] R\xe9cup\xe9ration des d\xe9tails du devis obs\xe8ques pour l'ID: ${U}`),(0,e.H)(this.supabase.supabase.from("obseques_quotes").select("\n          *,\n          preneur:personnes!obseques_quotes_preneur_id_fkey(*)\n        ").eq("id",U).single()).pipe((0,E.T)(B=>{if(B.error)throw B.error;return console.log(`[DbConnectService] D\xe9tails du devis obs\xe8ques re\xe7us pour l'ID ${U}:`,B.data),B.data}))}getVoyageQuoteDetails(U){return(0,e.H)(this.supabase.supabase.from("assu_voyage").select("*").eq("id",U).single()).pipe((0,E.T)(B=>{if(B.error)throw B.error;return B.data}))}getRcQuoteDetails(U){return(0,e.H)(this.supabase.supabase.from("rc_familiale_quotes").select("*").eq("id",U).single()).pipe((0,E.T)(B=>{if(B.error)throw B.error;return B.data}))}createUserStorageFolder(U){const B=U.substring(0,8),he=Q.c.storage_bucket_clients,fe=`${B}/.emptyFolderPlaceholder`;return(0,e.H)(this.supabase.supabase.storage.from(he).list(B)).pipe((0,K.n)(pe=>pe.data&&pe.data.length>0?(0,H.of)({data:pe.data,error:null}):(0,e.H)(this.supabase.supabase.storage.from(he).upload(fe,new Blob([""]),{cacheControl:"3600",upsert:!1}))),(0,E.T)(pe=>(pe.error&&console.error(`Erreur lors de la cr\xe9ation du dossier de stockage pour ${U}:`,pe.error),pe)))}getAllAutoQuotes(U,B,he){const le=(B-1)*he,fe=le+he-1;let pe=this.supabase.supabase.from("devis_assurance").select("\n          id,\n          created_at,\n          preneur_id,\n          conducteur_id,\n          statut,\n          preneur:personnes!devis_assurance_preneur_id_fkey ( nom, prenom, uid ),\n          vehicules ( type, marque, modele, annee )\n        ",{count:"exact"}).order("created_at",{ascending:!1}).range(le,fe);if(U){const xe=`%${U}%`;pe=pe.or(`nom.ilike.${xe},prenom.ilike.${xe}`,{foreignTable:"preneur"})}return(0,e.H)(pe).pipe((0,E.T)(xe=>({data:xe.data||[],count:xe.count})))}getAllHabitationQuotes(U,B,he){const le=(B-1)*he,fe=le+he-1;let pe=this.supabase.supabase.from("habitation_quotes").select("\n          id,\n          created_at,\n          preneur_id,\n          statut,\n          batiment_adresse,\n          batiment_type_maison,\n          preneur:personnes!habitation_quotes_preneur_id_fkey ( nom, prenom, uid )\n        ",{count:"exact"}).order("created_at",{ascending:!1}).range(le,fe);if(U){const xe=`%${U}%`;pe=pe.or(`nom.ilike.${xe},prenom.ilike.${xe}`,{foreignTable:"preneur"})}return(0,e.H)(pe).pipe((0,E.T)(xe=>({data:xe.data||[],count:xe.count})))}getAllObsequesQuotes(U,B,he){const le=(B-1)*he,fe=le+he-1;let pe=this.supabase.supabase.from("obseques_quotes").select("id, created_at, statut, nombre_assures, preneur_id, preneur:personnes!obseques_quotes_preneur_id_fkey ( nom, prenom, uid )",{count:"exact"}).order("created_at",{ascending:!1}).range(le,fe);if(U){const xe=`%${U}%`;pe=pe.or(`nom.ilike.${xe},prenom.ilike.${xe}`,{foreignTable:"preneur"})}return(0,e.H)(pe).pipe((0,E.T)(xe=>({data:xe.data||[],count:xe.count})))}getAllVoyageQuotes(){const U=this.supabase.supabase.from("assu_voyage").select("\n          id,\n          date_created,\n          preneur_id,\n          statut,\n          nom,\n          prenom,\n          description\n        ").order("date_created",{ascending:!1});return(0,e.H)(U).pipe((0,E.T)(B=>{if(B.error)throw B.error;return B.data||[]}))}getAllRcQuotes(){const U=this.supabase.supabase.from("rc_familiale_quotes").select("\n          id,\n          created_at,\n          preneur_id,\n          preneur_nom,\n          preneur_prenom,\n          risque\n        ").order("created_at",{ascending:!1});return(0,e.H)(U).pipe((0,E.T)(B=>{if(B.error)throw B.error;return B.data||[]}))}getRecentAutoQuotes(U){const B=this.supabase.supabase.from("devis_assurance").select("\n          id,\n          created_at,\n          preneur_id,\n          statut,\n          preneur:personnes!devis_assurance_preneur_id_fkey ( nom, prenom )\n        ").order("created_at",{ascending:!1}).limit(U);return(0,e.H)(B).pipe((0,E.T)(he=>{if(he.error)throw he.error;return console.log("[DbConnectService] Recent auto quotes fetched:",he.data),he.data||[]}))}getRecentHabitationQuotes(U){const B=this.supabase.supabase.from("habitation_quotes").select("\n          id,\n          created_at,\n          preneur_id,\n          statut,\n          preneur:personnes!habitation_quotes_preneur_id_fkey ( nom, prenom )\n        ").order("created_at",{ascending:!1}).limit(U);return(0,e.H)(B).pipe((0,E.T)(he=>{if(he.error)throw console.error("Erreur lors de la r\xe9cup\xe9ration des devis habitation r\xe9cents:",he.error),he.error;return he.data||[]}))}getAutoPolicies(U){const B=this.supabase.supabase.from("polices_auto").select("\n          id,\n          numero_police,\n          date_debut,\n          date_fin,\n          statut,\n          preneur:personnes ( nom, prenom )\n        ").order("created_at",{ascending:!1}).limit(U);return(0,e.H)(B).pipe((0,E.T)(he=>{if(he.error)throw he.error;return he.data||[]}))}getNationalities(){if(!this.nationalities$){const U=this.supabase.supabase.from("nationalities").select("*").order("nationality",{ascending:!0});this.nationalities$=(0,e.H)(U).pipe((0,E.T)(B=>B.data||[]),(0,ve.t)(1))}return this.nationalities$}getQuoteDetails(U,B){switch(U){case"auto":return this.getDevisDetails(B);case"habitation":return this.getHabitationQuoteDetails(B);case"obseques":return this.getObsequesQuoteDetails(B);case"voyage":return this.getVoyageQuoteDetails(B);case"rc":return this.getRcQuoteDetails(B);case"professionnel":return this.getCompanyDetails(B);default:return console.error(`Type de devis inconnu dans getQuoteDetails: ${U}`),(0,H.of)(null)}}getCompanyDetails(U){return(0,e.H)(this.supabase.supabase.from("companies").select("*").eq("id",U).single()).pipe((0,E.T)(B=>{if(B.error)throw B.error;return B.data}))}getQuoteCategoryById(U){return(0,e.H)(this.supabase.supabase.rpc("get_quote_category_by_id",{p_quote_id:U})).pipe((0,E.T)(B=>{if(B.error)throw console.warn(`[DbConnectService] Erreur 500 probable dans 'getQuoteCategoryById' pour l'ID ${U}.`,"Erreur RPC Supabase:",B.error),B.error;return B.data?B.data:null}),(0,ue.W)(B=>(console.error("Erreur dans le pipe de getQuoteCategoryById:",B),console.warn(`[DbConnectService] 'getQuoteCategoryById' a \xe9chou\xe9 pour l'ID ${U}.`),(0,H.of)(null))))}updateAutoQuote(U,B){const le=this.supabase.supabase.rpc("update_auto_quote_details",{p_quote_id:U,p_vehicule_data:{marque:B.p_vehicule.make,modele:B.p_vehicule.model,annee:B.p_vehicule.year,plaque:B.p_vehicule.licensePlate,puissance_kw:B.p_vehicule.power,places:B.p_vehicule.seats,valeur:B.p_vehicule.value,date_circulation:B.p_vehicule.registrationDate},p_devis_data:B.p_devis}).then(({data:fe,error:pe})=>pe?(console.warn(`[DbConnectService] Erreur 500 probable dans 'updateAutoQuote' pour l'ID ${U}.`,"Erreur RPC Supabase:",pe),console.error("Erreur RPC update_auto_quote_details:",pe),{success:!1,error:pe}):{success:!0,data:fe});return(0,e.H)(le)}updateObsequesQuote(U,B){const he={p_quote_id:U,p_preneur_data:B.preneur,p_devis_data:{nombre_assures:B.devis.nombre_assures,preneur_est_assure:B.devis.preneur_est_assure,assures:B.devis.assures,statut:B.devis.statut,compagnie_id:B.devis.compagnie_id}};console.log("[DbConnectService] updateObsequesQuote payload:",he);const le=this.supabase.supabase.rpc("update_obseques_quote",he).then(({data:fe,error:pe})=>pe?(console.error(`[DbConnectService] Erreur RPC dans 'updateObsequesQuote' pour l'ID ${U}.`,pe),console.log("[DbConnectService] updateObsequesQuote payload:",he),{success:!1,error:pe}):{success:!0,data:fe});return(0,e.H)(le)}updateHabitationQuote(U,B){const le=this.supabase.supabase.rpc("update_habitation_quote_details",{p_quote_id:U,p_devis_data:{batiment_adresse:B.p_devis.batiment_adresse,batiment_code_postal:B.p_devis.batiment_code_postal,batiment_ville:B.p_devis.batiment_ville,batiment_type_maison:B.p_devis.batiment_type_maison,evaluation_superficie:B.p_devis.evaluation_superficie,evaluation_nombre_pieces:B.p_devis.evaluation_nombre_pieces,evaluation_loyer_mensuel:B.p_devis.evaluation_loyer_mensuel,evaluation_type_valeur_batiment:B.p_devis.evaluation_type_valeur_batiment,evaluation_type_valeur_contenu:B.p_devis.evaluation_type_valeur_contenu,evaluation_valeur_expertise:B.p_devis.evaluation_valeur_expertise,evaluation_date_expertise:B.p_devis.evaluation_date_expertise,evaluation_valeur_libre_contenu:B.p_devis.evaluation_valeur_libre_contenu,garantie_contenu:B.p_devis.garantie_contenu,garantie_vol:B.p_devis.garantie_vol,garantie_pertes_indirectes:B.p_devis.garantie_pertes_indirectes,garantie_protection_juridique:B.p_devis.garantie_protection_juridique,garantie_assistance:B.p_devis.garantie_assistance,date_effet:B.p_devis.date_effet,compagnie_id:B.p_devis.compagnie_id,statut:B.p_devis.statut}}).then(({data:fe,error:pe})=>pe?(console.warn(`[DbConnectService] Erreur 500 probable dans 'updateHabitationQuote' pour l'ID ${U}.`,"Erreur RPC Supabase:",pe),{success:!1,error:pe}):{success:!0,data:fe});return(0,e.H)(le)}updateCompany(U,B){return(0,e.H)(this.supabase.supabase.from("companies").update(B).eq("id",U).select().single()).pipe((0,E.T)(he=>he.error?(console.error(`Erreur lors de la mise \xe0 jour de la soci\xe9t\xe9 ${U}:`,he.error),{success:!1,error:he.error}):{success:!0,data:he.data}))}updatePerson(U,B){return(0,e.H)(this.supabase.supabase.from("personnes").update(B).eq("id",U).select().single()).pipe((0,E.T)(he=>{if(he.error)throw he.error;return{data:he.data,error:null}}))}getPersonById(U){return(0,e.H)(this.supabase.supabase.from("personnes").select("*").eq("id",U).single()).pipe((0,E.T)(B=>(B.error&&"PGRST116"!==B.error.code&&console.error(`Erreur lors de la r\xe9cup\xe9ration de la personne avec l'ID ${U}:`,B.error),B.data)))}findOrCreatePerson(U){var B=this;return(0,l.A)(function*(){console.log("[findOrCreatePerson] Donn\xe9es de la personne re\xe7ues :",U);const{data:he}=yield B.supabase.supabase.from("personnes").select("*").eq("email",U.email).single();if(he)return console.log("[findOrCreatePerson] Personne existante trouv\xe9e:",he),he;console.log("[findOrCreatePerson] Aucune personne existante, cr\xe9ation en cours...");const{data:le,error:fe}=yield B.supabase.supabase.from("personnes").insert(U).select().single();if(fe)throw console.error("[findOrCreatePerson] Erreur lors de l'insertion de la nouvelle personne :",fe),fe;return console.log("[findOrCreatePerson] Nouvelle personne cr\xe9\xe9e :",le),le})()}mapPersonDataForRpc(U,B={includeDrivingLicense:!0,includeNationalRegistry:!0}){const he={prenom:U.firstName,nom:U.lastName,date_naissance:U.date_naissance,email:U.email,telephone:U.phone,adresse:U.address,code_postal:U.postalCode,ville:U.city,nationality:U.nationality,marital_status_id:U.maritalStatus};return B.includeDrivingLicense&&(he.permis_numero=U.driverLicenseNumber,he.permis_date=U.driverLicenseDate),B.includeNationalRegistry&&(he.numero_national=U.nationalRegistryNumber,he.idcard_number=U.idCardNumber,he.idcard_validity=U.idCardValidityDate),he}getAllQuotesGeneric(U,B,he,le,fe,pe){const xe=(le-1)*fe,nt=xe+fe-1;let Te=this.supabase.supabase.from(U).select(B,{count:"exact"}).order("created_at",{ascending:!1}).range(xe,nt);if(he&&(pe.localColumns?.length||pe.foreignTables?.length)){const $e=`%${he}%`;pe.localColumns&&[].push(pe.localColumns.map(Ke=>`${Ke}.ilike.${$e}`).join(",")),pe.foreignTables&&pe.foreignTables.forEach(Ke=>{const st=Ke.columns.map(kt=>`${kt}.ilike.${$e}`).join(",");Te=Te.or(st,{foreignTable:Ke.name})})}return(0,e.H)(Te).pipe((0,E.T)($e=>({data:$e.data||[],count:$e.count})))}getContractSubjects(){return(0,e.H)(this.supabase.supabase.from("subject_contract").select("id, title").order("title",{ascending:!0})).pipe((0,E.T)(U=>{if(U.error)throw console.error("Erreur lors de la r\xe9cup\xe9ration des sujets de contrat:",U.error),U.error;return U.data||[]}))}getFullQuoteDetails(U){console.log(`[DbConnectService] Appel de getFullQuoteDetails pour l'ID: ${U}`);const B=this.supabase.supabase.rpc("get_full_quote_details",{p_quote_id:U}).then(({data:he,error:le})=>{if(le)throw console.warn(`[DbConnectService] Erreur 500 probable dans 'getFullQuoteDetails' pour l'ID ${U}.`,"Erreur RPC Supabase:",le),console.warn(`[DbConnectService] Erreur 500 probable dans 'getFullQuoteDetails' pour l'ID ${U}.`,"Erreur RPC Supabase:",le),le;if(console.log(`[DbConnectService] Donn\xe9es brutes re\xe7ues de la RPC pour l'ID ${U}:`,he),!he)throw console.warn(`[DbConnectService] Aucun devis trouv\xe9 via RPC pour l'ID ${U}. La fonction a retourn\xe9 null.`),new Error(`Aucun devis trouv\xe9 pour l'ID ${U}. La fonction a retourn\xe9 une r\xe9ponse vide.`);return console.log(`[DbConnectService] Succ\xe8s: D\xe9tails complets du devis r\xe9cup\xe9r\xe9s pour l'ID ${U}.`),he});return(0,e.H)(B)}getAllEcheanceStatuts(){return(0,e.H)(this.supabase.supabase.from("echeancier").select("id, id_echeance, label")).pipe((0,E.T)(U=>{if(U.error)throw console.error("Erreur lors de la r\xe9cup\xe9ration des statuts d'\xe9ch\xe9ancier:",U.error),U.error;return U.data||[]}))}saveCsvDataToDb(U,B,he){const le=JSON.parse(JSON.stringify(he).replace(/\u0000/g,""));return(0,e.H)(this.supabase.insertData("csv_imports",{quote_id:U,quote_type:B,json_data:le})).pipe((0,E.T)(pe=>{if(pe.error)throw pe.error;return pe.data}))}getCsvData(U,B){const he=this.supabase.supabase.rpc("get_csv_import_data",{p_quote_id:U,p_quote_type:B});return(0,e.H)(he).pipe((0,E.T)(le=>{if(le.error)throw console.warn(`[DbConnectService] Erreur 500 probable dans 'getCsvData' pour quoteId ${U}.`,"Erreur RPC Supabase:",le.error),le.error;return le.data||[]}),(0,ue.W)(le=>(console.error(`[DbConnectService] Erreur dans getCsvData pour quoteId ${U}:`,le),(0,H.of)([]))))}getDocumentTypes(){return(0,e.H)(this.supabase.supabase.from("type_documents").select("id, created_at, Label, view").order("Label",{ascending:!0})).pipe((0,E.T)(({data:U,error:B})=>{if(B)throw console.error("Erreur lors de la r\xe9cup\xe9ration des types de documents :",B),B;return U??[]}))}createSignedUrl(U,B,he){var le=this;return(0,l.A)(function*(){return le.supabase.supabase.storage.from(U).createSignedUrl(B,he)})()}getPublicUrl(U,B){return this.supabase.supabase.storage.from(U).getPublicUrl(B)}getCurrentUser(){return this.supabase.currentUser$}getPersonCountsByPostalCode(){return(0,e.H)(this.supabase.supabase.rpc("get_person_counts_by_postal_code")).pipe((0,E.T)(U=>{if(U.error)throw console.error("Erreur lors de l'appel RPC get_person_counts_by_postal_code:",U.error),U.error;return U.data||[]}),(0,ue.W)(U=>(console.error("Erreur dans le pipe de getPersonCountsByPostalCode:",U),(0,H.of)([]))))}getAuthUsersInfo(){return(0,e.H)(this.supabase.supabase.rpc("get_users_info")).pipe((0,E.T)(U=>{if(U.error)throw console.error("Erreur RPC get_users_info:",U.error),U.error;return U.data||[]}))}deleteAuthUser(U){return(0,e.H)(this.supabase.supabase.rpc("delete_user_by_id",{p_user_id:U})).pipe((0,E.T)(B=>{if(B.error)throw console.error("Erreur RPC delete_user_by_id:",B.error),B.error}))}updateAuthUserPassword(U,B){return(0,e.H)(this.supabase.supabase.rpc("update_user_password",{p_user_id:U,p_new_password:B})).pipe((0,E.T)(he=>{if(he.error)throw console.error("Erreur RPC update_user_password:",he.error),he.error}))}initializeRealtimeSubscriptions(){this.realtimeInitialized||(this.realtimeInitialized=!0,["devis_assurance","habitation_quotes","obseques_quotes","assu_voyage","rc_familiale_quotes"].forEach(B=>{this.supabase.supabase.channel(`public:${B}`).on("postgres_changes",{event:"INSERT",schema:"public",table:B},he=>{this.onNewQuote$.next({table:B,data:he.new})}).subscribe()}))}registerCompany(U){return(0,e.H)(this.supabase.supabase.rpc("register_belgian_company",U)).pipe((0,E.T)(B=>{if(B.error)throw B.error;return B.data}))}getAllCompanies(U,B,he){const le=(B-1)*he,fe=le+he-1;let pe=this.supabase.supabase.from("companies").select("*",{count:"exact"}).order("created_at",{ascending:!1}).range(le,fe);if(U){const xe=`%${U}%`;pe=pe.or(`name.ilike.${xe},enterprise_number.ilike.${xe}`)}return(0,e.H)(pe).pipe((0,E.T)(xe=>({data:xe.data||[],count:xe.count})))}static \u0275fac=function(B){return new(B||Le)(ye.KVO(Fe.w),ye.KVO(j.Qq))};static \u0275prov=ye.jDH({token:Le,factory:Le.\u0275fac,providedIn:"root"})}return Le})()},3161:(Je,_e,D)=>{"use strict";D.d(_e,{t:()=>S});var l=D(6648),j=D(5312),te=D(4438),e=D(1626);let S=(()=>{class H{http;functionUrl=`${j.c.supabaseUrl}/functions/v1/send-email`;constructor(K){this.http=K}sendEmail(K){return(0,l.H)(fetch(this.functionUrl,{method:"POST",headers:{Authorization:`Bearer ${j.c.supabaseKey}`,apikey:j.c.supabaseKey,"Content-Type":"application/json"},body:JSON.stringify(K)}))}static \u0275fac=function(ue){return new(ue||H)(te.KVO(e.Qq))};static \u0275prov=te.jDH({token:H,factory:H.\u0275fac,providedIn:"root"})}return H})()},8212:(Je,_e,D)=>{"use strict";D.d(_e,{W:()=>ve});var l=D(467),j=D(6648),te=D(8810),e=D(5558),S=D(6354),H=D(1626),E=D(5312),K=D(4438),ue=D(9692);let ve=(()=>{class Q{supabase;http;apiUrl=`${E.c.supabaseUrl}/functions/v1/create-payment-intent`;constructor(Fe,Ee){this.supabase=Fe,this.http=Ee}createPaymentIntent(Fe,Ee={}){return(0,j.H)(this.supabase.supabase.auth.getSession()).pipe((0,e.n)(Le=>{const ne=Le.data.session;if(!ne)return(0,te.$)(()=>new Error("Not authenticated"));const U=(new H.Lr).set("Authorization",`Bearer ${ne.access_token}`);return this.http.post(this.apiUrl,{amount:Fe,metadata:Ee},{headers:U})}))}createPaymentRequest(Fe){var Ee=this;return(0,l.A)(function*(){const{data:Le,error:ne}=yield Ee.supabase.supabase.from("payment_requests").insert(Fe).select().single();if(ne)throw ne;return Le})()}getPaymentRequestsByPreneur(Fe){return(0,j.H)(this.supabase.supabase.from("payment_requests").select("*").eq("preneur_uid",Fe).order("created_at",{ascending:!1})).pipe((0,S.T)(Ee=>Ee.data||[]))}getPaymentRequestsByUser(Fe){return(0,j.H)(this.supabase.supabase.from("payment_requests").select("*").eq("uid_user",Fe).order("created_at",{ascending:!1})).pipe((0,S.T)(Ee=>Ee.data||[]))}getPersonDetails(Fe){var Ee=this;return(0,l.A)(function*(){const{data:Le,error:ne}=yield Ee.supabase.supabase.from("personnes").select("email, prenom, nom").eq("id",Fe).single();return ne?(console.error("Erreur lors de la r\xe9cup\xe9ration des d\xe9tails de la personne:",ne),null):Le})()}static \u0275fac=function(Ee){return new(Ee||Q)(K.KVO(ue.w),K.KVO(H.Qq))};static \u0275prov=K.jDH({token:Q,factory:Q.\u0275fac,providedIn:"root"})}return Q})()},4125:(Je,_e,D)=>{"use strict";D.d(_e,{T:()=>e});var l=D(467),j=D(5312),te=D(4438);let e=(()=>{class S{constructor(){}sendSms(E,K){return(0,l.A)(function*(){let ue=E.trim();ue.startsWith("+")||(ue=`+${ue}`),console.log(`[SendsmsService] Tentative d'envoi du SMS au num\xe9ro : ${E}`);const ve=`${j.c.supabaseUrl}/functions/v1/send-sms`;try{const Q=yield fetch(ve,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${j.c.supabaseKey}`},body:JSON.stringify({to:ue,message:K})});if(!Q.ok){const ye=yield Q.json();throw console.error("Erreur de la fonction Edge:",ye),new Error(ye.error||`Erreur HTTP: ${Q.status}`)}return yield Q.json()}catch(Q){throw console.error("Erreur lors de l'envoi du SMS:",Q),Q}})()}static \u0275fac=function(K){return new(K||S)};static \u0275prov=te.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})()},8072:(Je,_e,D)=>{"use strict";D.d(_e,{g:()=>K});var l=D(1626),j=D(6648),te=D(8810),e=D(5558),S=D(5312),H=D(4438),E=D(9692);let K=(()=>{class ue{http;supabase;functionsUrl=`${S.c.supabaseUrl}/functions/v1`;constructor(Q,ye){this.http=Q,this.supabase=ye}callFunction(Q,ye){return(0,j.H)(this.supabase.supabase.auth.getSession()).pipe((0,e.n)(Fe=>{const Ee=Fe.data.session;if(!Ee)return(0,te.$)(()=>new Error("Utilisateur non authentifi\xe9. Impossible d'appeler Storecove."));const Le=new l.Lr({Authorization:`Bearer ${Ee.access_token}`,"Content-Type":"application/json"});return this.http.post(`${this.functionsUrl}/${Q}`,ye,{headers:Le})}))}createInvoice(Q){return this.callFunction("generate-invoice",Q)}downloadInvoice(Q){return(0,j.H)(this.supabase.supabase.auth.getSession()).pipe((0,e.n)(ye=>{const Fe=ye.data.session;if(!Fe)return(0,te.$)(()=>new Error("Utilisateur non authentifi\xe9."));const Ee=new l.Lr({Authorization:`Bearer ${Fe.access_token}`,"Content-Type":"application/json"});return this.http.post(`${this.functionsUrl}/get-invoice-document`,{invoiceId:Q},{headers:Ee,responseType:"blob"})}))}static \u0275fac=function(ye){return new(ye||ue)(H.KVO(l.Qq),H.KVO(E.w))};static \u0275prov=H.jDH({token:ue,factory:ue.\u0275fac,providedIn:"root"})}return ue})()},9692:(Je,_e,D)=>{"use strict";D.d(_e,{w:()=>K});var l=D(467),j=D(4438),te=D(177),e=D(7583),S=D(5312),H=D(4412),E=D(6354);let K=(()=>{class ue{platformId;supabase;sessionSubject=new H.t(null);session$=this.sessionSubject.asObservable();currentUser$=this.session$.pipe((0,E.T)(Q=>Q?.user??null));constructor(Q){this.platformId=Q,(0,te.UE)(this.platformId)?(this.supabase=(0,e.UU)(S.c.supabaseUrl,S.c.supabaseKey),this.supabase.auth.onAuthStateChange((ye,Fe)=>{this.sessionSubject.next(Fe)})):this.supabase={}}insertData(Q,ye){var Fe=this;return(0,l.A)(function*(){console.log(`[SupabaseService] Tentative d'insertion dans la table '${Q}' avec les donn\xe9es:`,ye);const Ee=yield Fe.supabase.from(Q).insert([ye]);return Ee.error&&console.error(`[SupabaseService] Erreur lors de l'insertion dans la table '${Q}':`,Ee.error),Ee})()}fetchData(Q,ye){var Fe=this;return(0,l.A)(function*(){console.log(`[SupabaseService] Tentative de lecture depuis la table '${Q}' avec la requ\xeate:`,ye);const Ee=yield Fe.supabase.from(Q).select(ye);return Ee.error&&console.error(`[SupabaseService] Erreur lors de la lecture depuis la table '${Q}':`,Ee.error),Ee})()}static \u0275fac=function(ye){return new(ye||ue)(j.KVO(j.Agw))};static \u0275prov=j.jDH({token:ue,factory:ue.\u0275fac,providedIn:"root"})}return ue})()},8264:(Je,_e,D)=>{"use strict";D.d(_e,{U:()=>Q});var l=D(4438),j=D(1626),te=D(983),e=D(7673),S=D(7786),H=D(6354),E=D(9437),K=D(5964),ue=D(1943),ve=D(5312);let Q=(()=>{class ye{http=(0,l.WQX)(j.Qq);supabaseUrl=ve.c.supabaseUrl;supabaseKey=ve.c.supabaseKey;getBucketName(Ee){return{auto:"documents_auto",habitation:"documents_habitation",obseques:"documents_obseques",rc:"documents_rc",voyage:"documents_voyage"}[Ee]||"documents_autres"}uploadContractFiles(Ee,Le,ne){if(!Ee||0===Ee.length)return te.w;this.getBucketName(ne);const B=Ee.length,he=`${this.supabaseUrl}/functions/v1/storage-upload`,le=Ee.map(fe=>{const pe=new FormData;return pe.append("file",fe),pe.append("quoteId",String(Le)),pe.append("quoteType",ne),this.http.post(he,pe,{headers:{apikey:this.supabaseKey},reportProgress:!0,observe:"events"}).pipe((0,H.T)(xe=>{switch(xe.type){case j.hv.UploadProgress:const nt=Math.round(100*xe.loaded/(xe.total||1));return{fileName:fe.name,status:"uploading",progress:nt};case j.hv.Response:return{fileName:fe.name,status:"success",path:xe.body.path,progress:100};default:return null}}),(0,E.W)(xe=>(0,e.of)({fileName:fe.name,status:"error",error:xe.error?.error||xe.message||"Erreur r\xe9seau",progress:0})))});return(0,S.h)(...le).pipe((0,K.p)(fe=>null!==fe),(0,ue.S)((fe,pe)=>(fe.progresses.set(pe.fileName,pe.progress||0),fe.lastResult={...fe.lastResult,...pe},fe),{progresses:new Map,lastResult:null}),(0,H.T)(fe=>{const pe=Array.from(fe.progresses.values()).reduce((xe,nt)=>xe+nt,0)/B;return{...fe.lastResult,totalProgress:Math.round(pe)}}))}getDownloadUrl(Ee,Le){return`${this.supabaseUrl}/storage/v1/object/public/${Ee}/${Le}`}static \u0275fac=function(Le){return new(Le||ye)};static \u0275prov=l.jDH({token:ye,factory:ye.\u0275fac,providedIn:"root"})}return ye})()},1364:(Je,_e,D)=>{"use strict";D.d(_e,{Y:()=>E});var l=D(177),j=D(4438);const te=["*"];function e(K,ue){if(1&K&&(j.qex(0),j.j41(1,"div",3),j.nrm(2,"div",4),j.j41(3,"p",5),j.EFF(4),j.k0s()(),j.bVm()),2&K){const ve=j.XpG();j.R7$(4),j.JRh(ve.loadingMessage)}}function S(K,ue){if(1&K&&(j.qex(0),j.j41(1,"div",6)(2,"strong",7),j.EFF(3,"Erreur !"),j.k0s(),j.j41(4,"span",8),j.EFF(5),j.k0s()(),j.bVm()),2&K){const ve=j.XpG();j.R7$(5),j.SpI(" ",ve.errorMessage,"")}}function H(K,ue){1&K&&(j.qex(0),j.SdG(1),j.bVm())}let E=(()=>{class K{state;loadingMessage="Chargement...";errorMessage="Une erreur est survenue lors du chargement des donn\xe9es.";static \u0275fac=function(Q){return new(Q||K)};static \u0275cmp=j.VBU({type:K,selectors:[["app-state-container"]],inputs:{state:"state",loadingMessage:"loadingMessage",errorMessage:"errorMessage"},standalone:!0,features:[j.aNF],ngContentSelectors:te,decls:4,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"flex","justify-center","items-center","p-10"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-blue-500"],[1,"ml-4","text-gray-600"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded-md"],[1,"font-bold"],[1,"block","sm:inline"]],template:function(Q,ye){1&Q&&(j.NAR(),j.qex(0,0),j.DNE(1,e,5,1,"ng-container",1)(2,S,6,1,"ng-container",1)(3,H,2,0,"ng-container",2),j.bVm()),2&Q&&(j.Y8G("ngSwitch",!0),j.R7$(),j.Y8G("ngSwitchCase",ye.state.loading),j.R7$(),j.Y8G("ngSwitchCase",!!ye.state.error))},dependencies:[l.MD,l.ux,l.e1,l.fG],encapsulation:2})}return K})()},5312:(Je,_e,D)=>{"use strict";D.d(_e,{c:()=>l});const l={production:!1,dbConnect:"https://fqopliwvpuiprdegxytz.supabase.co",supabaseUrl:"https://fqopliwvpuiprdegxytz.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZxb3BsaXd2cHVpcHJkZWd4eXR6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4NzgyMzIsImV4cCI6MjA3ODQ1NDIzMn0.n-jJ5ZmaetUKLZMEz0YEvYwO2bvXWkOHKKGl1MMpQ0E",website:"https://www.assurkin.be",supabaseFunctionUrl:"https://fqopliwvpuiprdegxytz.supabase.co",domain_name:"assurkin.be",stripe_lien_paiement:"https://assurkin.be/paiement/",storage_bucket_clients:"documents",storage_bucket:"https://fqopliwvpuiprdegxytz.supabase.co/functions/v1/storage-upload",stripe_public_key:"pk_test_51SbHOFCF57PhpQ6IkRFaNg06NIIThSlX2tf0aucAgm4LK4RqJkksCAxQoslBSQPfTdJjJHSXMLC6PnUlYp7PsvRf00rmMa9ypu",storageBucketPrefix:"https://fqopliwvpuiprdegxytz.supabase.co/functions/v1/storage-upload",mapboxAccessToken:"pk.eyJ1IjoiYXNzdXJraW4iLCJhIjoiY21qMTZ0bXl0MGhuajNjcjd3a2FmMzVkcCJ9.wo_Z98iaQQ_iLZyUDBTMlQ",url_ombudsman:"www.ombudsman-insurance.be",email_ombudsman:"info#ombudsman-insurance.be",appName:"Assurkin",appDomain:"assurkin.be"}},4765:(Je,_e,D)=>{"use strict";var l=D(345),j=D(1626),te=D(9981),e=D(4438),S=D(177);let H=(()=>{class d{platformId;constructor(s){this.platformId=s}scrollToSection(s){if((0,S.UE)(this.platformId)){const f=document.getElementById(s);f&&f.scrollIntoView({behavior:"smooth",block:"start"})}}static \u0275fac=function(f){return new(f||d)(e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:d,selectors:[["app-accueil"]],standalone:!0,features:[e.aNF],decls:84,vars:0,consts:[[1,"bg-white"],["id","hero",1,"relative","isolate","bg-black","px-6","pt-14","lg:px-8"],[1,"mx-auto","max-w-7xl","py-8","sm:py-12","lg:py-16"],[1,"grid","grid-cols-1","items-center","gap-x-8","gap-y-16","lg:grid-cols-2"],[1,"text-center","lg:text-left","animate-fade-in-up"],[1,"text-4xl","font-bold","tracking-tight","text-white","sm:text-6xl","animate-fade-in-up",2,"animation-delay","0.2s"],[1,"mt-6","text-lg","leading-8","text-gray-300","animate-fade-in-up",2,"animation-delay","0.4s"],[1,"mt-10","flex","items-center","justify-center","gap-x-6","lg:justify-start","animate-fade-in-up",2,"animation-delay","0.6s"],["routerLink","/contact",1,"rounded-md","bg-indigo-600","px-3.5","py-2.5","text-sm","font-semibold","text-white","shadow-sm","hover:bg-indigo-500","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-indigo-600"],[1,"text-sm","font-semibold","leading-6","text-white",3,"click"],["aria-hidden","true"],[1,"flex","justify-center","lg:justify-end","animate-fade-in",2,"animation-delay","0.8s"],["src","https://fqopliwvpuiprdegxytz.supabase.co/storage/v1/object/sign/img_website/assukin.webp?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV81MmJmNDFiNC0yNGQ0LTQ3ZTktYmEzNi04YWZmY2NjMzEzNzIiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJpbWdfd2Vic2l0ZS9hc3N1a2luLndlYnAiLCJpYXQiOjE3NjMwMjAyMjYsImV4cCI6MjA3ODM4MDIyNn0.7YNFUpPItIygZoqlnw2CE-Elj9r-64kfppEpvelhMpA","alt","\xc9quipe Assurkin",1,"w-full","max-w-xs","rounded-xl","shadow-xl","ring-1","ring-gray-400/10","lg:max-w-md"],["id","services",1,"bg-gray-50","py-24","sm:py-32"],[1,"mx-auto","max-w-7xl","px-6","lg:px-8"],[1,"mx-auto","max-w-2xl","lg:text-center"],[1,"text-base","font-semibold","leading-7","text-indigo-600"],[1,"mt-2","text-3xl","font-bold","tracking-tight","text-gray-900","sm:text-4xl"],[1,"mx-auto","mt-16","max-w-2xl","sm:mt-20","lg:mt-24","lg:max-w-none"],[1,"text-2xl","font-bold","text-center","text-gray-800","mb-12"],[1,"grid","max-w-xl","grid-cols-1","gap-x-8","gap-y-16","lg:max-w-none","lg:grid-cols-3"],[1,"relative","pl-16"],[1,"text-base","font-semibold","leading-7","text-gray-900"],[1,"absolute","left-0","top-0","flex","h-10","w-10","items-center","justify-center","rounded-lg","bg-indigo-600"],["fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor","aria-hidden","true",1,"h-6","w-6","text-white"],["stroke-linecap","round","stroke-linejoin","round","d","M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h1.125c.621 0 1.125-.504 1.125-1.125V14.25m-17.25 4.5h10.5a1.125 1.125 0 001.125-1.125V6.75a1.125 1.125 0 00-1.125-1.125H3.375A1.125 1.125 0 002.25 6.75v10.5a1.125 1.125 0 001.125 1.125z"],[1,"mt-2","text-base","leading-7","text-gray-600"],[1,"mt-4"],["routerLink","/particulier/auto",1,"text-sm","font-semibold","leading-6","text-indigo-600"],["stroke-linecap","round","stroke-linejoin","round","d","M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"],["routerLink","/particulier/habitation",1,"text-sm","font-semibold","leading-6","text-indigo-600"],["stroke-linecap","round","stroke-linejoin","round","d","M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m-7.5-2.962c.513-.513.513-1.344 0-1.857a1.5 1.5 0 012.121 0c.513.513.513 1.344 0 1.857m-2.121 0a1.5 1.5 0 01-2.121 0c-.513-.513-.513-1.344 0-1.857a1.5 1.5 0 012.121 0m-2.121 0c.513.513.513 1.344 0 1.857m-2.121 0a1.5 1.5 0 01-2.121 0c-.513-.513-.513-1.344 0-1.857a1.5 1.5 0 012.121 0m6.364 0c.513.513.513 1.344 0 1.857m-2.121 0a1.5 1.5 0 01-2.121 0c-.513-.513-.513-1.344 0-1.857a1.5 1.5 0 012.121 0m2.121 0c.513.513.513 1.344 0 1.857m-2.121 0a1.5 1.5 0 01-2.121 0c-.513-.513-.513-1.344 0-1.857a1.5 1.5 0 012.121 0m-2.121 0a1.5 1.5 0 01-2.121 0c-.513-.513-.513-1.344 0-1.857a1.5 1.5 0 012.121 0m9.546 2.121a9.094 9.094 0 01-3.742.479 3 3 0 01-4.682-2.72m7.5 2.962c-.513.513-.513 1.344 0 1.857a1.5 1.5 0 002.121 0c.513-.513.513 1.344 0 1.857m-2.121 0a1.5 1.5 0 00-2.121 0c-.513.513-.513 1.344 0-1.857a1.5 1.5 0 002.121 0"],["routerLink","/particulier/rc-familale",1,"text-sm","font-semibold","leading-6","text-indigo-600"],[1,"mt-16","lg:mt-24"],[1,"text-xl","font-bold","text-center","text-gray-800","mb-8"],[1,"mx-auto","max-w-4xl"],[1,"overflow-hidden","rounded-lg","shadow-xl"],["controls","","autoplay","","muted","","loop","","playsinline","",1,"w-full","h-auto"],["src","https://dela-digital.be/tools/video-pensez-a-plus-tard-avec-dela-bruno-sophie-1583925934.mp4","type","video/mp4"],[1,"text-center","text-gray-600"],[1,"mt-8","text-center"],["routerLink","/contact",1,"rounded-md","bg-indigo-600","px-3.5","py-2.5","text-sm","font-semibold","text-white","shadow-sm","hover:bg-indigo-500"]],template:function(f,c){1&f&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),e.EFF(6,"AssurKin, votre partenaire confiance"),e.k0s(),e.j41(7,"p",6),e.EFF(8,"Des solutions d'assurance sur-mesure pour les particuliers et les professionnels. Notre \xe9coute active nous permet de vous garantir la protection la plus adapt\xe9e \xe0 vos besoins, pour votre tranquillit\xe9 d'esprit. Nous vous accompagnons \xe0 chaque \xe9tape pour vous offrir un service fiable et r\xe9actif."),e.k0s(),e.j41(9,"div",7)(10,"a",8),e.EFF(11,"Contactez-nous"),e.k0s(),e.j41(12,"button",9),e.bIt("click",function(){return c.scrollToSection("services")}),e.EFF(13,"D\xe9couvrir nos services "),e.j41(14,"span",10),e.EFF(15,"\u2192"),e.k0s()()()(),e.j41(16,"div",11),e.nrm(17,"img",12),e.k0s()()()(),e.j41(18,"div",13)(19,"div",14)(20,"div",15)(21,"h2",16),e.EFF(22,"Nos Assurances"),e.k0s(),e.j41(23,"p",17),e.EFF(24,"Tout ce dont vous avez besoin pour \xeatre bien prot\xe9g\xe9"),e.k0s()(),e.j41(25,"div",18)(26,"h3",19),e.EFF(27,"Pour les Particuliers"),e.k0s(),e.j41(28,"dl",20)(29,"div",21)(30,"dt",22)(31,"div",23),e.qSk(),e.j41(32,"svg",24),e.nrm(33,"path",25),e.k0s()(),e.EFF(34," Assurance Auto "),e.k0s(),e.joV(),e.j41(35,"dd",26),e.EFF(36,"Une couverture compl\xe8te pour votre v\xe9hicule, adapt\xe9e \xe0 vos habitudes de conduite."),e.k0s(),e.j41(37,"dd",27)(38,"a",28),e.EFF(39,"Demander une offre "),e.j41(40,"span",10),e.EFF(41,"\u2192"),e.k0s()()()(),e.j41(42,"div",21)(43,"dt",22)(44,"div",23),e.qSk(),e.j41(45,"svg",24),e.nrm(46,"path",29),e.k0s()(),e.EFF(47," Assurance Habitation "),e.k0s(),e.joV(),e.j41(48,"dd",26),e.EFF(49,"Elle n\u2019est pas obligatoire, mais la majorit\xe9 des Belges en ont une. Il est en effet important de prot\xe9ger vos biens de dommages \xe9ventuels. "),e.k0s(),e.j41(50,"dd",27)(51,"a",30),e.EFF(52,"Demander une offre "),e.j41(53,"span",10),e.EFF(54,"\u2192"),e.k0s()()()(),e.j41(55,"div",21)(56,"dt",22)(57,"div",23),e.qSk(),e.j41(58,"svg",24),e.nrm(59,"path",31),e.k0s()(),e.EFF(60," RC Familiale "),e.k0s(),e.joV(),e.j41(61,"dd",26),e.EFF(62,"L'assurance indispensable pour couvrir les dommages que vous ou votre famille pourriez causer \xe0 des tiers."),e.k0s(),e.j41(63,"dd",27)(64,"a",32),e.EFF(65,"Demander une offre "),e.j41(66,"span",10),e.EFF(67,"\u2192"),e.k0s()()()()(),e.j41(68,"div",33)(69,"h4",34),e.EFF(70,"Pensez \xe0 plus tard, pour eux"),e.k0s(),e.j41(71,"div",35)(72,"div",36)(73,"video",37),e.nrm(74,"source",38),e.EFF(75," Votre navigateur ne supporte pas la lecture de vid\xe9os. "),e.k0s()()()()(),e.j41(76,"div",18)(77,"h3",19),e.EFF(78,"AssurKin, le partenaire de votre r\xe9ussite professionnelle"),e.k0s(),e.j41(79,"p",39),e.EFF(80,"Parce que votre activit\xe9 m\xe9rite une protection sans faille, nous concevons des solutions d'assurance sur-mesure pour les entreprises et les ind\xe9pendants. Notre expertise nous permet d'identifier vos risques sp\xe9cifiques pour vous garantir la couverture la plus robuste. Nous s\xe9curisons votre outil de travail et vos responsabilit\xe9s \xe0 chaque \xe9tape, vous offrant la r\xe9activit\xe9 indispensable \xe0 la continuit\xe9 de votre business."),e.k0s(),e.j41(81,"div",40)(82,"a",41),e.EFF(83,"Prendre rendez-vous"),e.k0s()()()()()())},dependencies:[S.MD,te.iI,te.Wk]})}return d})();var E=D(9417),K=D(7673),ue=D(1413),ve=D(6354),Q=D(9437),ye=D(8141),Fe=D(8359);class Ee extends Fe.yU{constructor(T,s){super()}schedule(T,s=0){return this}}const Le={setInterval(d,T,...s){const{delegate:f}=Le;return f?.setInterval?f.setInterval(d,T,...s):setInterval(d,T,...s)},clearInterval(d){const{delegate:T}=Le;return(T?.clearInterval||clearInterval)(d)},delegate:void 0};var ne=D(7908),B=D(6129);class he{constructor(T,s=he.now){this.schedulerActionCtor=T,this.now=s}schedule(T,s=0,f){return new this.schedulerActionCtor(this,T).schedule(f,s)}}he.now=B.U.now;const fe=new class le extends he{constructor(T,s=he.now){super(T,s),this.actions=[],this._active=!1}flush(T){const{actions:s}=this;if(this._active)return void s.push(T);let f;this._active=!0;do{if(f=T.execute(T.state,T.delay))break}while(T=s.shift());if(this._active=!1,f){for(;T=s.shift();)T.unsubscribe();throw f}}}(class U extends Ee{constructor(T,s){super(T,s),this.scheduler=T,this.work=s,this.pending=!1}schedule(T,s=0){var f;if(this.closed)return this;this.state=T;const c=this.id,O=this.scheduler;return null!=c&&(this.id=this.recycleAsyncId(O,c,s)),this.pending=!0,this.delay=s,this.id=null!==(f=this.id)&&void 0!==f?f:this.requestAsyncId(O,this.id,s),this}requestAsyncId(T,s,f=0){return Le.setInterval(T.flush.bind(T,this),f)}recycleAsyncId(T,s,f=0){if(null!=f&&this.delay===f&&!1===this.pending)return s;null!=s&&Le.clearInterval(s)}execute(T,s){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const f=this._execute(T,s);if(f)return f;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(T,s){let c,f=!1;try{this.work(T)}catch(O){f=!0,c=O||new Error("Scheduled action threw falsy error")}if(f)return this.unsubscribe(),c}unsubscribe(){if(!this.closed){const{id:T,scheduler:s}=this,{actions:f}=s;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ne.o)(f,this),null!=T&&(this.id=this.recycleAsyncId(s,T,null)),this.delay=null,super.unsubscribe()}}});var xe=D(9974),nt=D(4360);function Te(d,T=fe){return(0,xe.N)((s,f)=>{let c=null,O=null,se=null;const ke=()=>{if(c){c.unsubscribe(),c=null;const Ft=O;O=null,f.next(Ft)}};function rt(){const Ft=se+d,Ht=T.now();if(Ht<Ft)return c=this.schedule(void 0,Ft-Ht),void f.add(c);ke()}s.subscribe((0,nt._)(f,Ft=>{O=Ft,se=T.now(),c||(c=T.schedule(rt,d),f.add(c))},()=>{ke(),f.complete()},void 0,()=>{O=c=null}))})}var $e=D(3294),Ye=D(5558),Ke=D(6977),st=D(1594);let kt=(()=>{class d{el;renderer;onChange=()=>{};onTouched=()=>{};constructor(s,f){this.el=s,this.renderer=f}writeValue(s){const f=this.formatPhoneNumber(s||"");this.renderer.setProperty(this.el.nativeElement,"value",f)}registerOnChange(s){this.onChange=s}registerOnTouched(s){this.onTouched=s}onInput(s){const f=s.target;if(!f)return;const c=f.value.replace(/\D/g,""),O=this.formatPhoneNumber(c);this.renderer.setProperty(f,"value",O),this.onChange(c)}onBlur(){this.onTouched()}formatPhoneNumber(s){if(!s)return"";let f=s.startsWith("32")?s.substring(2):s;return f.startsWith("4")?`+32 ${f.slice(0,3)} ${f.slice(3,5)} ${f.slice(5,7)} ${f.slice(7,9)}`.trim():`+32 ${f.slice(0,1)} ${f.slice(1,4)} ${f.slice(4,6)} ${f.slice(6,8)}`.trim()}static \u0275fac=function(f){return new(f||d)(e.rXU(e.aKT),e.rXU(e.sFG))};static \u0275dir=e.FsC({type:d,selectors:[["","appPhoneFormat",""]],hostBindings:function(f,c){1&f&&e.bIt("input",function(se){return c.onInput(se)})("blur",function(){return c.onBlur()})},standalone:!0,features:[e.Jv_([{provide:E.kq,useExisting:d,multi:!0}])]})}return d})();var _t=D(1807);const St=d=>({"ring-red-500":d}),Rn=(d,T)=>({"ring-red-500":d,"cursor-not-allowed":T}),xn=(d,T)=>({"bg-green-100":d,"bg-red-100":T}),Yn=(d,T)=>({"bg-green-600 hover:bg-green-700 focus:ring-green-500":d,"bg-red-600 hover:bg-red-700 focus:ring-red-500":T});function rr(d,T){1&d&&(e.qSk(),e.j41(0,"svg",122),e.nrm(1,"path",123),e.k0s())}function Nr(d,T){1&d&&(e.qSk(),e.j41(0,"svg",124),e.nrm(1,"path",125),e.k0s())}function Ie(d,T){if(1&d){const s=e.RV6();e.j41(0,"div",111)(1,"div",112)(2,"div",113)(3,"div",114),e.DNE(4,rr,2,0,"svg",115)(5,Nr,2,0,"svg",116),e.k0s(),e.j41(6,"h3",117),e.EFF(7),e.k0s(),e.j41(8,"div",118),e.nrm(9,"div",119),e.k0s(),e.j41(10,"div",120)(11,"button",121),e.bIt("click",function(){e.eBV(s);const c=e.XpG();return e.Njj(c.closePopup())}),e.EFF(12," Fermer "),e.k0s()()()()()}if(2&d){const s=e.XpG();e.R7$(3),e.Y8G("ngClass",e.l_i(6,xn,s.submissionStatus.success,!s.submissionStatus.success)),e.R7$(),e.Y8G("ngIf",s.submissionStatus.success),e.R7$(),e.Y8G("ngIf",!s.submissionStatus.success),e.R7$(2),e.SpI(" ",s.submissionStatus.success?"Op\xe9ration r\xe9ussie":"Une erreur est survenue"," "),e.R7$(2),e.Y8G("innerHTML",s.submissionStatus.message,e.npT),e.R7$(2),e.Y8G("ngClass",e.l_i(9,Yn,s.submissionStatus.success,!s.submissionStatus.success))}}function Me(d,T){1&d&&(e.j41(0,"div",126),e.qSk(),e.j41(1,"svg",127),e.nrm(2,"circle",128)(3,"path",129),e.k0s(),e.joV(),e.j41(4,"p",130),e.EFF(5,"V\xe9rification de vos donn\xe9es..."),e.k0s()())}function Re(d,T){1&d&&(e.j41(0,"div"),e.EFF(1," La date de naissance est requise. "),e.k0s())}function Ae(d,T){1&d&&(e.j41(0,"div"),e.EFF(1," L'\xe2ge minimum requis est de 14 ans. "),e.k0s())}function Qe(d,T){if(1&d&&(e.j41(0,"div",131),e.DNE(1,Re,2,0,"div",132)(2,Ae,2,0,"div",132),e.k0s()),2&d){let s,f;const c=e.XpG();e.R7$(),e.Y8G("ngIf",null==(s=c.autoForm.get("preneur.date_naissance"))?null:s.hasError("required")),e.R7$(),e.Y8G("ngIf",null==(f=c.autoForm.get("preneur.date_naissance"))?null:f.hasError("minAge"))}}function je(d,T){1&d&&(e.j41(0,"div",131),e.EFF(1," Le format de l'adresse email est invalide. "),e.k0s())}function ut(d,T){1&d&&(e.j41(0,"div",133),e.qSk(),e.j41(1,"svg",134),e.nrm(2,"circle",128)(3,"path",129),e.k0s()())}function nn(d,T){if(1&d){const s=e.RV6();e.j41(0,"li",137),e.bIt("click",function(){const c=e.eBV(s).$implicit,O=e.XpG(2);return e.Njj(O.selectPostalCode(c,"preneur"))}),e.EFF(1),e.k0s()}if(2&d){const s=T.$implicit;e.R7$(),e.Lme(" ",s.postalCode," - ",s.city," ")}}function hn(d,T){if(1&d&&(e.j41(0,"ul",135),e.DNE(1,nn,2,2,"li",136),e.k0s()),2&d){const s=e.XpG();e.R7$(),e.Y8G("ngForOf",s.filteredPreneurPostalCodes)}}function xt(d,T){1&d&&(e.j41(0,"option",138),e.EFF(1,"Ville"),e.k0s())}function pn(d,T){if(1&d&&(e.j41(0,"option",139),e.EFF(1),e.k0s()),2&d){const s=T.$implicit;e.Y8G("value",s),e.R7$(),e.SpI(" ",s," ")}}function Mt(d,T){1&d&&(e.j41(0,"div",140),e.EFF(1," Attention : ce num\xe9ro de permis est d\xe9j\xe0 enregistr\xe9 dans notre syst\xe8me. "),e.k0s())}function Mn(d,T){1&d&&(e.j41(0,"div"),e.EFF(1," La date doit \xeatre ant\xe9rieure \xe0 aujourd'hui. "),e.k0s())}function an(d,T){1&d&&(e.j41(0,"div"),e.EFF(1," La date d'obtention du permis doit \xeatre au moins 14 ans apr\xe8s la date de naissance. "),e.k0s())}function Qt(d,T){if(1&d&&(e.j41(0,"div",131),e.DNE(1,Mn,2,0,"div",132)(2,an,2,0,"div",132),e.k0s()),2&d){let s,f;const c=e.XpG();e.R7$(),e.Y8G("ngIf",null==(s=c.autoForm.get("preneur.permis_date"))?null:s.hasError("dateNotInPast")),e.R7$(),e.Y8G("ngIf",(null==(f=c.autoForm.get("preneur"))?null:f.hasError("datePermisTropTot"))&&(null==(f=c.autoForm.get("preneur.permis_date"))?null:f.touched))}}function Ot(d,T){1&d&&(e.j41(0,"div"),e.EFF(1," La date de naissance est requise. "),e.k0s())}function $n(d,T){1&d&&(e.j41(0,"div"),e.EFF(1," L'\xe2ge minimum requis est de 14 ans. "),e.k0s())}function Ze(d,T){if(1&d&&(e.j41(0,"div",131),e.DNE(1,Ot,2,0,"div",132)(2,$n,2,0,"div",132),e.k0s()),2&d){let s,f;const c=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(s=c.autoForm.get("conducteur.date_naissance"))?null:s.hasError("required")),e.R7$(),e.Y8G("ngIf",null==(f=c.autoForm.get("conducteur.date_naissance"))?null:f.hasError("minAge"))}}function pr(d,T){1&d&&(e.j41(0,"div",133),e.qSk(),e.j41(1,"svg",134),e.nrm(2,"circle",128)(3,"path",129),e.k0s()())}function Dr(d,T){if(1&d){const s=e.RV6();e.j41(0,"li",137),e.bIt("click",function(){const c=e.eBV(s).$implicit,O=e.XpG(3);return e.Njj(O.selectPostalCode(c,"conducteur"))}),e.EFF(1),e.k0s()}if(2&d){const s=T.$implicit;e.R7$(),e.Lme(" ",s.postalCode," - ",s.city," ")}}function Yr(d,T){if(1&d&&(e.j41(0,"ul",135),e.DNE(1,Dr,2,2,"li",136),e.k0s()),2&d){const s=e.XpG(2);e.R7$(),e.Y8G("ngForOf",s.filteredConducteurPostalCodes)}}function no(d,T){1&d&&(e.j41(0,"option",138),e.EFF(1,"Ville"),e.k0s())}function Er(d,T){if(1&d&&(e.j41(0,"option",139),e.EFF(1),e.k0s()),2&d){const s=T.$implicit;e.Y8G("value",s),e.R7$(),e.SpI(" ",s," ")}}function Jt(d,T){1&d&&(e.j41(0,"div",140),e.EFF(1," Attention : ce num\xe9ro de permis est d\xe9j\xe0 enregistr\xe9 dans notre syst\xe8me. "),e.k0s())}function Tt(d,T){1&d&&(e.j41(0,"div"),e.EFF(1," La date doit \xeatre ant\xe9rieure \xe0 aujourd'hui. "),e.k0s())}function or(d,T){1&d&&(e.j41(0,"div"),e.EFF(1," La date d'obtention du permis doit \xeatre au moins 14 ans apr\xe8s la date de naissance. "),e.k0s())}function Ut(d,T){if(1&d&&(e.j41(0,"div",131),e.DNE(1,Tt,2,0,"div",132)(2,or,2,0,"div",132),e.k0s()),2&d){let s,f;const c=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(s=c.autoForm.get("conducteur.permis_date"))?null:s.hasError("dateNotInPast")),e.R7$(),e.Y8G("ngIf",(null==(f=c.autoForm.get("conducteur"))?null:f.hasError("datePermisTropTot"))&&(null==(f=c.autoForm.get("conducteur.permis_date"))?null:f.touched))}}function gn(d,T){if(1&d&&(e.j41(0,"div",141)(1,"div")(2,"label",142),e.EFF(3,"Genre"),e.k0s(),e.j41(4,"select",143)(5,"option"),e.EFF(6,"Madame"),e.k0s(),e.j41(7,"option"),e.EFF(8,"Monsieur"),e.k0s(),e.j41(9,"option"),e.EFF(10,"Autre"),e.k0s()()(),e.j41(11,"div")(12,"label",144),e.EFF(13,"Nom"),e.k0s(),e.nrm(14,"input",145),e.k0s(),e.j41(15,"div")(16,"label",146),e.EFF(17,"Pr\xe9nom"),e.k0s(),e.nrm(18,"input",147),e.k0s(),e.j41(19,"div")(20,"label",148),e.EFF(21,"Date de naissance"),e.k0s(),e.nrm(22,"input",149),e.DNE(23,Ze,3,2,"div",30),e.k0s(),e.j41(24,"div",35)(25,"label",150),e.EFF(26,"Rue et num\xe9ro"),e.k0s(),e.nrm(27,"input",151),e.k0s(),e.j41(28,"div")(29,"div",38)(30,"label",152),e.EFF(31,"Code Postal"),e.k0s(),e.nrm(32,"input",153),e.DNE(33,pr,4,0,"div",41)(34,Yr,2,1,"ul",42),e.k0s()(),e.j41(35,"div")(36,"label",154),e.EFF(37,"Ville"),e.k0s(),e.j41(38,"select",155),e.DNE(39,no,2,0,"option",45)(40,Er,2,2,"option",46),e.k0s()(),e.j41(41,"div")(42,"label",156),e.EFF(43,"Num\xe9ro de permis de conduire"),e.k0s(),e.nrm(44,"input",157),e.DNE(45,Jt,2,0,"div",49),e.k0s(),e.j41(46,"div")(47,"label",158),e.EFF(48,"Date d'obtention du permis"),e.k0s(),e.nrm(49,"input",159),e.DNE(50,Ut,3,2,"div",30),e.k0s()()),2&d){let s,f,c,O,se,ke,rt,Ft,Ht,sn,Hn,er;const en=e.XpG();e.R7$(4),e.Y8G("ngClass",e.eq3(19,St,(null==(s=en.autoForm.get("conducteur.genre"))?null:s.invalid)&&(null==(s=en.autoForm.get("conducteur.genre"))?null:s.touched))),e.R7$(10),e.Y8G("ngClass",e.eq3(21,St,(null==(f=en.autoForm.get("conducteur.nom"))?null:f.invalid)&&(null==(f=en.autoForm.get("conducteur.nom"))?null:f.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(23,St,(null==(c=en.autoForm.get("conducteur.prenom"))?null:c.invalid)&&(null==(c=en.autoForm.get("conducteur.prenom"))?null:c.touched))),e.R7$(4),e.Y8G("max",en.maxDate)("ngClass",e.eq3(25,St,(null==(O=en.autoForm.get("conducteur.date_naissance"))?null:O.invalid)&&(null==(O=en.autoForm.get("conducteur.date_naissance"))?null:O.touched))),e.R7$(),e.Y8G("ngIf",(null==(se=en.autoForm.get("conducteur.date_naissance"))?null:se.invalid)&&((null==(se=en.autoForm.get("conducteur.date_naissance"))?null:se.touched)||(null==(se=en.autoForm.get("conducteur.date_naissance"))?null:se.dirty))),e.R7$(4),e.Y8G("ngClass",e.eq3(27,St,(null==(ke=en.autoForm.get("conducteur.adresse"))?null:ke.invalid)&&(null==(ke=en.autoForm.get("conducteur.adresse"))?null:ke.touched))),e.R7$(5),e.Y8G("ngClass",e.eq3(29,St,(null==(rt=en.autoForm.get("conducteur.code_postal"))?null:rt.invalid)&&(null==(rt=en.autoForm.get("conducteur.code_postal"))?null:rt.touched))),e.R7$(),e.Y8G("ngIf",en.isLoading),e.R7$(),e.Y8G("ngIf",en.filteredConducteurPostalCodes.length>0),e.R7$(4),e.Y8G("disabled",0===en.conducteurCities.length)("ngClass",e.eq3(31,St,(null==(Ft=en.autoForm.get("conducteur.ville"))?null:Ft.invalid)&&(null==(Ft=en.autoForm.get("conducteur.ville"))?null:Ft.touched))),e.R7$(),e.Y8G("ngIf",0===en.conducteurCities.length),e.R7$(),e.Y8G("ngForOf",en.conducteurCities),e.R7$(4),e.Y8G("ngClass",e.eq3(33,St,(null==(Ht=en.autoForm.get("conducteur.permis_numero"))?null:Ht.invalid)&&(null==(Ht=en.autoForm.get("conducteur.permis_numero"))?null:Ht.touched))),e.R7$(),e.Y8G("ngIf",null==(sn=en.autoForm.get("conducteur.permis_numero"))?null:sn.hasError("permisExists")),e.R7$(4),e.Y8G("max",en.maxDate)("ngClass",e.eq3(35,St,(null==(Hn=en.autoForm.get("conducteur.permis_date"))?null:Hn.invalid)&&(null==(Hn=en.autoForm.get("conducteur.permis_date"))?null:Hn.touched))),e.R7$(),e.Y8G("ngIf",(null==(er=en.autoForm.get("conducteur.permis_date"))?null:er.invalid)&&((null==(er=en.autoForm.get("conducteur.permis_date"))?null:er.touched)||(null==(er=en.autoForm.get("conducteur.permis_date"))?null:er.dirty)))}}function yo(d,T){1&d&&(e.j41(0,"div",160),e.qSk(),e.j41(1,"svg",134),e.nrm(2,"circle",128)(3,"path",129),e.k0s()())}function Dn(d,T){if(1&d){const s=e.RV6();e.j41(0,"li",137),e.bIt("click",function(){const c=e.eBV(s).$implicit,O=e.XpG(2);return e.Njj(O.selectMarque(c))}),e.EFF(1),e.k0s()}if(2&d){const s=T.$implicit;e.R7$(),e.SpI(" ",s.nom," ")}}function An(d,T){if(1&d&&(e.j41(0,"ul",135),e.DNE(1,Dn,2,1,"li",136),e.k0s()),2&d){const s=e.XpG();e.R7$(),e.Y8G("ngForOf",s.filteredMarques)}}function vn(d,T){1&d&&(e.j41(0,"div",160),e.qSk(),e.j41(1,"svg",134),e.nrm(2,"circle",128)(3,"path",129),e.k0s()())}function rn(d,T){if(1&d){const s=e.RV6();e.j41(0,"li",137),e.bIt("click",function(){const c=e.eBV(s).$implicit,O=e.XpG(2);return e.Njj(O.selectModele(c))}),e.EFF(1),e.k0s()}if(2&d){const s=T.$implicit;e.R7$(),e.SpI(" ",s.nom," ")}}function cn(d,T){if(1&d&&(e.j41(0,"ul",135),e.DNE(1,rn,2,1,"li",136),e.k0s()),2&d){const s=e.XpG();e.R7$(),e.Y8G("ngForOf",s.filteredModeles)}}function $o(d,T){1&d&&(e.j41(0,"div"),e.EFF(1," La date doit \xeatre ant\xe9rieure \xe0 aujourd'hui. "),e.k0s())}function jt(d,T){if(1&d&&(e.j41(0,"div",131),e.DNE(1,$o,2,0,"div",132),e.k0s()),2&d){let s;const f=e.XpG();e.R7$(),e.Y8G("ngIf",null==(s=f.autoForm.get("vehicule.dateCirculation"))?null:s.hasError("dateNotInPast"))}}function hr(d,T){1&d&&(e.j41(0,"div",161)(1,"p"),e.EFF(2," Bonne nouvelle ! Cet email est d\xe9j\xe0 connu chez nous. "),e.j41(3,"a",162),e.EFF(4,"Connectez-vous"),e.k0s(),e.EFF(5," pour r\xe9cup\xe9rer vos donn\xe9es et acc\xe9l\xe9rer votre demande. "),e.k0s()())}let ln=(()=>{class d{dbConnectService;fb;router;platformId;ageValidator(s){return f=>{if(!f.value)return null;const c=new Date(f.value),O=new Date;let se=O.getFullYear()-c.getFullYear();const ke=O.getMonth()-c.getMonth();return(ke<0||0===ke&&O.getDate()<c.getDate())&&se--,se>=s?null:{minAge:{requiredAge:s,actualAge:se}}}}dateInPastValidator(){return s=>{if(!s.value)return null;const f=new Date(s.value),c=new Date;return c.setHours(0,0,0,0),f<c?null:{dateNotInPast:!0}}}datePermisApresNaissanceValidator(){return s=>{const f=s.get("date_naissance"),c=s.get("permis_date");if(!(f&&c&&f.value&&c.value))return null;const O=new Date(f.value);return new Date(c.value)>=new Date(O.getFullYear()+14,O.getMonth(),O.getDate())?null:{datePermisTropTot:!0}}}permisExistsValidator(){return s=>s.value?this.dbConnectService.checkPermisExists(s.value).pipe((0,ve.T)(f=>{if(f){const c=this.autoForm.get("preneur")?.value;if((0,S.UE)(this.platformId)&&c&&c.email&&c.telephone){const O={email:c.email,telephone:c.telephone};localStorage.setItem("Ifoundyou",JSON.stringify(O)),console.log("Permis existant. Informations de contact sauvegard\xe9es dans Ifoundyou:",O)}return{permisExists:!0}}return null}),(0,Q.W)(()=>(0,K.of)(null))):(0,K.of)(null)}emailExistsValidator(){return s=>s.value?this.dbConnectService.checkEmailExists(s.value).pipe((0,ye.M)(f=>this.handleEmailExists(f,s)),(0,ve.T)(f=>null),(0,Q.W)(()=>(0,K.of)(null))):(0,K.of)(null)}preneurPostalCode="";handleEmailExists(s,f){if(s)f.setErrors({...f.errors,emailExists:!0});else{const c={...f.errors};delete c.emailExists,f.setErrors(Object.keys(c).length>0?c:null)}}preneurCity="";preneurCities=[];filteredPreneurPostalCodes=[];conducteurCities=[];filteredConducteurPostalCodes=[];selectedMarque=null;filteredMarques=[];filteredModeles=[];isConducteurDifferent=!1;isLoading=!1;isMarqueLoading=!1;isModeleLoading=!1;showModeleList=!1;isSubmitting=!1;marque$;modele$;destroy$=new ue.B;submissionStatus=null;minDate;maxDate;autoForm;constructor(s,f,c,O){this.dbConnectService=s,this.fb=f,this.router=c,this.platformId=O;const se=new Date,ke=new Date(se);ke.setDate(ke.getDate()+1),this.minDate=ke.toISOString().split("T")[0],this.maxDate=se.toISOString().split("T")[0]}ngOnInit(){if(this.autoForm=this.fb.group({preneur:this.fb.group({genre:[null,E.k0.required],nom:["",E.k0.required],prenom:["",E.k0.required],date_naissance:["",[E.k0.required,this.ageValidator(14)]],telephone:["",E.k0.required],email:["",[E.k0.required,E.k0.email]],adresse:["",E.k0.required],code_postal:["",[E.k0.required,E.k0.pattern("^[0-9]{4}$")]],ville:["",E.k0.required],permis_numero:["",E.k0.required],permis_date:["",[E.k0.required,this.dateInPastValidator()]]},{validators:this.datePermisApresNaissanceValidator()}),conducteurDifferent:[!1],conducteur:this.fb.group({genre:[null],nom:[""],prenom:[""],date_naissance:["",this.ageValidator(14)],adresse:[""],code_postal:["",E.k0.pattern("^[0-9]{4}$")],ville:[""],permis_numero:[""],permis_date:["",this.dateInPastValidator()]},{validators:this.datePermisApresNaissanceValidator()}),vehicule:this.fb.group({type:["",E.k0.required],marque:["",E.k0.required],modele:["",E.k0.required],puissance:["",E.k0.required],places:["",E.k0.required],dateCirculation:["",[E.k0.required,this.dateInPastValidator()]],valeur:[""]}),garanties:this.fb.group({base:[!1],omnium:[null],conducteur:[!1],assistance:[!1]}),dateEffet:["",E.k0.required]}),(0,S.UE)(this.platformId)){const s=this.autoForm.get("preneur.permis_numero");s&&s.setAsyncValidators(this.permisExistsValidator());const f=this.autoForm.get("preneur.email");f&&f.setAsyncValidators(this.emailExistsValidator()),this.modele$=new ue.B,this.marque$=new ue.B,this.setupPostalCodeListener("preneur"),this.setupPostalCodeListener("conducteur"),this.marque$.pipe(Te(300),(0,$e.F)(),(0,ye.M)(()=>this.isMarqueLoading=!0),(0,Ye.n)(c=>c.length<1?(this.filteredMarques=[],(0,K.of)([])):this.dbConnectService.searchMarques(c)),(0,Ke.Q)(this.destroy$)).subscribe(c=>{this.filteredMarques=c,console.log("[Marque] Marques re\xe7ues:",c),this.isMarqueLoading=!1}),this.modele$.pipe(Te(300),(0,$e.F)(),(0,ye.M)(()=>this.isModeleLoading=!0),(0,Ye.n)(c=>this.selectedMarque?this.dbConnectService.searchModeles(this.selectedMarque.marque_id,""):(0,K.of)([])),(0,Ke.Q)(this.destroy$)).subscribe(c=>{this.filteredModeles=c,console.log("[Modele] Mod\xe8les re\xe7us:",c),this.isModeleLoading=!1}),this.autoForm.get("conducteurDifferent")?.valueChanges.pipe((0,Ke.Q)(this.destroy$)).subscribe(c=>{this.toggleConducteurValidators(c)})}}onMarqueInput(s){const f=s.target.value.trim();(0,S.UE)(this.platformId)&&(this.marque$.next(f),""===f&&(this.selectedMarque=null,this.autoForm.get("vehicule.modele")?.setValue(""),this.filteredModeles=[]))}ngOnDestroy(){(0,S.UE)(this.platformId)&&(this.destroy$.next(),this.destroy$.complete())}selectPostalCode(s,f){const c=this.autoForm.get(f);c.get("code_postal")?.setValue(s.postalCode,{emitEvent:!1}),this.dbConnectService.getCitiesByPostalCode(s.postalCode).pipe((0,st.$)()).subscribe(O=>{"preneur"===f?(this.preneurCities=O,this.filteredPreneurPostalCodes=[]):(this.conducteurCities=O,this.filteredConducteurPostalCodes=[]),c.get("ville")?.setValue(s.city)})}setupPostalCodeListener(s){const f=this.autoForm.get(`${s}.code_postal`),c=this.autoForm.get(`${s}.ville`);!f||!c||f.valueChanges.pipe(Te(300),(0,$e.F)(),(0,ye.M)(()=>this.isLoading=!0),(0,Ye.n)(O=>O&&O.length>=2?this.dbConnectService.getPostalCodes(O):("preneur"===s?this.filteredPreneurPostalCodes=[]:this.filteredConducteurPostalCodes=[],(0,K.of)([]))),(0,ye.M)(()=>{"preneur"===s?this.preneurCities=[]:this.conducteurCities=[],c.setValue("",{emitEvent:!1})}),(0,Ke.Q)(this.destroy$)).subscribe(O=>{this.isLoading=!1,"preneur"===s?this.filteredPreneurPostalCodes=O:this.filteredConducteurPostalCodes=O})}selectMarque(s){this.autoForm.get("vehicule.marque")?.setValue(s.nom),this.selectedMarque=s,this.filteredMarques=[],this.autoForm.get("vehicule.modele")?.setValue(""),this.modele$.next(s.nom)}toggleModeleList(){this.selectedMarque&&(this.showModeleList=!this.showModeleList)}onModeleInput(s){}selectModele(s){this.autoForm.get("vehicule.modele")?.setValue(s.nom),this.filteredModeles=[],this.showModeleList=!1}scrollToSection(s){if((0,S.UE)(this.platformId)){const f=document.getElementById(s);f&&f.scrollIntoView({behavior:"smooth",block:"start"})}}onSubmit(){if((0,S.UE)(this.platformId))if(this.autoForm.valid){this.isSubmitting=!0,this.submissionStatus=null;const s=this.autoForm.get("preneur"),f=s.get("email");f?.hasError("emailExists")?this.dbConnectService.getPersonByEmail(f.value).subscribe(c=>{const O=s.get("permis_numero"),se=s.get("date_naissance");!c||c.permis_numero===O?.value&&c.date_naissance===se?.value?this.proceedToSubmit():(this.isSubmitting=!1,this.submissionStatus={success:!1,message:"Les informations saisies (num\xe9ro de permis ou date de naissance) ne correspondent pas \xe0 celles enregistr\xe9es pour cet email. Veuillez v\xe9rifier vos donn\xe9es."})}):this.proceedToSubmit()}else{this.markAllAsTouched(this.autoForm);const s=this.getInvalidFields(this.autoForm);let f="Veuillez remplir tous les champs obligatoires avant de soumettre.";s.length>0&&(f+='<br><br><strong>Champs manquants ou invalides :</strong><ul class="list-disc list-inside mt-2">',s.forEach(c=>{f+=`<li>${c}</li>`}),f+="</ul>"),this.submissionStatus={success:!1,message:f}}}proceedToSubmit(){this.dbConnectService.createFullDevis(this.autoForm.value).subscribe({next:s=>{this.isSubmitting=!1,console.log("Devis enregistr\xe9 avec succ\xe8s",s);const f=this.autoForm.get("preneur")?.value;if(f&&f.email&&f.telephone){const c={email:f.email,telephone:f.telephone};localStorage.setItem("Ifoundyou",JSON.stringify(c)),console.log("Informations de contact sauvegard\xe9es dans Ifoundyou:",c)}localStorage.removeItem("autoFormData"),this.submissionStatus={success:!0,message:"Votre demande de devis a bien \xe9t\xe9 enregistr\xe9e !"}},error:s=>{this.isSubmitting=!1,console.error("Erreur lors de l'enregistrement du devis",s),this.submissionStatus={success:!1,message:"Une erreur est survenue lors de l'enregistrement de votre devis."}}})}closePopup(){this.submissionStatus?.success&&this.autoForm.reset(),this.submissionStatus=null}getInvalidFields(s,f=""){const c=[],O={"preneur.genre":"Genre (Preneur)","preneur.nom":"Nom (Preneur)","preneur.prenom":"Pr\xe9nom (Preneur)","preneur.date_naissance":"Date de naissance (Preneur)","preneur.telephone":"Num\xe9ro de t\xe9l\xe9phone (Preneur)","preneur.email":"Email (Preneur)","preneur.adresse":"Rue et num\xe9ro (Preneur)","preneur.code_postal":"Code Postal (Preneur)","preneur.ville":"Ville (Preneur)","preneur.permis_numero":"Num\xe9ro de permis (Preneur)","preneur.permis_date":"Date d'obtention du permis (Preneur)","conducteur.genre":"Genre (Conducteur)","conducteur.nom":"Nom (Conducteur)","conducteur.prenom":"Pr\xe9nom (Conducteur)","conducteur.date_naissance":"Date de naissance (Conducteur)","conducteur.adresse":"Rue et num\xe9ro (Conducteur)","conducteur.code_postal":"Code Postal (Conducteur)","conducteur.ville":"Ville (Conducteur)","conducteur.permis_numero":"Num\xe9ro de permis (Conducteur)","conducteur.permis_date":"Date d'obtention du permis (Conducteur)","vehicule.type":"Type de v\xe9hicule","vehicule.marque":"Marque","vehicule.modele":"Mod\xe8le","vehicule.puissance":"Puissance (kW)","vehicule.places":"Nombre de places","vehicule.dateCirculation":"Date de 1\xe8re mise en circulation","garanties.omnium":"Choix Omnium",dateEffet:"Date d'effet souhait\xe9e"};return Object.keys(s.controls).forEach(se=>{const ke=s.get(se),rt=f?`${f}.${se}`:se;if(ke instanceof E.gE){if("conducteur"===se&&!s.get("conducteurDifferent")?.value)return;c.push(...this.getInvalidFields(ke,rt))}else if(ke&&ke.invalid){const Ft=O[rt]||se;c.includes(Ft)||c.push(Ft)}}),c}toggleConducteurValidators(s){const f=this.autoForm.get("conducteur");s?(f.get("genre")?.setValidators(E.k0.required),f.get("nom")?.setValidators(E.k0.required),f.get("prenom")?.setValidators(E.k0.required),f.get("date_naissance")?.setValidators([E.k0.required,this.ageValidator(14)]),f.get("adresse")?.setValidators(E.k0.required),f.get("code_postal")?.setValidators([E.k0.required,E.k0.pattern("^[0-9]{4}$")]),f.get("ville")?.setValidators(E.k0.required),f.get("permis_numero")?.setValidators([E.k0.required]),f.get("permis_numero")?.setAsyncValidators(this.permisExistsValidator()),f.setValidators(this.datePermisApresNaissanceValidator()),f.get("permis_date")?.setValidators([E.k0.required,this.dateInPastValidator()])):(f.reset(),Object.keys(f.controls).forEach(c=>{f.get(c)?.clearValidators(),f.get(c)?.clearAsyncValidators(),f.clearValidators()})),Object.keys(f.controls).forEach(c=>{f.get(c)?.updateValueAndValidity()})}markAllAsTouched(s){Object.values(s.controls).forEach(f=>{f.markAsTouched(),f instanceof E.gE&&this.markAllAsTouched(f)})}static \u0275fac=function(f){return new(f||d)(e.rXU(_t.y),e.rXU(E.ok),e.rXU(te.Ix),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:d,selectors:[["app-form-auto"]],standalone:!0,features:[e.aNF],decls:232,vars:79,consts:[["id","hero",1,"relative","isolate","bg-black","px-6","pt-14","lg:px-8"],[1,"mx-auto","max-w-7xl","py-8","sm:py-12","lg:py-16"],[1,"grid","grid-cols-1","items-center","gap-x-8","gap-y-16","lg:grid-cols-2"],[1,"text-center","lg:text-left"],[1,"text-4xl","font-bold","tracking-tight","text-white","sm:text-6xl"],[1,"mt-6","text-lg","leading-8","text-gray-300"],[1,"mt-10","flex","items-center","justify-center","gap-x-6","lg:justify-start"],[1,"rounded-md","bg-white","px-3.5","py-2.5","text-sm","font-semibold","text-gray-900","shadow-sm","hover:bg-gray-100","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-white",3,"click"],["routerLink","/contact",1,"text-sm","font-semibold","leading-6","text-white"],["aria-hidden","true"],[1,"flex","justify-center","lg:justify-end"],["src","https://fqopliwvpuiprdegxytz.supabase.co/storage/v1/object/sign/img_website/voiture.webp?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV81MmJmNDFiNC0yNGQ0LTQ3ZTktYmEzNi04YWZmY2NjMzEzNzIiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJpbWdfd2Vic2l0ZS92b2l0dXJlLndlYnAiLCJpYXQiOjE3NjMwMjQ4MjIsImV4cCI6MjA3ODM4NDgyMn0.FImtkSpgJA8sH1jNbWWavhvpy0AvdxxDHeQtg9G40Cg","alt","Voiture rouge pour l'assurance auto",1,"w-full","max-w-xs","rounded-xl","shadow-xl","ring-1","ring-gray-400/10","lg:max-w-md"],["id","content",1,"container","mx-auto","p-4","py-16","sm:py-24"],[1,"grid","grid-cols-1","lg:grid-cols-2","lg:gap-12"],[1,"text-gray-700","prose","lg:prose-lg","max-w-none","prose-h2:mb-4","prose-p:mt-4","prose-ul:mt-4"],[1,"text-2xl","font-bold"],["class","fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center","id","submission-popup",4,"ngIf"],["class","fixed inset-0 bg-gray-800 bg-opacity-75 overflow-y-auto h-full w-full z-50 flex flex-col items-center justify-center",4,"ngIf"],["id","form",1,"space-y-12","bg-white","p-8","rounded-lg","shadow-md","mt-8","lg:mt-0",3,"ngSubmit","formGroup"],["formGroupName","preneur",1,"border-t","pt-6"],[1,"text-xl","font-semibold","px-2","text-gray-700","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],["for","preneur-genre",1,"block","text-sm","font-medium","text-gray-700"],["id","preneur-genre","formControlName","genre",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","preneur-nom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-nom","formControlName","nom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","preneur-prenom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-prenom","formControlName","prenom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","preneur-dob",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","preneur-dob","formControlName","date_naissance",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"max","ngClass"],["class","text-red-600 text-sm mt-1",4,"ngIf"],["for","preneur-tel",1,"block","text-sm","font-medium","text-gray-700"],["type","tel","id","preneur-tel","formControlName","telephone","appPhoneFormat","","placeholder","+32 4XX XX XX XX","maxlength","18",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","preneur-email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","preneur-email","formControlName","email",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],[1,"lg:col-span-2"],["for","preneur-adresse",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-adresse","formControlName","adresse",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],[1,"relative"],["for","preneur-cp",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-cp","formControlName","code_postal","autocomplete","off","maxlength","4",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","pl-3","pr-10","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["class","absolute inset-y-0 right-0 flex items-center pr-3",4,"ngIf"],["class","absolute z-10 w-full bg-white border border-gray-300 rounded-md mt-1 max-h-40 overflow-y-auto",4,"ngIf"],["for","preneur-ville",1,"block","text-sm","font-medium","text-gray-700"],["id","preneur-ville","formControlName","ville",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm","disabled:bg-gray-100",3,"disabled","ngClass"],["value","",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["for","preneur-permis",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-permis","formControlName","permis_numero",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["class","text-orange-800 bg-orange-100 p-2 rounded-md text-sm mt-2",4,"ngIf"],["for","preneur-permis-date",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","preneur-permis-date","formControlName","permis_date",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"max","ngClass"],[1,"border-t","pt-6"],[1,"flex","items-center","mb-4"],["id","conducteur-diff","formControlName","conducteurDifferent","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","conducteur-diff",1,"ml-2","block","text-sm","text-gray-900"],["formGroupName","conducteur","class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",4,"ngIf"],["formGroupName","vehicule",1,"border-t","pt-6"],["for","vehicule-type",1,"block","text-sm","font-medium","text-gray-700"],["id","vehicule-type","formControlName","type",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["value","","disabled",""],["value","Voiture"],["value","Camionnette"],["value","Camion"],["value","Bus"],["value","Mini Bus"],["value","Voiture sans permis"],["value","Moto"],["value","Cyclomoteur"],["value","Trottinette"],["for","vehicule-marque",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","vehicule-marque","formControlName","marque","autocomplete","off","placeholder","Ex: Volkswagen",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"input","ngClass"],["class","absolute inset-y-0 right-0 flex items-center pr-3 top-6",4,"ngIf"],["for","vehicule-modele",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","vehicule-modele","formControlName","modele","readonly","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm","cursor-pointer",3,"click","placeholder","ngClass"],["for","vehicule-puissance",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","vehicule-puissance","formControlName","puissance",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","vehicule-places",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","vehicule-places","formControlName","places",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","vehicule-circu-date",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","vehicule-circu-date","formControlName","dateCirculation",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"max","ngClass"],["for","vehicule-valeur",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","vehicule-valeur","formControlName","valeur","placeholder","\u20ac",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["formGroupName","garanties",1,"border-t","pt-6"],[1,"space-y-4"],[1,"flex","items-start"],[1,"flex","h-5","items-center"],["id","garantie-base","formControlName","base","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],[1,"ml-3","text-sm"],["for","garantie-base",1,"font-medium","text-gray-700"],[1,"text-base","font-medium","text-gray-900"],[1,"mt-2"],[1,"space-y-2","sm:flex","sm:items-center","sm:space-y-0","sm:space-x-10"],[1,"flex","items-center"],["id","omnium-non","formControlName","omnium","value","non","type","radio",1,"h-4","w-4","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","omnium-non",1,"ml-3","block","text-sm","font-medium","text-gray-700"],["id","omnium-partiel","formControlName","omnium","value","partiel","type","radio",1,"h-4","w-4","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","omnium-partiel",1,"ml-3","block","text-sm","font-medium","text-gray-700"],["id","omnium-total","formControlName","omnium","value","total","type","radio",1,"h-4","w-4","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","omnium-total",1,"ml-3","block","text-sm","font-medium","text-gray-700"],["id","garantie-conducteur","formControlName","conducteur","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","garantie-conducteur",1,"font-medium","text-gray-700"],["id","garantie-assistance","formControlName","assistance","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","garantie-assistance",1,"font-medium","text-gray-700"],[1,"pt-4","border-t"],["for","date-effet",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","date-effet","formControlName","dateEffet",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"min","ngClass"],["class","text-green-800 bg-green-100 p-3 rounded-md text-sm mt-4 text-center",4,"ngIf"],[1,"pt-6"],[1,"flex","justify-end"],["type","submit",1,"inline-flex","justify-center","rounded-md","border","border-transparent","bg-indigo-600","py-2","px-4","text-sm","font-medium","text-white","shadow-sm","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2"],["id","submission-popup",1,"fixed","inset-0","bg-gray-600","bg-opacity-50","overflow-y-auto","h-full","w-full","z-50","flex","items-center","justify-center"],[1,"relative","mx-auto","p-5","border","w-full","max-w-md","shadow-lg","rounded-md","bg-white"],[1,"mt-3","text-center"],[1,"mx-auto","flex","items-center","justify-center","h-12","w-12","rounded-full",3,"ngClass"],["class","h-6 w-6 text-green-600","fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["class","h-6 w-6 text-red-600","fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],[1,"text-lg","leading-6","font-medium","text-gray-900","mt-2"],[1,"mt-2","px-7","py-3"],[1,"text-sm","text-gray-500","text-left",3,"innerHTML"],[1,"items-center","px-4","py-3"],["id","close-popup-btn",1,"px-4","py-2","rounded-md","text-white","text-base","font-medium","shadow-sm","w-full",3,"click","ngClass"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"h-6","w-6","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"h-6","w-6","text-red-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"fixed","inset-0","bg-gray-800","bg-opacity-75","overflow-y-auto","h-full","w-full","z-50","flex","flex-col","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-10","w-10","text-white","mb-4"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"text-white","text-lg","font-semibold"],[1,"text-red-600","text-sm","mt-1"],[4,"ngIf"],[1,"absolute","inset-y-0","right-0","flex","items-center","pr-3"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5","text-gray-400"],[1,"absolute","z-10","w-full","bg-white","border","border-gray-300","rounded-md","mt-1","max-h-40","overflow-y-auto"],["class","px-3 py-2 cursor-pointer hover:bg-gray-100",3,"click",4,"ngFor","ngForOf"],[1,"px-3","py-2","cursor-pointer","hover:bg-gray-100",3,"click"],["value",""],[3,"value"],[1,"text-orange-800","bg-orange-100","p-2","rounded-md","text-sm","mt-2"],["formGroupName","conducteur",1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],["for","conducteur-genre",1,"block","text-sm","font-medium","text-gray-700"],["id","conducteur-genre","formControlName","genre",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","conducteur-nom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","conducteur-nom","formControlName","nom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","conducteur-prenom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","conducteur-prenom","formControlName","prenom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","conducteur-dob",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","conducteur-dob","formControlName","date_naissance",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"max","ngClass"],["for","conducteur-adresse",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","conducteur-adresse","formControlName","adresse",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","conducteur-cp",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","conducteur-cp","formControlName","code_postal","autocomplete","off","maxlength","4",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","pl-3","pr-10","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","conducteur-ville",1,"block","text-sm","font-medium","text-gray-700"],["id","conducteur-ville","formControlName","ville",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm","disabled:bg-gray-100",3,"disabled","ngClass"],["for","conducteur-permis",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","conducteur-permis","formControlName","permis_numero",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","conducteur-permis-date",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","conducteur-permis-date","formControlName","permis_date",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"max","ngClass"],[1,"absolute","inset-y-0","right-0","flex","items-center","pr-3","top-6"],[1,"text-green-800","bg-green-100","p-3","rounded-md","text-sm","mt-4","text-center"],["routerLink","/account",1,"font-bold","underline","hover:text-green-700"]],template:function(f,c){if(1&f&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e.EFF(5,"Assurance Auto"),e.k0s(),e.j41(6,"p",5),e.EFF(7,"Souscrire une assurance auto, c\u2019est rouler l\u2019esprit tranquille\u202f! Elle vous prot\xe8ge en cas d\u2019accident et prend en charge les r\xe9parations de votre v\xe9hicule. Sans elle, les impr\xe9vus peuvent co\xfbter tr\xe8s cher et entra\xeener des sanctions. Avec la bonne couverture, vous \xeates serein sur la route et en s\xe9curit\xe9, tout en prot\xe9geant les autres."),e.k0s(),e.j41(8,"div",6)(9,"button",7),e.bIt("click",function(){return c.scrollToSection("content")}),e.EFF(10,"Souscrire"),e.k0s(),e.j41(11,"a",8),e.EFF(12,"Contact "),e.j41(13,"span",9),e.EFF(14,"\u2192"),e.k0s()()()(),e.j41(15,"div",10),e.nrm(16,"img",11),e.k0s()()()(),e.j41(17,"div",12)(18,"div",13)(19,"div",14)(20,"h2",15),e.EFF(21,"Assurances Auto"),e.k0s(),e.j41(22,"p"),e.EFF(23,"La loi stipule que tout propri\xe9taire d\u2019un v\xe9hicule \xe0 moteur doit contracter une assurance auto. Oui, mais laquelle ? Il existe en effet plusieurs niveaux de protection. Tout d\xe9pend donc de votre budget et de vos besoins concernant la qualit\xe9 de la couverture."),e.k0s(),e.j41(24,"p"),e.EFF(25,"Voici les formules les plus r\xe9pandues :"),e.k0s(),e.j41(26,"ul")(27,"li")(28,"strong"),e.EFF(29,"La RC obligatoire (aussi appel\xe9e assurance responsabilit\xe9 civile auto) :"),e.k0s(),e.EFF(30," c\u2019est le minimum l\xe9gal autoris\xe9, puisqu\u2019elle couvre uniquement les dommages (mat\xe9riels et physiques) caus\xe9s \xe0 autrui, lorsque le conducteur est consid\xe9r\xe9 comme responsable."),e.k0s(),e.j41(31,"li")(32,"strong"),e.EFF(33,"La mini omnium propose une couverture au tiers am\xe9lior\xe9e."),e.k0s(),e.EFF(34," Elle est modulable et les garanties propos\xe9es varient d\u2019un assureur \xe0 l\u2019autre (bris de glace, incendie, vol)."),e.k0s(),e.j41(35,"li")(36,"strong"),e.EFF(37,"La full omnium offre un haut niveau de garantie,"),e.k0s(),e.EFF(38," non seulement pour le conducteur mais aussi pour le v\xe9hicule. Les indemnisations en cas de sinistre sont \xe9galement plus rapides et interviennent sans attendre que le litige soit r\xe9gl\xe9 avec l\u2019autre assureur."),e.k0s(),e.j41(39,"li")(40,"strong"),e.EFF(41,"Omnium 24+ :"),e.k0s(),e.EFF(42," il s\u2019agit de la formule omnium adapt\xe9e aux voitures d\u2019occasion."),e.k0s(),e.j41(43,"li")(44,"strong"),e.EFF(45,"Protection juridique :"),e.k0s(),e.EFF(46," elle est toujours utile pour \xe9viter tout conflit d\u2019int\xe9r\xeat avec un tiers, un expert, une compagnie adverse\u2026"),e.k0s()(),e.j41(47,"p"),e.EFF(48,"De plus, un certain nombre d\u2019options permettent de moduler encore chaque formule : niveau de franchise, dommages couverts, \xe2ge du conducteur, assistance et services annexes, protection conducteur, etc."),e.k0s(),e.j41(49,"p"),e.EFF(50,"Bref, vous l\u2019aurez compris, choisir l\u2019assurance auto qui vous convient n\u2019est pas si simple ! Mieux vaut consulter un courtier ind\xe9pendant qui vous proposera une protection personnalis\xe9e."),e.k0s()(),e.DNE(51,Ie,13,12,"div",16)(52,Me,6,0,"div",17),e.j41(53,"form",18),e.bIt("ngSubmit",function(){return c.onSubmit()}),e.j41(54,"fieldset",19)(55,"legend",20),e.EFF(56,"1. Preneur d'assurance"),e.k0s(),e.j41(57,"div",21)(58,"div")(59,"label",22),e.EFF(60,"Genre"),e.k0s(),e.j41(61,"select",23)(62,"option"),e.EFF(63,"Madame"),e.k0s(),e.j41(64,"option"),e.EFF(65,"Monsieur"),e.k0s(),e.j41(66,"option"),e.EFF(67,"Autre"),e.k0s()()(),e.j41(68,"div")(69,"label",24),e.EFF(70,"Nom"),e.k0s(),e.nrm(71,"input",25),e.k0s(),e.j41(72,"div")(73,"label",26),e.EFF(74,"Pr\xe9nom"),e.k0s(),e.nrm(75,"input",27),e.k0s(),e.j41(76,"div")(77,"label",28),e.EFF(78,"Date de naissance"),e.k0s(),e.nrm(79,"input",29),e.DNE(80,Qe,3,2,"div",30),e.k0s(),e.j41(81,"div")(82,"label",31),e.EFF(83,"Num\xe9ro de t\xe9l\xe9phone"),e.k0s(),e.nrm(84,"input",32),e.k0s(),e.j41(85,"div")(86,"label",33),e.EFF(87,"Email"),e.k0s(),e.nrm(88,"input",34),e.DNE(89,je,2,0,"div",30),e.k0s(),e.j41(90,"div",35)(91,"label",36),e.EFF(92,"Rue et num\xe9ro"),e.k0s(),e.nrm(93,"input",37),e.k0s(),e.j41(94,"div")(95,"div",38)(96,"label",39),e.EFF(97,"Code Postal"),e.k0s(),e.nrm(98,"input",40),e.DNE(99,ut,4,0,"div",41)(100,hn,2,1,"ul",42),e.k0s()(),e.j41(101,"div")(102,"label",43),e.EFF(103,"Ville"),e.k0s(),e.j41(104,"select",44),e.DNE(105,xt,2,0,"option",45)(106,pn,2,2,"option",46),e.k0s()(),e.j41(107,"div")(108,"label",47),e.EFF(109,"Num\xe9ro de permis de conduire"),e.k0s(),e.nrm(110,"input",48),e.DNE(111,Mt,2,0,"div",49),e.k0s(),e.j41(112,"div")(113,"label",50),e.EFF(114,"Date d'obtention du permis"),e.k0s(),e.nrm(115,"input",51),e.DNE(116,Qt,3,2,"div",30),e.k0s()()(),e.j41(117,"fieldset",52)(118,"legend",20),e.EFF(119,"2. Conducteur principal (si diff\xe9rent)"),e.k0s(),e.j41(120,"div",53),e.nrm(121,"input",54),e.j41(122,"label",55),e.EFF(123,"Le conducteur principal est diff\xe9rent du preneur d'assurance."),e.k0s()(),e.DNE(124,gn,51,37,"div",56),e.k0s(),e.j41(125,"fieldset",57)(126,"legend",20),e.EFF(127,"3. Informations sur le v\xe9hicule"),e.k0s(),e.j41(128,"div",21)(129,"div")(130,"label",58),e.EFF(131,"Type de v\xe9hicule"),e.k0s(),e.j41(132,"select",59)(133,"option",60),e.EFF(134,"S\xe9lectionnez un type"),e.k0s(),e.j41(135,"option",61),e.EFF(136,"Voiture"),e.k0s(),e.j41(137,"option",62),e.EFF(138,"Camionnette"),e.k0s(),e.j41(139,"option",63),e.EFF(140,"Camion"),e.k0s(),e.j41(141,"option",64),e.EFF(142,"Bus"),e.k0s(),e.j41(143,"option",65),e.EFF(144,"Mini Bus"),e.k0s(),e.j41(145,"option",66),e.EFF(146,"Voiture sans permis"),e.k0s(),e.j41(147,"option",67),e.EFF(148,"Moto"),e.k0s(),e.j41(149,"option",68),e.EFF(150,"Cyclomoteur"),e.k0s(),e.j41(151,"option",69),e.EFF(152,"Trottinette"),e.k0s()()(),e.j41(153,"div")(154,"div",38)(155,"label",70),e.EFF(156,"Marque"),e.k0s(),e.j41(157,"input",71),e.bIt("input",function(se){return c.onMarqueInput(se)}),e.k0s(),e.DNE(158,yo,4,0,"div",72)(159,An,2,1,"ul",42),e.k0s()(),e.j41(160,"div")(161,"div",38)(162,"label",73),e.EFF(163,"Mod\xe8le"),e.k0s(),e.j41(164,"input",74),e.bIt("click",function(){return c.toggleModeleList()}),e.k0s(),e.DNE(165,vn,4,0,"div",72)(166,cn,2,1,"ul",42),e.k0s()(),e.j41(167,"div")(168,"label",75),e.EFF(169,"Puissance (kW)"),e.k0s(),e.nrm(170,"input",76),e.k0s(),e.j41(171,"div")(172,"label",77),e.EFF(173,"Nombre de places (conducteur inclus)"),e.k0s(),e.nrm(174,"input",78),e.k0s(),e.j41(175,"div")(176,"label",79),e.EFF(177,"Date de 1\xe8re mise en circulation"),e.k0s(),e.nrm(178,"input",80),e.DNE(179,jt,2,1,"div",30),e.k0s(),e.j41(180,"div")(181,"label",81),e.EFF(182,"Valeur catalogue/facture (si Omnium)"),e.k0s(),e.nrm(183,"input",82),e.k0s()()(),e.j41(184,"fieldset",83)(185,"legend",20),e.EFF(186,"4. Garanties souhait\xe9es"),e.k0s(),e.j41(187,"div",84)(188,"div",85)(189,"div",86),e.nrm(190,"input",87),e.k0s(),e.j41(191,"div",88)(192,"label",89),e.EFF(193,"Garantie de base (Responsabilit\xe9 Civile + Protection Juridique)"),e.k0s()()(),e.j41(194,"div")(195,"label",90),e.EFF(196,"Omnium"),e.k0s(),e.j41(197,"fieldset",91)(198,"div",92)(199,"div",93),e.nrm(200,"input",94),e.j41(201,"label",95),e.EFF(202,"Non souhait\xe9e"),e.k0s()(),e.j41(203,"div",93),e.nrm(204,"input",96),e.j41(205,"label",97),e.EFF(206,"Omnium Partielle"),e.k0s()(),e.j41(207,"div",93),e.nrm(208,"input",98),e.j41(209,"label",99),e.EFF(210,"Omnium Totale"),e.k0s()()()()(),e.j41(211,"div",85)(212,"div",86),e.nrm(213,"input",100),e.k0s(),e.j41(214,"div",88)(215,"label",101),e.EFF(216,"Assurance Conducteur"),e.k0s()()(),e.j41(217,"div",85)(218,"div",86),e.nrm(219,"input",102),e.k0s(),e.j41(220,"div",88)(221,"label",103),e.EFF(222,"Assistance"),e.k0s()()()()(),e.j41(223,"div",104)(224,"label",105),e.EFF(225,"Date d'effet souhait\xe9e"),e.k0s(),e.nrm(226,"input",106),e.k0s(),e.DNE(227,hr,6,0,"div",107),e.j41(228,"div",108)(229,"div",109)(230,"button",110),e.EFF(231," Recevoir mon offre "),e.k0s()()()()()()),2&f){let O,se,ke,rt,Ft,Ht,sn,Hn,er,en,Wo,ji,ba,Yo,zs,Ea,Ws,Ca,Ms,Ys,dl,wa,Ts,xa,Da;e.R7$(51),e.Y8G("ngIf",c.submissionStatus),e.R7$(),e.Y8G("ngIf",c.isSubmitting),e.R7$(),e.Y8G("formGroup",c.autoForm),e.R7$(8),e.Y8G("ngClass",e.eq3(42,St,(null==(O=c.autoForm.get("preneur.genre"))?null:O.invalid)&&(null==(O=c.autoForm.get("preneur.genre"))?null:O.touched))),e.R7$(10),e.Y8G("ngClass",e.eq3(44,St,(null==(se=c.autoForm.get("preneur.nom"))?null:se.invalid)&&(null==(se=c.autoForm.get("preneur.nom"))?null:se.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(46,St,(null==(ke=c.autoForm.get("preneur.prenom"))?null:ke.invalid)&&(null==(ke=c.autoForm.get("preneur.prenom"))?null:ke.touched))),e.R7$(4),e.Y8G("max",c.maxDate)("ngClass",e.eq3(48,St,(null==(rt=c.autoForm.get("preneur.date_naissance"))?null:rt.invalid)&&(null==(rt=c.autoForm.get("preneur.date_naissance"))?null:rt.touched))),e.R7$(),e.Y8G("ngIf",(null==(Ft=c.autoForm.get("preneur.date_naissance"))?null:Ft.invalid)&&((null==(Ft=c.autoForm.get("preneur.date_naissance"))?null:Ft.touched)||(null==(Ft=c.autoForm.get("preneur.date_naissance"))?null:Ft.dirty))),e.R7$(4),e.Y8G("ngClass",e.eq3(50,St,(null==(Ht=c.autoForm.get("preneur.telephone"))?null:Ht.invalid)&&(null==(Ht=c.autoForm.get("preneur.telephone"))?null:Ht.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(52,St,(null==(sn=c.autoForm.get("preneur.email"))?null:sn.invalid)&&(null==(sn=c.autoForm.get("preneur.email"))?null:sn.touched))),e.R7$(),e.Y8G("ngIf",(null==(Hn=c.autoForm.get("preneur.email"))?null:Hn.hasError("email"))&&!(null!=(Hn=c.autoForm.get("preneur.email"))&&Hn.hasError("required"))),e.R7$(4),e.Y8G("ngClass",e.eq3(54,St,(null==(er=c.autoForm.get("preneur.adresse"))?null:er.invalid)&&(null==(er=c.autoForm.get("preneur.adresse"))?null:er.touched))),e.R7$(5),e.Y8G("ngClass",e.eq3(56,St,(null==(en=c.autoForm.get("preneur.code_postal"))?null:en.invalid)&&(null==(en=c.autoForm.get("preneur.code_postal"))?null:en.touched))),e.R7$(),e.Y8G("ngIf",c.isLoading),e.R7$(),e.Y8G("ngIf",c.filteredPreneurPostalCodes.length>0),e.R7$(4),e.Y8G("disabled",0===c.preneurCities.length)("ngClass",e.eq3(58,St,(null==(Wo=c.autoForm.get("preneur.ville"))?null:Wo.invalid)&&(null==(Wo=c.autoForm.get("preneur.ville"))?null:Wo.touched))),e.R7$(),e.Y8G("ngIf",0===c.preneurCities.length),e.R7$(),e.Y8G("ngForOf",c.preneurCities),e.R7$(4),e.Y8G("ngClass",e.eq3(60,St,(null==(ji=c.autoForm.get("preneur.permis_numero"))?null:ji.invalid)&&(null==(ji=c.autoForm.get("preneur.permis_numero"))?null:ji.touched))),e.R7$(),e.Y8G("ngIf",null==(ba=c.autoForm.get("preneur.permis_numero"))?null:ba.hasError("permisExists")),e.R7$(4),e.Y8G("max",c.maxDate)("ngClass",e.eq3(62,St,(null==(Yo=c.autoForm.get("preneur.permis_date"))?null:Yo.invalid)&&(null==(Yo=c.autoForm.get("preneur.permis_date"))?null:Yo.touched))),e.R7$(),e.Y8G("ngIf",(null==(zs=c.autoForm.get("preneur.permis_date"))?null:zs.invalid)&&((null==(zs=c.autoForm.get("preneur.permis_date"))?null:zs.touched)||(null==(zs=c.autoForm.get("preneur.permis_date"))?null:zs.dirty))),e.R7$(8),e.Y8G("ngIf",null==(Ea=c.autoForm.get("conducteurDifferent"))?null:Ea.value),e.R7$(8),e.Y8G("ngClass",e.eq3(64,St,(null==(Ws=c.autoForm.get("vehicule.type"))?null:Ws.invalid)&&(null==(Ws=c.autoForm.get("vehicule.type"))?null:Ws.touched))),e.R7$(25),e.Y8G("ngClass",e.eq3(66,St,(null==(Ca=c.autoForm.get("vehicule.marque"))?null:Ca.invalid)&&(null==(Ca=c.autoForm.get("vehicule.marque"))?null:Ca.touched))),e.R7$(),e.Y8G("ngIf",c.isMarqueLoading),e.R7$(),e.Y8G("ngIf",c.filteredMarques.length>0),e.R7$(5),e.Y8G("placeholder",c.selectedMarque?c.isModeleLoading?"Chargement...":"Cliquez pour choisir un mod\xe8le":"S\xe9lectionnez une marque")("ngClass",e.l_i(68,Rn,(null==(Ms=c.autoForm.get("vehicule.modele"))?null:Ms.invalid)&&(null==(Ms=c.autoForm.get("vehicule.modele"))?null:Ms.touched),!c.selectedMarque)),e.R7$(),e.Y8G("ngIf",c.isModeleLoading),e.R7$(),e.Y8G("ngIf",c.showModeleList&&c.filteredModeles.length>0),e.R7$(4),e.Y8G("ngClass",e.eq3(71,St,(null==(Ys=c.autoForm.get("vehicule.puissance"))?null:Ys.invalid)&&(null==(Ys=c.autoForm.get("vehicule.puissance"))?null:Ys.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(73,St,(null==(dl=c.autoForm.get("vehicule.places"))?null:dl.invalid)&&(null==(dl=c.autoForm.get("vehicule.places"))?null:dl.touched))),e.R7$(4),e.Y8G("max",c.maxDate)("ngClass",e.eq3(75,St,(null==(wa=c.autoForm.get("vehicule.dateCirculation"))?null:wa.invalid)&&(null==(wa=c.autoForm.get("vehicule.dateCirculation"))?null:wa.touched))),e.R7$(),e.Y8G("ngIf",(null==(Ts=c.autoForm.get("vehicule.dateCirculation"))?null:Ts.invalid)&&((null==(Ts=c.autoForm.get("vehicule.dateCirculation"))?null:Ts.touched)||(null==(Ts=c.autoForm.get("vehicule.dateCirculation"))?null:Ts.dirty))),e.R7$(47),e.Y8G("min",c.minDate)("ngClass",e.eq3(77,St,(null==(xa=c.autoForm.get("dateEffet"))?null:xa.invalid)&&(null==(xa=c.autoForm.get("dateEffet"))?null:xa.touched))),e.R7$(),e.Y8G("ngIf",(null==(Da=c.autoForm.get("preneur.email"))?null:Da.hasError("emailExists"))&&(null==(Da=c.autoForm.get("preneur.email"))?null:Da.touched))}},dependencies:[S.MD,S.YU,S.Sq,S.bT,E.YN,E.qT,E.xH,E.y7,E.me,E.Q0,E.Zm,E.wz,E.Fm,E.BC,E.cb,E.tU,E.X1,E.j4,E.JD,E.$R,te.Wk,kt],encapsulation:2})}return d})();const Tn=d=>({"ring-red-500":d}),Fr=(d,T)=>({"bg-green-100 text-green-800":d,"bg-red-100 text-red-800":T});function qn(d,T){if(1&d&&(e.j41(0,"div",97),e.EFF(1),e.k0s()),2&d){const s=e.XpG();e.Y8G("ngClass",e.l_i(2,Fr,s.submissionStatus.success,!s.submissionStatus.success)),e.R7$(),e.SpI(" ",s.submissionStatus.message," ")}}function Ne(d,T){1&d&&(e.j41(0,"div",98),e.EFF(1," Bonne nouvelle ! Cet email est d\xe9j\xe0 connu chez nous. "),e.j41(2,"a",99),e.EFF(3,"Connectez-vous"),e.k0s(),e.EFF(4," pour acc\xe9l\xe9rer votre demande. "),e.k0s())}function be(d,T){1&d&&(e.j41(0,"div",100),e.qSk(),e.j41(1,"svg",101),e.nrm(2,"circle",102)(3,"path",103),e.k0s()())}function re(d,T){if(1&d){const s=e.RV6();e.j41(0,"li",106),e.bIt("click",function(){const c=e.eBV(s).$implicit,O=e.XpG(2);return e.Njj(O.selectPostalCode(c))}),e.EFF(1),e.k0s()}if(2&d){const s=T.$implicit;e.R7$(),e.Lme(" ",s.postalCode," - ",s.city," ")}}function me(d,T){if(1&d&&(e.j41(0,"ul",104),e.DNE(1,re,2,2,"li",105),e.k0s()),2&d){const s=e.XpG();e.R7$(),e.Y8G("ngForOf",s.filteredPostalCodes)}}function Ge(d,T){1&d&&(e.j41(0,"option",107),e.EFF(1,"S\xe9lectionner une ville"),e.k0s())}function at(d,T){if(1&d&&(e.j41(0,"option",108),e.EFF(1),e.k0s()),2&d){const s=T.$implicit;e.Y8G("value",s),e.R7$(),e.SpI(" ",s," ")}}function Rt(d,T){1&d&&(e.j41(0,"div"),e.EFF(1," Le nombre de pi\xe8ces doit \xeatre d'au moins 3. "),e.k0s())}function Bt(d,T){if(1&d&&(e.j41(0,"div",109),e.DNE(1,Rt,2,0,"div",110),e.k0s()),2&d){let s;const f=e.XpG();e.R7$(),e.Y8G("ngIf",null==(s=f.habitationForm.get("evaluation.nombrePieces"))?null:s.hasError("min"))}}function Cn(d,T){if(1&d&&(e.j41(0,"div",111)(1,"div")(2,"label",112),e.EFF(3,"Valeur de l'expertise (\u20ac)"),e.k0s(),e.nrm(4,"input",113),e.k0s(),e.j41(5,"div")(6,"label",114),e.EFF(7,"Mois et ann\xe9e de l'expertise"),e.k0s(),e.nrm(8,"input",115),e.k0s()()),2&d){let s,f;const c=e.XpG();e.R7$(4),e.Y8G("ngClass",e.eq3(2,Tn,(null==(s=c.habitationForm.get("evaluation.valeurExpertise"))?null:s.invalid)&&(null==(s=c.habitationForm.get("evaluation.valeurExpertise"))?null:s.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(4,Tn,(null==(f=c.habitationForm.get("evaluation.dateExpertise"))?null:f.invalid)&&(null==(f=c.habitationForm.get("evaluation.dateExpertise"))?null:f.touched)))}}function ir(d,T){if(1&d&&(e.j41(0,"div",116),e.nrm(1,"input",117),e.k0s()),2&d){let s;const f=e.XpG();e.R7$(),e.Y8G("ngClass",e.eq3(1,Tn,(null==(s=f.habitationForm.get("evaluation.valeurLibre"))?null:s.invalid)&&(null==(s=f.habitationForm.get("evaluation.valeurLibre"))?null:s.touched)))}}function Ir(d,T){if(1&d&&(e.j41(0,"div",97),e.EFF(1),e.k0s()),2&d){const s=e.XpG();e.Y8G("ngClass",e.l_i(2,Fr,s.submissionStatus.success,!s.submissionStatus.success)),e.R7$(),e.SpI(" ",s.submissionStatus.message," ")}}let Cr=(()=>{class d{fb;dbConnectService;platformId;habitationForm;minDate;submissionStatus=null;destroy$=new ue.B;filteredPostalCodes=[];cities=[];isLoading=!1;constructor(s,f,c){this.fb=s,this.dbConnectService=f,this.platformId=c;const se=new Date(new Date);se.setDate(se.getDate()+1),this.minDate=se.toISOString().split("T")[0],this.habitationForm=this.fb.group({preneur:this.fb.group({genre:["Madame",E.k0.required],nom:["",E.k0.required],prenom:["",E.k0.required],dateNaissance:["",E.k0.required],telephone:["",E.k0.required],email:["",[E.k0.required,E.k0.email]]}),batiment:this.fb.group({adresse:["",E.k0.required],codePostal:["",E.k0.required],ville:["",E.k0.required],typeMaison:["Maison 2 fa\xe7ades",E.k0.required]}),evaluation:this.fb.group({valeurBatiment:["expertise",E.k0.required],superficie:["",E.k0.required],nombrePieces:["",[E.k0.required,E.k0.min(3)]],loyer:[""],valeurContenu:["courtier",E.k0.required],valeurExpertise:[null],dateExpertise:[null],valeurLibre:[null]}),garanties:this.fb.group({contenu:[!1],vol:[!1],pertesIndirectes:[!1],protectionJuridique:[!1],assistance:[!1]}),dateEffet:[this.minDate,E.k0.required]})}get emailExists(){return!0===this.habitationForm.get("preneur.email")?.emailExists}checkEmailExistence(s){return s.emailExists=!1,s.value?this.dbConnectService.checkEmailExists(s.value).pipe((0,ye.M)(f=>{f&&(s.emailExists=!0)}),(0,ve.T)(()=>null),(0,Q.W)(()=>(s.emailExists=!1,(0,K.of)(null)))):(0,K.of)(null)}ngOnInit(){if((0,S.UE)(this.platformId)){this.setupEvaluationValidators(),this.habitationForm.get("batiment.codePostal")?.valueChanges.pipe(Te(300),(0,$e.F)(),(0,ye.M)(()=>this.isLoading=!0),(0,Ye.n)(f=>f&&f.length>=2?this.dbConnectService.getPostalCodes(f):(this.filteredPostalCodes=[],(0,K.of)([]))),(0,ye.M)(()=>{this.filteredPostalCodes.length>0&&(this.cities=[],this.habitationForm.get("batiment.ville")?.setValue(""))}),(0,Ke.Q)(this.destroy$)).subscribe(f=>{this.isLoading=!1,this.filteredPostalCodes=f});const s=this.habitationForm.get("preneur.email");s&&s.valueChanges.pipe(Te(500),(0,$e.F)(),(0,Ye.n)(()=>this.checkEmailExistence(s)),(0,Ke.Q)(this.destroy$)).subscribe()}}setupEvaluationValidators(){const s=this.habitationForm.get("evaluation"),f=s.get("valeurBatiment"),c=s.get("valeurExpertise"),O=s.get("dateExpertise"),se=s.get("valeurLibre");f?.valueChanges.pipe((0,Ke.Q)(this.destroy$)).subscribe(ke=>{"expertise"===ke?(c?.setValidators([E.k0.required,E.k0.min(1)]),O?.setValidators(E.k0.required),se?.clearValidators(),se?.setValue(null)):"libre"===ke?(se?.setValidators([E.k0.required,E.k0.min(1)]),c?.clearValidators(),O?.clearValidators(),c?.setValue(null),O?.setValue(null)):(c?.clearValidators(),O?.clearValidators(),se?.clearValidators()),c?.updateValueAndValidity(),O?.updateValueAndValidity(),se?.updateValueAndValidity()})}ngOnDestroy(){(0,S.UE)(this.platformId)&&(this.destroy$.next(),this.destroy$.complete())}selectPostalCode(s){const f=this.filteredPostalCodes.find(c=>c.postalCode===s.postalCode&&c.city===s.city);f&&(this.habitationForm.get("batiment.codePostal")?.setValue(f.postalCode,{emitEvent:!1}),this.habitationForm.get("batiment.ville")?.setValue(f.city),this.cities=[f.city],this.habitationForm.get("batiment.ville")?.updateValueAndValidity()),this.filteredPostalCodes=[]}onSubmit(){this.habitationForm.valid?this.dbConnectService.createHabitationQuote(this.habitationForm.value).subscribe({next:s=>{console.log("Devis habitation enregistr\xe9 avec succ\xe8s",s),this.submissionStatus={success:!0,message:"Votre demande de devis a bien \xe9t\xe9 enregistr\xe9e !"}},error:s=>{console.error("Erreur lors de l'enregistrement du devis habitation",s),this.submissionStatus={success:!1,message:"Une erreur est survenue lors de l'enregistrement de votre devis."}}}):(console.error("Formulaire invalide"),this.submissionStatus={success:!1,message:"Veuillez remplir tous les champs obligatoires avant de soumettre."})}scrollToSection(s){if((0,S.UE)(this.platformId)){const f=document.getElementById(s);f&&f.scrollIntoView({behavior:"smooth",block:"start"})}}static \u0275fac=function(f){return new(f||d)(e.rXU(E.ok),e.rXU(_t.y),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:d,selectors:[["app-form-habitation"]],standalone:!0,features:[e.Jv_([_t.y]),e.aNF],decls:218,vars:41,consts:[["id","hero",1,"relative","isolate","bg-black","px-6","pt-14","lg:px-8"],[1,"mx-auto","max-w-7xl","py-8","sm:py-12","lg:py-16"],[1,"grid","grid-cols-1","items-center","gap-x-8","gap-y-16","lg:grid-cols-2"],[1,"text-center","lg:text-left"],[1,"text-4xl","font-bold","tracking-tight","text-white","sm:text-6xl"],[1,"mt-6","text-lg","leading-8","text-gray-300"],[1,"mt-10","flex","items-center","justify-center","gap-x-6","lg:justify-start"],[1,"rounded-md","bg-indigo-600","px-3.5","py-2.5","text-sm","font-semibold","text-white","shadow-sm","hover:bg-indigo-700","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-indigo-600",3,"click"],["routerLink","/contact",1,"text-sm","font-semibold","leading-6","text-white"],["aria-hidden","true"],[1,"flex","justify-center","lg:justify-end"],["src","https://fqopliwvpuiprdegxytz.supabase.co/storage/v1/object/sign/img_website/ahabitation.webp?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV81MmJmNDFiNC0yNGQ0LTQ3ZTktYmEzNi04YWZmY2NjMzEzNzIiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJpbWdfd2Vic2l0ZS9haGFiaXRhdGlvbi53ZWJwIiwiaWF0IjoxNzYzMDI1NjMxLCJleHAiOjIwNzgzODU2MzF9.XXro16g7nOi_EJfF2jVBFAaRCfCcf0xoHrcUfIUUo70","alt","Assurance",1,"w-full","max-w-xs","rounded-xl","shadow-xl","ring-1","ring-gray-400/10","lg:max-w-md"],["id","content",1,"container","mx-auto","p-4","py-16","sm:py-24"],[1,"grid","grid-cols-1","lg:grid-cols-2","lg:gap-12"],[1,"text-gray-700","prose","lg:prose-lg","max-w-none","prose-h2:mb-4","prose-p:mt-4","prose-ul:mt-4"],[1,"text-2xl","font-bold"],[1,"text-2xl","font-bold","mt-8"],["id","form",1,"space-y-12","bg-white","p-8","rounded-lg","shadow-md","mt-8","lg:mt-0",3,"ngSubmit","formGroup"],["class","p-4 mb-4 text-sm rounded-lg","role","alert",3,"ngClass",4,"ngIf"],["formGroupName","preneur",1,"border-t","pt-6"],[1,"text-xl","font-semibold","px-2","text-gray-700","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["for","preneur-genre",1,"block","text-sm","font-medium","text-gray-700"],["id","preneur-genre","formControlName","genre","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","preneur-nom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-nom","formControlName","nom","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","preneur-prenom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-prenom","formControlName","prenom","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","preneur-dob",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","preneur-dob","formControlName","dateNaissance","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","preneur-tel",1,"block","text-sm","font-medium","text-gray-700"],["type","tel","id","preneur-tel","formControlName","telephone","required","","appPhoneFormat","","placeholder","+32 4XX XX XX XX","maxlength","18",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","preneur-email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","preneur-email","formControlName","email","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["class","text-green-800 bg-green-100 p-2 rounded-md text-sm mt-2",4,"ngIf"],["formGroupName","batiment",1,"border-t","pt-6"],[1,"md:col-span-2"],["for","adresse",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","adresse","formControlName","adresse","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],[1,"relative"],["for","code-postal",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","code-postal","formControlName","codePostal","required","","autocomplete","off",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["class","absolute inset-y-0 right-0 flex items-center pr-3 top-6",4,"ngIf"],["class","absolute z-10 w-full bg-white border border-gray-300 rounded-md mt-1 max-h-40 overflow-y-auto",4,"ngIf"],["for","ville",1,"block","text-sm","font-medium","text-gray-700"],["id","ville","formControlName","ville","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm","disabled:bg-gray-100",3,"disabled"],["value","",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["for","type-maison",1,"block","text-sm","font-medium","text-gray-700"],["id","type-maison","formControlName","typeMaison","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["formGroupName","evaluation",1,"border-t","pt-6"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-8"],["for","superficie",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","superficie","formControlName","superficie","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","nombre-pieces",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","nombre-pieces","formControlName","nombrePieces","required","","placeholder","Salon + Cuisine = 1 pi\xe8ce",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["class","text-red-600 text-sm mt-1",4,"ngIf"],["for","loyer",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","loyer","formControlName","loyer","placeholder","\u20ac",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-8","mt-8"],[1,"text-base","font-medium","text-gray-900"],[1,"mt-2"],[1,"space-y-2"],[1,"flex","items-center"],["id","valeur-bat-expertise","formControlName","valeurBatiment","value","expertise","type","radio",1,"h-4","w-4","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","valeur-bat-expertise",1,"ml-3","block","text-sm","font-medium","text-gray-700"],["class","mt-4 ml-7 space-y-4",4,"ngIf"],["id","valeur-bat-libre","formControlName","valeurBatiment","value","libre","type","radio",1,"h-4","w-4","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","valeur-bat-libre",1,"ml-3","block","text-sm","font-medium","text-gray-700"],["class","mt-4 ml-7",4,"ngIf"],["id","valeur-cont-courtier","formControlName","valeurContenu","value","courtier","type","radio",1,"h-4","w-4","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","valeur-cont-courtier",1,"ml-3","block","text-sm","font-medium","text-gray-700"],["id","valeur-cont-prospect","formControlName","valeurContenu","value","prospect","type","radio",1,"h-4","w-4","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","valeur-cont-prospect",1,"ml-3","block","text-sm","font-medium","text-gray-700"],["formGroupName","garanties",1,"border-t","pt-6"],[1,"space-y-4"],[1,"text-sm","text-gray-600"],[1,"grid","grid-cols-2","md:grid-cols-3","gap-4"],[1,"flex","items-start"],[1,"flex","h-5","items-center"],["id","garantie-contenu","formControlName","contenu","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],[1,"ml-3","text-sm"],["for","garantie-contenu",1,"font-medium","text-gray-700"],["id","garantie-vol","formControlName","vol","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","garantie-vol",1,"font-medium","text-gray-700"],["id","garantie-pertes","formControlName","pertesIndirectes","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","garantie-pertes",1,"font-medium","text-gray-700"],["id","garantie-pj","formControlName","protectionJuridique","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","garantie-pj",1,"font-medium","text-gray-700"],["id","garantie-assistance","formControlName","assistance","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","garantie-assistance",1,"font-medium","text-gray-700"],[1,"pt-4","border-t"],["for","date-effet",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","date-effet","formControlName","dateEffet","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"min"],[1,"pt-6"],[1,"flex","justify-end"],["type","submit",1,"inline-flex","justify-center","rounded-md","border","border-transparent","bg-indigo-600","py-2","px-4","text-sm","font-medium","text-white","shadow-sm","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2","disabled:bg-gray-400","disabled:cursor-not-allowed",3,"disabled"],["role","alert",1,"p-4","mb-4","text-sm","rounded-lg",3,"ngClass"],[1,"text-green-800","bg-green-100","p-2","rounded-md","text-sm","mt-2"],["routerLink","/login",1,"font-bold","underline","hover:text-green-700"],[1,"absolute","inset-y-0","right-0","flex","items-center","pr-3","top-6"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5","text-gray-400"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"absolute","z-10","w-full","bg-white","border","border-gray-300","rounded-md","mt-1","max-h-40","overflow-y-auto"],["class","px-3 py-2 cursor-pointer hover:bg-gray-100",3,"click",4,"ngFor","ngForOf"],[1,"px-3","py-2","cursor-pointer","hover:bg-gray-100",3,"click"],["value",""],[3,"value"],[1,"text-red-600","text-sm","mt-1"],[4,"ngIf"],[1,"mt-4","ml-7","space-y-4"],["for","valeur-expertise",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","valeur-expertise","formControlName","valeurExpertise","placeholder","Ex: 250000",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","date-expertise",1,"block","text-sm","font-medium","text-gray-700"],["type","month","id","date-expertise","formControlName","dateExpertise",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],[1,"mt-4","ml-7"],["type","number","id","valeur-libre","formControlName","valeurLibre","placeholder","Montant en \u20ac",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"]],template:function(f,c){if(1&f&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e.EFF(5,"Assurance Habitation"),e.k0s(),e.j41(6,"p",5),e.EFF(7,"Avoir une assurance habitation est essentiel pour prot\xe9ger votre logement et vos biens contre les risques impr\xe9vus tels que incendie, vol ou d\xe9g\xe2ts des eaux. Elle offre une s\xe9curit\xe9 financi\xe8re en couvrant les r\xe9parations ou le remplacement des biens endommag\xe9s. En cas de responsabilit\xe9 civile, elle prot\xe8ge \xe9galement contre les dommages caus\xe9s involontairement \xe0 des tiers. Ainsi, une assurance habitation vous apporte tranquillit\xe9 d\u2019esprit et s\xe9r\xe9nit\xe9 au quotidien."),e.k0s(),e.j41(8,"div",6)(9,"button",7),e.bIt("click",function(){return c.scrollToSection("content")}),e.EFF(10,"Souscrire"),e.k0s(),e.j41(11,"a",8),e.EFF(12,"Contact "),e.j41(13,"span",9),e.EFF(14,"\u2192"),e.k0s()()()(),e.j41(15,"div",10),e.nrm(16,"img",11),e.k0s()()()(),e.j41(17,"div",12)(18,"div",13)(19,"div",14)(20,"h2",15),e.EFF(21,"L\u2019assurance habitation est-elle vraiment indispensable ?"),e.k0s(),e.j41(22,"p"),e.EFF(23,"Assurkin vous propose une assurance habitation qui vous offre une protection compl\xe8te contre les dommages caus\xe9s \xe0 votre habitation et \xe0 vos biens, ainsi que votre responsabilit\xe9 civile envers autrui."),e.k0s(),e.j41(24,"p"),e.EFF(25,"Si vous \xeates propri\xe9taire, il est crucial de prot\xe9ger votre habitation et vos biens mobiliers contre divers risques tels que l'incendie, l'inondation, les catastrophes naturelles, etc. Si vous \xeates locataire, l'assurance habitation couvre votre responsabilit\xe9 en cas de dommages caus\xe9s au logement que vous occupez."),e.k0s(),e.j41(26,"p"),e.EFF(27,"Dans certains cas, vous pourriez \xeatre contraint de souscrire une assurance incendie, qui constitue la base de toute assurance habitation. En tant que propri\xe9taire, votre banque pourrait l'exiger dans le cadre de l'obtention d'un pr\xeat. Si vous \xeates locataire, l'assurance habitation peut \xeatre une clause incluse dans votre contrat de location. Assurkin vous accompagne pour choisir la meilleure protection adapt\xe9e \xe0 vos besoins et \xe0 votre situation."),e.k0s(),e.j41(28,"h2",16),e.EFF(29,"Que couvre l\u2019assurance habitation ?"),e.k0s(),e.j41(30,"p"),e.EFF(31,"L'assurance habitation, souvent multirisques, d\xe9taille les garanties incluses comme la couverture incendie, les d\xe9g\xe2ts des eaux et d'autres risques comme les dommages m\xe9t\xe9orologiques, les cambriolages ou les bris de vitrage. Des mesures de protection sont n\xe9cessaires pour b\xe9n\xe9ficier de l'assurance. En plus des couvertures obligatoires, des options facultatives comme la couverture vol et vandalisme sont propos\xe9es, avec des services suppl\xe9mentaires comme l'assistance d'urgence. Diverses ouvertures en option sont disponibles telles que la couverture pour une activit\xe9 professionnelle \xe0 domicile ou pour une piscine."),e.k0s(),e.j41(32,"h2",16),e.EFF(33,"Comment \xeatre certain d\u2019obtenir le meilleur prix ?"),e.k0s(),e.j41(34,"p"),e.EFF(35,"Pour comparer les assurances habitation, Internet est le moyen le plus simple et rapide. Cependant, il est crucial de comparer des offres similaires en termes de garanties et de services, en plus des prix. Il est donc essentiel de v\xe9rifier minutieusement les risques couverts par chaque police d'assurance propos\xe9e. \xc9tant donn\xe9 la complexit\xe9 de cette t\xe2che, nous recommandons vivement de consulter nos courtiers avant de prendre une d\xe9cision !"),e.k0s(),e.j41(36,"p"),e.EFF(37,"Le co\xfbt d'une assurance habitation d\xe9pend de plusieurs crit\xe8res, notamment le type de mat\xe9riaux utilis\xe9s, le risque de cambriolage li\xe9 \xe0 l'emplacement de la r\xe9sidence, les options de couverture choisies, la valeur estim\xe9e de la propri\xe9t\xe9 et le montant de la franchise."),e.k0s(),e.j41(38,"h2",16),e.EFF(39,"Quels changements doit-on signaler \xe0 son assureur ?"),e.k0s(),e.j41(40,"p"),e.EFF(41,"Il est crucial de d\xe9clarer tout changement \xe0 votre assureur, m\xeame si cela peut entra\xeener une augmentation de la prime. Ne pas le faire expose \xe0 un risque de sous-indemnisation ou m\xeame de refus d'indemnisation si le bien assur\xe9 n'est plus conforme."),e.k0s(),e.j41(42,"p"),e.EFF(43,"L'assureur \xe9value le montant de la prime en tenant compte des caract\xe9ristiques de votre bien. Tout ajout tel qu'une pi\xe8ce suppl\xe9mentaire, un \xe9tage, une piscine ou un spa doit \xeatre signal\xe9. \xc0 noter qu'installer un syst\xe8me d'alarme peut entra\xeener une r\xe9duction de la prime."),e.k0s(),e.j41(44,"p"),e.EFF(45,"De plus, si vous exercez des activit\xe9s professionnelles \xe0 domicile ou stockez du mat\xe9riel professionnel, la couverture peut \xeatre limit\xe9e. Il est donc recommand\xe9 d'en discuter avec votre courtier. Enfin, souscrire une assurance responsabilit\xe9 civile est essentiel, notamment si vous recevez des clients \xe0 domicile."),e.k0s(),e.j41(46,"h2",16),e.EFF(47,"Les objets de valeur sont-ils couverts ?"),e.k0s(),e.j41(48,"p"),e.EFF(49,"Les bijoux comme les objets d\u2019art et autres objets de valeur peuvent \xeatre couverts. Mais pas toujours. Dans ce cas, l\u2019assureur peut soit appliquer une surprime, soit proposer une assurance sp\xe9cifique."),e.k0s()(),e.j41(50,"form",17),e.bIt("ngSubmit",function(){return c.onSubmit()}),e.DNE(51,qn,2,5,"div",18),e.j41(52,"fieldset",19)(53,"legend",20),e.EFF(54,"1. Informations sur le preneur"),e.k0s(),e.j41(55,"div",21)(56,"div")(57,"label",22),e.EFF(58,"Genre"),e.k0s(),e.j41(59,"select",23)(60,"option"),e.EFF(61,"Madame"),e.k0s(),e.j41(62,"option"),e.EFF(63,"Monsieur"),e.k0s(),e.j41(64,"option"),e.EFF(65,"Autre"),e.k0s()()(),e.j41(66,"div")(67,"label",24),e.EFF(68,"Nom"),e.k0s(),e.nrm(69,"input",25),e.k0s(),e.j41(70,"div")(71,"label",26),e.EFF(72,"Pr\xe9nom"),e.k0s(),e.nrm(73,"input",27),e.k0s(),e.j41(74,"div")(75,"label",28),e.EFF(76,"Date de naissance"),e.k0s(),e.nrm(77,"input",29),e.k0s(),e.j41(78,"div")(79,"label",30),e.EFF(80,"Num\xe9ro de t\xe9l\xe9phone"),e.k0s(),e.nrm(81,"input",31),e.k0s(),e.j41(82,"div")(83,"label",32),e.EFF(84,"Email"),e.k0s(),e.nrm(85,"input",33),e.DNE(86,Ne,5,0,"div",34),e.k0s()()(),e.j41(87,"fieldset",35)(88,"legend",20),e.EFF(89,"2. B\xe2timent \xe0 assurer"),e.k0s(),e.j41(90,"div",21)(91,"div",36)(92,"label",37),e.EFF(93,"Rue et num\xe9ro"),e.k0s(),e.nrm(94,"input",38),e.k0s(),e.j41(95,"div")(96,"div",39)(97,"label",40),e.EFF(98,"Code Postal"),e.k0s(),e.nrm(99,"input",41),e.DNE(100,be,4,0,"div",42)(101,me,2,1,"ul",43),e.k0s()(),e.j41(102,"div")(103,"label",44),e.EFF(104,"Ville"),e.k0s(),e.j41(105,"select",45),e.DNE(106,Ge,2,0,"option",46)(107,at,2,2,"option",47),e.k0s()(),e.j41(108,"div")(109,"label",48),e.EFF(110,"Type de maison"),e.k0s(),e.j41(111,"select",49)(112,"option"),e.EFF(113,"Maison 2 fa\xe7ades"),e.k0s(),e.j41(114,"option"),e.EFF(115,"Maison 3 fa\xe7ades"),e.k0s(),e.j41(116,"option"),e.EFF(117,"Maison 4 fa\xe7ades (villa)"),e.k0s(),e.j41(118,"option"),e.EFF(119,"Appartement"),e.k0s(),e.j41(120,"option"),e.EFF(121,"Studio"),e.k0s(),e.j41(122,"option"),e.EFF(123,"Autre"),e.k0s()()()()(),e.j41(124,"fieldset",50)(125,"legend",20),e.EFF(126,"3. \xc9valuation des biens"),e.k0s(),e.j41(127,"div",51)(128,"div")(129,"label",52),e.EFF(130,"Superficie (m\xb2)"),e.k0s(),e.nrm(131,"input",53),e.k0s(),e.j41(132,"div")(133,"label",54),e.EFF(134,"Nombre de pi\xe8ces"),e.k0s(),e.nrm(135,"input",55),e.DNE(136,Bt,2,1,"div",56),e.k0s(),e.j41(137,"div")(138,"label",57),e.EFF(139,"Loyer mensuel (charges comprises)"),e.k0s(),e.nrm(140,"input",58),e.k0s()(),e.j41(141,"div",59)(142,"div")(143,"label",60),e.EFF(144,"Valeur du b\xe2timent"),e.k0s(),e.j41(145,"fieldset",61)(146,"div",62)(147,"div")(148,"div",63),e.nrm(149,"input",64),e.j41(150,"label",65),e.EFF(151,"Valeur du b\xe2timent selon expertise"),e.k0s()(),e.DNE(152,Cn,9,6,"div",66),e.k0s(),e.j41(153,"div")(154,"div",63),e.nrm(155,"input",67),e.j41(156,"label",68),e.EFF(157,"Valeur du b\xe2timent librement exprim\xe9e"),e.k0s()(),e.DNE(158,ir,2,3,"div",69),e.k0s()()()(),e.j41(159,"div")(160,"label",60),e.EFF(161,"Valeur du contenu"),e.k0s(),e.j41(162,"fieldset",61)(163,"div",62)(164,"div",63),e.nrm(165,"input",70),e.j41(166,"label",71),e.EFF(167,"D\xe9termin\xe9e par le courtier (bas\xe9 sur le b\xe2timent)"),e.k0s()(),e.j41(168,"div",63),e.nrm(169,"input",72),e.j41(170,"label",73),e.EFF(171,"D\xe9termin\xe9e par vous-m\xeame"),e.k0s()()()()()()(),e.j41(172,"fieldset",74)(173,"legend",20),e.EFF(174,"4. Garanties souhait\xe9es"),e.k0s(),e.j41(175,"div",75)(176,"p",76),e.EFF(177,"La garantie de base (RC B\xe2timent) est toujours incluse."),e.k0s(),e.j41(178,"div",77)(179,"div",78)(180,"div",79),e.nrm(181,"input",80),e.k0s(),e.j41(182,"div",81)(183,"label",82),e.EFF(184,"Contenu"),e.k0s()()(),e.j41(185,"div",78)(186,"div",79),e.nrm(187,"input",83),e.k0s(),e.j41(188,"div",81)(189,"label",84),e.EFF(190,"Vol"),e.k0s()()(),e.j41(191,"div",78)(192,"div",79),e.nrm(193,"input",85),e.k0s(),e.j41(194,"div",81)(195,"label",86),e.EFF(196,"Pertes indirectes"),e.k0s()()(),e.j41(197,"div",78)(198,"div",79),e.nrm(199,"input",87),e.k0s(),e.j41(200,"div",81)(201,"label",88),e.EFF(202,"Protection Juridique"),e.k0s()()(),e.j41(203,"div",78)(204,"div",79),e.nrm(205,"input",89),e.k0s(),e.j41(206,"div",81)(207,"label",90),e.EFF(208,"Assistance"),e.k0s()()()()()(),e.j41(209,"div",91)(210,"label",92),e.EFF(211,"Date d'effet souhait\xe9e"),e.k0s(),e.nrm(212,"input",93),e.k0s(),e.j41(213,"div",94),e.DNE(214,Ir,2,5,"div",18),e.j41(215,"div",95)(216,"button",96),e.EFF(217," Recevoir mon offre "),e.k0s()()()()()()),2&f){let O,se,ke,rt,Ft,Ht,sn,Hn,er,en,Wo,ji,ba;e.R7$(50),e.Y8G("formGroup",c.habitationForm),e.R7$(),e.Y8G("ngIf",c.submissionStatus),e.R7$(18),e.Y8G("ngClass",e.eq3(23,Tn,(null==(O=c.habitationForm.get("preneur.nom"))?null:O.invalid)&&(null==(O=c.habitationForm.get("preneur.nom"))?null:O.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(25,Tn,(null==(se=c.habitationForm.get("preneur.prenom"))?null:se.invalid)&&(null==(se=c.habitationForm.get("preneur.prenom"))?null:se.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(27,Tn,(null==(ke=c.habitationForm.get("preneur.dateNaissance"))?null:ke.invalid)&&(null==(ke=c.habitationForm.get("preneur.dateNaissance"))?null:ke.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(29,Tn,(null==(rt=c.habitationForm.get("preneur.telephone"))?null:rt.invalid)&&(null==(rt=c.habitationForm.get("preneur.telephone"))?null:rt.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(31,Tn,(null==(Ft=c.habitationForm.get("preneur.email"))?null:Ft.invalid)&&(null==(Ft=c.habitationForm.get("preneur.email"))?null:Ft.touched))),e.R7$(),e.Y8G("ngIf",c.emailExists&&(null==(Ht=c.habitationForm.get("preneur.email"))?null:Ht.touched)),e.R7$(8),e.Y8G("ngClass",e.eq3(33,Tn,(null==(sn=c.habitationForm.get("batiment.adresse"))?null:sn.invalid)&&(null==(sn=c.habitationForm.get("batiment.adresse"))?null:sn.touched))),e.R7$(5),e.Y8G("ngClass",e.eq3(35,Tn,(null==(Hn=c.habitationForm.get("batiment.codePostal"))?null:Hn.invalid)&&(null==(Hn=c.habitationForm.get("batiment.codePostal"))?null:Hn.touched))),e.R7$(),e.Y8G("ngIf",c.isLoading),e.R7$(),e.Y8G("ngIf",c.filteredPostalCodes.length>0),e.R7$(4),e.Y8G("disabled",0===c.cities.length),e.R7$(),e.Y8G("ngIf",0===c.cities.length),e.R7$(),e.Y8G("ngForOf",c.cities),e.R7$(24),e.Y8G("ngClass",e.eq3(37,Tn,(null==(er=c.habitationForm.get("evaluation.superficie"))?null:er.invalid)&&(null==(er=c.habitationForm.get("evaluation.superficie"))?null:er.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(39,Tn,(null==(en=c.habitationForm.get("evaluation.nombrePieces"))?null:en.invalid)&&(null==(en=c.habitationForm.get("evaluation.nombrePieces"))?null:en.touched))),e.R7$(),e.Y8G("ngIf",(null==(Wo=c.habitationForm.get("evaluation.nombrePieces"))?null:Wo.invalid)&&((null==(Wo=c.habitationForm.get("evaluation.nombrePieces"))?null:Wo.touched)||(null==(Wo=c.habitationForm.get("evaluation.nombrePieces"))?null:Wo.dirty))),e.R7$(16),e.Y8G("ngIf","expertise"===(null==(ji=c.habitationForm.get("evaluation.valeurBatiment"))?null:ji.value)),e.R7$(6),e.Y8G("ngIf","libre"===(null==(ba=c.habitationForm.get("evaluation.valeurBatiment"))?null:ba.value)),e.R7$(54),e.Y8G("min",c.minDate),e.R7$(2),e.Y8G("ngIf",c.submissionStatus),e.R7$(2),e.Y8G("disabled",c.habitationForm.invalid)}},dependencies:[S.MD,S.YU,S.Sq,S.bT,E.X1,E.qT,E.xH,E.y7,E.me,E.Q0,E.Zm,E.wz,E.Fm,E.BC,E.cb,E.YS,E.tU,E.j4,E.JD,E.$R,te.Wk,kt],encapsulation:2})}return d})(),So=(()=>{class d{ngControl;constructor(s){this.ngControl=s}onInput(s){const f=this.formatPhoneNumber(s);this.ngControl.control&&this.ngControl.control.setValue(f,{emitEvent:!1})}formatPhoneNumber(s){if(!s)return"";const f=s.replace(/\D/g,""),c=f.startsWith("04"),se=f.substring(0,c?10:9),ke=[];return c?(se.length>0&&ke.push(se.substring(0,4)),se.length>4&&ke.push(se.substring(4,6)),se.length>6&&ke.push(se.substring(6,8)),se.length>8&&ke.push(se.substring(8,10))):(se.length>0&&ke.push(se.substring(0,2)),se.length>2&&ke.push(se.substring(2,5)),se.length>5&&ke.push(se.substring(5,7)),se.length>7&&ke.push(se.substring(7,9))),ke.join(" ")}static \u0275fac=function(f){return new(f||d)(e.rXU(E.vO))};static \u0275dir=e.FsC({type:d,selectors:[["","appPhoneNumberFormat",""]],hostBindings:function(f,c){1&f&&e.bIt("input",function(se){return c.onInput(se.target.value)})},standalone:!0})}return d})();const Xr=d=>({"ring-red-500":d}),Kr=(d,T)=>({"bg-green-100 text-green-800":d,"bg-red-100 text-red-800":T});function ki(d,T){if(1&d&&(e.j41(0,"div",55),e.EFF(1),e.k0s()),2&d){const s=e.XpG();e.Y8G("ngClass",e.l_i(2,Kr,s.submissionStatus.success,!s.submissionStatus.success)),e.R7$(),e.SpI(" ",s.submissionStatus.message," ")}}function Vn(d,T){1&d&&(e.j41(0,"div",56),e.qSk(),e.j41(1,"svg",57),e.nrm(2,"circle",58)(3,"path",59),e.k0s()())}function wt(d,T){if(1&d){const s=e.RV6();e.j41(0,"li",62),e.bIt("click",function(){const c=e.eBV(s).$implicit,O=e.XpG(2);return e.Njj(O.selectPostalCode(c))}),e.EFF(1),e.k0s()}if(2&d){const s=T.$implicit;e.R7$(),e.Lme(" ",s.postalCode," - ",s.city," ")}}function bo(d,T){if(1&d&&(e.j41(0,"ul",60),e.DNE(1,wt,2,2,"li",61),e.k0s()),2&d){const s=e.XpG();e.R7$(),e.Y8G("ngForOf",s.filteredPostalCodes)}}function Qo(d,T){1&d&&(e.j41(0,"option",63),e.EFF(1,"S\xe9lectionner une ville"),e.k0s())}function Pr(d,T){if(1&d&&(e.j41(0,"option",64),e.EFF(1),e.k0s()),2&d){const s=T.$implicit;e.Y8G("value",s),e.R7$(),e.JRh(s)}}function wr(d,T){if(1&d&&(e.j41(0,"div",55),e.EFF(1),e.k0s()),2&d){const s=e.XpG();e.Y8G("ngClass",e.l_i(2,Kr,s.submissionStatus.success,!s.submissionStatus.success)),e.R7$(),e.SpI(" ",s.submissionStatus.message," ")}}let Or=(()=>{class d{fb;injector;platformId;rcForm;minDate;submissionStatus=null;destroy$=new ue.B;postalCode$=new ue.B;filteredPostalCodes=[];cities=[];isLoading=!1;constructor(s,f,c){this.fb=s,this.injector=f,this.platformId=c;const se=new Date(new Date);se.setDate(se.getDate()+1),this.minDate=se.toISOString().split("T")[0],this.rcForm=this.fb.group({preneur_nom:["",E.k0.required],preneur_prenom:["",E.k0.required],preneur_genre:["Madame",E.k0.required],preneur_telephone:["",[E.k0.required,d=>{const T=d.value;if(!T)return null;const s=T.replace(/\D/g,"");return 9===s.length||10===s.length?null:{invalidPhoneNumber:!0}}]],preneur_email:["",[E.k0.required,E.k0.email]],preneur_adresse:["",E.k0.required],preneur_code_postal:["",E.k0.required],preneur_ville:[{value:"",disabled:!0},E.k0.required],risque:["famille",E.k0.required],date_effet:[this.minDate,E.k0.required]})}ngOnInit(){if((0,S.UE)(this.platformId)){const s=this.injector.get(_t.y);this.postalCode$.pipe(Te(300),(0,$e.F)(),(0,ye.M)(()=>{this.isLoading=!0,this.filteredPostalCodes=[]}),(0,Ye.n)(f=>f&&f.length>=2?s.getPostalCodes(f):(this.cities=[],this.rcForm.get("preneur_ville")?.setValue(""),this.rcForm.get("preneur_ville")?.disable(),(0,K.of)([]))),(0,Ke.Q)(this.destroy$)).subscribe(f=>{this.isLoading=!1,this.filteredPostalCodes=f})}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onPostalCodeInput(s){this.postalCode$.next(s.target.value)}selectPostalCode(s){s&&s.postalCode&&(this.rcForm.get("preneur_code_postal")?.setValue(s.postalCode,{emitEvent:!1}),this.filteredPostalCodes=[],this.injector.get(_t.y).getCitiesByPostalCode(s.postalCode).pipe((0,Ke.Q)(this.destroy$)).subscribe(c=>{this.cities=c,c.length>0?(this.rcForm.get("preneur_ville")?.enable(),c.includes(s.city)?this.rcForm.get("preneur_ville")?.setValue(s.city):1===c.length?this.rcForm.get("preneur_ville")?.setValue(c[0]):this.rcForm.get("preneur_ville")?.setValue("")):(this.rcForm.get("preneur_ville")?.setValue(""),this.rcForm.get("preneur_ville")?.disable())}))}onSubmit(){if(this.rcForm.valid){const s=this.rcForm.getRawValue();this.injector.get(_t.y).saveRcForm(s).pipe((0,Ke.Q)(this.destroy$)).subscribe({next:f=>{this.submissionStatus={success:!0,message:"Votre demande a bien \xe9t\xe9 envoy\xe9e."},this.rcForm.reset()},error:f=>{this.submissionStatus={success:!1,message:"Une erreur est survenue. Veuillez r\xe9essayer."},console.error("Erreur lors de la soumission du formulaire RC:",f)}})}else this.markAllAsTouched(this.rcForm),this.submissionStatus={success:!1,message:"Veuillez corriger les erreurs dans le formulaire."}}markAllAsTouched(s){Object.values(s.controls).forEach(f=>{f.markAsTouched(),f instanceof E.gE&&this.markAllAsTouched(f)})}scrollToSection(s){if((0,S.UE)(this.platformId)){const f=document.getElementById(s);f&&f.scrollIntoView({behavior:"smooth",block:"start"})}}static \u0275fac=function(f){return new(f||d)(e.rXU(E.ok),e.rXU(e.zZn),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:d,selectors:[["app-form-rc"]],standalone:!0,features:[e.Jv_([_t.y]),e.aNF],decls:120,vars:28,consts:[["id","hero",1,"relative","isolate","bg-black","px-6","pt-14","lg:px-8"],[1,"mx-auto","max-w-7xl","py-8","sm:py-12","lg:py-16"],[1,"grid","grid-cols-1","items-center","gap-x-8","gap-y-16","lg:grid-cols-2"],[1,"text-center","lg:text-left"],[1,"text-4xl","font-bold","tracking-tight","text-white","sm:text-6xl"],[1,"mt-6","text-lg","leading-8","text-gray-300"],[1,"mt-10","flex","items-center","justify-center","gap-x-6","lg:justify-start"],[1,"rounded-md","bg-white","px-3.5","py-2.5","text-sm","font-semibold","text-gray-900","shadow-sm","hover:bg-gray-100","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-white",3,"click"],["routerLink","/contact",1,"text-sm","font-semibold","leading-6","text-white"],["aria-hidden","true"],[1,"flex","justify-center","lg:justify-end"],["src","https://fqopliwvpuiprdegxytz.supabase.co/storage/v1/object/sign/img_website/rc_familiale.webp?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV81MmJmNDFiNC0yNGQ0LTQ3ZTktYmEzNi04YWZmY2NjMzEzNzIiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJpbWdfd2Vic2l0ZS9yY19mYW1pbGlhbGUud2VicCIsImlhdCI6MTc2MzAyMzQwMSwiZXhwIjoyMDc4MzgzNDAxfQ.w2eMiS3pMEgBuRl4XvYmWoix82dzFQOppsfash1U4KQ","alt","Assurance",1,"w-full","max-w-xs","rounded-xl","shadow-xl","ring-1","ring-gray-400/10","lg:max-w-md"],["id","content",1,"container","mx-auto","p-4","py-16","sm:py-24"],[1,"grid","grid-cols-1","lg:grid-cols-2","lg:gap-12"],[1,"text-gray-700","prose","lg:prose-lg","max-w-none","prose-h2:mb-4","prose-p:mt-4","prose-ul:mt-4"],[1,"text-2xl","font-bold"],[1,"text-xl","font-bold","mt-8"],["id","form",1,"space-y-12","bg-white","p-8","rounded-lg","shadow-md","mt-8","lg:mt-0",3,"ngSubmit","formGroup"],["class","p-4 mb-4 text-sm rounded-lg","role","alert",3,"ngClass",4,"ngIf"],[1,"border-t","pt-6"],[1,"text-xl","font-semibold","px-2","text-gray-700","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],["for","preneur-nom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-nom","formControlName","preneur_nom","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","preneur-prenom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-prenom","formControlName","preneur_prenom","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","preneur-genre",1,"block","text-sm","font-medium","text-gray-700"],["id","preneur-genre","formControlName","preneur_genre","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","preneur-tel",1,"block","text-sm","font-medium","text-gray-700"],["type","tel","id","preneur-tel","formControlName","preneur_telephone","required","","appPhoneNumberFormat","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","preneur-email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","preneur-email","formControlName","preneur_email","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],[1,"lg:col-span-2"],["for","preneur-adresse",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-adresse","formControlName","preneur_adresse","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],[1,"relative"],["for","preneur-cp",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-cp","formControlName","preneur_code_postal","required","","autocomplete","off",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"input","ngClass"],["class","absolute inset-y-0 right-0 flex items-center pr-3 top-6",4,"ngIf"],["class","absolute z-10 w-full bg-white border border-gray-300 rounded-md mt-1 max-h-40 overflow-y-auto",4,"ngIf"],["for","ville",1,"block","text-sm","font-medium","text-gray-700"],["id","ville","formControlName","preneur_ville","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm","disabled:bg-gray-100",3,"disabled"],["value","",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"space-y-2","sm:flex","sm:items-center","sm:space-y-0","sm:space-x-10"],[1,"flex","items-center"],["id","risque-famille","formControlName","risque","value","famille","type","radio",1,"h-4","w-4","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","risque-famille",1,"ml-3","block","text-sm","font-medium","text-gray-700"],["id","risque-isole","formControlName","risque","value","isole","type","radio",1,"h-4","w-4","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","risque-isole",1,"ml-3","block","text-sm","font-medium","text-gray-700"],["for","date-effet",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","date-effet","formControlName","date_effet","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm","md:w-1/2","lg:w-1/3",3,"min"],[1,"pt-6"],[1,"flex","justify-end"],["type","submit",1,"inline-flex","justify-center","rounded-md","border","border-transparent","bg-indigo-600","py-2","px-4","text-sm","font-medium","text-white","shadow-sm","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2","disabled:bg-gray-400","disabled:cursor-not-allowed",3,"disabled"],["role","alert",1,"p-4","mb-4","text-sm","rounded-lg",3,"ngClass"],[1,"absolute","inset-y-0","right-0","flex","items-center","pr-3","top-6"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5","text-gray-400"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"absolute","z-10","w-full","bg-white","border","border-gray-300","rounded-md","mt-1","max-h-40","overflow-y-auto"],["class","px-3 py-2 cursor-pointer hover:bg-gray-100",3,"click",4,"ngFor","ngForOf"],[1,"px-3","py-2","cursor-pointer","hover:bg-gray-100",3,"click"],["value",""],[3,"value"]],template:function(f,c){if(1&f&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e.EFF(5,"Assurance RC Familiale"),e.k0s(),e.j41(6,"p",5),e.EFF(7,"Une assurance responsabilit\xe9 civile familiale est indispensable pour prot\xe9ger votre famille contre les cons\xe9quences financi\xe8res d\u2019un dommage caus\xe9 involontairement \xe0 autrui. Elle couvre les blessures, les d\xe9g\xe2ts mat\xe9riels ou les accidents impliquant les membres de votre foyer, y compris vos enfants et vos animaux. Sans cette protection, vous pourriez \xeatre tenu personnellement responsable et devoir assumer des frais importants. Cette assurance vous apporte donc tranquillit\xe9 d\u2019esprit et s\xe9curit\xe9 au quotidien.\nVivez chaque jour l\u2019esprit tranquille, en sachant que vous \xeates couvert en cas de coup dur."),e.k0s(),e.j41(8,"div",6)(9,"button",7),e.bIt("click",function(){return c.scrollToSection("content")}),e.EFF(10,"Souscrire"),e.k0s(),e.j41(11,"a",8),e.EFF(12,"Contact "),e.j41(13,"span",9),e.EFF(14,"\u2192"),e.k0s()()()(),e.j41(15,"div",10),e.nrm(16,"img",11),e.k0s()()()(),e.j41(17,"div",12)(18,"div",13)(19,"div",14)(20,"h2",15),e.EFF(21,"Assurance RC FAMILIALE"),e.k0s(),e.j41(22,"p"),e.EFF(23,"Lorsque vous ou vos proches causez des dommages accidentels \xe0 autrui ou \xe0 ses biens, que ce soit en blessant quelqu'un, en causant des d\xe9g\xe2ts mat\xe9riels ou en provoquant un accident avec vos animaux domestiques, vous \xeates l\xe9galement responsable. Pour couvrir ces incidents, la responsabilit\xe9 civile familiale a \xe9t\xe9 con\xe7ue. Cependant, il existe diff\xe9rentes options de couverture, alors il est important de choisir la formule qui convient le mieux \xe0 vos besoins."),e.k0s(),e.j41(24,"h3",16),e.EFF(25,"Qu\u2019est-ce que la RC Familiale ?"),e.k0s(),e.j41(26,"p"),e.EFF(27,"L'assurance responsabilit\xe9 civile vie priv\xe9e, \xe9galement connue sous le nom d'assurance RC familiale, couvre les dommages que vous ou votre famille pouvez causer \xe0 un tiers. Elle prend en charge les d\xe9g\xe2ts caus\xe9s \xe0 autrui en dehors de votre cercle familial, que ce soit chez des amis, dans la rue, dans des lieux publics ou m\xeame lors de voyages. Cette assurance est essentielle dans un contexte juridique de plus en plus complexe."),e.k0s(),e.j41(28,"h3",16),e.EFF(29,"Qui est couvert par la responsabilit\xe9 civile priv\xe9e ?"),e.k0s(),e.j41(30,"p"),e.EFF(31,"La RC familiale vous prot\xe8ge vous et votre famille des dommages que vous causez involontairement \xe0 des tiers. Elle couvre :"),e.k0s(),e.j41(32,"ul")(33,"li"),e.EFF(34,"Toutes les personnes vivant sous le m\xeame toit ;"),e.k0s(),e.j41(35,"li"),e.EFF(36,"Le personnel de service (baby-sitter, professeur particulier, femme de m\xe9nage, etc.) ;"),e.k0s(),e.j41(37,"li"),e.EFF(38,"Les animaux de compagnie sous la responsabilit\xe9 du titulaire."),e.k0s()(),e.j41(39,"h3",16),e.EFF(40,"Quand faut-il avoir recours \xe0 sa RC Familiale ?"),e.k0s(),e.j41(41,"p"),e.EFF(42,"Pour pouvoir faire appel \xe0 la RC Familiale, certaines conditions doivent \xeatre remplies. Tout d\u2019abord, votre responsabilit\xe9 doit \xeatre impliqu\xe9e dans le dommage caus\xe9. C\u2019est la condition sine qua non. Pr\xe9cisons toutefois qu\u2019il peut s\u2019agir d\u2019une action de votre part, mais aussi d\u2019une n\xe9gligence ou d\u2019une imprudence. Ensuite, le dommage doit imp\xe9rativement avoir \xe9t\xe9 caus\xe9 \xe0 un tiers dans un cadre priv\xe9. Enfin, il doit exister un lien de causalit\xe9 entre la faute et le dommage."),e.k0s(),e.j41(43,"p")(44,"strong"),e.EFF(45,"Bon \xe0 savoir :"),e.k0s(),e.EFF(46," la RC familiale ne peut \xeatre invoqu\xe9e pour des dommages cr\xe9\xe9s intentionnellement, caus\xe9s \xe0 vous-m\xeame ou \xe0 votre famille, ou provoqu\xe9s par votre animal s\u2019il est cat\xe9goris\xe9 comme dangereux."),e.k0s()(),e.j41(47,"form",17),e.bIt("ngSubmit",function(){return c.onSubmit()}),e.DNE(48,ki,2,5,"div",18),e.j41(49,"fieldset",19)(50,"legend",20),e.EFF(51,"1. Informations sur le preneur"),e.k0s(),e.j41(52,"div",21)(53,"div")(54,"label",22),e.EFF(55,"Nom"),e.k0s(),e.nrm(56,"input",23),e.k0s(),e.j41(57,"div")(58,"label",24),e.EFF(59,"Pr\xe9nom"),e.k0s(),e.nrm(60,"input",25),e.k0s(),e.j41(61,"div")(62,"label",26),e.EFF(63,"Genre"),e.k0s(),e.j41(64,"select",27)(65,"option"),e.EFF(66,"Madame"),e.k0s(),e.j41(67,"option"),e.EFF(68,"Monsieur"),e.k0s(),e.j41(69,"option"),e.EFF(70,"Autre"),e.k0s()()(),e.j41(71,"div")(72,"label",28),e.EFF(73,"Num\xe9ro de t\xe9l\xe9phone"),e.k0s(),e.nrm(74,"input",29),e.k0s(),e.j41(75,"div")(76,"label",30),e.EFF(77,"Email"),e.k0s(),e.nrm(78,"input",31),e.k0s(),e.j41(79,"div",32)(80,"label",33),e.EFF(81,"Rue et num\xe9ro"),e.k0s(),e.nrm(82,"input",34),e.k0s(),e.j41(83,"div")(84,"div",35)(85,"label",36),e.EFF(86,"Code Postal"),e.k0s(),e.j41(87,"input",37),e.bIt("input",function(se){return c.onPostalCodeInput(se)}),e.k0s(),e.DNE(88,Vn,4,0,"div",38)(89,bo,2,1,"ul",39),e.k0s()(),e.j41(90,"div")(91,"label",40),e.EFF(92,"Ville"),e.k0s(),e.j41(93,"select",41),e.DNE(94,Qo,2,0,"option",42)(95,Pr,2,2,"option",43),e.k0s()()()(),e.j41(96,"fieldset",19)(97,"legend",20),e.EFF(98,"2. Composition du risque"),e.k0s(),e.j41(99,"div",44)(100,"div",45),e.nrm(101,"input",46),e.j41(102,"label",47),e.EFF(103,"Famille"),e.k0s()(),e.j41(104,"div",45),e.nrm(105,"input",48),e.j41(106,"label",49),e.EFF(107,"Isol\xe9"),e.k0s()()()(),e.j41(108,"fieldset",19)(109,"legend",20),e.EFF(110,"3. Date d'effet"),e.k0s(),e.j41(111,"div")(112,"label",50),e.EFF(113,"Date d'effet souhait\xe9e"),e.k0s(),e.nrm(114,"input",51),e.k0s()(),e.j41(115,"div",52),e.DNE(116,wr,2,5,"div",18),e.j41(117,"div",53)(118,"button",54),e.EFF(119," Recevoir mon offre "),e.k0s()()()()()()),2&f){let O,se,ke,rt,Ft,Ht;e.R7$(47),e.Y8G("formGroup",c.rcForm),e.R7$(),e.Y8G("ngIf",c.submissionStatus),e.R7$(8),e.Y8G("ngClass",e.eq3(16,Xr,(null==(O=c.rcForm.get("preneur_nom"))?null:O.invalid)&&(null==(O=c.rcForm.get("preneur_nom"))?null:O.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(18,Xr,(null==(se=c.rcForm.get("preneur_prenom"))?null:se.invalid)&&(null==(se=c.rcForm.get("preneur_prenom"))?null:se.touched))),e.R7$(14),e.Y8G("ngClass",e.eq3(20,Xr,(null==(ke=c.rcForm.get("preneur_telephone"))?null:ke.invalid)&&(null==(ke=c.rcForm.get("preneur_telephone"))?null:ke.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(22,Xr,(null==(rt=c.rcForm.get("preneur_email"))?null:rt.invalid)&&(null==(rt=c.rcForm.get("preneur_email"))?null:rt.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(24,Xr,(null==(Ft=c.rcForm.get("preneur_adresse"))?null:Ft.invalid)&&(null==(Ft=c.rcForm.get("preneur_adresse"))?null:Ft.touched))),e.R7$(5),e.Y8G("ngClass",e.eq3(26,Xr,(null==(Ht=c.rcForm.get("preneur_code_postal"))?null:Ht.invalid)&&(null==(Ht=c.rcForm.get("preneur_code_postal"))?null:Ht.touched))),e.R7$(),e.Y8G("ngIf",c.isLoading),e.R7$(),e.Y8G("ngIf",c.filteredPostalCodes&&c.filteredPostalCodes.length>0),e.R7$(4),e.Y8G("disabled",0===c.cities.length),e.R7$(),e.Y8G("ngIf",0===c.cities.length),e.R7$(),e.Y8G("ngForOf",c.cities),e.R7$(19),e.Y8G("min",c.minDate),e.R7$(2),e.Y8G("ngIf",c.submissionStatus),e.R7$(2),e.Y8G("disabled",!c.rcForm.valid)}},dependencies:[S.MD,S.YU,S.Sq,S.bT,E.X1,E.qT,E.xH,E.y7,E.me,E.wz,E.Fm,E.BC,E.cb,E.YS,E.j4,E.JD,te.Wk,So],encapsulation:2})}return d})();const Qr=(d,T)=>({"bg-green-100 text-green-800":d,"bg-red-100 text-red-800":T});function zn(d,T){if(1&d&&(e.j41(0,"div",60),e.EFF(1),e.k0s()),2&d){const s=e.XpG();e.Y8G("ngClass",e.l_i(2,Qr,s.submissionStatus.success,!s.submissionStatus.success)),e.R7$(),e.SpI(" ",s.submissionStatus.message," ")}}function nr(d,T){1&d&&(e.j41(0,"div",61),e.EFF(1," L'\xe2ge minimum requis pour le preneur est de 18 ans. "),e.k0s())}function jr(d,T){1&d&&(e.j41(0,"div",62),e.qSk(),e.j41(1,"svg",63),e.nrm(2,"circle",64)(3,"path",65),e.k0s()())}function Jr(d,T){if(1&d){const s=e.RV6();e.j41(0,"li",68),e.bIt("click",function(){const c=e.eBV(s).$implicit,O=e.XpG(2);return e.Njj(O.selectPostalCode(c))}),e.EFF(1),e.k0s()}if(2&d){const s=T.$implicit;e.R7$(),e.Lme(" ",s.postalCode," - ",s.city," ")}}function Vo(d,T){if(1&d&&(e.j41(0,"ul",66),e.DNE(1,Jr,2,2,"li",67),e.k0s()),2&d){const s=e.XpG();e.R7$(),e.Y8G("ngForOf",s.filteredPostalCodes)}}function Eo(d,T){1&d&&(e.j41(0,"option",69),e.EFF(1,"S\xe9lectionner une ville"),e.k0s())}function kr(d,T){if(1&d&&(e.j41(0,"option",70),e.EFF(1),e.k0s()),2&d){const s=T.$implicit;e.Y8G("value",s),e.R7$(),e.JRh(s)}}function ro(d,T){if(1&d&&(e.j41(0,"div",71)(1,"h3",72),e.EFF(2),e.k0s(),e.j41(3,"div",73)(4,"div")(5,"label",74),e.EFF(6,"Nom"),e.k0s(),e.nrm(7,"input",75),e.k0s(),e.j41(8,"div")(9,"label",74),e.EFF(10,"Pr\xe9nom"),e.k0s(),e.nrm(11,"input",76),e.k0s(),e.j41(12,"div")(13,"label",74),e.EFF(14,"Date de naissance"),e.k0s(),e.nrm(15,"input",77),e.k0s(),e.j41(16,"div")(17,"label",74),e.EFF(18,"Capital souhait\xe9 (\u20ac)"),e.k0s(),e.nrm(19,"input",78),e.k0s()()()),2&d){const s=T.index;e.Y8G("formGroupName",s),e.R7$(2),e.SpI("Assur\xe9 ",s+1,""),e.R7$(3),e.Y8G("for","assure-nom-"+s),e.R7$(2),e.Y8G("id","assure-nom-"+s),e.R7$(2),e.Y8G("for","assure-prenom-"+s),e.R7$(2),e.Y8G("id","assure-prenom-"+s),e.R7$(2),e.Y8G("for","assure-dob-"+s),e.R7$(2),e.Y8G("id","assure-dob-"+s),e.R7$(2),e.Y8G("for","assure-capital-"+s),e.R7$(2),e.Y8G("id","assure-capital-"+s)}}function oo(d,T){if(1&d&&(e.j41(0,"div",60),e.EFF(1),e.k0s()),2&d){const s=e.XpG();e.Y8G("ngClass",e.l_i(2,Qr,s.submissionStatus.success,!s.submissionStatus.success)),e.R7$(),e.SpI(" ",s.submissionStatus.message," ")}}let Jo=(()=>{class d{fb;dbConnectService;platformId;obsequesForm;destroy$=new ue.B;submissionStatus=null;filteredPostalCodes=[];cities=[];isLoading=!1;constructor(s,f,c){this.fb=s,this.dbConnectService=f,this.platformId=c,this.obsequesForm=this.fb.group({preneur:this.fb.group({genre:["Madame"],nom:["",E.k0.required],prenom:["",E.k0.required],dateNaissance:["",[E.k0.required,this.ageValidator(18)]],telephone:["",E.k0.required],email:["",[E.k0.required,E.k0.email]],adresse:["",E.k0.required],codePostal:["",E.k0.required],ville:["",E.k0.required]}),nombreAssures:[1],preneurEstAssure:[!0],assures:this.fb.array([])})}ageValidator(s){return f=>{if(!f.value)return null;const c=new Date(f.value),O=new Date;let se=O.getFullYear()-c.getFullYear();const ke=O.getMonth()-c.getMonth();return(ke<0||0===ke&&O.getDate()<c.getDate())&&se--,se>=s?null:{minAge:{requiredAge:s,actualAge:se}}}}ngOnInit(){this.addAssure(),this.handleFormChanges(),(0,S.UE)(this.platformId)&&this.obsequesForm.get("preneur.codePostal")?.valueChanges.pipe(Te(300),(0,$e.F)(),(0,ye.M)(()=>this.isLoading=!0),(0,Ye.n)(s=>s&&s.length>=2?this.dbConnectService.getPostalCodes(s):(this.filteredPostalCodes=[],(0,K.of)([]))),(0,ye.M)(()=>{this.filteredPostalCodes.length>0&&(this.cities=[],this.obsequesForm.get("preneur.ville")?.setValue(""))}),(0,Ke.Q)(this.destroy$)).subscribe(s=>{this.isLoading=!1,this.filteredPostalCodes=s})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}get assures(){return this.obsequesForm.get("assures")}addAssure(){const s=this.fb.group({nom:["",E.k0.required],prenom:["",E.k0.required],dateNaissance:["",E.k0.required],capital:[5e3,[E.k0.required,E.k0.max(15e3)]]});this.assures.push(s)}removeAssure(s){this.assures.removeAt(s)}handleFormChanges(){this.obsequesForm.get("nombreAssures")?.valueChanges.subscribe(s=>{for(;this.assures.length<s;)this.addAssure();for(;this.assures.length>s;)this.removeAssure(this.assures.length-1)}),this.obsequesForm.get("preneurEstAssure")?.valueChanges.subscribe(s=>{this.updatePreneurSiAssure()})}updatePreneurSiAssure(){if(this.obsequesForm.get("preneurEstAssure")?.value&&this.assures.length>0){const s=this.obsequesForm.get("preneur")?.value;this.assures.at(0).patchValue(s)}}selectPostalCode(s){this.obsequesForm.get("preneur.codePostal")?.setValue(s.postalCode,{emitEvent:!1}),this.obsequesForm.get("preneur.ville")?.setValue(s.city),this.cities=[s.city],this.obsequesForm.get("preneur.ville")?.updateValueAndValidity(),this.filteredPostalCodes=[]}onSubmit(){this.obsequesForm.valid?this.dbConnectService.createObsequesQuote(this.obsequesForm.value).subscribe({next:s=>{console.log("Devis obs\xe8ques enregistr\xe9 avec succ\xe8s",s),this.submissionStatus={success:!0,message:"Votre demande de devis a bien \xe9t\xe9 enregistr\xe9e !"}},error:s=>{console.error("Erreur lors de l'enregistrement du devis obs\xe8ques",s),this.submissionStatus={success:!1,message:"Une erreur est survenue lors de l'enregistrement de votre devis."}}}):(console.error("Formulaire invalide"),this.submissionStatus={success:!1,message:"Veuillez remplir tous les champs obligatoires avant de soumettre."})}scrollToSection(s){if((0,S.UE)(this.platformId)){const f=document.getElementById(s);f&&f.scrollIntoView({behavior:"smooth",block:"start"})}}static \u0275fac=function(f){return new(f||d)(e.rXU(E.ok),e.rXU(_t.y),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:d,selectors:[["app-obseques"]],standalone:!0,features:[e.Jv_([_t.y]),e.aNF],decls:162,vars:31,consts:[["id","hero",1,"relative","isolate","bg-black","px-6","pt-14","lg:px-8"],[1,"mx-auto","max-w-7xl","py-8","sm:py-12","lg:py-16"],[1,"grid","grid-cols-1","items-center","gap-x-8","gap-y-16","lg:grid-cols-2"],[1,"text-center","lg:text-left"],[1,"text-4xl","font-bold","tracking-tight","text-white","sm:text-6xl"],[1,"mt-6","text-lg","leading-8","text-gray-300"],[1,"mt-10","flex","items-center","justify-center","gap-x-6","lg:justify-start"],[1,"rounded-md","bg-white","px-3.5","py-2.5","text-sm","font-semibold","text-gray-900","shadow-sm","hover:bg-gray-100","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-white",3,"click"],[1,"flex","justify-center","lg:justify-end"],["src","https://fqopliwvpuiprdegxytz.supabase.co/storage/v1/object/sign/img_website/aobseques.webp?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV81MmJmNDFiNC0yNGQ0LTQ3ZTktYmEzNi04YWZmY2NjMzEzNzIiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJpbWdfd2Vic2l0ZS9hb2JzZXF1ZXMud2VicCIsImlhdCI6MTc2MzAyNTI3NCwiZXhwIjoyMDc4Mzg1Mjc0fQ.IAfV4QnyFDMaMH65skjsyWsCgW6Jut_RM54yIhu7qcM","alt","Assurance",1,"w-full","max-w-xs","rounded-xl","shadow-xl","ring-1","ring-gray-400/10","lg:max-w-md"],["id","content",1,"container","mx-auto","p-4","py-16","sm:py-24"],[1,"grid","grid-cols-1","lg:grid-cols-2","lg:gap-12"],[1,"text-gray-700","prose","lg:prose-lg","max-w-none","prose-h2:mb-4","prose-p:mt-4","prose-ul:mt-4"],[1,"text-2xl","font-bold"],[1,"text-xl","font-bold","mt-8"],["id","form",1,"space-y-12","bg-white","p-8","rounded-lg","shadow-md","mt-8","lg:mt-0",3,"ngSubmit","formGroup"],["class","p-4 mb-4 text-sm rounded-lg","role","alert",3,"ngClass",4,"ngIf"],["formGroupName","preneur",1,"border-t","pt-6"],[1,"text-xl","font-semibold","px-2","text-gray-700","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],["for","preneur-genre",1,"block","text-sm","font-medium","text-gray-700"],["id","preneur-genre","formControlName","genre",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["selected",""],["for","preneur-nom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-nom","formControlName","nom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"input"],["for","preneur-prenom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-prenom","formControlName","prenom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"input"],["for","preneur-dob",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","preneur-dob","formControlName","dateNaissance",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"input"],["class","text-red-600 text-sm mt-1",4,"ngIf"],["for","preneur-tel",1,"block","text-sm","font-medium","text-gray-700"],["type","tel","id","preneur-tel","formControlName","telephone","appPhoneFormat","","placeholder","+32 4XX XX XX XX","maxlength","18",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"lg:col-span-2"],["for","preneur-email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","preneur-email","formControlName","email",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"md:col-span-2"],["for","preneur-adresse",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-adresse","formControlName","adresse",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","preneur-cp",1,"block","text-sm","font-medium","text-gray-700"],[1,"relative"],["type","text","id","preneur-cp","formControlName","codePostal","autocomplete","off",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["class","absolute inset-y-0 right-0 flex items-center pr-3 top-1",4,"ngIf"],["class","absolute z-10 w-full bg-white border border-gray-300 rounded-md mt-1 max-h-40 overflow-y-auto",4,"ngIf"],["for","preneur-ville",1,"block","text-sm","font-medium","text-gray-700"],["id","preneur-ville","formControlName","ville",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm","disabled:bg-gray-100",3,"disabled"],["value","",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"border-t","pt-6"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6","mb-6"],["for","nombre-assures",1,"block","text-sm","font-medium","text-gray-700"],["id","nombre-assures","formControlName","nombreAssures",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[3,"ngValue"],[1,"flex","items-end","pb-1"],[1,"flex","items-center"],["id","preneur-est-assure","type","checkbox","formControlName","preneurEstAssure",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","preneur-est-assure",1,"ml-2","block","text-sm","text-gray-900"],["formArrayName","assures",1,"space-y-6"],["class","p-4 border rounded-md",3,"formGroupName",4,"ngFor","ngForOf"],[1,"flex","justify-end","pt-6"],["type","submit",1,"inline-flex","justify-center","rounded-md","border","border-transparent","bg-indigo-600","py-2","px-4","text-sm","font-medium","text-white","shadow-sm","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2","disabled:bg-gray-400",3,"disabled"],["role","alert",1,"p-4","mb-4","text-sm","rounded-lg",3,"ngClass"],[1,"text-red-600","text-sm","mt-1"],[1,"absolute","inset-y-0","right-0","flex","items-center","pr-3","top-1"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5","text-gray-400"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"absolute","z-10","w-full","bg-white","border","border-gray-300","rounded-md","mt-1","max-h-40","overflow-y-auto"],["class","px-3 py-2 cursor-pointer hover:bg-gray-100",3,"click",4,"ngFor","ngForOf"],[1,"px-3","py-2","cursor-pointer","hover:bg-gray-100",3,"click"],["value",""],[3,"value"],[1,"p-4","border","rounded-md",3,"formGroupName"],[1,"font-semibold","text-gray-800","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4"],[1,"block","text-sm","font-medium","text-gray-700",3,"for"],["type","text","formControlName","nom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"id"],["type","text","formControlName","prenom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"id"],["type","date","formControlName","dateNaissance",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"id"],["type","number","formControlName","capital","max","15000",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"id"]],template:function(f,c){if(1&f&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e.EFF(5,"Assurance Obs\xe8ques"),e.k0s(),e.j41(6,"p",5),e.EFF(7,"Une assurance obs\xe8ques vous permet de pr\xe9parer et de financer l\u2019organisation de vos fun\xe9railles \xe0 l\u2019avance. Elle soulage votre famille des d\xe9marches et des frais souvent importants li\xe9s \xe0 ce moment difficile. Elle garantit le respect de vos volont\xe9s et la prise en charge des d\xe9penses pr\xe9vues. Ainsi, elle apporte s\xe9r\xe9nit\xe9 et tranquillit\xe9 d\u2019esprit \xe0 vous et \xe0 vos proches."),e.k0s(),e.j41(8,"div",6)(9,"button",7),e.bIt("click",function(){return c.scrollToSection("content")}),e.EFF(10,"Souscrire chez DELA"),e.k0s(),e.j41(11,"button",7),e.bIt("click",function(){return c.scrollToSection("content")}),e.EFF(12,"Demande d'informations(autre que DELA) "),e.k0s()()(),e.j41(13,"div",8),e.nrm(14,"img",9),e.k0s()()()(),e.j41(15,"div",10)(16,"div",11)(17,"div",12)(18,"h2",13),e.EFF(19,"Assurance obs\xe8ques"),e.k0s(),e.j41(20,"p"),e.EFF(21,"La perte d\u2019un proche est toujours un moment charg\xe9 d\u2019\xe9motions. Pr\xe9voir et prendre en charge les frais de ses propres obs\xe8ques est de plus en plus courant. Un dernier geste fort appr\xe9ci\xe9 par vos proches, \xe0 qui vous \xe9vitez bien des tracas financiers."),e.k0s(),e.j41(22,"h3",14),e.EFF(23,"Qu\u2019est-ce qu\u2019une assurance obs\xe8ques ?"),e.k0s(),e.j41(24,"p"),e.EFF(25,"L'assurance obs\xe8ques couvre les frais fun\xe9raires et de rapatriement du d\xe9funt, soulageant financi\xe8rement la famille. En revanche, l'assurance d\xe9c\xe8s offre un capital qui peut \xeatre utilis\xe9 \xe0 d'autres fins que les fun\xe9railles. De nombreux plans de pr\xe9voyance offrent \xe9galement une assistance administrative pour soulager la famille des formalit\xe9s n\xe9cessaires dans de telles situations."),e.k0s(),e.j41(26,"h3",14),e.EFF(27,"Les avantages d\u2019un plan de pr\xe9voyance obs\xe8ques"),e.k0s(),e.j41(28,"p"),e.EFF(29,"De plus en plus de Belges choisissent d'organiser leurs fun\xe9railles \xe0 l'avance, offrant ainsi un soulagement \xe0 leurs proches et garantissant que leurs souhaits seront respect\xe9s. Les avantages de cette d\xe9marche sont nombreux :"),e.k0s(),e.j41(30,"ul")(31,"li"),e.EFF(32,"Vous d\xe9terminez librement le montant assur\xe9, fixe pendant toute la dur\xe9e du contrat (entre 1 500 et 10 000\u20ac)."),e.k0s(),e.j41(33,"li"),e.EFF(34,"Vous avez le choix de l'entrepreneur de pompes fun\xe8bres et des modalit\xe9s des fun\xe9railles."),e.k0s(),e.j41(35,"li"),e.EFF(36,"Vous pr\xe9payez les co\xfbts des fun\xe9railles, d\xe8s le premier paiement de la prime mensuelle."),e.k0s(),e.j41(37,"li"),e.EFF(38,"Le capital assur\xe9 est index\xe9 chaque ann\xe9e pour s'adapter \xe0 l'\xe9volution du co\xfbt de la vie."),e.k0s(),e.j41(39,"li"),e.EFF(40,"Les enfants jusqu'\xe0 18 ans sont inclus dans l'assurance obs\xe8ques."),e.k0s(),e.j41(41,"li"),e.EFF(42,"Vos proches b\xe9n\xe9ficient d'une assistance pour les formalit\xe9s administratives."),e.k0s()(),e.j41(43,"h3",14),e.EFF(44,"Comment se calcule la prime ?"),e.k0s(),e.j41(45,"p"),e.EFF(46,"L\u2019assistance aux proches est toujours comprise dans le plan de base. Ce service offre \xe0 votre famille un accompagnement professionnel pour toutes les formalit\xe9s pratiques et administratives apr\xe8s un d\xe9c\xe8s."),e.k0s(),e.j41(47,"p"),e.EFF(48,"Le montant de la prime d\xe9pend de plusieurs crit\xe8res ; il se calcule en fonction de votre \xe2ge, du capital souhait\xe9 en cas de d\xe9c\xe8s, du terme du paiement de la prime et peut d\xe9pendre d\u2019une approbation m\xe9dicale."),e.k0s()(),e.j41(49,"form",15),e.bIt("ngSubmit",function(){return c.onSubmit()}),e.DNE(50,zn,2,5,"div",16),e.j41(51,"fieldset",17)(52,"legend",18),e.EFF(53,"1. Informations sur le preneur"),e.k0s(),e.j41(54,"div",19)(55,"div")(56,"label",20),e.EFF(57,"Genre"),e.k0s(),e.j41(58,"select",21)(59,"option",22),e.EFF(60,"Madame"),e.k0s(),e.j41(61,"option"),e.EFF(62,"Monsieur"),e.k0s(),e.j41(63,"option"),e.EFF(64,"Autre"),e.k0s()()(),e.j41(65,"div")(66,"label",23),e.EFF(67,"Nom"),e.k0s(),e.j41(68,"input",24),e.bIt("input",function(){return c.updatePreneurSiAssure()}),e.k0s()(),e.j41(69,"div")(70,"label",25),e.EFF(71,"Pr\xe9nom"),e.k0s(),e.j41(72,"input",26),e.bIt("input",function(){return c.updatePreneurSiAssure()}),e.k0s()(),e.j41(73,"div")(74,"label",27),e.EFF(75,"Date de naissance"),e.k0s(),e.j41(76,"input",28),e.bIt("input",function(){return c.updatePreneurSiAssure()}),e.k0s(),e.DNE(77,nr,2,0,"div",29),e.k0s(),e.j41(78,"div")(79,"label",30),e.EFF(80,"Num\xe9ro de t\xe9l\xe9phone"),e.k0s(),e.nrm(81,"input",31),e.k0s(),e.j41(82,"div",32)(83,"label",33),e.EFF(84,"Email"),e.k0s(),e.nrm(85,"input",34),e.k0s(),e.j41(86,"div",35)(87,"label",36),e.EFF(88,"Adresse"),e.k0s(),e.nrm(89,"input",37),e.k0s(),e.j41(90,"div")(91,"label",38),e.EFF(92,"Code Postal"),e.k0s(),e.j41(93,"div",39),e.nrm(94,"input",40),e.DNE(95,jr,4,0,"div",41)(96,Vo,2,1,"ul",42),e.k0s()(),e.j41(97,"div")(98,"label",43),e.EFF(99,"Ville"),e.k0s(),e.j41(100,"select",44),e.DNE(101,Eo,2,0,"option",45)(102,kr,2,2,"option",46),e.k0s()()()(),e.j41(103,"fieldset",47)(104,"legend",18),e.EFF(105,"2. Personnes \xe0 assurer"),e.k0s(),e.j41(106,"div",48)(107,"div")(108,"label",49),e.EFF(109,"Nombre de personnes \xe0 assurer"),e.k0s(),e.j41(110,"select",50)(111,"option",51),e.EFF(112,"1"),e.k0s(),e.j41(113,"option",51),e.EFF(114,"2"),e.k0s(),e.j41(115,"option",51),e.EFF(116,"3"),e.k0s(),e.j41(117,"option",51),e.EFF(118,"4"),e.k0s(),e.j41(119,"option",51),e.EFF(120,"5"),e.k0s(),e.j41(121,"option",51),e.EFF(122,"6"),e.k0s(),e.j41(123,"option",51),e.EFF(124,"7"),e.k0s(),e.j41(125,"option",51),e.EFF(126,"8"),e.k0s(),e.j41(127,"option",51),e.EFF(128,"9"),e.k0s(),e.j41(129,"option",51),e.EFF(130,"10"),e.k0s(),e.j41(131,"option",51),e.EFF(132,"11"),e.k0s(),e.j41(133,"option",51),e.EFF(134,"12"),e.k0s(),e.j41(135,"option",51),e.EFF(136,"13"),e.k0s(),e.j41(137,"option",51),e.EFF(138,"14"),e.k0s(),e.j41(139,"option",51),e.EFF(140,"15"),e.k0s(),e.j41(141,"option",51),e.EFF(142,"16"),e.k0s(),e.j41(143,"option",51),e.EFF(144,"17"),e.k0s(),e.j41(145,"option",51),e.EFF(146,"18"),e.k0s(),e.j41(147,"option",51),e.EFF(148,"19"),e.k0s(),e.j41(149,"option",51),e.EFF(150,"20"),e.k0s()()(),e.j41(151,"div",52)(152,"div",53),e.nrm(153,"input",54),e.j41(154,"label",55),e.EFF(155,"Le preneur est aussi un des assur\xe9s"),e.k0s()()()(),e.j41(156,"div",56),e.DNE(157,ro,20,10,"div",57),e.k0s()(),e.j41(158,"div",58)(159,"button",59),e.EFF(160," Recevoir mon offre "),e.k0s()(),e.DNE(161,oo,2,5,"div",16),e.k0s()()()),2&f){let O;e.R7$(49),e.Y8G("formGroup",c.obsequesForm),e.R7$(),e.Y8G("ngIf",c.submissionStatus),e.R7$(27),e.Y8G("ngIf",null==(O=c.obsequesForm.get("preneur.dateNaissance"))?null:O.hasError("minAge")),e.R7$(18),e.Y8G("ngIf",c.isLoading),e.R7$(),e.Y8G("ngIf",c.filteredPostalCodes.length>0),e.R7$(4),e.Y8G("disabled",0===c.cities.length),e.R7$(),e.Y8G("ngIf",0===c.cities.length),e.R7$(),e.Y8G("ngForOf",c.cities),e.R7$(9),e.Y8G("ngValue",1),e.R7$(2),e.Y8G("ngValue",2),e.R7$(2),e.Y8G("ngValue",3),e.R7$(2),e.Y8G("ngValue",4),e.R7$(2),e.Y8G("ngValue",5),e.R7$(2),e.Y8G("ngValue",6),e.R7$(2),e.Y8G("ngValue",7),e.R7$(2),e.Y8G("ngValue",8),e.R7$(2),e.Y8G("ngValue",9),e.R7$(2),e.Y8G("ngValue",10),e.R7$(2),e.Y8G("ngValue",11),e.R7$(2),e.Y8G("ngValue",12),e.R7$(2),e.Y8G("ngValue",13),e.R7$(2),e.Y8G("ngValue",14),e.R7$(2),e.Y8G("ngValue",15),e.R7$(2),e.Y8G("ngValue",16),e.R7$(2),e.Y8G("ngValue",17),e.R7$(2),e.Y8G("ngValue",18),e.R7$(2),e.Y8G("ngValue",19),e.R7$(2),e.Y8G("ngValue",20),e.R7$(8),e.Y8G("ngForOf",c.assures.controls),e.R7$(2),e.Y8G("disabled",!c.obsequesForm.valid),e.R7$(2),e.Y8G("ngIf",c.submissionStatus)}},dependencies:[S.MD,S.YU,S.Sq,S.bT,E.X1,E.qT,E.xH,E.y7,E.me,E.Q0,E.Zm,E.wz,E.BC,E.cb,E.tU,E.zX,E.j4,E.JD,E.$R,E.v8,kt],encapsulation:2})}return d})();const It=(d,T)=>({"bg-green-100 text-green-800":d,"bg-red-100 text-red-800":T});function Y(d,T){if(1&d&&(e.j41(0,"div",34),e.EFF(1),e.k0s()),2&d){const s=e.XpG();e.Y8G("ngClass",e.l_i(2,It,s.submissionStatus.success,!s.submissionStatus.success)),e.R7$(),e.SpI(" ",s.submissionStatus.message," ")}}let ae=(()=>{class d{fb;dbConnectService;platformId;infoForm;submissionStatus=null;constructor(s,f,c){this.fb=s,this.dbConnectService=f,this.platformId=c,this.infoForm=this.fb.group({nom:["",E.k0.required],prenom:["",E.k0.required],email:["",[E.k0.required,E.k0.email]],gsm:["",E.k0.required],message:["",E.k0.required]})}onSubmit(){this.infoForm.valid&&this.dbConnectService.saveInfoRequestForm(this.infoForm.value,"juridique").subscribe({next:()=>{this.submissionStatus={success:!0,message:"Votre demande a bien \xe9t\xe9 envoy\xe9e."},this.infoForm.reset()},error:s=>{this.submissionStatus={success:!1,message:"Une erreur est survenue lors de l'envoi de votre demande."},console.error(s)}})}scrollToSection(s){(0,S.UE)(this.platformId)&&document.getElementById(s)?.scrollIntoView({behavior:"smooth"})}static \u0275fac=function(f){return new(f||d)(e.rXU(E.ok),e.rXU(_t.y),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:d,selectors:[["app-assurance-juridique"]],standalone:!0,features:[e.Jv_([_t.y]),e.aNF],decls:61,vars:3,consts:[["id","hero",1,"relative","isolate","bg-black","px-6","pt-14","lg:px-8"],[1,"mx-auto","max-w-7xl","py-8","sm:py-12","lg:py-16"],[1,"grid","grid-cols-1","items-center","gap-x-8","gap-y-16","lg:grid-cols-2"],[1,"text-center","lg:text-left"],[1,"text-4xl","font-bold","tracking-tight","text-white","sm:text-6xl"],[1,"mt-6","text-lg","leading-8","text-gray-300"],[1,"mt-10","flex","items-center","justify-center","gap-x-6","lg:justify-start"],[1,"rounded-md","bg-white","px-3.5","py-2.5","text-sm","font-semibold","text-gray-900","shadow-sm","hover:bg-gray-100","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-white",3,"click"],["routerLink","/contact",1,"text-sm","font-semibold","leading-6","text-white"],["aria-hidden","true"],[1,"flex","justify-center","lg:justify-end"],["src","https://fqopliwvpuiprdegxytz.supabase.co/storage/v1/object/sign/img_website/tribunal.webp?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV81MmJmNDFiNC0yNGQ0LTQ3ZTktYmEzNi04YWZmY2NjMzEzNzIiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJpbWdfd2Vic2l0ZS90cmlidW5hbC53ZWJwIiwiaWF0IjoxNzYzMDI1NDY0LCJleHAiOjIwNzgzODU0NjR9.R3hOUbrrtdA0hmCLc9roqY7DPhFoCZPTgtLMzfPuhPk","alt","Assurance",1,"w-full","max-w-xs","rounded-xl","shadow-xl","ring-1","ring-gray-400/10","lg:max-w-md"],["id","content",1,"container","mx-auto","p-4","py-16","sm:py-24"],[1,"grid","grid-cols-1","lg:grid-cols-2","lg:gap-12"],["id","form",1,"bg-white","p-8","rounded-lg","shadow-md"],[1,"text-2xl","font-bold","mb-6","text-gray-800"],["class","p-4 mb-4 text-sm rounded-lg","role","alert",3,"ngClass",4,"ngIf"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["for","nom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","nom","formControlName","nom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","prenom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","prenom","formControlName","prenom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","email","formControlName","email",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","gsm",1,"block","text-sm","font-medium","text-gray-700"],["type","tel","id","gsm","formControlName","gsm","appPhoneFormat","","placeholder","+32 4XX XX XX XX","maxlength","18",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","message",1,"block","text-sm","font-medium","text-gray-700"],["id","message","formControlName","message","rows","4",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"flex","justify-end"],["type","submit",1,"inline-flex","justify-center","rounded-md","border","border-transparent","bg-indigo-600","py-2","px-4","text-sm","font-medium","text-white","shadow-sm","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2","disabled:bg-gray-400","disabled:cursor-not-allowed",3,"disabled"],[1,"text-gray-700","prose","lg:prose-lg","max-w-none","prose-h2:mb-4","prose-p:mt-4","prose-ul:mt-4","mt-8","lg:mt-0"],[1,"text-2xl","font-bold"],[1,"text-xl","font-bold","mt-8"],["role","alert",1,"p-4","mb-4","text-sm","rounded-lg",3,"ngClass"]],template:function(f,c){1&f&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e.EFF(5,"Assurance Protection Juridique"),e.k0s(),e.j41(6,"p",5),e.EFF(7,"Une assurance assistance juridique vous offre un accompagnement professionnel en cas de litige ou de probl\xe8me l\xe9gal. Elle prend en charge les conseils d\u2019avocats et les frais li\xe9s aux proc\xe9dures judiciaires. Gr\xe2ce \xe0 elle, vous pouvez d\xe9fendre vos droits sans craindre les co\xfbts \xe9lev\xe9s d\u2019un proc\xe8s. Elle apporte ainsi s\xe9curit\xe9 et s\xe9r\xe9nit\xe9 face aux situations juridiques impr\xe9vues."),e.k0s(),e.j41(8,"div",6)(9,"button",7),e.bIt("click",function(){return c.scrollToSection("content")}),e.EFF(10,"Souscrire"),e.k0s(),e.j41(11,"a",8),e.EFF(12,"Contact "),e.j41(13,"span",9),e.EFF(14,"\u2192"),e.k0s()()()(),e.j41(15,"div",10),e.nrm(16,"img",11),e.k0s()()()(),e.j41(17,"div",12)(18,"div",13)(19,"div",14)(20,"h2",15),e.EFF(21,"Demande de renseignement"),e.k0s(),e.DNE(22,Y,2,5,"div",16),e.j41(23,"form",17),e.bIt("ngSubmit",function(){return c.onSubmit()}),e.j41(24,"div",18)(25,"div")(26,"label",19),e.EFF(27,"Nom"),e.k0s(),e.nrm(28,"input",20),e.k0s(),e.j41(29,"div")(30,"label",21),e.EFF(31,"Pr\xe9nom"),e.k0s(),e.nrm(32,"input",22),e.k0s()(),e.j41(33,"div")(34,"label",23),e.EFF(35,"Email"),e.k0s(),e.nrm(36,"input",24),e.k0s(),e.j41(37,"div")(38,"label",25),e.EFF(39,"GSM"),e.k0s(),e.nrm(40,"input",26),e.k0s(),e.j41(41,"div")(42,"label",27),e.EFF(43,"Message"),e.k0s(),e.nrm(44,"textarea",28),e.k0s(),e.j41(45,"div",29)(46,"button",30),e.EFF(47," Envoyer "),e.k0s()()()(),e.j41(48,"div",31)(49,"h2",32),e.EFF(50,"Assurance Protection Juridique"),e.k0s(),e.j41(51,"p"),e.EFF(52,"Personne n'est \xe0 l'abri d'un incident susceptible de causer des dommages. Dans de telles situations, il est crucial de faire valoir ses droits pour obtenir une indemnisation \xe9quitable. Toutefois, engager ces d\xe9marches sans l'aide d'un professionnel peut s'av\xe9rer difficile, sans oublier les frais administratifs ou juridiques qui peuvent rapidement s'accumuler."),e.k0s(),e.j41(53,"h3",33),e.EFF(54,"Une assurance protection juridique : Pour quelles raisons ?"),e.k0s(),e.j41(55,"p"),e.EFF(56,"Que ce soit une cuisine mal install\xe9e, une facture d\u2019\xe9lectricit\xe9 erron\xe9e, ou un litige avec un employeur, la protection juridique intervient dans diverses situations o\xf9 vous subissez des dommages caus\xe9s par un tiers. Bien que ces incidents ne surviennent pas fr\xe9quemment, leur impact peut \xeatre consid\xe9rable. Contrairement \xe0 l'assurance responsabilit\xe9 civile familiale, la protection juridique vous aide \xe0 faire valoir vos droits et \xe0 obtenir une indemnisation pour les dommages subis \xe0 cause d'un tiers."),e.k0s(),e.j41(57,"h3",33),e.EFF(58,"Quels avantages ?"),e.k0s(),e.j41(59,"p"),e.EFF(60,"Quel que soit votre probl\xe8me, vous b\xe9n\xe9ficiez d'une assistance juridique par t\xe9l\xe9phone pour obtenir des r\xe9ponses \xe0 vos questions. Apr\xe8s \xe9valuation de votre situation, vous serez guid\xe9 sur les recours possibles, qu'ils soient amiables ou judiciaires. En cas de litige, vous pouvez choisir votre avocat devant les juridictions belges, europ\xe9ennes ou mondiales, avec la possibilit\xe9 pour votre assureur de vous repr\xe9senter dans les n\xe9gociations d'indemnisation. Il est \xe0 noter que l'assurance protection juridique peut \xeatre d\xe9ductible fiscalement, sous certaines conditions."),e.k0s()()()()),2&f&&(e.R7$(22),e.Y8G("ngIf",c.submissionStatus),e.R7$(),e.Y8G("formGroup",c.infoForm),e.R7$(23),e.Y8G("disabled",!c.infoForm.valid))},dependencies:[S.MD,S.YU,S.bT,E.X1,E.qT,E.me,E.BC,E.cb,E.tU,E.j4,E.JD,te.Wk,kt],encapsulation:2})}return d})();const Z=(d,T)=>({"bg-green-100 text-green-800":d,"bg-red-100 text-red-800":T});function Se(d,T){if(1&d&&(e.j41(0,"div",33),e.EFF(1),e.k0s()),2&d){const s=e.XpG();e.Y8G("ngClass",e.l_i(2,Z,s.submissionStatus.success,!s.submissionStatus.success)),e.R7$(),e.SpI(" ",s.submissionStatus.message," ")}}let ze=(()=>{class d{fb;dbConnectService;platformId;infoForm;submissionStatus=null;constructor(s,f,c){this.fb=s,this.dbConnectService=f,this.platformId=c,this.infoForm=this.fb.group({nom:["",E.k0.required],prenom:["",E.k0.required],email:["",[E.k0.required,E.k0.email]],gsm:[""],message:["",E.k0.required]})}onSubmit(){this.infoForm.valid&&this.dbConnectService.saveVoyageForm(this.infoForm.value).subscribe({next:()=>{this.submissionStatus={success:!0,message:"Votre demande a bien \xe9t\xe9 envoy\xe9e !"},this.infoForm.reset()},error:()=>this.submissionStatus={success:!1,message:"Une erreur est survenue. Veuillez r\xe9essayer."}})}scrollToSection(s){if((0,S.UE)(this.platformId)){const f=document.getElementById(s);f&&f.scrollIntoView({behavior:"smooth",block:"start"})}}static \u0275fac=function(f){return new(f||d)(e.rXU(E.ok),e.rXU(_t.y),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:d,selectors:[["app-assurance-voyage"]],standalone:!0,features:[e.aNF],decls:71,vars:3,consts:[["id","hero",1,"relative","isolate","bg-black","px-6","pt-14","lg:px-8"],[1,"mx-auto","max-w-7xl","py-8","sm:py-12","lg:py-16"],[1,"grid","grid-cols-1","items-center","gap-x-8","gap-y-16","lg:grid-cols-2"],[1,"text-center","lg:text-left"],[1,"text-4xl","font-bold","tracking-tight","text-white","sm:text-6xl"],[1,"mt-6","text-lg","leading-8","text-gray-300"],[1,"mt-10","flex","items-center","justify-center","gap-x-6","lg:justify-start"],[1,"rounded-md","bg-white","px-3.5","py-2.5","text-sm","font-semibold","text-gray-900","shadow-sm","hover:bg-gray-100","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-white",3,"click"],["routerLink","/contact",1,"text-sm","font-semibold","leading-6","text-white"],["aria-hidden","true"],[1,"flex","justify-center","lg:justify-end"],["src","https://fqopliwvpuiprdegxytz.supabase.co/storage/v1/object/sign/img_website/avoyage.webp?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV81MmJmNDFiNC0yNGQ0LTQ3ZTktYmEzNi04YWZmY2NjMzEzNzIiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJpbWdfd2Vic2l0ZS9hdm95YWdlLndlYnAiLCJpYXQiOjE3NjMwMjUwOTQsImV4cCI6MjA3ODM4NTA5NH0.yFs3cX7_iROkZ6x-qAyECADU2cW_UmOp2gVtYOl03oc","alt","Assurance",1,"w-full","max-w-xs","rounded-xl","shadow-xl","ring-1","ring-gray-400/10","lg:max-w-md"],["id","content",1,"container","mx-auto","p-4","py-16","sm:py-24"],[1,"grid","grid-cols-1","lg:grid-cols-2","lg:gap-12"],[1,"text-gray-700","prose","lg:prose-lg"],[1,"text-xl","font-bold","mt-8"],[1,"bg-white","p-8","rounded-lg","shadow-md","mt-8","lg:mt-0"],[1,"text-2xl","font-bold","mb-6","text-gray-800"],["class","p-4 mb-4 text-sm rounded-lg","role","alert",3,"ngClass",4,"ngIf"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["for","nom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","nom","formControlName","nom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","prenom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","prenom","formControlName","prenom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","email","formControlName","email",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","gsm",1,"block","text-sm","font-medium","text-gray-700"],["type","tel","id","gsm","formControlName","gsm","appPhoneFormat","","placeholder","+32 4XX XX XX XX","maxlength","18",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","message",1,"block","text-sm","font-medium","text-gray-700"],["id","message","formControlName","message","rows","4",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"flex","justify-end"],["type","submit",1,"inline-flex","justify-center","rounded-md","border","border-transparent","bg-indigo-600","py-2","px-4","text-sm","font-medium","text-white","shadow-sm","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2","disabled:bg-gray-400","disabled:cursor-not-allowed",3,"disabled"],["role","alert",1,"p-4","mb-4","text-sm","rounded-lg",3,"ngClass"]],template:function(f,c){1&f&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e.EFF(5,"Assurances Voyage"),e.k0s(),e.j41(6,"p",5),e.EFF(7,"Une assurance voyage vous prot\xe8ge contre les impr\xe9vus lors de vos d\xe9placements, comme les accidents, maladies ou pertes de bagages. Elle prend en charge les frais m\xe9dicaux \xe0 l\u2019\xe9tranger et le rapatriement si n\xe9cessaire. Elle offre \xe9galement une assistance en cas d\u2019annulation ou de retard de voyage. Ainsi, elle vous permet de voyager l\u2019esprit tranquille, en toute s\xe9curit\xe9."),e.k0s(),e.j41(8,"div",6)(9,"button",7),e.bIt("click",function(){return c.scrollToSection("content")}),e.EFF(10,"Souscrire"),e.k0s(),e.j41(11,"a",8),e.EFF(12,"Contact "),e.j41(13,"span",9),e.EFF(14,"\u2192"),e.k0s()()()(),e.j41(15,"div",10),e.nrm(16,"img",11),e.k0s()()()(),e.j41(17,"div",12)(18,"div",13)(19,"div",14)(20,"p"),e.EFF(21,"L\u2019assurance voyage n\u2019est pas obligatoire, mais vous permet de partir en toute qui\xe9tude. Les garanties sont diverses et vari\xe9es : annulation de derni\xe8re minute, frais m\xe9dicaux \xe0 l\u2019\xe9tranger, rapatriement, perte de bagages, etc."),e.k0s(),e.j41(22,"h3",15),e.EFF(23,"L\u2019assistance Annuelle"),e.k0s(),e.j41(24,"p"),e.EFF(25,"Comme l\u2019indique son nom, elle est active tout au long de l\u2019ann\xe9e d\xe8s lors que vous vous trouvez \xe0 l\u2019\xe9tranger. Cela vous permet ainsi de partir en voyage d\xe8s que l\u2019envie vous en prend et ce, sans devoir vous soucier des risques."),e.k0s(),e.j41(26,"p"),e.EFF(27,"Bien s\xfbr, il existe autant de formules qu\u2019il existe de possibilit\xe9s. Par exemple, si vous ne voyagez qu\u2019au sein de l\u2019Union Europ\xe9enne, il est inutile de souscrire une assurance voyage dans le monde entier. De plus, vous pourrez opter pour des services compl\xe9mentaires tels que l\u2019assistance d\xe9pannage, l\u2019assurance bagages, etc."),e.k0s(),e.j41(28,"p"),e.EFF(29,"En toutes circonstances cependant, vous b\xe9n\xe9ficierez d\u2019une couverture sant\xe9 optimale (remboursement des frais m\xe9dicaux \xe0 l\u2019\xe9tranger, rapatriement en cas d\u2019accident ou de maladie, retour anticip\xe9 dans l\u2019\xe9ventualit\xe9 d\u2019un proche hospitalis\xe9 ou d\xe9c\xe9d\xe9\u2026)."),e.k0s(),e.j41(30,"h3",15),e.EFF(31,"L\u2019assistance temporaire"),e.k0s(),e.j41(32,"p"),e.EFF(33,"Cette formule, semblable \xe0 la pr\xe9c\xe9dente, est particuli\xe8rement appr\xe9ci\xe9e par les vacanciers occasionnels cherchant \xe0 profiter de leur s\xe9jour sans souci. Elle comprend m\xeame des options sp\xe9cifiques pour le ski !"),e.k0s(),e.j41(34,"p"),e.EFF(35,"Cependant, il est important de noter que la dur\xe9e du voyage est g\xe9n\xe9ralement limit\xe9e \xe0 moins de 45 jours."),e.k0s(),e.j41(36,"p"),e.EFF(37,"Comme toujours, il est recommand\xe9 de choisir une assurance qui correspond \xe0 vos besoins sp\xe9cifiques, avec des options modulables en fonction de crit\xe8res tels que la dur\xe9e du s\xe9jour, la destination et la p\xe9riode de l'ann\xe9e. "),e.k0s(),e.j41(38,"h3",15),e.EFF(39,"L\u2019assurance annulation"),e.k0s(),e.j41(40,"p"),e.EFF(41,"Comme son nom l'indique, ce type d'assurance est sp\xe9cifiquement con\xe7u pour couvrir l'annulation de votre voyage. Ainsi, si des circonstances impr\xe9vues vous obligent \xe0 renoncer ou \xe0 \xe9courter votre s\xe9jour \xe0 l'\xe9tranger, que ce soit pour des raisons de sant\xe9, le d\xe9c\xe8s d'un proche ou une situation instable dans le pays de destination, les frais associ\xe9s seront pris en charge."),e.k0s()(),e.j41(42,"div",16)(43,"h2",17),e.EFF(44,"Demande de renseignement"),e.k0s(),e.DNE(45,Se,2,5,"div",18),e.j41(46,"form",19),e.bIt("ngSubmit",function(){return c.onSubmit()}),e.j41(47,"div",20)(48,"div")(49,"label",21),e.EFF(50,"Nom"),e.k0s(),e.nrm(51,"input",22),e.k0s(),e.j41(52,"div")(53,"label",23),e.EFF(54,"Pr\xe9nom"),e.k0s(),e.nrm(55,"input",24),e.k0s()(),e.j41(56,"div")(57,"label",25),e.EFF(58,"Email"),e.k0s(),e.nrm(59,"input",26),e.k0s(),e.j41(60,"div")(61,"label",27),e.EFF(62,"GSM"),e.k0s(),e.nrm(63,"input",28),e.k0s(),e.j41(64,"div")(65,"label",29),e.EFF(66,"Message"),e.k0s(),e.nrm(67,"textarea",30),e.k0s(),e.j41(68,"div",31)(69,"button",32),e.EFF(70," Envoyer "),e.k0s()()()()()()),2&f&&(e.R7$(45),e.Y8G("ngIf",c.submissionStatus),e.R7$(),e.Y8G("formGroup",c.infoForm),e.R7$(23),e.Y8G("disabled",!c.infoForm.valid))},dependencies:[E.X1,E.qT,E.me,E.BC,E.cb,E.tU,E.j4,E.JD,S.MD,S.YU,S.bT,te.Wk]})}return d})();var Xe=D(467),et=D(9350),Dt=D(7707),Lt=D(5312);function bn(d,T){1&d&&(e.j41(0,"div",13)(1,"div",14),e.qSk(),e.j41(2,"svg",15),e.nrm(3,"circle",16)(4,"path",17),e.k0s(),e.joV(),e.j41(5,"p",18),e.EFF(6,"Chargement..."),e.k0s()()())}function zt(d,T){if(1&d&&(e.j41(0,"p",19),e.EFF(1),e.k0s()),2&d){const s=e.XpG();e.R7$(),e.JRh(s.errorMessage)}}function wn(d,T){1&d&&(e.j41(0,"p"),e.EFF(1,"Aucun contenu disponible pour le moment."),e.k0s())}let Fn=(()=>{class d{http;sanitizer;platformId;email="info@assurkin.be";activeTab="vue-ensemble";email_ombudsman=Lt.c.email_ombudsman||"info@ombudsman-insurance.be";url_ombudsman=Lt.c.url_ombudsman||"www.ombudsman-insurance.be";loading=!0;content={};errorMessage="";mifidContent="";static cachedData=null;constructor(s,f,c){this.http=s,this.sanitizer=f,this.platformId=c}ngOnInit(){(0,S.UE)(this.platformId)&&this.loadMentionsLegales()}loadMentionsLegales(){var s=this;return(0,Xe.A)(function*(){s.loading=!0,s.errorMessage="";try{let f;d.cachedData?f=d.cachedData:(f=yield function ht(d,T){const s="object"==typeof T;return new Promise((f,c)=>{const O=new Dt.Ms({next:se=>{f(se),O.unsubscribe()},error:c,complete:()=>{s?f(T.defaultValue):c(new et.G)}});d.subscribe(O)})}(s.http.get("https://fqopliwvpuiprdegxytz.supabase.co/storage/v1/object/public/store_json/mentions-legales.json")),console.warn("Mifid data loaded from HTTP"),d.cachedData=f),s.content=f;let c=f?.mifid||"";c=c.replace(/\n/g,"<br>"),c=c.replace(/{{email_ombudsman}}/g,s.email_ombudsman),c=c.replace(/{{url_ombudsman}}/g,s.url_ombudsman),s.mifidContent=s.sanitizer.bypassSecurityTrustHtml(c)}catch(f){console.error("Erreur lors du chargement des mentions l\xe9gales",f),f instanceof j.yz?(console.warn(`URL demand\xe9e en \xe9chec : ${f.url}`),s.errorMessage=404===f.status?"Le fichier de contenu est introuvable.":200===f.status?"Le fichier charg\xe9 n'est pas un JSON valide.":`Impossible de charger le contenu (Erreur ${f.status}).`):s.errorMessage="Une erreur inattendue est survenue lors du chargement."}finally{s.loading=!1}})()}static \u0275fac=function(f){return new(f||d)(e.rXU(j.Qq),e.rXU(l.up),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:d,selectors:[["app-mentions-legales"]],standalone:!0,features:[e.aNF],decls:43,vars:21,consts:[[1,"container","mx-auto","p-4","pt-24"],[1,"border-b","border-gray-200","mb-8"],["aria-label","Tabs",1,"-mb-px","flex","space-x-8","overflow-x-auto"],[1,"whitespace-nowrap","py-4","px-1","border-b-2","font-medium","text-sm",3,"click","ngClass"],[3,"hidden"],[1,"bg-white","shadow-md","rounded-lg","p-6","text-center"],[1,"text-gray-600","whitespace-pre-line"],[1,"bg-white","shadow-md","rounded-lg","p-6","text-left","relative","min-h-[200px]"],["class","absolute inset-0 flex items-center justify-center bg-white bg-opacity-75 rounded-lg z-10",4,"ngIf"],[1,"text-gray-600"],[3,"innerHTML"],["class","text-red-600 mb-4",4,"ngIf"],[4,"ngIf"],[1,"absolute","inset-0","flex","items-center","justify-center","bg-white","bg-opacity-75","rounded-lg","z-10"],[1,"text-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-8","w-8","text-indigo-600","mx-auto"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"mt-2","text-gray-600"],[1,"text-red-600","mb-4"]],template:function(f,c){1&f&&(e.j41(0,"div",0)(1,"div",1)(2,"nav",2)(3,"button",3),e.bIt("click",function(){return c.activeTab="vue-ensemble"}),e.EFF(4," Vue d'ensemble "),e.k0s(),e.j41(5,"button",3),e.bIt("click",function(){return c.activeTab="a-propos"}),e.EFF(6," A propos de nous "),e.k0s(),e.j41(7,"button",3),e.bIt("click",function(){return c.activeTab="mifid"}),e.EFF(8," Mifid "),e.k0s(),e.j41(9,"button",3),e.bIt("click",function(){return c.activeTab="politique-confidentialite"}),e.EFF(10," Politique confidentialit\xe9s "),e.k0s(),e.j41(11,"button",3),e.bIt("click",function(){return c.activeTab="politique-utilisation"}),e.EFF(12," Politique d'utilisation "),e.k0s(),e.j41(13,"button",3),e.bIt("click",function(){return c.activeTab="conditions-generales"}),e.EFF(14," Conditions g\xe9n\xe9rales de vente "),e.k0s()()(),e.j41(15,"div")(16,"div",4)(17,"div",5)(18,"p",6),e.EFF(19),e.k0s()()(),e.j41(20,"div",4)(21,"div",5)(22,"p",6),e.EFF(23),e.k0s()()(),e.j41(24,"div",4)(25,"div",7),e.DNE(26,bn,7,0,"div",8),e.j41(27,"div",9),e.nrm(28,"div",10),e.DNE(29,zt,2,1,"p",11)(30,wn,2,0,"p",12),e.k0s()()(),e.j41(31,"div",4)(32,"div",5)(33,"p",6),e.EFF(34),e.k0s()()(),e.j41(35,"div",4)(36,"div",5)(37,"p",6),e.EFF(38),e.k0s()()(),e.j41(39,"div",4)(40,"div",5)(41,"p",6),e.EFF(42),e.k0s()()()()()),2&f&&(e.R7$(3),e.Y8G("ngClass","vue-ensemble"===c.activeTab?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngClass","a-propos"===c.activeTab?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngClass","mifid"===c.activeTab?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngClass","politique-confidentialite"===c.activeTab?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngClass","politique-utilisation"===c.activeTab?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngClass","conditions-generales"===c.activeTab?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(3),e.Y8G("hidden","vue-ensemble"!==c.activeTab),e.R7$(3),e.JRh((null==c.content?null:c.content.vueEnsemble)||"Contenu \xe0 venir."),e.R7$(),e.Y8G("hidden","a-propos"!==c.activeTab),e.R7$(3),e.JRh((null==c.content?null:c.content.aPropos)||"Contenu \xe0 venir."),e.R7$(),e.Y8G("hidden","mifid"!==c.activeTab),e.R7$(2),e.Y8G("ngIf",c.loading),e.R7$(2),e.Y8G("innerHTML",c.mifidContent,e.npT),e.R7$(),e.Y8G("ngIf",c.errorMessage),e.R7$(),e.Y8G("ngIf",!c.mifidContent&&!c.loading&&!c.errorMessage),e.R7$(),e.Y8G("hidden","politique-confidentialite"!==c.activeTab),e.R7$(3),e.JRh((null==c.content?null:c.content.politiqueConfidentialite)||"Contenu \xe0 venir."),e.R7$(),e.Y8G("hidden","politique-utilisation"!==c.activeTab),e.R7$(3),e.JRh((null==c.content?null:c.content.politiqueUtilisation)||"Contenu \xe0 venir."),e.R7$(),e.Y8G("hidden","conditions-generales"!==c.activeTab),e.R7$(3),e.JRh((null==c.content?null:c.content.conditionsGenerales)||"Contenu \xe0 venir."))},dependencies:[S.MD,S.YU,S.bT]})}return d})();const Un=(d,T)=>({"bg-green-100 text-green-800":d,"bg-red-100 text-red-800":T});function At(d,T){if(1&d&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&d){const s=e.XpG();e.Y8G("ngClass",e.l_i(2,Un,s.submissionStatus.success,!s.submissionStatus.success)),e.R7$(),e.SpI(" ",s.submissionStatus.message," ")}}let lt=(()=>{class d{fb;dbConnectService;contactForm;submissionStatus=null;constructor(s,f){this.fb=s,this.dbConnectService=f,this.contactForm=this.fb.group({nom:["",E.k0.required],prenom:["",E.k0.required],email:["",[E.k0.required,E.k0.email]],gsm:[""],message:["",E.k0.required]})}onSubmit(){this.contactForm.valid&&this.dbConnectService.saveContactForm(this.contactForm.value).subscribe({next:()=>{this.submissionStatus={success:!0,message:"Votre message a bien \xe9t\xe9 envoy\xe9 !"},this.contactForm.reset()},error:s=>{console.error("An error occurred during form submission:",s),this.submissionStatus={success:!1,message:"Une erreur est survenue. Veuillez r\xe9essayer."}}})}static \u0275fac=function(f){return new(f||d)(e.rXU(E.ok),e.rXU(_t.y))};static \u0275cmp=e.VBU({type:d,selectors:[["app-form-contact"]],standalone:!0,features:[e.aNF],decls:32,vars:3,consts:[[1,"container","mx-auto","p-4","pt-24"],[1,"text-3xl","font-bold","mb-8","text-center","text-gray-800"],[1,"max-w-2xl","mx-auto","bg-white","p-8","rounded-lg","shadow-md"],[1,"mb-6","text-gray-700","text-center"],["class","p-4 mb-4 text-sm rounded-lg","role","alert",3,"ngClass",4,"ngIf"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["for","nom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","nom","formControlName","nom","autocomplete","family-name","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","prenom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","prenom","formControlName","prenom","autocomplete","given-name","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","email","formControlName","email","autocomplete","email","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","gsm",1,"block","text-sm","font-medium","text-gray-700"],["type","tel","id","gsm","formControlName","gsm","autocomplete","tel",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","message",1,"block","text-sm","font-medium","text-gray-700"],["id","message","formControlName","message","rows","5","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"flex","justify-end"],["type","submit",1,"inline-flex","justify-center","rounded-md","border","border-transparent","bg-indigo-600","py-2","px-4","text-sm","font-medium","text-white","shadow-sm","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2","disabled:bg-gray-400","disabled:cursor-not-allowed",3,"disabled"],["role","alert",1,"p-4","mb-4","text-sm","rounded-lg",3,"ngClass"]],template:function(f,c){1&f&&(e.j41(0,"div",0)(1,"h1",1),e.EFF(2,"Contactez-nous"),e.k0s(),e.j41(3,"div",2)(4,"p",3),e.EFF(5," Vous avez des questions, besoin d'un conseil personnalis\xe9 ou souhaitez obtenir une offre ? Remplissez le formulaire ci-dessous et nous vous recontacterons dans les plus brefs d\xe9lais. "),e.k0s(),e.DNE(6,At,2,5,"div",4),e.j41(7,"form",5),e.bIt("ngSubmit",function(){return c.onSubmit()}),e.j41(8,"div",6)(9,"div")(10,"label",7),e.EFF(11,"Nom"),e.k0s(),e.nrm(12,"input",8),e.k0s(),e.j41(13,"div")(14,"label",9),e.EFF(15,"Pr\xe9nom"),e.k0s(),e.nrm(16,"input",10),e.k0s()(),e.j41(17,"div")(18,"label",11),e.EFF(19,"Email"),e.k0s(),e.nrm(20,"input",12),e.k0s(),e.j41(21,"div")(22,"label",13),e.EFF(23,"Num\xe9ro de t\xe9l\xe9phone (GSM)"),e.k0s(),e.nrm(24,"input",14),e.k0s(),e.j41(25,"div")(26,"label",15),e.EFF(27,"Votre message"),e.k0s(),e.nrm(28,"textarea",16),e.k0s(),e.j41(29,"div",17)(30,"button",18),e.EFF(31," Envoyer le message "),e.k0s()()()()()),2&f&&(e.R7$(6),e.Y8G("ngIf",c.submissionStatus),e.R7$(),e.Y8G("formGroup",c.contactForm),e.R7$(23),e.Y8G("disabled",!c.contactForm.valid))},dependencies:[E.X1,E.qT,E.me,E.BC,E.cb,E.YS,E.j4,E.JD,S.MD,S.YU,S.bT]})}return d})();var Bn=D(9499);const Ct=(d,T)=>({"border-red-500":d,"border-gray-300":T});function ct(d,T){if(1&d&&(e.j41(0,"div",12)(1,"span",13),e.EFF(2),e.k0s()()),2&d){const s=e.XpG();e.R7$(2),e.JRh(s.errorMessage)}}function mr(d,T){1&d&&(e.j41(0,"p"),e.EFF(1,"L'adresse email est requise."),e.k0s())}function Zr(d,T){1&d&&(e.j41(0,"p"),e.EFF(1,"L'adresse email est invalide."),e.k0s())}function Lr(d,T){if(1&d&&(e.j41(0,"div",14),e.DNE(1,mr,2,0,"p",11)(2,Zr,2,0,"p",11),e.k0s()),2&d){const s=e.XpG();e.R7$(),e.Y8G("ngIf",s.f.email.errors.required),e.R7$(),e.Y8G("ngIf",s.f.email.errors.email)}}function io(d,T){1&d&&(e.j41(0,"p"),e.EFF(1,"Le mot de passe est requis."),e.k0s())}function Mr(d,T){if(1&d&&(e.j41(0,"div",14),e.DNE(1,io,2,0,"p",11),e.k0s()),2&d){const s=e.XpG();e.R7$(),e.Y8G("ngIf",s.f.password.errors.required)}}function Zo(d,T){1&d&&(e.j41(0,"span",15),e.qSk(),e.j41(1,"svg",16),e.nrm(2,"circle",17)(3,"path",18),e.k0s(),e.EFF(4," Connexion en cours... "),e.k0s())}function $t(d,T){1&d&&(e.j41(0,"span"),e.EFF(1,"Se connecter"),e.k0s())}let Co=(()=>{class d{fb;authService;router;loginForm;submitted=!1;errorMessage=null;loading=!1;constructor(s,f,c){this.fb=s,this.authService=f,this.router=c}ngOnInit(){this.loginForm=this.fb.group({email:["",[E.k0.required,E.k0.email]],password:["",E.k0.required]})}get f(){return this.loginForm.controls}onSubmit(){if(this.submitted=!0,this.errorMessage=null,this.loading=!0,this.loginForm.invalid)return;const{email:s,password:f}=this.loginForm.value;this.authService.signIn({email:s,password:f}).subscribe({next:c=>{c.error?(this.loading=!1,this.errorMessage="Email ou mot de passe incorrect.",console.error(c.error)):this.router.navigate(["/account"])},error:c=>{this.loading=!1,this.errorMessage="Une erreur inattendue est survenue. Veuillez r\xe9essayer.",console.error(c)}})}static \u0275fac=function(f){return new(f||d)(e.rXU(E.ok),e.rXU(Bn.u),e.rXU(te.Ix))};static \u0275cmp=e.VBU({type:d,selectors:[["app-account-login"]],standalone:!0,features:[e.aNF],decls:19,vars:15,consts:[[1,"max-w-md","mx-auto","bg-white","p-8","rounded-lg","shadow-md","mt-10"],[1,"text-2xl","font-bold","text-center","text-gray-800","mb-8"],["class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4","role","alert",4,"ngIf"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","email","formControlName","email",1,"mt-1","block","w-full","px-3","py-2","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["class","text-red-600 text-sm mt-1",4,"ngIf"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],["type","password","id","password","formControlName","password",1,"mt-1","block","w-full","px-3","py-2","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],["class","flex items-center",4,"ngIf"],[4,"ngIf"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative","mb-4"],[1,"block","sm:inline"],[1,"text-red-600","text-sm","mt-1"],[1,"flex","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(f,c){1&f&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2,"Connexion"),e.k0s(),e.DNE(3,ct,3,1,"div",2),e.j41(4,"form",3),e.bIt("ngSubmit",function(){return c.onSubmit()}),e.j41(5,"div")(6,"label",4),e.EFF(7,"Adresse email"),e.k0s(),e.nrm(8,"input",5),e.DNE(9,Lr,3,2,"div",6),e.k0s(),e.j41(10,"div")(11,"label",7),e.EFF(12,"Mot de passe"),e.k0s(),e.nrm(13,"input",8),e.DNE(14,Mr,2,1,"div",6),e.k0s(),e.j41(15,"div")(16,"button",9),e.DNE(17,Zo,5,0,"span",10)(18,$t,2,0,"span",11),e.k0s()()()()),2&f&&(e.R7$(3),e.Y8G("ngIf",c.errorMessage),e.R7$(),e.Y8G("formGroup",c.loginForm),e.R7$(4),e.Y8G("ngClass",e.l_i(9,Ct,c.submitted&&c.f.email.errors,!c.submitted||!c.f.email.errors)),e.R7$(),e.Y8G("ngIf",c.submitted&&c.f.email.errors),e.R7$(4),e.Y8G("ngClass",e.l_i(12,Ct,c.submitted&&c.f.password.errors,!c.submitted||!c.f.password.errors)),e.R7$(),e.Y8G("ngIf",c.submitted&&c.f.password.errors),e.R7$(2),e.Y8G("disabled",c.loading),e.R7$(),e.Y8G("ngIf",c.loading),e.R7$(),e.Y8G("ngIf",!c.loading))},dependencies:[S.MD,S.YU,S.bT,E.X1,E.qT,E.me,E.BC,E.cb,E.j4,E.JD]})}return d})();function ei(d,T){if(1&d){const s=e.RV6();e.j41(0,"div",1)(1,"h1",2),e.EFF(2,"Bienvenue dans votre Espace Client"),e.k0s(),e.j41(3,"p",3),e.EFF(4,"Vous \xeates actuellement connect\xe9."),e.k0s(),e.j41(5,"p",4),e.EFF(6," Vous pouvez maintenant consulter vos contrats, d\xe9clarer un sinistre ou mettre \xe0 jour vos informations personnelles. "),e.k0s(),e.j41(7,"div",5)(8,"a",6),e.EFF(9," Acc\xe9der \xe0 mon tableau de bord "),e.k0s(),e.j41(10,"button",7),e.bIt("click",function(){e.eBV(s);const c=e.XpG();return e.Njj(c.logout())}),e.EFF(11," Se d\xe9connecter "),e.k0s()()()}}function Tr(d,T){1&d&&(e.j41(0,"h1",8),e.EFF(1,"Votre Espace Client"),e.k0s(),e.j41(2,"div",9)(3,"div",10)(4,"h2",11),e.EFF(5,"Nouveau Client ?"),e.k0s(),e.j41(6,"p",12),e.EFF(7,"Cr\xe9ez un compte pour acc\xe9der \xe0 tous nos services en ligne et g\xe9rer vos contrats facilement."),e.k0s(),e.j41(8,"a",13),e.EFF(9," Cr\xe9er votre compte "),e.k0s()(),e.j41(10,"div",10)(11,"h2",11),e.EFF(12,"D\xe9j\xe0 Client ?"),e.k0s(),e.j41(13,"p",12),e.EFF(14,"Connectez-vous \xe0 votre espace pour consulter vos informations personnelles et vos contrats."),e.k0s(),e.j41(15,"a",14),e.EFF(16," Authentifiez-vous "),e.k0s(),e.j41(17,"a",15),e.EFF(18," Mot de passe perdu ? "),e.k0s()()())}let fi=(()=>{class d{authService=(0,e.WQX)(Bn.u);isAuthenticated=this.authService.isAuthenticated;logout(){this.authService.signOut()}static \u0275fac=function(f){return new(f||d)};static \u0275cmp=e.VBU({type:d,selectors:[["app-account"]],standalone:!0,features:[e.aNF],decls:3,vars:1,consts:[[1,"container","mx-auto","px-4","py-8"],[1,"max-w-2xl","mx-auto","bg-white","p-8","rounded-lg","shadow-md","text-center"],[1,"text-3xl","font-bold","mb-4"],[1,"text-gray-700","text-lg","mb-6"],[1,"text-gray-600","mb-8"],[1,"flex","flex-col","sm:flex-row","justify-center","items-center","gap-4"],["routerLink","/mydata",1,"inline-block","bg-indigo-600","text-white","font-bold","py-3","px-6","rounded","hover:bg-indigo-700","transition","duration-300","w-full","sm:w-auto"],[1,"inline-block","bg-red-600","text-white","font-bold","py-3","px-6","rounded","hover:bg-red-700","transition","duration-300","w-full","sm:w-auto",3,"click"],[1,"text-3xl","font-bold","text-center","mb-8"],[1,"max-w-4xl","mx-auto","grid","md:grid-cols-2","gap-8"],[1,"bg-white","p-6","rounded-lg","shadow-md","text-center"],[1,"text-2xl","font-semibold","mb-4"],[1,"text-gray-600","mb-6"],["routerLink","/create-account",1,"inline-block","bg-indigo-600","text-white","font-bold","py-2","px-4","rounded","hover:bg-indigo-700","transition","duration-300"],["routerLink","/login",1,"inline-block","bg-gray-800","text-white","font-bold","py-2","px-4","rounded","hover:bg-gray-900","transition","duration-300"],["routerLink","/lost-password",1,"block","text-sm","text-indigo-600","hover:underline","mt-4"]],template:function(f,c){1&f&&(e.j41(0,"div",0),e.DNE(1,ei,12,0,"div",1)(2,Tr,19,0),e.k0s()),2&f&&(e.R7$(),e.vxM(c.isAuthenticated()?1:2))},dependencies:[te.Wk]})}return d})();var Ro=D(6648),hs=D(9692);let wo=(()=>{class d{supabaseService;constructor(s){this.supabaseService=s}signUp(s,f){return(0,Ro.H)(this.supabaseService.supabase.auth.signUp({email:s.email,password:s.password,options:{data:{firstName:f.firstName,lastName:f.lastName,gender:f.gender}}}))}static \u0275fac=function(f){return new(f||d)(e.KVO(hs.w))};static \u0275prov=e.jDH({token:d,factory:d.\u0275fac})}return d})();const gr=(d,T)=>({"border-red-500":d,"border-gray-300":T});function vr(d,T){if(1&d&&(e.j41(0,"div",34)(1,"span",35),e.EFF(2),e.k0s()()),2&d){const s=e.XpG();e.R7$(2),e.JRh(s.successMessage)}}function Xt(d,T){if(1&d&&(e.j41(0,"div",36)(1,"span",35),e.EFF(2),e.k0s()()),2&d){const s=e.XpG();e.R7$(2),e.JRh(s.errorMessage)}}function so(d,T){1&d&&(e.j41(0,"p"),e.EFF(1,"Le genre est requis."),e.k0s())}function $i(d,T){if(1&d&&(e.j41(0,"div",37),e.DNE(1,so,2,0,"p",38),e.k0s()),2&d){const s=e.XpG();e.R7$(),e.Y8G("ngIf",s.f.gender.errors.required)}}function $r(d,T){1&d&&(e.j41(0,"p"),e.EFF(1,"Le nom est requis."),e.k0s())}function _r(d,T){if(1&d&&(e.j41(0,"div",37),e.DNE(1,$r,2,0,"p",38),e.k0s()),2&d){const s=e.XpG();e.R7$(),e.Y8G("ngIf",s.f.lastName.errors.required)}}function xo(d,T){1&d&&(e.j41(0,"p"),e.EFF(1,"Le pr\xe9nom est requis."),e.k0s())}function Xn(d,T){if(1&d&&(e.j41(0,"div",37),e.DNE(1,xo,2,0,"p",38),e.k0s()),2&d){const s=e.XpG();e.R7$(),e.Y8G("ngIf",s.f.firstName.errors.required)}}function sr(d,T){1&d&&(e.j41(0,"p"),e.EFF(1,"L'adresse email est requise."),e.k0s())}function In(d,T){1&d&&(e.j41(0,"p"),e.EFF(1,"L'adresse email est invalide."),e.k0s())}function Uo(d,T){if(1&d&&(e.j41(0,"div",37),e.DNE(1,sr,2,0,"p",38)(2,In,2,0,"p",38),e.k0s()),2&d){const s=e.XpG();e.R7$(),e.Y8G("ngIf",s.f.email.errors.required),e.R7$(),e.Y8G("ngIf",s.f.email.errors.email)}}function mt(d,T){1&d&&(e.j41(0,"p"),e.EFF(1,"La confirmation de l'email est requise."),e.k0s())}function ti(d,T){1&d&&(e.j41(0,"p"),e.EFF(1,"Les adresses email ne correspondent pas."),e.k0s())}function Sr(d,T){if(1&d&&(e.j41(0,"div",37),e.DNE(1,mt,2,0,"p",38)(2,ti,2,0,"p",38),e.k0s()),2&d){const s=e.XpG();e.R7$(),e.Y8G("ngIf",s.f.confirmEmail.errors.required),e.R7$(),e.Y8G("ngIf",s.f.confirmEmail.errors.mustMatch)}}function ho(d,T){1&d&&(e.j41(0,"p"),e.EFF(1,"Le mot de passe est requis."),e.k0s())}function Do(d,T){1&d&&(e.j41(0,"p"),e.EFF(1,"Le mot de passe doit contenir au moins 6 caract\xe8res."),e.k0s())}function Mi(d,T){if(1&d&&(e.j41(0,"div",37),e.DNE(1,ho,2,0,"p",38)(2,Do,2,0,"p",38),e.k0s()),2&d){const s=e.XpG();e.R7$(),e.Y8G("ngIf",s.f.password.errors.required),e.R7$(),e.Y8G("ngIf",s.f.password.errors.minlength)}}function eo(d,T){1&d&&(e.j41(0,"p"),e.EFF(1,"La confirmation du mot de passe est requise."),e.k0s())}function ni(d,T){1&d&&(e.j41(0,"p"),e.EFF(1,"Les mots de passe ne correspondent pas."),e.k0s())}function Ao(d,T){if(1&d&&(e.j41(0,"div",37),e.DNE(1,eo,2,0,"p",38)(2,ni,2,0,"p",38),e.k0s()),2&d){const s=e.XpG();e.R7$(),e.Y8G("ngIf",s.f.confirmPassword.errors.required),e.R7$(),e.Y8G("ngIf",s.f.confirmPassword.errors.mustMatch)}}function ri(d,T){1&d&&(e.j41(0,"p"),e.EFF(1,"Le num\xe9ro de GSM est requis."),e.k0s())}function Fo(d,T){if(1&d&&(e.j41(0,"div",37),e.DNE(1,ri,2,0,"p",38),e.k0s()),2&d){const s=e.XpG();e.R7$(),e.Y8G("ngIf",s.f.mobileNumber.errors.required)}}function Ti(d,T){1&d&&(e.j41(0,"div",37)(1,"p"),e.EFF(2,"Vous devez accepter les conditions g\xe9n\xe9rales."),e.k0s()())}function Kn(d,T){if(1&d&&(e.j41(0,"div",39)(1,"span",35),e.EFF(2),e.k0s()()),2&d){const s=e.XpG();e.R7$(2),e.JRh(s.successMessage)}}function Bo(d,T){if(1&d&&(e.j41(0,"div",40)(1,"span",35),e.EFF(2),e.k0s()()),2&d){const s=e.XpG();e.R7$(2),e.JRh(s.errorMessage)}}function Nn(d,T){return s=>{const f=s.get(d),c=s.get(T);return!f||!c||c.errors&&!c.errors.mustMatch?null:f.value!==c.value?(c.setErrors({mustMatch:!0}),{mustMatch:!0}):(c.setErrors(null),null)}}let mo=(()=>{class d{fb;dbConnectService;authService;router;platformId;accountForm;submitted=!1;successMessage=null;errorMessage=null;constructor(s,f,c,O,se){this.fb=s,this.dbConnectService=f,this.authService=c,this.router=O,this.platformId=se}ngOnInit(){if(this.accountForm=this.fb.group({gender:["",E.k0.required],lastName:["",E.k0.required],firstName:["",E.k0.required],email:["",[E.k0.required,E.k0.email]],confirmEmail:["",E.k0.required],password:["",[E.k0.required,E.k0.minLength(6)]],confirmPassword:["",E.k0.required],mobileNumber:["",E.k0.required],terms:[!1,E.k0.requiredTrue]},{validators:[Nn("email","confirmEmail"),Nn("password","confirmPassword")]}),(0,S.UE)(this.platformId)){const s=localStorage.getItem("autoFormData");if(s){const c=JSON.parse(s).preneur;let O="";"Madame"===c.genre&&(O="female"),"Monsieur"===c.genre&&(O="male"),"Autre"===c.genre&&(O="other"),this.accountForm.patchValue({gender:O,lastName:c.nom,firstName:c.prenom,email:c.email,confirmEmail:c.email,mobileNumber:c.telephone})}}}get f(){return this.accountForm.controls}onSubmit(){if(this.submitted=!0,this.errorMessage=null,this.successMessage=null,this.accountForm.invalid)return;const{email:s,password:f,firstName:c,lastName:O,gender:se}=this.accountForm.value;this.authService.signUp({email:s,password:f},{firstName:c,lastName:O,gender:se}).subscribe({next:ke=>{ke.error?(this.errorMessage=ke.error.message&&ke.error.message.includes("User already registered")?"Un compte avec cette adresse email existe d\xe9j\xe0. Veuillez vous connecter ou utiliser une autre adresse.":ke.error.message,console.error("Erreur lors de la cr\xe9ation du compte:",ke.error)):ke.data.user&&(ke.data.user.identities&&ke.data.user.identities.length>0?(this.successMessage="Votre compte a \xe9t\xe9 cr\xe9\xe9 avec succ\xe8s ! Un email de confirmation vous a \xe9t\xe9 envoy\xe9.",console.log("Utilisateur cr\xe9\xe9:",ke.data.user),this.accountForm.reset(),this.submitted=!1):this.errorMessage="Un compte avec cette adresse email existe d\xe9j\xe0. Veuillez vous connecter ou utiliser une autre adresse.")},error:ke=>{this.errorMessage="Une erreur inattendue est survenue. Veuillez r\xe9essayer plus tard.",console.error("Erreur de soumission:",ke)}})}static \u0275fac=function(f){return new(f||d)(e.rXU(E.ok),e.rXU(_t.y),e.rXU(wo),e.rXU(te.Ix),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:d,selectors:[["app-account-creation"]],standalone:!0,features:[e.Jv_([wo,_t.y]),e.aNF],decls:66,vars:46,consts:[[1,"max-w-2xl","mx-auto","bg-white","p-8","rounded-lg","shadow-md"],[1,"text-2xl","font-bold","text-center","text-gray-800","mb-8"],["class","bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4","role","alert",4,"ngIf"],["class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4","role","alert",4,"ngIf"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","gender",1,"block","text-sm","font-medium","text-gray-700"],["id","gender","formControlName","gender",1,"mt-1","block","w-full","px-3","py-2","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["value","","disabled",""],["value","male"],["value","female"],["value","other"],["class","text-red-600 text-sm mt-1",4,"ngIf"],["for","lastName",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","lastName","formControlName","lastName",1,"mt-1","block","w-full","px-3","py-2","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["for","firstName",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","firstName","formControlName","firstName",1,"mt-1","block","w-full","px-3","py-2","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","email","formControlName","email",1,"mt-1","block","w-full","px-3","py-2","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["for","confirmEmail",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","confirmEmail","formControlName","confirmEmail",1,"mt-1","block","w-full","px-3","py-2","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],["type","password","id","password","formControlName","password",1,"mt-1","block","w-full","px-3","py-2","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["for","confirmPassword",1,"block","text-sm","font-medium","text-gray-700"],["type","password","id","confirmPassword","formControlName","confirmPassword",1,"mt-1","block","w-full","px-3","py-2","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["for","mobileNumber",1,"block","text-sm","font-medium","text-gray-700"],["type","tel","id","mobileNumber","formControlName","mobileNumber",1,"mt-1","block","w-full","px-3","py-2","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],[1,"flex","items-start"],[1,"flex","items-center","h-5"],["id","terms","formControlName","terms","type","checkbox",1,"focus:ring-indigo-500","h-4","w-4","text-indigo-600","border-gray-300","rounded"],[1,"ml-3","text-sm"],["for","terms",1,"font-medium","text-gray-700"],["class","bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative","role","alert",4,"ngIf"],["class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative","role","alert",4,"ngIf"],["type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500"],["role","alert",1,"bg-green-100","border","border-green-400","text-green-700","px-4","py-3","rounded","relative","mb-4"],[1,"block","sm:inline"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative","mb-4"],[1,"text-red-600","text-sm","mt-1"],[4,"ngIf"],["role","alert",1,"bg-green-100","border","border-green-400","text-green-700","px-4","py-3","rounded","relative"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative"]],template:function(f,c){1&f&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2,"Cr\xe9er un compte"),e.k0s(),e.DNE(3,vr,3,1,"div",2)(4,Xt,3,1,"div",3),e.j41(5,"form",4),e.bIt("ngSubmit",function(){return c.onSubmit()}),e.j41(6,"div")(7,"label",5),e.EFF(8,"Genre"),e.k0s(),e.j41(9,"select",6)(10,"option",7),e.EFF(11,"S\xe9lectionnez votre genre"),e.k0s(),e.j41(12,"option",8),e.EFF(13,"Homme"),e.k0s(),e.j41(14,"option",9),e.EFF(15,"Femme"),e.k0s(),e.j41(16,"option",10),e.EFF(17,"Autre"),e.k0s()(),e.DNE(18,$i,2,1,"div",11),e.k0s(),e.j41(19,"div")(20,"label",12),e.EFF(21,"Nom"),e.k0s(),e.nrm(22,"input",13),e.DNE(23,_r,2,1,"div",11),e.k0s(),e.j41(24,"div")(25,"label",14),e.EFF(26,"Pr\xe9nom"),e.k0s(),e.nrm(27,"input",15),e.DNE(28,Xn,2,1,"div",11),e.k0s(),e.j41(29,"div")(30,"label",16),e.EFF(31,"Adresse email"),e.k0s(),e.nrm(32,"input",17),e.DNE(33,Uo,3,2,"div",11),e.k0s(),e.j41(34,"div")(35,"label",18),e.EFF(36,"Confirmez l'adresse email"),e.k0s(),e.nrm(37,"input",19),e.DNE(38,Sr,3,2,"div",11),e.k0s(),e.j41(39,"div")(40,"label",20),e.EFF(41,"Mot de passe"),e.k0s(),e.nrm(42,"input",21),e.DNE(43,Mi,3,2,"div",11),e.k0s(),e.j41(44,"div")(45,"label",22),e.EFF(46,"Confirmez le mot de passe"),e.k0s(),e.nrm(47,"input",23),e.DNE(48,Ao,3,2,"div",11),e.k0s(),e.j41(49,"div")(50,"label",24),e.EFF(51,"Num\xe9ro de GSM"),e.k0s(),e.nrm(52,"input",25),e.DNE(53,Fo,2,1,"div",11),e.k0s(),e.j41(54,"div",26)(55,"div",27),e.nrm(56,"input",28),e.k0s(),e.j41(57,"div",29)(58,"label",30),e.EFF(59,"J'accepte les conditions g\xe9n\xe9rales"),e.k0s(),e.DNE(60,Ti,3,0,"div",11),e.k0s()(),e.DNE(61,Kn,3,1,"div",31)(62,Bo,3,1,"div",32),e.j41(63,"div")(64,"button",33),e.EFF(65," Cr\xe9er le compte "),e.k0s()()()()),2&f&&(e.R7$(3),e.Y8G("ngIf",c.successMessage),e.R7$(),e.Y8G("ngIf",c.errorMessage),e.R7$(),e.Y8G("formGroup",c.accountForm),e.R7$(4),e.Y8G("ngClass",e.l_i(22,gr,c.submitted&&c.f.gender.errors,!c.submitted||!c.f.gender.errors)),e.R7$(9),e.Y8G("ngIf",c.submitted&&c.f.gender.errors),e.R7$(4),e.Y8G("ngClass",e.l_i(25,gr,c.submitted&&c.f.lastName.errors,!c.submitted||!c.f.lastName.errors)),e.R7$(),e.Y8G("ngIf",c.submitted&&c.f.lastName.errors),e.R7$(4),e.Y8G("ngClass",e.l_i(28,gr,c.submitted&&c.f.firstName.errors,!c.submitted||!c.f.firstName.errors)),e.R7$(),e.Y8G("ngIf",c.submitted&&c.f.firstName.errors),e.R7$(4),e.Y8G("ngClass",e.l_i(31,gr,c.submitted&&c.f.email.errors,!c.submitted||!c.f.email.errors)),e.R7$(),e.Y8G("ngIf",c.submitted&&c.f.email.errors),e.R7$(4),e.Y8G("ngClass",e.l_i(34,gr,c.submitted&&c.f.confirmEmail.errors,!c.submitted||!c.f.confirmEmail.errors)),e.R7$(),e.Y8G("ngIf",c.submitted&&c.f.confirmEmail.errors),e.R7$(4),e.Y8G("ngClass",e.l_i(37,gr,c.submitted&&c.f.password.errors,!c.submitted||!c.f.password.errors)),e.R7$(),e.Y8G("ngIf",c.submitted&&c.f.password.errors),e.R7$(4),e.Y8G("ngClass",e.l_i(40,gr,c.submitted&&c.f.confirmPassword.errors,!c.submitted||!c.f.confirmPassword.errors)),e.R7$(),e.Y8G("ngIf",c.submitted&&c.f.confirmPassword.errors),e.R7$(4),e.Y8G("ngClass",e.l_i(43,gr,c.submitted&&c.f.mobileNumber.errors,!c.submitted||!c.f.mobileNumber.errors)),e.R7$(),e.Y8G("ngIf",c.submitted&&c.f.mobileNumber.errors),e.R7$(7),e.Y8G("ngIf",c.submitted&&c.f.terms.errors),e.R7$(),e.Y8G("ngIf",c.successMessage),e.R7$(),e.Y8G("ngIf",c.errorMessage))},dependencies:[S.MD,S.YU,S.bT,E.X1,E.qT,E.xH,E.y7,E.me,E.Zm,E.wz,E.BC,E.cb,E.j4,E.JD],encapsulation:2})}return d})();var $,cr=D(3207),oi="https://js.stripe.com/v3",Go=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,ao="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",Ho=function(T){var s=T&&!T.advancedFraudSignals?"?advancedFraudSignals=false":"",f=document.createElement("script");f.src="".concat(oi).concat(s);var c=document.head||document.body;if(!c)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return c.appendChild(f),f},Gn=null,Io=null,V=null,z=!1,X=function(){return $||($=(T=null,null!==Gn?Gn:(Gn=new Promise(function(s,f){if(typeof window>"u"||typeof document>"u")s(null);else if(window.Stripe&&T&&console.warn(ao),window.Stripe)s(window.Stripe);else try{var c=function(){for(var T=document.querySelectorAll('script[src^="'.concat(oi,'"]')),s=0;s<T.length;s++){var f=T[s];if(Go.test(f.src))return f}return null}();if(c&&T)console.warn(ao);else if(c){if(c&&null!==V&&null!==Io){var O;c.removeEventListener("load",V),c.removeEventListener("error",Io),null===(O=c.parentNode)||void 0===O||O.removeChild(c),c=Ho(T)}}else c=Ho(T);V=function(T,s){return function(){window.Stripe?T(window.Stripe):s(new Error("Stripe.js not available"))}}(s,f),Io=function(T){return function(){T(new Error("Failed to load Stripe.js"))}}(f),c.addEventListener("load",V),c.addEventListener("error",Io)}catch(se){return void f(se)}})).catch(function(s){return Gn=null,Promise.reject(s)})).catch(function(T){return $=null,Promise.reject(T)}));var T};Promise.resolve().then(function(){return X()}).catch(function(d){z||console.warn(d)});var Ce=D(8212),ie=D(8072),Ue=D(3161);const ft=["fileInput"],bt=(d,T)=>({"text-green-800":d,"text-red-800":T}),yt=(d,T,s)=>({"bg-green-100 text-green-800":d,"bg-yellow-100 text-yellow-800":T,"bg-red-100 text-red-800":s}),fn=(d,T)=>["/assurance-details",d,T],Wt=(d,T)=>({"z-10 bg-indigo-50 border-indigo-500 text-indigo-600":d,"bg-white border-gray-300 text-gray-500 hover:bg-gray-50":T}),Vr=(d,T)=>({"bg-indigo-600 text-white border-indigo-600":d,"bg-white text-gray-700 border-gray-300 hover:bg-gray-50":T});function to(d,T){1&d&&(e.qSk(),e.j41(0,"svg",21),e.nrm(1,"path",22),e.k0s())}function go(d,T){1&d&&(e.qSk(),e.j41(0,"svg",23),e.nrm(1,"path",24),e.k0s())}function ar(d,T){if(1&d){const s=e.RV6();e.j41(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10),e.DNE(4,to,2,0,"svg",11)(5,go,2,0,"svg",12),e.k0s(),e.j41(6,"div",13)(7,"p",14),e.EFF(8),e.k0s(),e.j41(9,"p",15),e.EFF(10),e.k0s()(),e.j41(11,"div",16)(12,"button",17),e.bIt("click",function(){e.eBV(s);const c=e.XpG();return e.Njj(c.hideNotification())}),e.j41(13,"span",18),e.EFF(14,"Fermer"),e.k0s(),e.qSk(),e.j41(15,"svg",19),e.nrm(16,"path",20),e.k0s()()()()()()}if(2&d){const s=e.XpG();e.R7$(4),e.Y8G("ngIf","success"===s.popupType),e.R7$(),e.Y8G("ngIf","error"===s.popupType),e.R7$(2),e.Y8G("ngClass",e.l_i(5,bt,"success"===s.popupType,"error"===s.popupType)),e.R7$(),e.SpI(" ","success"===s.popupType?"Succ\xe8s":"Erreur"," "),e.R7$(2),e.JRh(s.popupMessage)}}function Wn(d,T){1&d&&(e.j41(0,"div",25)(1,"p",26),e.EFF(2,"Chargement de vos donn\xe9es..."),e.k0s()())}function M(d,T){if(1&d&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&d){const s=e.XpG(3);e.R7$(),e.Lme("",s.person.code_postal," ",s.person.ville,"")}}function R(d,T){if(1&d&&(e.j41(0,"div")(1,"div",36)(2,"h2",37),e.EFF(3,"Mes Donn\xe9es Personnelles"),e.k0s(),e.j41(4,"div",38)(5,"div")(6,"p",39),e.EFF(7,"Nom complet"),e.k0s(),e.j41(8,"p",40),e.EFF(9),e.k0s()(),e.j41(10,"div")(11,"p",39),e.EFF(12,"Adresse e-mail"),e.k0s(),e.j41(13,"p",40),e.EFF(14),e.k0s()(),e.j41(15,"div")(16,"p",39),e.EFF(17,"T\xe9l\xe9phone"),e.k0s(),e.j41(18,"p",40),e.EFF(19),e.k0s()(),e.j41(20,"div")(21,"p",39),e.EFF(22,"Date de naissance"),e.k0s(),e.j41(23,"p",40),e.EFF(24),e.nI1(25,"date"),e.k0s()(),e.j41(26,"div",41)(27,"p",39),e.EFF(28,"Adresse"),e.k0s(),e.j41(29,"p",40),e.EFF(30),e.nrm(31,"br"),e.DNE(32,M,2,2,"span",35),e.k0s()(),e.j41(33,"div")(34,"p",39),e.EFF(35,"Num\xe9ro de permis"),e.k0s(),e.j41(36,"p",40),e.EFF(37),e.k0s()(),e.j41(38,"div")(39,"p",39),e.EFF(40,"Date du permis"),e.k0s(),e.j41(41,"p",40),e.EFF(42),e.nI1(43,"date"),e.k0s()()()()()),2&d){const s=e.XpG(2);e.R7$(9),e.Lme("",s.person.prenom," ",s.person.nom,""),e.R7$(5),e.JRh(s.person.email),e.R7$(5),e.JRh(s.person.telephone||"Non renseign\xe9"),e.R7$(5),e.JRh(s.person.date_naissance?e.i5U(25,9,s.person.date_naissance,"dd/MM/yyyy"):"Non renseign\xe9e"),e.R7$(6),e.SpI(" ",s.person.adresse||"Non renseign\xe9e",""),e.R7$(2),e.Y8G("ngIf",s.person.code_postal&&s.person.ville),e.R7$(5),e.JRh(s.person.permis_numero||"Non renseign\xe9"),e.R7$(5),e.JRh(s.person.permis_date?e.i5U(43,12,s.person.permis_date,"dd/MM/yyyy"):"Non renseign\xe9e")}}function w(d,T){1&d&&(e.j41(0,"div",47),e.qSk(),e.j41(1,"svg",48),e.nrm(2,"circle",49)(3,"path",50),e.k0s(),e.joV(),e.j41(4,"p",51),e.EFF(5,"Chargement des contrats..."),e.k0s()())}function G(d,T){if(1&d&&(e.j41(0,"div",52)(1,"p",51),e.EFF(2),e.k0s(),e.j41(3,"a",53),e.EFF(4,"Demander un devis"),e.k0s()()),2&d){const s=e.XpG(3);e.R7$(2),e.SpI("Aucun contrat d'assurance ",s.activeInsuranceCategory," trouv\xe9."),e.R7$(),e.Y8G("routerLink","/particulier/"+s.activeInsuranceCategory)}}function de(d,T){if(1&d&&(e.j41(0,"tr")(1,"td",61)(2,"div",62),e.EFF(3),e.k0s(),e.j41(4,"div",63),e.EFF(5),e.k0s()(),e.j41(6,"td",64),e.EFF(7),e.nI1(8,"date"),e.k0s(),e.j41(9,"td",61)(10,"span",65),e.EFF(11),e.k0s()(),e.j41(12,"td",66)(13,"a",67),e.EFF(14,"D\xe9tails"),e.k0s()()()),2&d){const s=T.$implicit,f=e.XpG(4);e.R7$(3),e.JRh(s.denomination),e.R7$(2),e.JRh(s.categorie),e.R7$(2),e.JRh(e.i5U(8,6,s.date_contract,"dd/MM/yyyy")),e.R7$(3),e.Y8G("ngClass",e.sMw(9,yt,"Valid\xe9"===s.statut||"Actif"===s.statut,"En attente"===s.statut||"Devis en attente"===s.statut,"Refus\xe9"===s.statut||"R\xe9sili\xe9"===s.statut)),e.R7$(),e.SpI(" ",s.statut," "),e.R7$(2),e.Y8G("routerLink",e.l_i(13,fn,f.activeInsuranceCategory,s.id))}}function pt(d,T){if(1&d&&(e.j41(0,"div",54)(1,"table",55)(2,"thead",56)(3,"tr")(4,"th",57),e.EFF(5,"D\xe9signation"),e.k0s(),e.j41(6,"th",57),e.EFF(7,"Date d'effet"),e.k0s(),e.j41(8,"th",57),e.EFF(9,"Statut"),e.k0s(),e.j41(10,"th",58)(11,"span",18),e.EFF(12,"Actions"),e.k0s()()()(),e.j41(13,"tbody",59),e.DNE(14,de,15,16,"tr",60),e.k0s()()()),2&d){const s=e.XpG(3);e.R7$(14),e.Y8G("ngForOf",s.contracts)}}function Kt(d,T){if(1&d){const s=e.RV6();e.j41(0,"div")(1,"div",36)(2,"h2",37),e.EFF(3,"Mes Assurances"),e.k0s(),e.j41(4,"div",32)(5,"nav",42)(6,"button",43),e.bIt("click",function(){e.eBV(s);const c=e.XpG(2);return e.Njj(c.setInsuranceCategory("auto"))}),e.EFF(7," Auto "),e.k0s(),e.j41(8,"button",43),e.bIt("click",function(){e.eBV(s);const c=e.XpG(2);return e.Njj(c.setInsuranceCategory("habitation"))}),e.EFF(9," Habitation "),e.k0s(),e.j41(10,"button",43),e.bIt("click",function(){e.eBV(s);const c=e.XpG(2);return e.Njj(c.setInsuranceCategory("obseques"))}),e.EFF(11," Obs\xe8ques "),e.k0s()()(),e.DNE(12,w,6,0,"div",44)(13,G,5,2,"div",45)(14,pt,15,1,"div",46),e.k0s()()}if(2&d){const s=e.XpG(2);e.R7$(6),e.Y8G("ngClass","auto"===s.activeInsuranceCategory?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngClass","habitation"===s.activeInsuranceCategory?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngClass","obseques"===s.activeInsuranceCategory?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngIf",s.contractsLoading),e.R7$(),e.Y8G("ngIf",!s.contractsLoading&&0===s.contracts.length),e.R7$(),e.Y8G("ngIf",!s.contractsLoading&&s.contracts.length>0)}}function No(d,T){1&d&&(e.j41(0,"div",52)(1,"p",51),e.EFF(2,"Aucun document disponible."),e.k0s()())}function hi(d,T){if(1&d&&(e.j41(0,"a",77),e.nrm(1,"i",78),e.EFF(2," Voir le PDF "),e.k0s()),2&d){const s=e.XpG().$implicit;e.Y8G("href",s.signed_pdf_url,e.B4B)}}function Zi(d,T){if(1&d){const s=e.RV6();e.j41(0,"tr")(1,"td",61)(2,"div",69),e.nrm(3,"i",70),e.j41(4,"div",71),e.EFF(5),e.k0s()()(),e.j41(6,"td",64),e.EFF(7),e.nI1(8,"date"),e.k0s(),e.j41(9,"td",61)(10,"span",65),e.EFF(11),e.k0s()(),e.j41(12,"td",66),e.DNE(13,hi,3,1,"a",72),e.j41(14,"button",73),e.bIt("click",function(){const c=e.eBV(s).$implicit,O=e.XpG(4);return e.Njj(O.downloadDocument(c))}),e.nrm(15,"i",74),e.k0s(),e.j41(16,"button",75),e.bIt("click",function(){const c=e.eBV(s).$implicit,O=e.XpG(4);return e.Njj(O.deleteDocument(c))}),e.nrm(17,"i",76),e.k0s()()()}if(2&d){const s=T.$implicit,f=e.XpG(4);e.R7$(3),e.Y8G("ngClass",f.getFileIcon(s.file_name)),e.R7$(),e.Y8G("title",s.file_name),e.R7$(),e.JRh(f.truncateFileName(s.file_name)),e.R7$(2),e.JRh(e.i5U(8,7,s.date_created,"dd/MM/yyyy")),e.R7$(3),e.Y8G("ngClass",e.sMw(10,yt,"Valid\xe9"===s.status||"Sign\xe9"===s.status,!s.status||"En attente"===s.status,"Rejet\xe9"===s.status)),e.R7$(),e.SpI(" ",s.status||"En attente"," "),e.R7$(2),e.Y8G("ngIf",s.signed_pdf_url)}}function ta(d,T){if(1&d){const s=e.RV6();e.qex(0),e.j41(1,"button",91),e.bIt("click",function(){const c=e.eBV(s).$implicit,O=e.XpG(5);return e.Njj(O.goToDocumentsPage(c))}),e.EFF(2),e.k0s(),e.bVm()}if(2&d){const s=T.$implicit,f=e.XpG(5);e.R7$(),e.Y8G("ngClass",e.l_i(2,Wt,s===f.documentsCurrentPage,s!==f.documentsCurrentPage)),e.R7$(),e.SpI(" ",s," ")}}function Ga(d,T){if(1&d){const s=e.RV6();e.j41(0,"div",79)(1,"div",80)(2,"button",81),e.bIt("click",function(){e.eBV(s);const c=e.XpG(4);return e.Njj(c.goToDocumentsPage(c.documentsCurrentPage-1))}),e.EFF(3," Pr\xe9c\xe9dent "),e.k0s(),e.j41(4,"button",82),e.bIt("click",function(){e.eBV(s);const c=e.XpG(4);return e.Njj(c.goToDocumentsPage(c.documentsCurrentPage+1))}),e.EFF(5," Suivant "),e.k0s()(),e.j41(6,"div",83)(7,"div")(8,"p",84),e.EFF(9," Affichage de "),e.j41(10,"span",85),e.EFF(11),e.k0s(),e.EFF(12," \xe0 "),e.j41(13,"span",85),e.EFF(14),e.k0s(),e.EFF(15," sur "),e.j41(16,"span",85),e.EFF(17),e.k0s(),e.EFF(18," r\xe9sultats "),e.k0s()(),e.j41(19,"div")(20,"nav",86)(21,"button",87),e.bIt("click",function(){e.eBV(s);const c=e.XpG(4);return e.Njj(c.goToDocumentsPage(c.documentsCurrentPage-1))}),e.j41(22,"span",18),e.EFF(23,"Pr\xe9c\xe9dent"),e.k0s(),e.nrm(24,"i",88),e.k0s(),e.DNE(25,ta,3,5,"ng-container",60),e.j41(26,"button",89),e.bIt("click",function(){e.eBV(s);const c=e.XpG(4);return e.Njj(c.goToDocumentsPage(c.documentsCurrentPage+1))}),e.j41(27,"span",18),e.EFF(28,"Suivant"),e.k0s(),e.nrm(29,"i",90),e.k0s()()()()()}if(2&d){const s=e.XpG(4);e.R7$(2),e.Y8G("disabled",1===s.documentsCurrentPage),e.R7$(2),e.Y8G("disabled",s.documentsCurrentPage===s.getTotalDocumentPages()),e.R7$(7),e.JRh((s.documentsCurrentPage-1)*s.documentsItemsPerPage+1),e.R7$(3),e.JRh(s.documentsCurrentPage*s.documentsItemsPerPage>s.documents.length?s.documents.length:s.documentsCurrentPage*s.documentsItemsPerPage),e.R7$(3),e.JRh(s.documents.length),e.R7$(4),e.Y8G("disabled",1===s.documentsCurrentPage),e.R7$(4),e.Y8G("ngForOf",s.getDocumentPagesArray()),e.R7$(),e.Y8G("disabled",s.documentsCurrentPage===s.getTotalDocumentPages())}}function Ui(d,T){if(1&d&&(e.j41(0,"div",54)(1,"table",55)(2,"thead",56)(3,"tr")(4,"th",57),e.EFF(5,"Nom du fichier"),e.k0s(),e.j41(6,"th",57),e.EFF(7,"Date"),e.k0s(),e.j41(8,"th",57),e.EFF(9,"Statut"),e.k0s(),e.j41(10,"th",58)(11,"span",18),e.EFF(12,"Actions"),e.k0s()()()(),e.j41(13,"tbody",59),e.DNE(14,Zi,18,14,"tr",60),e.k0s()(),e.DNE(15,Ga,30,8,"div",68),e.k0s()),2&d){const s=e.XpG(3);e.R7$(14),e.Y8G("ngForOf",s.paginatedDocuments),e.R7$(),e.Y8G("ngIf",s.getTotalDocumentPages()>1)}}function es(d,T){if(1&d&&(e.j41(0,"div")(1,"div",36)(2,"h2",37),e.EFF(3,"Mes Documents"),e.k0s(),e.DNE(4,No,3,0,"div",45)(5,Ui,16,2,"div",46),e.k0s()()),2&d){const s=e.XpG(2);e.R7$(4),e.Y8G("ngIf",!s.documents||0===s.documents.length),e.R7$(),e.Y8G("ngIf",s.documents&&s.documents.length>0)}}function Si(d,T){if(1&d){const s=e.RV6();e.j41(0,"button",108),e.bIt("click",function(){const c=e.eBV(s).$implicit,O=e.XpG(4);return e.Njj(O.selectDocType(c.id))}),e.EFF(1),e.k0s()}if(2&d){const s=T.$implicit,f=e.XpG(4);e.Y8G("ngClass",e.l_i(2,Vr,f.selectedDocTypeId===s.id,f.selectedDocTypeId!==s.id)),e.R7$(),e.SpI(" ",s.Label," ")}}function ts(d,T){1&d&&(e.j41(0,"div",115)(1,"div",116),e.nrm(2,"div",117),e.k0s(),e.j41(3,"p",113),e.EFF(4,"T\xe9l\xe9versement en cours..."),e.k0s()())}function Ri(d,T){if(1&d){const s=e.RV6();e.j41(0,"div")(1,"p",105),e.EFF(2,"S\xe9lectionnez votre fichier ou glissez-d\xe9posez"),e.k0s(),e.j41(3,"div",109)(4,"div",98),e.nrm(5,"i",110),e.j41(6,"p",111)(7,"span",112),e.EFF(8,"Cliquez pour t\xe9l\xe9verser"),e.k0s(),e.EFF(9," ou glissez-d\xe9posez "),e.k0s(),e.j41(10,"p",113),e.EFF(11,"PDF, JPG, PNG, DOC, DOCX"),e.k0s()(),e.j41(12,"input",103,0),e.bIt("change",function(c){e.eBV(s);const O=e.XpG(4);return e.Njj(O.onFileSelected(c))}),e.k0s()(),e.DNE(14,ts,5,0,"div",114),e.k0s()}if(2&d){const s=e.XpG(4);e.R7$(3),e.AVh("opacity-50",s.uploading),e.R7$(2),e.Y8G("ngClass",s.uploading?"fa-spinner fa-spin":"fa-cloud-upload-alt"),e.R7$(7),e.Y8G("disabled",s.uploading),e.R7$(2),e.Y8G("ngIf",s.uploading)}}function na(d,T){if(1&d&&(e.j41(0,"div",104)(1,"div",95)(2,"div")(3,"p",105),e.EFF(4,"Choisissez une cat\xe9gorie"),e.k0s(),e.j41(5,"div",106),e.DNE(6,Si,2,5,"button",107),e.k0s()(),e.DNE(7,Ri,15,5,"div",35),e.k0s()()),2&d){const s=e.XpG(3);e.R7$(6),e.Y8G("ngForOf",s.documentTypes),e.R7$(),e.Y8G("ngIf",s.selectedDocTypeId)}}function ra(d,T){if(1&d){const s=e.RV6();e.j41(0,"div")(1,"div",36)(2,"h2",37),e.EFF(3,"T\xe9l\xe9versement"),e.k0s(),e.DNE(4,na,8,2,"div",92),e.j41(5,"div",93)(6,"h3",94),e.EFF(7,"Documents Clients"),e.k0s(),e.j41(8,"div",95)(9,"div")(10,"p",96),e.EFF(11,"T\xe9l\xe9verser un document client ou glissez-d\xe9posez"),e.k0s(),e.j41(12,"div",97)(13,"div",98),e.nrm(14,"i",99),e.j41(15,"p",100)(16,"span",101),e.EFF(17,"Cliquez pour t\xe9l\xe9verser"),e.k0s(),e.EFF(18," ou glissez-d\xe9posez "),e.k0s(),e.j41(19,"p",102),e.EFF(20,"PDF, JPG, PNG, DOC, DOCX"),e.k0s()(),e.j41(21,"input",103),e.bIt("change",function(c){e.eBV(s);const O=e.XpG(2);return e.Njj(O.onFileSelected(c,"documents_clients"))}),e.k0s()()()()()()()}if(2&d){const s=e.XpG(2);e.R7$(4),e.Y8G("ngIf",s.documentTypes&&s.documentTypes.length>0),e.R7$(8),e.AVh("opacity-50",s.uploading),e.R7$(2),e.Y8G("ngClass",s.uploading?"fa-spinner fa-spin":"fa-cloud-upload-alt"),e.R7$(7),e.Y8G("disabled",s.uploading)}}function Gt(d,T){1&d&&(e.j41(0,"div",47),e.qSk(),e.j41(1,"svg",48),e.nrm(2,"circle",49)(3,"path",50),e.k0s(),e.joV(),e.j41(4,"p",51),e.EFF(5,"Chargement des paiements..."),e.k0s()())}function lr(d,T){if(1&d){const s=e.RV6();e.j41(0,"div",119)(1,"div",120)(2,"label",121),e.EFF(3,"Filtrer :"),e.k0s(),e.j41(4,"select",122),e.mxI("ngModelChange",function(c){e.eBV(s);const O=e.XpG(3);return e.DH7(O.paymentStatusFilter,c)||(O.paymentStatusFilter=c),e.Njj(c)}),e.bIt("ngModelChange",function(){e.eBV(s);const c=e.XpG(3);return e.Njj(c.onPaymentFilterChange())}),e.j41(5,"option",123),e.EFF(6,"Tous"),e.k0s(),e.j41(7,"option",124),e.EFF(8,"En attente"),e.k0s(),e.j41(9,"option",125),e.EFF(10,"Pay\xe9"),e.k0s(),e.j41(11,"option",126),e.EFF(12,"En retard"),e.k0s(),e.j41(13,"option",127),e.EFF(14,"\xc9chou\xe9"),e.k0s(),e.j41(15,"option",128),e.EFF(16,"Annul\xe9"),e.k0s()()()()}if(2&d){const s=e.XpG(3);e.R7$(4),e.R50("ngModel",s.paymentStatusFilter)}}function xr(d,T){1&d&&(e.j41(0,"div",52)(1,"p",51),e.EFF(2,"Aucun historique de paiement disponible."),e.k0s()())}function mi(d,T){1&d&&(e.j41(0,"div",52)(1,"p",51),e.EFF(2,"Aucun paiement ne correspond au filtre s\xe9lectionn\xe9."),e.k0s()())}function Rr(d,T){1&d&&e.nrm(0,"i",135)}function ns(d,T){if(1&d){const s=e.RV6();e.j41(0,"button",133),e.bIt("click",function(){e.eBV(s);const c=e.XpG().$implicit,O=e.XpG(4);return e.Njj(O.openPaymentModal(c))}),e.DNE(1,Rr,1,0,"i",134),e.EFF(2," Payer "),e.k0s()}if(2&d){const s=e.XpG().$implicit,f=e.XpG(4);e.Y8G("disabled",f.isPaymentIntentLoading),e.R7$(),e.Y8G("ngIf",f.isPaymentIntentLoading&&(null==f.selectedPaymentRequest?null:f.selectedPaymentRequest.id)===s.id)}}function ms(d,T){if(1&d){const s=e.RV6();e.j41(0,"button",136),e.bIt("click",function(){e.eBV(s);const c=e.XpG().$implicit,O=e.XpG(4);return e.Njj(O.downloadInvoice(c))}),e.nrm(1,"i",137),e.EFF(2," Facture "),e.k0s()}}function Bi(d,T){if(1&d&&(e.j41(0,"tr")(1,"td",64),e.EFF(2),e.nI1(3,"date"),e.k0s(),e.j41(4,"td",129),e.EFF(5),e.k0s(),e.j41(6,"td",130),e.EFF(7),e.nI1(8,"currency"),e.k0s(),e.j41(9,"td",61)(10,"span",65),e.EFF(11),e.k0s()(),e.j41(12,"td",66),e.DNE(13,ns,3,2,"button",131)(14,ms,3,0,"button",132),e.k0s()()),2&d){const s=T.$implicit,f=e.XpG(4);e.R7$(2),e.JRh(e.i5U(3,7,s.created_at,"dd/MM/yyyy")),e.R7$(3),e.JRh(s.sujet||"Paiement"),e.R7$(2),e.JRh(e.ii3(8,10,s.montant,"EUR","symbol","1.2-2")),e.R7$(3),e.Y8G("ngClass",f.getPaymentStatusClass(s.statut)),e.R7$(),e.SpI(" ",f.getPaymentStatusLabel(s.statut)," "),e.R7$(2),e.Y8G("ngIf","paid"!==s.statut&&"cancelled"!==s.statut),e.R7$(),e.Y8G("ngIf",s.storecove_invoice_id)}}function oa(d,T){if(1&d){const s=e.RV6();e.qex(0),e.j41(1,"button",91),e.bIt("click",function(){const c=e.eBV(s).$implicit,O=e.XpG(5);return e.Njj(O.goToPaymentsPage(c))}),e.EFF(2),e.k0s(),e.bVm()}if(2&d){const s=T.$implicit,f=e.XpG(5);e.R7$(),e.Y8G("ngClass",e.l_i(2,Wt,s===f.paymentsCurrentPage,s!==f.paymentsCurrentPage)),e.R7$(),e.SpI(" ",s," ")}}function Gi(d,T){if(1&d){const s=e.RV6();e.j41(0,"div",79)(1,"div",80)(2,"button",81),e.bIt("click",function(){e.eBV(s);const c=e.XpG(4);return e.Njj(c.goToPaymentsPage(c.paymentsCurrentPage-1))}),e.EFF(3," Pr\xe9c\xe9dent "),e.k0s(),e.j41(4,"button",82),e.bIt("click",function(){e.eBV(s);const c=e.XpG(4);return e.Njj(c.goToPaymentsPage(c.paymentsCurrentPage+1))}),e.EFF(5," Suivant "),e.k0s()(),e.j41(6,"div",83)(7,"div")(8,"p",84),e.EFF(9," Affichage de "),e.j41(10,"span",85),e.EFF(11),e.k0s(),e.EFF(12," \xe0 "),e.j41(13,"span",85),e.EFF(14),e.k0s(),e.EFF(15," sur "),e.j41(16,"span",85),e.EFF(17),e.k0s(),e.EFF(18," r\xe9sultats "),e.k0s()(),e.j41(19,"div")(20,"nav",86)(21,"button",87),e.bIt("click",function(){e.eBV(s);const c=e.XpG(4);return e.Njj(c.goToPaymentsPage(c.paymentsCurrentPage-1))}),e.j41(22,"span",18),e.EFF(23,"Pr\xe9c\xe9dent"),e.k0s(),e.nrm(24,"i",88),e.k0s(),e.DNE(25,oa,3,5,"ng-container",60),e.j41(26,"button",89),e.bIt("click",function(){e.eBV(s);const c=e.XpG(4);return e.Njj(c.goToPaymentsPage(c.paymentsCurrentPage+1))}),e.j41(27,"span",18),e.EFF(28,"Suivant"),e.k0s(),e.nrm(29,"i",90),e.k0s()()()()()}if(2&d){const s=e.XpG(4);e.R7$(2),e.Y8G("disabled",1===s.paymentsCurrentPage),e.R7$(2),e.Y8G("disabled",s.paymentsCurrentPage===s.getTotalPaymentPages()),e.R7$(7),e.JRh((s.paymentsCurrentPage-1)*s.paymentsItemsPerPage+1),e.R7$(3),e.JRh(s.paymentsCurrentPage*s.paymentsItemsPerPage>s.filteredPayments.length?s.filteredPayments.length:s.paymentsCurrentPage*s.paymentsItemsPerPage),e.R7$(3),e.JRh(s.filteredPayments.length),e.R7$(4),e.Y8G("disabled",1===s.paymentsCurrentPage),e.R7$(4),e.Y8G("ngForOf",s.getPaymentPagesArray()),e.R7$(),e.Y8G("disabled",s.paymentsCurrentPage===s.getTotalPaymentPages())}}function Po(d,T){if(1&d&&(e.j41(0,"div",54)(1,"table",55)(2,"thead",56)(3,"tr")(4,"th",57),e.EFF(5,"Date"),e.k0s(),e.j41(6,"th",57),e.EFF(7,"Description"),e.k0s(),e.j41(8,"th",57),e.EFF(9,"Montant"),e.k0s(),e.j41(10,"th",57),e.EFF(11,"Statut"),e.k0s(),e.j41(12,"th",58)(13,"span",18),e.EFF(14,"Actions"),e.k0s()()()(),e.j41(15,"tbody",59),e.DNE(16,Bi,15,15,"tr",60),e.k0s()(),e.DNE(17,Gi,30,8,"div",68),e.k0s()),2&d){const s=e.XpG(3);e.R7$(16),e.Y8G("ngForOf",s.paginatedPayments),e.R7$(),e.Y8G("ngIf",s.getTotalPaymentPages()>1)}}function Ha(d,T){if(1&d&&(e.j41(0,"div")(1,"div",36)(2,"h2",37),e.EFF(3,"Mes Paiements"),e.k0s(),e.DNE(4,Gt,6,0,"div",44)(5,lr,17,1,"div",118)(6,xr,3,0,"div",45)(7,mi,3,0,"div",45)(8,Po,18,2,"div",46),e.k0s()()),2&d){const s=e.XpG(2);e.R7$(4),e.Y8G("ngIf",s.paymentsLoading),e.R7$(),e.Y8G("ngIf",!s.paymentsLoading&&s.payments&&s.payments.length>0),e.R7$(),e.Y8G("ngIf",!(s.paymentsLoading||s.payments&&0!==s.payments.length)),e.R7$(),e.Y8G("ngIf",!s.paymentsLoading&&s.payments&&s.payments.length>0&&0===s.filteredPayments.length),e.R7$(),e.Y8G("ngIf",!s.paymentsLoading&&s.filteredPayments.length>0)}}function Ps(d,T){if(1&d){const s=e.RV6();e.j41(0,"div",27)(1,"div",28)(2,"h1",29),e.EFF(3,"Mon Espace Client"),e.k0s(),e.j41(4,"button",30),e.bIt("click",function(){e.eBV(s);const c=e.XpG();return e.Njj(c.logout())}),e.nrm(5,"i",31),e.j41(6,"span"),e.EFF(7,"D\xe9connexion"),e.k0s()()(),e.j41(8,"div",32)(9,"nav",33)(10,"button",34),e.bIt("click",function(){e.eBV(s);const c=e.XpG();return e.Njj(c.setView("donnees"))}),e.EFF(11," Mes Donn\xe9es "),e.k0s(),e.j41(12,"button",34),e.bIt("click",function(){e.eBV(s);const c=e.XpG();return e.Njj(c.setView("assurances"))}),e.EFF(13," Assurances "),e.k0s(),e.j41(14,"button",34),e.bIt("click",function(){e.eBV(s);const c=e.XpG();return e.Njj(c.setView("documents"))}),e.EFF(15," Mes Documents "),e.k0s(),e.j41(16,"button",34),e.bIt("click",function(){e.eBV(s);const c=e.XpG();return e.Njj(c.setView("televersement"))}),e.EFF(17," T\xe9l\xe9versement "),e.k0s(),e.j41(18,"button",34),e.bIt("click",function(){e.eBV(s);const c=e.XpG();return e.Njj(c.setView("paiements"))}),e.EFF(19," Mes Paiements "),e.k0s()()(),e.j41(20,"div"),e.DNE(21,R,44,15,"div",35)(22,Kt,15,6,"div",35)(23,es,6,2,"div",35)(24,ra,22,5,"div",35)(25,Ha,9,5,"div",35),e.k0s()()}if(2&d){const s=e.XpG();e.R7$(10),e.Y8G("ngClass","donnees"===s.activeView?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngClass","assurances"===s.activeView?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngClass","documents"===s.activeView?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngClass","televersement"===s.activeView?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngClass","paiements"===s.activeView?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(3),e.Y8G("ngIf","donnees"===s.activeView),e.R7$(),e.Y8G("ngIf","assurances"===s.activeView),e.R7$(),e.Y8G("ngIf","documents"===s.activeView),e.R7$(),e.Y8G("ngIf","televersement"===s.activeView),e.R7$(),e.Y8G("ngIf","paiements"===s.activeView)}}function ia(d,T){if(1&d){const s=e.RV6();e.j41(0,"div",138)(1,"h2",139),e.EFF(2,"Erreur"),e.k0s(),e.j41(3,"p"),e.EFF(4,"Impossible de charger vos informations personnelles."),e.k0s(),e.j41(5,"p",140),e.EFF(6,"Veuillez r\xe9essayer plus tard ou contacter le support si le probl\xe8me persiste."),e.k0s(),e.j41(7,"button",141),e.bIt("click",function(){e.eBV(s);const c=e.XpG();return e.Njj(c.logout())}),e.EFF(8," Se d\xe9connecter "),e.k0s()()}}function gs(d,T){1&d&&e.nrm(0,"i",160)}function Zl(d,T){if(1&d){const s=e.RV6();e.j41(0,"div",142)(1,"div",143)(2,"div",144),e.bIt("click",function(){e.eBV(s);const c=e.XpG();return e.Njj(c.closePaymentModal())}),e.k0s(),e.j41(3,"span",145),e.EFF(4,"\u200b"),e.k0s(),e.j41(5,"div",146)(6,"div",147)(7,"div",148)(8,"div",149)(9,"h3",150),e.EFF(10," Paiement s\xe9curis\xe9 "),e.k0s(),e.j41(11,"div",151)(12,"p",152),e.EFF(13," Montant \xe0 r\xe9gler : "),e.j41(14,"span",153),e.EFF(15),e.nI1(16,"currency"),e.k0s()(),e.j41(17,"div",154)(18,"p",155),e.EFF(19,"Le formulaire de paiement Stripe s'affichera ici."),e.k0s()()()()()(),e.j41(20,"div",156)(21,"button",157),e.bIt("click",function(){e.eBV(s);const c=e.XpG();return e.Njj(c.confirmPayment())}),e.DNE(22,gs,1,0,"i",158),e.EFF(23),e.nI1(24,"currency"),e.k0s(),e.j41(25,"button",159),e.bIt("click",function(){e.eBV(s);const c=e.XpG();return e.Njj(c.closePaymentModal())}),e.EFF(26," Annuler "),e.k0s()()()()()}if(2&d){const s=e.XpG();e.R7$(15),e.JRh(e.ii3(16,5,null==s.selectedPaymentRequest?null:s.selectedPaymentRequest.montant,"EUR","symbol","1.2-2")),e.R7$(6),e.Y8G("disabled",s.isPaymentProcessing||!s.stripeClientSecret),e.R7$(),e.Y8G("ngIf",s.isPaymentProcessing),e.R7$(),e.SpI(" Payer ",e.ii3(24,10,null==s.selectedPaymentRequest?null:s.selectedPaymentRequest.montant,"EUR","symbol","1.2-2")," "),e.R7$(2),e.Y8G("disabled",s.isPaymentProcessing)}}function Os(d,T){1&d&&(e.qSk(),e.j41(0,"svg",170),e.nrm(1,"path",171),e.k0s())}function sa(d,T){1&d&&(e.qSk(),e.j41(0,"svg",172),e.nrm(1,"path",173),e.k0s())}function aa(d,T){if(1&d){const s=e.RV6();e.j41(0,"div",174)(1,"button",176),e.bIt("click",function(){e.eBV(s);const c=e.XpG(3);return e.Njj(c.downloadInvoice(c.successPaymentRequest))}),e.qSk(),e.j41(2,"svg",177),e.nrm(3,"path",178),e.k0s(),e.EFF(4," T\xe9l\xe9charger "),e.k0s(),e.joV(),e.j41(5,"button",179),e.bIt("click",function(){e.eBV(s);const c=e.XpG(3);return e.Njj(c.printInvoice(c.successPaymentRequest))}),e.qSk(),e.j41(6,"svg",177),e.nrm(7,"path",180),e.k0s(),e.EFF(8," Imprimer "),e.k0s()()}}function vs(d,T){1&d&&(e.j41(0,"div",166)(1,"p",181),e.EFF(2,"La facture sera disponible dans quelques instants."),e.k0s()())}function _s(d,T){if(1&d&&(e.j41(0,"div",174),e.DNE(1,aa,9,0,"div",167)(2,vs,3,0,"div",175),e.k0s()),2&d){const s=e.XpG(2);e.R7$(),e.Y8G("ngIf","success"===s.paymentResultStatus&&s.successPaymentRequest&&s.successPaymentRequest.storecove_invoice_id),e.R7$(),e.Y8G("ngIf","success"===s.paymentResultStatus&&s.successPaymentRequest&&!s.successPaymentRequest.storecove_invoice_id)}}function gi(d,T){if(1&d){const s=e.RV6();e.j41(0,"div",142)(1,"div",143)(2,"div",144),e.bIt("click",function(){e.eBV(s);const c=e.XpG();return e.Njj(c.closePaymentSuccessModal())}),e.k0s(),e.j41(3,"span",145),e.EFF(4,"\u200b"),e.k0s(),e.j41(5,"div",161)(6,"div")(7,"div",162),e.DNE(8,Os,2,0,"svg",163)(9,sa,2,0,"svg",164),e.k0s(),e.j41(10,"div",165)(11,"h3",150),e.EFF(12),e.k0s(),e.j41(13,"div",166)(14,"p",63),e.EFF(15,"Votre paiement a \xe9t\xe9 trait\xe9 avec succ\xe8s. Merci de votre confiance."),e.k0s(),e.j41(16,"p",63),e.EFF(17),e.k0s()(),e.DNE(18,_s,3,2,"div",167),e.k0s(),e.j41(19,"div",168)(20,"button",169),e.bIt("click",function(){e.eBV(s);const c=e.XpG();return e.Njj(c.closePaymentSuccessModal())}),e.EFF(21," Fermer "),e.k0s()()()()()()}if(2&d){const s=e.XpG();e.R7$(7),e.Y8G("ngClass","success"===s.paymentResultStatus?"bg-green-100":"bg-red-100"),e.R7$(),e.Y8G("ngIf","success"===s.paymentResultStatus),e.R7$(),e.Y8G("ngIf","error"===s.paymentResultStatus),e.R7$(3),e.JRh("success"===s.paymentResultStatus?"Paiement r\xe9ussi !":"Paiement \xe9chou\xe9"),e.R7$(5),e.SpI(" ","success"===s.paymentResultStatus?"Votre paiement a \xe9t\xe9 trait\xe9 avec succ\xe8s. Merci de votre confiance.":"Le paiement n'a pas pu \xeatre valid\xe9. Veuillez r\xe9essayer."," "),e.R7$(),e.Y8G("ngIf",s.successPaymentRequest&&s.successPaymentRequest.storecove_invoice_id)}}let qa=(()=>{class d{authService;dbConnectService;paymentService;storecoveService;mailService;router;route;platformId;user=null;person=null;loading=!0;activeView="donnees";contracts=[];contractsLoading=!1;activeInsuranceCategory="auto";documents=[];paginatedDocuments=[];documentsCurrentPage=1;documentsItemsPerPage=5;documentTypes=[];selectedDocTypeId=null;uploading=!1;payments=[];paymentsLoading=!1;paymentStatusFilter="all";paginatedPayments=[];paymentsCurrentPage=1;paymentsItemsPerPage=5;successPaymentRequestId=null;successPaymentRequest=null;paymentResultStatus="success";isPaymentModalOpen=!1;stripeClientSecret=null;showPaymentSuccessModal=!1;selectedPaymentRequest=null;isPaymentIntentLoading=!1;stripe=null;elements=null;isPaymentProcessing=!1;showPopup=!1;popupMessage="";popupType="success";popupTimeout;fileInput;destroy$=new ue.B;constructor(s,f,c,O,se,ke,rt,Ft){this.authService=s,this.dbConnectService=f,this.paymentService=c,this.storecoveService=O,this.mailService=se,this.router=ke,this.route=rt,this.platformId=Ft}ngOnInit(){(0,S.UE)(this.platformId)&&(this.route.queryParams.pipe((0,Ke.Q)(this.destroy$)).subscribe(s=>{const f=s.redirect_status;"succeeded"===f?(this.paymentResultStatus="success",this.successPaymentRequestId=s.payment_request_id?Number(s.payment_request_id):null,this.mailService.sendEmail({to:"developer@assurkin.be",subject:"Nouveau paiement re\xe7u",htmlContent:"<p>Un paiement a \xe9t\xe9 effectu\xe9 avec succ\xe8s.</p>"}).subscribe({next:()=>{this.router.navigate([],{relativeTo:this.route,queryParams:{redirect_status:null,payment_intent:null,payment_intent_client_secret:null,payment_request_id:null},queryParamsHandling:"merge",replaceUrl:!0}),this.showPaymentSuccessModal=!0},error:c=>{console.error("Erreur lors de l'envoi de l'email de confirmation de paiement",c),this.showPaymentSuccessModal=!0}})):"failed"===f&&(this.paymentResultStatus="error",this.router.navigate([],{relativeTo:this.route,queryParams:{redirect_status:null,payment_intent:null,payment_intent_client_secret:null,payment_request_id:null},queryParamsHandling:"merge",replaceUrl:!0}),this.showPaymentSuccessModal=!0)}),this.authService.currentUser$.pipe((0,Ke.Q)(this.destroy$),(0,ye.M)(()=>this.loading=!0),(0,Ye.n)(s=>(this.user=s,s&&s.id&&s.email?this.dbConnectService.linkUserToPerson(s.id,s.email).pipe((0,Ye.n)(()=>this.dbConnectService.getPersonByUserId(s.id)),(0,Q.W)(f=>(console.error("Erreur lors de la r\xe9cup\xe9ration du profil:",f),(0,K.of)(null)))):(0,K.of)(null)))).subscribe(s=>{this.person=s,this.loading=!1,"assurances"===this.activeView?this.loadContracts(this.activeInsuranceCategory):"documents"===this.activeView?(this.loadDocuments(),this.loadDocumentTypes()):"paiements"===this.activeView&&this.loadPayments()}))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setView(s){this.activeView=s,"assurances"===s?this.loadContracts(this.activeInsuranceCategory):"documents"===s?(this.loadDocuments(),this.loadDocumentTypes()):"paiements"===s&&this.loadPayments()}setInsuranceCategory(s){this.activeInsuranceCategory=s,this.loadContracts(s)}loadContracts(s){this.person&&(this.contractsLoading=!0,this.dbConnectService.getContracts(this.person.id,s).pipe((0,Ke.Q)(this.destroy$)).subscribe({next:f=>{this.contracts=f,this.contractsLoading=!1},error:f=>{console.error("Erreur lors du chargement des contrats:",f),this.contractsLoading=!1}}))}loadPayments(){this.person&&(this.paymentsLoading=!0,this.paymentService.getPaymentRequestsByPreneur(this.person.id).pipe((0,Ke.Q)(this.destroy$)).subscribe({next:s=>{this.payments=s,this.paymentsLoading=!1,this.paymentsCurrentPage=1,this.updatePaginatedPayments(),this.successPaymentRequestId&&(this.successPaymentRequest=this.payments.find(f=>f.id===this.successPaymentRequestId))},error:s=>{console.error("Erreur chargement paiements",s),this.paymentsLoading=!1}}))}loadDocuments(){this.person&&this.dbConnectService.getDocuments(this.person.id).pipe((0,Ke.Q)(this.destroy$)).subscribe({next:s=>{this.documents=s,this.documentsCurrentPage=1,this.updatePaginatedDocuments()},error:s=>{console.error("Erreur lors du chargement des documents:",s),this.documents=[],this.updatePaginatedDocuments()}})}loadDocumentTypes(){this.dbConnectService.getDocumentTypes().pipe((0,Ke.Q)(this.destroy$)).subscribe({next:s=>{const f=["auto","habitation","obs\xe8ques","obseques"];this.documentTypes=s.filter(c=>f.some(O=>c.Label.toLowerCase().includes(O)))},error:s=>console.error("Erreur chargement types documents",s)})}selectDocType(s){this.selectedDocTypeId=s,this.fileInput?.nativeElement&&(this.fileInput.nativeElement.value="")}onFileSelected(s,f){const c=s.target.files[0],O=s.target;if(c&&this.person&&this.user){if(c.size>5242880)return alert("Le fichier est trop volumineux. La taille maximale autoris\xe9e est de 5 Mo."),void(O.value="");if(!["application/pdf","image/jpeg","image/png","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(c.type))return alert("Format de fichier non support\xe9. Veuillez utiliser un fichier PDF, une image (JPG, PNG) ou un document Word."),void(O.value="");if(!f&&!this.selectedDocTypeId)return void alert("Veuillez d'abord s\xe9lectionner une cat\xe9gorie.");let rt=f||Lt.c.storage_bucket_clients;if(!f&&this.selectedDocTypeId){const Ht=this.documentTypes.find(sn=>sn.id===this.selectedDocTypeId);if(Ht){const sn=Ht.Label.toLowerCase();sn.includes("auto")?rt="documents_auto":sn.includes("habitation")?rt="documents_habitation":(sn.includes("obs\xe8ques")||sn.includes("obseques"))&&(rt="documents_obseques")}}this.uploading=!0,this.dbConnectService.uploadDocument(c,this.person.id,this.user.id,f?0:this.selectedDocTypeId||0,rt).pipe((0,Ke.Q)(this.destroy$)).subscribe({next:Ht=>{this.documents.unshift(Ht),this.updatePaginatedDocuments(),this.uploading=!1,O.value=""},error:Ht=>{console.error("Erreur lors du t\xe9l\xe9versement:",Ht),this.uploading=!1,O.value="",alert("Une erreur est survenue lors de l'envoi du document.")}})}}downloadDocument(s){var f=this;return(0,Xe.A)(function*(){let c=Lt.c.storage_bucket_clients;if(0===s.id_type)c="documents_clients";else if(s.id_type){const O=f.documentTypes.find(se=>se.id===s.id_type);if(O){const se=O.Label.toLowerCase();se.includes("auto")?c="documents_auto":se.includes("habitation")?c="documents_habitation":(se.includes("obs\xe8ques")||se.includes("obseques"))&&(c="documents_obseques")}}try{const{data:O,error:se}=yield f.dbConnectService.createSignedUrl(c,s.path,60);if(se||!O?.signedUrl)return console.error("Erreur lors de la g\xe9n\xe9ration du lien de t\xe9l\xe9chargement:",se),void alert("Impossible de t\xe9l\xe9charger le document.");const ke=document.createElement("a");ke.href=`${O.signedUrl}&download=${encodeURIComponent(s.file_name)}`,ke.setAttribute("download",s.file_name),document.body.appendChild(ke),ke.click(),document.body.removeChild(ke)}catch(O){console.error("Erreur lors du t\xe9l\xe9chargement:",O),alert("Une erreur est survenue lors du t\xe9l\xe9chargement.")}})()}deleteDocument(s){if(!confirm("\xcates-vous s\xfbr de vouloir supprimer ce document ?"))return;let f=Lt.c.storage_bucket_clients;if(0===s.id_type)f="documents_clients";else if(s.id_type){const c=this.documentTypes.find(O=>O.id===s.id_type);if(c){const O=c.Label.toLowerCase();O.includes("auto")?f="documents_auto":O.includes("habitation")?f="documents_habitation":(O.includes("obs\xe8ques")||O.includes("obseques"))&&(f="documents_obseques")}}this.dbConnectService.deleteDocument(s.id,s.path,f).pipe((0,Ke.Q)(this.destroy$)).subscribe({next:()=>{this.documents=this.documents.filter(c=>c.id!==s.id),this.updatePaginatedDocuments()},error:c=>{console.error("Erreur lors de la suppression:",c),alert("Une erreur est survenue lors de la suppression du document.")}})}updatePaginatedDocuments(){const s=(this.documentsCurrentPage-1)*this.documentsItemsPerPage;this.paginatedDocuments=this.documents.slice(s,s+this.documentsItemsPerPage),0===this.paginatedDocuments.length&&this.documents.length>0&&(this.documentsCurrentPage=Math.max(1,this.documentsCurrentPage-1),this.updatePaginatedDocuments())}goToDocumentsPage(s){this.documentsCurrentPage=s,this.updatePaginatedDocuments()}getTotalDocumentPages(){return Math.ceil(this.documents.length/this.documentsItemsPerPage)}getDocumentPagesArray(){return Array(this.getTotalDocumentPages()).fill(0).map((s,f)=>f+1)}getFileIcon(s){switch(s.split(".").pop()?.toLowerCase()){case"pdf":return"fa-file-pdf text-red-500";case"jpg":case"jpeg":case"png":case"gif":return"fa-file-image text-blue-500";case"doc":case"docx":return"fa-file-word text-blue-700";case"xls":case"xlsx":return"fa-file-excel text-green-600";default:return"fa-file text-gray-400"}}truncateFileName(s){if(!s)return"";const f=s.split("."),c=f.length>1?"."+f.pop():"",O=f.join(".");return O.length>6?O.substring(0,6)+"..."+c:s}logout(){var s=this;return(0,Xe.A)(function*(){try{yield(0,cr.s)(s.authService.signOut()),s.router.navigate(["/login"])}catch(f){console.error("Logout error:",f)}})()}openPaymentModal(s){var f=this;this.selectedPaymentRequest=s,this.isPaymentIntentLoading=!0;const c=Math.round(100*s.montant);var O;this.paymentService.createPaymentIntent(c,{payment_request_id:s.id.toString()}).pipe((0,Ke.Q)(this.destroy$)).subscribe({next:(O=(0,Xe.A)(function*(se){f.stripeClientSecret=se.clientSecret,f.isPaymentModalOpen=!0,f.isPaymentIntentLoading=!1,f.stripe||(f.stripe=yield function(){for(var T=arguments.length,s=new Array(T),f=0;f<T;f++)s[f]=arguments[f];z=!0;var c=Date.now();return X().then(function(O){return function(T,s,f){if(null===T)return null;var c=T.apply(void 0,s);return function(T,s){!T||!T._registerWrapper||T._registerWrapper({name:"stripe-js",version:"4.6.0",startTime:s})}(c,f),c}(O,s,c)})}(Lt.c.stripe_public_key)),f.stripe&&f.stripeClientSecret&&setTimeout(()=>{f.elements=f.stripe.elements({clientSecret:f.stripeClientSecret,appearance:{theme:"stripe"}}),f.elements.create("payment").mount("#stripe-payment-element")},100)}),function(ke){return O.apply(this,arguments)}),error:O=>{console.error("Erreur cr\xe9ation intention paiement:",O),this.isPaymentIntentLoading=!1,this.showNotification("Impossible d'initialiser le paiement. Veuillez r\xe9essayer plus tard.","error")}})}confirmPayment(){var s=this;return(0,Xe.A)(function*(){if(!s.stripe||!s.elements||!s.selectedPaymentRequest)return;s.isPaymentProcessing=!0;const f=new URL(window.location.href);f.searchParams.set("payment_request_id",s.selectedPaymentRequest.id.toString());const{error:c}=yield s.stripe.confirmPayment({elements:s.elements,confirmParams:{return_url:f.toString()}});if(c){s.isPaymentProcessing=!1;let O=c.message||"Une erreur est survenue lors du paiement.";if("card_error"===c.type||"validation_error"===c.type)switch(c.code){case"card_declined":O="Votre carte a \xe9t\xe9 refus\xe9e. Veuillez contacter votre banque.";break;case"expired_card":O="Votre carte a expir\xe9.";break;case"incorrect_cvc":O="Le code de s\xe9curit\xe9 (CVC) est incorrect.";break;case"processing_error":O="Une erreur est survenue lors du traitement de la carte. Veuillez r\xe9essayer.";break;case"insufficient_funds":O="Fonds insuffisants sur la carte."}s.showNotification(O,"error")}})()}closePaymentModal(){this.isPaymentModalOpen=!1,this.stripeClientSecret=null,this.selectedPaymentRequest=null,this.elements=null,this.isPaymentProcessing=!1}closePaymentSuccessModal(){this.showPaymentSuccessModal=!1,this.successPaymentRequest=null,this.successPaymentRequestId=null}downloadInvoice(s){s?.storecove_invoice_id&&(this.showNotification("T\xe9l\xe9chargement de la facture en cours...","success"),this.storecoveService.downloadInvoice(s.storecove_invoice_id).subscribe({next:f=>{const c=window.URL.createObjectURL(f),O=document.createElement("a");O.href=c,O.download=`facture_${s.storecove_invoice_id}.pdf`,O.click(),window.URL.revokeObjectURL(c)},error:f=>{console.error("Erreur t\xe9l\xe9chargement facture",f),this.showNotification("Impossible de t\xe9l\xe9charger la facture.","error")}}))}printInvoice(s){s?.storecove_invoice_id&&(this.showNotification("Pr\xe9paration de l'impression...","success"),this.storecoveService.downloadInvoice(s.storecove_invoice_id).subscribe({next:f=>{const c=window.URL.createObjectURL(f),O=window.open(c,"_blank");O&&(O.onload=()=>{O.print()}),setTimeout(()=>window.URL.revokeObjectURL(c),6e4)},error:f=>{console.error("Erreur impression facture",f),this.showNotification("Impossible de r\xe9cup\xe9rer la facture pour impression.","error")}}))}showNotification(s,f){this.popupMessage=s,this.popupType=f,this.showPopup=!0,this.popupTimeout&&clearTimeout(this.popupTimeout),this.popupTimeout=setTimeout(()=>this.hideNotification(),5e3)}hideNotification(){this.showPopup=!1,this.popupTimeout&&clearTimeout(this.popupTimeout)}getPaymentStatusLabel(s){switch(s){case"pending":return"En attente";case"paid":return"Pay\xe9";case"failed":return"\xc9chou\xe9";case"cancelled":return"Annul\xe9";case"overdue":return"En retard";default:return s||"Inconnu"}}getPaymentStatusClass(s){switch(s){case"paid":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"failed":case"overdue":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}get filteredPayments(){return"all"===this.paymentStatusFilter?this.payments:this.payments.filter(s=>s.statut===this.paymentStatusFilter)}onPaymentFilterChange(){this.paymentsCurrentPage=1,this.updatePaginatedPayments()}updatePaginatedPayments(){const f=(this.paymentsCurrentPage-1)*this.paymentsItemsPerPage;this.paginatedPayments=this.filteredPayments.slice(f,f+this.paymentsItemsPerPage)}goToPaymentsPage(s){this.paymentsCurrentPage=s,this.updatePaginatedPayments()}getTotalPaymentPages(){return Math.ceil(this.filteredPayments.length/this.paymentsItemsPerPage)}getPaymentPagesArray(){return Array(this.getTotalPaymentPages()).fill(0).map((s,f)=>f+1)}static \u0275fac=function(f){return new(f||d)(e.rXU(Bn.u),e.rXU(_t.y),e.rXU(Ce.W),e.rXU(ie.g),e.rXU(Ue.t),e.rXU(te.Ix),e.rXU(te.nX),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:d,selectors:[["app-mydata"]],viewQuery:function(f,c){if(1&f&&e.GBs(ft,5),2&f){let O;e.mGM(O=e.lsd())&&(c.fileInput=O.first)}},standalone:!0,features:[e.aNF],decls:7,vars:6,consts:[["fileInput",""],["class","fixed top-5 right-5 max-w-sm w-full bg-white shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden z-50",4,"ngIf"],[1,"container","mx-auto","p-4","lg:p-8"],["class","text-center py-10",4,"ngIf"],["class","max-w-4xl mx-auto",4,"ngIf"],["class","text-center text-gray-500 bg-gray-50 p-8 rounded-lg shadow-md max-w-md mx-auto mt-10",4,"ngIf"],["class","fixed inset-0 z-50 overflow-y-auto","aria-labelledby","modal-title","role","dialog","aria-modal","true",4,"ngIf"],[1,"fixed","top-5","right-5","max-w-sm","w-full","bg-white","shadow-lg","rounded-lg","pointer-events-auto","ring-1","ring-black","ring-opacity-5","overflow-hidden","z-50"],[1,"p-4"],[1,"flex","items-start"],[1,"flex-shrink-0"],["class","h-6 w-6 text-green-400","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",4,"ngIf"],["class","h-6 w-6 text-red-400","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",4,"ngIf"],[1,"ml-3","w-0","flex-1","pt-0.5"],[1,"text-sm","font-medium","text-gray-900",3,"ngClass"],[1,"mt-1","text-sm","text-gray-500"],[1,"ml-4","flex-shrink-0","flex"],[1,"bg-white","rounded-md","inline-flex","text-gray-400","hover:text-gray-500","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],[1,"sr-only"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5"],["fill-rule","evenodd","d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule","evenodd"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","text-green-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","text-red-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-center","py-10"],[1,"text-gray-600"],[1,"max-w-4xl","mx-auto"],[1,"flex","justify-between","items-center","mb-8","border-b","pb-4"],[1,"text-3xl","font-bold","text-gray-800"],[1,"px-4","py-2","bg-red-600","text-white","text-sm","font-medium","rounded-md","hover:bg-red-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500","flex","items-center",3,"click"],[1,"fas","fa-sign-out-alt","mr-2"],[1,"border-b","border-gray-200","mb-6"],["aria-label","Tabs",1,"-mb-px","flex","space-x-8"],[1,"whitespace-nowrap","py-4","px-1","border-b-2","font-medium","text-sm",3,"click","ngClass"],[4,"ngIf"],[1,"bg-white","p-8","rounded-lg","shadow-lg"],[1,"text-2xl","font-bold","mb-6","text-gray-700"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-x-8","gap-y-6"],[1,"text-sm","font-medium","text-gray-500"],[1,"text-lg","font-semibold","text-gray-900"],[1,"md:col-span-2"],["aria-label","Insurance Tabs",1,"-mb-px","flex","space-x-6"],[1,"whitespace-nowrap","pb-4","px-1","border-b-2","font-medium","text-sm",3,"click","ngClass"],["class","text-center py-4",4,"ngIf"],["class","text-center py-8 bg-gray-50 rounded-lg",4,"ngIf"],["class","overflow-x-auto",4,"ngIf"],[1,"text-center","py-4"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-8","w-8","text-indigo-600","mx-auto","mb-2"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"text-gray-500"],[1,"text-center","py-8","bg-gray-50","rounded-lg"],[1,"mt-4","inline-block","text-indigo-600","hover:text-indigo-800","font-medium",3,"routerLink"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],["scope","col",1,"relative","px-6","py-3"],[1,"bg-white","divide-y","divide-gray-200"],[4,"ngFor","ngForOf"],[1,"px-6","py-4","whitespace-nowrap"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-500"],[1,"px-2","inline-flex","text-xs","leading-5","font-semibold","rounded-full",3,"ngClass"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium"],[1,"text-indigo-600","hover:text-indigo-900",3,"routerLink"],["class","bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6 mt-4 rounded-b-lg",4,"ngIf"],[1,"flex","items-center"],[1,"fas","mr-3","text-lg",3,"ngClass"],[1,"text-sm","font-medium","text-gray-900",3,"title"],["target","_blank","class","text-indigo-600 hover:text-indigo-900 mr-4",3,"href",4,"ngIf"],["title","T\xe9l\xe9charger",1,"text-blue-600","hover:text-blue-900","mr-4",3,"click"],[1,"fas","fa-download"],["title","Supprimer",1,"text-red-600","hover:text-red-900",3,"click"],[1,"fas","fa-trash-alt"],["target","_blank",1,"text-indigo-600","hover:text-indigo-900","mr-4",3,"href"],[1,"fas","fa-file-pdf","mr-1"],[1,"bg-white","px-4","py-3","flex","items-center","justify-between","border-t","border-gray-200","sm:px-6","mt-4","rounded-b-lg"],[1,"flex-1","flex","justify-between","sm:hidden"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","text-sm","font-medium","rounded-md","text-gray-700","bg-white","hover:bg-gray-50","disabled:opacity-50",3,"click","disabled"],[1,"ml-3","relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","text-sm","font-medium","rounded-md","text-gray-700","bg-white","hover:bg-gray-50","disabled:opacity-50",3,"click","disabled"],[1,"hidden","sm:flex-1","sm:flex","sm:items-center","sm:justify-between"],[1,"text-sm","text-gray-700"],[1,"font-medium"],["aria-label","Pagination",1,"relative","z-0","inline-flex","rounded-md","shadow-sm","-space-x-px"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-l-md","border","border-gray-300","bg-white","text-sm","font-medium","text-gray-500","hover:bg-gray-50","disabled:opacity-50",3,"click","disabled"],[1,"fas","fa-chevron-left","h-5","w-5"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-r-md","border","border-gray-300","bg-white","text-sm","font-medium","text-gray-500","hover:bg-gray-50","disabled:opacity-50",3,"click","disabled"],[1,"fas","fa-chevron-right","h-5","w-5"],[1,"relative","inline-flex","items-center","px-4","py-2","border","text-sm","font-medium",3,"click","ngClass"],["class","bg-gray-50 p-6 rounded-lg border border-gray-200 mb-8",4,"ngIf"],[1,"bg-blue-50","p-6","rounded-lg","border","border-blue-200","mb-8"],[1,"text-lg","font-bold","mb-4","text-blue-800"],[1,"space-y-4"],[1,"block","text-sm","font-medium","text-blue-700","mb-2"],[1,"relative","border-2","border-dashed","border-blue-300","rounded-lg","p-6","flex","justify-center","items-center","hover:bg-blue-100","transition-colors"],[1,"text-center"],[1,"fas","text-3xl","text-blue-400","mb-2",3,"ngClass"],[1,"text-sm","text-blue-700"],[1,"font-medium","text-blue-800","hover:text-blue-900"],[1,"text-xs","text-blue-600","mt-1"],["type","file","accept",".pdf,.jpg,.jpeg,.png,.doc,.docx",1,"absolute","inset-0","w-full","h-full","opacity-0","cursor-pointer",3,"change","disabled"],[1,"bg-gray-50","p-6","rounded-lg","border","border-gray-200","mb-8"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"flex","flex-wrap","gap-3"],["type","button","class","px-4 py-2 text-sm font-medium rounded-md border shadow-sm transition-colors duration-150 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button",1,"px-4","py-2","text-sm","font-medium","rounded-md","border","shadow-sm","transition-colors","duration-150","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click","ngClass"],[1,"relative","border-2","border-dashed","border-gray-300","rounded-lg","p-6","flex","justify-center","items-center","hover:bg-gray-50","transition-colors"],[1,"fas","text-3xl","text-gray-400","mb-2",3,"ngClass"],[1,"text-sm","text-gray-600"],[1,"font-medium","text-indigo-600","hover:text-indigo-500"],[1,"text-xs","text-gray-500","mt-1"],["class","mt-4 w-full max-w-sm",4,"ngIf"],[1,"mt-4","w-full","max-w-sm"],[1,"w-full","bg-gray-200","rounded-full","h-2.5"],[1,"bg-indigo-600","h-2.5","rounded-full","animate-pulse",2,"width","100%"],["class","flex justify-end mb-4",4,"ngIf"],[1,"flex","justify-end","mb-4"],[1,"inline-flex","items-center"],["for","paymentStatusFilter",1,"mr-2","text-sm","font-medium","text-gray-700"],["id","paymentStatusFilter",1,"block","w-full","pl-3","pr-10","py-2","text-base","border-gray-300","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm","rounded-md","border",3,"ngModelChange","ngModel"],["value","all"],["value","pending"],["value","paid"],["value","overdue"],["value","failed"],["value","cancelled"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-900"],["class","inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 mr-2 disabled:opacity-50",3,"disabled","click",4,"ngIf"],["class","text-indigo-600 hover:text-indigo-900 ml-2",3,"click",4,"ngIf"],[1,"inline-flex","items-center","px-3","py-1","border","border-transparent","text-xs","font-medium","rounded-md","shadow-sm","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","mr-2","disabled:opacity-50",3,"click","disabled"],["class","fas fa-spinner fa-spin mr-1",4,"ngIf"],[1,"fas","fa-spinner","fa-spin","mr-1"],[1,"text-indigo-600","hover:text-indigo-900","ml-2",3,"click"],[1,"fas","fa-download","mr-1"],[1,"text-center","text-gray-500","bg-gray-50","p-8","rounded-lg","shadow-md","max-w-md","mx-auto","mt-10"],[1,"text-xl","font-bold","mb-4","text-red-600"],[1,"text-sm","mt-2"],[1,"mt-6","px-6","py-2","bg-indigo-600","text-white","font-medium","rounded-md","hover:bg-indigo-700",3,"click"],["aria-labelledby","modal-title","role","dialog","aria-modal","true",1,"fixed","inset-0","z-50","overflow-y-auto"],[1,"flex","items-end","justify-center","min-h-screen","pt-4","px-4","pb-20","text-center","sm:block","sm:p-0"],["aria-hidden","true",1,"fixed","inset-0","bg-gray-500","bg-opacity-75","transition-opacity",3,"click"],["aria-hidden","true",1,"hidden","sm:inline-block","sm:align-middle","sm:h-screen"],[1,"inline-block","align-bottom","bg-white","rounded-lg","text-left","overflow-hidden","shadow-xl","transform","transition-all","sm:my-8","sm:align-middle","sm:max-w-lg","sm:w-full"],[1,"bg-white","px-4","pt-5","pb-4","sm:p-6","sm:pb-4"],[1,"sm:flex","sm:items-start"],[1,"mt-3","text-center","sm:mt-0","sm:ml-4","sm:text-left","w-full"],["id","modal-title",1,"text-lg","leading-6","font-medium","text-gray-900"],[1,"mt-4"],[1,"text-sm","text-gray-500","mb-4"],[1,"font-bold","text-gray-900"],["id","stripe-payment-element",1,"min-h-[150px]","border","border-gray-200","rounded","p-4","bg-gray-50","flex","items-center","justify-center"],[1,"text-gray-500","italic"],[1,"bg-gray-50","px-4","py-3","sm:px-6","sm:flex","sm:flex-row-reverse"],["type","button",1,"w-full","inline-flex","justify-center","rounded-md","border","border-transparent","shadow-sm","px-4","py-2","bg-indigo-600","text-base","font-medium","text-white","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","sm:ml-3","sm:w-auto","disabled:opacity-50",3,"click","disabled"],["class","fas fa-spinner fa-spin mr-2",4,"ngIf"],["type","button",1,"mt-3","w-full","inline-flex","justify-center","rounded-md","border","border-gray-300","shadow-sm","px-4","py-2","bg-white","text-base","font-medium","text-gray-700","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","sm:mt-0","sm:ml-3","sm:w-auto",3,"click","disabled"],[1,"fas","fa-spinner","fa-spin","mr-2"],[1,"inline-block","align-bottom","bg-white","rounded-lg","px-4","pt-5","pb-4","text-left","overflow-hidden","shadow-xl","transform","transition-all","sm:my-8","sm:align-middle","sm:max-w-sm","sm:w-full","sm:p-6"],[1,"mx-auto","flex","items-center","justify-center","h-12","w-12","rounded-full",3,"ngClass"],["class","h-6 w-6 text-green-600","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","aria-hidden","true",4,"ngIf"],["class","h-6 w-6 text-red-600","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","aria-hidden","true",4,"ngIf"],[1,"mt-3","text-center","sm:mt-5"],[1,"mt-2"],["class","mt-4 flex flex-col sm:flex-row justify-center gap-3",4,"ngIf"],[1,"mt-5","sm:mt-6"],["type","button",1,"inline-flex","justify-center","w-full","rounded-md","border","border-transparent","shadow-sm","px-4","py-2","bg-indigo-600","text-base","font-medium","text-white","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","sm:text-sm",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","aria-hidden","true",1,"h-6","w-6","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","aria-hidden","true",1,"h-6","w-6","text-red-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"mt-4","flex","flex-col","sm:flex-row","justify-center","gap-3"],["class","mt-2",4,"ngIf"],["type","button",1,"w-full","sm:w-auto","inline-flex","items-center","justify-center","px-4","py-2","border","border-transparent","text-sm","font-medium","rounded-md","text-indigo-700","bg-indigo-100","hover:bg-indigo-200","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"mr-2","h-4","w-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"],["type","button",1,"w-full","sm:w-auto","inline-flex","items-center","justify-center","px-4","py-2","border","border-gray-300","text-sm","font-medium","rounded-md","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"],[1,"text-xs","text-gray-400","italic"]],template:function(f,c){1&f&&(e.DNE(0,ar,17,8,"div",1),e.j41(1,"div",2),e.DNE(2,Wn,3,0,"div",3)(3,Ps,26,10,"div",4)(4,ia,9,0,"div",5),e.k0s(),e.DNE(5,Zl,27,15,"div",6)(6,gi,22,6,"div",6)),2&f&&(e.Y8G("ngIf",c.showPopup),e.R7$(2),e.Y8G("ngIf",c.loading),e.R7$(),e.Y8G("ngIf",!c.loading&&c.person),e.R7$(),e.Y8G("ngIf",!c.loading&&!c.person),e.R7$(),e.Y8G("ngIf",c.isPaymentModalOpen),e.R7$(),e.Y8G("ngIf",c.showPaymentSuccessModal))},dependencies:[S.MD,S.YU,S.Sq,S.bT,S.oe,S.vh,te.iI,te.Wk,E.YN,E.xH,E.y7,E.wz,E.BC,E.vS],encapsulation:2})}return d})();const rs=(d,T)=>({"border-red-500":d,"border-gray-300":T});function ys(d,T){if(1&d&&(e.j41(0,"div",6)(1,"span",7),e.EFF(2),e.k0s()()),2&d){const s=e.XpG();e.R7$(2),e.JRh(s.successMessage)}}function la(d,T){if(1&d&&(e.j41(0,"div",8)(1,"span",7),e.EFF(2),e.k0s()()),2&d){const s=e.XpG();e.R7$(2),e.JRh(s.errorMessage)}}function bs(d,T){1&d&&(e.j41(0,"p"),e.EFF(1,"L'adresse e-mail est requise."),e.k0s())}function Hi(d,T){1&d&&(e.j41(0,"p"),e.EFF(1,"Veuillez saisir une adresse e-mail valide."),e.k0s())}function vo(d,T){if(1&d&&(e.j41(0,"div",15),e.DNE(1,bs,2,0,"p",14)(2,Hi,2,0,"p",14),e.k0s()),2&d){let s,f;const c=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(s=c.passwordLostForm.get("email"))||null==s.errors?null:s.errors.required),e.R7$(),e.Y8G("ngIf",null==(f=c.passwordLostForm.get("email"))||null==f.errors?null:f.errors.email)}}function qi(d,T){1&d&&(e.j41(0,"span"),e.EFF(1,"Envoyer le lien de r\xe9initialisation"),e.k0s())}function vi(d,T){1&d&&(e.j41(0,"span"),e.EFF(1,"Envoi en cours..."),e.k0s())}function ua(d,T){if(1&d){const s=e.RV6();e.j41(0,"form",9),e.bIt("ngSubmit",function(){e.eBV(s);const c=e.XpG();return e.Njj(c.onSubmit())}),e.j41(1,"div")(2,"label",10),e.EFF(3,"Adresse e-mail"),e.k0s(),e.nrm(4,"input",11),e.DNE(5,vo,3,2,"div",12),e.k0s(),e.j41(6,"div")(7,"button",13),e.DNE(8,qi,2,0,"span",14)(9,vi,2,0,"span",14),e.k0s()()()}if(2&d){let s,f;const c=e.XpG();e.Y8G("formGroup",c.passwordLostForm),e.R7$(4),e.Y8G("ngClass",e.l_i(6,rs,(null==(s=c.passwordLostForm.get("email"))?null:s.touched)&&(null==(s=c.passwordLostForm.get("email"))?null:s.invalid),!(null!=(s=c.passwordLostForm.get("email"))&&s.touched&&null!=(s=c.passwordLostForm.get("email"))&&s.invalid))),e.R7$(),e.Y8G("ngIf",(null==(f=c.passwordLostForm.get("email"))?null:f.touched)&&(null==(f=c.passwordLostForm.get("email"))?null:f.invalid)),e.R7$(2),e.Y8G("disabled",c.loading||c.passwordLostForm.invalid),e.R7$(),e.Y8G("ngIf",!c.loading),e.R7$(),e.Y8G("ngIf",c.loading)}}let js=(()=>{class d{fb;authService;passwordLostForm;loading=!1;successMessage=null;errorMessage=null;constructor(s,f){this.fb=s,this.authService=f,this.passwordLostForm=this.fb.group({email:["",[E.k0.required,E.k0.email]]})}onSubmit(){var s=this;return(0,Xe.A)(function*(){if(!s.passwordLostForm.invalid){s.loading=!0,s.successMessage=null,s.errorMessage=null;try{const f=s.passwordLostForm.value.email,c=yield(0,cr.s)(s.authService.sendPasswordResetEmail(f));c&&c.error?s.errorMessage="Une erreur est survenue. Veuillez v\xe9rifier l'adresse e-mail et r\xe9essayer.":s.successMessage="Si un compte est associ\xe9 \xe0 cette adresse, un e-mail de r\xe9initialisation a \xe9t\xe9 envoy\xe9."}finally{s.loading=!1}}})()}static \u0275fac=function(f){return new(f||d)(e.rXU(E.ok),e.rXU(Bn.u))};static \u0275cmp=e.VBU({type:d,selectors:[["app-account-password-lost"]],standalone:!0,features:[e.aNF],decls:8,vars:3,consts:[[1,"max-w-md","mx-auto","bg-white","p-8","rounded-lg","shadow-md","mt-10"],[1,"text-2xl","font-bold","text-center","text-gray-800","mb-6"],[1,"text-center","text-gray-600","mb-6"],["class","bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4","role","alert",4,"ngIf"],["class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4","role","alert",4,"ngIf"],["class","space-y-6",3,"formGroup","ngSubmit",4,"ngIf"],["role","alert",1,"bg-green-100","border","border-green-400","text-green-700","px-4","py-3","rounded","relative","mb-4"],[1,"block","sm:inline"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative","mb-4"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","email","formControlName","email",1,"mt-1","block","w-full","px-3","py-2","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["class","text-red-600 text-sm mt-1",4,"ngIf"],["type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","disabled:bg-gray-400","disabled:cursor-not-allowed",3,"disabled"],[4,"ngIf"],[1,"text-red-600","text-sm","mt-1"]],template:function(f,c){1&f&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2,"Mot de passe perdu ?"),e.k0s(),e.j41(3,"p",2),e.EFF(4,"Entrez votre adresse e-mail et nous vous enverrons un lien pour r\xe9initialiser votre mot de passe."),e.k0s(),e.DNE(5,ys,3,1,"div",3)(6,la,3,1,"div",4)(7,ua,10,9,"form",5),e.k0s()),2&f&&(e.R7$(5),e.Y8G("ngIf",c.successMessage),e.R7$(),e.Y8G("ngIf",c.errorMessage),e.R7$(),e.Y8G("ngIf",!c.successMessage))},dependencies:[S.MD,S.YU,S.bT,E.X1,E.qT,E.me,E.BC,E.cb,E.j4,E.JD],encapsulation:2})}return d})(),Ai=(()=>{class d{static \u0275fac=function(f){return new(f||d)};static \u0275cmp=e.VBU({type:d,selectors:[["app-account-password-reset"]],standalone:!0,features:[e.aNF],decls:2,vars:0,template:function(f,c){1&f&&(e.j41(0,"p"),e.EFF(1,"account-password-reset works!"),e.k0s())}})}return d})();function _i(d,T){1&d&&(e.j41(0,"div"),e.EFF(1,"Le mot de passe est requis."),e.k0s())}function za(d,T){1&d&&(e.j41(0,"div"),e.EFF(1,"Le mot de passe doit contenir au moins 6 caract\xe8res."),e.k0s())}function Wa(d,T){if(1&d&&(e.j41(0,"div",17),e.DNE(1,_i,2,0,"div",18)(2,za,2,0,"div",18),e.k0s()),2&d){let s,f;const c=e.XpG();e.R7$(),e.Y8G("ngIf",null==(s=c.updatePasswordForm.get("password"))||null==s.errors?null:s.errors.required),e.R7$(),e.Y8G("ngIf",null==(f=c.updatePasswordForm.get("password"))||null==f.errors?null:f.errors.minlength)}}function ca(d,T){1&d&&(e.j41(0,"div",17),e.EFF(1," Les mots de passe ne correspondent pas. "),e.k0s())}function yi(d,T){if(1&d&&(e.j41(0,"div",19)(1,"div",20)(2,"div",21),e.qSk(),e.j41(3,"svg",22),e.nrm(4,"path",23),e.k0s()(),e.joV(),e.j41(5,"div",24)(6,"h3",25),e.EFF(7),e.k0s()()()()),2&d){const s=e.XpG();e.R7$(7),e.JRh(s.errorMessage)}}function Ya(d,T){if(1&d&&(e.j41(0,"div",26)(1,"div",20)(2,"div",21),e.qSk(),e.j41(3,"svg",27),e.nrm(4,"path",28),e.k0s()(),e.joV(),e.j41(5,"div",24)(6,"h3",29),e.EFF(7),e.k0s()()()()),2&d){const s=e.XpG();e.R7$(7),e.JRh(s.successMessage)}}function os(d,T){1&d&&(e.j41(0,"span",30),e.qSk(),e.j41(1,"svg",31),e.nrm(2,"circle",32)(3,"path",33),e.k0s()())}let ii=(()=>{class d{fb;authService;router;updatePasswordForm;loading=!1;successMessage=null;errorMessage=null;constructor(s,f,c){this.fb=s,this.authService=f,this.router=c,this.updatePasswordForm=this.fb.group({password:["",[E.k0.required,E.k0.minLength(6)]],confirmPassword:["",[E.k0.required]]},{validators:this.passwordMatchValidator})}passwordMatchValidator(s){return s.get("password")?.value===s.get("confirmPassword")?.value?null:{mismatch:!0}}onSubmit(){var s=this;return(0,Xe.A)(function*(){if(!s.updatePasswordForm.invalid){s.loading=!0,s.successMessage=null,s.errorMessage=null;try{const f=s.updatePasswordForm.value.password,c=yield(0,cr.s)(s.authService.updatePassword(f));c.error?(s.errorMessage="Une erreur est survenue lors de la mise \xe0 jour du mot de passe. Veuillez r\xe9essayer.",console.error(c.error)):(s.successMessage="Votre mot de passe a \xe9t\xe9 mis \xe0 jour avec succ\xe8s. Vous allez \xeatre redirig\xe9 vers la page de connexion.",setTimeout(()=>{s.router.navigate(["/login"])},3e3))}catch(f){s.errorMessage="Une erreur inattendue est survenue.",console.error(f)}finally{s.loading=!1}}})()}static \u0275fac=function(f){return new(f||d)(e.rXU(E.ok),e.rXU(Bn.u),e.rXU(te.Ix))};static \u0275cmp=e.VBU({type:d,selectors:[["app-update-password"]],standalone:!0,features:[e.aNF],decls:27,vars:7,consts:[[1,"min-h-screen","bg-gray-50","flex","flex-col","justify-center","py-12","sm:px-6","lg:px-8"],[1,"sm:mx-auto","sm:w-full","sm:max-w-md"],[1,"mt-6","text-center","text-3xl","font-extrabold","text-gray-900"],[1,"mt-2","text-center","text-sm","text-gray-600"],[1,"mt-8","sm:mx-auto","sm:w-full","sm:max-w-md"],[1,"bg-white","py-8","px-4","shadow","sm:rounded-lg","sm:px-10"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],[1,"mt-1"],["id","password","type","password","formControlName","password","required","",1,"appearance-none","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","placeholder-gray-400","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["class","text-red-600 text-xs mt-1",4,"ngIf"],["for","confirmPassword",1,"block","text-sm","font-medium","text-gray-700"],["id","confirmPassword","type","password","formControlName","confirmPassword","required","",1,"appearance-none","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","placeholder-gray-400","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["class","rounded-md bg-red-50 p-4",4,"ngIf"],["class","rounded-md bg-green-50 p-4",4,"ngIf"],["type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],["class","mr-2",4,"ngIf"],[1,"text-red-600","text-xs","mt-1"],[4,"ngIf"],[1,"rounded-md","bg-red-50","p-4"],[1,"flex"],[1,"flex-shrink-0"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5","text-red-400"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"],[1,"ml-3"],[1,"text-sm","font-medium","text-red-800"],[1,"rounded-md","bg-green-50","p-4"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5","text-green-400"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"],[1,"text-sm","font-medium","text-green-800"],[1,"mr-2"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-4","w-4","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(f,c){if(1&f&&(e.j41(0,"div",0)(1,"div",1)(2,"h2",2),e.EFF(3," Nouveau mot de passe "),e.k0s(),e.j41(4,"p",3),e.EFF(5," Veuillez saisir votre nouveau mot de passe ci-dessous. "),e.k0s()(),e.j41(6,"div",4)(7,"div",5)(8,"form",6),e.bIt("ngSubmit",function(){return c.onSubmit()}),e.j41(9,"div")(10,"label",7),e.EFF(11," Nouveau mot de passe "),e.k0s(),e.j41(12,"div",8),e.nrm(13,"input",9),e.k0s(),e.DNE(14,Wa,3,2,"div",10),e.k0s(),e.j41(15,"div")(16,"label",11),e.EFF(17," Confirmer le mot de passe "),e.k0s(),e.j41(18,"div",8),e.nrm(19,"input",12),e.k0s(),e.DNE(20,ca,2,0,"div",10),e.k0s(),e.DNE(21,yi,8,1,"div",13)(22,Ya,8,1,"div",14),e.j41(23,"div")(24,"button",15),e.DNE(25,os,4,0,"span",16),e.EFF(26," Mettre \xe0 jour le mot de passe "),e.k0s()()()()()()),2&f){let O,se;e.R7$(8),e.Y8G("formGroup",c.updatePasswordForm),e.R7$(6),e.Y8G("ngIf",(null==(O=c.updatePasswordForm.get("password"))?null:O.touched)&&(null==(O=c.updatePasswordForm.get("password"))?null:O.invalid)),e.R7$(6),e.Y8G("ngIf",c.updatePasswordForm.hasError("mismatch")&&(null==(se=c.updatePasswordForm.get("confirmPassword"))?null:se.touched)),e.R7$(),e.Y8G("ngIf",c.errorMessage),e.R7$(),e.Y8G("ngIf",c.successMessage),e.R7$(2),e.Y8G("disabled",c.updatePasswordForm.invalid||c.loading),e.R7$(),e.Y8G("ngIf",c.loading)}},dependencies:[S.MD,S.bT,E.X1,E.qT,E.me,E.BC,E.cb,E.YS,E.j4,E.JD,te.iI],encapsulation:2})}return d})();var Ni=D(5964),Xa=D(6697);const L=(d,T)=>({"bg-red-100 text-red-700":d,"bg-green-100 text-green-700":T});function x(d,T){if(1&d&&(e.j41(0,"div",21),e.EFF(1),e.k0s()),2&d){const s=e.XpG();e.Y8G("ngClass",e.l_i(2,L,!s.submissionStatus.success,s.submissionStatus.success)),e.R7$(),e.SpI(" ",s.submissionStatus.message," ")}}let P=(()=>{class d{fb;router;dbConnectService;platformId;accountForm;preneurData;submissionStatus=null;constructor(s,f,c,O){this.fb=s,this.router=f,this.dbConnectService=c,this.platformId=O,this.accountForm=this.fb.group({nom:[{value:"",disabled:!0},E.k0.required],prenom:[{value:"",disabled:!0},E.k0.required],email:[{value:"",disabled:!0},[E.k0.required,E.k0.email]],permis:[{value:"",disabled:!0},E.k0.required],password:["",[E.k0.required,E.k0.minLength(8)]]})}ngOnInit(){if((0,S.UE)(this.platformId)){const s=this.router.getCurrentNavigation();this.preneurData=s?.extras?.state?.preneurData,this.preneurData?this.accountForm.patchValue({nom:this.preneurData.nom,prenom:this.preneurData.prenom,email:this.preneurData.email,permis:this.preneurData.permis}):(console.warn("Aucune donn\xe9e de preneur re\xe7ue. Redirection vers le formulaire auto."),this.router.navigate(["/particulier/auto"]))}}onSubmit(){if(this.accountForm.invalid)return void(this.submissionStatus={success:!1,message:"Veuillez choisir un mot de passe valide."});const s=this.accountForm.getRawValue();this.dbConnectService.createUser({nom:s.nom,prenom:s.prenom,email:s.email,permis:s.permis,password:s.password,dateNaissance:this.preneurData.dateNaissance,telephone:this.preneurData.telephone,adresse:this.preneurData.adresse,codePostal:this.preneurData.codePostal,ville:this.preneurData.ville,genre:this.preneurData.genre,datePermis:this.preneurData.datePermis}).subscribe({next:c=>{this.submissionStatus={success:!0,message:"Votre compte a \xe9t\xe9 cr\xe9\xe9 avec succ\xe8s ! Vous allez \xeatre redirig\xe9."}},error:c=>{this.submissionStatus={success:!1,message:"Une erreur est survenue lors de la cr\xe9ation du compte."},console.error(c)}})}static \u0275fac=function(f){return new(f||d)(e.rXU(E.ok),e.rXU(te.Ix),e.rXU(_t.y),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:d,selectors:[["app-createuseraccount"]],standalone:!0,features:[e.aNF],decls:37,vars:3,consts:[[1,"max-w-4xl","mx-auto","p-6","bg-white","rounded-lg","shadow-md"],[1,"text-3xl","font-bold","text-gray-800","mb-6","border-b","pb-4"],[1,"mb-6","text-gray-600"],["class","p-4 mb-4 text-sm rounded-lg",3,"ngClass",4,"ngIf"],["novalidate","",3,"ngSubmit","formGroup"],[1,"mb-8","p-4","border","rounded-md"],[1,"text-xl","font-semibold","text-gray-700","px-2"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6","mt-4"],["for","nom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","nom","formControlName","nom",1,"mt-1","block","w-full","px-3","py-2","bg-gray-100","border","border-gray-300","rounded-md","shadow-sm","cursor-not-allowed"],["for","prenom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","prenom","formControlName","prenom",1,"mt-1","block","w-full","px-3","py-2","bg-gray-100","border","border-gray-300","rounded-md","shadow-sm","cursor-not-allowed"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","email","formControlName","email",1,"mt-1","block","w-full","px-3","py-2","bg-gray-100","border","border-gray-300","rounded-md","shadow-sm","cursor-not-allowed"],["for","permis",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","permis","formControlName","permis",1,"mt-1","block","w-full","px-3","py-2","bg-gray-100","border","border-gray-300","rounded-md","shadow-sm","cursor-not-allowed"],[1,"mt-4"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],["type","password","id","password","formControlName","password",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-blue-500","focus:border-blue-500"],[1,"flex","justify-end"],["type","submit",1,"inline-flex","justify-center","py-2","px-4","border","border-transparent","shadow-sm","text-sm","font-medium","rounded-md","text-white","bg-blue-600","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","disabled:bg-gray-400",3,"disabled"],[1,"p-4","mb-4","text-sm","rounded-lg",3,"ngClass"]],template:function(f,c){1&f&&(e.j41(0,"div",0)(1,"h1",1),e.EFF(2,"Cr\xe9ation de votre compte"),e.k0s(),e.j41(3,"p",2),e.EFF(4," Pour finaliser votre demande de devis et acc\xe9der \xe0 votre espace personnel, veuillez cr\xe9er un compte. Vos informations personnelles ont \xe9t\xe9 pr\xe9-remplies pour vous faciliter la t\xe2che. "),e.k0s(),e.DNE(5,x,2,5,"div",3),e.j41(6,"form",4),e.bIt("ngSubmit",function(){return c.onSubmit()}),e.j41(7,"fieldset",5)(8,"legend",6),e.EFF(9,"Informations personnelles"),e.k0s(),e.j41(10,"div",7)(11,"div")(12,"label",8),e.EFF(13,"Nom"),e.k0s(),e.nrm(14,"input",9),e.k0s(),e.j41(15,"div")(16,"label",10),e.EFF(17,"Pr\xe9nom"),e.k0s(),e.nrm(18,"input",11),e.k0s(),e.j41(19,"div")(20,"label",12),e.EFF(21,"Adresse e-mail"),e.k0s(),e.nrm(22,"input",13),e.k0s(),e.j41(23,"div")(24,"label",14),e.EFF(25,"Num\xe9ro de permis"),e.k0s(),e.nrm(26,"input",15),e.k0s()()(),e.j41(27,"fieldset",5)(28,"legend",6),e.EFF(29,"S\xe9curit\xe9 du compte"),e.k0s(),e.j41(30,"div",16)(31,"label",17),e.EFF(32,"Choisissez un mot de passe"),e.k0s(),e.nrm(33,"input",18),e.k0s()(),e.j41(34,"div",19)(35,"button",20),e.EFF(36," Cr\xe9er mon compte et voir mon devis "),e.k0s()()()()),2&f&&(e.R7$(5),e.Y8G("ngIf",c.submissionStatus),e.R7$(),e.Y8G("formGroup",c.accountForm),e.R7$(29),e.Y8G("disabled",c.accountForm.invalid))},dependencies:[S.MD,S.YU,S.bT,E.X1,E.qT,E.me,E.BC,E.cb,E.j4,E.JD],encapsulation:2})}return d})();var J=D(9172);const Oe=()=>[1,2,3,4,5];function qe(d,T){1&d&&e.nrm(0,"div",8)}function dt(d,T){1&d&&(e.j41(0,"div",6),e.DNE(1,qe,1,0,"div",7),e.k0s()),2&d&&(e.R7$(),e.Y8G("ngForOf",e.lJ4(1,Oe)))}function dn(d,T){if(1&d&&(e.j41(0,"div",9)(1,"p"),e.EFF(2,"\u274c Une erreur est survenue lors du chargement des devis."),e.k0s(),e.j41(3,"small"),e.EFF(4),e.k0s()()),2&d){const s=e.XpG().ngIf;e.R7$(4),e.JRh((null==s.error?null:s.error.message)||s.error)}}function Sn(d,T){1&d&&(e.j41(0,"div",10)(1,"p"),e.EFF(2,"Aucun devis disponible pour le moment."),e.k0s()())}function kn(d,T){if(1&d){const s=e.RV6();e.j41(0,"div",14)(1,"div",15)(2,"div")(3,"h3"),e.EFF(4),e.k0s(),e.j41(5,"span"),e.nI1(6,"lowercase"),e.EFF(7),e.k0s()()(),e.j41(8,"div",16)(9,"p")(10,"strong"),e.EFF(11,"Preneur :"),e.k0s(),e.EFF(12),e.k0s(),e.j41(13,"p")(14,"strong"),e.EFF(15,"Date demande :"),e.k0s(),e.EFF(16),e.nI1(17,"date"),e.k0s()(),e.j41(18,"div",17)(19,"button",18),e.bIt("click",function(){const c=e.eBV(s).$implicit,O=e.XpG(3);return e.Njj(O.viewDetails(c.type,c.id))}),e.EFF(20,"Voir d\xe9tails"),e.k0s()()()}if(2&d){const s=T.$implicit;e.R7$(4),e.SpI("Devis Auto #",s.id,""),e.R7$(),e.ZvI("status status-",e.bMT(6,8,s.statut),""),e.R7$(2),e.SpI(" ",s.statut," "),e.R7$(5),e.Lme(" ",s.prenom," ",s.nom,""),e.R7$(4),e.SpI(" ",e.i5U(17,10,s.dateDemande,"dd/MM/yyyy \xe0 HH:mm"),"")}}function on(d,T){if(1&d&&(e.j41(0,"div",11)(1,"h2",12),e.EFF(2,"\u{1f4c1} Derniers devis automobile"),e.k0s(),e.DNE(3,kn,21,13,"div",13),e.k0s()),2&d){const s=e.XpG().ngIf;e.R7$(3),e.Y8G("ngForOf",s.data)}}function Pn(d,T){if(1&d&&(e.qex(0),e.DNE(1,dt,2,2,"div",2)(2,dn,5,1,"div",3)(3,Sn,3,0,"div",4)(4,on,4,1,"div",5),e.bVm()),2&d){const s=T.ngIf;e.R7$(),e.Y8G("ngIf",s.loading),e.R7$(),e.Y8G("ngIf",s.error),e.R7$(),e.Y8G("ngIf",!(s.loading||s.error||s.data&&0!==s.data.length)),e.R7$(),e.Y8G("ngIf",s.data&&s.data.length>0)}}let gt=(()=>{class d{router=(0,e.WQX)(te.Ix);platformId=(0,e.WQX)(e.Agw);dbConnectService=(0,e.WQX)(_t.y);quotes$=(0,K.of)({data:null,loading:!0,error:null});ngOnInit(){if((0,S.UE)(this.platformId)){const O=this.dbConnectService.getAllAutoQuotes("",1,10);this.quotes$=this.fetchData(O).pipe((0,J.Z)({data:null,loading:!0,error:null}))}else this.quotes$=(0,K.of)({data:[],loading:!1,error:null})}fetchData(s){return s.pipe((0,ve.T)(f=>(console.log("[DashboardComponent] fetchData rawData:",f.data),{data:f.data.map(c=>({id:c.id,nom:c.preneur?.nom??"N/A",prenom:c.preneur?.prenom??"",dateDemande:c.created_at,statut:c.statut||"Nouveau",type:"automobile"})),loading:!1,error:null})),(0,Q.W)(f=>(console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es pour le dashboard:",f),(0,K.of)({data:null,loading:!1,error:f}))))}viewDetails(s,f){s&&this.router.navigate([`/intranet/gestion-${s}`,f])}static \u0275fac=function(f){return new(f||d)};static \u0275cmp=e.VBU({type:d,selectors:[["app-dashboard"]],standalone:!0,features:[e.aNF],decls:3,vars:3,consts:[[1,"dashboard-container"],[4,"ngIf"],["class","loading-section",4,"ngIf"],["class","error-box",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","quotes-list",4,"ngIf"],[1,"loading-section"],["class","skeleton-card",4,"ngFor","ngForOf"],[1,"skeleton-card"],[1,"error-box"],[1,"empty-state"],[1,"quotes-list"],[1,"section-title"],["class","quote-card",4,"ngFor","ngForOf"],[1,"quote-card"],[1,"card-header"],[1,"card-body"],[1,"card-footer"],[3,"click"]],template:function(f,c){1&f&&(e.j41(0,"div",0),e.DNE(1,Pn,5,4,"ng-container",1),e.nI1(2,"async"),e.k0s()),2&f&&(e.R7$(),e.Y8G("ngIf",e.bMT(2,1,c.quotes$)))},dependencies:[S.MD,S.Sq,S.bT,S.Jj,S.GH,S.vh],styles:[".dashboard-container[_ngcontent-%COMP%]{padding:20px;max-width:900px;margin:auto;font-family:Arial,sans-serif}.section-title[_ngcontent-%COMP%]{margin-bottom:20px;font-size:22px;font-weight:700}.contracts-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.contract-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:10px;padding:15px;background:#fafafa;box-shadow:0 2px 4px #0000000d}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px}.status[_ngcontent-%COMP%]{padding:4px 8px;border-radius:6px;font-size:12px;margin-left:10px;color:#fff}.status.actif[_ngcontent-%COMP%]{background:#2ecc71}.status.expire[_ngcontent-%COMP%]{background:#e67e22}.status.annule[_ngcontent-%COMP%]{background:#e74c3c}.card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0}.card-footer[_ngcontent-%COMP%]{margin-top:10px}button[_ngcontent-%COMP%]{background:#3498db;border:none;padding:8px 14px;border-radius:6px;color:#fff;cursor:pointer}button[_ngcontent-%COMP%]:hover{background:#2980b9}.error-box[_ngcontent-%COMP%]{border:1px solid #e74c3c;background:#fdecea;padding:15px;border-radius:8px;color:#c0392b;margin-bottom:20px}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:30px;color:#666}.skeleton-card[_ngcontent-%COMP%]{height:90px;border-radius:8px;background:linear-gradient(90deg,#e0e0e0,#f5f5f5,#e0e0e0);background-size:200%;animation:_ngcontent-%COMP%_loading 1.2s infinite;margin-bottom:10px}@keyframes _ngcontent-%COMP%_loading{0%{background-position:200% 0}to{background-position:-200% 0}}"]})}return d})(),We=(()=>{class d{dbConnectService;constructor(s){this.dbConnectService=s}getAutoRequests(s,f,c){return this.dbConnectService.getAllAutoQuotes(s,f,c).pipe((0,ve.T)(O=>(console.log("[AutoManagementService] Donn\xe9es brutes re\xe7ues:",O.data),{data:O.data.map(se=>this.transformToAutoRequest(se)),count:O.count})),(0,Q.W)(O=>(console.error("[AutoManagementService] Erreur lors de la r\xe9cup\xe9ration des demandes auto:",O),(0,K.of)({data:[],count:0}))))}transformToAutoRequest(s){return{id:s.id,nom:s.preneur?.nom??"N/A",prenom:s.preneur?.prenom??"",dateDemande:s.created_at,statut:this.normalizeStatus(s.statut)}}normalizeStatus(s){return s&&["Nouveau","En cours","Trait\xe9"].includes(s)?s:"Nouveau"}static \u0275fac=function(f){return new(f||d)(e.KVO(_t.y))};static \u0275prov=e.jDH({token:d,factory:d.\u0275fac})}return d})();const vt=(d,T,s)=>({"bg-blue-100 text-blue-800":d,"bg-yellow-100 text-yellow-800":T,"bg-green-100 text-green-800":s});function mn(d,T){if(1&d){const s=e.RV6();e.j41(0,"tr",20)(1,"td",21),e.EFF(2),e.k0s(),e.j41(3,"td",22),e.EFF(4),e.k0s(),e.j41(5,"td",22),e.EFF(6),e.nI1(7,"date"),e.k0s(),e.j41(8,"td",23)(9,"span",24),e.EFF(10),e.k0s()(),e.j41(11,"td",25)(12,"button",26),e.bIt("click",function(){const c=e.eBV(s).$implicit,O=e.XpG();return e.Njj(O.viewDetails(c.id))}),e.EFF(13,"Voir / Modifier"),e.k0s()()()}if(2&d){const s=T.$implicit;e.R7$(2),e.JRh(s.id),e.R7$(2),e.Lme("",s.prenom," ",s.nom,""),e.R7$(2),e.JRh(e.i5U(7,6,s.dateDemande,"dd/MM/yyyy")),e.R7$(3),e.Y8G("ngClass",e.sMw(9,vt,"Nouveau"===s.statut,"En cours"===s.statut,"Trait\xe9"===s.statut)),e.R7$(),e.SpI(" ",s.statut," ")}}let yr=(()=>{class d{router;autoManagementService;paginatedRequests=[];currentPage=1;itemsPerPage=10;totalPages=1;totalItems=0;searchTerm="";constructor(s,f){this.router=s,this.autoManagementService=f}ngOnInit(){this.loadRequests()}loadRequests(){this.autoManagementService.getAutoRequests(this.searchTerm,this.currentPage,this.itemsPerPage).subscribe(s=>{this.paginatedRequests=s.data,this.totalItems=s.count||0,this.totalPages=s.count?Math.ceil(s.count/this.itemsPerPage):1})}setPage(s){s<1||s>this.totalPages||s===this.currentPage||(this.currentPage=s,this.loadRequests())}get pages(){return Array.from({length:this.totalPages},(s,f)=>f+1)}viewDetails(s){this.router.navigate(["/assurance_auto",s])}static \u0275fac=function(f){return new(f||d)(e.rXU(te.Ix),e.rXU(We))};static \u0275cmp=e.VBU({type:d,selectors:[["app-auto-management"]],standalone:!0,features:[e.aNF],decls:42,vars:6,consts:[[1,"p-4","sm:p-8","bg-gray-50","min-h-screen"],[1,"flex","justify-between","items-center","mb-8"],[1,"text-2xl","sm:text-3xl","font-bold","text-gray-900"],["routerLink","/intranet/dashboard",1,"text-sm","font-semibold","text-indigo-600","hover:text-indigo-800"],[1,"bg-white","shadow-sm","rounded-lg","overflow-hidden"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],["scope","col",1,"relative","px-6","py-3"],[1,"sr-only"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-gray-50",4,"ngFor","ngForOf"],["aria-label","Pagination",1,"bg-white","px-4","py-3","flex","items-center","justify-between","border-t","border-gray-200","sm:px-6"],[1,"hidden","sm:block"],[1,"text-sm","text-gray-700"],[1,"font-medium"],[1,"flex-1","flex","justify-between","sm:justify-end"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","text-sm","font-medium","rounded-md","text-gray-700","bg-white","hover:bg-gray-50","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"ml-3","relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","text-sm","font-medium","rounded-md","text-gray-700","bg-white","hover:bg-gray-50","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"hover:bg-gray-50"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-500"],[1,"px-6","py-4","whitespace-nowrap","text-sm"],[1,"px-2","inline-flex","text-xs","leading-5","font-semibold","rounded-full",3,"ngClass"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium"],[1,"text-indigo-600","hover:text-indigo-900",3,"click"]],template:function(f,c){1&f&&(e.j41(0,"div",0)(1,"div",1)(2,"h1",2),e.EFF(3,"Gestion des Assurances Auto"),e.k0s(),e.j41(4,"a",3),e.EFF(5,"\u2190 Retour au tableau de bord"),e.k0s()(),e.j41(6,"div",4)(7,"div",5)(8,"table",6)(9,"thead",7)(10,"tr")(11,"th",8),e.EFF(12,"ID"),e.k0s(),e.j41(13,"th",8),e.EFF(14,"Nom Complet"),e.k0s(),e.j41(15,"th",8),e.EFF(16,"Date de la demande"),e.k0s(),e.j41(17,"th",8),e.EFF(18,"Statut"),e.k0s(),e.j41(19,"th",9)(20,"span",10),e.EFF(21,"Actions"),e.k0s()()()(),e.j41(22,"tbody",11),e.DNE(23,mn,14,13,"tr",12),e.k0s()()(),e.j41(24,"nav",13)(25,"div",14)(26,"p",15),e.EFF(27," Affichage de "),e.j41(28,"span",16),e.EFF(29),e.k0s(),e.EFF(30," \xe0 "),e.j41(31,"span",16),e.EFF(32),e.k0s(),e.EFF(33," sur "),e.j41(34,"span",16),e.EFF(35),e.k0s(),e.EFF(36," r\xe9sultats "),e.k0s()(),e.j41(37,"div",17)(38,"button",18),e.bIt("click",function(){return c.setPage(c.currentPage-1)}),e.EFF(39," Pr\xe9c\xe9dent "),e.k0s(),e.j41(40,"button",19),e.bIt("click",function(){return c.setPage(c.currentPage+1)}),e.EFF(41," Suivant "),e.k0s()()()()()),2&f&&(e.R7$(23),e.Y8G("ngForOf",c.paginatedRequests),e.R7$(6),e.JRh(c.paginatedRequests.length>0?(c.currentPage-1)*c.itemsPerPage+1:0),e.R7$(3),e.JRh((c.currentPage-1)*c.itemsPerPage+c.paginatedRequests.length),e.R7$(3),e.JRh(c.totalItems),e.R7$(3),e.Y8G("disabled",1===c.currentPage),e.R7$(2),e.Y8G("disabled",c.currentPage===c.totalPages))},dependencies:[S.MD,S.YU,S.Sq,S.vh,te.Wk,E.YN],encapsulation:2})}return d})();function On(d){if(!d)return"";let T=String(d).replace(/\D/g,"");T.startsWith("32")&&(T=T.substring(2)),T.startsWith("0")&&(T=T.substring(1));const s=T.substring(0,9);if(0===s.length)return"";let f="+32";return f+=" ",s.length>0&&(f+=s.substring(0,3)),s.length>3&&(f+=" ",f+=s.substring(3,5)),s.length>5&&(f+=" ",f+=s.substring(5,7)),s.length>7&&(f+=" ",f+=s.substring(7,9)),f}let dr=(()=>{class d{el;ngControl;constructor(s,f){this.el=s,this.ngControl=f}onInput(s){const f=s.target,O=On(f.value);f.value!==O&&(f.value=O,this.ngControl.control?.setValue(O,{emitEvent:!1}))}onBlur(){const s=this.el.nativeElement,f=On(s.value);"+32"===f||""===f?(s.value="",this.ngControl.control?.setValue("",{emitEvent:!1})):(s.value=f,this.ngControl.control?.setValue(f,{emitEvent:!1}))}static \u0275fac=function(f){return new(f||d)(e.rXU(e.aKT),e.rXU(E.vO))};static \u0275dir=e.FsC({type:d,selectors:[["","appPhoneNumberMask",""]],hostBindings:function(f,c){1&f&&e.bIt("input",function(se){return c.onInput(se)})("blur",function(){return c.onBlur()})},standalone:!0})}return d})();var ur=D(4412),_n=D(4572),jn=D(980),Ur=D(253),Nt=D(1364);let Es=(()=>{class d{platformId=(0,e.WQX)(e.Agw);db=(0,e.WQX)(_t.y);constructor(){}getAutoQuotesState(s,f,c){if((0,S.UE)(this.platformId)){const O=this.db.getAllAutoQuotes(s,f,c);return this.fetchAndMapAutoData(O)}return(0,K.of)({data:{quotes:[],totalItems:0},loading:!1,error:null})}getHabitationQuotesState(s,f,c){if((0,S.UE)(this.platformId)){const O=this.db.getAllHabitationQuotes(s,f,c);return this.fetchAndMapHabitationData(O)}return(0,K.of)({data:{quotes:[],totalItems:0},loading:!1,error:null})}getObsequesQuotesState(s,f,c){if((0,S.UE)(this.platformId)){const O=this.db.getAllObsequesQuotes(s,f,c);return this.fetchAndMapObsequesData(O)}return(0,K.of)({data:{quotes:[],totalItems:0},loading:!1,error:null})}getVoyageQuotesState(s,f,c){if((0,S.UE)(this.platformId)){const O=this.db.getAllVoyageQuotes().pipe((0,ve.T)(se=>({data:se,count:se.length})));return this.fetchAndMapVoyageData(O)}return(0,K.of)({data:{quotes:[],totalItems:0},loading:!1,error:null})}getRcQuotesState(s,f,c){return(0,S.UE)(this.platformId)?this.db.getAllRcQuotes().pipe((0,ve.T)(O=>({data:{quotes:O.map(se=>({preneur_id:se.preneur_id,id:se.id,nom:se.preneur_nom??null,prenom:se.preneur_prenom??null,dateDemande:se.created_at,statut:se.statut||"Nouveau",description:`Risque: ${se.risque}`})),totalItems:O.length},loading:!1,error:null})),(0,J.Z)({data:null,loading:!0,error:null}),(0,Q.W)(O=>(console.warn("[ManagementService] Erreur 500 probable dans 'getRcQuotesState'.","Erreur API:",O),(0,K.of)({data:null,loading:!1,error:O})))):(0,K.of)({data:{quotes:[],totalItems:0},loading:!1,error:null})}getEmptyState(){return(0,K.of)({data:{quotes:[],totalItems:0},loading:!1,error:null})}fetchAndMapVoyageData(s){return s.pipe((0,ve.T)(f=>({data:{quotes:f.data.map(c=>({preneur_id:c.preneur_id,id:c.id,nom:c.nom??null,prenom:c.prenom??null,dateDemande:c.date_created,statut:c.statut||"Nouveau",description:c.description||"Aucun message"})),totalItems:f.count??0},loading:!1,error:null})),(0,Q.W)(f=>(0,K.of)({data:null,loading:!1,error:f})),(0,J.Z)({data:null,loading:!0,error:null}))}fetchAndMapHabitationData(s){return s.pipe((0,ve.T)(f=>({data:{quotes:f.data.map(c=>({preneur_id:c.preneur_id,id:c.id,nom:c.preneur?.nom??null,prenom:c.preneur?.prenom??null,uid:c.preneur?.uid??null,dateDemande:c.created_at,statut:c.statut||"Nouveau",description:`${c.batiment_type_maison} - ${c.batiment_adresse}`})),totalItems:f.count??0},loading:!1,error:null})),(0,Q.W)(f=>(0,K.of)({data:null,loading:!1,error:f})),(0,J.Z)({data:null,loading:!0,error:null}))}fetchAndMapAutoData(s){return s.pipe((0,ve.T)(f=>(console.log("[ManagementService] Donn\xe9es brutes re\xe7ues de la DB:",f.data),{data:{quotes:f.data.map(c=>({id:c.id,preneur_id:c.preneur_id,conducteur_id:c.conducteur_id,nom:c.preneur?.nom??null,prenom:c.preneur?.prenom??null,uid:c.preneur?.uid??null,dateDemande:c.created_at,statut:c.statut||"Nouveau",typeVehicule:c.vehicules?.type??"",marqueVehicule:c.vehicules?.marque??"",modeleVehicule:`${c.vehicules?.modele??""} ${c.vehicules?.annee??""}`.trim()})),totalItems:f.count??0},loading:!1,error:null})),(0,Q.W)(f=>(console.error("Erreur lors de la r\xe9cup\xe9ration des devis dans ManagementService:",f),(0,K.of)({data:null,loading:!1,error:f}))),(0,J.Z)({data:null,loading:!0,error:null}))}fetchAndMapObsequesData(s){return s.pipe((0,ve.T)(f=>({data:{quotes:f.data.map(c=>({preneur_id:c.preneur_id,id:c.id,nom:c.preneur?.nom??null,prenom:c.preneur?.prenom??null,uid:c.preneur?.uid??null,dateDemande:c.created_at,statut:c.statut||"Nouveau",description:`Devis pour ${c.nombre_assures} personne(s)`})),totalItems:f.count??0},loading:!1,error:null})),(0,Q.W)(f=>(0,K.of)({data:null,loading:!1,error:f})),(0,J.Z)({data:null,loading:!0,error:null}))}static \u0275fac=function(f){return new(f||d)};static \u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})();const da=(d,T,s)=>({"bg-blue-100 text-blue-800":d,"bg-yellow-100 text-yellow-800":T,"bg-green-100 text-green-800":s}),lo=(d,T)=>["/management",d,T],Qn=(d,T,s)=>["/management/upload",d,T,s],is=(d,T)=>["/messagerie",d,T];function Cs(d,T){if(1&d){const s=e.RV6();e.j41(0,"button",17),e.nI1(1,"async"),e.bIt("click",function(){const c=e.eBV(s).$implicit,O=e.XpG();return e.Njj(O.setActiveTab(c.id))}),e.EFF(2),e.nI1(3,"titlecase"),e.k0s()}if(2&d){const s=T.$implicit,f=e.XpG();e.AVh("font-medium","professionnel"!==s.id)("font-bold","professionnel"===s.id),e.Y8G("ngClass",e.bMT(1,6,f.activeTab$)===s.id?"professionnel"===s.id?"border-purple-500 text-purple-600":"border-blue-500 text-blue-600":"professionnel"===s.id?"border-transparent text-purple-600 hover:text-purple-700 hover:border-gray-300":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.SpI(" ",e.bMT(3,8,s.label)," ")}}function Pi(d,T){1&d&&(e.j41(0,"div",22)(1,"p",23),e.EFF(2,"Aucun devis trouv\xe9 pour cette cat\xe9gorie ou correspondant \xe0 votre recherche."),e.k0s()())}function zi(d,T){1&d&&(e.qex(0),e.qSk(),e.j41(1,"svg",30),e.nrm(2,"path",40),e.k0s(),e.bVm())}function fa(d,T){1&d&&(e.qSk(),e.j41(0,"svg",53),e.nrm(1,"path",54),e.k0s())}function si(d,T){if(1&d){const s=e.RV6();e.j41(0,"span",55),e.bIt("click",function(){e.eBV(s);const c=e.XpG().$implicit,O=e.XpG(3);return e.Njj(O.openEditModal(c,c.conducteur_id))}),e.EFF(1," (Conducteur principal) "),e.qSk(),e.j41(2,"svg",56),e.nrm(3,"path",46),e.k0s()()}}function Ls(d,T){if(1&d&&(e.qex(0),e.EFF(1),e.nI1(2,"titlecase"),e.nI1(3,"titlecase"),e.nI1(4,"titlecase"),e.bVm()),2&d){const s=e.XpG().$implicit;e.R7$(),e.E5c(" ",e.bMT(2,3,s.typeVehicule)," ",e.bMT(3,5,s.marqueVehicule)," ",e.bMT(4,7,s.modeleVehicule)," ")}}function Oo(d,T){if(1&d&&(e.qex(0),e.EFF(1),e.bVm()),2&d){const s=e.XpG().$implicit;e.R7$(),e.SpI(" ",s.description," ")}}function Et(d,T){if(1&d){const s=e.RV6();e.j41(0,"tr",41)(1,"td",42),e.EFF(2),e.k0s(),e.j41(3,"td",43)(4,"div",29)(5,"div",44),e.bIt("click",function(){const c=e.eBV(s).$implicit,O=e.XpG(3);return e.Njj(O.openEditModal(c,c.preneur_id))}),e.qSk(),e.j41(6,"svg",45),e.nrm(7,"path",46),e.k0s(),e.DNE(8,fa,2,0,"svg",47),e.joV(),e.j41(9,"span"),e.EFF(10),e.nI1(11,"titlecase"),e.nI1(12,"titlecase"),e.k0s()(),e.DNE(13,si,4,0,"span",48),e.k0s()(),e.j41(14,"td",49),e.DNE(15,Ls,5,9,"ng-container",15)(16,Oo,2,1,"ng-container",15),e.k0s(),e.j41(17,"td",43),e.EFF(18),e.nI1(19,"date"),e.k0s(),e.j41(20,"td",43)(21,"span",50),e.EFF(22),e.k0s()(),e.j41(23,"td",51)(24,"a",52),e.nI1(25,"async"),e.EFF(26,"G\xe9rer"),e.k0s()(),e.j41(27,"td",51)(28,"a",52),e.nI1(29,"async"),e.EFF(30,"G\xe9rer"),e.k0s()(),e.j41(31,"td",51)(32,"a",52),e.nI1(33,"async"),e.EFF(34,"Acc\xe9der"),e.k0s()()()}if(2&d){const s=T.$implicit,f=e.XpG(3);e.R7$(2),e.SpI("#",s.id,""),e.R7$(6),e.Y8G("ngIf",s.uid),e.R7$(2),e.Lme("",e.bMT(11,13,s.prenom||"")," ",e.bMT(12,15,s.nom||""),""),e.R7$(3),e.Y8G("ngIf",f.isAutoQuote(s)&&s.preneur_id!==s.conducteur_id),e.R7$(2),e.Y8G("ngIf",f.isAutoQuote(s)),e.R7$(),e.Y8G("ngIf",f.isDescriptionQuote(s)),e.R7$(2),e.JRh(e.i5U(19,17,s.dateDemande,"dd/MM/yyyy HH:mm")),e.R7$(3),e.Y8G("ngClass",e.sMw(26,da,"Nouveau"===s.statut,"En cours"===s.statut||"En attente"===s.statut,"Termin\xe9"===s.statut)),e.R7$(),e.SpI(" ",s.statut||"Nouveau"," "),e.R7$(2),e.Y8G("routerLink",e.l_i(30,lo,e.bMT(25,20,f.activeTab$),s.id)),e.R7$(4),e.Y8G("routerLink",e.sMw(33,Qn,e.bMT(29,22,f.activeTab$),s.id,s.preneur_id)),e.R7$(4),e.Y8G("routerLink",e.l_i(37,is,e.bMT(33,24,f.activeTab$),s.id))}}function $s(d,T){if(1&d&&(e.j41(0,"div",24)(1,"table",25)(2,"thead",26)(3,"tr",27)(4,"th",28),e.EFF(5,"ID"),e.k0s(),e.j41(6,"th",28)(7,"div",29),e.qSk(),e.j41(8,"svg",30),e.nrm(9,"path",31),e.k0s(),e.EFF(10," Preneur "),e.k0s()(),e.joV(),e.j41(11,"th",28)(12,"div",29),e.DNE(13,zi,3,0,"ng-container",15),e.nI1(14,"async"),e.EFF(15),e.nI1(16,"async"),e.nI1(17,"titlecase"),e.k0s()(),e.j41(18,"th",28)(19,"div",29),e.qSk(),e.j41(20,"svg",30),e.nrm(21,"path",32),e.k0s(),e.EFF(22," Date "),e.k0s()(),e.joV(),e.j41(23,"th",28)(24,"div",29),e.qSk(),e.j41(25,"svg",30),e.nrm(26,"path",33)(27,"path",34),e.k0s(),e.EFF(28," Statut "),e.k0s()(),e.joV(),e.j41(29,"th",35)(30,"div",29),e.qSk(),e.j41(31,"svg",30),e.nrm(32,"path",36),e.k0s(),e.EFF(33," Offre "),e.k0s()(),e.joV(),e.j41(34,"th",35)(35,"div",29),e.qSk(),e.j41(36,"svg",30),e.nrm(37,"path",37),e.k0s(),e.EFF(38," Documents "),e.k0s()(),e.joV(),e.j41(39,"th",35)(40,"div",29),e.qSk(),e.j41(41,"svg",30),e.nrm(42,"path",38),e.k0s(),e.EFF(43," Interactions "),e.k0s()()()(),e.joV(),e.j41(44,"tbody"),e.DNE(45,Et,35,40,"tr",39),e.k0s()()()),2&d){const s=e.XpG().ngIf,f=e.XpG();e.R7$(13),e.Y8G("ngIf","auto"===e.bMT(14,3,f.activeTab$)),e.R7$(2),e.SpI(" ",e.bMT(17,7,"auto"===e.bMT(16,5,f.activeTab$)?"V\xe9hicule":"Description")," "),e.R7$(30),e.Y8G("ngForOf",s.state.data.quotes)}}function ws(d,T){if(1&d){const s=e.RV6();e.j41(0,"div",57)(1,"span",58),e.EFF(2," Page "),e.j41(3,"span",59),e.EFF(4),e.k0s(),e.EFF(5," sur "),e.j41(6,"span",59),e.EFF(7),e.k0s(),e.EFF(8),e.k0s(),e.j41(9,"div",60)(10,"button",61),e.bIt("click",function(){e.eBV(s);const c=e.XpG().ngIf,O=e.XpG();return e.Njj(O.goToPage(c.pagination.currentPage-1))}),e.EFF(11," Pr\xe9c\xe9dent "),e.k0s(),e.j41(12,"button",62),e.bIt("click",function(){e.eBV(s);const c=e.XpG().ngIf,O=e.XpG();return e.Njj(O.goToPage(c.pagination.currentPage+1))}),e.EFF(13," Suivant "),e.k0s()()()}if(2&d){const s=e.XpG().ngIf;e.R7$(4),e.JRh(s.pagination.currentPage),e.R7$(3),e.JRh(s.pagination.totalPages),e.R7$(),e.SpI(" (",s.pagination.totalItems," r\xe9sultats) "),e.R7$(2),e.Y8G("disabled",1===s.pagination.currentPage),e.R7$(2),e.Y8G("disabled",s.pagination.currentPage===s.pagination.totalPages)}}function bi(d,T){if(1&d&&(e.qex(0),e.j41(1,"app-state-container",18),e.DNE(2,Pi,3,0,"div",19)(3,$s,46,9,"div",20)(4,ws,14,5,"div",21),e.k0s(),e.bVm()),2&d){const s=T.ngIf;e.R7$(),e.Y8G("state",s.state),e.R7$(),e.Y8G("ngIf",!s.state.data||0===s.state.data.quotes.length),e.R7$(),e.Y8G("ngIf",s.state.data&&s.state.data.quotes.length>0),e.R7$(),e.Y8G("ngIf",s.pagination&&s.pagination.totalPages>1)}}function pa(d,T){1&d&&(e.j41(0,"div",109),e.EFF(1," Le format du num\xe9ro national est invalide. "),e.k0s())}function xs(d,T){1&d&&(e.j41(0,"div",109),e.EFF(1," La date de naissance ne correspond pas au num\xe9ro national. "),e.k0s())}function fr(d,T){if(1&d&&(e.j41(0,"option",110),e.EFF(1),e.k0s()),2&d){const s=T.$implicit;e.Y8G("value",s),e.R7$(),e.SpI(" ",s," ")}}function Vs(d,T){1&d&&(e.j41(0,"div",111),e.qSk(),e.j41(1,"svg",112),e.nrm(2,"circle",113)(3,"path",114),e.k0s()())}function Ar(d,T){if(1&d&&(e.j41(0,"option",110),e.EFF(1),e.k0s()),2&d){const s=T.$implicit;e.Y8G("value",s.id),e.R7$(),e.SpI(" ",s.nationality," ")}}function Br(d,T){if(1&d&&(e.qex(0),e.DNE(1,Ar,2,2,"option",98),e.bVm()),2&d){const s=T.ngIf;e.R7$(),e.Y8G("ngForOf",s)}}function ha(d,T){1&d&&(e.j41(0,"div",111),e.qSk(),e.j41(1,"svg",112),e.nrm(2,"circle",113)(3,"path",114),e.k0s()())}function Wi(d,T){1&d&&(e.qex(0),e.j41(1,"div",85)(2,"div",74)(3,"label",115),e.EFF(4,"Num\xe9ro de permis"),e.k0s(),e.nrm(5,"input",116),e.k0s(),e.j41(6,"div",74)(7,"label",117),e.EFF(8,"Date d'obtention permis"),e.k0s(),e.nrm(9,"input",118),e.k0s()(),e.bVm())}function Us(d,T){if(1&d){const s=e.RV6();e.j41(0,"div",63)(1,"div",64)(2,"button",65),e.bIt("click",function(){e.eBV(s);const c=e.XpG();return e.Njj(c.closeEditModal())}),e.j41(3,"span",66),e.EFF(4,"Fermer"),e.k0s(),e.qSk(),e.j41(5,"svg",67),e.nrm(6,"path",68),e.k0s()(),e.joV(),e.j41(7,"div",69)(8,"h3",70),e.EFF(9),e.k0s(),e.j41(10,"div",71)(11,"form",72),e.bIt("ngSubmit",function(){e.eBV(s);const c=e.XpG();return e.Njj(c.savePreneurChanges())}),e.j41(12,"div",73)(13,"div",74)(14,"label",75),e.EFF(15,"Pr\xe9nom"),e.k0s(),e.nrm(16,"input",76),e.k0s(),e.j41(17,"div",74)(18,"label",77),e.EFF(19,"Nom"),e.k0s(),e.nrm(20,"input",78),e.k0s()(),e.j41(21,"div",79)(22,"label",80),e.EFF(23,"Num\xe9ro National"),e.k0s(),e.nrm(24,"input",81),e.DNE(25,pa,2,0,"div",82),e.k0s(),e.j41(26,"div",79)(27,"label",83),e.EFF(28,"Email"),e.k0s(),e.nrm(29,"input",84),e.k0s(),e.j41(30,"div",85)(31,"div",74)(32,"label",86),e.EFF(33,"T\xe9l\xe9phone"),e.k0s(),e.nrm(34,"input",87),e.k0s(),e.j41(35,"div",74)(36,"label",88),e.EFF(37,"Date de naissance"),e.k0s(),e.nrm(38,"input",89),e.DNE(39,xs,2,0,"div",82),e.k0s()(),e.j41(40,"div",79)(41,"label",90),e.EFF(42,"Adresse"),e.k0s(),e.nrm(43,"input",91),e.k0s(),e.j41(44,"div",85)(45,"div",74)(46,"label",92),e.EFF(47,"Code Postal"),e.k0s(),e.nrm(48,"input",93),e.k0s(),e.j41(49,"div",74)(50,"label",94),e.EFF(51,"Ville"),e.k0s(),e.j41(52,"div",95)(53,"select",96),e.nI1(54,"async"),e.nI1(55,"async"),e.j41(56,"option",97),e.EFF(57),e.nI1(58,"async"),e.k0s(),e.DNE(59,fr,2,2,"option",98),e.nI1(60,"async"),e.k0s(),e.DNE(61,Vs,4,0,"div",99),e.nI1(62,"async"),e.k0s()()(),e.j41(63,"div",79)(64,"label",100),e.EFF(65,"Nationalit\xe9"),e.k0s(),e.j41(66,"div",95)(67,"select",101),e.nI1(68,"async"),e.j41(69,"option",97),e.EFF(70),e.nI1(71,"async"),e.k0s(),e.DNE(72,Br,2,1,"ng-container",15),e.nI1(73,"async"),e.k0s(),e.DNE(74,ha,4,0,"div",99),e.nI1(75,"async"),e.k0s()(),e.j41(76,"div",85)(77,"div",74)(78,"label",102),e.EFF(79,"N\xb0 carte d'identit\xe9"),e.k0s(),e.nrm(80,"input",103),e.k0s(),e.j41(81,"div",74)(82,"label",104),e.EFF(83,"Date de validit\xe9"),e.k0s(),e.nrm(84,"input",105),e.k0s()(),e.DNE(85,Wi,10,0,"ng-container",15),e.nI1(86,"async"),e.j41(87,"div",106)(88,"button",107),e.bIt("click",function(){e.eBV(s);const c=e.XpG();return e.Njj(c.closeEditModal())}),e.EFF(89," Annuler "),e.k0s(),e.j41(90,"button",108),e.EFF(91," Enregistrer "),e.k0s()()()()()()()}if(2&d){let s,f,c;const O=e.XpG();e.R7$(9),e.JRh(O.editModalTitle),e.R7$(2),e.Y8G("formGroup",O.preneurForm),e.R7$(14),e.Y8G("ngIf",(null==(s=O.preneurForm.get("numero_national"))?null:s.hasError("belgianNationalNumber"))&&(null==(s=O.preneurForm.get("numero_national"))?null:s.touched)),e.R7$(14),e.Y8G("ngIf",(null==(f=O.preneurForm.get("date_naissance"))?null:f.hasError("birthDateMismatch"))&&(null==(f=O.preneurForm.get("date_naissance"))?null:f.touched)),e.R7$(14),e.Y8G("disabled",0===(null==(c=e.bMT(54,14,O.citiesForPostalCode$))?null:c.length)||!0===e.bMT(55,16,O.isCitiesLoading$)),e.R7$(4),e.SpI(" ",e.bMT(58,18,O.isCitiesLoading$)?"Chargement...":"S\xe9lectionnez une ville"," "),e.R7$(2),e.Y8G("ngForOf",e.bMT(60,20,O.citiesForPostalCode$)),e.R7$(2),e.Y8G("ngIf",e.bMT(62,22,O.isCitiesLoading$)),e.R7$(6),e.Y8G("disabled",!0===e.bMT(68,24,O.isNationalitiesLoading$)),e.R7$(3),e.SpI(" ",e.bMT(71,26,O.isNationalitiesLoading$)?"Chargement...":"S\xe9lectionnez une nationalit\xe9"," "),e.R7$(2),e.Y8G("ngIf",e.bMT(73,28,O.nationalities$)),e.R7$(2),e.Y8G("ngIf",e.bMT(75,30,O.isNationalitiesLoading$)),e.R7$(11),e.Y8G("ngIf","auto"===e.bMT(86,32,O.activeTab$)),e.R7$(5),e.Y8G("disabled",O.preneurForm.invalid)}}let Ka=(()=>{class d{managementService;router;dbConnectService;fb;platformId;constructor(s,f,c,O,se){this.managementService=s,this.router=f,this.dbConnectService=c,this.fb=O,this.platformId=se}searchControl=new E.MJ("");tabs=[{id:"auto",label:"Automobile"},{id:"habitation",label:"Habitation"},{id:"obseques",label:"Obs\xe8ques"},{id:"rc",label:"RC Familiale"},{id:"voyage",label:"Voyage"},{id:"professionnel",label:"Professionnel"}];activeTab$=new ur.t("auto");itemsPerPage=20;currentPage$=new ur.t(1);vm$;destroy$=new ue.B;isEditModalOpen=!1;editModalTitle="";selectedQuoteForEdit=null;preneurForm;citiesForPostalCode$=(0,K.of)([]);nationalities$=(0,K.of)([]);isCitiesLoading$=new ur.t(!1);isNationalitiesLoading$=new ur.t(!1);showNotificationPopup=!1;notificationPopupTitle="";notificationPopupMessage="";ngOnInit(){if(this.initPreneurForm(),this.isNationalitiesLoading$.next(!0),this.nationalities$=this.dbConnectService.getNationalities().pipe((0,jn.j)(()=>this.isNationalitiesLoading$.next(!1)),(0,Ur.t)(1)),(0,S.UE)(this.platformId)){this.setupPostalCodeListener(),this.dbConnectService.initializeRealtimeSubscriptions(),this.dbConnectService.onNewQuote$.pipe((0,Ke.Q)(this.destroy$)).subscribe(f=>{const c=this.activeTab$.value;let O=!1;switch(f.table){case"devis_assurance":"auto"===c&&(O=!0);break;case"habitation_quotes":"habitation"===c&&(O=!0);break;case"obseques_quotes":"obseques"===c&&(O=!0);break;case"rc_familiale_quotes":"rc"===c&&(O=!0);break;case"assu_voyage":"voyage"===c&&(O=!0)}switch(O&&(console.log(`[ManagementComponent] Rafra\xeechissement de la vue suite \xe0 une nouvelle entr\xe9e dans ${f.table}`),this.refreshCurrentView()),this.notificationPopupTitle="Nouvelle demande re\xe7ue !",this.showNotificationPopup=!0,f.table){case"devis_assurance":this.notificationPopupMessage=`Nouvelle offre AUTO de ${f.data.prenom||"Client"} ${f.data.nom||""}`;break;case"habitation_quotes":this.notificationPopupMessage=`Nouvelle offre HABITATION pour ${f.data.batiment_ville||"une adresse"}`;break;case"obseques_quotes":this.notificationPopupMessage="Nouvelle demande OBS\xc8QUES re\xe7ue";break;default:this.notificationPopupMessage="Une nouvelle entr\xe9e a \xe9t\xe9 ajout\xe9e."}});const s=this.searchControl.valueChanges.pipe((0,J.Z)(""),Te(300),(0,$e.F)(),(0,ye.M)(()=>this.currentPage$.next(1)));this.vm$=(0,_n.z)([this.activeTab$,s,this.currentPage$]).pipe((0,Ye.n)(([f,c,O])=>{let se;switch(console.log(`[ManagementComponent] Fetching data for tab: '${f}', search: '${c}', page: ${O}`),f){case"auto":se=this.managementService.getAutoQuotesState(c||"",O,this.itemsPerPage);break;case"habitation":se=this.managementService.getHabitationQuotesState(c||"",O,this.itemsPerPage);break;case"obseques":se=this.managementService.getObsequesQuotesState(c||"",O,this.itemsPerPage);break;case"rc":se=this.managementService.getRcQuotesState(c||"",O,this.itemsPerPage);break;case"voyage":se=this.managementService.getVoyageQuotesState(c||"",O,this.itemsPerPage);break;case"professionnel":se=this.dbConnectService.getAllCompanies(c||"",O,this.itemsPerPage).pipe((0,ve.T)(ke=>({loading:!1,data:{quotes:ke.data.map(rt=>({id:rt.id,nom:rt.name,prenom:"",description:`${rt.legal_form} - ${rt.enterprise_number}`,dateDemande:rt.created_at,statut:"Enregistr\xe9"})),totalItems:ke.count||0},error:null})),(0,J.Z)({loading:!0,data:null,error:null}),(0,Q.W)(ke=>(0,K.of)({loading:!1,error:ke,data:null})));break;default:se=(0,K.of)({data:{quotes:[],totalItems:0},loading:!1,error:null})}return se.pipe((0,ve.T)(ke=>{if(ke.loading||ke.error||!ke.data)return{state:ke,pagination:null};const rt=ke.data.totalItems,Ft=Math.ceil(rt/this.itemsPerPage);return{state:ke,pagination:{currentPage:O,totalPages:Ft,totalItems:rt}}}))}),(0,Ke.Q)(this.destroy$))}else this.vm$=(0,K.of)({state:{data:{quotes:[],totalItems:0},loading:!0,error:null},pagination:null})}initPreneurForm(){this.preneurForm=this.fb.group({id:[null],prenom:["",E.k0.required],nom:["",E.k0.required],email:["",[E.k0.required,E.k0.email]],telephone:[""],date_naissance:[""],adresse:[""],code_postal:[""],ville:[""],nationality:[""],idcard_number:[""],idcard_validity:[""],numero_national:["",d=>{const T=d.value;if(!T)return null;const s=String(T).replace(/\D/g,"");if(11!==s.length)return{belgianNationalNumber:{invalidLength:!0}};const f=s.substring(0,9),c=parseInt(s.substring(9,11),10),O=97-parseInt(f,10)%97,se=97-parseInt("2"+f,10)%97;return c===O||c===se?null:{belgianNationalNumber:{invalidChecksum:!0}}}],permis_numero:[""],permis_date:[""]},{validators:d=>{if(!(d instanceof E.gE))return null;const T=d.get("numero_national"),s=d.get("date_naissance");if(!T||!s||!T.value||!s.value||T.errors)return null;const f=String(T.value).replace(/\D/g,""),c=s.value;if(11!==f.length)return null;const O=f.substring(0,9);return`${(parseInt(f.substring(9,11),10)===97-parseInt("2"+O,10)%97?"20":"19")+f.substring(0,2)}-${f.substring(2,4)}-${f.substring(4,6)}`!==c&&s.setErrors({...s.errors,birthDateMismatch:!0}),null}})}setupPostalCodeListener(){const s=this.preneurForm.get("code_postal");s&&(this.citiesForPostalCode$=s.valueChanges.pipe((0,J.Z)(s.value),Te(300),(0,$e.F)(),(0,Ye.n)(f=>f&&/^\d{4}$/.test(f)?(this.isCitiesLoading$.next(!0),this.dbConnectService.getCitiesByPostalCode(f).pipe((0,ye.M)(c=>{1===c.length&&this.preneurForm.get("ville")?.setValue(c[0]),this.isCitiesLoading$.next(!1)}))):(0,K.of)([])),(0,Ur.t)(1)))}logout(){this.router.navigate(["/"])}goToPage(s){this.currentPage$.next(s)}setActiveTab(s){console.log(`[ManagementComponent] Setting active tab to: '${s}'`),this.activeTab$.next(s)}viewDetails(s){const f=this.activeTab$.value;console.log(`[ManagementComponent] Navigating to details for ID: ${s} with type: '${f}' using new route.`),this.router.navigate(["/assurance-details",f,s])}openEditModal(s,f){this.editModalTitle=this.isAutoQuote(s)&&s.preneur_id!==s.conducteur_id&&f===s.conducteur_id?"Modifier le Conducteur Principal":"Modifier le Preneur",this.dbConnectService.getPersonById(f).subscribe({next:c=>{if(c){const O=se=>{if(!se)return null;try{return new Date(se).toISOString().split("T")[0]}catch{return null}};this.preneurForm.patchValue({id:c.id,prenom:c.prenom,nom:c.nom,email:c.email,telephone:c.telephone,date_naissance:O(c.date_naissance),adresse:c.adresse,code_postal:c.code_postal,ville:c.ville,nationality:c.nationality,idcard_number:c.idcard_number,idcard_validity:O(c.idcard_validity),numero_national:c.numero_national,permis_numero:c.permis_numero,permis_date:O(c.permis_date)}),this.isEditModalOpen=!0}else console.error(`Impossible de trouver les informations pour la personne avec l'ID ${f}`)},error:c=>{console.error(`Erreur lors de la r\xe9cup\xe9ration de la personne avec l'ID ${f}`,c)}})}closeEditModal(){this.isEditModalOpen=!1,this.preneurForm.reset()}savePreneurChanges(){if(this.preneurForm.invalid)return this.preneurForm.markAllAsTouched(),void console.warn("Formulaire invalide. Impossible de sauvegarder.");const s=this.preneurForm.value,f=s.id;f?(console.log(`Sauvegarde des donn\xe9es pour le preneur ID: ${f}`,s),this.dbConnectService.updatePerson(f,s).subscribe({next:c=>{console.log("Preneur mis \xe0 jour avec succ\xe8s:",c.data),this.refreshCurrentView(),this.closeEditModal()},error:c=>{console.error("Erreur lors de la mise \xe0 jour du preneur:",c)}})):console.warn("savePreneurChanges a \xe9t\xe9 appel\xe9 sans ID de preneur dans le formulaire.")}isAutoQuote(s){return"typeVehicule"in s}isDescriptionQuote(s){return"description"in s}refreshCurrentView(){this.currentPage$.next(this.currentPage$.value)}closeNotificationPopup(){this.showNotificationPopup=!1}static \u0275fac=function(f){return new(f||d)(e.rXU(Es),e.rXU(te.Ix),e.rXU(_t.y),e.rXU(E.ok),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:d,selectors:[["app-management"]],standalone:!0,features:[e.aNF],decls:26,vars:8,consts:[[1,"container","mx-auto","p-4","sm:p-6","lg:p-8"],[1,"text-2xl","sm:text-3xl","font-bold","text-gray-800","mb-6"],[1,"border-b","border-gray-200","mb-6","no-print"],["aria-label","Tabs",1,"-mb-px","flex","space-x-6","overflow-x-auto"],["class","whitespace-nowrap py-4 px-1 border-b-2 text-sm",3,"ngClass","font-medium","font-bold","click",4,"ngFor","ngForOf"],[1,"flex","flex-wrap","justify-between","items-center","gap-4","mb-6","no-print"],["type","text","placeholder","Rechercher par nom, ID, description...",1,"w-full","max-w-md","mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"formControl"],[1,"flex","items-center","space-x-2"],["routerLink","/utilities/paiements",1,"px-3","py-2","text-sm","font-medium","text-white","bg-orange-500","rounded-md","shadow-sm","hover:bg-orange-600"],["routerLink","/utilities/statistiques",1,"px-3","py-2","text-sm","font-medium","text-white","bg-green-500","rounded-md","shadow-sm","hover:bg-green-600"],["routerLink","/utilities/prospects",1,"px-3","py-2","text-sm","font-medium","text-white","bg-blue-500","rounded-md","shadow-sm","hover:bg-blue-600"],["routerLink","/utilities/parametres",1,"px-3","py-2","text-sm","font-medium","text-white","bg-gray-800","rounded-md","shadow-sm","hover:bg-gray-900"],[1,"flex","items-center","px-3","py-2","text-sm","font-medium","text-white","bg-red-600","rounded-md","shadow-sm","hover:bg-red-700",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-4","h-4","mr-2"],["stroke-linecap","round","stroke-linejoin","round","d","M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9"],[4,"ngIf"],["class","fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center",4,"ngIf"],[1,"whitespace-nowrap","py-4","px-1","border-b-2","text-sm",3,"click","ngClass"],["loadingMessage","Chargement des devis...","errorMessage","Une erreur est survenue lors du chargement des devis.",3,"state"],["class","text-center py-10 px-4 bg-gray-50 rounded-lg",4,"ngIf"],["class","shadow-md rounded-lg overflow-x-auto",4,"ngIf"],["class","flex items-center justify-between mt-6 no-print",4,"ngIf"],[1,"text-center","py-10","px-4","bg-gray-50","rounded-lg"],[1,"text-gray-500"],[1,"shadow-md","rounded-lg","overflow-x-auto"],[1,"w-full","text-sm","text-left","text-gray-600"],[1,"text-xs","text-gray-700","uppercase","bg-gray-100"],[1,"border-b"],["scope","col",1,"px-6","py-3"],[1,"flex","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-4","h-4","mr-1.5"],["stroke-linecap","round","stroke-linejoin","round","d","M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m-7.5-2.963A3.686 3.686 0 0110.5 9.59a3.686 3.686 0 013.686 3.686zM12 6.591A2.25 2.25 0 0114.25 8.84a2.25 2.25 0 01-4.5 0A2.25 2.25 0 0112 6.591zM12 21a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72M6.318 18.72a9.094 9.094 0 013.741-.479 3 3 0 01-4.682-2.72m-7.5-2.963A3.686 3.686 0 013.5 9.59a3.686 3.686 0 013.686 3.686zM3 6.591A2.25 2.25 0 015.25 8.84a2.25 2.25 0 01-4.5 0A2.25 2.25 0 013 6.591z"],["stroke-linecap","round","stroke-linejoin","round","d","M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke-linecap","round","stroke-linejoin","round","d","M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z"],["stroke-linecap","round","stroke-linejoin","round","d","M6 6h.008v.008H6V6z"],["scope","col",1,"px-6","py-3","no-print"],["stroke-linecap","round","stroke-linejoin","round","d","M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"],["stroke-linecap","round","stroke-linejoin","round","d","M2.25 12.75V12A2.25 2.25 0 014.5 9.75h15A2.25 2.25 0 0121.75 12v.75m-8.69-6.44l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z"],["stroke-linecap","round","stroke-linejoin","round","d","M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"],["class","bg-white border-b hover:bg-gray-50 transition-colors duration-200",4,"ngFor","ngForOf"],["stroke-linecap","round","stroke-linejoin","round","d","M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h1.125c.621 0 1.125-.504 1.125-1.125V14.25m-17.25 4.5h12.75m0 0v-4.125c0-.621-.504-1.125-1.125-1.125H11.25c-.621 0-1.125.504-1.125 1.125v4.125m0 0a2.25 2.25 0 100 4.5 2.25 2.25 0 000-4.5zm-10.875 0a2.25 2.25 0 100 4.5 2.25 2.25 0 000-4.5z"],[1,"bg-white","border-b","hover:bg-gray-50","transition-colors","duration-200"],[1,"px-6","py-4","font-semibold","text-gray-900","whitespace-nowrap"],[1,"px-6","py-4"],[1,"flex","items-center","cursor-pointer","group",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-4","h-4","mr-2","text-gray-400","group-hover:text-gray-600"],["stroke-linecap","round","stroke-linejoin","round","d","M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"],["class","w-4 h-4 mr-2 text-blue-500","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",4,"ngIf"],["class","ml-2 text-xs text-gray-500 font-normal flex items-center cursor-pointer group",3,"click",4,"ngIf"],[1,"px-6","py-4","truncate","max-w-xs"],[1,"px-2.5","py-0.5","rounded-full","text-xs","font-medium",3,"ngClass"],[1,"px-6","py-4","no-print"],[1,"text-blue-600","hover:text-blue-800","font-medium",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"w-4","h-4","mr-2","text-blue-500"],["fill-rule","evenodd","d","M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-5.5-2.5a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0zM10 12a5.99 5.99 0 00-4.793 2.39A6.483 6.483 0 0010 16.5a6.483 6.483 0 004.793-2.11A5.99 5.99 0 0010 12z","clip-rule","evenodd"],[1,"ml-2","text-xs","text-gray-500","font-normal","flex","items-center","cursor-pointer","group",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-3","h-3","ml-1","text-gray-400","group-hover:text-gray-600"],[1,"flex","items-center","justify-between","mt-6","no-print"],[1,"text-sm","text-gray-700"],[1,"font-semibold"],[1,"inline-flex","-space-x-px"],[1,"px-3","py-2","ml-0","leading-tight","text-gray-500","bg-white","border","border-gray-300","rounded-l-lg","hover:bg-gray-100","hover:text-gray-700","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"px-3","py-2","leading-tight","text-gray-500","bg-white","border","border-gray-300","rounded-r-lg","hover:bg-gray-100","hover:text-gray-700","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"fixed","inset-0","bg-gray-600","bg-opacity-50","overflow-y-auto","h-full","w-full","z-50","flex","items-center","justify-center"],[1,"relative","mx-auto","p-5","border","w-full","max-w-md","shadow-lg","rounded-md","bg-white"],["type","button",1,"absolute","top-3","right-3","text-gray-400","hover:text-gray-600","focus:outline-none","focus:ring-2","focus:ring-blue-500","rounded-full","p-1",3,"click"],[1,"sr-only"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor","aria-hidden","true",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","d","M6 18L18 6M6 6l12 12"],[1,"mt-3","text-center"],[1,"text-lg","leading-6","font-medium","text-gray-900","text-center"],[1,"mt-4","px-2","py-3","max-h-[70vh]","overflow-y-auto"],[3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4"],[1,"text-left"],["for","prenom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","prenom","formControlName","prenom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","nom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","nom","formControlName","nom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"mt-4","text-left"],["for","numero_national",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","numero_national","formControlName","numero_national",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["class","text-red-600 text-xs mt-1",4,"ngIf"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","email","formControlName","email",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"mt-4","grid","grid-cols-1","sm:grid-cols-2","gap-4"],["for","telephone",1,"block","text-sm","font-medium","text-gray-700"],["type","tel","id","telephone","formControlName","telephone","appPhoneNumberMask","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","date_naissance",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","date_naissance","formControlName","date_naissance",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","adresse",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","adresse","formControlName","adresse",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","code_postal",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","code_postal","formControlName","code_postal",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","ville",1,"block","text-sm","font-medium","text-gray-700"],[1,"relative","mt-1"],["id","ville","formControlName","ville",1,"focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","pl-3","pr-10","ring-1","ring-slate-200","shadow-sm","disabled:bg-gray-100",3,"disabled"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["class","absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",4,"ngIf"],["for","nationality",1,"block","text-sm","font-medium","text-gray-700"],["id","nationality","formControlName","nationality",1,"focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","pl-3","pr-10","ring-1","ring-slate-200","shadow-sm","disabled:bg-gray-100",3,"disabled"],["for","idcard_number",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","idcard_number","formControlName","idcard_number",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","idcard_validity",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","idcard_validity","formControlName","idcard_validity",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"mt-6","items-center","px-4","py-3","flex","justify-end","space-x-4","bg-gray-50","-mx-5","-mb-5","rounded-b-md"],["type","button",1,"px-4","py-2","bg-gray-200","text-gray-800","rounded-md","hover:bg-gray-300","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-gray-500",3,"click"],["type","submit",1,"px-4","py-2","bg-blue-600","text-white","rounded-md","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"text-red-600","text-xs","mt-1"],[3,"value"],[1,"absolute","inset-y-0","right-0","flex","items-center","pr-3","pointer-events-none"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5","text-gray-400"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],["for","permis_numero",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","permis_numero","formControlName","permis_numero",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","permis_date",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","permis_date","formControlName","permis_date",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"]],template:function(f,c){1&f&&(e.j41(0,"div",0)(1,"h1",1),e.EFF(2,"Gestion des offres"),e.k0s(),e.j41(3,"div",2)(4,"nav",3),e.DNE(5,Cs,4,10,"button",4),e.k0s()(),e.j41(6,"div",5)(7,"div"),e.nrm(8,"input",6),e.k0s(),e.j41(9,"div",7)(10,"a",8),e.EFF(11,"Paiements"),e.k0s(),e.j41(12,"a",9),e.EFF(13,"Commissions"),e.k0s(),e.j41(14,"a",10),e.EFF(15,"Prospects"),e.k0s(),e.j41(16,"a",11),e.EFF(17,"Param\xe8tres"),e.k0s(),e.j41(18,"button",12),e.bIt("click",function(){return c.logout()}),e.qSk(),e.j41(19,"svg",13),e.nrm(20,"path",14),e.k0s(),e.EFF(21," D\xe9connexion "),e.k0s()()(),e.DNE(22,bi,5,4,"ng-container",15),e.nI1(23,"async"),e.DNE(24,Us,92,34,"div",16),e.nI1(25,"async"),e.k0s()),2&f&&(e.R7$(5),e.Y8G("ngForOf",c.tabs),e.R7$(3),e.Y8G("formControl",c.searchControl),e.R7$(14),e.Y8G("ngIf",e.bMT(23,4,c.vm$)),e.R7$(2),e.Y8G("ngIf",c.isEditModalOpen&&e.bMT(25,6,c.nationalities$)))},dependencies:[S.MD,S.YU,S.Sq,S.bT,S.Jj,S.PV,S.vh,te.Wk,E.X1,E.qT,E.xH,E.y7,E.me,E.wz,E.BC,E.cb,E.l_,E.j4,E.JD,Nt.Y,E.YN,dr],styles:["@media print{.no-print[_ngcontent-%COMP%]{display:none!important}body[_ngcontent-%COMP%]{font-size:10pt;color:#000;background-color:#fff}table[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border-color:#ccc!important;color:#000!important}.bg-white[_ngcontent-%COMP%], .bg-gray-50[_ngcontent-%COMP%], .bg-gray-100[_ngcontent-%COMP%], .shadow-md[_ngcontent-%COMP%], .hover\\:bg-gray-50[_ngcontent-%COMP%]{background-color:transparent!important;box-shadow:none!important}.text-blue-800[_ngcontent-%COMP%], .text-yellow-800[_ngcontent-%COMP%], .text-green-800[_ngcontent-%COMP%]{color:#000!important}}"]})}return d})();var eu=D(3583),Bs=D(6649);const hc=(d,T)=>(d.push(T),d);function pf(d,T){1&d&&(e.j41(0,"div",4)(1,"h3",5),e.EFF(2,"Conducteur principal"),e.k0s(),e.nrm(3,"div",6),e.k0s())}function hf(d,T){1&d&&(e.j41(0,"div",31),e.qSk(),e.j41(1,"svg",32),e.nrm(2,"circle",33)(3,"path",34),e.k0s()())}function mf(d,T){if(1&d){const s=e.RV6();e.j41(0,"li",37),e.bIt("click",function(){const c=e.eBV(s).$implicit,O=e.XpG(3);return e.Njj(O.selectMarque(c))}),e.EFF(1),e.k0s()}if(2&d){const s=T.$implicit;e.R7$(),e.SpI(" ",s.nom," ")}}function gf(d,T){if(1&d&&(e.j41(0,"ul",35),e.DNE(1,mf,2,1,"li",36),e.nI1(2,"async"),e.k0s()),2&d){const s=e.XpG(2);e.R7$(),e.Y8G("ngForOf",e.bMT(2,1,s.filteredMarques$))}}function h(d,T){1&d&&(e.j41(0,"option",38),e.EFF(1," Aucun mod\xe8le trouv\xe9 "),e.k0s()),2&d&&e.Y8G("disabled",!0)}function b(d,T){if(1&d&&(e.j41(0,"option",39),e.EFF(1),e.k0s()),2&d){const s=T.$implicit;e.Y8G("value",s.nom),e.R7$(),e.SpI("",s.nom," ")}}function m(d,T){1&d&&(e.j41(0,"div",31),e.qSk(),e.j41(1,"svg",32),e.nrm(2,"circle",33)(3,"path",34),e.k0s()())}function C(d,T){if(1&d&&(e.j41(0,"option",39),e.EFF(1),e.k0s()),2&d){const s=T.$implicit;e.Y8G("value",s),e.R7$(),e.SpI(" ",s," ")}}function A(d,T){if(1&d&&(e.j41(0,"div",7)(1,"h3",5),e.EFF(2,"V\xe9hicule"),e.k0s(),e.j41(3,"div",6)(4,"div",8)(5,"label",9),e.EFF(6,"Marque"),e.k0s(),e.nrm(7,"input",10),e.DNE(8,hf,4,0,"div",11)(9,gf,3,3,"ul",12),e.nI1(10,"async"),e.k0s(),e.j41(11,"div")(12,"div",8)(13,"label",13),e.EFF(14,"Mod\xe8le"),e.k0s(),e.j41(15,"select",14)(16,"option",15),e.EFF(17,"S\xe9lectionnez un mod\xe8le"),e.k0s(),e.DNE(18,h,2,1,"option",16)(19,b,2,2,"option",17),e.k0s(),e.DNE(20,m,4,0,"div",11),e.k0s()(),e.j41(21,"div")(22,"label",18),e.EFF(23,"Ann\xe9e"),e.k0s(),e.j41(24,"select",19)(25,"option",20),e.EFF(26,"S\xe9lectionnez une ann\xe9e"),e.k0s(),e.DNE(27,C,2,2,"option",17),e.k0s()(),e.j41(28,"div")(29,"label",21),e.EFF(30,"Plaque"),e.k0s(),e.nrm(31,"input",22),e.k0s(),e.j41(32,"div")(33,"label",23),e.EFF(34,"Puissance (kW)"),e.k0s(),e.nrm(35,"input",24),e.k0s(),e.j41(36,"div")(37,"label",25),e.EFF(38,"Nombre de places"),e.k0s(),e.nrm(39,"input",26),e.k0s(),e.j41(40,"div")(41,"label",27),e.EFF(42,"Valeur (\u20ac)"),e.k0s(),e.nrm(43,"input",28),e.k0s(),e.j41(44,"div")(45,"label",29),e.EFF(46,"Date de 1\xe8re immatriculation"),e.k0s(),e.nrm(47,"input",30),e.k0s()()()),2&d){let s,f,c;const O=e.XpG();e.R7$(7),e.Y8G("formControl",O.marqueCtrl),e.R7$(),e.Y8G("ngIf",O.isMarqueLoading),e.R7$(),e.Y8G("ngIf",(null==(s=e.bMT(10,9,O.filteredMarques$))?null:s.length)&&(O.marqueCtrl.value||"").length>=2),e.R7$(6),e.Y8G("disabled",!(null!=(f=O.parentForm.get("vehicule.make"))&&f.value)||O.isModeleLoading),e.R7$(3),e.Y8G("ngIf",!O.isModeleLoading&&0===O.modelesForSelectedMarque.length&&(null==(c=O.parentForm.get("vehicule.make"))?null:c.value)),e.R7$(),e.Y8G("ngForOf",O.modelesForSelectedMarque),e.R7$(),e.Y8G("ngIf",O.isModeleLoading),e.R7$(5),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",O.vehicleYears)}}function q(d,T){if(1&d&&(e.j41(0,"option",39),e.EFF(1),e.k0s()),2&d){const s=T.$implicit;e.Y8G("value",s.statut),e.R7$(),e.JRh(s.statut)}}function ee(d,T){if(1&d&&(e.j41(0,"option",39),e.EFF(1),e.k0s()),2&d){const s=T.$implicit;e.Y8G("value",s.id),e.R7$(),e.SpI(" ",s.nom," ")}}function Pe(d,T){if(1&d&&(e.j41(0,"fieldset",40)(1,"legend",5),e.EFF(2,"Garanties et Contrat"),e.k0s(),e.j41(3,"div",6)(4,"div",41)(5,"label",42),e.EFF(6,"Date d'effet"),e.k0s(),e.nrm(7,"input",43),e.k0s(),e.j41(8,"div",41)(9,"label",44),e.EFF(10,"Niveau d'omnium"),e.k0s(),e.j41(11,"select",45)(12,"option",46),e.EFF(13,"Aucune"),e.k0s(),e.j41(14,"option",47),e.EFF(15,"Mini Omnium"),e.k0s(),e.j41(16,"option",48),e.EFF(17,"Omnium Compl\xe8te"),e.k0s()()(),e.j41(18,"div")(19,"label",49),e.EFF(20,"Statut de l'offre"),e.k0s(),e.j41(21,"select",50)(22,"option",20),e.EFF(23,"S\xe9lectionnez un statut"),e.k0s(),e.DNE(24,q,2,2,"option",17),e.nI1(25,"async"),e.k0s()(),e.j41(26,"div")(27,"label",51),e.EFF(28,"Compagnie d'assurance"),e.k0s(),e.j41(29,"select",52)(30,"option",20),e.EFF(31,"S\xe9lectionnez une compagnie"),e.k0s(),e.DNE(32,ee,2,2,"option",17),e.nI1(33,"async"),e.k0s()(),e.j41(34,"div",53),e.nrm(35,"input",54),e.j41(36,"label",55),e.EFF(37,"Garantie RC de base"),e.k0s()(),e.j41(38,"div",53),e.nrm(39,"input",56),e.j41(40,"label",57),e.EFF(41,"Garantie Conducteur"),e.k0s()(),e.j41(42,"div",53),e.nrm(43,"input",58),e.j41(44,"label",59),e.EFF(45,"Assistance"),e.k0s()()()()),2&d){const s=e.XpG();e.R7$(22),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",e.bMT(25,4,s.statuts$)),e.R7$(6),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",e.bMT(33,6,s.insuranceCompanies$))}}let De=(()=>{class d{dbService;platformId;parentForm;showMainDriverSection=!1;marqueCtrl;filteredMarques$;isMarqueLoading=!1;isModeleLoading=!1;modelesForSelectedMarque=[];selectMarque;statuts$;insuranceCompanies$;vehicleYears=[];preneurCities$;nationalities$;maritalStatuses$;conducteurCities$;destroy$=new ue.B;constructor(s,f){this.dbService=s,this.platformId=f}ngOnInit(){this.parentForm||console.warn("AutoFormComponent: [parentForm] input is missing."),this.statuts$=this.dbService.getAllStatuts(),this.insuranceCompanies$=this.dbService.getAllAssureurs(),this.nationalities$=this.dbService.getNationalities(),this.maritalStatuses$=this.dbService.getAllMaritalStatuses();for(let f=(new Date).getFullYear();f>=1940;f--)this.vehicleYears.push(f)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(f){return new(f||d)(e.rXU(_t.y),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:d,selectors:[["app-auto-form"]],inputs:{parentForm:"parentForm",showMainDriverSection:"showMainDriverSection",marqueCtrl:"marqueCtrl",filteredMarques$:"filteredMarques$",isMarqueLoading:"isMarqueLoading",isModeleLoading:"isModeleLoading",modelesForSelectedMarque:"modelesForSelectedMarque",selectMarque:"selectMarque",preneurCities$:"preneurCities$",conducteurCities$:"conducteurCities$"},standalone:!0,features:[e.aNF],decls:4,vars:4,consts:[[3,"formGroup"],["formGroupName","conducteurPrincipal",4,"ngIf"],["formGroupName","vehicule",4,"ngIf"],["formGroupName","garantie",4,"ngIf"],["formGroupName","conducteurPrincipal"],[1,"text-lg","font-semibold","text-gray-800","bg-gray-100","-mx-6","px-6","py-2","mb-4","border-y"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-x-6","gap-y-4"],["formGroupName","vehicule"],[1,"relative"],["for","make",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","make","placeholder","Rechercher une marque...",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"formControl"],["class","absolute inset-y-0 right-0 flex items-center pr-3 top-6",4,"ngIf"],["class","absolute z-20 w-full bg-white border border-gray-300 rounded-md mt-1 max-h-40 overflow-y-auto",4,"ngIf"],["for","model",1,"block","text-sm","font-medium","text-gray-700"],["id","model","formControlName","model",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm","disabled:bg-gray-100",3,"disabled"],["value","","disabled",""],[3,"disabled",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["for","year",1,"block","text-sm","font-medium","text-gray-700"],["id","year","formControlName","year",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["disabled","",3,"ngValue"],["for","licensePlate",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","licensePlate","formControlName","licensePlate","appLicensePlateFormat","","placeholder","1 ABC 123","maxlength","9",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","power",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","power","formControlName","power",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","seats",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","seats","formControlName","seats",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","value",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","value","formControlName","value",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","registrationDate",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","registrationDate","formControlName","registrationDate",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"absolute","inset-y-0","right-0","flex","items-center","pr-3","top-6"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5","text-gray-400"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"absolute","z-20","w-full","bg-white","border","border-gray-300","rounded-md","mt-1","max-h-40","overflow-y-auto"],["class","px-3 py-2 cursor-pointer hover:bg-gray-100",3,"click",4,"ngFor","ngForOf"],[1,"px-3","py-2","cursor-pointer","hover:bg-gray-100",3,"click"],[3,"disabled"],[3,"value"],["formGroupName","garantie"],[1,"sm:col-span-2"],["for","effectiveDate",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","effectiveDate","formControlName","effectiveDate",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","omniumLevel",1,"block","text-sm","font-medium","text-gray-700"],["id","omniumLevel","formControlName","omniumLevel",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["value","non"],["value","partiel"],["value","total"],["for","statut",1,"block","text-sm","font-medium","text-gray-700"],["id","statut","formControlName","statut",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","insuranceCompany",1,"block","text-sm","font-medium","text-gray-700"],["id","insuranceCompany","formControlName","insuranceCompany",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"flex","items-center"],["id","baseRC","type","checkbox","formControlName","baseRC",1,"form-checkbox","h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","baseRC",1,"ml-2","block","text-sm","text-gray-900"],["id","driverCoverage","type","checkbox","formControlName","driverCoverage",1,"form-checkbox","h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","driverCoverage",1,"ml-2","block","text-sm","text-gray-900"],["id","assistance","type","checkbox","formControlName","assistance",1,"form-checkbox","h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","assistance",1,"ml-2","block","text-sm","text-gray-900"]],template:function(f,c){1&f&&(e.qex(0,0),e.DNE(1,pf,4,0,"div",1)(2,A,48,11,"div",2)(3,Pe,46,8,"fieldset",3),e.bVm()),2&f&&(e.Y8G("formGroup",c.parentForm),e.R7$(),e.Y8G("ngIf",c.showMainDriverSection&&c.parentForm.get("conducteurPrincipal")),e.R7$(),e.Y8G("ngIf",c.parentForm.get("vehicule")),e.R7$(),e.Y8G("ngIf",c.parentForm.get("garantie")))},dependencies:[S.MD,S.Sq,S.bT,S.Jj,E.X1,E.xH,E.y7,E.me,E.Q0,E.Zm,E.wz,E.BC,E.cb,E.tU,E.l_,E.j4,E.JD,E.$R],encapsulation:2})}return d})();function ot(d,T){if(1&d&&(e.j41(0,"tbody",3)(1,"tr",4)(2,"th",5),e.EFF(3," Preneur d'assurance "),e.k0s()(),e.j41(4,"tr")(5,"td",6),e.EFF(6,"Pr\xe9nom & Nom"),e.k0s(),e.j41(7,"td",7),e.EFF(8),e.nI1(9,"titlecase"),e.nI1(10,"uppercase"),e.k0s()(),e.j41(11,"tr")(12,"td",8),e.EFF(13,"Date de naissance"),e.k0s(),e.j41(14,"td",7),e.EFF(15),e.nI1(16,"date"),e.k0s()(),e.j41(17,"tr")(18,"td",8),e.EFF(19,"Contact"),e.k0s(),e.j41(20,"td",7)(21,"div")(22,"span",9),e.EFF(23,"Email:"),e.k0s(),e.EFF(24),e.k0s(),e.j41(25,"div")(26,"span",9),e.EFF(27,"T\xe9l:"),e.k0s(),e.EFF(28),e.k0s()()(),e.j41(29,"tr")(30,"td",8),e.EFF(31,"Adresse"),e.k0s(),e.j41(32,"td",7),e.EFF(33),e.nrm(34,"br"),e.EFF(35),e.nI1(36,"titlecase"),e.k0s()(),e.j41(37,"tr")(38,"td",8),e.EFF(39,"Permis de conduire"),e.k0s(),e.j41(40,"td",7),e.EFF(41),e.nI1(42,"date"),e.k0s()(),e.j41(43,"tr")(44,"td",8),e.EFF(45,"Identit\xe9 nationale"),e.k0s(),e.j41(46,"td",7)(47,"div")(48,"span",9),e.EFF(49,"RN:"),e.k0s(),e.EFF(50),e.k0s(),e.j41(51,"div")(52,"span",9),e.EFF(53,"Carte Id:"),e.k0s(),e.EFF(54),e.nI1(55,"date"),e.k0s()()(),e.j41(56,"tr")(57,"td",8),e.EFF(58,"Infos persos"),e.k0s(),e.j41(59,"td",7),e.EFF(60),e.k0s()()()),2&d){const s=T.ngIf,f=e.XpG();e.R7$(8),e.Lme(" ",e.bMT(9,15,s.prenom)," ",e.bMT(10,17,s.nom)," "),e.R7$(7),e.SpI(" ",e.i5U(16,19,s.date_naissance,"dd/MM/yyyy")," "),e.R7$(9),e.SpI(" ",s.email,""),e.R7$(4),e.SpI(" ",s.telephone,""),e.R7$(5),e.SpI(" ",s.address,""),e.R7$(2),e.Lme(" ",s.code_postal," ",e.bMT(36,22,s.city)," "),e.R7$(6),e.Lme(" N\xb0 ",s.driverLicenseNumber," (Obtenu le ",e.i5U(42,24,s.driverLicenseDate,"dd/MM/yyyy"),") "),e.R7$(9),e.SpI(" ",s.nationalRegistryNumber,""),e.R7$(4),e.Lme(" ",s.idCardNumber," (Validit\xe9: ",e.i5U(55,27,s.idCardValidityDate,"dd/MM/yyyy"),")"),e.R7$(6),e.Lme(" ",s.nationality," \u2014 ",f.getMaritalStatusLabel(s.maritalStatus)," ")}}function Pt(d,T){if(1&d&&(e.j41(0,"tbody",10)(1,"tr",4)(2,"th",5),e.EFF(3," Conducteur Principal "),e.k0s()(),e.j41(4,"tr")(5,"td",6),e.EFF(6,"Pr\xe9nom & Nom"),e.k0s(),e.j41(7,"td",7),e.EFF(8),e.nI1(9,"titlecase"),e.nI1(10,"uppercase"),e.k0s()(),e.j41(11,"tr")(12,"td",8),e.EFF(13,"Date de naissance"),e.k0s(),e.j41(14,"td",7),e.EFF(15),e.nI1(16,"date"),e.k0s()(),e.j41(17,"tr")(18,"td",8),e.EFF(19,"Contact"),e.k0s(),e.j41(20,"td",7)(21,"div")(22,"span",9),e.EFF(23,"Email:"),e.k0s(),e.EFF(24),e.k0s(),e.j41(25,"div")(26,"span",9),e.EFF(27,"T\xe9l:"),e.k0s(),e.EFF(28),e.k0s()()(),e.j41(29,"tr")(30,"td",8),e.EFF(31,"Permis de conduire"),e.k0s(),e.j41(32,"td",7),e.EFF(33),e.nI1(34,"date"),e.k0s()(),e.j41(35,"tr")(36,"td",8),e.EFF(37,"Identit\xe9 nationale"),e.k0s(),e.j41(38,"td",7)(39,"div")(40,"span",9),e.EFF(41,"RN:"),e.k0s(),e.EFF(42),e.k0s(),e.j41(43,"div")(44,"span",9),e.EFF(45,"Carte Id:"),e.k0s(),e.EFF(46),e.nI1(47,"date"),e.k0s()()(),e.j41(48,"tr")(49,"td",8),e.EFF(50,"Infos persos"),e.k0s(),e.j41(51,"td",7),e.EFF(52),e.k0s()()()),2&d){const s=T.ngIf,f=e.XpG();e.R7$(8),e.Lme(" ",e.bMT(9,12,s.prenom)," ",e.bMT(10,14,s.nom)," "),e.R7$(7),e.SpI(" ",e.i5U(16,16,s.date_naissance,"dd/MM/yyyy")," "),e.R7$(9),e.SpI(" ",s.email,""),e.R7$(4),e.SpI(" ",s.telephone,""),e.R7$(5),e.Lme(" N\xb0 ",s.driverLicenseNumber," (Obtenu le ",e.i5U(34,19,s.driverLicenseDate,"dd/MM/yyyy"),") "),e.R7$(9),e.SpI(" ",s.nationalRegistryNumber,""),e.R7$(4),e.Lme(" ",s.idCardNumber," (Validit\xe9: ",e.i5U(47,22,s.idCardValidityDate,"dd/MM/yyyy"),")"),e.R7$(6),e.Lme(" ",s.nationality," \u2014 ",f.getMaritalStatusLabel(s.maritalStatus)," ")}}function Yt(d,T){if(1&d&&(e.j41(0,"tbody",10)(1,"tr",4)(2,"th",5),e.EFF(3," V\xe9hicule "),e.k0s()(),e.j41(4,"tr")(5,"td",8),e.EFF(6,"V\xe9hicule"),e.k0s(),e.j41(7,"td",7)(8,"span",11),e.EFF(9),e.k0s(),e.EFF(10),e.k0s()(),e.j41(11,"tr")(12,"td",8),e.EFF(13,"D\xe9tails"),e.k0s(),e.j41(14,"td",7),e.EFF(15),e.nrm(16,"br"),e.EFF(17," Plaque: "),e.j41(18,"span",12),e.EFF(19),e.k0s()()(),e.j41(20,"tr")(21,"td",8),e.EFF(22,"Sp\xe9cifications"),e.k0s(),e.j41(23,"td",7)(24,"div")(25,"span",9),e.EFF(26,"Puissance:"),e.k0s(),e.EFF(27),e.k0s(),e.j41(28,"div")(29,"span",9),e.EFF(30,"Places:"),e.k0s(),e.EFF(31),e.k0s(),e.j41(32,"div")(33,"span",9),e.EFF(34,"Valeur:"),e.k0s(),e.EFF(35),e.nI1(36,"currency"),e.k0s(),e.j41(37,"div")(38,"span",9),e.EFF(39,"1\xe8re immat.:"),e.k0s(),e.EFF(40),e.nI1(41,"date"),e.k0s()()()()),2&d){const s=T.ngIf;e.R7$(9),e.SpI("",s.make," "),e.R7$(),e.SpI(" ",s.modele," "),e.R7$(5),e.SpI(" Ann\xe9e: ",s.year,""),e.R7$(4),e.JRh(s.licensePlate),e.R7$(8),e.SpI(" ",s.power," kW"),e.R7$(4),e.SpI(" ",s.seats,""),e.R7$(4),e.SpI(" ",e.i5U(36,8,s.value,"EUR"),""),e.R7$(5),e.SpI(" ",e.i5U(41,11,s.registrationDate,"dd/MM/yyyy"),"")}}function Jn(d,T){if(1&d&&(e.j41(0,"tbody",10)(1,"tr",4)(2,"th",5),e.EFF(3," Garanties "),e.k0s()(),e.j41(4,"tr")(5,"td",8),e.EFF(6,"Statut"),e.k0s(),e.j41(7,"td",7)(8,"span",13),e.EFF(9),e.k0s()()(),e.j41(10,"tr")(11,"td",8),e.EFF(12,"G\xe9n\xe9ral"),e.k0s(),e.j41(13,"td",7)(14,"div")(15,"span",9),e.EFF(16,"Date d'effet:"),e.k0s(),e.EFF(17),e.nI1(18,"date"),e.k0s(),e.j41(19,"div")(20,"span",9),e.EFF(21,"Compagnie:"),e.k0s(),e.EFF(22),e.k0s()()(),e.j41(23,"tr")(24,"td",8),e.EFF(25,"Niveau d'omnium"),e.k0s(),e.j41(26,"td",7)(27,"span",14),e.EFF(28),e.nI1(29,"uppercase"),e.k0s()()(),e.j41(30,"tr")(31,"td",8),e.EFF(32,"Options souscrites"),e.k0s(),e.j41(33,"td",15)(34,"ul",16)(35,"li"),e.EFF(36,"RC de base: "),e.j41(37,"strong"),e.EFF(38),e.k0s()(),e.j41(39,"li"),e.EFF(40,"Garantie Conducteur: "),e.j41(41,"strong"),e.EFF(42),e.k0s()(),e.j41(43,"li"),e.EFF(44,"Assistance: "),e.j41(45,"strong"),e.EFF(46),e.k0s()()()()()()),2&d){const s=T.ngIf,f=e.XpG();e.R7$(8),e.Y8G("ngClass",f.getStatutClass(s.statut)),e.R7$(),e.JRh(s.statut),e.R7$(8),e.SpI(" ",e.i5U(18,8,s.effectiveDate,"dd/MM/yyyy"),""),e.R7$(5),e.SpI(" ",f.getCompanyName(s.insuranceCompany),""),e.R7$(6),e.SpI(" ",e.bMT(29,11,s.omniumLevel)," "),e.R7$(10),e.JRh(s.baseRC?"Oui":"Non"),e.R7$(4),e.JRh(s.driverCoverage?"Oui":"Non"),e.R7$(4),e.JRh(s.assistance?"Oui":"Non")}}let Ei=(()=>{class d{dbService;formValue;showMainDriverSection=!1;destroy$=new ue.B;insuranceCompanies=[];maritalStatuses=[];constructor(s){this.dbService=s}ngOnInit(){this.dbService.getAllAssureurs().pipe((0,Ke.Q)(this.destroy$)).subscribe(s=>{this.insuranceCompanies=s||[]}),this.dbService.getAllMaritalStatuses().pipe((0,Ke.Q)(this.destroy$)).subscribe(s=>{this.maritalStatuses=s||[]})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getCompanyName(s){if(!s||!this.insuranceCompanies||0===this.insuranceCompanies.length)return"N/A";const f=this.insuranceCompanies.find(c=>c.id===s);return f?f.nom:`Inconnue (ID: ${s})`}getMaritalStatusLabel(s){if(!s||!this.maritalStatuses||0===this.maritalStatuses.length)return"N/A";const f=this.maritalStatuses.find(c=>c.id===s);return f?f.label:`Inconnu (ID: ${s})`}getStatutClass(s){return s&&{Nouveau:{"bg-blue-100":!0,"text-blue-800":!0},"En cours":{"bg-yellow-100":!0,"text-yellow-800":!0},Termin\u00e9:{"bg-green-100":!0,"text-green-800":!0}}[s]||{"bg-gray-100":!0,"text-gray-800":!0}}static \u0275fac=function(f){return new(f||d)(e.rXU(_t.y))};static \u0275cmp=e.VBU({type:d,selectors:[["app-auto-details"]],inputs:{formValue:"formValue",showMainDriverSection:"showMainDriverSection"},standalone:!0,features:[e.aNF],decls:5,vars:4,consts:[[1,"min-w-full","divide-y","divide-gray-200"],["class","bg-white divide-y divide-gray-200",4,"ngIf"],["class","bg-white divide-y divide-gray-200 border-t-8 border-gray-50",4,"ngIf"],[1,"bg-white","divide-y","divide-gray-200"],[1,"bg-gray-100"],["colspan","2",1,"px-6","py-3","text-left","text-xs","font-bold","text-gray-500","uppercase","tracking-wider"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-700","bg-gray-50","w-1/3"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-700","bg-gray-50"],[1,"font-medium"],[1,"bg-white","divide-y","divide-gray-200","border-t-8","border-gray-50"],[1,"font-bold"],[1,"uppercase","font-mono","bg-gray-100","px-2","py-1","rounded"],[1,"px-2.5","py-0.5","rounded-full","text-xs","font-medium",3,"ngClass"],[1,"px-2","inline-flex","text-xs","leading-5","font-semibold","rounded-full","bg-blue-100","text-blue-800"],[1,"px-6","py-4","text-sm","text-gray-900"],[1,"list-disc","list-inside"]],template:function(f,c){1&f&&(e.j41(0,"table",0),e.DNE(1,ot,61,30,"tbody",1)(2,Pt,53,25,"tbody",2)(3,Yt,42,14,"tbody",2)(4,Jn,47,13,"tbody",2),e.k0s()),2&f&&(e.R7$(),e.Y8G("ngIf",null==c.formValue?null:c.formValue.preneurAssurance),e.R7$(),e.Y8G("ngIf",c.showMainDriverSection&&(null==c.formValue?null:c.formValue.conducteurPrincipal)),e.R7$(),e.Y8G("ngIf",null==c.formValue?null:c.formValue.vehicule),e.R7$(),e.Y8G("ngIf",null==c.formValue?null:c.formValue.garantie))},dependencies:[S.MD,S.YU,S.bT,S.Pc,S.PV,S.oe,S.vh],encapsulation:2})}return d})();const Gr=d=>({"border-red-500 ring-red-500":d}),Ci=()=>[];function ko(d,T){if(1&d&&(e.j41(0,"option",62),e.EFF(1),e.k0s()),2&d){const s=T.$implicit;e.Y8G("value",s),e.R7$(),e.SpI(" ",s," ")}}function ss(d,T){if(1&d&&(e.j41(0,"option",62),e.EFF(1),e.k0s()),2&d){const s=T.$implicit;e.Y8G("value",s.id),e.R7$(),e.JRh(s.nom)}}function tu(d,T){if(1&d&&(e.j41(0,"option",62),e.EFF(1),e.k0s()),2&d){const s=T.$implicit;e.Y8G("value",s.statut),e.R7$(),e.JRh(s.statut)}}let Gs=(()=>{class d{fb;dbService;platformId;parentForm;isReadOnly=!1;initialData;statuts$;insuranceCompanies$;batimentCities$;preneurCities$;destroy$=new ue.B;constructor(s,f,c){this.fb=s,this.dbService=f,this.platformId=c,this.batimentCities$=(0,K.of)([])}ngOnInit(){if(this.parentForm){const s=this.parentForm.get("evaluation");s&&!s.contains("valeurLibreContenu")&&s.addControl("valeurLibreContenu",this.fb.control(null));const f=this.parentForm.get("garantiesHabitation");f&&!f.contains("compagnie_id")&&f.addControl("compagnie_id",this.fb.control(null))}else this.initializeForm();if(this.statuts$=this.dbService.getAllStatuts(),this.insuranceCompanies$=this.dbService.getAllAssureurs(),(0,S.UE)(this.platformId)){const s=this.parentForm.get("batiment.batiment_code_postal");s&&(s.valueChanges.pipe((0,$e.F)(),(0,Ke.Q)(this.destroy$)).subscribe(()=>{this.parentForm.get("batiment.batiment_ville")?.setValue(null,{emitEvent:!1})}),this.batimentCities$=s.valueChanges.pipe((0,J.Z)(s.value||""),Te(300),(0,$e.F)(),(0,Ye.n)(c=>c&&c.length>=4?this.dbService.getCitiesByPostalCode(c).pipe((0,Q.W)(()=>(0,K.of)([]))):(0,K.of)([])),(0,ve.T)(c=>{const O=this.parentForm.get("batiment.batiment_ville")?.value;return O&&!c.includes(O)?[O,...c]:c}),(0,Ke.Q)(this.destroy$)));const f=this.parentForm.get("preneurAssurance.code_postal");f&&(this.preneurCities$=f.valueChanges.pipe(Te(300),(0,$e.F)(),(0,Ye.n)(c=>c&&c.length>=4?this.dbService.getCitiesByPostalCode(c).pipe((0,Q.W)(()=>(0,K.of)([])),(0,Ke.Q)(this.destroy$)):(0,K.of)([])),(0,Ke.Q)(this.destroy$)))}}ngOnChanges(s){s.initialData&&this.initialData&&this.patchFormWithData(this.initialData)}initializeForm(){this.parentForm=this.fb.group({preneurAssurance:this.fb.group({prenom:[{value:"",disabled:!0}],nom:[{value:"",disabled:!0}],date_naissance:[{value:"",disabled:!0}],email:[{value:"",disabled:!0}],telephone:[{value:"",disabled:!0}],nationalRegistryNumber:[{value:"",disabled:!0}],idCardNumber:[{value:"",disabled:!0}],idCardValidityDate:[{value:"",disabled:!0}],adresse:[{value:"",disabled:!0}],code_postal:[{value:"",disabled:!0}],ville:[{value:"",disabled:!0}]}),batiment:this.fb.group({batiment_adresse:["",E.k0.required],batiment_code_postal:["",E.k0.required],batiment_ville:["",E.k0.required],batiment_type_maison:[""]}),evaluation:this.fb.group({superficie:[null],nombrePieces:[null],loyerMensuel:[null],typeValeurBatiment:[null],valeurExpertise:[null],dateExpertise:[null],typeValeurContenu:[null],valeurLibreContenu:[null]}),garantiesHabitation:this.fb.group({contenu:[!1],vol:[!1],pertesIndirectes:[!1],protectionJuridique:[!1],assistance:[!1],dateEffet:[null],compagnie_id:[null],statut:[null]})})}patchFormWithData(s){s&&this.parentForm&&this.parentForm.patchValue({preneurAssurance:{prenom:s.preneur?.prenom,nom:s.preneur?.nom,date_naissance:s.preneur?.date_naissance,email:s.preneur?.email,telephone:s.preneur?.telephone,nationalRegistryNumber:s.preneur?.numero_national,idCardNumber:s.preneur?.idcard_number,idCardValidityDate:s.preneur?.idcard_validity,adresse:s.preneur?.adresse,code_postal:s.preneur?.code_postal,ville:s.preneur?.ville},batiment:{batiment_adresse:s.batiment_adresse,batiment_code_postal:s.batiment_code_postal,batiment_ville:s.batiment_ville,batiment_type_maison:s.batiment_type_maison},evaluation:{superficie:s.evaluation_superficie,nombrePieces:s.evaluation_nombre_pieces,loyerMensuel:s.evaluation_loyer_mensuel,typeValeurBatiment:s.evaluation_type_valeur_batiment,valeurExpertise:s.evaluation_valeur_expertise,dateExpertise:s.evaluation_date_expertise,typeValeurContenu:s.evaluation_type_valeur_contenu,valeurLibreContenu:s.evaluation_valeur_libre_contenu},garantiesHabitation:{contenu:s.garantie_contenu,vol:s.garantie_vol,pertesIndirectes:s.garantie_pertes_indirectes,protectionJuridique:s.garantie_protection_juridique,assistance:s.garantie_assistance,dateEffet:s.date_effet,compagnie_id:s.compagnie_id,statut:s.statut}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}scrollToSection(s){const f=document.getElementById(s);f&&f.scrollIntoView({behavior:"smooth",block:"start"})}static \u0275fac=function(f){return new(f||d)(e.rXU(E.ok),e.rXU(_t.y),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:d,selectors:[["app-habitation-form"]],inputs:{parentForm:"parentForm",isReadOnly:"isReadOnly",initialData:"initialData"},standalone:!0,features:[e.OA$,e.aNF],decls:144,vars:31,consts:[[3,"formGroup"],["formGroupName","batiment",1,"mt-6"],[1,"text-lg","font-semibold","text-gray-700","border-b","pb-2","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","pt-4"],[1,"md:col-span-2"],["for","batiment_adresse",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","batiment_adresse","formControlName","batiment_adresse",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],[1,"relative"],["for","batiment_code_postal",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","batiment_code_postal","formControlName","batiment_code_postal",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","ville",1,"block","text-sm","font-medium","text-gray-700"],["id","ville","formControlName","batiment_ville",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["disabled","",3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["for","type-maison",1,"block","text-sm","font-medium","text-gray-700"],["id","type-maison","formControlName","batiment_type_maison",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["formGroupName","evaluation",1,"mt-6"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4","pt-4"],["for","superficie",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","superficie","formControlName","superficie",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"readOnly"],["for","nombre-pieces",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","nombre-pieces","formControlName","nombrePieces","placeholder","Salon + Cuisine = 1 pi\xe8ce",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"readOnly"],["for","loyer",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","loyer","formControlName","loyerMensuel","placeholder","\u20ac",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"readOnly"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4","pt-4","mt-4","border-t"],["for","type-valeur-batiment",1,"block","text-sm","font-medium","text-gray-700"],["id","type-valeur-batiment","formControlName","typeValeurBatiment",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm","capitalize"],[3,"ngValue"],["value","expertise"],["value","libre"],["for","valeur-expertise",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","valeur-expertise","formControlName","valeurExpertise","placeholder","\u20ac",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"readOnly"],["for","date-expertise",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","date-expertise","formControlName","dateExpertise",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"readOnly"],["for","type-valeur-contenu",1,"block","text-sm","font-medium","text-gray-700"],["id","type-valeur-contenu","formControlName","typeValeurContenu",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm","capitalize"],["value","courtier"],["value","client"],["for","valeur-libre-contenu",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","valeur-libre-contenu","formControlName","valeurLibreContenu","placeholder","\u20ac",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"readOnly"],["formGroupName","garantiesHabitation",1,"mt-6"],[1,"space-y-4","pt-4"],[1,"grid","grid-cols-2","md:grid-cols-3","gap-4"],[1,"flex","items-start"],[1,"flex","h-5","items-center"],["id","garantie-contenu","formControlName","contenu","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],[1,"ml-3","text-sm"],["for","garantie-contenu",1,"font-medium","text-gray-700"],["id","garantie-vol","formControlName","vol","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","garantie-vol",1,"font-medium","text-gray-700"],["id","garantie-pertes","formControlName","pertesIndirectes","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","garantie-pertes",1,"font-medium","text-gray-700"],["id","garantie-pj","formControlName","protectionJuridique","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","garantie-pj",1,"font-medium","text-gray-700"],["id","garantie-assistance","formControlName","assistance","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","garantie-assistance",1,"font-medium","text-gray-700"],["for","date_effet",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","date_effet","formControlName","dateEffet",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","garantie-insuranceCompany",1,"block","text-sm","font-medium","text-gray-700"],["id","garantie-insuranceCompany","formControlName","compagnie_id",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","garantie-statut",1,"block","text-sm","font-medium","text-gray-700"],["id","garantie-statut","formControlName","statut",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[3,"value"]],template:function(f,c){if(1&f&&(e.j41(0,"div",0)(1,"fieldset",1)(2,"legend",2),e.EFF(3,"B\xe2timent \xe0 assurer"),e.k0s(),e.j41(4,"div",3)(5,"div",4)(6,"label",5),e.EFF(7,"Rue et num\xe9ro"),e.k0s(),e.nrm(8,"input",6),e.k0s(),e.j41(9,"div")(10,"div",7)(11,"label",8),e.EFF(12,"Code Postal"),e.k0s(),e.nrm(13,"input",9),e.k0s()(),e.j41(14,"div")(15,"label",10),e.EFF(16,"Ville"),e.k0s(),e.j41(17,"select",11)(18,"option",12),e.EFF(19,"-- Entrez un code postal --"),e.k0s(),e.DNE(20,ko,2,2,"option",13),e.nI1(21,"async"),e.k0s()(),e.j41(22,"div")(23,"label",14),e.EFF(24,"Type de maison"),e.k0s(),e.j41(25,"select",15)(26,"option"),e.EFF(27,"Maison 2 fa\xe7ades"),e.k0s(),e.j41(28,"option"),e.EFF(29,"Maison 3 fa\xe7ades"),e.k0s(),e.j41(30,"option"),e.EFF(31,"Maison 4 fa\xe7ades (villa)"),e.k0s(),e.j41(32,"option"),e.EFF(33,"Appartement"),e.k0s(),e.j41(34,"option"),e.EFF(35,"Studio"),e.k0s(),e.j41(36,"option"),e.EFF(37,"Autre"),e.k0s()()()()(),e.j41(38,"fieldset",16)(39,"legend",2),e.EFF(40,"\xc9valuation des biens"),e.k0s(),e.j41(41,"div",17)(42,"div")(43,"label",18),e.EFF(44,"Superficie (m\xb2)"),e.k0s(),e.nrm(45,"input",19),e.k0s(),e.j41(46,"div")(47,"label",20),e.EFF(48,"Nombre de pi\xe8ces"),e.k0s(),e.nrm(49,"input",21),e.k0s(),e.j41(50,"div")(51,"label",22),e.EFF(52,"Loyer mensuel (charges comprises)"),e.k0s(),e.nrm(53,"input",23),e.k0s()(),e.j41(54,"div",24)(55,"div")(56,"label",25),e.EFF(57,"Valeur b\xe2timent selon"),e.k0s(),e.j41(58,"select",26)(59,"option",27),e.EFF(60,"-- S\xe9lectionner --"),e.k0s(),e.j41(61,"option",28),e.EFF(62,"Expertise"),e.k0s(),e.j41(63,"option",29),e.EFF(64,"Librement exprim\xe9"),e.k0s()()(),e.j41(65,"div")(66,"label",30),e.EFF(67,"Valeur expertise b\xe2timent"),e.k0s(),e.nrm(68,"input",31),e.k0s(),e.j41(69,"div")(70,"label",32),e.EFF(71,"Date expertise b\xe2timent"),e.k0s(),e.nrm(72,"input",33),e.k0s()(),e.j41(73,"div",24)(74,"div")(75,"label",34),e.EFF(76,"Valeur contenu"),e.k0s(),e.j41(77,"select",35)(78,"option",27),e.EFF(79,"-- S\xe9lectionner --"),e.k0s(),e.j41(80,"option",36),e.EFF(81,"Courtier"),e.k0s(),e.j41(82,"option",37),e.EFF(83,"Client"),e.k0s()()(),e.j41(84,"div")(85,"label",38),e.EFF(86,"Valeur du contenu"),e.k0s(),e.nrm(87,"input",39),e.k0s()()(),e.j41(88,"fieldset",40)(89,"legend",2),e.EFF(90,"Garanties et contrat"),e.k0s(),e.j41(91,"div",41)(92,"div",42)(93,"div",43)(94,"div",44),e.nrm(95,"input",45),e.k0s(),e.j41(96,"div",46)(97,"label",47),e.EFF(98,"Contenu"),e.k0s()()(),e.j41(99,"div",43)(100,"div",44),e.nrm(101,"input",48),e.k0s(),e.j41(102,"div",46)(103,"label",49),e.EFF(104,"Vol"),e.k0s()()(),e.j41(105,"div",43)(106,"div",44),e.nrm(107,"input",50),e.k0s(),e.j41(108,"div",46)(109,"label",51),e.EFF(110,"Pertes indirectes"),e.k0s()()(),e.j41(111,"div",43)(112,"div",44),e.nrm(113,"input",52),e.k0s(),e.j41(114,"div",46)(115,"label",53),e.EFF(116,"Protection Juridique"),e.k0s()()(),e.j41(117,"div",43)(118,"div",44),e.nrm(119,"input",54),e.k0s(),e.j41(120,"div",46)(121,"label",55),e.EFF(122,"Assistance"),e.k0s()()()()(),e.j41(123,"div",17)(124,"div")(125,"label",56),e.EFF(126,"Date d'effet"),e.k0s(),e.nrm(127,"input",57),e.k0s(),e.j41(128,"div")(129,"label",58),e.EFF(130,"Compagnie"),e.k0s(),e.j41(131,"select",59)(132,"option",27),e.EFF(133,"-- S\xe9lectionner --"),e.k0s(),e.DNE(134,ss,2,2,"option",13),e.nI1(135,"async"),e.k0s()(),e.j41(136,"div")(137,"label",60),e.EFF(138,"Statut"),e.k0s(),e.j41(139,"select",61)(140,"option",27),e.EFF(141,"-- S\xe9lectionner --"),e.k0s(),e.DNE(142,tu,2,2,"option",13),e.nI1(143,"async"),e.k0s()()()()()),2&f){let O,se,ke;e.Y8G("formGroup",c.parentForm),e.R7$(8),e.Y8G("ngClass",e.eq3(24,Gr,(null==(O=c.parentForm.get("batiment.batiment_adresse"))?null:O.invalid)&&(null==(O=c.parentForm.get("batiment.batiment_adresse"))?null:O.touched))),e.R7$(5),e.Y8G("ngClass",e.eq3(26,Gr,(null==(se=c.parentForm.get("batiment.batiment_code_postal"))?null:se.invalid)&&(null==(se=c.parentForm.get("batiment.batiment_code_postal"))?null:se.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(28,Gr,(null==(ke=c.parentForm.get("batiment.batiment_ville"))?null:ke.invalid)&&(null==(ke=c.parentForm.get("batiment.batiment_ville"))?null:ke.touched))),e.R7$(),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",e.bMT(21,18,c.batimentCities$)||e.lJ4(30,Ci)),e.R7$(25),e.Y8G("readOnly",c.isReadOnly),e.R7$(4),e.Y8G("readOnly",c.isReadOnly),e.R7$(4),e.Y8G("readOnly",c.isReadOnly),e.R7$(6),e.Y8G("ngValue",null),e.R7$(9),e.Y8G("readOnly",c.isReadOnly),e.R7$(4),e.Y8G("readOnly",c.isReadOnly),e.R7$(6),e.Y8G("ngValue",null),e.R7$(9),e.Y8G("readOnly",c.isReadOnly),e.R7$(45),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",e.bMT(135,20,c.insuranceCompanies$)),e.R7$(6),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",e.bMT(143,22,c.statuts$))}},dependencies:[S.MD,S.YU,S.Sq,S.Jj,E.X1,E.xH,E.y7,E.me,E.Q0,E.Zm,E.wz,E.BC,E.cb,E.j4,E.JD,E.$R],encapsulation:2})}return d})();function Za(d,T){if(!d||!T||0===T.length)return"Non sp\xe9cifi\xe9e";const s=T.find(f=>f.id===d);return s?s.nom:`Inconnue (ID: ${d})`}function el(d){if(!d)return{"bg-gray-100":!0,"text-gray-800":!0};switch(d){case"Nouveau":case"En cours de traitement":return{"bg-blue-100":!0,"text-blue-800":!0};case"En attente":case"En cours":return{"bg-yellow-100":!0,"text-yellow-800":!0};case"Termin\xe9":return{"bg-green-100":!0,"text-green-800":!0};case"Refus\xe9":case"Inactif":return{"bg-red-100":!0,"text-red-800":!0};default:return{"bg-gray-100":!0,"text-gray-800":!0}}}function vf(d,T){if(1&d&&(e.j41(0,"tbody",3)(1,"tr",4)(2,"th",5),e.EFF(3," Preneur d'assurance "),e.k0s()(),e.j41(4,"tr")(5,"td",6),e.EFF(6,"Pr\xe9nom & Nom"),e.k0s(),e.j41(7,"td",7),e.EFF(8),e.nI1(9,"titlecase"),e.nI1(10,"uppercase"),e.k0s()(),e.j41(11,"tr")(12,"td",8),e.EFF(13,"Date de naissance"),e.k0s(),e.j41(14,"td",7),e.EFF(15),e.nI1(16,"date"),e.k0s()(),e.j41(17,"tr")(18,"td",8),e.EFF(19,"Contact"),e.k0s(),e.j41(20,"td",7)(21,"div")(22,"span",9),e.EFF(23,"Email:"),e.k0s(),e.EFF(24),e.k0s(),e.j41(25,"div")(26,"span",9),e.EFF(27,"T\xe9l:"),e.k0s(),e.EFF(28),e.k0s()()(),e.j41(29,"tr")(30,"td",8),e.EFF(31,"Adresse"),e.k0s(),e.j41(32,"td",7),e.EFF(33),e.nrm(34,"br"),e.EFF(35),e.nI1(36,"titlecase"),e.k0s()(),e.j41(37,"tr")(38,"td",8),e.EFF(39,"Identit\xe9 nationale"),e.k0s(),e.j41(40,"td",7)(41,"div")(42,"span",9),e.EFF(43,"RN:"),e.k0s(),e.EFF(44),e.k0s(),e.j41(45,"div")(46,"span",9),e.EFF(47,"Carte Id:"),e.k0s(),e.EFF(48),e.nI1(49,"date"),e.k0s()()()()),2&d){const s=T.ngIf;e.R7$(8),e.Lme(" ",e.bMT(9,11,s.prenom)," ",e.bMT(10,13,s.nom)," "),e.R7$(7),e.SpI(" ",e.i5U(16,15,s.date_naissance,"dd/MM/yyyy")," "),e.R7$(9),e.SpI(" ",s.email,""),e.R7$(4),e.SpI(" ",s.telephone,""),e.R7$(5),e.SpI(" ",s.address,""),e.R7$(2),e.Lme(" ",s.code_postal," ",e.bMT(36,18,s.city)," "),e.R7$(9),e.SpI(" ",s.nationalRegistryNumber,""),e.R7$(4),e.Lme(" ",s.idCardNumber," (Validit\xe9: ",e.i5U(49,20,s.idCardValidityDate,"dd/MM/yyyy"),")")}}function nu(d,T){if(1&d&&(e.j41(0,"tbody",10)(1,"tr",4)(2,"th",5),e.EFF(3," B\xe2timent "),e.k0s()(),e.j41(4,"tr")(5,"td",8),e.EFF(6,"Adresse"),e.k0s(),e.j41(7,"td",7),e.EFF(8),e.nrm(9,"br"),e.EFF(10),e.nI1(11,"titlecase"),e.k0s()(),e.j41(12,"tr")(13,"td",8),e.EFF(14,"Type"),e.k0s(),e.j41(15,"td",7),e.EFF(16),e.k0s()()()),2&d){const s=T.ngIf;e.R7$(8),e.SpI(" ",s.batiment_adresse,""),e.R7$(2),e.Lme(" ",s.batiment_code_postal," ",e.bMT(11,4,s.batiment_ville)," "),e.R7$(6),e.SpI(" ",s.batiment_type_maison," ")}}function _f(d,T){if(1&d&&(e.j41(0,"div")(1,"span",9),e.EFF(2,"Loyer:"),e.k0s(),e.EFF(3),e.nI1(4,"currency"),e.k0s()),2&d){const s=e.XpG().ngIf;e.R7$(3),e.SpI(" ",e.i5U(4,1,s.loyerMensuel,"EUR"),"")}}function Oi(d,T){if(1&d&&(e.j41(0,"div")(1,"span",9),e.EFF(2,"Valeur expertise:"),e.k0s(),e.EFF(3),e.nI1(4,"currency"),e.nI1(5,"date"),e.k0s()),2&d){const s=e.XpG().ngIf;e.R7$(3),e.Lme(" ",e.i5U(4,2,s.valeurExpertise,"EUR")," (",e.i5U(5,5,s.dateExpertise,"dd/MM/yyyy"),")")}}function mc(d,T){if(1&d&&(e.j41(0,"div")(1,"span",9),e.EFF(2,"Valeur contenu:"),e.k0s(),e.EFF(3),e.nI1(4,"currency"),e.k0s()),2&d){const s=e.XpG().ngIf;e.R7$(3),e.SpI(" ",e.i5U(4,1,s.evaluation_valeur_libre_contenu,"EUR"),"")}}function gc(d,T){if(1&d&&(e.j41(0,"tbody",10)(1,"tr",4)(2,"th",5),e.EFF(3," \xc9valuation "),e.k0s()(),e.j41(4,"tr")(5,"td",8),e.EFF(6,"Dimensions"),e.k0s(),e.j41(7,"td",7)(8,"div")(9,"span",9),e.EFF(10,"Superficie:"),e.k0s(),e.EFF(11),e.k0s(),e.j41(12,"div")(13,"span",9),e.EFF(14,"Pi\xe8ces:"),e.k0s(),e.EFF(15),e.k0s(),e.DNE(16,_f,5,4,"div",11),e.k0s()(),e.j41(17,"tr")(18,"td",8),e.EFF(19,"Valeurs"),e.k0s(),e.j41(20,"td",7)(21,"div")(22,"span",9),e.EFF(23,"B\xe2timent:"),e.k0s(),e.EFF(24),e.k0s(),e.DNE(25,Oi,6,8,"div",11),e.j41(26,"div")(27,"span",9),e.EFF(28,"Contenu:"),e.k0s(),e.EFF(29),e.k0s(),e.DNE(30,mc,5,4,"div",11),e.k0s()()()),2&d){const s=T.ngIf;e.R7$(11),e.SpI(" ",s.superficie," m\xb2"),e.R7$(4),e.SpI(" ",s.nombrePieces,""),e.R7$(),e.Y8G("ngIf",s.loyerMensuel),e.R7$(8),e.SpI(" ",s.typeValeurBatiment,""),e.R7$(),e.Y8G("ngIf",s.valeurExpertise),e.R7$(4),e.SpI(" ",s.typeValeurContenu,""),e.R7$(),e.Y8G("ngIf",s.evaluation_valeur_libre_contenu)}}function En(d,T){if(1&d&&(e.j41(0,"tbody",10)(1,"tr",4)(2,"th",5),e.EFF(3," Garanties et Contrat "),e.k0s()(),e.j41(4,"tr")(5,"td",8),e.EFF(6,"Statut & Contrat"),e.k0s(),e.j41(7,"td",7)(8,"div")(9,"span",9),e.EFF(10,"Statut:"),e.k0s(),e.j41(11,"span",12),e.EFF(12),e.k0s()(),e.j41(13,"div")(14,"span",9),e.EFF(15,"Date d'effet:"),e.k0s(),e.EFF(16),e.nI1(17,"date"),e.k0s(),e.j41(18,"div")(19,"span",9),e.EFF(20,"Compagnie:"),e.k0s(),e.EFF(21),e.k0s()()(),e.j41(22,"tr")(23,"td",8),e.EFF(24,"Options souscrites"),e.k0s(),e.j41(25,"td",13)(26,"ul",14)(27,"li"),e.EFF(28,"Contenu: "),e.j41(29,"strong"),e.EFF(30),e.k0s()(),e.j41(31,"li"),e.EFF(32,"Vol: "),e.j41(33,"strong"),e.EFF(34),e.k0s()(),e.j41(35,"li"),e.EFF(36,"Pertes indirectes: "),e.j41(37,"strong"),e.EFF(38),e.k0s()(),e.j41(39,"li"),e.EFF(40,"Protection Juridique: "),e.j41(41,"strong"),e.EFF(42),e.k0s()(),e.j41(43,"li"),e.EFF(44,"Assistance: "),e.j41(45,"strong"),e.EFF(46),e.k0s()()()()()()),2&d){const s=T.ngIf,f=e.XpG();e.R7$(11),e.Y8G("ngClass",f.getStatutClass(s.statut)),e.R7$(),e.JRh(s.statut),e.R7$(4),e.SpI(" ",e.i5U(17,9,s.dateEffet,"dd/MM/yyyy"),""),e.R7$(5),e.SpI(" ",f.getCompanyName(s.insuranceCompany),""),e.R7$(9),e.JRh(s.contenu?"Oui":"Non"),e.R7$(4),e.JRh(s.vol?"Oui":"Non"),e.R7$(4),e.JRh(s.pertesIndirectes?"Oui":"Non"),e.R7$(4),e.JRh(s.protectionJuridique?"Oui":"Non"),e.R7$(4),e.JRh(s.assistance?"Oui":"Non")}}let ru=(()=>{class d{formValue;insuranceCompanies=[];getCompanyName(s){return Za(s,this.insuranceCompanies)}getStatutClass(s){return el(s)}static \u0275fac=function(f){return new(f||d)};static \u0275cmp=e.VBU({type:d,selectors:[["app-habitation-details"]],inputs:{formValue:"formValue",insuranceCompanies:"insuranceCompanies"},standalone:!0,features:[e.aNF],decls:5,vars:4,consts:[[1,"min-w-full","divide-y","divide-gray-200"],["class","bg-white divide-y divide-gray-200",4,"ngIf"],["class","bg-white divide-y divide-gray-200 border-t-8 border-gray-50",4,"ngIf"],[1,"bg-white","divide-y","divide-gray-200"],[1,"bg-gray-100"],["colspan","2",1,"px-6","py-3","text-left","text-xs","font-bold","text-gray-500","uppercase","tracking-wider"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-700","bg-gray-50","w-1/3"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-700","bg-gray-50"],[1,"font-medium"],[1,"bg-white","divide-y","divide-gray-200","border-t-8","border-gray-50"],[4,"ngIf"],[1,"px-2.5","py-0.5","rounded-full","text-xs","font-medium",3,"ngClass"],[1,"px-6","py-4","text-sm","text-gray-900"],[1,"list-disc","list-inside"]],template:function(f,c){1&f&&(e.j41(0,"table",0),e.DNE(1,vf,50,23,"tbody",1)(2,nu,17,6,"tbody",2)(3,gc,31,7,"tbody",2)(4,En,47,12,"tbody",2),e.k0s()),2&f&&(e.R7$(),e.Y8G("ngIf",null==c.formValue?null:c.formValue.preneurAssurance),e.R7$(),e.Y8G("ngIf",null==c.formValue?null:c.formValue.batiment),e.R7$(),e.Y8G("ngIf",null==c.formValue?null:c.formValue.evaluation),e.R7$(),e.Y8G("ngIf",null==c.formValue?null:c.formValue.garantiesHabitation))},dependencies:[S.MD,S.YU,S.bT,S.Pc,S.PV,S.oe,S.vh],encapsulation:2})}return d})();const as=d=>({"border-red-500 ring-red-500":d});function Mo(d,T){if(1&d){const s=e.RV6();e.j41(0,"div",17)(1,"button",18),e.bIt("click",function(){const c=e.eBV(s).index,O=e.XpG();return e.Njj(O.removeAssure(c))}),e.qSk(),e.j41(2,"svg",19),e.nrm(3,"path",20),e.k0s()(),e.joV(),e.j41(4,"div",21)(5,"div")(6,"label",22),e.EFF(7,"Nom"),e.k0s(),e.nrm(8,"input",23),e.k0s(),e.j41(9,"div")(10,"label",22),e.EFF(11,"Pr\xe9nom"),e.k0s(),e.nrm(12,"input",24),e.k0s(),e.j41(13,"div")(14,"label",22),e.EFF(15,"Date de naissance"),e.k0s(),e.nrm(16,"input",25),e.k0s(),e.j41(17,"div")(18,"label",22),e.EFF(19,"Capital assur\xe9 (\u20ac)"),e.k0s(),e.nrm(20,"input",26),e.k0s()()()}if(2&d){let s,f,c,O;const se=T.$implicit,ke=T.index;e.Y8G("formGroupName",ke),e.R7$(6),e.Y8G("for","assure-nom-"+ke),e.R7$(2),e.Y8G("id","assure-nom-"+ke)("ngClass",e.eq3(13,as,(null==(s=se.get("nom"))?null:s.invalid)&&(null==(s=se.get("nom"))?null:s.touched))),e.R7$(2),e.Y8G("for","assure-prenom-"+ke),e.R7$(2),e.Y8G("id","assure-prenom-"+ke)("ngClass",e.eq3(15,as,(null==(f=se.get("prenom"))?null:f.invalid)&&(null==(f=se.get("prenom"))?null:f.touched))),e.R7$(2),e.Y8G("for","assure-dateNaissance-"+ke),e.R7$(2),e.Y8G("id","assure-dateNaissance-"+ke)("ngClass",e.eq3(17,as,(null==(c=se.get("dateNaissance"))?null:c.invalid)&&(null==(c=se.get("dateNaissance"))?null:c.touched))),e.R7$(2),e.Y8G("for","assure-capital-"+ke),e.R7$(2),e.Y8G("id","assure-capital-"+ke)("ngClass",e.eq3(19,as,(null==(O=se.get("capital"))?null:O.invalid)&&(null==(O=se.get("capital"))?null:O.touched)))}}function yf(d,T){if(1&d&&(e.j41(0,"option",27),e.EFF(1),e.k0s()),2&d){const s=T.$implicit;e.Y8G("value",s.id),e.R7$(),e.JRh(s.nom)}}function ma(d,T){if(1&d&&(e.j41(0,"option",27),e.EFF(1),e.k0s()),2&d){const s=T.$implicit;e.Y8G("value",s.statut),e.R7$(),e.JRh(s.statut)}}let Fs=(()=>{class d{fb;dbService;platformId;parentForm;statuts$;insuranceCompanies$;obsequesCities$=new ur.t([]);destroy$=new ue.B;constructor(s,f,c){this.fb=s,this.dbService=f,this.platformId=c}ngOnInit(){if(this.statuts$=this.dbService.getAllStatuts(),this.insuranceCompanies$=this.dbService.getAllAssureurs(),(0,S.UE)(this.platformId)){const s=this.parentForm.get("preneurObseques");if(!s)return;s.get("postalCode")?.valueChanges.pipe(Te(300),(0,$e.F)(),(0,Ye.n)(f=>f&&f.length>=4?this.dbService.getCitiesByPostalCode(f):(0,K.of)([])),(0,Ke.Q)(this.destroy$)).subscribe(f=>{this.obsequesCities$.next(f);const c=s.get("city");c?.setValue(1===f.length?f[0]:null)})}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}get assures(){return this.parentForm.get("assures.assures")}createAssureFormGroup(s={}){return this.fb.group({nom:[s.nom||""],prenom:[s.prenom||""],dateNaissance:[s.dateNaissance||""],capital:[s.capital||0]})}addAssure(){this.assures&&this.assures.push(this.createAssureFormGroup())}removeAssure(s){this.assures&&this.assures.removeAt(s)}static \u0275fac=function(f){return new(f||d)(e.rXU(E.ok),e.rXU(_t.y),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:d,selectors:[["app-obseques-form"]],inputs:{parentForm:"parentForm"},standalone:!0,features:[e.aNF],decls:31,vars:10,consts:[[3,"formGroup"],["formGroupName","assures",1,"mt-6"],[1,"text-lg","font-semibold","text-gray-800","bg-gray-100","-mx-6","px-6","py-2","mb-4","border-y"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-x-6","gap-y-4"],[1,"flex","items-center"],["id","preneurEstAssure","type","checkbox","formControlName","preneurEstAssure",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","preneurEstAssure",1,"ml-2","block","text-sm","text-gray-900"],["formArrayName","assures"],[1,"text-md","font-semibold","text-gray-600"],["class","p-4 border rounded-md mt-2 space-y-3 bg-gray-50 relative",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"mt-4","text-sm","font-medium","text-indigo-600","hover:text-indigo-500",3,"click"],["for","obs-insuranceCompany",1,"block","text-sm","font-medium","text-gray-700"],["id","obs-insuranceCompany","formControlName","insuranceCompany",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["for","obs-statut",1,"block","text-sm","font-medium","text-gray-700"],["id","obs-statut","formControlName","statut",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"p-4","border","rounded-md","mt-2","space-y-3","bg-gray-50","relative",3,"formGroupName"],["type","button",1,"absolute","top-2","right-2","text-red-500","hover:text-red-700",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"block","text-sm","font-medium","text-gray-700",3,"for"],["type","text","formControlName","nom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"id","ngClass"],["type","text","formControlName","prenom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"id","ngClass"],["type","date","formControlName","dateNaissance",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"id","ngClass"],["type","number","formControlName","capital",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"id","ngClass"],[3,"value"]],template:function(f,c){1&f&&(e.j41(0,"div",0)(1,"div",1)(2,"h3",2),e.EFF(3,"Assur\xe9s et contrat"),e.k0s(),e.j41(4,"div",3)(5,"div",4),e.nrm(6,"input",5),e.j41(7,"label",6),e.EFF(8,"Le preneur est aussi l'assur\xe9"),e.k0s()(),e.j41(9,"div",7)(10,"h4",8),e.EFF(11,"Liste des assur\xe9s"),e.k0s(),e.DNE(12,Mo,21,21,"div",9),e.j41(13,"button",10),e.bIt("click",function(){return c.addAssure()}),e.EFF(14,"+ Ajouter un assur\xe9"),e.k0s()(),e.j41(15,"div")(16,"label",11),e.EFF(17,"Compagnie"),e.k0s(),e.j41(18,"select",12)(19,"option",13),e.EFF(20,"-- S\xe9lectionner --"),e.k0s(),e.DNE(21,yf,2,2,"option",14),e.nI1(22,"async"),e.k0s()(),e.j41(23,"div")(24,"label",15),e.EFF(25,"Statut"),e.k0s(),e.j41(26,"select",16)(27,"option",13),e.EFF(28,"-- S\xe9lectionner --"),e.k0s(),e.DNE(29,ma,2,2,"option",14),e.nI1(30,"async"),e.k0s()()()()()),2&f&&(e.Y8G("formGroup",c.parentForm),e.R7$(12),e.Y8G("ngForOf",c.assures.controls),e.R7$(7),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",e.bMT(22,6,c.insuranceCompanies$)),e.R7$(6),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",e.bMT(30,8,c.statuts$)))},dependencies:[S.MD,S.YU,S.Sq,S.Jj,E.X1,E.xH,E.y7,E.me,E.Q0,E.Zm,E.wz,E.BC,E.cb,E.j4,E.JD,E.$R,E.v8],encapsulation:2})}return d})();function zo(d,T){if(1&d&&(e.j41(0,"tbody",5)(1,"tr",6)(2,"th",7),e.EFF(3,"Preneur d'assurance"),e.k0s()(),e.j41(4,"tr")(5,"td",8),e.EFF(6,"Nom"),e.k0s(),e.j41(7,"td",9),e.EFF(8),e.nI1(9,"uppercase"),e.nI1(10,"titlecase"),e.k0s()(),e.j41(11,"tr")(12,"td",10),e.EFF(13,"Date de naissance"),e.k0s(),e.j41(14,"td",9),e.EFF(15),e.nI1(16,"date"),e.k0s()(),e.j41(17,"tr")(18,"td",10),e.EFF(19,"Contact"),e.k0s(),e.j41(20,"td",9),e.EFF(21),e.k0s()(),e.j41(22,"tr")(23,"td",10),e.EFF(24,"Adresse"),e.k0s(),e.j41(25,"td",9),e.EFF(26),e.k0s()()()),2&d){const s=T.ngIf;e.R7$(8),e.Lme("",e.bMT(9,8,s.lastName)," ",e.bMT(10,10,s.firstName),""),e.R7$(7),e.JRh(e.i5U(16,12,s.dateNaissance,"dd/MM/yyyy")),e.R7$(6),e.Lme("",s.email," | ",s.phone,""),e.R7$(5),e.E5c("",s.address,", ",s.postalCode," ",s.city,"")}}function bf(d,T){if(1&d&&(e.j41(0,"li"),e.EFF(1),e.nI1(2,"titlecase"),e.nI1(3,"uppercase"),e.nI1(4,"date"),e.j41(5,"strong"),e.EFF(6),e.nI1(7,"currency"),e.k0s()()),2&d){const s=T.$implicit;e.R7$(),e.E5c(" ",e.bMT(2,4,s.prenom)," ",e.bMT(3,6,s.nom)," (",e.i5U(4,8,s.dateNaissance,"dd/MM/yyyy"),") - Capital: "),e.R7$(5),e.JRh(e.i5U(7,11,s.capital,"EUR"))}}function ou(d,T){if(1&d&&(e.j41(0,"tr")(1,"td",14),e.EFF(2,"Liste des assur\xe9s"),e.k0s(),e.j41(3,"td",15)(4,"ul",16),e.DNE(5,bf,8,14,"li",17),e.k0s()()()),2&d){const s=e.XpG().ngIf;e.R7$(5),e.Y8G("ngForOf",s.assures)}}function Ef(d,T){if(1&d&&(e.j41(0,"tbody",11)(1,"tr",6)(2,"th",7),e.EFF(3,"Assur\xe9s et contrat"),e.k0s()(),e.j41(4,"tr")(5,"td",10),e.EFF(6,"D\xe9tails contrat"),e.k0s(),e.j41(7,"td",9)(8,"p"),e.EFF(9,"Le preneur est assur\xe9: "),e.j41(10,"strong"),e.EFF(11),e.k0s()(),e.j41(12,"p"),e.EFF(13),e.k0s(),e.j41(14,"p"),e.EFF(15,"Statut: "),e.j41(16,"span",12),e.EFF(17),e.k0s()()()(),e.DNE(18,ou,6,1,"tr",13),e.k0s()),2&d){const s=T.ngIf,f=e.XpG(2);e.R7$(11),e.JRh(s.preneurEstAssure?"Oui":"Non"),e.R7$(2),e.SpI("Compagnie: ",f.getCompanyName(s.insuranceCompany)||"Non sp\xe9cifi\xe9e",""),e.R7$(3),e.Y8G("ngClass",f.getStatutClass(s.statut)),e.R7$(),e.JRh(s.statut||"N/A"),e.R7$(),e.Y8G("ngIf",(null==s.assures?null:s.assures.length)>0)}}function ai(d,T){if(1&d&&(e.j41(0,"div")(1,"table",2),e.DNE(2,zo,27,15,"tbody",3)(3,Ef,19,5,"tbody",4),e.k0s()()),2&d){const s=e.XpG();e.R7$(2),e.Y8G("ngIf",s.formValue.preneurObseques),e.R7$(),e.Y8G("ngIf",s.formValue.assures)}}function vc(d,T){1&d&&(e.j41(0,"div",18)(1,"p"),e.EFF(2,"Les informations du devis ne sont pas disponibles."),e.k0s()())}let _c=(()=>{class d{formValue;insuranceCompanies=[];getCompanyName(s){return Za(s,this.insuranceCompanies)}getStatutClass(s){return el(s)}static \u0275fac=function(f){return new(f||d)};static \u0275cmp=e.VBU({type:d,selectors:[["app-obseques-details"]],inputs:{formValue:"formValue",insuranceCompanies:"insuranceCompanies"},standalone:!0,features:[e.aNF],decls:3,vars:2,consts:[["noData",""],[4,"ngIf","ngIfElse"],[1,"min-w-full","divide-y","divide-gray-200"],["class","bg-white divide-y divide-gray-200",4,"ngIf"],["class","bg-white divide-y divide-gray-200 border-t-8 border-transparent",4,"ngIf"],[1,"bg-white","divide-y","divide-gray-200"],[1,"bg-gray-50"],["colspan","2",1,"px-6","py-3","text-left","text-xs","font-bold","text-gray-500","uppercase","tracking-wider"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-700","bg-gray-50","w-1/3"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-700","bg-gray-50"],[1,"bg-white","divide-y","divide-gray-200","border-t-8","border-transparent"],[1,"font-medium","px-2.5","py-0.5","rounded-full","text-xs",3,"ngClass"],[4,"ngIf"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-700","bg-gray-50","align-top"],[1,"px-6","py-4","text-sm","text-gray-900"],[1,"list-disc","list-inside","space-y-1"],[4,"ngFor","ngForOf"],[1,"text-center","py-8","text-gray-500"]],template:function(f,c){if(1&f&&e.DNE(0,ai,4,2,"div",1)(1,vc,3,0,"ng-template",null,0,e.C5r),2&f){const O=e.sdS(2);e.Y8G("ngIf",c.formValue)("ngIfElse",O)}},dependencies:[S.MD,S.YU,S.Sq,S.bT,S.Pc,S.PV,S.oe,S.vh],encapsulation:2})}return d})();var yc=D(8264),tl=D(324),iu=D(4125);const nl=(d,T)=>({"text-green-800":d,"text-red-800":T});function rl(d,T){1&d&&(e.qSk(),e.j41(0,"svg",21),e.nrm(1,"path",22),e.k0s())}function su(d,T){1&d&&(e.qSk(),e.j41(0,"svg",23),e.nrm(1,"path",24),e.k0s())}function Yi(d,T){if(1&d){const s=e.RV6();e.j41(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10),e.DNE(4,rl,2,0,"svg",11)(5,su,2,0,"svg",12),e.k0s(),e.j41(6,"div",13)(7,"p",14),e.EFF(8),e.k0s(),e.j41(9,"p",15),e.EFF(10),e.k0s()(),e.j41(11,"div",16)(12,"button",17),e.bIt("click",function(){e.eBV(s);const c=e.XpG();return e.Njj(c.hideNotification())}),e.j41(13,"span",18),e.EFF(14,"Fermer"),e.k0s(),e.qSk(),e.j41(15,"svg",19),e.nrm(16,"path",20),e.k0s()()()()()()}if(2&d){const s=e.XpG();e.R7$(4),e.Y8G("ngIf","success"===s.popupType),e.R7$(),e.Y8G("ngIf","error"===s.popupType),e.R7$(2),e.Y8G("ngClass",e.l_i(5,nl,"success"===s.popupType,"error"===s.popupType)),e.R7$(),e.SpI(" ","success"===s.popupType?"Succ\xe8s":"Erreur"," "),e.R7$(2),e.JRh(s.popupMessage)}}function Vt(d,T){if(1&d&&e.nrm(0,"app-auto-form",38),2&d){const s=e.XpG(3);e.Y8G("parentForm",s.quoteUpdateForm)("marqueCtrl",s.marqueCtrl)("filteredMarques$",s.filteredMarques$)("isMarqueLoading",s.isMarqueLoading)("isModeleLoading",s.isModeleLoading)("modelesForSelectedMarque",s.modelesForSelectedMarque)("selectMarque",s.selectMarque.bind(s))("preneurCities$",s.preneurCities$)("conducteurCities$",s.conducteurCities$)}}function ol(d,T){if(1&d&&e.nrm(0,"app-habitation-form",39),2&d){const s=e.XpG(3);e.Y8G("parentForm",s.quoteUpdateForm)}}function au(d,T){if(1&d&&e.nrm(0,"app-obseques-form",39),2&d){const s=e.XpG(3);e.Y8G("parentForm",s.quoteUpdateForm)}}function bc(d,T){if(1&d){const s=e.RV6();e.qex(0),e.j41(1,"div",31)(2,"form",32),e.bIt("ngSubmit",function(){e.eBV(s);const c=e.XpG(2);return e.Njj(c.updateQuoteDetails())}),e.j41(3,"h2",33),e.EFF(4,"Mettre \xe0 jour l'offre"),e.k0s(),e.qex(5,29),e.DNE(6,Vt,1,9,"app-auto-form",34)(7,ol,1,1,"app-habitation-form",35)(8,au,1,1,"app-obseques-form",35),e.bVm(),e.j41(9,"div",36)(10,"button",37),e.EFF(11," Mettre \xe0 jour les informations "),e.k0s()()()(),e.bVm()}if(2&d){const s=e.XpG(2);e.R7$(2),e.Y8G("formGroup",s.quoteUpdateForm),e.R7$(3),e.Y8G("ngSwitch",s.quoteType),e.R7$(),e.Y8G("ngSwitchCase","auto"),e.R7$(),e.Y8G("ngSwitchCase","habitation"),e.R7$(),e.Y8G("ngSwitchCase","obseques"),e.R7$(2),e.Y8G("disabled",s.quoteUpdateForm.invalid||s.quoteUpdateForm.pristine)}}function Cm(d,T){if(1&d&&e.nrm(0,"app-auto-details",49),2&d){const s=e.XpG(3);e.Y8G("formValue",s.quoteUpdateForm.value)}}function Cf(d,T){if(1&d&&e.nrm(0,"app-habitation-details",50),2&d){const s=e.XpG(3);e.Y8G("formValue",s.quoteUpdateForm.value)("insuranceCompanies",s.insuranceCompanies)}}function wf(d,T){if(1&d&&e.nrm(0,"app-obseques-details",50),2&d){const s=e.XpG(3);e.Y8G("formValue",s.quoteUpdateForm.value)("insuranceCompanies",s.insuranceCompanies)}}function xf(d,T){if(1&d){const s=e.RV6();e.qex(0),e.j41(1,"div",40)(2,"div",41)(3,"h2",42),e.EFF(4,"R\xe9sum\xe9 de l'offre (Lecture seule)"),e.k0s(),e.j41(5,"button",43),e.bIt("click",function(){e.eBV(s);const c=e.XpG(2);return e.Njj(c.printQuote())}),e.qSk(),e.j41(6,"svg",44),e.nrm(7,"path",45),e.k0s(),e.EFF(8," Imprimer "),e.k0s()(),e.joV(),e.j41(9,"div",46),e.qex(10,29),e.DNE(11,Cm,1,1,"app-auto-details",47)(12,Cf,1,2,"app-habitation-details",48)(13,wf,1,2,"app-obseques-details",48),e.bVm(),e.k0s()(),e.bVm()}if(2&d){const s=e.XpG(2);e.R7$(10),e.Y8G("ngSwitch",s.quoteType),e.R7$(),e.Y8G("ngSwitchCase","auto"),e.R7$(),e.Y8G("ngSwitchCase","habitation"),e.R7$(),e.Y8G("ngSwitchCase","obseques")}}function Ec(d,T){if(1&d){const s=e.RV6();e.j41(0,"div")(1,"h1",25),e.EFF(2),e.nI1(3,"titlecase"),e.k0s(),e.j41(4,"div",26)(5,"nav",27)(6,"button",28),e.bIt("click",function(){e.eBV(s);const c=e.XpG();return e.Njj(c.activeTab="form")}),e.EFF(7," Formulaire "),e.k0s(),e.j41(8,"button",28),e.bIt("click",function(){e.eBV(s);const c=e.XpG();return e.Njj(c.activeTab="text")}),e.EFF(9," Fiche "),e.k0s()()(),e.j41(10,"div",29),e.DNE(11,bc,12,6,"ng-container",30)(12,xf,14,4,"ng-container",30),e.k0s()()}if(2&d){const s=e.XpG();e.R7$(2),e.Lme("D\xe9tails de l'offre #",s.quoteId," - ",e.bMT(3,7,s.quoteType),""),e.R7$(4),e.Y8G("ngClass","form"===s.activeTab?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngClass","text"===s.activeTab?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngSwitch",s.activeTab),e.R7$(),e.Y8G("ngSwitchCase","form"),e.R7$(),e.Y8G("ngSwitchCase","text")}}function Is(d,T){1&d&&e.EFF(0,"Chargement des D\xe9tails de l'offre...")}let Df=(()=>{class d{route;dbService;fb;uploaderService;contractService;sendsmsService;platformId;quoteDetails$;quoteDetails;quoteType=null;quoteId=null;activeTab="form";csvData$=(0,K.of)([]);showPopup=!1;popupMessage="";popupType="success";popupTimeout;showMainDriverSection=!1;nationalities$;preneurCities$=new ur.t([]);statuts$;conducteurCities$=new ur.t([]);batimentCities$=new ur.t([]);obsequesCities$=new ur.t([]);marqueCtrl=new E.MJ("");filteredMarques$;isMarqueLoading=!1;isModeleLoading=!1;insuranceCompanies$;insuranceCompanies=[];destroy$=new ue.B;modelesForSelectedMarque=[];selectedMarqueId=null;vehicleYears=[];contractForm;quoteUpdateForm;today;constructor(s,f,c,O,se,ke,rt){this.route=s,this.dbService=f,this.fb=c,this.uploaderService=O,this.contractService=se,this.sendsmsService=ke,this.platformId=rt;const Ft=new Date,Ht=Ft.getFullYear(),sn=("0"+(Ft.getMonth()+1)).slice(-2),Hn=("0"+Ft.getDate()).slice(-2);this.today=`${Ht}-${sn}-${Hn}`,this.contractForm=this.fb.group({date_contrat:["",E.k0.required],periodicite:["annuel",E.k0.required],compagnie_id:[null,E.k0.required],rappel:[!1],fichiers_contrat:new E.MJ(null)}),this.quoteUpdateForm=this.fb.group({preneurAssurance:this.fb.group({prenom:[""],nom:[""],date_naissance:[""],email:["",E.k0.email],telephone:[""],address:[""],postalCode:[""],city:[null],driverLicenseNumber:[""],driverLicenseDate:[""],nationalRegistryNumber:["",this.belgianNationalNumberValidator()],idCardNumber:[""],idCardValidityDate:[""],nationality:[""],maritalStatus:[""]}),preneurObseques:this.fb.group({prenom:[""],nom:[""],date_naissance:[""],email:["",E.k0.email],telephone:[""],address:[""],postalCode:[""],city:[null]}),conducteurPrincipal:this.fb.group({prenom:[""],nom:[""],date_naissance:[""],email:["",E.k0.email],telephone:[""],address:[""],postalCode:[""],city:[null],driverLicenseNumber:[""],driverLicenseDate:[""],nationalRegistryNumber:["",this.belgianNationalNumberValidator()],idCardNumber:[""],idCardValidityDate:[""],nationality:[""],maritalStatus:[""]}),vehicule:this.fb.group({make:[""],model:[""],year:[null],licensePlate:[""],power:[null],value:[null],seats:[null],registrationDate:[""]}),garantie:this.fb.group({baseRC:[!1],omniumLevel:[""],driverCoverage:[!1],assistance:[!1],effectiveDate:[""],insuranceCompany:[null],statut:[""]}),garantiesHabitation:this.fb.group({contenu:[!1],vol:[!1],pertesIndirectes:[!1],protectionJuridique:[!1],assistance:[!1],dateEffet:[""],statut:[""],insuranceCompany:[null]}),batiment:this.fb.group({batiment_adresse:[""],batiment_code_postal:[""],batiment_ville:[null],batiment_type_maison:[""]}),evaluation:this.fb.group({typeValeurBatiment:[""],superficie:[null],nombrePieces:[null],loyerMensuel:[null],typeValeurContenu:[""],valeurExpertise:[null],dateExpertise:[""]}),assures:this.fb.group({preneurEstAssure:[!1],assures:this.fb.array([]),statut:[""],insuranceCompany:[null]}),detailsVoyage:this.fb.group({description:[""],statut:[""]}),detailsRCFamiliale:this.fb.group({preneur_nom:[""],preneur_prenom:[""],preneur_genre:[""],preneur_telephone:[""],preneur_email:[""],preneur_adresse:[""],preneur_code_postal:[""],preneur_ville:[""],risque:[""],nationalRegistryNumber:["",this.belgianNationalNumberValidator()],statut:[""],idCardNumber:[""],description:[""]})})}ngOnInit(){for(let f=(new Date).getFullYear();f>=1940;f--)this.vehicleYears.push(f);if(this.quoteUpdateForm.get("preneurAssurance")?.setValidators(this.nationalNumberDateConsistencyValidator()),this.quoteUpdateForm.get("conducteurPrincipal")?.setValidators(this.nationalNumberDateConsistencyValidator()),this.subscribeToInsuranceCompanies(),this.nationalities$=this.dbService.getNationalities(),this.statuts$=this.dbService.getAllStatuts(),(0,S.UE)(this.platformId)){const f=this.quoteUpdateForm.get("preneurAssurance.postalCode");f&&f.valueChanges.pipe(Te(300),(0,$e.F)(),(0,Ye.n)(O=>O&&O.length>=4?this.dbService.getCitiesByPostalCode(O):(0,K.of)([]))).subscribe(O=>{this.preneurCities$.next(O);const se=this.quoteUpdateForm.get("preneurAssurance.city"),ke=se?.value;ke&&!O.includes(ke)&&se.reset()});const c=this.quoteUpdateForm.get("preneurObseques.postalCode");c&&c.valueChanges.pipe(Te(300),(0,$e.F)(),(0,Ye.n)(O=>O&&O.length>=4?this.dbService.getCitiesByPostalCode(O):(0,K.of)([]))).subscribe(O=>this.obsequesCities$.next(O))}this.filteredMarques$=this.marqueCtrl.valueChanges.pipe((0,J.Z)(""),Te(300),(0,$e.F)(),(0,ye.M)(f=>{const c="string"==typeof f?f:f?.nom||"";"string"==typeof f&&(this.quoteUpdateForm.get("vehicule.model")?.setValue(""),this.modelesForSelectedMarque=[],this.selectedMarqueId=null),this.isMarqueLoading=c.length>=2}),(0,Ye.n)(f=>{const c="string"==typeof f?f:f?.nom||"";return c.length>=2?this.dbService.searchMarques(c).pipe((0,jn.j)(()=>this.isMarqueLoading=!1)):(this.isMarqueLoading=!1,(0,K.of)([]))})),this.marqueCtrl.valueChanges.pipe((0,Ke.Q)(this.destroy$)).subscribe(f=>{this.quoteUpdateForm.get("vehicule.make")?.setValue(f,{emitEvent:!1})}),this.quoteDetails$=this.getQuoteDetailsFromRoute(),this.csvData$=this.route.paramMap.pipe((0,Ye.n)(f=>{const c=f.get("type"),O=Number(f.get("id"));return c&&O?this.dbService.getCsvData(O,c):(0,K.of)([])}))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}patchFormValues(s){const f=this.quoteUpdateForm.get("preneurAssurance.postalCode")?.value;console.warn("[ManagementDetailComponent] patchFormValues - Vehicle brand:",s.vehicule?.marque);const c=this.quoteUpdateForm.get("batiment.codePostal")?.value,O=this.quoteUpdateForm.get("preneurObseques.postalCode")?.value,se=s.vehicule?.marque,ke=(0,S.UE)(this.platformId)&&f?this.dbService.getCitiesByPostalCode(f).pipe((0,ye.M)(sn=>this.preneurCities$.next(sn))):(0,K.of)(null),rt=(0,S.UE)(this.platformId)&&c?this.dbService.getCitiesByPostalCode(c).pipe((0,ye.M)(sn=>this.batimentCities$.next(sn))):(0,K.of)([]),Ft=(0,S.UE)(this.platformId)&&O?this.dbService.getCitiesByPostalCode(O).pipe((0,ye.M)(sn=>this.obsequesCities$.next(sn))):(0,K.of)(null),Ht=(0,S.UE)(this.platformId)&&"auto"===this.quoteType&&se?this.dbService.searchMarques(se).pipe((0,Ye.n)(sn=>sn&&sn.length>0?(this.selectedMarqueId=sn[0].marque_id,this.isModeleLoading=!0,this.dbService.searchModeles(this.selectedMarqueId).pipe((0,ye.M)(er=>{this.modelesForSelectedMarque=er,console.warn("[ManagementDetailComponent] patchFormValues - Patching model with value:",s.vehicule.modele),this.quoteUpdateForm.get("vehicule.model")?.patchValue(s.vehicule.modele,{emitEvent:!1})}),(0,jn.j)(()=>this.isModeleLoading=!1))):(0,K.of)(null))):(0,K.of)(null);return(0,K.of)(s).pipe((0,Ye.n)(()=>Promise.all([ke,rt,Ft,Ht])))}_patchCommonPreneur(s,f){const c=s.preneur||s;c&&(console.warn("[ManagementDetailComponent] Patching preneur form with date_naissance:",c.date_naissance),this.quoteUpdateForm.get("preneurAssurance")?.patchValue({prenom:c.prenom,nom:c.nom,date_naissance:f(c.date_naissance),email:c.email,telephone:c.telephone,address:c.adresse,postalCode:c.code_postal,city:c.ville,driverLicenseNumber:c.permis_numero,driverLicenseDate:f(c.permis_date),nationalRegistryNumber:c.numero_national,idCardNumber:c.idcard_number,idCardValidityDate:f(c.idcard_validity),nationality:c.nationality,maritalStatus:c.marital_status_id}))}_patchAuto(s,f){this._patchCommonPreneur(s,f),this.showMainDriverSection=s.preneur_id!==s.conducteur_id,this.showMainDriverSection&&s.conducteur&&this.quoteUpdateForm.get("conducteurPrincipal")?.patchValue({firstName:s.conducteur.prenom,lastName:s.conducteur.nom,date_naissance:f(s.conducteur.date_naissance),email:s.conducteur.email,telephone:s.conducteur.telephone,address:s.conducteur.adresse,postalCode:s.conducteur.code_postal,city:s.conducteur.ville,driverLicenseNumber:s.conducteur.permis_numero,driverLicenseDate:f(s.conducteur.permis_date),nationalRegistryNumber:s.conducteur.numero_national,idCardNumber:s.conducteur.idcard_number,idCardValidityDate:f(s.conducteur.idcard_validity),nationality:s.conducteur.nationality,maritalStatus:s.conducteur.marital_status_id}),s.vehicule&&(console.warn("[ManagementDetailComponent] Patching vehicle form with:",s),console.warn("[ManagementDetailComponent] Patching vehicle form with:",s.vehicule),this.quoteUpdateForm.get("vehicule")?.patchValue({make:s.vehicule.marque,model:s.vehicule.modele,year:s.vehicule.annee,licensePlate:s.vehicule.plaque,power:s.vehicule.puissance_kw,value:s.vehicule.valeur,seats:s.vehicule.places,registrationDate:f(s.vehicule.date_circulation)}),this.marqueCtrl.setValue(s.vehicule.marque||"",{emitEvent:!1})),this.quoteUpdateForm.get("garantie")?.patchValue({baseRC:s.garantie_base_rc,omniumLevel:s.garantie_omnium_niveau,driverCoverage:s.garantie_conducteur,assistance:s.garantie_assistance,effectiveDate:f(s.date_effet),insuranceCompany:s.compagnie_id,statut:s.statut})}_patchHabitation(s,f){this._patchCommonPreneur(s,f),this.quoteUpdateForm.get("batiment")?.patchValue({batiment_adresse:s.batiment_adresse,batiment_code_postal:s.batiment_code_postal,batiment_ville:s.batiment_ville,batiment_type_maison:s.batiment_type_maison}),this.quoteUpdateForm.get("evaluation")?.patchValue({typeValeurBatiment:s.evaluation_type_valeur_batiment,superficie:s.evaluation_superficie,nombrePieces:s.evaluation_nombre_pieces,loyerMensuel:s.evaluation_loyer_mensuel,typeValeurContenu:s.evaluation_type_valeur_contenu,valeurExpertise:s.evaluation_valeur_expertise,dateExpertise:f(s.evaluation_date_expertise)}),this.quoteUpdateForm.get("garantiesHabitation")?.patchValue({contenu:s.garantie_contenu,vol:s.garantie_vol,pertesIndirectes:s.garantie_pertes_indirectes,protectionJuridique:s.garantie_protection_juridique,assistance:s.garantie_assistance,dateEffet:f(s.date_effet),statut:s.statut,insuranceCompany:s.compagnie_id})}_patchObseques(s,f){const c=s.preneur||s;this.quoteUpdateForm.get("preneurObseques")?.patchValue({prenom:c.prenom,nom:c.nom,dateNaissance:f(c.date_naissance),email:c.email,phone:c.telephone,address:c.adresse,postalCode:c.code_postal,city:c.ville}),this.quoteUpdateForm.get("assures.preneurEstAssure")?.setValue(s.preneur_est_assure),this.quoteUpdateForm.get("assures.statut")?.setValue(s.statut),this.quoteUpdateForm.get("assures.insuranceCompany")?.setValue(s.compagnie_id);const O=s.assures||[],se=this.quoteUpdateForm.get("assures.assures");se.clear(),O.forEach(ke=>{se.push(this.fb.group({nom:[ke.nom],prenom:[ke.prenom],dateNaissance:[f(ke.dateNaissance)],capital:[ke.capital]}))})}getQuoteDetailsFromRoute(){return this.route.paramMap.pipe((0,Ye.n)(s=>(this.quoteType=s.get("type"),this.quoteId=Number(s.get("id")),this.quoteType&&this.quoteId?this.dbService.getQuoteDetails(this.quoteType,this.quoteId):(console.warn("[ManagementDetailComponent] Missing quote type or ID in route parameters."),(0,K.of)(null)))),(0,Ye.n)(s=>{if(s){this.quoteDetails=s,console.warn("[ManagementDetailComponent] Received details from DB:",JSON.parse(JSON.stringify(s)));const f=c=>c?this.formatDateForInput(c):null;switch(this.quoteType){case"auto":this._patchAuto(s,f);break;case"habitation":this._patchHabitation(s,f);break;case"obseques":this._patchObseques(s,f);break;case"voyage":this.quoteUpdateForm.get("detailsVoyage")?.patchValue({description:s.description,statut:s.statut});break;case"rc":this._patchCommonPreneur(s,f),this.quoteUpdateForm.get("detailsRCFamiliale")?.patchValue({...s,nationalRegistryNumber:s.numero_national})}return"habitation"===this.quoteType&&s.batiment_code_postal&&this.dbService.getCitiesByPostalCode(s.batiment_code_postal).subscribe(c=>{this.batimentCities$.next(c),this.quoteUpdateForm.get("batiment.batiment_ville")?.patchValue(s.batiment_ville)}),this.patchFormValues(s).pipe((0,ve.T)(()=>s))}return(0,K.of)(null)}),(0,Q.W)(s=>(console.error("Erreur lors de la r\xe9cup\xe9ration des d\xe9tails du devis:",s),(0,K.of)(null))))}selectMarque(s){this.selectedMarqueId=s.marque_id,this.quoteUpdateForm.get("vehicule.make")?.setValue(s.nom,{emitEvent:!1}),this.marqueCtrl.setValue(s.nom),this.quoteUpdateForm.get("vehicule.model")?.reset(""),this.modelesForSelectedMarque=[],this.isModeleLoading=!0,null!==this.selectedMarqueId&&this.dbService.searchModeles(this.selectedMarqueId).pipe((0,jn.j)(()=>this.isModeleLoading=!1)).subscribe(f=>{this.modelesForSelectedMarque=f}),this.filteredMarques$=(0,K.of)([])}formatAsTitle(s){if(!s)return"";const f=s.replace(/([A-Z])/g," $1");return f.charAt(0).toUpperCase()+f.slice(1)}formatDateForInput(s){return new Date(s).toISOString().split("T")[0]}onFileSelected(s){const f=s.target,c=f.files?Array.from(f.files):null;this.contractForm.patchValue({fichiers_contrat:c})}saveContract(){if(this.contractForm.invalid)return void console.log("Le formulaire est invalide.");if(!this.quoteId||!this.quoteType)return void console.error("L'ID ou le type de devis est manquant, impossible de sauvegarder le contrat.");const s=this.contractForm.value,f=s.fichiers_contrat;let c=[];if(f&&f.length>0){const se=new Date,ke=`${se.getFullYear()}${(se.getMonth()+1).toString().padStart(2,"0")}${se.getDate().toString().padStart(2,"0")}`,rt=`${this.quoteId}_${this.quoteType}_${ke}`;c=f.map((Ft,Ht)=>{const sn=Ft.name.split(".").pop();return new File([Ft],`${rt}_${Ht+1}.${sn}`,{type:Ft.type})})}(c.length>0?this.uploaderService.uploadContractFiles(c,this.quoteId,this.quoteType).pipe(function Ja(){return(0,xe.N)((d,T)=>{(function Qa(d,T){return(0,xe.N)((0,Bs.S)(d,T,arguments.length>=2,!1,!0))})(hc,[])(d).subscribe(T)})}()):(0,K.of)([])).pipe((0,ve.T)(se=>se.filter(ke=>!!ke&&"success"===ke.status).map(ke=>ke.path)),(0,Ye.n)(se=>{console.log("Fichiers t\xe9l\xe9vers\xe9s avec succ\xe8s:",se);const ke={quote_id:this.quoteId,quote_type:this.quoteType,compagnie_id:s.compagnie_id,date_contrat:s.date_contrat,periodicite:s.periodicite,rappel:s.rappel,document_paths:se,uid:crypto.randomUUID()};return console.log("Donn\xe9es du contrat \xe0 sauvegarder:",ke),this.contractService.saveContractData(ke)}),(0,Q.W)(se=>(console.error("Une erreur est survenue lors du t\xe9l\xe9versement ou de la sauvegarde:",se),(0,K.of)({success:!1,error:se})))).subscribe(se=>{se&&!se.error?console.log("Contrat enregistr\xe9 avec succ\xe8s !"):console.error("\xc9chec de l'enregistrement du contrat.",se?.error)})}printQuote(){const s=document.getElementById("printable-section");if(s){const f=window.open("","","left=0,top=0,width=900,height=900,toolbar=0,scrollbars=0,status=0");f&&(f.document.write("<html><head><title>Imprimer</title>\n          <style>\n            body { font-family: sans-serif; }\n            table { width: 100%; border-collapse: collapse; }\n            th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }\n            th { background-color: #f2f2f2; }\n            .bg-gray-100 { background-color: #f3f4f6; }\n            .font-bold { font-weight: 700; }\n            .uppercase { text-transform: uppercase; }\n          </style>\n        </head><body>"+s.innerHTML+"</body></html>"),f.document.close(),f.focus(),f.print(),f.close())}}updateQuoteDetails(){if(!this.quoteUpdateForm.valid)return console.error("Le formulaire de mise \xe0 jour est invalide."),void this.quoteUpdateForm.markAllAsTouched();const s=this.quoteUpdateForm.value;console.warn("[ManagementDetailComponent] Form value on update:",s);const f=s.garantie?.statut,c=this.quoteDetails?.statut,O=s.preneurAssurance?.phone;if("auto"===this.quoteType&&"Nouveau"===f&&"Nouveau"!==c&&O){const se="AssurKin: Un nouveau document relatif \xe0 l'assurance automobile est disponible dans votre espace";console.log(`Envoi du SMS au ${O}`),this.sendsmsService.sendSms(O,se).then(()=>console.log("SMS envoy\xe9 avec succ\xe8s.")).catch(ke=>console.error("Erreur lors de l'envoi du SMS:",ke))}if("auto"===this.quoteType){console.warn("[ManagementDetailComponent] Preneur data sent to payload:",s.preneurAssurance);const se={p_preneur:s.preneurAssurance,p_vehicule:s.vehicule,p_devis:{garantie_base_rc:s.garantie?.baseRC??!1,garantie_omnium_niveau:s.garantie?.omniumLevel??"",garantie_conducteur:s.garantie?.driverCoverage??!1,garantie_assistance:s.garantie?.assistance??!1,date_effet:s.garantie?.effectiveDate?this.formatDateForInput(s.garantie.effectiveDate):"",compagnie_id:s.garantie?.insuranceCompany,statut:s.garantie?.statut}};this.showMainDriverSection&&(se.p_conducteur=s.conducteurPrincipal),this.executeUpdate(this.dbService.updateAutoQuote(this.quoteId,se))}else if("obseques"===this.quoteType){const se=this.quoteUpdateForm.get("assures.assures").value.map(rt=>({...rt,dateNaissance:rt.dateNaissance?this.formatDateForInput(rt.dateNaissance):null})),ke={preneur:{...s.preneurObseques,date_naissance:s.preneurObseques?.date_naissance?this.formatDateForInput(s.preneurObseques.date_naissance):null},devis:{preneur_est_assure:s.assures?.preneurEstAssure,assures:se,nombre_assures:se.length,statut:s.assures?.statut,compagnie_id:s.assures?.insuranceCompany}};this.executeUpdate(this.dbService.updateObsequesQuote(this.quoteId,ke))}else if("habitation"===this.quoteType){const se={p_preneur:s.preneurAssurance,p_devis:{batiment_adresse:s.batiment?.batiment_adresse,batiment_code_postal:s.batiment?.batiment_code_postal,batiment_ville:s.batiment?.batiment_ville,batiment_type_maison:s.batiment?.batiment_type_maison,evaluation_type_valeur_batiment:s.evaluation?.typeValeurBatiment,evaluation_superficie:s.evaluation?.superficie,evaluation_nombre_pieces:s.evaluation?.nombrePieces,evaluation_loyer_mensuel:s.evaluation?.loyerMensuel,evaluation_type_valeur_contenu:s.evaluation?.typeValeurContenu,evaluation_valeur_expertise:s.evaluation?.valeurExpertise,evaluation_date_expertise:s.evaluation?.dateExpertise?this.formatDateForInput(s.evaluation.dateExpertise):null,evaluation_valeur_libre_contenu:s.evaluation?.evaluation_valeur_libre_contenu,garantie_contenu:s.garantiesHabitation?.contenu,garantie_vol:s.garantiesHabitation?.vol,garantie_pertes_indirectes:s.garantiesHabitation?.pertesIndirectes,garantie_protection_juridique:s.garantiesHabitation?.protectionJuridique,garantie_assistance:s.garantiesHabitation?.assistance,date_effet:s.garantiesHabitation?.dateEffet?this.formatDateForInput(s.garantiesHabitation.dateEffet):null,statut:s.garantiesHabitation?.statut,compagnie_id:s.garantiesHabitation?.insuranceCompany}};this.executeUpdate(this.dbService.updateHabitationQuote(this.quoteId,se))}else console.warn(`[ManagementDetailComponent] La mise \xe0 jour pour le type de devis '${this.quoteType}' n'est pas encore impl\xe9ment\xe9e.`)}showNotification(s,f){this.popupMessage=s,this.popupType=f,this.showPopup=!0,this.popupTimeout&&clearTimeout(this.popupTimeout),this.popupTimeout=setTimeout(()=>{this.hideNotification()},5e3)}hideNotification(){this.showPopup=!1,this.popupTimeout&&clearTimeout(this.popupTimeout)}executeUpdate(s){console.log("Envoi des donn\xe9es de mise \xe0 jour..."),s.pipe((0,Q.W)(f=>(console.error("Erreur lors de la mise \xe0 jour du devis:",f),this.showNotification("Erreur lors de la mise \xe0 jour du devis.","error"),(0,K.of)({success:!1,error:f})))).subscribe(f=>{f&&f.success?(console.log("Devis mis \xe0 jour avec succ\xe8s !",f),this.quoteUpdateForm.markAsPristine(),this.showNotification("Devis mis \xe0 jour avec succ\xe8s !","success")):(console.warn("[ManagementDetailComponent] Update failed. Response:",f),this.showNotification("La mise \xe0 jour du devis a \xe9chou\xe9. "+(f?.error?.message||""),"error"))})}nationalNumberDateConsistencyValidator(){return s=>{const f=s.get("dateNaissance"),c=s.get("nationalRegistryNumber");if(!f?.value||!c?.value||c.invalid){if(c?.hasError("dateMismatch")){const er={...c.errors};delete er.dateMismatch,c.setErrors(Object.keys(er).length>0?er:null)}return null}const O=new Date(f.value),se=c.value.replace(/\D/g,""),ke=parseInt(se.substring(0,2),10),rt=parseInt(se.substring(2,4),10),Ft=parseInt(se.substring(4,6),10),sn=100*Math.floor(O.getFullYear()/100)+ke,Hn=new Date(sn,rt-1,Ft);return O.setHours(0,0,0,0),Hn.setHours(0,0,0,0),O.getTime()!==Hn.getTime()?(c.setErrors({...c.errors,dateMismatch:!0}),{dateMismatch:!0}):null}}belgianNationalNumberValidator(){return s=>{if(!s.value)return null;const f=s.value.replace(/\D/g,"");if(11!==f.length)return{invalidFormat:!0};const c=parseInt(f.substring(0,2),10),O=parseInt(f.substring(2,4),10),se=parseInt(f.substring(4,6),10),ke=f.substring(0,9),rt=parseInt(f.substring(9,11),10),Ft=new Date(1900+c,O-1,se),Ht=new Date(2e3+c,O-1,se),sn=Ft.getFullYear()===1900+c&&Ft.getMonth()===O-1&&Ft.getDate()===se,Hn=Ht.getFullYear()===2e3+c&&Ht.getMonth()===O-1&&Ht.getDate()===se;if(!sn&&!Hn)return{invalidDate:!0};const en=97-parseInt(ke,10)%97,ji=97-parseInt("2"+ke,10)%97;return rt!==en&&rt!==ji?{invalidChecksum:!0}:null}}subscribeToInsuranceCompanies(){this.insuranceCompanies$=this.dbService.getAllAssureurs(),this.insuranceCompanies$.pipe((0,Ke.Q)(this.destroy$)).subscribe(s=>{s&&(this.insuranceCompanies=s)})}getCompanyName=Za;getStatutClass=el;getObjectKeys(s){return s?Object.keys(s):[]}static \u0275fac=function(f){return new(f||d)(e.rXU(te.nX),e.rXU(_t.y),e.rXU(E.ok),e.rXU(yc.U),e.rXU(tl.y),e.rXU(iu.T),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:d,selectors:[["app-management-detail"]],standalone:!0,features:[e.aNF],decls:10,vars:5,consts:[["loadingTpl",""],["class","fixed top-5 right-5 max-w-sm w-full bg-white shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden z-50",4,"ngIf"],[1,"container","mx-auto","p-4"],["routerLink","/management",1,"inline-flex","items-center","text-indigo-600","hover:text-indigo-800","mb-4","group"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","mr-2","transition-transform","group-hover:-translate-x-1"],["fill-rule","evenodd","d","M9.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L7.414 9H15a1 1 0 110 2H7.414l2.293 2.293a1 1 0 010 1.414z","clip-rule","evenodd"],[4,"ngIf","ngIfElse"],[1,"fixed","top-5","right-5","max-w-sm","w-full","bg-white","shadow-lg","rounded-lg","pointer-events-auto","ring-1","ring-black","ring-opacity-5","overflow-hidden","z-50"],[1,"p-4"],[1,"flex","items-start"],[1,"flex-shrink-0"],["class","h-6 w-6 text-green-400","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","aria-hidden","true",4,"ngIf"],["class","h-6 w-6 text-red-400","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","aria-hidden","true",4,"ngIf"],[1,"ml-3","w-0","flex-1","pt-0.5"],[1,"text-sm","font-medium","text-gray-900",3,"ngClass"],[1,"mt-1","text-sm","text-gray-500"],[1,"ml-4","flex-shrink-0","flex"],[1,"bg-white","rounded-md","inline-flex","text-gray-400","hover:text-gray-500","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],[1,"sr-only"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5"],["fill-rule","evenodd","d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule","evenodd"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","aria-hidden","true",1,"h-6","w-6","text-green-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","aria-hidden","true",1,"h-6","w-6","text-red-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-2xl","font-bold","mb-4"],[1,"mb-6","border-b","border-gray-200"],["aria-label","Tabs",1,"-mb-px","flex","space-x-6"],[1,"whitespace-nowrap","py-4","px-1","border-b-2","font-medium","text-sm",3,"click","ngClass"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"bg-white","shadow-md","rounded-lg","p-6"],[1,"space-y-6","max-w-4xl","mx-auto",3,"ngSubmit","formGroup"],[1,"text-xl","font-semibold","border-b","pb-2"],[3,"parentForm","marqueCtrl","filteredMarques$","isMarqueLoading","isModeleLoading","modelesForSelectedMarque","selectMarque","preneurCities$","conducteurCities$",4,"ngSwitchCase"],[3,"parentForm",4,"ngSwitchCase"],[1,"pt-4"],["type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-blue-600","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","disabled:bg-gray-400",3,"disabled"],[3,"parentForm","marqueCtrl","filteredMarques$","isMarqueLoading","isModeleLoading","modelesForSelectedMarque","selectMarque","preneurCities$","conducteurCities$"],[3,"parentForm"],[1,"bg-white","shadow-md","rounded-lg","overflow-hidden"],[1,"px-6","py-4","border-b","border-gray-200","flex","justify-between","items-center"],[1,"text-xl","font-semibold","text-gray-800"],[1,"inline-flex","items-center","px-3","py-1.5","border","border-transparent","text-sm","leading-5","font-medium","rounded-md","text-white","bg-indigo-600","hover:bg-indigo-500","focus:outline-none","focus:border-indigo-700","focus:ring-indigo","active:bg-indigo-700","transition","ease-in-out","duration-150",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","mr-2"],["fill-rule","evenodd","d","M5 4v3H4a2 2 0 00-2 2v6a2 2 0 002 2h12a2 2 0 002-2V9a2 2 0 00-2-2h-1V4a2 2 0 00-2-2H7a2 2 0 00-2 2zm8 0H7v3h6V4zm-2 5a1 1 0 00-1 1v4a1 1 0 102 0v-4a1 1 0 00-1-1z","clip-rule","evenodd"],["id","printable-section",1,"p-4"],[3,"formValue",4,"ngSwitchCase"],[3,"formValue","insuranceCompanies",4,"ngSwitchCase"],[3,"formValue"],[3,"formValue","insuranceCompanies"]],template:function(f,c){if(1&f&&(e.DNE(0,Yi,17,8,"div",1),e.j41(1,"div",2)(2,"a",3),e.qSk(),e.j41(3,"svg",4),e.nrm(4,"path",5),e.k0s(),e.EFF(5," Retour \xe0 la liste "),e.k0s(),e.DNE(6,Ec,13,9,"div",6),e.nI1(7,"async"),e.DNE(8,Is,1,0,"ng-template",null,0,e.C5r),e.k0s()),2&f){const O=e.sdS(9);e.Y8G("ngIf",c.showPopup),e.R7$(6),e.Y8G("ngIf",e.bMT(7,3,c.quoteDetails$))("ngIfElse",O)}},dependencies:[S.MD,S.YU,S.bT,S.ux,S.e1,S.Jj,S.PV,E.X1,E.qT,E.cb,E.j4,te.Wk,E.YN,De,Ei,Gs,ru,Fs,_c],encapsulation:2})}return d})(),Ff=(()=>{class d{getWelcomeEmail(s,f,c){return`\n      <div style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; background-color: #f3f4f6; padding: 40px 0;">\n        <div style="max-width: 600px; margin: 0 auto; background-color: #ffffff; border-radius: 8px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); overflow: hidden;">\n          <div style="background-color: #4f46e5; padding: 24px; text-align: center;">\n            <h1 style="color: #ffffff; margin: 0; font-size: 24px; font-weight: bold;">Assurkin Corporate</h1>\n          </div>\n          <div style="padding: 32px;">\n            <h2 style="color: #1f2937; margin-top: 0; font-size: 20px;">Bienvenue ${s} ${f} !</h2>\n            <p style="color: #4b5563; line-height: 1.6; margin-bottom: 16px;">\n              Nous sommes ravis de vous confirmer la cr\xe9ation de votre compte Corporate.\n            </p>\n            <p style="color: #4b5563; line-height: 1.6; margin-bottom: 24px;">\n              Vous pouvez d\xe9sormais vous connecter \xe0 votre espace s\xe9curis\xe9 en utilisant votre adresse email et le mot de passe que vous avez d\xe9fini.\n            </p>\n            \n            <div style="text-align: center; margin: 32px 0;">\n              <a href="${c}" style="background-color: #4f46e5; color: #ffffff; padding: 12px 24px; text-decoration: none; border-radius: 6px; font-weight: bold; display: inline-block;">\n                Acc\xe9der \xe0 mon espace\n              </a>\n            </div>\n            \n            <p style="color: #6b7280; font-size: 14px; margin-top: 32px; border-top: 1px solid #e5e7eb; padding-top: 16px;">\n              Si le bouton ne fonctionne pas, vous pouvez copier et coller ce lien dans votre navigateur :<br>\n              <a href="${c}" style="color: #4f46e5;">${c}</a>\n            </p>\n          </div>\n          <div style="background-color: #f9fafb; padding: 16px; text-align: center; color: #9ca3af; font-size: 12px;">\n            &copy; ${(new Date).getFullYear()} Assurkin. Tous droits r\xe9serv\xe9s.\n          </div>\n        </div>\n      </div>\n    `}getConfirmationEmail(s){return`\n      <div style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; background-color: #f3f4f6; padding: 40px 0;">\n        <div style="max-width: 600px; margin: 0 auto; background-color: #ffffff; border-radius: 8px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); overflow: hidden;">\n          <div style="background-color: #4f46e5; padding: 24px; text-align: center;">\n            <h1 style="color: #ffffff; margin: 0; font-size: 24px; font-weight: bold;">Assurkin</h1>\n          </div>\n          <div style="padding: 32px;">\n            <h2 style="color: #1f2937; margin-top: 0; font-size: 20px;">Bienvenue parmi nous !</h2>\n            <p style="color: #4b5563; line-height: 1.6; margin-bottom: 16px;">\n              Merci pour votre inscription \u{1f60a}\n            </p>\n            <p style="color: #4b5563; line-height: 1.6; margin-bottom: 24px;">\n              Cliquez sur le lien ci-dessous pour confirmer votre adresse e-mail et activer votre compte :\n            </p>\n            \n            <div style="text-align: center; margin: 32px 0;">\n              <a href="${s}" style="background-color: #4f46e5; color: #ffffff; padding: 12px 24px; text-decoration: none; border-radius: 6px; font-weight: bold; display: inline-block;">\n                Confirmer mon adresse e-mail\n              </a>\n            </div>\n            \n            <p style="color: #4b5563; line-height: 1.6; margin-bottom: 24px;">\n              L'\xe9quipe de AssurKin\n            </p>\n            \n            <div style="border-top: 1px solid #e5e7eb; padding-top: 16px; margin-top: 32px;">\n              <p style="color: #9ca3af; font-size: 12px; line-height: 1.5; font-style: italic;">\n                Avertissement :<br>\n                Ce message et ses \xe9ventuelles pi\xe8ces jointes sont destin\xe9s uniquement au(x) destinataire(s) indiqu\xe9(s). S\u2019il vous a \xe9t\xe9 transmis par erreur, veuillez le supprimer imm\xe9diatement et en informer l\u2019exp\xe9diteur. Toute diffusion ou copie non autoris\xe9e est interdite.\n              </p>\n            </div>\n          </div>\n          <div style="background-color: #f9fafb; padding: 16px; text-align: center; color: #9ca3af; font-size: 12px;">\n            &copy; ${(new Date).getFullYear()} Assurkin. Tous droits r\xe9serv\xe9s.\n          </div>\n        </div>\n      </div>\n    `}getPasswordResetEmail(s){return`\n      <div style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; background-color: #f3f4f6; padding: 40px 0;">\n        <div style="max-width: 600px; margin: 0 auto; background-color: #ffffff; border-radius: 8px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); overflow: hidden;">\n          <div style="background-color: #4f46e5; padding: 24px; text-align: center;">\n            <h1 style="color: #ffffff; margin: 0; font-size: 24px; font-weight: bold;">Assurkin</h1>\n          </div>\n          <div style="padding: 32px;">\n            <h2 style="color: #1f2937; margin-top: 0; font-size: 20px;">R\xe9initialisation de mot de passe</h2>\n            <p style="color: #4b5563; line-height: 1.6; margin-bottom: 16px;">\n              Bonjour,\n            </p>\n            <p style="color: #4b5563; line-height: 1.6; margin-bottom: 16px;">\n              Vous avez demand\xe9 \xe0 r\xe9initialiser votre mot de passe pour votre compte Assurkin.\n            </p>\n            <p style="color: #4b5563; line-height: 1.6; margin-bottom: 24px;">\n              Veuillez cliquer sur le lien ci-dessous pour d\xe9finir un nouveau mot de passe :\n            </p>\n            \n            <div style="text-align: center; margin: 32px 0;">\n              <a href="${s}" style="background-color: #4f46e5; color: #ffffff; padding: 12px 24px; text-decoration: none; border-radius: 6px; font-weight: bold; display: inline-block;">\n                R\xe9initialiser mon mot de passe\n              </a>\n            </div>\n            \n            <p style="color: #4b5563; line-height: 1.6; margin-bottom: 24px;">\n              Si vous n'\xeates pas \xe0 l'origine de cette demande, vous pouvez ignorer cet email en toute s\xe9curit\xe9.\n            </p>\n            \n            <div style="border-top: 1px solid #e5e7eb; padding-top: 16px; margin-top: 32px;">\n              <p style="color: #6b7280; font-size: 14px; margin-bottom: 8px;">\n                Si le bouton ne fonctionne pas, copiez et collez ce lien dans votre navigateur :<br>\n                <a href="${s}" style="color: #4f46e5; word-break: break-all;">${s}</a>\n              </p>\n            </div>\n          </div>\n          <div style="background-color: #f9fafb; padding: 16px; text-align: center; color: #9ca3af; font-size: 12px;">\n            &copy; ${(new Date).getFullYear()} Assurkin. Tous droits r\xe9serv\xe9s.\n          </div>\n        </div>\n      </div>\n    `}static \u0275fac=function(f){return new(f||d)};static \u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})();function lu(d){return T=>{const s=T.value;if(!s)return null;const f=d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return new RegExp(`@${f}$`,"i").test(s)?null:{emailDomain:{requiredDomain:d}}}}const If=(d,T)=>({"bg-green-600":d,"bg-red-600":T});function kf(d,T){if(1&d){const s=e.RV6();e.j41(0,"div",17)(1,"div",18)(2,"p",19),e.EFF(3),e.k0s(),e.j41(4,"button",20),e.bIt("click",function(){e.eBV(s);const c=e.XpG();return e.Njj(c.hideNotification())}),e.EFF(5,"\xd7"),e.k0s()()()}if(2&d){const s=e.XpG();e.Y8G("ngClass",e.l_i(2,If,"success"===s.popupType,"error"===s.popupType)),e.R7$(3),e.JRh(s.popupMessage)}}function Ve(d,T){1&d&&(e.j41(0,"div"),e.EFF(1,"L'adresse e-mail est requise."),e.k0s())}function un(d,T){1&d&&(e.j41(0,"div"),e.EFF(1,"Adresse e-mail invalide."),e.k0s())}function Cc(d,T){if(1&d&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&d){const s=e.XpG(3);e.R7$(),e.SpI("Seul le nom de domaine @",s.appDomain," est utilisable.")}}function wc(d,T){if(1&d&&(e.j41(0,"div",28),e.DNE(1,Ve,2,0,"div",29)(2,un,2,0,"div",29)(3,Cc,2,1,"div",29),e.k0s()),2&d){let s,f,c;const O=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(s=O.loginForm.get("email"))||null==s.errors?null:s.errors.required),e.R7$(),e.Y8G("ngIf",null==(f=O.loginForm.get("email"))||null==f.errors?null:f.errors.email),e.R7$(),e.Y8G("ngIf",null==(c=O.loginForm.get("email"))||null==c.errors?null:c.errors.emailDomain)}}function Ln(d,T){1&d&&(e.j41(0,"div"),e.EFF(1,"Le mot de passe est requis."),e.k0s())}function xc(d,T){if(1&d&&(e.j41(0,"div",28),e.DNE(1,Ln,2,0,"div",29),e.k0s()),2&d){let s;const f=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(s=f.loginForm.get("password"))||null==s.errors?null:s.errors.required)}}function ga(d,T){if(1&d){const s=e.RV6();e.j41(0,"div",21)(1,"h2",8),e.EFF(2,"S'authentifier"),e.k0s(),e.j41(3,"form",9),e.bIt("ngSubmit",function(){e.eBV(s);const c=e.XpG();return e.Njj(c.onLoginSubmit())}),e.j41(4,"div")(5,"label",22),e.EFF(6,"Adresse e-mail"),e.k0s(),e.j41(7,"div",11),e.nrm(8,"input",23),e.DNE(9,wc,4,3,"div",13),e.k0s()(),e.j41(10,"div")(11,"label",24),e.EFF(12,"Mot de passe"),e.k0s(),e.j41(13,"div",11),e.nrm(14,"input",25),e.DNE(15,xc,2,1,"div",13),e.k0s()(),e.j41(16,"div",26)(17,"div",27)(18,"a",16),e.bIt("click",function(){e.eBV(s);const c=e.XpG();return e.Njj(c.toggleResetPasswordView(!0))}),e.EFF(19," Mot de passe oubli\xe9 ? "),e.k0s()()(),e.j41(20,"div")(21,"button",14),e.EFF(22," Se connecter "),e.k0s()()()()}if(2&d){let s,f;const c=e.XpG();e.R7$(3),e.Y8G("formGroup",c.loginForm),e.R7$(6),e.Y8G("ngIf",(null==(s=c.loginForm.get("email"))?null:s.invalid)&&((null==(s=c.loginForm.get("email"))?null:s.dirty)||(null==(s=c.loginForm.get("email"))?null:s.touched))),e.R7$(6),e.Y8G("ngIf",(null==(f=c.loginForm.get("password"))?null:f.invalid)&&((null==(f=c.loginForm.get("password"))?null:f.dirty)||(null==(f=c.loginForm.get("password"))?null:f.touched))),e.R7$(6),e.Y8G("disabled",c.loginForm.invalid)}}function wi(d,T){1&d&&(e.j41(0,"div"),e.EFF(1,"Le nom est requis."),e.k0s())}function uu(d,T){if(1&d&&(e.j41(0,"div",28),e.DNE(1,wi,2,0,"div",29),e.k0s()),2&d){let s;const f=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(s=f.registerForm.get("nom"))||null==s.errors?null:s.errors.required)}}function cu(d,T){1&d&&(e.j41(0,"div"),e.EFF(1,"Le pr\xe9nom est requis."),e.k0s())}function Dc(d,T){if(1&d&&(e.j41(0,"div",28),e.DNE(1,cu,2,0,"div",29),e.k0s()),2&d){let s;const f=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(s=f.registerForm.get("prenom"))||null==s.errors?null:s.errors.required)}}function wm(d,T){1&d&&(e.j41(0,"div"),e.EFF(1,"La fonction est requise."),e.k0s())}function xm(d,T){if(1&d&&(e.j41(0,"div",28),e.DNE(1,wm,2,0,"div",29),e.k0s()),2&d){let s;const f=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(s=f.registerForm.get("fonction"))||null==s.errors?null:s.errors.required)}}function Fc(d,T){1&d&&(e.j41(0,"div"),e.EFF(1,"L'adresse e-mail est requise."),e.k0s())}function Ic(d,T){1&d&&(e.j41(0,"div"),e.EFF(1,"Adresse e-mail invalide."),e.k0s())}function kc(d,T){if(1&d&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&d){const s=e.XpG(3);e.R7$(),e.SpI("Seul le nom de domaine @",s.appDomain," est utilisable.")}}function To(d,T){if(1&d&&(e.j41(0,"div",28),e.DNE(1,Fc,2,0,"div",29)(2,Ic,2,0,"div",29)(3,kc,2,1,"div",29),e.k0s()),2&d){let s,f,c;const O=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(s=O.registerForm.get("email"))||null==s.errors?null:s.errors.required),e.R7$(),e.Y8G("ngIf",null==(f=O.registerForm.get("email"))||null==f.errors?null:f.errors.email),e.R7$(),e.Y8G("ngIf",null==(c=O.registerForm.get("email"))||null==c.errors?null:c.errors.emailDomain)}}function Xi(d,T){1&d&&(e.j41(0,"div"),e.EFF(1,"Le mot de passe est requis."),e.k0s())}function Mc(d,T){1&d&&(e.j41(0,"div"),e.EFF(1,"Le mot de passe doit contenir au moins 6 caract\xe8res."),e.k0s())}function xi(d,T){if(1&d&&(e.j41(0,"div",28),e.DNE(1,Xi,2,0,"div",29)(2,Mc,2,0,"div",29),e.k0s()),2&d){let s,f;const c=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(s=c.registerForm.get("password"))||null==s.errors?null:s.errors.required),e.R7$(),e.Y8G("ngIf",null==(f=c.registerForm.get("password"))||null==f.errors?null:f.errors.minlength)}}function Ki(d,T){1&d&&(e.j41(0,"div",28),e.EFF(1," Les mots de passe ne correspondent pas. "),e.k0s())}function Mf(d,T){if(1&d){const s=e.RV6();e.j41(0,"div",21)(1,"h2",8),e.EFF(2,"Cr\xe9er un compte"),e.k0s(),e.j41(3,"form",9),e.bIt("ngSubmit",function(){e.eBV(s);const c=e.XpG();return e.Njj(c.onRegisterSubmit())}),e.j41(4,"div",30)(5,"div")(6,"label",31),e.EFF(7,"Nom"),e.k0s(),e.nrm(8,"input",32),e.DNE(9,uu,2,1,"div",13),e.k0s(),e.j41(10,"div")(11,"label",33),e.EFF(12,"Pr\xe9nom"),e.k0s(),e.nrm(13,"input",34),e.DNE(14,Dc,2,1,"div",13),e.k0s()(),e.j41(15,"div")(16,"label",35),e.EFF(17,"Fonction"),e.k0s(),e.nrm(18,"input",36),e.DNE(19,xm,2,1,"div",13),e.k0s(),e.j41(20,"div")(21,"label",37),e.EFF(22,"Adresse e-mail"),e.k0s(),e.nrm(23,"input",38),e.DNE(24,To,4,3,"div",13),e.k0s(),e.j41(25,"div")(26,"label",39),e.EFF(27,"Mot de passe"),e.k0s(),e.nrm(28,"input",40),e.DNE(29,xi,3,2,"div",13),e.k0s(),e.j41(30,"div")(31,"label",41),e.EFF(32,"Confirmer le mot de passe"),e.k0s(),e.nrm(33,"input",42),e.DNE(34,Ki,2,0,"div",13),e.k0s(),e.j41(35,"div")(36,"button",43),e.EFF(37," Cr\xe9er le compte "),e.k0s()()()()}if(2&d){let s,f,c,O,se,ke;const rt=e.XpG();e.R7$(3),e.Y8G("formGroup",rt.registerForm),e.R7$(6),e.Y8G("ngIf",(null==(s=rt.registerForm.get("nom"))?null:s.invalid)&&((null==(s=rt.registerForm.get("nom"))?null:s.dirty)||(null==(s=rt.registerForm.get("nom"))?null:s.touched))),e.R7$(5),e.Y8G("ngIf",(null==(f=rt.registerForm.get("prenom"))?null:f.invalid)&&((null==(f=rt.registerForm.get("prenom"))?null:f.dirty)||(null==(f=rt.registerForm.get("prenom"))?null:f.touched))),e.R7$(5),e.Y8G("ngIf",(null==(c=rt.registerForm.get("fonction"))?null:c.invalid)&&((null==(c=rt.registerForm.get("fonction"))?null:c.dirty)||(null==(c=rt.registerForm.get("fonction"))?null:c.touched))),e.R7$(5),e.Y8G("ngIf",(null==(O=rt.registerForm.get("email"))?null:O.invalid)&&((null==(O=rt.registerForm.get("email"))?null:O.dirty)||(null==(O=rt.registerForm.get("email"))?null:O.touched))),e.R7$(5),e.Y8G("ngIf",(null==(se=rt.registerForm.get("password"))?null:se.invalid)&&((null==(se=rt.registerForm.get("password"))?null:se.dirty)||(null==(se=rt.registerForm.get("password"))?null:se.touched))),e.R7$(5),e.Y8G("ngIf",(null==rt.registerForm.errors?null:rt.registerForm.errors.passwordsMismatch)&&((null==(ke=rt.registerForm.get("passwordConfirm"))?null:ke.dirty)||(null==(ke=rt.registerForm.get("passwordConfirm"))?null:ke.touched))),e.R7$(2),e.Y8G("disabled",rt.registerForm.invalid)}}function Tc(d,T){1&d&&(e.j41(0,"div"),e.EFF(1,"L'adresse e-mail est requise."),e.k0s())}function Tf(d,T){1&d&&(e.j41(0,"div"),e.EFF(1,"Adresse e-mail invalide."),e.k0s())}function Sf(d,T){if(1&d&&(e.j41(0,"div",28),e.DNE(1,Tc,2,0,"div",29)(2,Tf,2,0,"div",29),e.k0s()),2&d){let s,f;const c=e.XpG();e.R7$(),e.Y8G("ngIf",null==(s=c.resetPasswordForm.get("email"))||null==s.errors?null:s.errors.required),e.R7$(),e.Y8G("ngIf",null==(f=c.resetPasswordForm.get("email"))||null==f.errors?null:f.errors.email)}}function du(d){const T=d.get("password"),s=d.get("passwordConfirm");return T&&s&&T.value!==s.value?{passwordsMismatch:!0}:null}let fu=(()=>{class d{registerForm;loginForm;resetPasswordForm;isResettingPassword=!1;activeTab="login";appDomain=Lt.c.appDomain;showPopup=!1;popupMessage="";popupType="success";popupTimeout;fb=(0,e.WQX)(E.ok);dbConnectService=(0,e.WQX)(_t.y);authService=(0,e.WQX)(Bn.u);mailService=(0,e.WQX)(Ue.t);emailTemplateService=(0,e.WQX)(Ff);router=(0,e.WQX)(te.Ix);route=(0,e.WQX)(te.nX);constructor(){}ngOnInit(){this.loginForm=this.fb.group({email:["",[E.k0.required,E.k0.email,lu(Lt.c.appDomain)]],password:["",E.k0.required]}),this.resetPasswordForm=this.fb.group({email:["",[E.k0.required,E.k0.email,lu(Lt.c.appDomain)]]}),this.registerForm=this.fb.group({nom:["",E.k0.required],prenom:["",E.k0.required],fonction:[""],email:["",[E.k0.required,E.k0.email,lu(Lt.c.appDomain)]],password:["",[E.k0.required,E.k0.minLength(6)]],passwordConfirm:["",E.k0.required]},{validators:du}),this.route.queryParams.subscribe(s=>{s.error&&setTimeout(()=>this.showNotification(s.error,"error"),500)})}onLoginSubmit(){this.loginForm.invalid?this.loginForm.markAllAsTouched():this.authService.signIn(this.loginForm.value).subscribe({next:s=>{s.error?this.showNotification(s.error.message,"error"):this.router.navigate(["/management"])},error:s=>{this.showNotification(`Erreur d'authentification: ${s.message}`,"error")}})}onRegisterSubmit(){if(this.registerForm.invalid)return void this.registerForm.markAllAsTouched();const{passwordConfirm:s,...f}=this.registerForm.value;this.dbConnectService.createCorporateAccount(f).subscribe({next:()=>{const c=`${window.location.origin}/corporate`,O=this.emailTemplateService.getWelcomeEmail(f.prenom,f.nom,c);this.mailService.sendEmail({to:f.email,subject:`Bienvenue sur ${Lt.c.appName} Corporate`,htmlContent:O}).subscribe({error:se=>console.error("Erreur lors de l'envoi de l'email de bienvenue:",se)}),this.showNotification("Compte cr\xe9\xe9 avec succ\xe8s ! Veuillez consulter votre bo\xeete mail pour valider votre compte.","success"),this.registerForm.reset()},error:c=>{let O=`Erreur lors de la cr\xe9ation du compte: ${c.message}`;c.message?.includes("duplicate key value violates unique constraint")?O="Un compte avec cette adresse e-mail existe d\xe9j\xe0.":c.message?.includes("violates domain constraint")&&(O=`Seul le nom de domaine @${this.appDomain} est utilisable.`),this.showNotification(O,"error")}})}onResetPasswordSubmit(){this.resetPasswordForm.invalid?this.resetPasswordForm.markAllAsTouched():this.authService.sendPasswordResetEmail(this.resetPasswordForm.value.email).subscribe({next:({error:f})=>{f?this.showNotification(`Erreur : ${f.message}`,"error"):(this.showNotification("Si un compte existe pour cet e-mail, un lien de r\xe9initialisation a \xe9t\xe9 envoy\xe9.","success"),this.toggleResetPasswordView(!1))},error:f=>{this.showNotification(`Une erreur est survenue : ${f.message}`,"error")}})}toggleResetPasswordView(s){this.isResettingPassword=s}setActiveTab(s){this.activeTab=s}showNotification(s,f){this.popupMessage=s,this.popupType=f,this.showPopup=!0,this.popupTimeout&&clearTimeout(this.popupTimeout),this.popupTimeout=setTimeout(()=>{this.hideNotification()},5e3)}hideNotification(){this.showPopup=!1,this.popupTimeout&&clearTimeout(this.popupTimeout)}static \u0275fac=function(f){return new(f||d)};static \u0275cmp=e.VBU({type:d,selectors:[["app-corporate"]],standalone:!0,features:[e.aNF],decls:27,vars:10,consts:[[1,"bg-gray-50","min-h-screen","py-12","px-4","sm:px-6","lg:px-8"],["class","fixed top-20 right-5 z-50 p-4 rounded-lg shadow-xl text-white max-w-sm",3,"ngClass",4,"ngIf"],[1,"max-w-4xl","mx-auto",3,"hidden"],[1,"bg-white","rounded-t-lg","shadow-sm","border-b","border-gray-200","flex"],[1,"flex-1","py-4","px-1","text-center","border-b-2","font-medium","text-sm","transition-colors","duration-200","focus:outline-none",3,"click","ngClass"],["class","bg-white p-8 rounded-b-lg shadow-md",4,"ngIf"],[1,"max-w-md","mx-auto",3,"hidden"],[1,"bg-white","p-8","rounded-lg","shadow-md"],[1,"text-2xl","font-bold","text-gray-900","mb-6","text-center"],["novalidate","",1,"space-y-6",3,"ngSubmit","formGroup"],["for","reset-email",1,"block","text-sm","font-medium","text-gray-700"],[1,"mt-1"],["id","reset-email","type","email","formControlName","email","autocomplete","email",1,"appearance-none","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","placeholder-gray-400","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["class","text-red-600 text-xs mt-1",4,"ngIf"],["type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"text-sm","text-center"],[1,"font-medium","text-indigo-600","hover:text-indigo-500","cursor-pointer",3,"click"],[1,"fixed","top-20","right-5","z-50","p-4","rounded-lg","shadow-xl","text-white","max-w-sm",3,"ngClass"],[1,"flex","justify-between","items-start"],[1,"flex-grow"],[1,"ml-4","-mt-1","-mr-1","text-2xl","font-semibold","leading-none","hover:text-gray-200",3,"click"],[1,"bg-white","p-8","rounded-b-lg","shadow-md"],["for","login-email",1,"block","text-sm","font-medium","text-gray-700"],["id","login-email","type","email","formControlName","email","autocomplete","email",1,"appearance-none","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","placeholder-gray-400","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["for","login-password",1,"block","text-sm","font-medium","text-gray-700"],["id","login-password","type","password","formControlName","password","autocomplete","current-password",1,"appearance-none","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","placeholder-gray-400","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],[1,"flex","items-center","justify-between"],[1,"text-sm"],[1,"text-red-600","text-xs","mt-1"],[4,"ngIf"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4"],["for","register-nom",1,"block","text-sm","font-medium","text-gray-700"],["id","register-nom","type","text","formControlName","nom",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["for","register-prenom",1,"block","text-sm","font-medium","text-gray-700"],["id","register-prenom","type","text","formControlName","prenom",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["for","register-fonction",1,"block","text-sm","font-medium","text-gray-700"],["id","register-fonction","type","text","formControlName","fonction",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["for","register-email",1,"block","text-sm","font-medium","text-gray-700"],["id","register-email","type","email","formControlName","email",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["for","register-password",1,"block","text-sm","font-medium","text-gray-700"],["id","register-password","type","password","formControlName","password",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["for","register-password-confirm",1,"block","text-sm","font-medium","text-gray-700"],["id","register-password-confirm","type","password","formControlName","passwordConfirm",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-gray-800","hover:bg-gray-900","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-gray-700","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"]],template:function(f,c){if(1&f&&(e.j41(0,"div",0),e.DNE(1,kf,6,5,"div",1),e.j41(2,"div",2)(3,"div",3)(4,"button",4),e.bIt("click",function(){return c.setActiveTab("login")}),e.EFF(5," S'authentifier "),e.k0s(),e.j41(6,"button",4),e.bIt("click",function(){return c.setActiveTab("register")}),e.EFF(7," Cr\xe9er un compte "),e.k0s()(),e.DNE(8,ga,23,4,"div",5)(9,Mf,38,8,"div",5),e.k0s(),e.j41(10,"div",6)(11,"div",7)(12,"h2",8),e.EFF(13,"R\xe9initialiser le mot de passe"),e.k0s(),e.j41(14,"form",9),e.bIt("ngSubmit",function(){return c.onResetPasswordSubmit()}),e.j41(15,"div")(16,"label",10),e.EFF(17,"Adresse e-mail"),e.k0s(),e.j41(18,"div",11),e.nrm(19,"input",12),e.DNE(20,Sf,3,2,"div",13),e.k0s()(),e.j41(21,"div")(22,"button",14),e.EFF(23," Envoyer le lien de r\xe9initialisation "),e.k0s()(),e.j41(24,"div",15)(25,"a",16),e.bIt("click",function(){return c.toggleResetPasswordView(!1)}),e.EFF(26,"Retour \xe0 la connexion"),e.k0s()()()()()()),2&f){let O;e.R7$(),e.Y8G("ngIf",c.showPopup),e.R7$(),e.Y8G("hidden",c.isResettingPassword),e.R7$(2),e.Y8G("ngClass","login"===c.activeTab?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngClass","register"===c.activeTab?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngIf","login"===c.activeTab),e.R7$(),e.Y8G("ngIf","register"===c.activeTab),e.R7$(),e.Y8G("hidden",!c.isResettingPassword),e.R7$(4),e.Y8G("formGroup",c.resetPasswordForm),e.R7$(6),e.Y8G("ngIf",(null==(O=c.resetPasswordForm.get("email"))?null:O.invalid)&&((null==(O=c.resetPasswordForm.get("email"))?null:O.dirty)||(null==(O=c.resetPasswordForm.get("email"))?null:O.touched))),e.R7$(2),e.Y8G("disabled",c.resetPasswordForm.invalid)}},dependencies:[S.MD,S.YU,S.bT,E.X1,E.qT,E.me,E.BC,E.cb,E.j4,E.JD]})}return d})();var va=D(2263);const Rf={providers:[(0,te.lh)([{path:"accueil",component:H},{path:"contact",component:lt},{path:"particulier/auto",component:ln},{path:"particulier/habitation",component:Cr},{path:"particulier/rc-familale",component:Or},{path:"particulier/obseques",component:Jo},{path:"particulier/protection-juridique",component:ae},{path:"particulier/annulation-voyage",component:ze},{path:"mentions",component:Fn},{path:"corporate",component:fu},{path:"professionnel/cie",component:va.CompaniesComponent},{path:"professionnel/cie",component:va.CompaniesComponent},{path:"professionnel/cie",component:va.CompaniesComponent},{path:"utilities/paiements",loadComponent:()=>Promise.all([D.e(192),D.e(199)]).then(D.bind(D,2199)).then(d=>d.PaymentComponent)},{path:"utilities/statistiques",loadComponent:()=>Promise.all([D.e(192),D.e(64)]).then(D.bind(D,4064)).then(d=>d.StatComponent)},{path:"utilities/prospects",loadComponent:()=>D.e(63).then(D.bind(D,2063)).then(d=>d.RsComponent)},{path:"utilities/parametres",loadComponent:()=>D.e(815).then(D.bind(D,8815)).then(d=>d.ParamsComponent)},{path:"professionnel/data",loadComponent:()=>Promise.resolve().then(D.bind(D,2263)).then(d=>d.CompaniesComponent)},{path:"account",component:fi},{path:"login",component:Co},{path:"create-account",component:mo},{path:"lost-password",component:js},{path:"reset-password",component:Ai},{path:"update-password",component:ii},{path:"mydata",component:qa,canActivate:[(d,T)=>{const s=(0,e.WQX)(e.Agw),f=(0,e.WQX)(te.Ix),c=(0,e.WQX)(Bn.u);return!!(0,S.Vy)(s)||c.currentUser$.pipe((0,Ni.p)(O=>void 0!==O),(0,Xa.s)(1),(0,ve.T)(O=>!!O||f.parseUrl("/login")))}]},{path:"createuseraccount",component:P},{path:"assurance_auto/:id",redirectTo:"assurance-details/auto/:id"},{path:"assurance_habitation/:id",redirectTo:"assurance-details/habitation/:id"},{path:"assurance_obseques/:id",redirectTo:"assurance-details/obseques/:id"},{path:"intranet/dashboard",component:gt},{path:"intranet/gestion-auto",component:yr},{path:"management",component:Ka},{path:"management/:type/:id",component:Df},{path:"management/upload/:type/:id/:preneurId",loadComponent:()=>D.e(53).then(D.bind(D,5053)).then(d=>d.UploaderComponent)},{path:"assurance-details/:type/:id",component:eu.AssurancesDetailsComponent},{path:"messagerie/:type/:id",loadComponent:()=>D.e(659).then(D.bind(D,2659)).then(d=>d.MessagerieComponent)},{path:"management/assurance-details/:type/:id",loadComponent:()=>Promise.resolve().then(D.bind(D,3583)).then(d=>d.AssurancesDetailsComponent)},{path:"",redirectTo:"accueil",pathMatch:"full"},{path:"**",redirectTo:"accueil"}]),(0,j.$R)()]},Sc=["underline"],pu=["scrollProgressBar"],Rc=["menuLink"],sl=()=>({exact:!0}),al=(d,T)=>({"opacity-100 visible":d,"opacity-0 invisible":T}),hu=d=>({"rotate-180":d}),mu=(d,T)=>({"max-h-[500px] opacity-100":d,"max-h-0 opacity-0":T}),Af=(d,T)=>({"max-h-48 opacity-100":d,"max-h-0 opacity-0":T});function uo(d,T){1&d&&(e.qSk(),e.j41(0,"svg",47),e.nrm(1,"path",48),e.k0s())}function ks(d,T){1&d&&(e.qSk(),e.j41(0,"svg",47),e.nrm(1,"path",49),e.k0s())}function Zn(d,T){if(1&d){const s=e.RV6();e.j41(0,"div",50)(1,"a",51),e.bIt("click",function(){e.eBV(s);const c=e.XpG();return e.Njj(c.closeMenu())}),e.EFF(2,"Accueil"),e.k0s(),e.j41(3,"a",52),e.bIt("click",function(){e.eBV(s);const c=e.XpG();return e.Njj(c.closeMenu())}),e.EFF(4,"Mentions l\xe9gales"),e.k0s(),e.j41(5,"div")(6,"button",53),e.bIt("click",function(){e.eBV(s);const c=e.XpG();return e.Njj(c.particulierSubMenuOpen=!c.particulierSubMenuOpen)}),e.EFF(7," Particulier "),e.qSk(),e.j41(8,"svg",54),e.nrm(9,"path",15),e.k0s()(),e.joV(),e.j41(10,"div",55)(11,"div",56)(12,"a",57),e.bIt("click",function(){e.eBV(s);const c=e.XpG();return e.Njj(c.closeMenu())}),e.EFF(13,"Auto"),e.k0s(),e.j41(14,"a",58),e.bIt("click",function(){e.eBV(s);const c=e.XpG();return e.Njj(c.closeMenu())}),e.EFF(15,"Habitation"),e.k0s(),e.j41(16,"a",59),e.bIt("click",function(){e.eBV(s);const c=e.XpG();return e.Njj(c.closeMenu())}),e.EFF(17,"RC familiale"),e.k0s(),e.j41(18,"a",60),e.bIt("click",function(){e.eBV(s);const c=e.XpG();return e.Njj(c.closeMenu())}),e.EFF(19,"Annulation-voyage"),e.k0s(),e.j41(20,"a",61),e.bIt("click",function(){e.eBV(s);const c=e.XpG();return e.Njj(c.closeMenu())}),e.EFF(21,"Protection juridique"),e.k0s(),e.j41(22,"a",62),e.bIt("click",function(){e.eBV(s);const c=e.XpG();return e.Njj(c.closeMenu())}),e.EFF(23,"Vie et sant\xe9"),e.k0s(),e.j41(24,"a",63),e.bIt("click",function(){e.eBV(s);const c=e.XpG();return e.Njj(c.closeMenu())}),e.EFF(25,"Obs\xe8ques"),e.k0s(),e.j41(26,"a",64),e.bIt("click",function(){e.eBV(s);const c=e.XpG();return e.Njj(c.closeMenu())}),e.EFF(27,"Solde restant d\xfb"),e.k0s()()()(),e.j41(28,"div")(29,"button",65),e.bIt("click",function(){e.eBV(s);const c=e.XpG();return e.Njj(c.professionelSubMenuOpen=!c.professionelSubMenuOpen)}),e.EFF(30," Professionel "),e.qSk(),e.j41(31,"svg",54),e.nrm(32,"path",15),e.k0s()(),e.joV(),e.j41(33,"div",55)(34,"div",56)(35,"a",66),e.bIt("click",function(){e.eBV(s);const c=e.XpG();return e.Njj(c.closeMenu())}),e.EFF(36,"Auto"),e.k0s(),e.j41(37,"a",66),e.bIt("click",function(){e.eBV(s);const c=e.XpG();return e.Njj(c.closeMenu())}),e.EFF(38,"Incendie"),e.k0s(),e.j41(39,"a",66),e.bIt("click",function(){e.eBV(s);const c=e.XpG();return e.Njj(c.closeMenu())}),e.EFF(40,"Responsabilit\xe9 civile"),e.k0s()()()(),e.j41(41,"a",67),e.bIt("click",function(){e.eBV(s);const c=e.XpG();return e.Njj(c.closeMenu())}),e.EFF(42,"News"),e.k0s(),e.j41(43,"a",68),e.bIt("click",function(){e.eBV(s);const c=e.XpG();return e.Njj(c.closeMenu())}),e.EFF(44,"Contact"),e.k0s(),e.j41(45,"a",69),e.qSk(),e.j41(46,"svg",70),e.nrm(47,"path",38),e.k0s(),e.EFF(48," +32 (0)2 887 64 35 "),e.k0s(),e.joV(),e.j41(49,"div",71)(50,"a",72),e.bIt("click",function(){e.eBV(s);const c=e.XpG();return e.Njj(c.closeMenu())}),e.qSk(),e.j41(51,"svg",70),e.nrm(52,"path",41),e.k0s(),e.EFF(53," Hello "),e.k0s(),e.joV(),e.j41(54,"a",73),e.bIt("click",function(){e.eBV(s);const c=e.XpG();return e.Njj(c.closeMenu())}),e.qSk(),e.j41(55,"svg",70),e.nrm(56,"path",43),e.k0s(),e.EFF(57," Corporate "),e.k0s()()()}if(2&d){const s=e.XpG();e.AVh("opacity-100",s.showMenu)("opacity-0",!s.showMenu),e.R7$(),e.Y8G("routerLinkActiveOptions",e.lJ4(25,sl)),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(5),e.Y8G("ngClass",e.eq3(26,hu,s.particulierSubMenuOpen)),e.R7$(2),e.Y8G("ngClass",e.l_i(28,mu,s.particulierSubMenuOpen,!s.particulierSubMenuOpen)),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(3),e.BMQ("aria-expanded",s.professionelSubMenuOpen),e.R7$(2),e.Y8G("ngClass",e.eq3(31,hu,s.professionelSubMenuOpen)),e.R7$(2),e.Y8G("ngClass",e.l_i(33,Af,s.professionelSubMenuOpen,!s.professionelSubMenuOpen)),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page")}}let Ac=(()=>{class d{router;cdr;platformId;underlineRef;scrollProgressBarRef;menuLinks;isMenuVisible=!1;showMenu=!1;showParticulierSubMenu=!1;showProfessionelSubMenu=!1;showMentionsLegalesSubMenu=!1;particulierSubMenuOpen=!1;professionelSubMenuOpen=!1;constructor(s,f,c){this.router=s,this.cdr=f,this.platformId=c}ngAfterViewInit(){this.router.events.pipe((0,Ni.p)(s=>s instanceof te.wF)).subscribe(()=>{(0,S.UE)(this.platformId)&&this.moveUnderlineToActiveLink(),this.closeMenu()})}onWindowScroll(){if((0,S.UE)(this.platformId)){const s=document.documentElement,f=document.body;this.scrollProgressBarRef.nativeElement.style.width=(s.scrollTop||f.scrollTop)/((s.scrollHeight||f.scrollHeight)-s.clientHeight)*100+"%"}}toggleMenu(){this.isMenuVisible?this.closeMenu():(this.isMenuVisible=!0,setTimeout(()=>{this.showMenu=!0},10))}closeMenu(){this.isMenuVisible&&(this.showMenu=!1,setTimeout(()=>{this.isMenuVisible=!1},300))}onLinkHover(s){(0,S.UE)(this.platformId)&&this.moveUnderline(s.currentTarget)}onMenuLeave(){(0,S.UE)(this.platformId)&&this.moveUnderlineToActiveLink()}moveUnderlineToActiveLink(){setTimeout(()=>{const s=this.menuLinks.find(f=>f.nativeElement.classList.contains("text-indigo-600"));s&&this.moveUnderline(s.nativeElement),this.cdr.detectChanges()},0)}moveUnderline(s){const f=this.underlineRef.nativeElement;f.style.width=`${s.offsetWidth}px`,f.style.transform=`translateX(${s.offsetLeft}px)`}static \u0275fac=function(f){return new(f||d)(e.rXU(te.Ix),e.rXU(e.gRc),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:d,selectors:[["app-navbar"]],viewQuery:function(f,c){if(1&f&&(e.GBs(Sc,5),e.GBs(pu,5),e.GBs(Rc,5,e.aKT)),2&f){let O;e.mGM(O=e.lsd())&&(c.underlineRef=O.first),e.mGM(O=e.lsd())&&(c.scrollProgressBarRef=O.first),e.mGM(O=e.lsd())&&(c.menuLinks=O)}},hostBindings:function(f,c){1&f&&e.bIt("scroll",function(){return c.onWindowScroll()},!1,e.tSv)},standalone:!0,features:[e.aNF],decls:82,vars:33,consts:[["scrollProgressBar",""],["menuContainer",""],["menuLink",""],["underline",""],[1,"bg-white","border-b","border-gray-200","fixed","w-full","z-50","top-0","shadow-sm"],[1,"h-1","bg-indigo-600",2,"width","0%"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","h-16","items-center"],["routerLink","/",1,"text-2xl","font-bold","text-black-600","hover:text-indigo-700"],[1,"hidden","md:flex","flex-grow","items-center","justify-between"],[1,"relative","flex","items-center","space-x-8","ml-10",3,"mouseleave"],["routerLink","/accueil","routerLinkActive","text-indigo-600",1,"text-gray-700","hover:text-indigo-600","transition","h-16","inline-flex","items-center",3,"mouseenter","routerLinkActiveOptions"],[1,"relative",3,"mouseenter","mouseleave"],["routerLinkActive","text-indigo-600","aria-haspopup","true","aria-controls","mentions-legales-submenu",1,"text-gray-700","hover:text-indigo-600","transition","inline-flex","items-center","h-16","cursor-default",3,"mouseenter"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"ml-1","h-5","w-5"],["fill-rule","evenodd","d","M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule","evenodd"],["id","mentions-legales-submenu",1,"absolute","left-0","mt-2","w-56","rounded-md","shadow-lg","bg-white","ring-1","ring-black","ring-opacity-5","transition-all","duration-200","ease-in-out",3,"ngClass"],["routerLink","/mentions","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50",3,"routerLinkActiveOptions"],["routerLinkActive","text-indigo-600","routerLink","/particulier",1,"text-gray-700","hover:text-indigo-600","transition","inline-flex","items-center","h-16",3,"mouseenter"],["routerLink","/particulier",1,"text-gray-700","hover:text-indigo-600","transition","inline-flex","items-center","h-16"],["role","menu",1,"absolute","left-0","mt-2","w-56","rounded-md","shadow-lg","bg-white","ring-1","ring-black","ring-opacity-5","transition-all","duration-200","ease-in-out",3,"ngClass"],["routerLink","/particulier/auto","routerLinkActive","bg-indigo-50","role","menuitem",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/particulier/habitation","routerLinkActive","bg-indigo-50","role","menuitem",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/particulier/rc-familale","routerLinkActive","bg-indigo-50","role","menuitem",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/particulier/annulation-voyage","routerLinkActive","bg-indigo-50","role","menuitem",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/particulier/protection-juridique","routerLinkActive","bg-indigo-50","role","menuitem",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/particulier/vie-sante","routerLinkActive","bg-indigo-50","role","menuitem",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/particulier/obseques","routerLinkActive","bg-indigo-50","role","menuitem",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/particulier/solde-restant-du","routerLinkActive","bg-indigo-50","role","menuitem",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLinkActive","text-indigo-600","routerLink","/professionel",1,"text-gray-700","hover:text-indigo-600","transition","inline-flex","items-center","h-16",3,"mouseenter"],["routerLink","/professionel",1,"text-gray-700","hover:text-indigo-600","transition","inline-flex","items-center","h-16"],["routerLink","/professionnel/cie","routerLinkActive","bg-indigo-50","role","menuitem",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/news","routerLinkActive","text-indigo-600",1,"text-gray-700","hover:text-indigo-600","transition","h-16","inline-flex","items-center",3,"mouseenter"],["routerLink","/contact","routerLinkActive","text-indigo-600",1,"text-gray-700","hover:text-indigo-600","transition","h-16","inline-flex","items-center",3,"mouseenter"],[1,"absolute","bottom-0","h-0.5","bg-indigo-600","transition-all","duration-300","ease-in-out"],[1,"flex","items-center","space-x-4"],["href","tel:+3228876435",1,"inline-flex","items-center","text-gray-700","hover:text-indigo-600","transition"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"h-5","w-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","d","M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z"],[1,"flex","items-center","space-x-2"],["routerLink","/account",1,"inline-flex","items-center","bg-indigo-600","text-white","px-4","py-2","rounded-md","text-sm","font-semibold","hover:bg-indigo-700","transition"],["stroke-linecap","round","stroke-linejoin","round","d","M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"],["routerLink","/corporate",1,"inline-flex","items-center","bg-gray-800","text-white","px-4","py-2","rounded-md","text-sm","font-semibold","hover:bg-gray-900","transition"],["stroke-linecap","round","stroke-linejoin","round","d","M20.25 14.15v4.07a2.25 2.25 0 0 1-2.25 2.25H5.998a2.25 2.25 0 0 1-2.25-2.25v-4.07a2.25 2.25 0 0 1 .52-1.435l3.67-4.112a2.25 2.25 0 0 1 2.816 0l3.67 4.112a2.25 2.25 0 0 1 .52 1.435ZM16.5 8.25V4.5a2.25 2.25 0 0 0-2.25-2.25H9.75A2.25 2.25 0 0 0 7.5 4.5v3.75"],["aria-controls","mobile-menu",1,"md:hidden","text-gray-700","focus:outline-none",3,"click"],["xmlns","http://www.w3.org/2000/svg","class","h-6 w-6","fill","none","viewBox","0 0 24 24","stroke","currentColor",4,"ngIf"],["id","mobile-menu","class","md:hidden bg-white border-t border-gray-200 transition-opacity duration-300 ease-in-out max-h-[calc(100vh-4rem)] overflow-y-auto",3,"opacity-100","opacity-0",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16M4 18h16"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],["id","mobile-menu",1,"md:hidden","bg-white","border-t","border-gray-200","transition-opacity","duration-300","ease-in-out","max-h-[calc(100vh-4rem)]","overflow-y-auto"],["routerLink","/accueil","routerLinkActive","bg-indigo-50 text-indigo-600",1,"block","px-4","py-2","text-gray-700","hover:bg-indigo-50",3,"click","routerLinkActiveOptions"],["routerLink","/mentions","routerLinkActive","bg-indigo-50 text-indigo-600",1,"block","px-4","py-2","text-gray-700","hover:bg-indigo-50",3,"click"],[1,"w-full","text-left","px-4","py-2","text-gray-700","hover:bg-indigo-50","flex","justify-between","items-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","transform",3,"ngClass"],[1,"overflow-hidden","transition-all","duration-300","ease-in-out",3,"ngClass"],[1,"pl-4"],["routerLink","/particulier/auto","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50",3,"click"],["routerLink","/particulier/habitation","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50",3,"click"],["routerLink","/particulier/rc-familiale","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50",3,"click"],["routerLink","/particulier/annulation-voyage","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50",3,"click"],["routerLink","/particulier/protection-juridique","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50",3,"click"],["routerLink","/particulier/vie-sante","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50",3,"click"],["routerLink","/particulier/obseques","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50",3,"click"],["routerLink","/particulier/solde-restant-du","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50",3,"click"],["aria-haspopup","true",1,"w-full","text-left","px-4","py-2","text-gray-700","hover:bg-indigo-50","flex","justify-between","items-center",3,"click"],["routerLink","/professionnel/cie","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50",3,"click"],["routerLink","/news","routerLinkActive","bg-indigo-50 text-indigo-600",1,"block","px-4","py-2","text-gray-700","hover:bg-indigo-50",3,"click"],["routerLink","/contact","routerLinkActive","bg-indigo-50 text-indigo-600",1,"block","px-4","py-2","text-gray-700","hover:bg-indigo-50",3,"click"],["href","tel:+3228876435",1,"flex","items-center","px-4","py-2","text-gray-700","hover:bg-indigo-50"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"h-5","w-5","mr-3"],[1,"p-2","space-y-2"],["routerLink","/account",1,"flex","items-center","justify-center","bg-indigo-600","text-white","px-4","py-2","rounded-md","text-sm","font-semibold","hover:bg-indigo-700","transition","w-full",3,"click"],["routerLink","/corporate",1,"flex","items-center","justify-center","bg-gray-800","text-white","px-4","py-2","rounded-md","text-sm","font-semibold","hover:bg-gray-900","transition","w-full",3,"click"]],template:function(f,c){if(1&f){const O=e.RV6();e.j41(0,"nav",4),e.nrm(1,"div",5,0),e.j41(3,"div",6)(4,"div",7)(5,"a",8),e.EFF(6," AssurKin "),e.k0s(),e.j41(7,"div",9)(8,"div",10,1),e.bIt("mouseleave",function(){return e.eBV(O),e.Njj(c.onMenuLeave())}),e.j41(10,"a",11,2),e.bIt("mouseenter",function(ke){return e.eBV(O),e.Njj(c.onLinkHover(ke))}),e.EFF(12,"Accueil"),e.k0s(),e.j41(13,"div",12),e.bIt("mouseenter",function(){return e.eBV(O),e.Njj(c.showMentionsLegalesSubMenu=!0)})("mouseleave",function(){return e.eBV(O),e.Njj(c.showMentionsLegalesSubMenu=!1)}),e.j41(14,"button",13,2),e.bIt("mouseenter",function(ke){return e.eBV(O),e.Njj(c.onLinkHover(ke))}),e.EFF(16," Mentions l\xe9gales "),e.qSk(),e.j41(17,"svg",14),e.nrm(18,"path",15),e.k0s()(),e.joV(),e.j41(19,"div",16)(20,"a",17),e.EFF(21,"Vue d'ensemble"),e.k0s()()(),e.j41(22,"div",12),e.bIt("mouseenter",function(){return e.eBV(O),e.Njj(c.showParticulierSubMenu=!0)})("mouseleave",function(){return e.eBV(O),e.Njj(c.showParticulierSubMenu=!1)}),e.j41(23,"button",18,2),e.bIt("mouseenter",function(ke){return e.eBV(O),e.Njj(c.onLinkHover(ke))}),e.j41(25,"a",19),e.EFF(26,"Particulier"),e.k0s(),e.qSk(),e.j41(27,"svg",14),e.nrm(28,"path",15),e.k0s()(),e.joV(),e.j41(29,"div",20)(30,"a",21),e.EFF(31,"Auto"),e.k0s(),e.j41(32,"a",22),e.EFF(33,"Habitation"),e.k0s(),e.j41(34,"a",23),e.EFF(35,"RC familiale"),e.k0s(),e.j41(36,"a",24),e.EFF(37,"Annulation-voyage"),e.k0s(),e.j41(38,"a",25),e.EFF(39,"Protection juridique"),e.k0s(),e.j41(40,"a",26),e.EFF(41,"Vie et sant\xe9"),e.k0s(),e.j41(42,"a",27),e.EFF(43,"Obs\xe8ques"),e.k0s(),e.j41(44,"a",28),e.EFF(45,"Solde restant d\xfb"),e.k0s()()(),e.j41(46,"div",12),e.bIt("mouseenter",function(){return e.eBV(O),e.Njj(c.showProfessionelSubMenu=!0)})("mouseleave",function(){return e.eBV(O),e.Njj(c.showProfessionelSubMenu=!1)}),e.j41(47,"button",29,2),e.bIt("mouseenter",function(ke){return e.eBV(O),e.Njj(c.onLinkHover(ke))}),e.j41(49,"a",30),e.EFF(50,"Professionel"),e.k0s(),e.qSk(),e.j41(51,"svg",14),e.nrm(52,"path",15),e.k0s()(),e.joV(),e.j41(53,"div",20)(54,"a",31),e.EFF(55,"Demande d'infos"),e.k0s()()(),e.j41(56,"a",32,2),e.bIt("mouseenter",function(ke){return e.eBV(O),e.Njj(c.onLinkHover(ke))}),e.EFF(58,"News"),e.k0s(),e.j41(59,"a",33,2),e.bIt("mouseenter",function(ke){return e.eBV(O),e.Njj(c.onLinkHover(ke))}),e.EFF(61,"Contact"),e.k0s(),e.nrm(62,"div",34,3),e.k0s(),e.j41(64,"div",35)(65,"a",36),e.qSk(),e.j41(66,"svg",37),e.nrm(67,"path",38),e.k0s(),e.EFF(68," +32 (0)2 887 64 35 "),e.k0s(),e.joV(),e.j41(69,"div",39)(70,"a",40),e.qSk(),e.j41(71,"svg",37),e.nrm(72,"path",41),e.k0s(),e.EFF(73," Hello "),e.k0s(),e.joV(),e.j41(74,"a",42),e.qSk(),e.j41(75,"svg",37),e.nrm(76,"path",43),e.k0s(),e.EFF(77," Corporate "),e.k0s()()()(),e.joV(),e.j41(78,"button",44),e.bIt("click",function(){return e.eBV(O),e.Njj(c.toggleMenu())}),e.DNE(79,uo,2,0,"svg",45)(80,ks,2,0,"svg",45),e.k0s()()(),e.DNE(81,Zn,58,36,"div",46),e.k0s()}2&f&&(e.R7$(10),e.Y8G("routerLinkActiveOptions",e.lJ4(22,sl)),e.BMQ("aria-current","page"),e.R7$(4),e.BMQ("aria-expanded",c.showMentionsLegalesSubMenu),e.R7$(5),e.Y8G("ngClass",e.l_i(23,al,c.showMentionsLegalesSubMenu,!c.showMentionsLegalesSubMenu)),e.R7$(),e.Y8G("routerLinkActiveOptions",e.lJ4(26,sl)),e.R7$(9),e.Y8G("ngClass",e.l_i(27,al,c.showParticulierSubMenu,!c.showParticulierSubMenu)),e.R7$(),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(9),e.Y8G("ngClass",e.l_i(30,al,c.showProfessionelSubMenu,!c.showProfessionelSubMenu)),e.R7$(),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(3),e.BMQ("aria-current","page"),e.R7$(19),e.BMQ("aria-expanded",c.isMenuVisible),e.R7$(),e.Y8G("ngIf",!c.isMenuVisible),e.R7$(),e.Y8G("ngIf",c.isMenuVisible),e.R7$(),e.Y8G("ngIf",c.isMenuVisible))},dependencies:[S.MD,S.YU,S.bT,te.Wk,te.wQ],encapsulation:2})}return d})(),Nf=(()=>{class d{scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}static \u0275fac=function(f){return new(f||d)};static \u0275cmp=e.VBU({type:d,selectors:[["app-footer"]],standalone:!0,features:[e.aNF],decls:25,vars:0,consts:[[1,"footer"],[1,"container"],[1,"footer-nav"],["routerLink","/particulier"],["routerLink","/professionnel"],["routerLink","/contact"],[1,"social-icons"],["href","https://facebook.com","target","_blank","aria-label","Facebook"],[1,"fab","fa-facebook-f"],["href","https://instagram.com","target","_blank","aria-label","Instagram"],[1,"fab","fa-instagram"],["href","https://linkedin.com","target","_blank","aria-label","LinkedIn"],[1,"fab","fa-linkedin-in"],["href","https://wa.me/32487757115","target","_blank","aria-label","WhatsApp"],[1,"fab","fa-whatsapp"],["aria-label","Remonter en haut",1,"scroll-to-top",3,"click"],[1,"fas","fa-arrow-up"],[1,"copyright"]],template:function(f,c){1&f&&(e.j41(0,"footer",0)(1,"div",1)(2,"ul",2)(3,"li")(4,"a",3),e.EFF(5,"Particulier"),e.k0s()(),e.j41(6,"li")(7,"a",4),e.EFF(8,"Professionnel"),e.k0s()(),e.j41(9,"li")(10,"a",5),e.EFF(11,"Contact"),e.k0s()()(),e.j41(12,"div",6)(13,"a",7),e.nrm(14,"i",8),e.k0s(),e.j41(15,"a",9),e.nrm(16,"i",10),e.k0s(),e.j41(17,"a",11),e.nrm(18,"i",12),e.k0s(),e.j41(19,"a",13),e.nrm(20,"i",14),e.k0s()(),e.j41(21,"button",15),e.bIt("click",function(){return c.scrollToTop()}),e.nrm(22,"i",16),e.k0s(),e.j41(23,"p",17),e.EFF(24,"\xa9 2024 assurkin. Tous droits r\xe9serv\xe9s."),e.k0s()()())},dependencies:[te.iI,te.Wk],styles:[".footer[_ngcontent-%COMP%]{background-color:#343a40;color:#f8f9fa;padding:2rem 0;margin-top:2rem}.footer[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{text-align:center}.footer-nav[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;justify-content:center;gap:1.5rem;margin-bottom:1rem}.footer-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#f8f9fa;text-decoration:none;transition:color .2s}.footer-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#adb5bd}.social-icons[_ngcontent-%COMP%]{margin:1.5rem 0}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#f8f9fa;font-size:1.5rem;margin:0 .75rem;text-decoration:none;transition:color .2s;display:inline-block;width:40px;height:40px;line-height:40px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#adb5bd}.scroll-to-top[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;background-color:#4f46e5;color:#fff;border:none;border-radius:50%;width:45px;height:45px;cursor:pointer;display:flex;align-items:center;justify-content:center;z-index:1000;transition:background-color .3s ease}.scroll-to-top[_ngcontent-%COMP%]:hover{background-color:#6366f1}"]})}return d})();var Nc=D(7786),Pf=D(8750),Pc=D(1985),Oc=D(1397),_a=D(7441),_o=D(8071),Of=D(6450);const ll=["addListener","removeListener"],ul=["addEventListener","removeEventListener"],cl=["on","off"];function Hs(d,T,s,f){if((0,_o.T)(s)&&(f=s,s=void 0),f)return Hs(d,T,s).pipe((0,Of.I)(f));const[c,O]=function qs(d){return(0,_o.T)(d.addEventListener)&&(0,_o.T)(d.removeEventListener)}(d)?ul.map(se=>ke=>d[se](T,ke,s)):function jc(d){return(0,_o.T)(d.addListener)&&(0,_o.T)(d.removeListener)}(d)?ll.map(gu(d,T)):function jf(d){return(0,_o.T)(d.on)&&(0,_o.T)(d.off)}(d)?cl.map(gu(d,T)):[];if(!c&&(0,_a.X)(d))return(0,Oc.Z)(se=>Hs(se,T,s))((0,Pf.Tg)(d));if(!c)throw new TypeError("Invalid event target");return new Pc.c(se=>{const ke=(...rt)=>se.next(1<rt.length?rt:rt[0]);return c(ke),()=>O(ke)})}function gu(d,T){return s=>f=>d[s](T,f)}function ya(d,T){if(1&d){const s=e.RV6();e.j41(0,"button",7),e.bIt("click",function(){e.eBV(s);const c=e.XpG(2);return e.Njj(c.closeBanner())}),e.nrm(1,"i",8),e.k0s()}}function Lf(d,T){if(1&d&&(e.j41(0,"div",1)(1,"div",2)(2,"span",3),e.nrm(3,"i",4),e.k0s(),e.j41(4,"span",5),e.EFF(5),e.k0s(),e.DNE(6,ya,2,0,"button",6),e.k0s()()),2&d){const s=e.XpG();e.Y8G("ngClass",s.isOnline?"bg-green-600":"bg-red-600"),e.R7$(3),e.Y8G("ngClass",s.isOnline?"fa-wifi":"fa-exclamation-triangle"),e.R7$(2),e.SpI(" ",s.isOnline?"La connexion internet est r\xe9tablie.":"Vous \xeates actuellement hors ligne. Certaines fonctionnalit\xe9s peuvent \xeatre limit\xe9es."," "),e.R7$(),e.Y8G("ngIf",!s.isOnline)}}let vu=(()=>{class d{ngZone;isOnline=!0;showBanner=!1;subscription=null;constructor(s){this.ngZone=s,typeof navigator<"u"&&(this.isOnline=navigator.onLine)}ngOnInit(){typeof window<"u"&&(this.subscription=(0,Nc.h)(Hs(window,"online").pipe((0,ve.T)(()=>!0)),Hs(window,"offline").pipe((0,ve.T)(()=>!1))).subscribe(s=>{this.ngZone.run(()=>{this.isOnline=s,s?(this.showBanner=!0,setTimeout(()=>{this.showBanner=!1},3e3)):this.showBanner=!0})}))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}closeBanner(){this.showBanner=!1}static \u0275fac=function(f){return new(f||d)(e.rXU(e.SKi))};static \u0275cmp=e.VBU({type:d,selectors:[["app-network-status"]],standalone:!0,features:[e.aNF],decls:1,vars:1,consts:[["class","fixed bottom-0 left-0 right-0 z-50 p-3 text-center text-white transition-all duration-500 ease-in-out shadow-lg",3,"ngClass",4,"ngIf"],[1,"fixed","bottom-0","left-0","right-0","z-50","p-3","text-center","text-white","transition-all","duration-500","ease-in-out","shadow-lg",3,"ngClass"],[1,"flex","items-center","justify-center"],[1,"mr-2"],[1,"fas",3,"ngClass"],[1,"font-medium"],["class","ml-4 focus:outline-none hover:text-gray-200","title","Fermer",3,"click",4,"ngIf"],["title","Fermer",1,"ml-4","focus:outline-none","hover:text-gray-200",3,"click"],[1,"fas","fa-times"]],template:function(f,c){1&f&&e.DNE(0,Lf,7,4,"div",0),2&f&&e.Y8G("ngIf",c.showBanner)},dependencies:[S.MD,S.YU,S.bT],encapsulation:2})}return d})();(0,l.B8)((()=>{class d{title="Bienvenue chez Assurkin";static \u0275fac=function(f){return new(f||d)};static \u0275cmp=e.VBU({type:d,selectors:[["app-root"]],standalone:!0,features:[e.aNF],decls:5,vars:0,consts:[[1,"container","mx-auto","mt-20","px-4"]],template:function(f,c){1&f&&(e.nrm(0,"app-navbar"),e.j41(1,"main",0),e.nrm(2,"router-outlet"),e.k0s(),e.nrm(3,"app-footer")(4,"app-network-status"))},dependencies:[te.n3,Ac,Nf,vu],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-height:100vh}main[_ngcontent-%COMP%]{flex:1}"]})}return d})(),Rf).catch(d=>console.error(d))},5286:(Je,_e,D)=>{"use strict";D.r(_e),D.d(_e,{Headers:()=>S,Request:()=>H,Response:()=>E,default:()=>e,fetch:()=>te});var j=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}();const te=j.fetch,e=j.fetch.bind(j),S=j.Headers,H=j.Request,E=j.Response},5958:function(Je,_e,D){"use strict";var l=D(9293).default,j=this&&this.__importDefault||function(H){return H&&H.__esModule?H:{default:H}};Object.defineProperty(_e,"__esModule",{value:!0});const te=j(D(5286)),e=j(D(4659));_e.default=class S{constructor(E){this.shouldThrowOnError=!1,this.method=E.method,this.url=E.url,this.headers=E.headers,this.schema=E.schema,this.body=E.body,this.shouldThrowOnError=E.shouldThrowOnError,this.signal=E.signal,this.isMaybeSingle=E.isMaybeSingle,this.fetch=E.fetch?E.fetch:typeof fetch>"u"?te.default:fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(E,K){var ue=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let Q=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(function(){var ye=l(function*(Fe){var Ee,Le,ne;let U=null,B=null,he=null,le=Fe.status,fe=Fe.statusText;if(Fe.ok){if("HEAD"!==ue.method){const Te=yield Fe.text();""===Te||(B="text/csv"===ue.headers.Accept||ue.headers.Accept&&ue.headers.Accept.includes("application/vnd.pgrst.plan+text")?Te:JSON.parse(Te))}const xe=null===(Ee=ue.headers.Prefer)||void 0===Ee?void 0:Ee.match(/count=(exact|planned|estimated)/),nt=null===(Le=Fe.headers.get("content-range"))||void 0===Le?void 0:Le.split("/");xe&&nt&&nt.length>1&&(he=parseInt(nt[1])),ue.isMaybeSingle&&"GET"===ue.method&&Array.isArray(B)&&(B.length>1?(U={code:"PGRST116",details:`Results contain ${B.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},B=null,he=null,le=406,fe="Not Acceptable"):B=1===B.length?B[0]:null)}else{const xe=yield Fe.text();try{U=JSON.parse(xe),Array.isArray(U)&&404===Fe.status&&(B=[],U=null,le=200,fe="OK")}catch{404===Fe.status&&""===xe?(le=204,fe="No Content"):U={message:xe}}if(U&&ue.isMaybeSingle&&!(null===(ne=U?.details)||void 0===ne)&&ne.includes("0 rows")&&(U=null,le=200,fe="OK"),U&&ue.shouldThrowOnError)throw new e.default(U)}return{error:U,data:B,count:he,status:le,statusText:fe}});return function(Fe){return ye.apply(this,arguments)}}());return this.shouldThrowOnError||(Q=Q.catch(ye=>{var Fe,Ee,Le;return{error:{message:`${null!==(Fe=ye?.name)&&void 0!==Fe?Fe:"FetchError"}: ${ye?.message}`,details:`${null!==(Ee=ye?.stack)&&void 0!==Ee?Ee:""}`,hint:"",code:`${null!==(Le=ye?.code)&&void 0!==Le?Le:""}`},data:null,count:null,status:0,statusText:""}})),Q.then(E,K)}}},3242:function(Je,_e,D){"use strict";var l=this&&this.__importDefault||function(H){return H&&H.__esModule?H:{default:H}};Object.defineProperty(_e,"__esModule",{value:!0});const j=l(D(8666)),te=l(D(3608)),e=D(3057);class S{constructor(E,{headers:K={},schema:ue,fetch:ve}={}){this.url=E,this.headers=Object.assign(Object.assign({},e.DEFAULT_HEADERS),K),this.schemaName=ue,this.fetch=ve}from(E){const K=new URL(`${this.url}/${E}`);return new j.default(K,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(E){return new S(this.url,{headers:this.headers,schema:E,fetch:this.fetch})}rpc(E,K={},{head:ue=!1,get:ve=!1,count:Q}={}){let ye;const Fe=new URL(`${this.url}/rpc/${E}`);let Ee;ue||ve?(ye=ue?"HEAD":"GET",Object.entries(K).filter(([ne,U])=>void 0!==U).map(([ne,U])=>[ne,Array.isArray(U)?`{${U.join(",")}}`:`${U}`]).forEach(([ne,U])=>{Fe.searchParams.append(ne,U)})):(ye="POST",Ee=K);const Le=Object.assign({},this.headers);return Q&&(Le.Prefer=`count=${Q}`),new te.default({method:ye,url:Fe,headers:Le,schema:this.schemaName,body:Ee,fetch:this.fetch,allowEmpty:!1})}}_e.default=S},4659:(Je,_e)=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});class D extends Error{constructor(j){super(j.message),this.name="PostgrestError",this.details=j.details,this.hint=j.hint,this.code=j.code}}_e.default=D},3608:function(Je,_e,D){"use strict";var l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_e,"__esModule",{value:!0});const j=l(D(3342));_e.default=class te extends j.default{eq(S,H){return this.url.searchParams.append(S,`eq.${H}`),this}neq(S,H){return this.url.searchParams.append(S,`neq.${H}`),this}gt(S,H){return this.url.searchParams.append(S,`gt.${H}`),this}gte(S,H){return this.url.searchParams.append(S,`gte.${H}`),this}lt(S,H){return this.url.searchParams.append(S,`lt.${H}`),this}lte(S,H){return this.url.searchParams.append(S,`lte.${H}`),this}like(S,H){return this.url.searchParams.append(S,`like.${H}`),this}likeAllOf(S,H){return this.url.searchParams.append(S,`like(all).{${H.join(",")}}`),this}likeAnyOf(S,H){return this.url.searchParams.append(S,`like(any).{${H.join(",")}}`),this}ilike(S,H){return this.url.searchParams.append(S,`ilike.${H}`),this}ilikeAllOf(S,H){return this.url.searchParams.append(S,`ilike(all).{${H.join(",")}}`),this}ilikeAnyOf(S,H){return this.url.searchParams.append(S,`ilike(any).{${H.join(",")}}`),this}is(S,H){return this.url.searchParams.append(S,`is.${H}`),this}in(S,H){const E=Array.from(new Set(H)).map(K=>"string"==typeof K&&new RegExp("[,()]").test(K)?`"${K}"`:`${K}`).join(",");return this.url.searchParams.append(S,`in.(${E})`),this}contains(S,H){return"string"==typeof H?this.url.searchParams.append(S,`cs.${H}`):Array.isArray(H)?this.url.searchParams.append(S,`cs.{${H.join(",")}}`):this.url.searchParams.append(S,`cs.${JSON.stringify(H)}`),this}containedBy(S,H){return"string"==typeof H?this.url.searchParams.append(S,`cd.${H}`):Array.isArray(H)?this.url.searchParams.append(S,`cd.{${H.join(",")}}`):this.url.searchParams.append(S,`cd.${JSON.stringify(H)}`),this}rangeGt(S,H){return this.url.searchParams.append(S,`sr.${H}`),this}rangeGte(S,H){return this.url.searchParams.append(S,`nxl.${H}`),this}rangeLt(S,H){return this.url.searchParams.append(S,`sl.${H}`),this}rangeLte(S,H){return this.url.searchParams.append(S,`nxr.${H}`),this}rangeAdjacent(S,H){return this.url.searchParams.append(S,`adj.${H}`),this}overlaps(S,H){return this.url.searchParams.append(S,"string"==typeof H?`ov.${H}`:`ov.{${H.join(",")}}`),this}textSearch(S,H,{config:E,type:K}={}){let ue="";return"plain"===K?ue="pl":"phrase"===K?ue="ph":"websearch"===K&&(ue="w"),this.url.searchParams.append(S,`${ue}fts${void 0===E?"":`(${E})`}.${H}`),this}match(S){return Object.entries(S).forEach(([H,E])=>{this.url.searchParams.append(H,`eq.${E}`)}),this}not(S,H,E){return this.url.searchParams.append(S,`not.${H}.${E}`),this}or(S,{foreignTable:H,referencedTable:E=H}={}){return this.url.searchParams.append(E?`${E}.or`:"or",`(${S})`),this}filter(S,H,E){return this.url.searchParams.append(S,`${H}.${E}`),this}}},8666:function(Je,_e,D){"use strict";var l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_e,"__esModule",{value:!0});const j=l(D(3608));_e.default=class te{constructor(S,{headers:H={},schema:E,fetch:K}){this.url=S,this.headers=H,this.schema=E,this.fetch=K}select(S,{head:H=!1,count:E}={}){const K=H?"HEAD":"GET";let ue=!1;const ve=(S??"*").split("").map(Q=>/\s/.test(Q)&&!ue?"":('"'===Q&&(ue=!ue),Q)).join("");return this.url.searchParams.set("select",ve),E&&(this.headers.Prefer=`count=${E}`),new j.default({method:K,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(S,{count:H,defaultToNull:E=!0}={}){const ue=[];if(this.headers.Prefer&&ue.push(this.headers.Prefer),H&&ue.push(`count=${H}`),E||ue.push("missing=default"),this.headers.Prefer=ue.join(","),Array.isArray(S)){const ve=S.reduce((Q,ye)=>Q.concat(Object.keys(ye)),[]);if(ve.length>0){const Q=[...new Set(ve)].map(ye=>`"${ye}"`);this.url.searchParams.set("columns",Q.join(","))}}return new j.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:S,fetch:this.fetch,allowEmpty:!1})}upsert(S,{onConflict:H,ignoreDuplicates:E=!1,count:K,defaultToNull:ue=!0}={}){const Q=[`resolution=${E?"ignore":"merge"}-duplicates`];if(void 0!==H&&this.url.searchParams.set("on_conflict",H),this.headers.Prefer&&Q.push(this.headers.Prefer),K&&Q.push(`count=${K}`),ue||Q.push("missing=default"),this.headers.Prefer=Q.join(","),Array.isArray(S)){const ye=S.reduce((Fe,Ee)=>Fe.concat(Object.keys(Ee)),[]);if(ye.length>0){const Fe=[...new Set(ye)].map(Ee=>`"${Ee}"`);this.url.searchParams.set("columns",Fe.join(","))}}return new j.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:S,fetch:this.fetch,allowEmpty:!1})}update(S,{count:H}={}){const K=[];return this.headers.Prefer&&K.push(this.headers.Prefer),H&&K.push(`count=${H}`),this.headers.Prefer=K.join(","),new j.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:S,fetch:this.fetch,allowEmpty:!1})}delete({count:S}={}){const E=[];return S&&E.push(`count=${S}`),this.headers.Prefer&&E.unshift(this.headers.Prefer),this.headers.Prefer=E.join(","),new j.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},3342:function(Je,_e,D){"use strict";var l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_e,"__esModule",{value:!0});const j=l(D(5958));_e.default=class te extends j.default{select(S){let H=!1;const E=(S??"*").split("").map(K=>/\s/.test(K)&&!H?"":('"'===K&&(H=!H),K)).join("");return this.url.searchParams.set("select",E),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(S,{ascending:H=!0,nullsFirst:E,foreignTable:K,referencedTable:ue=K}={}){const ve=ue?`${ue}.order`:"order",Q=this.url.searchParams.get(ve);return this.url.searchParams.set(ve,`${Q?`${Q},`:""}${S}.${H?"asc":"desc"}${void 0===E?"":E?".nullsfirst":".nullslast"}`),this}limit(S,{foreignTable:H,referencedTable:E=H}={}){return this.url.searchParams.set(typeof E>"u"?"limit":`${E}.limit`,`${S}`),this}range(S,H,{foreignTable:E,referencedTable:K=E}={}){const ve=typeof K>"u"?"limit":`${K}.limit`;return this.url.searchParams.set(typeof K>"u"?"offset":`${K}.offset`,`${S}`),this.url.searchParams.set(ve,""+(H-S+1)),this}abortSignal(S){return this.signal=S,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.headers.Accept="GET"===this.method?"application/json":"application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:S=!1,verbose:H=!1,settings:E=!1,buffers:K=!1,wal:ue=!1,format:ve="text"}={}){var Q;const ye=[S?"analyze":null,H?"verbose":null,E?"settings":null,K?"buffers":null,ue?"wal":null].filter(Boolean).join("|"),Fe=null!==(Q=this.headers.Accept)&&void 0!==Q?Q:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${ve}; for="${Fe}"; options=${ye};`,this}rollback(){var S;return(null!==(S=this.headers.Prefer)&&void 0!==S?S:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}},3057:(Je,_e,D)=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.DEFAULT_HEADERS=void 0;const l=D(3056);_e.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${l.version}`}},4060:function(Je,_e,D){"use strict";var l=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(_e,"__esModule",{value:!0}),_e.PostgrestBuilder=_e.PostgrestTransformBuilder=_e.PostgrestFilterBuilder=_e.PostgrestQueryBuilder=_e.PostgrestClient=void 0;const j=l(D(3242));_e.PostgrestClient=j.default;const te=l(D(8666));_e.PostgrestQueryBuilder=te.default;const e=l(D(3608));_e.PostgrestFilterBuilder=e.default;const S=l(D(3342));_e.PostgrestTransformBuilder=S.default;const H=l(D(5958));_e.PostgrestBuilder=H.default,_e.default={PostgrestClient:j.default,PostgrestQueryBuilder:te.default,PostgrestFilterBuilder:e.default,PostgrestTransformBuilder:S.default,PostgrestBuilder:H.default}},3056:(Je,_e)=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.version=void 0,_e.version="0.0.0-automated"},7583:(Je,_e,D)=>{"use strict";D.d(_e,{UU:()=>Io});class j extends Error{constructor(I,g="FunctionsError",y){super(I),this.name=g,this.context=y}}class te extends j{constructor(I){super("Failed to send a request to the Edge Function","FunctionsFetchError",I)}}class e extends j{constructor(I){super("Relay Error invoking the Edge Function","FunctionsRelayError",I)}}class S extends j{constructor(I){super("Edge Function returned a non-2xx status code","FunctionsHttpError",I)}}var H=function(V){return V.Any="any",V.ApNortheast1="ap-northeast-1",V.ApNortheast2="ap-northeast-2",V.ApSouth1="ap-south-1",V.ApSoutheast1="ap-southeast-1",V.ApSoutheast2="ap-southeast-2",V.CaCentral1="ca-central-1",V.EuCentral1="eu-central-1",V.EuWest1="eu-west-1",V.EuWest2="eu-west-2",V.EuWest3="eu-west-3",V.SaEast1="sa-east-1",V.UsEast1="us-east-1",V.UsWest1="us-west-1",V.UsWest2="us-west-2",V}(H||{});class K{constructor(I,{headers:g={},customFetch:y,region:k=H.Any}={}){this.url=I,this.headers=g,this.region=k,this.fetch=(V=>{let I;return I=V||(typeof fetch>"u"?(...g)=>Promise.resolve().then(D.bind(D,5286)).then(({default:y})=>y(...g)):fetch),(...g)=>I(...g)})(y)}setAuth(I){this.headers.Authorization=`Bearer ${I}`}invoke(I,g={}){var y;return function(V,I,g,y){return new(g||(g=Promise))(function($,z){function X(ie){try{Ce(y.next(ie))}catch(Ue){z(Ue)}}function ce(ie){try{Ce(y.throw(ie))}catch(Ue){z(Ue)}}function Ce(ie){ie.done?$(ie.value):function k($){return $ instanceof g?$:new g(function(z){z($)})}(ie.value).then(X,ce)}Ce((y=y.apply(V,I||[])).next())})}(this,void 0,void 0,function*(){try{const{headers:k,method:$,body:z}=g;let Ce,X={},{region:ce}=g;ce||(ce=this.region),ce&&"any"!==ce&&(X["x-region"]=ce),z&&(k&&!Object.prototype.hasOwnProperty.call(k,"Content-Type")||!k)&&(typeof Blob<"u"&&z instanceof Blob||z instanceof ArrayBuffer?(X["Content-Type"]="application/octet-stream",Ce=z):"string"==typeof z?(X["Content-Type"]="text/plain",Ce=z):typeof FormData<"u"&&z instanceof FormData?Ce=z:(X["Content-Type"]="application/json",Ce=JSON.stringify(z)));const ie=yield this.fetch(`${this.url}/${I}`,{method:$||"POST",headers:Object.assign(Object.assign(Object.assign({},X),this.headers),k),body:Ce}).catch(yt=>{throw new te(yt)}),Ue=ie.headers.get("x-relay-error");if(Ue&&"true"===Ue)throw new e(ie);if(!ie.ok)throw new S(ie);let bt,ft=(null!==(y=ie.headers.get("Content-Type"))&&void 0!==y?y:"text/plain").split(";")[0].trim();return bt="application/json"===ft?yield ie.json():"application/octet-stream"===ft?yield ie.blob():"text/event-stream"===ft?ie:"multipart/form-data"===ft?yield ie.formData():yield ie.text(),{data:bt,error:null}}catch(k){return{data:null,error:k}}})}}var ue=D(4060);const{PostgrestClient:ve}=ue;var ne=D(467);const B={"X-Client-Info":"realtime-js/2.10.2"};var pe=function(V){return V[V.connecting=0]="connecting",V[V.open=1]="open",V[V.closing=2]="closing",V[V.closed=3]="closed",V}(pe||{}),xe=function(V){return V.closed="closed",V.errored="errored",V.joined="joined",V.joining="joining",V.leaving="leaving",V}(xe||{}),nt=function(V){return V.close="phx_close",V.error="phx_error",V.join="phx_join",V.reply="phx_reply",V.leave="phx_leave",V.access_token="access_token",V}(nt||{}),Te=function(V){return V.websocket="websocket",V}(Te||{}),$e=function(V){return V.Connecting="connecting",V.Open="open",V.Closing="closing",V.Closed="closed",V}($e||{});class Ye{constructor(){this.HEADER_LENGTH=1}decode(I,g){return I.constructor===ArrayBuffer?g(this._binaryDecode(I)):g("string"==typeof I?JSON.parse(I):{})}_binaryDecode(I){const g=new DataView(I),y=new TextDecoder;return this._decodeBroadcast(I,g,y)}_decodeBroadcast(I,g,y){const k=g.getUint8(1),$=g.getUint8(2);let z=this.HEADER_LENGTH+2;const X=y.decode(I.slice(z,z+k));z+=k;const ce=y.decode(I.slice(z,z+$));return z+=$,{ref:null,topic:X,event:ce,payload:JSON.parse(y.decode(I.slice(z,I.byteLength)))}}}class Ke{constructor(I,g){this.callback=I,this.timerCalc=g,this.timer=void 0,this.tries=0,this.callback=I,this.timerCalc=g}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var st=function(V){return V.abstime="abstime",V.bool="bool",V.date="date",V.daterange="daterange",V.float4="float4",V.float8="float8",V.int2="int2",V.int4="int4",V.int4range="int4range",V.int8="int8",V.int8range="int8range",V.json="json",V.jsonb="jsonb",V.money="money",V.numeric="numeric",V.oid="oid",V.reltime="reltime",V.text="text",V.time="time",V.timestamp="timestamp",V.timestamptz="timestamptz",V.timetz="timetz",V.tsrange="tsrange",V.tstzrange="tstzrange",V}(st||{});const kt=(V,I,g={})=>{var y;const k=null!==(y=g.skipTypes)&&void 0!==y?y:[];return Object.keys(I).reduce(($,z)=>($[z]=_t(z,V,I,k),$),{})},_t=(V,I,g,y)=>{const k=I.find(X=>X.name===V),$=k?.type,z=g[V];return $&&!y.includes($)?St($,z):Rn(z)},St=(V,I)=>{if("_"===V.charAt(0)){const g=V.slice(1,V.length);return Nr(I,g)}switch(V){case st.bool:return xn(I);case st.float4:case st.float8:case st.int2:case st.int4:case st.int8:case st.numeric:case st.oid:return Yn(I);case st.json:case st.jsonb:return rr(I);case st.timestamp:return Ie(I);default:return Rn(I)}},Rn=V=>V,xn=V=>{switch(V){case"t":return!0;case"f":return!1;default:return V}},Yn=V=>{if("string"==typeof V){const I=parseFloat(V);if(!Number.isNaN(I))return I}return V},rr=V=>{if("string"==typeof V)try{return JSON.parse(V)}catch(I){return console.log(`JSON parse error: ${I}`),V}return V},Nr=(V,I)=>{if("string"!=typeof V)return V;const g=V.length-1;if("{"===V[0]&&"}"===V[g]){let $;const z=V.slice(1,g);try{$=JSON.parse("["+z+"]")}catch{$=z?z.split(","):[]}return $.map(X=>St(I,X))}return V},Ie=V=>"string"==typeof V?V.replace(" ","T"):V,Me=V=>{let I=V;return I=I.replace(/^ws/i,"http"),I=I.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),I.replace(/\/+$/,"")};class Re{constructor(I,g,y={},k=1e4){this.channel=I,this.event=g,this.payload=y,this.timeout=k,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(I){this.timeout=I,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(I){this.payload=Object.assign(Object.assign({},this.payload),I)}receive(I,g){var y;return this._hasReceived(I)&&g(null===(y=this.receivedResp)||void 0===y?void 0:y.response),this.recHooks.push({status:I,callback:g}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},g=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=g,this._matchReceive(g)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(I,g){this.refEvent&&this.channel._trigger(this.refEvent,{status:I,response:g})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:I,response:g}){this.recHooks.filter(y=>y.status===I).forEach(y=>y.callback(g))}_hasReceived(I){return this.receivedResp&&this.receivedResp.status===I}}class Qe{constructor(I,g){this.channel=I,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const y=g?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(y.state,{},k=>{const{onJoin:$,onLeave:z,onSync:X}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Qe.syncState(this.state,k,$,z),this.pendingDiffs.forEach(ce=>{this.state=Qe.syncDiff(this.state,ce,$,z)}),this.pendingDiffs=[],X()}),this.channel._on(y.diff,{},k=>{const{onJoin:$,onLeave:z,onSync:X}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(k):(this.state=Qe.syncDiff(this.state,k,$,z),X())}),this.onJoin((k,$,z)=>{this.channel._trigger("presence",{event:"join",key:k,currentPresences:$,newPresences:z})}),this.onLeave((k,$,z)=>{this.channel._trigger("presence",{event:"leave",key:k,currentPresences:$,leftPresences:z})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(I,g,y,k){const $=this.cloneDeep(I),z=this.transformState(g),X={},ce={};return this.map($,(Ce,ie)=>{z[Ce]||(ce[Ce]=ie)}),this.map(z,(Ce,ie)=>{const Ue=$[Ce];if(Ue){const ft=ie.map(Wt=>Wt.presence_ref),bt=Ue.map(Wt=>Wt.presence_ref),yt=ie.filter(Wt=>bt.indexOf(Wt.presence_ref)<0),fn=Ue.filter(Wt=>ft.indexOf(Wt.presence_ref)<0);yt.length>0&&(X[Ce]=yt),fn.length>0&&(ce[Ce]=fn)}else X[Ce]=ie}),this.syncDiff($,{joins:X,leaves:ce},y,k)}static syncDiff(I,g,y,k){const{joins:$,leaves:z}={joins:this.transformState(g.joins),leaves:this.transformState(g.leaves)};return y||(y=()=>{}),k||(k=()=>{}),this.map($,(X,ce)=>{var Ce;const ie=null!==(Ce=I[X])&&void 0!==Ce?Ce:[];if(I[X]=this.cloneDeep(ce),ie.length>0){const Ue=I[X].map(bt=>bt.presence_ref),ft=ie.filter(bt=>Ue.indexOf(bt.presence_ref)<0);I[X].unshift(...ft)}y(X,ie,ce)}),this.map(z,(X,ce)=>{let Ce=I[X];if(!Ce)return;const ie=ce.map(Ue=>Ue.presence_ref);Ce=Ce.filter(Ue=>ie.indexOf(Ue.presence_ref)<0),I[X]=Ce,k(X,Ce,ce),0===Ce.length&&delete I[X]}),I}static map(I,g){return Object.getOwnPropertyNames(I).map(y=>g(y,I[y]))}static transformState(I){return I=this.cloneDeep(I),Object.getOwnPropertyNames(I).reduce((g,y)=>{const k=I[y];return g[y]="metas"in k?k.metas.map($=>($.presence_ref=$.phx_ref,delete $.phx_ref,delete $.phx_ref_prev,$)):k,g},{})}static cloneDeep(I){return JSON.parse(JSON.stringify(I))}onJoin(I){this.caller.onJoin=I}onLeave(I){this.caller.onLeave=I}onSync(I){this.caller.onSync=I}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}class xt{constructor(I,g={config:{}},y){this.topic=I,this.params=g,this.socket=y,this.bindings={},this.state=xe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=I.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},g.config),this.timeout=this.socket.timeout,this.joinPush=new Re(this,nt.join,this.params,this.timeout),this.rejoinTimer=new Ke(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=xe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(k=>k.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=xe.closed,this.socket._remove(this)}),this._onError(k=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,k),this.state=xe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=xe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(nt.reply,{},(k,$)=>{this._trigger(this._replyEventName($),k)}),this.presence=new Qe(this),this.broadcastEndpointURL=Me(this.socket.endPoint)+"/api/broadcast"}subscribe(I,g=this.timeout){var y,k;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:$,presence:z,private:X}}=this.params;this._onError(ie=>I&&I("CHANNEL_ERROR",ie)),this._onClose(()=>I&&I("CLOSED"));const ce={},Ce={broadcast:$,presence:z,postgres_changes:null!==(k=null===(y=this.bindings.postgres_changes)||void 0===y?void 0:y.map(ie=>ie.filter))&&void 0!==k?k:[],private:X};this.socket.accessToken&&(ce.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:Ce},ce)),this.joinedOnce=!0,this._rejoin(g),this.joinPush.receive("ok",({postgres_changes:ie})=>{var Ue;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),void 0!==ie){const ft=this.bindings.postgres_changes,bt=null!==(Ue=ft?.length)&&void 0!==Ue?Ue:0,yt=[];for(let fn=0;fn<bt;fn++){const Wt=ft[fn],{filter:{event:Vr,schema:to,table:go,filter:ar}}=Wt,Wn=ie&&ie[fn];if(!Wn||Wn.event!==Vr||Wn.schema!==to||Wn.table!==go||Wn.filter!==ar)return this.unsubscribe(),void(I&&I("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes")));yt.push(Object.assign(Object.assign({},Wt),{id:Wn.id}))}return this.bindings.postgres_changes=yt,void(I&&I("SUBSCRIBED"))}I&&I("SUBSCRIBED")}).receive("error",ie=>{I&&I("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(ie).join(", ")||"error")))}).receive("timeout",()=>{I&&I("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(I){var g=this;return(0,ne.A)(function*(y,k={}){return yield g.send({type:"presence",event:"track",payload:y},k.timeout||g.timeout)}).apply(this,arguments)}untrack(){var I=this;return(0,ne.A)(function*(g={}){return yield I.send({type:"presence",event:"untrack"},g)}).apply(this,arguments)}on(I,g,y){return this._on(I,g,y)}send(I){var g=this;return(0,ne.A)(function*(y,k={}){var $,z;if(g._canPush()||"broadcast"!==y.type)return new Promise(X=>{var ce,Ce,ie;const Ue=g._push(y.type,y,k.timeout||g.timeout);"broadcast"===y.type&&!(null!==(ie=null===(Ce=null===(ce=g.params)||void 0===ce?void 0:ce.config)||void 0===Ce?void 0:Ce.broadcast)&&void 0!==ie&&ie.ack)&&X("ok"),Ue.receive("ok",()=>X("ok")),Ue.receive("error",()=>X("error")),Ue.receive("timeout",()=>X("timed out"))});{const{event:X,payload:ce}=y,Ce={method:"POST",headers:{Authorization:g.socket.accessToken?`Bearer ${g.socket.accessToken}`:"",apikey:g.socket.apiKey?g.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:g.subTopic,event:X,payload:ce}]})};try{const ie=yield g._fetchWithTimeout(g.broadcastEndpointURL,Ce,null!==($=k.timeout)&&void 0!==$?$:g.timeout);return yield null===(z=ie.body)||void 0===z?void 0:z.cancel(),ie.ok?"ok":"error"}catch(ie){return"AbortError"===ie.name?"timed out":"error"}}}).apply(this,arguments)}updateJoinPayload(I){this.joinPush.updatePayload(I)}unsubscribe(I=this.timeout){this.state=xe.leaving;const g=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(nt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(y=>{const k=new Re(this,nt.leave,{},I);k.receive("ok",()=>{g(),y("ok")}).receive("timeout",()=>{g(),y("timed out")}).receive("error",()=>{y("error")}),k.send(),this._canPush()||k.trigger("ok",{})})}_fetchWithTimeout(I,g,y){var k=this;return(0,ne.A)(function*(){const $=new AbortController,z=setTimeout(()=>$.abort(),y),X=yield k.socket.fetch(I,Object.assign(Object.assign({},g),{signal:$.signal}));return clearTimeout(z),X})()}_push(I,g,y=this.timeout){if(!this.joinedOnce)throw`tried to push '${I}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let k=new Re(this,I,g,y);return this._canPush()?k.send():(k.startTimeout(),this.pushBuffer.push(k)),k}_onMessage(I,g,y){return g}_isMember(I){return this.topic===I}_joinRef(){return this.joinPush.ref}_trigger(I,g,y){var k,$;const z=I.toLocaleLowerCase(),{close:X,error:ce,leave:Ce,join:ie}=nt;if(y&&[X,ce,Ce,ie].indexOf(z)>=0&&y!==this._joinRef())return;let ft=this._onMessage(z,g,y);if(g&&!ft)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(z)?null===(k=this.bindings.postgres_changes)||void 0===k||k.filter(bt=>{var yt,fn,Wt;return"*"===(null===(yt=bt.filter)||void 0===yt?void 0:yt.event)||(null===(Wt=null===(fn=bt.filter)||void 0===fn?void 0:fn.event)||void 0===Wt?void 0:Wt.toLocaleLowerCase())===z}).map(bt=>bt.callback(ft,y)):null===($=this.bindings[z])||void 0===$||$.filter(bt=>{var yt,fn,Wt,Vr,to,go;if(["broadcast","presence","postgres_changes"].includes(z)){if("id"in bt){const ar=bt.id,Wn=null===(yt=bt.filter)||void 0===yt?void 0:yt.event;return ar&&(null===(fn=g.ids)||void 0===fn?void 0:fn.includes(ar))&&("*"===Wn||Wn?.toLocaleLowerCase()===(null===(Wt=g.data)||void 0===Wt?void 0:Wt.type.toLocaleLowerCase()))}{const ar=null===(to=null===(Vr=bt?.filter)||void 0===Vr?void 0:Vr.event)||void 0===to?void 0:to.toLocaleLowerCase();return"*"===ar||ar===(null===(go=g?.event)||void 0===go?void 0:go.toLocaleLowerCase())}}return bt.type.toLocaleLowerCase()===z}).map(bt=>{if("object"==typeof ft&&"ids"in ft){const yt=ft.data,{schema:fn,table:Wt,commit_timestamp:Vr,type:to,errors:go}=yt;ft=Object.assign(Object.assign({},{schema:fn,table:Wt,commit_timestamp:Vr,eventType:to,new:{},old:{},errors:go}),this._getPayloadRecords(yt))}bt.callback(ft,y)})}_isClosed(){return this.state===xe.closed}_isJoined(){return this.state===xe.joined}_isJoining(){return this.state===xe.joining}_isLeaving(){return this.state===xe.leaving}_replyEventName(I){return`chan_reply_${I}`}_on(I,g,y){const k=I.toLocaleLowerCase(),$={type:k,filter:g,callback:y};return this.bindings[k]?this.bindings[k].push($):this.bindings[k]=[$],this}_off(I,g){const y=I.toLocaleLowerCase();return this.bindings[y]=this.bindings[y].filter(k=>{var $;return!((null===($=k.type)||void 0===$?void 0:$.toLocaleLowerCase())===y&&xt.isEqual(k.filter,g))}),this}static isEqual(I,g){if(Object.keys(I).length!==Object.keys(g).length)return!1;for(const y in I)if(I[y]!==g[y])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(I){this._on(nt.close,{},I)}_onError(I){this._on(nt.error,{},g=>I(g))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(I=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xe.joining,this.joinPush.resend(I))}_getPayloadRecords(I){const g={new:{},old:{}};return("INSERT"===I.type||"UPDATE"===I.type)&&(g.new=kt(I.columns,I.record)),("UPDATE"===I.type||"DELETE"===I.type)&&(g.old=kt(I.columns,I.old_record)),g}}const pn=()=>{},Mt=typeof WebSocket<"u";class Mn{constructor(I,g){var k,y=this;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=B,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=pn,this.conn=null,this.sendBuffer=[],this.serializer=new Ye,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=z=>{let X;return X=z||(typeof fetch>"u"?(...ce)=>Promise.resolve().then(D.bind(D,5286)).then(({default:Ce})=>Ce(...ce)):fetch),(...ce)=>X(...ce)},this.endPoint=`${I}/${Te.websocket}`,this.httpEndpoint=Me(I),this.transport=g?.transport?g.transport:null,g?.params&&(this.params=g.params),g?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),g.headers)),g?.timeout&&(this.timeout=g.timeout),g?.logger&&(this.logger=g.logger),g?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=g.heartbeatIntervalMs);const $=null===(k=g?.params)||void 0===k?void 0:k.apikey;$&&(this.accessToken=$,this.apiKey=$),this.reconnectAfterMs=g?.reconnectAfterMs?g.reconnectAfterMs:z=>[1e3,2e3,5e3,1e4][z-1]||1e4,this.encode=g?.encode?g.encode:(z,X)=>X(JSON.stringify(z)),this.decode=g?.decode?g.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ke((0,ne.A)(function*(){y.disconnect(),y.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(g?.fetch)}connect(){if(!this.conn){if(this.transport)return void(this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers}));if(Mt)return this.conn=new WebSocket(this._endPointURL()),void this.setupConnection();this.conn=new an(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),D.e(806).then(D.t.bind(D,3806,23)).then(({default:I})=>{this.conn=new I(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(I,g){this.conn&&(this.conn.onclose=function(){},I?this.conn.close(I,g??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(I){var g=this;return(0,ne.A)(function*(){const y=yield I.unsubscribe();return 0===g.channels.length&&g.disconnect(),y})()}removeAllChannels(){var I=this;return(0,ne.A)(function*(){const g=yield Promise.all(I.channels.map(y=>y.unsubscribe()));return I.disconnect(),g})()}log(I,g,y){this.logger(I,g,y)}connectionState(){switch(this.conn&&this.conn.readyState){case pe.connecting:return $e.Connecting;case pe.open:return $e.Open;case pe.closing:return $e.Closing;default:return $e.Closed}}isConnected(){return this.connectionState()===$e.Open}channel(I,g={config:{}}){const y=new xt(`realtime:${I}`,g,this);return this.channels.push(y),y}push(I){const{topic:g,event:y,payload:k,ref:$}=I,z=()=>{this.encode(I,X=>{var ce;null===(ce=this.conn)||void 0===ce||ce.send(X)})};this.log("push",`${g} ${y} (${$})`,k),this.isConnected()?z():this.sendBuffer.push(z)}setAuth(I){this.accessToken=I,this.channels.forEach(g=>{I&&g.updateJoinPayload({access_token:I}),g.joinedOnce&&g._isJoined()&&g._push(nt.access_token,{access_token:I})})}_makeRef(){let I=this.ref+1;return this.ref=I===this.ref?0:I,this.ref.toString()}_leaveOpenTopic(I){let g=this.channels.find(y=>y.topic===I&&(y._isJoined()||y._isJoining()));g&&(this.log("transport",`leaving duplicate topic "${I}"`),g.unsubscribe())}_remove(I){this.channels=this.channels.filter(g=>g._joinRef()!==I._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=I=>this._onConnError(I),this.conn.onmessage=I=>this._onConnMessage(I),this.conn.onclose=I=>this._onConnClose(I))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}_onConnMessage(I){this.decode(I.data,g=>{let{topic:y,event:k,payload:$,ref:z}=g;(z&&z===this.pendingHeartbeatRef||k===$?.type)&&(this.pendingHeartbeatRef=null),this.log("receive",`${$.status||""} ${y} ${k} ${z&&"("+z+")"||""}`,$),this.channels.filter(X=>X._isMember(y)).forEach(X=>X._trigger(k,$,z)),this.stateChangeCallbacks.message.forEach(X=>X(g))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(I=>I())}_onConnClose(I){this.log("transport","close",I),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(g=>g(I))}_onConnError(I){this.log("transport",I.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(g=>g(I))}_triggerChanError(){this.channels.forEach(I=>I._trigger(nt.error))}_appendParams(I,g){if(0===Object.keys(g).length)return I;const y=I.match(/\?/)?"&":"?";return`${I}${y}${new URLSearchParams(g)}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(I=>I()),this.sendBuffer=[])}_sendHeartbeat(){var I;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(I=this.conn)||void 0===I||I.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class an{constructor(I,g,y){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=pe.connecting,this.send=()=>{},this.url=null,this.url=I,this.close=y.close}}class Qt extends Error{constructor(I){super(I),this.__isStorageError=!0,this.name="StorageError"}}function Ot(V){return"object"==typeof V&&null!==V&&"__isStorageError"in V}class $n extends Qt{constructor(I,g){super(I),this.name="StorageApiError",this.status=g}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ze extends Qt{constructor(I,g){super(I),this.name="StorageUnknownError",this.originalError=g}}const Dr=V=>{let I;return I=V||(typeof fetch>"u"?(...g)=>Promise.resolve().then(D.bind(D,5286)).then(({default:y})=>y(...g)):fetch),(...g)=>I(...g)};var no=function(V,I,g,y){return new(g||(g=Promise))(function($,z){function X(ie){try{Ce(y.next(ie))}catch(Ue){z(Ue)}}function ce(ie){try{Ce(y.throw(ie))}catch(Ue){z(Ue)}}function Ce(ie){ie.done?$(ie.value):function k($){return $ instanceof g?$:new g(function(z){z($)})}(ie.value).then(X,ce)}Ce((y=y.apply(V,I||[])).next())})};const Er=V=>V.msg||V.message||V.error_description||V.error||JSON.stringify(V),Jt=(V,I)=>no(void 0,void 0,void 0,function*(){const g=yield function(V,I,g,y){return new(g||(g=Promise))(function($,z){function X(ie){try{Ce(y.next(ie))}catch(Ue){z(Ue)}}function ce(ie){try{Ce(y.throw(ie))}catch(Ue){z(Ue)}}function Ce(ie){ie.done?$(ie.value):function k($){return $ instanceof g?$:new g(function(z){z($)})}(ie.value).then(X,ce)}Ce((y=y.apply(V,I||[])).next())})}(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Promise.resolve().then(D.bind(D,5286))).Response:Response});V instanceof g?V.json().then(y=>{I(new $n(Er(y),V.status||500))}).catch(y=>{I(new Ze(Er(y),y))}):I(new Ze(Er(V),V))}),Tt=(V,I,g,y)=>{const k={method:V,headers:I?.headers||{}};return"GET"===V?k:(k.headers=Object.assign({"Content-Type":"application/json"},I?.headers),k.body=JSON.stringify(y),Object.assign(Object.assign({},k),g))};function or(V,I,g,y,k,$){return no(this,void 0,void 0,function*(){return new Promise((z,X)=>{V(g,Tt(I,y,k,$)).then(ce=>{if(!ce.ok)throw ce;return y?.noResolveJson?ce:ce.json()}).then(ce=>z(ce)).catch(ce=>Jt(ce,X))})})}function Ut(V,I,g,y){return no(this,void 0,void 0,function*(){return or(V,"GET",I,g,y)})}function gn(V,I,g,y,k){return no(this,void 0,void 0,function*(){return or(V,"POST",I,y,k,g)})}function yo(V,I,g,y,k){return no(this,void 0,void 0,function*(){return or(V,"PUT",I,y,k,g)})}function Dn(V,I,g,y,k){return no(this,void 0,void 0,function*(){return or(V,"DELETE",I,y,k,g)})}var An=function(V,I,g,y){return new(g||(g=Promise))(function($,z){function X(ie){try{Ce(y.next(ie))}catch(Ue){z(Ue)}}function ce(ie){try{Ce(y.throw(ie))}catch(Ue){z(Ue)}}function Ce(ie){ie.done?$(ie.value):function k($){return $ instanceof g?$:new g(function(z){z($)})}(ie.value).then(X,ce)}Ce((y=y.apply(V,I||[])).next())})};const vn={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},rn={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class cn{constructor(I,g={},y,k){this.url=I,this.headers=g,this.bucketId=y,this.fetch=Dr(k)}uploadOrUpdate(I,g,y,k){return An(this,void 0,void 0,function*(){try{let $;const z=Object.assign(Object.assign({},rn),k),X=Object.assign(Object.assign({},this.headers),"POST"===I&&{"x-upsert":String(z.upsert)});typeof Blob<"u"&&y instanceof Blob?($=new FormData,$.append("cacheControl",z.cacheControl),$.append("",y)):typeof FormData<"u"&&y instanceof FormData?($=y,$.append("cacheControl",z.cacheControl)):($=y,X["cache-control"]=`max-age=${z.cacheControl}`,X["content-type"]=z.contentType);const ce=this._removeEmptyFolders(g),Ce=this._getFinalPath(ce),ie=yield this.fetch(`${this.url}/object/${Ce}`,Object.assign({method:I,body:$,headers:X},z?.duplex?{duplex:z.duplex}:{})),Ue=yield ie.json();return ie.ok?{data:{path:ce,id:Ue.Id,fullPath:Ue.Key},error:null}:{data:null,error:Ue}}catch($){if(Ot($))return{data:null,error:$};throw $}})}upload(I,g,y){return An(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",I,g,y)})}uploadToSignedUrl(I,g,y,k){return An(this,void 0,void 0,function*(){const $=this._removeEmptyFolders(I),z=this._getFinalPath($),X=new URL(this.url+`/object/upload/sign/${z}`);X.searchParams.set("token",g);try{let ce;const Ce=Object.assign({upsert:rn.upsert},k),ie=Object.assign(Object.assign({},this.headers),{"x-upsert":String(Ce.upsert)});typeof Blob<"u"&&y instanceof Blob?(ce=new FormData,ce.append("cacheControl",Ce.cacheControl),ce.append("",y)):typeof FormData<"u"&&y instanceof FormData?(ce=y,ce.append("cacheControl",Ce.cacheControl)):(ce=y,ie["cache-control"]=`max-age=${Ce.cacheControl}`,ie["content-type"]=Ce.contentType);const Ue=yield this.fetch(X.toString(),{method:"PUT",body:ce,headers:ie}),ft=yield Ue.json();return Ue.ok?{data:{path:$,fullPath:ft.Key},error:null}:{data:null,error:ft}}catch(ce){if(Ot(ce))return{data:null,error:ce};throw ce}})}createSignedUploadUrl(I,g){return An(this,void 0,void 0,function*(){try{let y=this._getFinalPath(I);const k=Object.assign({},this.headers);g?.upsert&&(k["x-upsert"]="true");const $=yield gn(this.fetch,`${this.url}/object/upload/sign/${y}`,{},{headers:k}),z=new URL(this.url+$.url),X=z.searchParams.get("token");if(!X)throw new Qt("No token returned by API");return{data:{signedUrl:z.toString(),path:I,token:X},error:null}}catch(y){if(Ot(y))return{data:null,error:y};throw y}})}update(I,g,y){return An(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",I,g,y)})}move(I,g,y){return An(this,void 0,void 0,function*(){try{return{data:yield gn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:I,destinationKey:g,destinationBucket:y?.destinationBucket},{headers:this.headers}),error:null}}catch(k){if(Ot(k))return{data:null,error:k};throw k}})}copy(I,g,y){return An(this,void 0,void 0,function*(){try{return{data:{path:(yield gn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:I,destinationKey:g,destinationBucket:y?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(k){if(Ot(k))return{data:null,error:k};throw k}})}createSignedUrl(I,g,y){return An(this,void 0,void 0,function*(){try{let k=this._getFinalPath(I),$=yield gn(this.fetch,`${this.url}/object/sign/${k}`,Object.assign({expiresIn:g},y?.transform?{transform:y.transform}:{}),{headers:this.headers});const z=y?.download?`&download=${!0===y.download?"":y.download}`:"";return $={signedUrl:encodeURI(`${this.url}${$.signedURL}${z}`)},{data:$,error:null}}catch(k){if(Ot(k))return{data:null,error:k};throw k}})}createSignedUrls(I,g,y){return An(this,void 0,void 0,function*(){try{const k=yield gn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:g,paths:I},{headers:this.headers}),$=y?.download?`&download=${!0===y.download?"":y.download}`:"";return{data:k.map(z=>Object.assign(Object.assign({},z),{signedUrl:z.signedURL?encodeURI(`${this.url}${z.signedURL}${$}`):null})),error:null}}catch(k){if(Ot(k))return{data:null,error:k};throw k}})}download(I,g){return An(this,void 0,void 0,function*(){const k=typeof g?.transform<"u"?"render/image/authenticated":"object",$=this.transformOptsToQueryString(g?.transform||{}),z=$?`?${$}`:"";try{const X=this._getFinalPath(I);return{data:yield(yield Ut(this.fetch,`${this.url}/${k}/${X}${z}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(X){if(Ot(X))return{data:null,error:X};throw X}})}getPublicUrl(I,g){const y=this._getFinalPath(I),k=[],$=g?.download?`download=${!0===g.download?"":g.download}`:"";""!==$&&k.push($);const X=typeof g?.transform<"u"?"render/image":"object",ce=this.transformOptsToQueryString(g?.transform||{});""!==ce&&k.push(ce);let Ce=k.join("&");return""!==Ce&&(Ce=`?${Ce}`),{data:{publicUrl:encodeURI(`${this.url}/${X}/public/${y}${Ce}`)}}}remove(I){return An(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:I},{headers:this.headers}),error:null}}catch(g){if(Ot(g))return{data:null,error:g};throw g}})}list(I,g,y){return An(this,void 0,void 0,function*(){try{const k=Object.assign(Object.assign(Object.assign({},vn),g),{prefix:I||""});return{data:yield gn(this.fetch,`${this.url}/object/list/${this.bucketId}`,k,{headers:this.headers},y),error:null}}catch(k){if(Ot(k))return{data:null,error:k};throw k}})}_getFinalPath(I){return`${this.bucketId}/${I}`}_removeEmptyFolders(I){return I.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(I){const g=[];return I.width&&g.push(`width=${I.width}`),I.height&&g.push(`height=${I.height}`),I.resize&&g.push(`resize=${I.resize}`),I.format&&g.push(`format=${I.format}`),I.quality&&g.push(`quality=${I.quality}`),g.join("&")}}const jt={"X-Client-Info":"storage-js/2.6.0"};var hr=function(V,I,g,y){return new(g||(g=Promise))(function($,z){function X(ie){try{Ce(y.next(ie))}catch(Ue){z(Ue)}}function ce(ie){try{Ce(y.throw(ie))}catch(Ue){z(Ue)}}function Ce(ie){ie.done?$(ie.value):function k($){return $ instanceof g?$:new g(function(z){z($)})}(ie.value).then(X,ce)}Ce((y=y.apply(V,I||[])).next())})};class ln{constructor(I,g={},y){this.url=I,this.headers=Object.assign(Object.assign({},jt),g),this.fetch=Dr(y)}listBuckets(){return hr(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(I){if(Ot(I))return{data:null,error:I};throw I}})}getBucket(I){return hr(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/bucket/${I}`,{headers:this.headers}),error:null}}catch(g){if(Ot(g))return{data:null,error:g};throw g}})}createBucket(I,g={public:!1}){return hr(this,void 0,void 0,function*(){try{return{data:yield gn(this.fetch,`${this.url}/bucket`,{id:I,name:I,public:g.public,file_size_limit:g.fileSizeLimit,allowed_mime_types:g.allowedMimeTypes},{headers:this.headers}),error:null}}catch(y){if(Ot(y))return{data:null,error:y};throw y}})}updateBucket(I,g){return hr(this,void 0,void 0,function*(){try{return{data:yield yo(this.fetch,`${this.url}/bucket/${I}`,{id:I,name:I,public:g.public,file_size_limit:g.fileSizeLimit,allowed_mime_types:g.allowedMimeTypes},{headers:this.headers}),error:null}}catch(y){if(Ot(y))return{data:null,error:y};throw y}})}emptyBucket(I){return hr(this,void 0,void 0,function*(){try{return{data:yield gn(this.fetch,`${this.url}/bucket/${I}/empty`,{},{headers:this.headers}),error:null}}catch(g){if(Ot(g))return{data:null,error:g};throw g}})}deleteBucket(I){return hr(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/bucket/${I}`,{},{headers:this.headers}),error:null}}catch(g){if(Ot(g))return{data:null,error:g};throw g}})}}class Tn extends ln{constructor(I,g={},y){super(I,g,y)}from(I){return new cn(this.url,this.headers,I,this.fetch)}}let qn="";qn=typeof Deno<"u"?"deno":typeof document<"u"?"web":typeof navigator<"u"&&"ReactNative"===navigator.product?"react-native":"node";const be={headers:{"X-Client-Info":`supabase-js-${qn}/2.44.4`}},re={schema:"public"},me={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ge={};var at=D(5286);const ir=(V,I,g)=>{const y=(V=>{let I;return I=V||(typeof fetch>"u"?at.default:fetch),(...g)=>I(...g)})(g),k=typeof Headers>"u"?at.Headers:Headers;return($,z)=>function(V,I,g,y){return new(g||(g=Promise))(function($,z){function X(ie){try{Ce(y.next(ie))}catch(Ue){z(Ue)}}function ce(ie){try{Ce(y.throw(ie))}catch(Ue){z(Ue)}}function Ce(ie){ie.done?$(ie.value):function k($){return $ instanceof g?$:new g(function(z){z($)})}(ie.value).then(X,ce)}Ce((y=y.apply(V,I||[])).next())})}(void 0,void 0,void 0,function*(){var X;const ce=null!==(X=yield I())&&void 0!==X?X:V;let Ce=new k(z?.headers);return Ce.has("apikey")||Ce.set("apikey",V),Ce.has("Authorization")||Ce.set("Authorization",`Bearer ${ce}`),y($,Object.assign(Object.assign({},z),{headers:Ce}))})},wr="X-Supabase-Api-Version",Or={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},zn=()=>typeof document<"u",nr={tested:!1,writable:!1},jr=()=>{if(!zn())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch{return!1}if(nr.tested)return nr.writable;const V=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(V,V),globalThis.localStorage.removeItem(V),nr.tested=!0,nr.writable=!0}catch{nr.tested=!0,nr.writable=!1}return nr.writable};function Jr(V){const I={},g=new URL(V);if(g.hash&&"#"===g.hash[0])try{new URLSearchParams(g.hash.substring(1)).forEach((k,$)=>{I[$]=k})}catch{}return g.searchParams.forEach((y,k)=>{I[k]=y}),I}const Vo=V=>{let I;return I=V||(typeof fetch>"u"?(...g)=>Promise.resolve().then(D.bind(D,5286)).then(({default:y})=>y(...g)):fetch),(...g)=>I(...g)},Eo=V=>"object"==typeof V&&null!==V&&"status"in V&&"ok"in V&&"json"in V&&"function"==typeof V.json,kr=function(){var V=(0,ne.A)(function*(I,g,y){yield I.setItem(g,JSON.stringify(y))});return function(g,y,k){return V.apply(this,arguments)}}(),ro=function(){var V=(0,ne.A)(function*(I,g){const y=yield I.getItem(g);if(!y)return null;try{return JSON.parse(y)}catch{return y}});return function(g,y){return V.apply(this,arguments)}}(),oo=function(){var V=(0,ne.A)(function*(I,g){yield I.removeItem(g)});return function(g,y){return V.apply(this,arguments)}}();class It{constructor(){this.promise=new It.promiseConstructor((I,g)=>{this.resolve=I,this.reject=g})}}function Y(V){const g=V.split(".");if(3!==g.length)throw new Error("JWT is not valid: not a JWT structure");if(!/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i.test(g[1]))throw new Error("JWT is not valid: payload is not in base64url format");return JSON.parse(function Jo(V){const I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let y,k,$,z,X,ce,Ce,g="",ie=0;for(V=V.replace("-","+").replace("_","/");ie<V.length;)z=I.indexOf(V.charAt(ie++)),X=I.indexOf(V.charAt(ie++)),ce=I.indexOf(V.charAt(ie++)),Ce=I.indexOf(V.charAt(ie++)),y=z<<2|X>>4,k=(15&X)<<4|ce>>2,$=(3&ce)<<6|Ce,g+=String.fromCharCode(y),64!=ce&&0!=k&&(g+=String.fromCharCode(k)),64!=Ce&&0!=$&&(g+=String.fromCharCode($));return g}(g[1]))}function Z(){return(Z=(0,ne.A)(function*(V){return yield new Promise(I=>{setTimeout(()=>I(null),V)})})).apply(this,arguments)}function ze(V){return("0"+V.toString(16)).substr(-2)}function Dt(){return(Dt=(0,ne.A)(function*(V){const g=(new TextEncoder).encode(V),y=yield crypto.subtle.digest("SHA-256",g),k=new Uint8Array(y);return Array.from(k).map($=>String.fromCharCode($)).join("")})).apply(this,arguments)}function bn(){return bn=(0,ne.A)(function*(V){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),V;const g=yield function et(V){return Dt.apply(this,arguments)}(V);return function ht(V){return btoa(V).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}(g)}),bn.apply(this,arguments)}function zt(V,I){return wn.apply(this,arguments)}function wn(){return wn=(0,ne.A)(function*(V,I,g=!1){const y=function Xe(){const I=new Uint32Array(56);if(typeof crypto>"u"){const g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",y=g.length;let k="";for(let $=0;$<56;$++)k+=g.charAt(Math.floor(Math.random()*y));return k}return crypto.getRandomValues(I),Array.from(I,ze).join("")}();let k=y;g&&(k+="/PASSWORD_RECOVERY"),yield kr(V,`${I}-code-verifier`,k);const $=yield function Lt(V){return bn.apply(this,arguments)}(y);return[$,y===$?"plain":"s256"]}),wn.apply(this,arguments)}It.promiseConstructor=Promise;const Fn=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;class At extends Error{constructor(I,g,y){super(I),this.__isAuthError=!0,this.name="AuthError",this.status=g,this.code=y}}function lt(V){return"object"==typeof V&&null!==V&&"__isAuthError"in V}class Bn extends At{constructor(I,g,y){super(I,g,y),this.name="AuthApiError",this.status=g,this.code=y}}class ct extends At{constructor(I,g){super(I),this.name="AuthUnknownError",this.originalError=g}}class mr extends At{constructor(I,g,y,k){super(I,y,k),this.name=g,this.status=y}}class Zr extends mr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Lr extends mr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class io extends mr{constructor(I){super(I,"AuthInvalidCredentialsError",400,void 0)}}class Mr extends mr{constructor(I,g=null){super(I,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=g}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Zo extends mr{constructor(I,g=null){super(I,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=g}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $t extends mr{constructor(I,g){super(I,"AuthRetryableFetchError",g,void 0)}}function Co(V){return lt(V)&&"AuthRetryableFetchError"===V.name}class ei extends mr{constructor(I,g,y){super(I,"AuthWeakPasswordError",g,"weak_password"),this.reasons=y}}const Ro=V=>V.msg||V.message||V.error_description||V.error||JSON.stringify(V),hs=[502,503,504];function wo(V){return gr.apply(this,arguments)}function gr(){return(gr=(0,ne.A)(function*(V){var I;if(!Eo(V))throw new $t(Ro(V),0);if(hs.includes(V.status))throw new $t(Ro(V),V.status);let g,y;try{g=yield V.json()}catch($){throw new ct(Ro($),$)}const k=function Un(V){const I=V.headers.get(wr);if(!I||!I.match(Fn))return null;try{return new Date(`${I}T00:00:00.0Z`)}catch{return null}}(V);if(k&&k.getTime()>=Or["2024-01-01"].timestamp&&"object"==typeof g&&g&&"string"==typeof g.code?y=g.code:"object"==typeof g&&g&&"string"==typeof g.error_code&&(y=g.error_code),y){if("weak_password"===y)throw new ei(Ro(g),V.status,(null===(I=g.weak_password)||void 0===I?void 0:I.reasons)||[])}else if("object"==typeof g&&g&&"object"==typeof g.weak_password&&g.weak_password&&Array.isArray(g.weak_password.reasons)&&g.weak_password.reasons.length&&g.weak_password.reasons.reduce(($,z)=>$&&"string"==typeof z,!0))throw new ei(Ro(g),V.status,g.weak_password.reasons);throw new Bn(Ro(g),V.status||500,y)})).apply(this,arguments)}const vr=(V,I,g,y)=>{const k={method:V,headers:I?.headers||{}};return"GET"===V?k:(k.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},I?.headers),k.body=JSON.stringify(y),Object.assign(Object.assign({},k),g))};function Xt(V,I,g,y){return so.apply(this,arguments)}function so(){return so=(0,ne.A)(function*(V,I,g,y){var k;const $=Object.assign({},y?.headers);$[wr]||($[wr]=Or["2024-01-01"].name),y?.jwt&&($.Authorization=`Bearer ${y.jwt}`);const z=null!==(k=y?.query)&&void 0!==k?k:{};y?.redirectTo&&(z.redirect_to=y.redirectTo);const X=Object.keys(z).length?"?"+new URLSearchParams(z).toString():"",ce=yield function $i(V,I,g,y,k,$){return $r.apply(this,arguments)}(V,I,g+X,{headers:$,noResolveJson:y?.noResolveJson},{},y?.body);return y?.xform?y?.xform(ce):{data:Object.assign({},ce),error:null}}),so.apply(this,arguments)}function $r(){return($r=(0,ne.A)(function*(V,I,g,y,k,$){const z=vr(I,y,k,$);let X;try{X=yield V(g,Object.assign({},z))}catch(ce){throw console.error(ce),new $t(Ro(ce),0)}if(X.ok||(yield wo(X)),y?.noResolveJson)return X;try{return yield X.json()}catch(ce){yield wo(ce)}})).apply(this,arguments)}function _r(V){var I;let g=null;return function mt(V){return V.access_token&&V.refresh_token&&V.expires_in}(V)&&(g=Object.assign({},V),V.expires_at||(g.expires_at=function Zt(V){return Math.round(Date.now()/1e3)+V}(V.expires_in))),{data:{session:g,user:null!==(I=V.user)&&void 0!==I?I:V},error:null}}function xo(V){const I=_r(V);return!I.error&&V.weak_password&&"object"==typeof V.weak_password&&Array.isArray(V.weak_password.reasons)&&V.weak_password.reasons.length&&V.weak_password.message&&"string"==typeof V.weak_password.message&&V.weak_password.reasons.reduce((g,y)=>g&&"string"==typeof y,!0)&&(I.data.weak_password=V.weak_password),I}function Xn(V){var I;return{data:{user:null!==(I=V.user)&&void 0!==I?I:V},error:null}}function sr(V){return{data:V,error:null}}function In(V){const{action_link:I,email_otp:g,hashed_token:y,redirect_to:k,verification_type:$}=V,z=function(V,I){var g={};for(var y in V)Object.prototype.hasOwnProperty.call(V,y)&&I.indexOf(y)<0&&(g[y]=V[y]);if(null!=V&&"function"==typeof Object.getOwnPropertySymbols){var k=0;for(y=Object.getOwnPropertySymbols(V);k<y.length;k++)I.indexOf(y[k])<0&&Object.prototype.propertyIsEnumerable.call(V,y[k])&&(g[y[k]]=V[y[k]])}return g}(V,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:I,email_otp:g,hashed_token:y,redirect_to:k,verification_type:$},user:Object.assign({},z)},error:null}}function Uo(V){return V}class Sr{constructor({url:I="",headers:g={},fetch:y}){this.url=I,this.headers=g,this.fetch=Vo(y),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(I){var g=this;return(0,ne.A)(function*(y,k="global"){try{return yield Xt(g.fetch,"POST",`${g.url}/logout?scope=${k}`,{headers:g.headers,jwt:y,noResolveJson:!0}),{data:null,error:null}}catch($){if(lt($))return{data:null,error:$};throw $}}).apply(this,arguments)}inviteUserByEmail(I){var g=this;return(0,ne.A)(function*(y,k={}){try{return yield Xt(g.fetch,"POST",`${g.url}/invite`,{body:{email:y,data:k.data},headers:g.headers,redirectTo:k.redirectTo,xform:Xn})}catch($){if(lt($))return{data:{user:null},error:$};throw $}}).apply(this,arguments)}generateLink(I){var g=this;return(0,ne.A)(function*(){try{const{options:y}=I,k=function(V,I){var g={};for(var y in V)Object.prototype.hasOwnProperty.call(V,y)&&I.indexOf(y)<0&&(g[y]=V[y]);if(null!=V&&"function"==typeof Object.getOwnPropertySymbols){var k=0;for(y=Object.getOwnPropertySymbols(V);k<y.length;k++)I.indexOf(y[k])<0&&Object.prototype.propertyIsEnumerable.call(V,y[k])&&(g[y[k]]=V[y[k]])}return g}(I,["options"]),$=Object.assign(Object.assign({},k),y);return"newEmail"in k&&($.new_email=k?.newEmail,delete $.newEmail),yield Xt(g.fetch,"POST",`${g.url}/admin/generate_link`,{body:$,headers:g.headers,xform:In,redirectTo:y?.redirectTo})}catch(y){if(lt(y))return{data:{properties:null,user:null},error:y};throw y}})()}createUser(I){var g=this;return(0,ne.A)(function*(){try{return yield Xt(g.fetch,"POST",`${g.url}/admin/users`,{body:I,headers:g.headers,xform:Xn})}catch(y){if(lt(y))return{data:{user:null},error:y};throw y}})()}listUsers(I){var g=this;return(0,ne.A)(function*(){var y,k,$,z,X,ce,Ce;try{const ie={nextPage:null,lastPage:0,total:0},Ue=yield Xt(g.fetch,"GET",`${g.url}/admin/users`,{headers:g.headers,noResolveJson:!0,query:{page:null!==(k=null===(y=I?.page)||void 0===y?void 0:y.toString())&&void 0!==k?k:"",per_page:null!==(z=null===($=I?.perPage)||void 0===$?void 0:$.toString())&&void 0!==z?z:""},xform:Uo});if(Ue.error)throw Ue.error;const ft=yield Ue.json(),bt=null!==(X=Ue.headers.get("x-total-count"))&&void 0!==X?X:0,yt=null!==(Ce=null===(ce=Ue.headers.get("link"))||void 0===ce?void 0:ce.split(","))&&void 0!==Ce?Ce:[];return yt.length>0&&(yt.forEach(fn=>{const Wt=parseInt(fn.split(";")[0].split("=")[1].substring(0,1)),Vr=JSON.parse(fn.split(";")[1].split("=")[1]);ie[`${Vr}Page`]=Wt}),ie.total=parseInt(bt)),{data:Object.assign(Object.assign({},ft),ie),error:null}}catch(ie){if(lt(ie))return{data:{users:[]},error:ie};throw ie}})()}getUserById(I){var g=this;return(0,ne.A)(function*(){try{return yield Xt(g.fetch,"GET",`${g.url}/admin/users/${I}`,{headers:g.headers,xform:Xn})}catch(y){if(lt(y))return{data:{user:null},error:y};throw y}})()}updateUserById(I,g){var y=this;return(0,ne.A)(function*(){try{return yield Xt(y.fetch,"PUT",`${y.url}/admin/users/${I}`,{body:g,headers:y.headers,xform:Xn})}catch(k){if(lt(k))return{data:{user:null},error:k};throw k}})()}deleteUser(I){var g=this;return(0,ne.A)(function*(y,k=!1){try{return yield Xt(g.fetch,"DELETE",`${g.url}/admin/users/${y}`,{headers:g.headers,body:{should_soft_delete:k},xform:Xn})}catch($){if(lt($))return{data:{user:null},error:$};throw $}}).apply(this,arguments)}_listFactors(I){var g=this;return(0,ne.A)(function*(){try{const{data:y,error:k}=yield Xt(g.fetch,"GET",`${g.url}/admin/users/${I.userId}/factors`,{headers:g.headers,xform:$=>({data:{factors:$},error:null})});return{data:y,error:k}}catch(y){if(lt(y))return{data:null,error:y};throw y}})()}_deleteFactor(I){var g=this;return(0,ne.A)(function*(){try{return{data:yield Xt(g.fetch,"DELETE",`${g.url}/admin/users/${I.userId}/factors/${I.id}`,{headers:g.headers}),error:null}}catch(y){if(lt(y))return{data:null,error:y};throw y}})()}}const ho={getItem:V=>jr()?globalThis.localStorage.getItem(V):null,setItem:(V,I)=>{jr()&&globalThis.localStorage.setItem(V,I)},removeItem:V=>{jr()&&globalThis.localStorage.removeItem(V)}};function Do(V={}){return{getItem:I=>V[I]||null,setItem:(I,g)=>{V[I]=g},removeItem:I=>{delete V[I]}}}const eo={debug:!!(globalThis&&jr()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"))};class ni extends Error{constructor(I){super(I),this.isAcquireTimeout=!0}}class Ao extends ni{}function ri(V,I,g){return Fo.apply(this,arguments)}function Fo(){return Fo=(0,ne.A)(function*(V,I,g){eo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",V,I);const y=new globalThis.AbortController;return I>0&&setTimeout(()=>{y.abort(),eo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",V)},I),yield globalThis.navigator.locks.request(V,0===I?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:y.signal},function(){var k=(0,ne.A)(function*($){if(!$){if(0===I)throw eo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",V),new Ao(`Acquiring an exclusive Navigator LockManager lock "${V}" immediately failed`);if(eo.debug)try{const z=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(z,null,"  "))}catch(z){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",z)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield g()}eo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",V,$.name);try{return yield g()}finally{eo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",V,$.name)}});return function($){return k.apply(this,arguments)}}())}),Fo.apply(this,arguments)}!function Mi(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}();const Ti={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:{"X-Client-Info":"gotrue-js/2.64.4"},flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Kn=3e4;function Nn(V,I,g){return mo.apply(this,arguments)}function mo(){return(mo=(0,ne.A)(function*(V,I,g){return yield g()})).apply(this,arguments)}const pi=(()=>{class V{constructor(g){var k,$,y=this;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=V.nextInstanceID,V.nextInstanceID+=1,this.instanceID>0&&zn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const z=Object.assign(Object.assign({},Ti),g);if(this.logDebugMessages=!!z.debug,"function"==typeof z.debug&&(this.logger=z.debug),this.persistSession=z.persistSession,this.storageKey=z.storageKey,this.autoRefreshToken=z.autoRefreshToken,this.admin=new Sr({url:z.url,headers:z.headers,fetch:z.fetch}),this.url=z.url,this.headers=z.headers,this.fetch=Vo(z.fetch),this.lock=z.lock||Nn,this.detectSessionInUrl=z.detectSessionInUrl,this.flowType=z.flowType,this.hasCustomAuthorizationHeader=z.hasCustomAuthorizationHeader,this.lock=z.lock?z.lock:zn()&&null!==(k=globalThis?.navigator)&&void 0!==k&&k.locks?ri:Nn,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?z.storage?this.storage=z.storage:jr()?this.storage=ho:(this.memoryStorage={},this.storage=Do(this.memoryStorage)):(this.memoryStorage={},this.storage=Do(this.memoryStorage)),zn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(X){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",X)}null===($=this.broadcastChannel)||void 0===$||$.addEventListener("message",function(){var X=(0,ne.A)(function*(ce){y._debug("received broadcast notification from other tab or client",ce),yield y._notifyAllSubscribers(ce.data.event,ce.data.session,!1)});return function(ce){return X.apply(this,arguments)}}())}this.initialize()}_debug(...g){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (2.64.4) ${(new Date).toISOString()}`,...g),this}initialize(){var g=this;return(0,ne.A)(function*(){return g.initializePromise||(g.initializePromise=(0,ne.A)(function*(){return yield g._acquireLock(-1,(0,ne.A)(function*(){return yield g._initialize()}))})()),yield g.initializePromise})()}_initialize(){var g=this;return(0,ne.A)(function*(){try{const y=!!zn()&&(yield g._isPKCEFlow());if(g._debug("#_initialize()","begin","is PKCE flow",y),y||g.detectSessionInUrl&&g._isImplicitGrantFlow()){const{data:k,error:$}=yield g._getSessionFromURL(y);if($)return g._debug("#_initialize()","error detecting session from URL",$),"Identity is already linked"===$?.message||"Identity is already linked to another user"===$?.message||(yield g._removeSession()),{error:$};const{session:z,redirectType:X}=k;return g._debug("#_initialize()","detected session in URL",z,"redirect type",X),yield g._saveSession(z),setTimeout((0,ne.A)(function*(){"recovery"===X?yield g._notifyAllSubscribers("PASSWORD_RECOVERY",z):yield g._notifyAllSubscribers("SIGNED_IN",z)}),0),{error:null}}return yield g._recoverAndRefresh(),{error:null}}catch(y){return lt(y)?{error:y}:{error:new ct("Unexpected error during initialization",y)}}finally{yield g._handleVisibilityChange(),g._debug("#_initialize()","end")}})()}signInAnonymously(g){var y=this;return(0,ne.A)(function*(){var k,$,z;try{const X=yield Xt(y.fetch,"POST",`${y.url}/signup`,{headers:y.headers,body:{data:null!==($=null===(k=g?.options)||void 0===k?void 0:k.data)&&void 0!==$?$:{},gotrue_meta_security:{captcha_token:null===(z=g?.options)||void 0===z?void 0:z.captchaToken}},xform:_r}),{data:ce,error:Ce}=X;if(Ce||!ce)return{data:{user:null,session:null},error:Ce};const ie=ce.session,Ue=ce.user;return ce.session&&(yield y._saveSession(ce.session),yield y._notifyAllSubscribers("SIGNED_IN",ie)),{data:{user:Ue,session:ie},error:null}}catch(X){if(lt(X))return{data:{user:null,session:null},error:X};throw X}})()}signUp(g){var y=this;return(0,ne.A)(function*(){var k,$,z;try{let X;if("email"in g){const{email:ft,password:bt,options:yt}=g;let fn=null,Wt=null;"pkce"===y.flowType&&([fn,Wt]=yield zt(y.storage,y.storageKey)),X=yield Xt(y.fetch,"POST",`${y.url}/signup`,{headers:y.headers,redirectTo:yt?.emailRedirectTo,body:{email:ft,password:bt,data:null!==(k=yt?.data)&&void 0!==k?k:{},gotrue_meta_security:{captcha_token:yt?.captchaToken},code_challenge:fn,code_challenge_method:Wt},xform:_r})}else{if(!("phone"in g))throw new io("You must provide either an email or phone number and a password");{const{phone:ft,password:bt,options:yt}=g;X=yield Xt(y.fetch,"POST",`${y.url}/signup`,{headers:y.headers,body:{phone:ft,password:bt,data:null!==($=yt?.data)&&void 0!==$?$:{},channel:null!==(z=yt?.channel)&&void 0!==z?z:"sms",gotrue_meta_security:{captcha_token:yt?.captchaToken}},xform:_r})}}const{data:ce,error:Ce}=X;if(Ce||!ce)return{data:{user:null,session:null},error:Ce};const ie=ce.session,Ue=ce.user;return ce.session&&(yield y._saveSession(ce.session),yield y._notifyAllSubscribers("SIGNED_IN",ie)),{data:{user:Ue,session:ie},error:null}}catch(X){if(lt(X))return{data:{user:null,session:null},error:X};throw X}})()}signInWithPassword(g){var y=this;return(0,ne.A)(function*(){try{let k;if("email"in g){const{email:X,password:ce,options:Ce}=g;k=yield Xt(y.fetch,"POST",`${y.url}/token?grant_type=password`,{headers:y.headers,body:{email:X,password:ce,gotrue_meta_security:{captcha_token:Ce?.captchaToken}},xform:xo})}else{if(!("phone"in g))throw new io("You must provide either an email or phone number and a password");{const{phone:X,password:ce,options:Ce}=g;k=yield Xt(y.fetch,"POST",`${y.url}/token?grant_type=password`,{headers:y.headers,body:{phone:X,password:ce,gotrue_meta_security:{captcha_token:Ce?.captchaToken}},xform:xo})}}const{data:$,error:z}=k;return z?{data:{user:null,session:null},error:z}:$&&$.session&&$.user?($.session&&(yield y._saveSession($.session),yield y._notifyAllSubscribers("SIGNED_IN",$.session)),{data:Object.assign({user:$.user,session:$.session},$.weak_password?{weakPassword:$.weak_password}:null),error:z}):{data:{user:null,session:null},error:new Lr}}catch(k){if(lt(k))return{data:{user:null,session:null},error:k};throw k}})()}signInWithOAuth(g){var y=this;return(0,ne.A)(function*(){var k,$,z,X;return yield y._handleProviderSignIn(g.provider,{redirectTo:null===(k=g.options)||void 0===k?void 0:k.redirectTo,scopes:null===($=g.options)||void 0===$?void 0:$.scopes,queryParams:null===(z=g.options)||void 0===z?void 0:z.queryParams,skipBrowserRedirect:null===(X=g.options)||void 0===X?void 0:X.skipBrowserRedirect})})()}exchangeCodeForSession(g){var y=this;return(0,ne.A)(function*(){return yield y.initializePromise,y._acquireLock(-1,(0,ne.A)(function*(){return y._exchangeCodeForSession(g)}))})()}_exchangeCodeForSession(g){var y=this;return(0,ne.A)(function*(){const k=yield ro(y.storage,`${y.storageKey}-code-verifier`),[$,z]=(k??"").split("/"),{data:X,error:ce}=yield Xt(y.fetch,"POST",`${y.url}/token?grant_type=pkce`,{headers:y.headers,body:{auth_code:g,code_verifier:$},xform:_r});return yield oo(y.storage,`${y.storageKey}-code-verifier`),ce?{data:{user:null,session:null,redirectType:null},error:ce}:X&&X.session&&X.user?(X.session&&(yield y._saveSession(X.session),yield y._notifyAllSubscribers("SIGNED_IN",X.session)),{data:Object.assign(Object.assign({},X),{redirectType:z??null}),error:ce}):{data:{user:null,session:null,redirectType:null},error:new Lr}})()}signInWithIdToken(g){var y=this;return(0,ne.A)(function*(){try{const{options:k,provider:$,token:z,access_token:X,nonce:ce}=g,Ce=yield Xt(y.fetch,"POST",`${y.url}/token?grant_type=id_token`,{headers:y.headers,body:{provider:$,id_token:z,access_token:X,nonce:ce,gotrue_meta_security:{captcha_token:k?.captchaToken}},xform:_r}),{data:ie,error:Ue}=Ce;return Ue?{data:{user:null,session:null},error:Ue}:ie&&ie.session&&ie.user?(ie.session&&(yield y._saveSession(ie.session),yield y._notifyAllSubscribers("SIGNED_IN",ie.session)),{data:ie,error:Ue}):{data:{user:null,session:null},error:new Lr}}catch(k){if(lt(k))return{data:{user:null,session:null},error:k};throw k}})()}signInWithOtp(g){var y=this;return(0,ne.A)(function*(){var k,$,z,X,ce;try{if("email"in g){const{email:Ce,options:ie}=g;let Ue=null,ft=null;"pkce"===y.flowType&&([Ue,ft]=yield zt(y.storage,y.storageKey));const{error:bt}=yield Xt(y.fetch,"POST",`${y.url}/otp`,{headers:y.headers,body:{email:Ce,data:null!==(k=ie?.data)&&void 0!==k?k:{},create_user:null===($=ie?.shouldCreateUser)||void 0===$||$,gotrue_meta_security:{captcha_token:ie?.captchaToken},code_challenge:Ue,code_challenge_method:ft},redirectTo:ie?.emailRedirectTo});return{data:{user:null,session:null},error:bt}}if("phone"in g){const{phone:Ce,options:ie}=g,{data:Ue,error:ft}=yield Xt(y.fetch,"POST",`${y.url}/otp`,{headers:y.headers,body:{phone:Ce,data:null!==(z=ie?.data)&&void 0!==z?z:{},create_user:null===(X=ie?.shouldCreateUser)||void 0===X||X,gotrue_meta_security:{captcha_token:ie?.captchaToken},channel:null!==(ce=ie?.channel)&&void 0!==ce?ce:"sms"}});return{data:{user:null,session:null,messageId:Ue?.message_id},error:ft}}throw new io("You must provide either an email or phone number.")}catch(Ce){if(lt(Ce))return{data:{user:null,session:null},error:Ce};throw Ce}})()}verifyOtp(g){var y=this;return(0,ne.A)(function*(){var k,$;try{let z,X;"options"in g&&(z=null===(k=g.options)||void 0===k?void 0:k.redirectTo,X=null===($=g.options)||void 0===$?void 0:$.captchaToken);const{data:ce,error:Ce}=yield Xt(y.fetch,"POST",`${y.url}/verify`,{headers:y.headers,body:Object.assign(Object.assign({},g),{gotrue_meta_security:{captcha_token:X}}),redirectTo:z,xform:_r});if(Ce)throw Ce;if(!ce)throw new Error("An error occurred on token verification.");const ie=ce.session,Ue=ce.user;return ie?.access_token&&(yield y._saveSession(ie),yield y._notifyAllSubscribers("recovery"==g.type?"PASSWORD_RECOVERY":"SIGNED_IN",ie)),{data:{user:Ue,session:ie},error:null}}catch(z){if(lt(z))return{data:{user:null,session:null},error:z};throw z}})()}signInWithSSO(g){var y=this;return(0,ne.A)(function*(){var k,$,z;try{let X=null,ce=null;return"pkce"===y.flowType&&([X,ce]=yield zt(y.storage,y.storageKey)),yield Xt(y.fetch,"POST",`${y.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in g?{provider_id:g.providerId}:null),"domain"in g?{domain:g.domain}:null),{redirect_to:null!==($=null===(k=g.options)||void 0===k?void 0:k.redirectTo)&&void 0!==$?$:void 0}),null!==(z=g?.options)&&void 0!==z&&z.captchaToken?{gotrue_meta_security:{captcha_token:g.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:X,code_challenge_method:ce}),headers:y.headers,xform:sr})}catch(X){if(lt(X))return{data:null,error:X};throw X}})()}reauthenticate(){var g=this;return(0,ne.A)(function*(){return yield g.initializePromise,yield g._acquireLock(-1,(0,ne.A)(function*(){return yield g._reauthenticate()}))})()}_reauthenticate(){var g=this;return(0,ne.A)(function*(){try{return yield g._useSession(function(){var y=(0,ne.A)(function*(k){const{data:{session:$},error:z}=k;if(z)throw z;if(!$)throw new Zr;const{error:X}=yield Xt(g.fetch,"GET",`${g.url}/reauthenticate`,{headers:g.headers,jwt:$.access_token});return{data:{user:null,session:null},error:X}});return function(k){return y.apply(this,arguments)}}())}catch(y){if(lt(y))return{data:{user:null,session:null},error:y};throw y}})()}resend(g){var y=this;return(0,ne.A)(function*(){try{const k=`${y.url}/resend`;if("email"in g){const{email:$,type:z,options:X}=g,{error:ce}=yield Xt(y.fetch,"POST",k,{headers:y.headers,body:{email:$,type:z,gotrue_meta_security:{captcha_token:X?.captchaToken}},redirectTo:X?.emailRedirectTo});return{data:{user:null,session:null},error:ce}}if("phone"in g){const{phone:$,type:z,options:X}=g,{data:ce,error:Ce}=yield Xt(y.fetch,"POST",k,{headers:y.headers,body:{phone:$,type:z,gotrue_meta_security:{captcha_token:X?.captchaToken}}});return{data:{user:null,session:null,messageId:ce?.message_id},error:Ce}}throw new io("You must provide either an email or phone number and a type")}catch(k){if(lt(k))return{data:{user:null,session:null},error:k};throw k}})()}getSession(){var g=this;return(0,ne.A)(function*(){return yield g.initializePromise,yield g._acquireLock(-1,(0,ne.A)(function*(){return g._useSession(function(){var k=(0,ne.A)(function*($){return $});return function($){return k.apply(this,arguments)}}())}))})()}_acquireLock(g,y){var k=this;return(0,ne.A)(function*(){k._debug("#_acquireLock","begin",g);try{if(k.lockAcquired){const $=k.pendingInLock.length?k.pendingInLock[k.pendingInLock.length-1]:Promise.resolve(),z=(0,ne.A)(function*(){return yield $,yield y()})();return k.pendingInLock.push((0,ne.A)(function*(){try{yield z}catch{}})()),z}return yield k.lock(`lock:${k.storageKey}`,g,(0,ne.A)(function*(){k._debug("#_acquireLock","lock acquired for storage key",k.storageKey);try{k.lockAcquired=!0;const $=y();for(k.pendingInLock.push((0,ne.A)(function*(){try{yield $}catch{}})()),yield $;k.pendingInLock.length;){const z=[...k.pendingInLock];yield Promise.all(z),k.pendingInLock.splice(0,z.length)}return yield $}finally{k._debug("#_acquireLock","lock released for storage key",k.storageKey),k.lockAcquired=!1}}))}finally{k._debug("#_acquireLock","end")}})()}_useSession(g){var y=this;return(0,ne.A)(function*(){y._debug("#_useSession","begin");try{const k=yield y.__loadSession();return yield g(k)}finally{y._debug("#_useSession","end")}})()}__loadSession(){var g=this;return(0,ne.A)(function*(){g._debug("#__loadSession()","begin"),g.lockAcquired||g._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let y=null;const k=yield ro(g.storage,g.storageKey);if(g._debug("#getSession()","session from storage",k),null!==k&&(g._isValidSession(k)?y=k:(g._debug("#getSession()","session from storage is not valid"),yield g._removeSession())),!y)return{data:{session:null},error:null};const $=!!y.expires_at&&y.expires_at<=Date.now()/1e3;if(g._debug("#__loadSession()",`session has${$?"":" not"} expired`,"expires_at",y.expires_at),!$){if(g.storage.isServer){let ce=g.suppressGetSessionWarning;y=new Proxy(y,{get:(ie,Ue,ft)=>(!ce&&"user"===Ue&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),ce=!0,g.suppressGetSessionWarning=!0),Reflect.get(ie,Ue,ft))})}return{data:{session:y},error:null}}const{session:z,error:X}=yield g._callRefreshToken(y.refresh_token);return X?{data:{session:null},error:X}:{data:{session:z},error:null}}finally{g._debug("#__loadSession()","end")}})()}getUser(g){var y=this;return(0,ne.A)(function*(){return g?yield y._getUser(g):(yield y.initializePromise,yield y._acquireLock(-1,(0,ne.A)(function*(){return yield y._getUser()})))})()}_getUser(g){var y=this;return(0,ne.A)(function*(){try{return g?yield Xt(y.fetch,"GET",`${y.url}/user`,{headers:y.headers,jwt:g,xform:Xn}):yield y._useSession(function(){var k=(0,ne.A)(function*($){var z,X,ce;const{data:Ce,error:ie}=$;if(ie)throw ie;return null!==(z=Ce.session)&&void 0!==z&&z.access_token||y.hasCustomAuthorizationHeader?yield Xt(y.fetch,"GET",`${y.url}/user`,{headers:y.headers,jwt:null!==(ce=null===(X=Ce.session)||void 0===X?void 0:X.access_token)&&void 0!==ce?ce:void 0,xform:Xn}):{data:{user:null},error:new Zr}});return function($){return k.apply(this,arguments)}}())}catch(k){if(lt(k))return{data:{user:null},error:k};throw k}})()}updateUser(g){var y=this;return(0,ne.A)(function*(k,$={}){return yield y.initializePromise,yield y._acquireLock(-1,(0,ne.A)(function*(){return yield y._updateUser(k,$)}))}).apply(this,arguments)}_updateUser(g){var y=this;return(0,ne.A)(function*(k,$={}){try{return yield y._useSession(function(){var z=(0,ne.A)(function*(X){const{data:ce,error:Ce}=X;if(Ce)throw Ce;if(!ce.session)throw new Zr;const ie=ce.session;let Ue=null,ft=null;"pkce"===y.flowType&&null!=k.email&&([Ue,ft]=yield zt(y.storage,y.storageKey));const{data:bt,error:yt}=yield Xt(y.fetch,"PUT",`${y.url}/user`,{headers:y.headers,redirectTo:$?.emailRedirectTo,body:Object.assign(Object.assign({},k),{code_challenge:Ue,code_challenge_method:ft}),jwt:ie.access_token,xform:Xn});if(yt)throw yt;return ie.user=bt.user,yield y._saveSession(ie),yield y._notifyAllSubscribers("USER_UPDATED",ie),{data:{user:ie.user},error:null}});return function(X){return z.apply(this,arguments)}}())}catch(z){if(lt(z))return{data:{user:null},error:z};throw z}}).apply(this,arguments)}_decodeJWT(g){return Y(g)}setSession(g){var y=this;return(0,ne.A)(function*(){return yield y.initializePromise,yield y._acquireLock(-1,(0,ne.A)(function*(){return yield y._setSession(g)}))})()}_setSession(g){var y=this;return(0,ne.A)(function*(){try{if(!g.access_token||!g.refresh_token)throw new Zr;const k=Date.now()/1e3;let $=k,z=!0,X=null;const ce=Y(g.access_token);if(ce.exp&&($=ce.exp,z=$<=k),z){const{session:Ce,error:ie}=yield y._callRefreshToken(g.refresh_token);if(ie)return{data:{user:null,session:null},error:ie};if(!Ce)return{data:{user:null,session:null},error:null};X=Ce}else{const{data:Ce,error:ie}=yield y._getUser(g.access_token);if(ie)throw ie;X={access_token:g.access_token,refresh_token:g.refresh_token,user:Ce.user,token_type:"bearer",expires_in:$-k,expires_at:$},yield y._saveSession(X),yield y._notifyAllSubscribers("SIGNED_IN",X)}return{data:{user:X.user,session:X},error:null}}catch(k){if(lt(k))return{data:{session:null,user:null},error:k};throw k}})()}refreshSession(g){var y=this;return(0,ne.A)(function*(){return yield y.initializePromise,yield y._acquireLock(-1,(0,ne.A)(function*(){return yield y._refreshSession(g)}))})()}_refreshSession(g){var y=this;return(0,ne.A)(function*(){try{return yield y._useSession(function(){var k=(0,ne.A)(function*($){var z;if(!g){const{data:Ce,error:ie}=$;if(ie)throw ie;g=null!==(z=Ce.session)&&void 0!==z?z:void 0}if(!g?.refresh_token)throw new Zr;const{session:X,error:ce}=yield y._callRefreshToken(g.refresh_token);return ce?{data:{user:null,session:null},error:ce}:X?{data:{user:X.user,session:X},error:null}:{data:{user:null,session:null},error:null}});return function($){return k.apply(this,arguments)}}())}catch(k){if(lt(k))return{data:{user:null,session:null},error:k};throw k}})()}_getSessionFromURL(g){var y=this;return(0,ne.A)(function*(){try{if(!zn())throw new Mr("No browser detected.");if("implicit"===y.flowType&&!y._isImplicitGrantFlow())throw new Mr("Not a valid implicit grant flow url.");if("pkce"==y.flowType&&!g)throw new Zo("Not a valid PKCE flow url.");const k=Jr(window.location.href);if(g){if(!k.code)throw new Zo("No code detected.");const{data:ar,error:Wn}=yield y._exchangeCodeForSession(k.code);if(Wn)throw Wn;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:ar.session,redirectType:null},error:null}}if(k.error||k.error_description||k.error_code)throw new Mr(k.error_description||"Error in URL with unspecified error_description",{error:k.error||"unspecified_error",code:k.error_code||"unspecified_code"});const{provider_token:$,provider_refresh_token:z,access_token:X,refresh_token:ce,expires_in:Ce,expires_at:ie,token_type:Ue}=k;if(!(X&&Ce&&ce&&Ue))throw new Mr("No session defined in URL");const ft=Math.round(Date.now()/1e3),bt=parseInt(Ce);let yt=ft+bt;ie&&(yt=parseInt(ie));const fn=yt-ft;1e3*fn<=Kn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${fn}s, should have been closer to ${bt}s`);const Wt=yt-bt;ft-Wt>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",Wt,yt,ft):ft-Wt<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",Wt,yt,ft);const{data:Vr,error:to}=yield y._getUser(X);if(to)throw to;const go={provider_token:$,provider_refresh_token:z,access_token:X,expires_in:bt,expires_at:yt,refresh_token:ce,token_type:Ue,user:Vr.user};return window.location.hash="",y._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:go,redirectType:k.type},error:null}}catch(k){if(lt(k))return{data:{session:null,redirectType:null},error:k};throw k}})()}_isImplicitGrantFlow(){const g=Jr(window.location.href);return!(!zn()||!g.access_token&&!g.error_description)}_isPKCEFlow(){var g=this;return(0,ne.A)(function*(){const y=Jr(window.location.href),k=yield ro(g.storage,`${g.storageKey}-code-verifier`);return!(!y.code||!k)})()}signOut(){var g=this;return(0,ne.A)(function*(y={scope:"global"}){return yield g.initializePromise,yield g._acquireLock(-1,(0,ne.A)(function*(){return yield g._signOut(y)}))}).apply(this,arguments)}_signOut(){var g=this;return(0,ne.A)(function*({scope:y}={scope:"global"}){return yield g._useSession(function(){var k=(0,ne.A)(function*($){var z;const{data:X,error:ce}=$;if(ce)return{error:ce};const Ce=null===(z=X.session)||void 0===z?void 0:z.access_token;if(Ce){const{error:ie}=yield g.admin.signOut(Ce,y);if(ie&&(!function Ct(V){return lt(V)&&"AuthApiError"===V.name}(ie)||404!==ie.status&&401!==ie.status&&403!==ie.status))return{error:ie}}return"others"!==y&&(yield g._removeSession(),yield oo(g.storage,`${g.storageKey}-code-verifier`),yield g._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}});return function($){return k.apply(this,arguments)}}())}).apply(this,arguments)}onAuthStateChange(g){var y=this;const k=function Qr(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(V){const I=16*Math.random()|0;return("x"==V?I:3&I|8).toString(16)})}(),$={id:k,callback:g,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",k),this.stateChangeEmitters.delete(k)}};return this._debug("#onAuthStateChange()","registered callback with id",k),this.stateChangeEmitters.set(k,$),(0,ne.A)(function*(){yield y.initializePromise,yield y._acquireLock(-1,(0,ne.A)(function*(){y._emitInitialSession(k)}))})(),{data:{subscription:$}}}_emitInitialSession(g){var y=this;return(0,ne.A)(function*(){return yield y._useSession(function(){var k=(0,ne.A)(function*($){var z,X;try{const{data:{session:ce},error:Ce}=$;if(Ce)throw Ce;yield null===(z=y.stateChangeEmitters.get(g))||void 0===z?void 0:z.callback("INITIAL_SESSION",ce),y._debug("INITIAL_SESSION","callback id",g,"session",ce)}catch(ce){yield null===(X=y.stateChangeEmitters.get(g))||void 0===X?void 0:X.callback("INITIAL_SESSION",null),y._debug("INITIAL_SESSION","callback id",g,"error",ce),console.error(ce)}});return function($){return k.apply(this,arguments)}}())})()}resetPasswordForEmail(g){var y=this;return(0,ne.A)(function*(k,$={}){let z=null,X=null;"pkce"===y.flowType&&([z,X]=yield zt(y.storage,y.storageKey,!0));try{return yield Xt(y.fetch,"POST",`${y.url}/recover`,{body:{email:k,code_challenge:z,code_challenge_method:X,gotrue_meta_security:{captcha_token:$.captchaToken}},headers:y.headers,redirectTo:$.redirectTo})}catch(ce){if(lt(ce))return{data:null,error:ce};throw ce}}).apply(this,arguments)}getUserIdentities(){var g=this;return(0,ne.A)(function*(){var y;try{const{data:k,error:$}=yield g.getUser();if($)throw $;return{data:{identities:null!==(y=k.user.identities)&&void 0!==y?y:[]},error:null}}catch(k){if(lt(k))return{data:null,error:k};throw k}})()}linkIdentity(g){var y=this;return(0,ne.A)(function*(){var k;try{const{data:$,error:z}=yield y._useSession(function(){var X=(0,ne.A)(function*(ce){var Ce,ie,Ue,ft,bt;const{data:yt,error:fn}=ce;if(fn)throw fn;const Wt=yield y._getUrlForProvider(`${y.url}/user/identities/authorize`,g.provider,{redirectTo:null===(Ce=g.options)||void 0===Ce?void 0:Ce.redirectTo,scopes:null===(ie=g.options)||void 0===ie?void 0:ie.scopes,queryParams:null===(Ue=g.options)||void 0===Ue?void 0:Ue.queryParams,skipBrowserRedirect:!0});return yield Xt(y.fetch,"GET",Wt,{headers:y.headers,jwt:null!==(bt=null===(ft=yt.session)||void 0===ft?void 0:ft.access_token)&&void 0!==bt?bt:void 0})});return function(ce){return X.apply(this,arguments)}}());if(z)throw z;return zn()&&!(null!==(k=g.options)&&void 0!==k&&k.skipBrowserRedirect)&&window.location.assign($?.url),{data:{provider:g.provider,url:$?.url},error:null}}catch($){if(lt($))return{data:{provider:g.provider,url:null},error:$};throw $}})()}unlinkIdentity(g){var y=this;return(0,ne.A)(function*(){try{return yield y._useSession(function(){var k=(0,ne.A)(function*($){var z,X;const{data:ce,error:Ce}=$;if(Ce)throw Ce;return yield Xt(y.fetch,"DELETE",`${y.url}/user/identities/${g.identity_id}`,{headers:y.headers,jwt:null!==(X=null===(z=ce.session)||void 0===z?void 0:z.access_token)&&void 0!==X?X:void 0})});return function($){return k.apply(this,arguments)}}())}catch(k){if(lt(k))return{data:null,error:k};throw k}})()}_refreshAccessToken(g){var y=this;return(0,ne.A)(function*(){const k=`#_refreshAccessToken(${g.substring(0,5)}...)`;y._debug(k,"begin");try{const $=Date.now();return yield function Se(V,I){return new Promise((y,k)=>{(0,ne.A)(function*(){for(let $=0;$<1/0;$++)try{const z=yield V($);if(!I($,null,z))return void y(z)}catch(z){if(!I($,z))return void k(z)}})()})}(function(){var z=(0,ne.A)(function*(X){return X>0&&(yield function ae(V){return Z.apply(this,arguments)}(200*Math.pow(2,X-1))),y._debug(k,"refreshing attempt",X),yield Xt(y.fetch,"POST",`${y.url}/token?grant_type=refresh_token`,{body:{refresh_token:g},headers:y.headers,xform:_r})});return function(X){return z.apply(this,arguments)}}(),(z,X)=>{const ce=200*Math.pow(2,z);return X&&Co(X)&&Date.now()+ce-$<Kn})}catch($){if(y._debug(k,"error",$),lt($))return{data:{session:null,user:null},error:$};throw $}finally{y._debug(k,"end")}})()}_isValidSession(g){return"object"==typeof g&&null!==g&&"access_token"in g&&"refresh_token"in g&&"expires_at"in g}_handleProviderSignIn(g,y){var k=this;return(0,ne.A)(function*(){const $=yield k._getUrlForProvider(`${k.url}/authorize`,g,{redirectTo:y.redirectTo,scopes:y.scopes,queryParams:y.queryParams});return k._debug("#_handleProviderSignIn()","provider",g,"options",y,"url",$),zn()&&!y.skipBrowserRedirect&&window.location.assign($),{data:{provider:g,url:$},error:null}})()}_recoverAndRefresh(){var g=this;return(0,ne.A)(function*(){var y;const k="#_recoverAndRefresh()";g._debug(k,"begin");try{const $=yield ro(g.storage,g.storageKey);if(g._debug(k,"session from storage",$),!g._isValidSession($))return g._debug(k,"session is not valid"),void(null!==$&&(yield g._removeSession()));const z=Math.round(Date.now()/1e3),X=(null!==(y=$.expires_at)&&void 0!==y?y:1/0)<z+10;if(g._debug(k,`session has${X?"":" not"} expired with margin of 10s`),X){if(g.autoRefreshToken&&$.refresh_token){const{error:ce}=yield g._callRefreshToken($.refresh_token);ce&&(console.error(ce),Co(ce)||(g._debug(k,"refresh failed with a non-retryable error, removing the session",ce),yield g._removeSession()))}}else yield g._notifyAllSubscribers("SIGNED_IN",$)}catch($){return g._debug(k,"error",$),void console.error($)}finally{g._debug(k,"end")}})()}_callRefreshToken(g){var y=this;return(0,ne.A)(function*(){var k,$;if(!g)throw new Zr;if(y.refreshingDeferred)return y.refreshingDeferred.promise;const z=`#_callRefreshToken(${g.substring(0,5)}...)`;y._debug(z,"begin");try{y.refreshingDeferred=new It;const{data:X,error:ce}=yield y._refreshAccessToken(g);if(ce)throw ce;if(!X.session)throw new Zr;yield y._saveSession(X.session),yield y._notifyAllSubscribers("TOKEN_REFRESHED",X.session);const Ce={session:X.session,error:null};return y.refreshingDeferred.resolve(Ce),Ce}catch(X){if(y._debug(z,"error",X),lt(X)){const ce={session:null,error:X};return Co(X)||(yield y._removeSession(),yield y._notifyAllSubscribers("SIGNED_OUT",null)),null===(k=y.refreshingDeferred)||void 0===k||k.resolve(ce),ce}throw null===($=y.refreshingDeferred)||void 0===$||$.reject(X),X}finally{y.refreshingDeferred=null,y._debug(z,"end")}})()}_notifyAllSubscribers(g,y){var k=this;return(0,ne.A)(function*($,z,X=!0){const ce=`#_notifyAllSubscribers(${$})`;k._debug(ce,"begin",z,`broadcast = ${X}`);try{k.broadcastChannel&&X&&k.broadcastChannel.postMessage({event:$,session:z});const Ce=[],ie=Array.from(k.stateChangeEmitters.values()).map(function(){var Ue=(0,ne.A)(function*(ft){try{yield ft.callback($,z)}catch(bt){Ce.push(bt)}});return function(ft){return Ue.apply(this,arguments)}}());if(yield Promise.all(ie),Ce.length>0){for(let Ue=0;Ue<Ce.length;Ue+=1)console.error(Ce[Ue]);throw Ce[0]}}finally{k._debug(ce,"end")}}).apply(this,arguments)}_saveSession(g){var y=this;return(0,ne.A)(function*(){y._debug("#_saveSession()",g),y.suppressGetSessionWarning=!0,yield kr(y.storage,y.storageKey,g)})()}_removeSession(){var g=this;return(0,ne.A)(function*(){g._debug("#_removeSession()"),yield oo(g.storage,g.storageKey)})()}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const g=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{g&&zn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",g)}catch(y){console.error("removing visibilitychange callback failed",y)}}_startAutoRefresh(){var g=this;return(0,ne.A)(function*(){yield g._stopAutoRefresh(),g._debug("#_startAutoRefresh()");const y=setInterval(()=>g._autoRefreshTokenTick(),Kn);g.autoRefreshTicker=y,y&&"object"==typeof y&&"function"==typeof y.unref?y.unref():typeof Deno<"u"&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(y),setTimeout((0,ne.A)(function*(){yield g.initializePromise,yield g._autoRefreshTokenTick()}),0)})()}_stopAutoRefresh(){var g=this;return(0,ne.A)(function*(){g._debug("#_stopAutoRefresh()");const y=g.autoRefreshTicker;g.autoRefreshTicker=null,y&&clearInterval(y)})()}startAutoRefresh(){var g=this;return(0,ne.A)(function*(){g._removeVisibilityChangedCallback(),yield g._startAutoRefresh()})()}stopAutoRefresh(){var g=this;return(0,ne.A)(function*(){g._removeVisibilityChangedCallback(),yield g._stopAutoRefresh()})()}_autoRefreshTokenTick(){var g=this;return(0,ne.A)(function*(){g._debug("#_autoRefreshTokenTick()","begin");try{yield g._acquireLock(0,(0,ne.A)(function*(){try{const y=Date.now();try{return yield g._useSession(function(){var k=(0,ne.A)(function*($){const{data:{session:z}}=$;if(!z||!z.refresh_token||!z.expires_at)return void g._debug("#_autoRefreshTokenTick()","no session");const X=Math.floor((1e3*z.expires_at-y)/Kn);g._debug("#_autoRefreshTokenTick()",`access token expires in ${X} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),X<=3&&(yield g._callRefreshToken(z.refresh_token))});return function($){return k.apply(this,arguments)}}())}catch(k){console.error("Auto refresh tick failed with error. This is likely a transient error.",k)}}finally{g._debug("#_autoRefreshTokenTick()","end")}}))}catch(y){if(!(y.isAcquireTimeout||y instanceof ni))throw y;g._debug("auto refresh token tick lock not available")}})()}_handleVisibilityChange(){var g=this;return(0,ne.A)(function*(){if(g._debug("#_handleVisibilityChange()"),!zn()||!window?.addEventListener)return g.autoRefreshToken&&g.startAutoRefresh(),!1;try{g.visibilityChangedCallback=(0,ne.A)(function*(){return yield g._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",g.visibilityChangedCallback),yield g._onVisibilityChanged(!0)}catch(y){console.error("_handleVisibilityChange",y)}})()}_onVisibilityChanged(g){var y=this;return(0,ne.A)(function*(){const k=`#_onVisibilityChanged(${g})`;y._debug(k,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(y.autoRefreshToken&&y._startAutoRefresh(),g||(yield y.initializePromise,yield y._acquireLock(-1,(0,ne.A)(function*(){"visible"===document.visibilityState?yield y._recoverAndRefresh():y._debug(k,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&y.autoRefreshToken&&y._stopAutoRefresh()})()}_getUrlForProvider(g,y,k){var $=this;return(0,ne.A)(function*(){const z=[`provider=${encodeURIComponent(y)}`];if(k?.redirectTo&&z.push(`redirect_to=${encodeURIComponent(k.redirectTo)}`),k?.scopes&&z.push(`scopes=${encodeURIComponent(k.scopes)}`),"pkce"===$.flowType){const[X,ce]=yield zt($.storage,$.storageKey),Ce=new URLSearchParams({code_challenge:`${encodeURIComponent(X)}`,code_challenge_method:`${encodeURIComponent(ce)}`});z.push(Ce.toString())}if(k?.queryParams){const X=new URLSearchParams(k.queryParams);z.push(X.toString())}return k?.skipBrowserRedirect&&z.push(`skip_http_redirect=${k.skipBrowserRedirect}`),`${g}?${z.join("&")}`})()}_unenroll(g){var y=this;return(0,ne.A)(function*(){try{return yield y._useSession(function(){var k=(0,ne.A)(function*($){var z;const{data:X,error:ce}=$;return ce?{data:null,error:ce}:yield Xt(y.fetch,"DELETE",`${y.url}/factors/${g.factorId}`,{headers:y.headers,jwt:null===(z=X?.session)||void 0===z?void 0:z.access_token})});return function($){return k.apply(this,arguments)}}())}catch(k){if(lt(k))return{data:null,error:k};throw k}})()}_enroll(g){var y=this;return(0,ne.A)(function*(){try{return yield y._useSession(function(){var k=(0,ne.A)(function*($){var z,X;const{data:ce,error:Ce}=$;if(Ce)return{data:null,error:Ce};const{data:ie,error:Ue}=yield Xt(y.fetch,"POST",`${y.url}/factors`,{body:{friendly_name:g.friendlyName,factor_type:g.factorType,issuer:g.issuer},headers:y.headers,jwt:null===(z=ce?.session)||void 0===z?void 0:z.access_token});return Ue?{data:null,error:Ue}:(!(null===(X=ie?.totp)||void 0===X)&&X.qr_code&&(ie.totp.qr_code=`data:image/svg+xml;utf-8,${ie.totp.qr_code}`),{data:ie,error:null})});return function($){return k.apply(this,arguments)}}())}catch(k){if(lt(k))return{data:null,error:k};throw k}})()}_verify(g){var y=this;return(0,ne.A)(function*(){return y._acquireLock(-1,(0,ne.A)(function*(){try{return yield y._useSession(function(){var k=(0,ne.A)(function*($){var z;const{data:X,error:ce}=$;if(ce)return{data:null,error:ce};const{data:Ce,error:ie}=yield Xt(y.fetch,"POST",`${y.url}/factors/${g.factorId}/verify`,{body:{code:g.code,challenge_id:g.challengeId},headers:y.headers,jwt:null===(z=X?.session)||void 0===z?void 0:z.access_token});return ie?{data:null,error:ie}:(yield y._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+Ce.expires_in},Ce)),yield y._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",Ce),{data:Ce,error:ie})});return function($){return k.apply(this,arguments)}}())}catch(k){if(lt(k))return{data:null,error:k};throw k}}))})()}_challenge(g){var y=this;return(0,ne.A)(function*(){return y._acquireLock(-1,(0,ne.A)(function*(){try{return yield y._useSession(function(){var k=(0,ne.A)(function*($){var z;const{data:X,error:ce}=$;return ce?{data:null,error:ce}:yield Xt(y.fetch,"POST",`${y.url}/factors/${g.factorId}/challenge`,{headers:y.headers,jwt:null===(z=X?.session)||void 0===z?void 0:z.access_token})});return function($){return k.apply(this,arguments)}}())}catch(k){if(lt(k))return{data:null,error:k};throw k}}))})()}_challengeAndVerify(g){var y=this;return(0,ne.A)(function*(){const{data:k,error:$}=yield y._challenge({factorId:g.factorId});return $?{data:null,error:$}:yield y._verify({factorId:g.factorId,challengeId:k.id,code:g.code})})()}_listFactors(){var g=this;return(0,ne.A)(function*(){const{data:{user:y},error:k}=yield g.getUser();if(k)return{data:null,error:k};const $=y?.factors||[],z=$.filter(X=>"totp"===X.factor_type&&"verified"===X.status);return{data:{all:$,totp:z},error:null}})()}_getAuthenticatorAssuranceLevel(){var g=this;return(0,ne.A)(function*(){return g._acquireLock(-1,(0,ne.A)(function*(){return yield g._useSession(function(){var y=(0,ne.A)(function*(k){var $,z;const{data:{session:X},error:ce}=k;if(ce)return{data:null,error:ce};if(!X)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const Ce=g._decodeJWT(X.access_token);let ie=null;Ce.aal&&(ie=Ce.aal);let Ue=ie;return(null!==(z=null===($=X.user.factors)||void 0===$?void 0:$.filter(yt=>"verified"===yt.status))&&void 0!==z?z:[]).length>0&&(Ue="aal2"),{data:{currentLevel:ie,nextLevel:Ue,currentAuthenticationMethods:Ce.amr||[]},error:null}});return function(k){return y.apply(this,arguments)}}())}))})()}}return V.nextInstanceID=0,V})();class Ho extends pi{constructor(I){super(I)}}class Gn{constructor(I,g,y){var k,$,z;if(this.supabaseUrl=I,this.supabaseKey=g,!I)throw new Error("supabaseUrl is required.");if(!g)throw new Error("supabaseKey is required.");const X=function Cr(V){return V.replace(/\/$/,"")}(I);this.realtimeUrl=`${X}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${X}/auth/v1`,this.storageUrl=`${X}/storage/v1`,this.functionsUrl=`${X}/functions/v1`;const ce=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,ie=function Xr(V,I){const{db:g,auth:y,realtime:k,global:$}=V,{db:z,auth:X,realtime:ce,global:Ce}=I;return{db:Object.assign(Object.assign({},z),g),auth:Object.assign(Object.assign({},X),y),realtime:Object.assign(Object.assign({},ce),k),global:Object.assign(Object.assign({},Ce),$)}}(y??{},{db:re,realtime:Ge,auth:Object.assign(Object.assign({},me),{storageKey:ce}),global:be});this.storageKey=null!==(k=ie.auth.storageKey)&&void 0!==k?k:"",this.headers=null!==($=ie.global.headers)&&void 0!==$?$:{},this.auth=this._initSupabaseAuthClient(null!==(z=ie.auth)&&void 0!==z?z:{},this.headers,ie.global.fetch),this.fetch=ir(g,this._getAccessToken.bind(this),ie.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},ie.realtime)),this.rest=new ve(`${X}/rest/v1`,{headers:this.headers,schema:ie.db.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new K(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Tn(this.storageUrl,this.headers,this.fetch)}from(I){return this.rest.from(I)}schema(I){return this.rest.schema(I)}rpc(I,g={},y={}){return this.rest.rpc(I,g,y)}channel(I,g={config:{}}){return this.realtime.channel(I,g)}getChannels(){return this.realtime.getChannels()}removeChannel(I){return this.realtime.removeChannel(I)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var I,g;return function(V,I,g,y){return new(g||(g=Promise))(function($,z){function X(ie){try{Ce(y.next(ie))}catch(Ue){z(Ue)}}function ce(ie){try{Ce(y.throw(ie))}catch(Ue){z(Ue)}}function Ce(ie){ie.done?$(ie.value):function k($){return $ instanceof g?$:new g(function(z){z($)})}(ie.value).then(X,ce)}Ce((y=y.apply(V,I||[])).next())})}(this,void 0,void 0,function*(){const{data:y}=yield this.auth.getSession();return null!==(g=null===(I=y.session)||void 0===I?void 0:I.access_token)&&void 0!==g?g:null})}_initSupabaseAuthClient({autoRefreshToken:I,persistSession:g,detectSessionInUrl:y,storage:k,storageKey:$,flowType:z,debug:X},ce,Ce){var ie;return new Ho({url:this.authUrl,headers:Object.assign(Object.assign({},{Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`}),ce),storageKey:$,autoRefreshToken:I,persistSession:g,detectSessionInUrl:y,storage:k,flowType:z,debug:X,fetch:Ce,hasCustomAuthorizationHeader:null!==(ie="Authorization"in this.headers)&&void 0!==ie&&ie})}_initRealtimeClient(I){return new Mn(this.realtimeUrl,Object.assign(Object.assign({},I),{params:Object.assign({apikey:this.supabaseKey},I?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((g,y)=>{this._handleTokenChanged(g,"CLIENT",y?.access_token)})}_handleTokenChanged(I,g,y){"TOKEN_REFRESHED"!==I&&"SIGNED_IN"!==I||this.changedAccessToken===y?"SIGNED_OUT"===I&&(this.realtime.setAuth(this.supabaseKey),"STORAGE"==g&&this.auth.signOut(),this.changedAccessToken=void 0):(this.realtime.setAuth(y??null),this.changedAccessToken=y)}}const Io=(V,I,g)=>new Gn(V,I,g)},4412:(Je,_e,D)=>{"use strict";D.d(_e,{t:()=>j});var l=D(1413);class j extends l.B{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const S=super._subscribe(e);return!S.closed&&e.next(this._value),S}getValue(){const{hasError:e,thrownError:S,_value:H}=this;if(e)throw S;return this._throwIfClosed(),H}next(e){super.next(this._value=e)}}},1985:(Je,_e,D)=>{"use strict";D.d(_e,{c:()=>K});var l=D(7707),j=D(8359),te=D(3494),e=D(1203),S=D(1026),H=D(8071),E=D(9786);let K=(()=>{class ye{constructor(Ee){Ee&&(this._subscribe=Ee)}lift(Ee){const Le=new ye;return Le.source=this,Le.operator=Ee,Le}subscribe(Ee,Le,ne){const U=function Q(ye){return ye&&ye instanceof l.vU||function ve(ye){return ye&&(0,H.T)(ye.next)&&(0,H.T)(ye.error)&&(0,H.T)(ye.complete)}(ye)&&(0,j.Uv)(ye)}(Ee)?Ee:new l.Ms(Ee,Le,ne);return(0,E.Y)(()=>{const{operator:B,source:he}=this;U.add(B?B.call(U,he):he?this._subscribe(U):this._trySubscribe(U))}),U}_trySubscribe(Ee){try{return this._subscribe(Ee)}catch(Le){Ee.error(Le)}}forEach(Ee,Le){return new(Le=ue(Le))((ne,U)=>{const B=new l.Ms({next:he=>{try{Ee(he)}catch(le){U(le),B.unsubscribe()}},error:U,complete:ne});this.subscribe(B)})}_subscribe(Ee){var Le;return null===(Le=this.source)||void 0===Le?void 0:Le.subscribe(Ee)}[te.s](){return this}pipe(...Ee){return(0,e.m)(Ee)(this)}toPromise(Ee){return new(Ee=ue(Ee))((Le,ne)=>{let U;this.subscribe(B=>U=B,B=>ne(B),()=>Le(U))})}}return ye.create=Fe=>new ye(Fe),ye})();function ue(ye){var Fe;return null!==(Fe=ye??S.$.Promise)&&void 0!==Fe?Fe:Promise}},1413:(Je,_e,D)=>{"use strict";D.d(_e,{B:()=>E});var l=D(1985),j=D(8359);const e=(0,D(1853).L)(ue=>function(){ue(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var S=D(7908),H=D(9786);let E=(()=>{class ue extends l.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Q){const ye=new K(this,this);return ye.operator=Q,ye}_throwIfClosed(){if(this.closed)throw new e}next(Q){(0,H.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ye of this.currentObservers)ye.next(Q)}})}error(Q){(0,H.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Q;const{observers:ye}=this;for(;ye.length;)ye.shift().error(Q)}})}complete(){(0,H.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Q}=this;for(;Q.length;)Q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Q;return(null===(Q=this.observers)||void 0===Q?void 0:Q.length)>0}_trySubscribe(Q){return this._throwIfClosed(),super._trySubscribe(Q)}_subscribe(Q){return this._throwIfClosed(),this._checkFinalizedStatuses(Q),this._innerSubscribe(Q)}_innerSubscribe(Q){const{hasError:ye,isStopped:Fe,observers:Ee}=this;return ye||Fe?j.Kn:(this.currentObservers=null,Ee.push(Q),new j.yU(()=>{this.currentObservers=null,(0,S.o)(Ee,Q)}))}_checkFinalizedStatuses(Q){const{hasError:ye,thrownError:Fe,isStopped:Ee}=this;ye?Q.error(Fe):Ee&&Q.complete()}asObservable(){const Q=new l.c;return Q.source=this,Q}}return ue.create=(ve,Q)=>new K(ve,Q),ue})();class K extends E{constructor(ve,Q){super(),this.destination=ve,this.source=Q}next(ve){var Q,ye;null===(ye=null===(Q=this.destination)||void 0===Q?void 0:Q.next)||void 0===ye||ye.call(Q,ve)}error(ve){var Q,ye;null===(ye=null===(Q=this.destination)||void 0===Q?void 0:Q.error)||void 0===ye||ye.call(Q,ve)}complete(){var ve,Q;null===(Q=null===(ve=this.destination)||void 0===ve?void 0:ve.complete)||void 0===Q||Q.call(ve)}_subscribe(ve){var Q,ye;return null!==(ye=null===(Q=this.source)||void 0===Q?void 0:Q.subscribe(ve))&&void 0!==ye?ye:j.Kn}}},7707:(Je,_e,D)=>{"use strict";D.d(_e,{Ms:()=>ne,vU:()=>ye});var l=D(8071),j=D(8359),te=D(1026),e=D(5334),S=D(5343);const H=ue("C",void 0,void 0);function ue(fe,pe,xe){return{kind:fe,value:pe,error:xe}}var ve=D(9270),Q=D(9786);class ye extends j.yU{constructor(pe){super(),this.isStopped=!1,pe?(this.destination=pe,(0,j.Uv)(pe)&&pe.add(this)):this.destination=le}static create(pe,xe,nt){return new ne(pe,xe,nt)}next(pe){this.isStopped?he(function K(fe){return ue("N",fe,void 0)}(pe),this):this._next(pe)}error(pe){this.isStopped?he(function E(fe){return ue("E",void 0,fe)}(pe),this):(this.isStopped=!0,this._error(pe))}complete(){this.isStopped?he(H,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(pe){this.destination.next(pe)}_error(pe){try{this.destination.error(pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Fe=Function.prototype.bind;function Ee(fe,pe){return Fe.call(fe,pe)}class Le{constructor(pe){this.partialObserver=pe}next(pe){const{partialObserver:xe}=this;if(xe.next)try{xe.next(pe)}catch(nt){U(nt)}}error(pe){const{partialObserver:xe}=this;if(xe.error)try{xe.error(pe)}catch(nt){U(nt)}else U(pe)}complete(){const{partialObserver:pe}=this;if(pe.complete)try{pe.complete()}catch(xe){U(xe)}}}class ne extends ye{constructor(pe,xe,nt){let Te;if(super(),(0,l.T)(pe)||!pe)Te={next:pe??void 0,error:xe??void 0,complete:nt??void 0};else{let $e;this&&te.$.useDeprecatedNextContext?($e=Object.create(pe),$e.unsubscribe=()=>this.unsubscribe(),Te={next:pe.next&&Ee(pe.next,$e),error:pe.error&&Ee(pe.error,$e),complete:pe.complete&&Ee(pe.complete,$e)}):Te=pe}this.destination=new Le(Te)}}function U(fe){te.$.useDeprecatedSynchronousErrorHandling?(0,Q.l)(fe):(0,e.m)(fe)}function he(fe,pe){const{onStoppedNotification:xe}=te.$;xe&&ve.f.setTimeout(()=>xe(fe,pe))}const le={closed:!0,next:S.l,error:function B(fe){throw fe},complete:S.l}},8359:(Je,_e,D)=>{"use strict";D.d(_e,{Kn:()=>H,yU:()=>S,Uv:()=>E});var l=D(8071);const te=(0,D(1853).L)(ue=>function(Q){ue(this),this.message=Q?`${Q.length} errors occurred during unsubscription:\n${Q.map((ye,Fe)=>`${Fe+1}) ${ye.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Q});var e=D(7908);class S{constructor(ve){this.initialTeardown=ve,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ve;if(!this.closed){this.closed=!0;const{_parentage:Q}=this;if(Q)if(this._parentage=null,Array.isArray(Q))for(const Ee of Q)Ee.remove(this);else Q.remove(this);const{initialTeardown:ye}=this;if((0,l.T)(ye))try{ye()}catch(Ee){ve=Ee instanceof te?Ee.errors:[Ee]}const{_finalizers:Fe}=this;if(Fe){this._finalizers=null;for(const Ee of Fe)try{K(Ee)}catch(Le){ve=ve??[],Le instanceof te?ve=[...ve,...Le.errors]:ve.push(Le)}}if(ve)throw new te(ve)}}add(ve){var Q;if(ve&&ve!==this)if(this.closed)K(ve);else{if(ve instanceof S){if(ve.closed||ve._hasParent(this))return;ve._addParent(this)}(this._finalizers=null!==(Q=this._finalizers)&&void 0!==Q?Q:[]).push(ve)}}_hasParent(ve){const{_parentage:Q}=this;return Q===ve||Array.isArray(Q)&&Q.includes(ve)}_addParent(ve){const{_parentage:Q}=this;this._parentage=Array.isArray(Q)?(Q.push(ve),Q):Q?[Q,ve]:ve}_removeParent(ve){const{_parentage:Q}=this;Q===ve?this._parentage=null:Array.isArray(Q)&&(0,e.o)(Q,ve)}remove(ve){const{_finalizers:Q}=this;Q&&(0,e.o)(Q,ve),ve instanceof S&&ve._removeParent(this)}}S.EMPTY=(()=>{const ue=new S;return ue.closed=!0,ue})();const H=S.EMPTY;function E(ue){return ue instanceof S||ue&&"closed"in ue&&(0,l.T)(ue.remove)&&(0,l.T)(ue.add)&&(0,l.T)(ue.unsubscribe)}function K(ue){(0,l.T)(ue)?ue():ue.unsubscribe()}},1026:(Je,_e,D)=>{"use strict";D.d(_e,{$:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3207:(Je,_e,D)=>{"use strict";D.d(_e,{s:()=>j});var l=D(9350);function j(te,e){const S="object"==typeof e;return new Promise((H,E)=>{let ue,K=!1;te.subscribe({next:ve=>{ue=ve,K=!0},error:E,complete:()=>{K?H(ue):S?H(e.defaultValue):E(new l.G)}})})}},4572:(Je,_e,D)=>{"use strict";D.d(_e,{z:()=>ve});var l=D(1985),j=D(3073),te=D(6648),e=D(3669),S=D(6450),H=D(3794),E=D(8496),K=D(4360),ue=D(5225);function ve(...Fe){const Ee=(0,H.lI)(Fe),Le=(0,H.ms)(Fe),{args:ne,keys:U}=(0,j.D)(Fe);if(0===ne.length)return(0,te.H)([],Ee);const B=new l.c(function Q(Fe,Ee,Le=e.D){return ne=>{ye(Ee,()=>{const{length:U}=Fe,B=new Array(U);let he=U,le=U;for(let fe=0;fe<U;fe++)ye(Ee,()=>{const pe=(0,te.H)(Fe[fe],Ee);let xe=!1;pe.subscribe((0,K._)(ne,nt=>{B[fe]=nt,xe||(xe=!0,le--),le||ne.next(Le(B.slice()))},()=>{--he||ne.complete()}))},ne)},ne)}}(ne,Ee,U?he=>(0,E.e)(U,he):e.D));return Le?B.pipe((0,S.I)(Le)):B}function ye(Fe,Ee,Le){Fe?(0,ue.N)(Le,Fe,Ee):Ee()}},8793:(Je,_e,D)=>{"use strict";D.d(_e,{x:()=>S});var l=D(6365),te=D(3794),e=D(6648);function S(...H){return function j(){return(0,l.U)(1)}()((0,e.H)(H,(0,te.lI)(H)))}},9030:(Je,_e,D)=>{"use strict";D.d(_e,{v:()=>te});var l=D(1985),j=D(8750);function te(e){return new l.c(S=>{(0,j.Tg)(e()).subscribe(S)})}},983:(Je,_e,D)=>{"use strict";D.d(_e,{w:()=>j});const j=new(D(1985).c)(S=>S.complete())},7468:(Je,_e,D)=>{"use strict";D.d(_e,{p:()=>K});var l=D(1985),j=D(3073),te=D(8750),e=D(3794),S=D(4360),H=D(6450),E=D(8496);function K(...ue){const ve=(0,e.ms)(ue),{args:Q,keys:ye}=(0,j.D)(ue),Fe=new l.c(Ee=>{const{length:Le}=Q;if(!Le)return void Ee.complete();const ne=new Array(Le);let U=Le,B=Le;for(let he=0;he<Le;he++){let le=!1;(0,te.Tg)(Q[he]).subscribe((0,S._)(Ee,fe=>{le||(le=!0,B--),ne[he]=fe},()=>U--,void 0,()=>{(!U||!le)&&(B||Ee.next(ye?(0,E.e)(ye,ne):ne),Ee.complete())}))}});return ve?Fe.pipe((0,H.I)(ve)):Fe}},6648:(Je,_e,D)=>{"use strict";D.d(_e,{H:()=>nt});var l=D(8750),j=D(5225),te=D(9974),e=D(4360);function S(Te,$e=0){return(0,te.N)((Ye,Ke)=>{Ye.subscribe((0,e._)(Ke,st=>(0,j.N)(Ke,Te,()=>Ke.next(st),$e),()=>(0,j.N)(Ke,Te,()=>Ke.complete(),$e),st=>(0,j.N)(Ke,Te,()=>Ke.error(st),$e)))})}function H(Te,$e=0){return(0,te.N)((Ye,Ke)=>{Ke.add(Te.schedule(()=>Ye.subscribe(Ke),$e))})}var ue=D(1985),Q=D(4761),ye=D(8071);function Ee(Te,$e){if(!Te)throw new Error("Iterable cannot be null");return new ue.c(Ye=>{(0,j.N)(Ye,$e,()=>{const Ke=Te[Symbol.asyncIterator]();(0,j.N)(Ye,$e,()=>{Ke.next().then(st=>{st.done?Ye.complete():Ye.next(st.value)})},0,!0)})})}var Le=D(5055),ne=D(9858),U=D(7441),B=D(5397),he=D(7953),le=D(591),fe=D(5196);function nt(Te,$e){return $e?function xe(Te,$e){if(null!=Te){if((0,Le.l)(Te))return function E(Te,$e){return(0,l.Tg)(Te).pipe(H($e),S($e))}(Te,$e);if((0,U.X)(Te))return function ve(Te,$e){return new ue.c(Ye=>{let Ke=0;return $e.schedule(function(){Ke===Te.length?Ye.complete():(Ye.next(Te[Ke++]),Ye.closed||this.schedule())})})}(Te,$e);if((0,ne.y)(Te))return function K(Te,$e){return(0,l.Tg)(Te).pipe(H($e),S($e))}(Te,$e);if((0,he.T)(Te))return Ee(Te,$e);if((0,B.x)(Te))return function Fe(Te,$e){return new ue.c(Ye=>{let Ke;return(0,j.N)(Ye,$e,()=>{Ke=Te[Q.l](),(0,j.N)(Ye,$e,()=>{let st,kt;try{({value:st,done:kt}=Ke.next())}catch(_t){return void Ye.error(_t)}kt?Ye.complete():Ye.next(st)},0,!0)}),()=>(0,ye.T)(Ke?.return)&&Ke.return()})}(Te,$e);if((0,fe.U)(Te))return function pe(Te,$e){return Ee((0,fe.C)(Te),$e)}(Te,$e)}throw(0,le.L)(Te)}(Te,$e):(0,l.Tg)(Te)}},8750:(Je,_e,D)=>{"use strict";D.d(_e,{Tg:()=>Fe});var l=D(1635),j=D(7441),te=D(9858),e=D(1985),S=D(5055),H=D(7953),E=D(591),K=D(5397),ue=D(5196),ve=D(8071),Q=D(5334),ye=D(3494);function Fe(fe){if(fe instanceof e.c)return fe;if(null!=fe){if((0,S.l)(fe))return function Ee(fe){return new e.c(pe=>{const xe=fe[ye.s]();if((0,ve.T)(xe.subscribe))return xe.subscribe(pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(fe);if((0,j.X)(fe))return function Le(fe){return new e.c(pe=>{for(let xe=0;xe<fe.length&&!pe.closed;xe++)pe.next(fe[xe]);pe.complete()})}(fe);if((0,te.y)(fe))return function ne(fe){return new e.c(pe=>{fe.then(xe=>{pe.closed||(pe.next(xe),pe.complete())},xe=>pe.error(xe)).then(null,Q.m)})}(fe);if((0,H.T)(fe))return B(fe);if((0,K.x)(fe))return function U(fe){return new e.c(pe=>{for(const xe of fe)if(pe.next(xe),pe.closed)return;pe.complete()})}(fe);if((0,ue.U)(fe))return function he(fe){return B((0,ue.C)(fe))}(fe)}throw(0,E.L)(fe)}function B(fe){return new e.c(pe=>{(function le(fe,pe){var xe,nt,Te,$e;return(0,l.sH)(this,void 0,void 0,function*(){try{for(xe=(0,l.xN)(fe);!(nt=yield xe.next()).done;)if(pe.next(nt.value),pe.closed)return}catch(Ye){Te={error:Ye}}finally{try{nt&&!nt.done&&($e=xe.return)&&(yield $e.call(xe))}finally{if(Te)throw Te.error}}pe.complete()})})(fe,pe).catch(xe=>pe.error(xe))})}},7786:(Je,_e,D)=>{"use strict";D.d(_e,{h:()=>H});var l=D(6365),j=D(8750),te=D(983),e=D(3794),S=D(6648);function H(...E){const K=(0,e.lI)(E),ue=(0,e.R0)(E,1/0),ve=E;return ve.length?1===ve.length?(0,j.Tg)(ve[0]):(0,l.U)(ue)((0,S.H)(ve,K)):te.w}},7673:(Je,_e,D)=>{"use strict";D.d(_e,{of:()=>te});var l=D(3794),j=D(6648);function te(...e){const S=(0,l.lI)(e);return(0,j.H)(e,S)}},8810:(Je,_e,D)=>{"use strict";D.d(_e,{$:()=>te});var l=D(1985),j=D(8071);function te(e,S){const H=(0,j.T)(e)?e:()=>e,E=K=>K.error(H());return new l.c(S?K=>S.schedule(E,0,K):E)}},4360:(Je,_e,D)=>{"use strict";D.d(_e,{_:()=>j});var l=D(7707);function j(e,S,H,E,K){return new te(e,S,H,E,K)}class te extends l.vU{constructor(S,H,E,K,ue,ve){super(S),this.onFinalize=ue,this.shouldUnsubscribe=ve,this._next=H?function(Q){try{H(Q)}catch(ye){S.error(ye)}}:super._next,this._error=K?function(Q){try{K(Q)}catch(ye){S.error(ye)}finally{this.unsubscribe()}}:super._error,this._complete=E?function(){try{E()}catch(Q){S.error(Q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var S;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:H}=this;super.unsubscribe(),!H&&(null===(S=this.onFinalize)||void 0===S||S.call(this))}}}},9437:(Je,_e,D)=>{"use strict";D.d(_e,{W:()=>e});var l=D(8750),j=D(4360),te=D(9974);function e(S){return(0,te.N)((H,E)=>{let ve,K=null,ue=!1;K=H.subscribe((0,j._)(E,void 0,void 0,Q=>{ve=(0,l.Tg)(S(Q,e(S)(H))),K?(K.unsubscribe(),K=null,ve.subscribe(E)):ue=!0})),ue&&(K.unsubscribe(),K=null,ve.subscribe(E))})}},274:(Je,_e,D)=>{"use strict";D.d(_e,{H:()=>te});var l=D(1397),j=D(8071);function te(e,S){return(0,j.T)(S)?(0,l.Z)(e,S,1):(0,l.Z)(e,1)}},9901:(Je,_e,D)=>{"use strict";D.d(_e,{U:()=>te});var l=D(9974),j=D(4360);function te(e){return(0,l.N)((S,H)=>{let E=!1;S.subscribe((0,j._)(H,K=>{E=!0,H.next(K)},()=>{E||H.next(e),H.complete()}))})}},3294:(Je,_e,D)=>{"use strict";D.d(_e,{F:()=>e});var l=D(3669),j=D(9974),te=D(4360);function e(H,E=l.D){return H=H??S,(0,j.N)((K,ue)=>{let ve,Q=!0;K.subscribe((0,te._)(ue,ye=>{const Fe=E(ye);(Q||!H(ve,Fe))&&(Q=!1,ve=Fe,ue.next(ye))}))})}function S(H,E){return H===E}},5964:(Je,_e,D)=>{"use strict";D.d(_e,{p:()=>te});var l=D(9974),j=D(4360);function te(e,S){return(0,l.N)((H,E)=>{let K=0;H.subscribe((0,j._)(E,ue=>e.call(S,ue,K++)&&E.next(ue)))})}},980:(Je,_e,D)=>{"use strict";D.d(_e,{j:()=>j});var l=D(9974);function j(te){return(0,l.N)((e,S)=>{try{e.subscribe(S)}finally{S.add(te)}})}},1594:(Je,_e,D)=>{"use strict";D.d(_e,{$:()=>E});var l=D(9350),j=D(5964),te=D(6697),e=D(9901),S=D(3774),H=D(3669);function E(K,ue){const ve=arguments.length>=2;return Q=>Q.pipe(K?(0,j.p)((ye,Fe)=>K(ye,Fe,Q)):H.D,(0,te.s)(1),ve?(0,e.U)(ue):(0,S.v)(()=>new l.G))}},6354:(Je,_e,D)=>{"use strict";D.d(_e,{T:()=>te});var l=D(9974),j=D(4360);function te(e,S){return(0,l.N)((H,E)=>{let K=0;H.subscribe((0,j._)(E,ue=>{E.next(e.call(S,ue,K++))}))})}},6365:(Je,_e,D)=>{"use strict";D.d(_e,{U:()=>te});var l=D(1397),j=D(3669);function te(e=1/0){return(0,l.Z)(j.D,e)}},1397:(Je,_e,D)=>{"use strict";D.d(_e,{Z:()=>K});var l=D(6354),j=D(8750),te=D(9974),e=D(5225),S=D(4360),E=D(8071);function K(ue,ve,Q=1/0){return(0,E.T)(ve)?K((ye,Fe)=>(0,l.T)((Ee,Le)=>ve(ye,Ee,Fe,Le))((0,j.Tg)(ue(ye,Fe))),Q):("number"==typeof ve&&(Q=ve),(0,te.N)((ye,Fe)=>function H(ue,ve,Q,ye,Fe,Ee,Le,ne){const U=[];let B=0,he=0,le=!1;const fe=()=>{le&&!U.length&&!B&&ve.complete()},pe=nt=>B<ye?xe(nt):U.push(nt),xe=nt=>{Ee&&ve.next(nt),B++;let Te=!1;(0,j.Tg)(Q(nt,he++)).subscribe((0,S._)(ve,$e=>{Fe?.($e),Ee?pe($e):ve.next($e)},()=>{Te=!0},void 0,()=>{if(Te)try{for(B--;U.length&&B<ye;){const $e=U.shift();Le?(0,e.N)(ve,Le,()=>xe($e)):xe($e)}fe()}catch($e){ve.error($e)}}))};return ue.subscribe((0,S._)(ve,pe,()=>{le=!0,fe()})),()=>{ne?.()}}(ye,Fe,ue,Q)))}},1943:(Je,_e,D)=>{"use strict";D.d(_e,{S:()=>te});var l=D(9974),j=D(6649);function te(e,S){return(0,l.N)((0,j.S)(e,S,arguments.length>=2,!0))}},6649:(Je,_e,D)=>{"use strict";D.d(_e,{S:()=>j});var l=D(4360);function j(te,e,S,H,E){return(K,ue)=>{let ve=S,Q=e,ye=0;K.subscribe((0,l._)(ue,Fe=>{const Ee=ye++;Q=ve?te(Q,Fe,Ee):(ve=!0,Fe),H&&ue.next(Q)},E&&(()=>{ve&&ue.next(Q),ue.complete()})))}}},253:(Je,_e,D)=>{"use strict";D.d(_e,{t:()=>ue});var l=D(1413),j=D(6129);class te extends l.B{constructor(Q=1/0,ye=1/0,Fe=j.U){super(),this._bufferSize=Q,this._windowTime=ye,this._timestampProvider=Fe,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ye===1/0,this._bufferSize=Math.max(1,Q),this._windowTime=Math.max(1,ye)}next(Q){const{isStopped:ye,_buffer:Fe,_infiniteTimeWindow:Ee,_timestampProvider:Le,_windowTime:ne}=this;ye||(Fe.push(Q),!Ee&&Fe.push(Le.now()+ne)),this._trimBuffer(),super.next(Q)}_subscribe(Q){this._throwIfClosed(),this._trimBuffer();const ye=this._innerSubscribe(Q),{_infiniteTimeWindow:Fe,_buffer:Ee}=this,Le=Ee.slice();for(let ne=0;ne<Le.length&&!Q.closed;ne+=Fe?1:2)Q.next(Le[ne]);return this._checkFinalizedStatuses(Q),ye}_trimBuffer(){const{_bufferSize:Q,_timestampProvider:ye,_buffer:Fe,_infiniteTimeWindow:Ee}=this,Le=(Ee?1:2)*Q;if(Q<1/0&&Le<Fe.length&&Fe.splice(0,Fe.length-Le),!Ee){const ne=ye.now();let U=0;for(let B=1;B<Fe.length&&Fe[B]<=ne;B+=2)U=B;U&&Fe.splice(0,U+1)}}}var e=D(8750),S=D(7707),H=D(9974);function K(ve,Q,...ye){if(!0===Q)return void ve();if(!1===Q)return;const Fe=new S.Ms({next:()=>{Fe.unsubscribe(),ve()}});return(0,e.Tg)(Q(...ye)).subscribe(Fe)}function ue(ve,Q,ye){let Fe,Ee=!1;return ve&&"object"==typeof ve?({bufferSize:Fe=1/0,windowTime:Q=1/0,refCount:Ee=!1,scheduler:ye}=ve):Fe=ve??1/0,function E(ve={}){const{connector:Q=()=>new l.B,resetOnError:ye=!0,resetOnComplete:Fe=!0,resetOnRefCountZero:Ee=!0}=ve;return Le=>{let ne,U,B,he=0,le=!1,fe=!1;const pe=()=>{U?.unsubscribe(),U=void 0},xe=()=>{pe(),ne=B=void 0,le=fe=!1},nt=()=>{const Te=ne;xe(),Te?.unsubscribe()};return(0,H.N)((Te,$e)=>{he++,!fe&&!le&&pe();const Ye=B=B??Q();$e.add(()=>{he--,0===he&&!fe&&!le&&(U=K(nt,Ee))}),Ye.subscribe($e),!ne&&he>0&&(ne=new S.Ms({next:Ke=>Ye.next(Ke),error:Ke=>{fe=!0,pe(),U=K(xe,ye,Ke),Ye.error(Ke)},complete:()=>{le=!0,pe(),U=K(xe,Fe),Ye.complete()}}),(0,e.Tg)(Te).subscribe(ne))})(Le)}}({connector:()=>new te(Fe,Q,ye),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ee})}},9172:(Je,_e,D)=>{"use strict";D.d(_e,{Z:()=>e});var l=D(8793),j=D(3794),te=D(9974);function e(...S){const H=(0,j.lI)(S);return(0,te.N)((E,K)=>{(H?(0,l.x)(S,E,H):(0,l.x)(S,E)).subscribe(K)})}},5558:(Je,_e,D)=>{"use strict";D.d(_e,{n:()=>e});var l=D(8750),j=D(9974),te=D(4360);function e(S,H){return(0,j.N)((E,K)=>{let ue=null,ve=0,Q=!1;const ye=()=>Q&&!ue&&K.complete();E.subscribe((0,te._)(K,Fe=>{ue?.unsubscribe();let Ee=0;const Le=ve++;(0,l.Tg)(S(Fe,Le)).subscribe(ue=(0,te._)(K,ne=>K.next(H?H(Fe,ne,Le,Ee++):ne),()=>{ue=null,ye()}))},()=>{Q=!0,ye()}))})}},6697:(Je,_e,D)=>{"use strict";D.d(_e,{s:()=>e});var l=D(983),j=D(9974),te=D(4360);function e(S){return S<=0?()=>l.w:(0,j.N)((H,E)=>{let K=0;H.subscribe((0,te._)(E,ue=>{++K<=S&&(E.next(ue),S<=K&&E.complete())}))})}},6977:(Je,_e,D)=>{"use strict";D.d(_e,{Q:()=>S});var l=D(9974),j=D(4360),te=D(8750),e=D(5343);function S(H){return(0,l.N)((E,K)=>{(0,te.Tg)(H).subscribe((0,j._)(K,()=>K.complete(),e.l)),!K.closed&&E.subscribe(K)})}},8141:(Je,_e,D)=>{"use strict";D.d(_e,{M:()=>S});var l=D(8071),j=D(9974),te=D(4360),e=D(3669);function S(H,E,K){const ue=(0,l.T)(H)||E||K?{next:H,error:E,complete:K}:H;return ue?(0,j.N)((ve,Q)=>{var ye;null===(ye=ue.subscribe)||void 0===ye||ye.call(ue);let Fe=!0;ve.subscribe((0,te._)(Q,Ee=>{var Le;null===(Le=ue.next)||void 0===Le||Le.call(ue,Ee),Q.next(Ee)},()=>{var Ee;Fe=!1,null===(Ee=ue.complete)||void 0===Ee||Ee.call(ue),Q.complete()},Ee=>{var Le;Fe=!1,null===(Le=ue.error)||void 0===Le||Le.call(ue,Ee),Q.error(Ee)},()=>{var Ee,Le;Fe&&(null===(Ee=ue.unsubscribe)||void 0===Ee||Ee.call(ue)),null===(Le=ue.finalize)||void 0===Le||Le.call(ue)}))}):e.D}},3774:(Je,_e,D)=>{"use strict";D.d(_e,{v:()=>e});var l=D(9350),j=D(9974),te=D(4360);function e(H=S){return(0,j.N)((E,K)=>{let ue=!1;E.subscribe((0,te._)(K,ve=>{ue=!0,K.next(ve)},()=>ue?K.complete():K.error(H())))})}function S(){return new l.G}},6129:(Je,_e,D)=>{"use strict";D.d(_e,{U:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},9270:(Je,_e,D)=>{"use strict";D.d(_e,{f:()=>l});const l={setTimeout(j,te,...e){const{delegate:S}=l;return S?.setTimeout?S.setTimeout(j,te,...e):setTimeout(j,te,...e)},clearTimeout(j){const{delegate:te}=l;return(te?.clearTimeout||clearTimeout)(j)},delegate:void 0}},4761:(Je,_e,D)=>{"use strict";D.d(_e,{l:()=>j});const j=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Je,_e,D)=>{"use strict";D.d(_e,{s:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(Je,_e,D)=>{"use strict";D.d(_e,{G:()=>j});const j=(0,D(1853).L)(te=>function(){te(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(Je,_e,D)=>{"use strict";D.d(_e,{R0:()=>H,ms:()=>e,lI:()=>S});var l=D(8071);function te(E){return E[E.length-1]}function e(E){return(0,l.T)(te(E))?E.pop():void 0}function S(E){return function j(E){return E&&(0,l.T)(E.schedule)}(te(E))?E.pop():void 0}function H(E,K){return"number"==typeof te(E)?E.pop():K}},3073:(Je,_e,D)=>{"use strict";D.d(_e,{D:()=>S});const{isArray:l}=Array,{getPrototypeOf:j,prototype:te,keys:e}=Object;function S(E){if(1===E.length){const K=E[0];if(l(K))return{args:K,keys:null};if(function H(E){return E&&"object"==typeof E&&j(E)===te}(K)){const ue=e(K);return{args:ue.map(ve=>K[ve]),keys:ue}}}return{args:E,keys:null}}},7908:(Je,_e,D)=>{"use strict";function l(j,te){if(j){const e=j.indexOf(te);0<=e&&j.splice(e,1)}}D.d(_e,{o:()=>l})},1853:(Je,_e,D)=>{"use strict";function l(j){const e=j(S=>{Error.call(S),S.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}D.d(_e,{L:()=>l})},8496:(Je,_e,D)=>{"use strict";function l(j,te){return j.reduce((e,S,H)=>(e[S]=te[H],e),{})}D.d(_e,{e:()=>l})},9786:(Je,_e,D)=>{"use strict";D.d(_e,{Y:()=>te,l:()=>e});var l=D(1026);let j=null;function te(S){if(l.$.useDeprecatedSynchronousErrorHandling){const H=!j;if(H&&(j={errorThrown:!1,error:null}),S(),H){const{errorThrown:E,error:K}=j;if(j=null,E)throw K}}else S()}function e(S){l.$.useDeprecatedSynchronousErrorHandling&&j&&(j.errorThrown=!0,j.error=S)}},5225:(Je,_e,D)=>{"use strict";function l(j,te,e,S=0,H=!1){const E=te.schedule(function(){e(),H?j.add(this.schedule(null,S)):this.unsubscribe()},S);if(j.add(E),!H)return E}D.d(_e,{N:()=>l})},3669:(Je,_e,D)=>{"use strict";function l(j){return j}D.d(_e,{D:()=>l})},7441:(Je,_e,D)=>{"use strict";D.d(_e,{X:()=>l});const l=j=>j&&"number"==typeof j.length&&"function"!=typeof j},7953:(Je,_e,D)=>{"use strict";D.d(_e,{T:()=>j});var l=D(8071);function j(te){return Symbol.asyncIterator&&(0,l.T)(te?.[Symbol.asyncIterator])}},8071:(Je,_e,D)=>{"use strict";function l(j){return"function"==typeof j}D.d(_e,{T:()=>l})},5055:(Je,_e,D)=>{"use strict";D.d(_e,{l:()=>te});var l=D(3494),j=D(8071);function te(e){return(0,j.T)(e[l.s])}},5397:(Je,_e,D)=>{"use strict";D.d(_e,{x:()=>te});var l=D(4761),j=D(8071);function te(e){return(0,j.T)(e?.[l.l])}},9858:(Je,_e,D)=>{"use strict";D.d(_e,{y:()=>j});var l=D(8071);function j(te){return(0,l.T)(te?.then)}},5196:(Je,_e,D)=>{"use strict";D.d(_e,{C:()=>te,U:()=>e});var l=D(1635),j=D(8071);function te(S){return(0,l.AQ)(this,arguments,function*(){const E=S.getReader();try{for(;;){const{value:K,done:ue}=yield(0,l.N3)(E.read());if(ue)return yield(0,l.N3)(void 0);yield yield(0,l.N3)(K)}}finally{E.releaseLock()}})}function e(S){return(0,j.T)(S?.getReader)}},9974:(Je,_e,D)=>{"use strict";D.d(_e,{N:()=>te,S:()=>j});var l=D(8071);function j(e){return(0,l.T)(e?.lift)}function te(e){return S=>{if(j(S))return S.lift(function(H){try{return e(H,this)}catch(E){this.error(E)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Je,_e,D)=>{"use strict";D.d(_e,{I:()=>e});var l=D(6354);const{isArray:j}=Array;function e(S){return(0,l.T)(H=>function te(S,H){return j(H)?S(...H):S(H)}(S,H))}},5343:(Je,_e,D)=>{"use strict";function l(){}D.d(_e,{l:()=>l})},1203:(Je,_e,D)=>{"use strict";D.d(_e,{F:()=>j,m:()=>te});var l=D(3669);function j(...e){return te(e)}function te(e){return 0===e.length?l.D:1===e.length?e[0]:function(H){return e.reduce((E,K)=>K(E),H)}}},5334:(Je,_e,D)=>{"use strict";D.d(_e,{m:()=>te});var l=D(1026),j=D(9270);function te(e){j.f.setTimeout(()=>{const{onUnhandledError:S}=l.$;if(!S)throw e;S(e)})}},591:(Je,_e,D)=>{"use strict";function l(j){return new TypeError(`You provided ${null!==j&&"object"==typeof j?"an invalid object":`'${j}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}D.d(_e,{L:()=>l})},9293:Je=>{function _e(l,j,te,e,S,H,E){try{var K=l[H](E),ue=K.value}catch(ve){return void te(ve)}K.done?j(ue):Promise.resolve(ue).then(e,S)}Je.exports=function D(l){return function(){var j=this,te=arguments;return new Promise(function(e,S){var H=l.apply(j,te);function E(ue){_e(H,e,S,E,K,"next",ue)}function K(ue){_e(H,e,S,E,K,"throw",ue)}E(void 0)})}},Je.exports.__esModule=!0,Je.exports.default=Je.exports},177:(Je,_e,D)=>{"use strict";D.d(_e,{AJ:()=>Sr,EO:()=>Eo,GH:()=>Zo,Jj:()=>Mr,MD:()=>ti,N0:()=>Ti,PV:()=>Co,Pc:()=>ei,QT:()=>te,Sm:()=>ne,Sq:()=>Z,UE:()=>Do,VF:()=>S,Vy:()=>Mi,Xr:()=>ni,YU:()=>Jo,ZD:()=>e,_b:()=>kr,aZ:()=>B,bT:()=>Xe,e1:()=>bn,fG:()=>zt,fw:()=>U,hb:()=>Ee,hj:()=>ue,oe:()=>Xn,qQ:()=>E,ux:()=>Lt,vh:()=>hs});var l=D(4438);let j=null;function te(){return j}function e(_){j??=_}class S{}const E=new l.nKC("");let K=(()=>{class _{historyGo(x){throw new Error("")}static{this.\u0275fac=function(P){return new(P||_)}}static{this.\u0275prov=l.jDH({token:_,factory:()=>(0,l.WQX)(ve),providedIn:"platform"})}}return _})();const ue=new l.nKC("");let ve=(()=>{class _ extends K{constructor(){super(),this._doc=(0,l.WQX)(E),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return te().getBaseHref(this._doc)}onPopState(x){const P=te().getGlobalEventTarget(this._doc,"window");return P.addEventListener("popstate",x,!1),()=>P.removeEventListener("popstate",x)}onHashChange(x){const P=te().getGlobalEventTarget(this._doc,"window");return P.addEventListener("hashchange",x,!1),()=>P.removeEventListener("hashchange",x)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(x){this._location.pathname=x}pushState(x,P,J){this._history.pushState(x,P,J)}replaceState(x,P,J){this._history.replaceState(x,P,J)}forward(){this._history.forward()}back(){this._history.back()}historyGo(x=0){this._history.go(x)}getState(){return this._history.state}static{this.\u0275fac=function(P){return new(P||_)}}static{this.\u0275prov=l.jDH({token:_,factory:()=>new _,providedIn:"platform"})}}return _})();function Q(_,L){if(0==_.length)return L;if(0==L.length)return _;let x=0;return _.endsWith("/")&&x++,L.startsWith("/")&&x++,2==x?_+L.substring(1):1==x?_+L:_+"/"+L}function ye(_){const L=_.match(/#|\?|$/),x=L&&L.index||_.length;return _.slice(0,x-("/"===_[x-1]?1:0))+_.slice(x)}function Fe(_){return _&&"?"!==_[0]?"?"+_:_}let Ee=(()=>{class _{historyGo(x){throw new Error("")}static{this.\u0275fac=function(P){return new(P||_)}}static{this.\u0275prov=l.jDH({token:_,factory:()=>(0,l.WQX)(ne),providedIn:"root"})}}return _})();const Le=new l.nKC("");let ne=(()=>{class _ extends Ee{constructor(x,P){super(),this._platformLocation=x,this._removeListenerFns=[],this._baseHref=P??this._platformLocation.getBaseHrefFromDOM()??(0,l.WQX)(E).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}prepareExternalUrl(x){return Q(this._baseHref,x)}path(x=!1){const P=this._platformLocation.pathname+Fe(this._platformLocation.search),J=this._platformLocation.hash;return J&&x?`${P}${J}`:P}pushState(x,P,J,Oe){const qe=this.prepareExternalUrl(J+Fe(Oe));this._platformLocation.pushState(x,P,qe)}replaceState(x,P,J,Oe){const qe=this.prepareExternalUrl(J+Fe(Oe));this._platformLocation.replaceState(x,P,qe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(x=0){this._platformLocation.historyGo?.(x)}static{this.\u0275fac=function(P){return new(P||_)(l.KVO(K),l.KVO(Le,8))}}static{this.\u0275prov=l.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})(),U=(()=>{class _ extends Ee{constructor(x,P){super(),this._platformLocation=x,this._baseHref="",this._removeListenerFns=[],null!=P&&(this._baseHref=P)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}path(x=!1){const P=this._platformLocation.hash??"#";return P.length>0?P.substring(1):P}prepareExternalUrl(x){const P=Q(this._baseHref,x);return P.length>0?"#"+P:P}pushState(x,P,J,Oe){let qe=this.prepareExternalUrl(J+Fe(Oe));0==qe.length&&(qe=this._platformLocation.pathname),this._platformLocation.pushState(x,P,qe)}replaceState(x,P,J,Oe){let qe=this.prepareExternalUrl(J+Fe(Oe));0==qe.length&&(qe=this._platformLocation.pathname),this._platformLocation.replaceState(x,P,qe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(x=0){this._platformLocation.historyGo?.(x)}static{this.\u0275fac=function(P){return new(P||_)(l.KVO(K),l.KVO(Le,8))}}static{this.\u0275prov=l.jDH({token:_,factory:_.\u0275fac})}}return _})(),B=(()=>{class _{constructor(x){this._subject=new l.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=x;const P=this._locationStrategy.getBaseHref();this._basePath=function pe(_){if(new RegExp("^(https?:)?//").test(_)){const[,x]=_.split(/\/\/[^\/]+/);return x}return _}(ye(fe(P))),this._locationStrategy.onPopState(J=>{this._subject.emit({url:this.path(!0),pop:!0,state:J.state,type:J.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(x=!1){return this.normalize(this._locationStrategy.path(x))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(x,P=""){return this.path()==this.normalize(x+Fe(P))}normalize(x){return _.stripTrailingSlash(function le(_,L){if(!_||!L.startsWith(_))return L;const x=L.substring(_.length);return""===x||["/",";","?","#"].includes(x[0])?x:L}(this._basePath,fe(x)))}prepareExternalUrl(x){return x&&"/"!==x[0]&&(x="/"+x),this._locationStrategy.prepareExternalUrl(x)}go(x,P="",J=null){this._locationStrategy.pushState(J,"",x,P),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+Fe(P)),J)}replaceState(x,P="",J=null){this._locationStrategy.replaceState(J,"",x,P),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+Fe(P)),J)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(x=0){this._locationStrategy.historyGo?.(x)}onUrlChange(x){return this._urlChangeListeners.push(x),this._urlChangeSubscription??=this.subscribe(P=>{this._notifyUrlChangeListeners(P.url,P.state)}),()=>{const P=this._urlChangeListeners.indexOf(x);this._urlChangeListeners.splice(P,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(x="",P){this._urlChangeListeners.forEach(J=>J(x,P))}subscribe(x,P,J){return this._subject.subscribe({next:x,error:P,complete:J})}static{this.normalizeQueryParams=Fe}static{this.joinWithSlash=Q}static{this.stripTrailingSlash=ye}static{this.\u0275fac=function(P){return new(P||_)(l.KVO(Ee))}}static{this.\u0275prov=l.jDH({token:_,factory:()=>function he(){return new B((0,l.KVO)(Ee))}(),providedIn:"root"})}}return _})();function fe(_){return _.replace(/\/index.html$/,"")}const xe={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var nt=function(_){return _[_.Decimal=0]="Decimal",_[_.Percent=1]="Percent",_[_.Currency=2]="Currency",_[_.Scientific=3]="Scientific",_}(nt||{}),$e=function(_){return _[_.Format=0]="Format",_[_.Standalone=1]="Standalone",_}($e||{}),Ye=function(_){return _[_.Narrow=0]="Narrow",_[_.Abbreviated=1]="Abbreviated",_[_.Wide=2]="Wide",_[_.Short=3]="Short",_}(Ye||{}),Ke=function(_){return _[_.Short=0]="Short",_[_.Medium=1]="Medium",_[_.Long=2]="Long",_[_.Full=3]="Full",_}(Ke||{});const st={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Ie(_,L){return Qt((0,l.H5H)(_)[l.KH2.DateFormat],L)}function Me(_,L){return Qt((0,l.H5H)(_)[l.KH2.TimeFormat],L)}function Re(_,L){return Qt((0,l.H5H)(_)[l.KH2.DateTimeFormat],L)}function Ae(_,L){const x=(0,l.H5H)(_),P=x[l.KH2.NumberSymbols][L];if(typeof P>"u"){if(L===st.CurrencyDecimal)return x[l.KH2.NumberSymbols][st.Decimal];if(L===st.CurrencyGroup)return x[l.KH2.NumberSymbols][st.Group]}return P}function pn(_){if(!_[l.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${_[l.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Qt(_,L){for(let x=L;x>-1;x--)if(typeof _[x]<"u")return _[x];throw new Error("Locale data API: locale data undefined")}function Ot(_){const[L,x]=_.split(":");return{hours:+L,minutes:+x}}const Dr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Yr={},no=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Er=function(_){return _[_.Short=0]="Short",_[_.ShortGMT=1]="ShortGMT",_[_.Long=2]="Long",_[_.Extended=3]="Extended",_}(Er||{}),Jt=function(_){return _[_.FullYear=0]="FullYear",_[_.Month=1]="Month",_[_.Date=2]="Date",_[_.Hours=3]="Hours",_[_.Minutes=4]="Minutes",_[_.Seconds=5]="Seconds",_[_.FractionalSeconds=6]="FractionalSeconds",_[_.Day=7]="Day",_}(Jt||{}),Tt=function(_){return _[_.DayPeriods=0]="DayPeriods",_[_.Days=1]="Days",_[_.Months=2]="Months",_[_.Eras=3]="Eras",_}(Tt||{});function or(_,L,x,P){let J=function Rt(_){if(Cn(_))return _;if("number"==typeof _&&!isNaN(_))return new Date(_);if("string"==typeof _){if(_=_.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(_)){const[J,Oe=1,qe=1]=_.split("-").map(dt=>+dt);return Ut(J,Oe-1,qe)}const x=parseFloat(_);if(!isNaN(_-x))return new Date(x);let P;if(P=_.match(Dr))return function Bt(_){const L=new Date(0);let x=0,P=0;const J=_[8]?L.setUTCFullYear:L.setFullYear,Oe=_[8]?L.setUTCHours:L.setHours;_[9]&&(x=Number(_[9]+_[10]),P=Number(_[9]+_[11])),J.call(L,Number(_[1]),Number(_[2])-1,Number(_[3]));const qe=Number(_[4]||0)-x,dt=Number(_[5]||0)-P,dn=Number(_[6]||0),Sn=Math.floor(1e3*parseFloat("0."+(_[7]||0)));return Oe.call(L,qe,dt,dn,Sn),L}(P)}const L=new Date(_);if(!Cn(L))throw new Error(`Unable to convert "${_}" into a date`);return L}(_);L=gn(x,L)||L;let dt,qe=[];for(;L;){if(dt=no.exec(L),!dt){qe.push(L);break}{qe=qe.concat(dt.slice(1));const kn=qe.pop();if(!kn)break;L=kn}}let dn=J.getTimezoneOffset();P&&(dn=me(P,dn),J=function at(_,L,x){const P=x?-1:1,J=_.getTimezoneOffset();return function Ge(_,L){return(_=new Date(_.getTime())).setMinutes(_.getMinutes()+L),_}(_,P*(me(L,J)-J))}(J,P,!0));let Sn="";return qe.forEach(kn=>{const on=function re(_){if(be[_])return be[_];let L;switch(_){case"G":case"GG":case"GGG":L=cn(Tt.Eras,Ye.Abbreviated);break;case"GGGG":L=cn(Tt.Eras,Ye.Wide);break;case"GGGGG":L=cn(Tt.Eras,Ye.Narrow);break;case"y":L=vn(Jt.FullYear,1,0,!1,!0);break;case"yy":L=vn(Jt.FullYear,2,0,!0,!0);break;case"yyy":L=vn(Jt.FullYear,3,0,!1,!0);break;case"yyyy":L=vn(Jt.FullYear,4,0,!1,!0);break;case"Y":L=Ne(1);break;case"YY":L=Ne(2,!0);break;case"YYY":L=Ne(3);break;case"YYYY":L=Ne(4);break;case"M":case"L":L=vn(Jt.Month,1,1);break;case"MM":case"LL":L=vn(Jt.Month,2,1);break;case"MMM":L=cn(Tt.Months,Ye.Abbreviated);break;case"MMMM":L=cn(Tt.Months,Ye.Wide);break;case"MMMMM":L=cn(Tt.Months,Ye.Narrow);break;case"LLL":L=cn(Tt.Months,Ye.Abbreviated,$e.Standalone);break;case"LLLL":L=cn(Tt.Months,Ye.Wide,$e.Standalone);break;case"LLLLL":L=cn(Tt.Months,Ye.Narrow,$e.Standalone);break;case"w":L=qn(1);break;case"ww":L=qn(2);break;case"W":L=qn(1,!0);break;case"d":L=vn(Jt.Date,1);break;case"dd":L=vn(Jt.Date,2);break;case"c":case"cc":L=vn(Jt.Day,1);break;case"ccc":L=cn(Tt.Days,Ye.Abbreviated,$e.Standalone);break;case"cccc":L=cn(Tt.Days,Ye.Wide,$e.Standalone);break;case"ccccc":L=cn(Tt.Days,Ye.Narrow,$e.Standalone);break;case"cccccc":L=cn(Tt.Days,Ye.Short,$e.Standalone);break;case"E":case"EE":case"EEE":L=cn(Tt.Days,Ye.Abbreviated);break;case"EEEE":L=cn(Tt.Days,Ye.Wide);break;case"EEEEE":L=cn(Tt.Days,Ye.Narrow);break;case"EEEEEE":L=cn(Tt.Days,Ye.Short);break;case"a":case"aa":case"aaa":L=cn(Tt.DayPeriods,Ye.Abbreviated);break;case"aaaa":L=cn(Tt.DayPeriods,Ye.Wide);break;case"aaaaa":L=cn(Tt.DayPeriods,Ye.Narrow);break;case"b":case"bb":case"bbb":L=cn(Tt.DayPeriods,Ye.Abbreviated,$e.Standalone,!0);break;case"bbbb":L=cn(Tt.DayPeriods,Ye.Wide,$e.Standalone,!0);break;case"bbbbb":L=cn(Tt.DayPeriods,Ye.Narrow,$e.Standalone,!0);break;case"B":case"BB":case"BBB":L=cn(Tt.DayPeriods,Ye.Abbreviated,$e.Format,!0);break;case"BBBB":L=cn(Tt.DayPeriods,Ye.Wide,$e.Format,!0);break;case"BBBBB":L=cn(Tt.DayPeriods,Ye.Narrow,$e.Format,!0);break;case"h":L=vn(Jt.Hours,1,-12);break;case"hh":L=vn(Jt.Hours,2,-12);break;case"H":L=vn(Jt.Hours,1);break;case"HH":L=vn(Jt.Hours,2);break;case"m":L=vn(Jt.Minutes,1);break;case"mm":L=vn(Jt.Minutes,2);break;case"s":L=vn(Jt.Seconds,1);break;case"ss":L=vn(Jt.Seconds,2);break;case"S":L=vn(Jt.FractionalSeconds,1);break;case"SS":L=vn(Jt.FractionalSeconds,2);break;case"SSS":L=vn(Jt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":L=jt(Er.Short);break;case"ZZZZZ":L=jt(Er.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":L=jt(Er.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":L=jt(Er.Long);break;default:return null}return be[_]=L,L}(kn);Sn+=on?on(J,x,dn):"''"===kn?"'":kn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Sn}function Ut(_,L,x){const P=new Date(0);return P.setFullYear(_,L,x),P.setHours(0,0,0),P}function gn(_,L){const x=function _t(_){return(0,l.H5H)(_)[l.KH2.LocaleId]}(_);if(Yr[x]??={},Yr[x][L])return Yr[x][L];let P="";switch(L){case"shortDate":P=Ie(_,Ke.Short);break;case"mediumDate":P=Ie(_,Ke.Medium);break;case"longDate":P=Ie(_,Ke.Long);break;case"fullDate":P=Ie(_,Ke.Full);break;case"shortTime":P=Me(_,Ke.Short);break;case"mediumTime":P=Me(_,Ke.Medium);break;case"longTime":P=Me(_,Ke.Long);break;case"fullTime":P=Me(_,Ke.Full);break;case"short":const J=gn(_,"shortTime"),Oe=gn(_,"shortDate");P=yo(Re(_,Ke.Short),[J,Oe]);break;case"medium":const qe=gn(_,"mediumTime"),dt=gn(_,"mediumDate");P=yo(Re(_,Ke.Medium),[qe,dt]);break;case"long":const dn=gn(_,"longTime"),Sn=gn(_,"longDate");P=yo(Re(_,Ke.Long),[dn,Sn]);break;case"full":const kn=gn(_,"fullTime"),on=gn(_,"fullDate");P=yo(Re(_,Ke.Full),[kn,on])}return P&&(Yr[x][L]=P),P}function yo(_,L){return L&&(_=_.replace(/\{([^}]+)}/g,function(x,P){return null!=L&&P in L?L[P]:x})),_}function Dn(_,L,x="-",P,J){let Oe="";(_<0||J&&_<=0)&&(J?_=1-_:(_=-_,Oe=x));let qe=String(_);for(;qe.length<L;)qe="0"+qe;return P&&(qe=qe.slice(qe.length-L)),Oe+qe}function vn(_,L,x=0,P=!1,J=!1){return function(Oe,qe){let dt=function rn(_,L){switch(_){case Jt.FullYear:return L.getFullYear();case Jt.Month:return L.getMonth();case Jt.Date:return L.getDate();case Jt.Hours:return L.getHours();case Jt.Minutes:return L.getMinutes();case Jt.Seconds:return L.getSeconds();case Jt.FractionalSeconds:return L.getMilliseconds();case Jt.Day:return L.getDay();default:throw new Error(`Unknown DateType value "${_}".`)}}(_,Oe);if((x>0||dt>-x)&&(dt+=x),_===Jt.Hours)0===dt&&-12===x&&(dt=12);else if(_===Jt.FractionalSeconds)return function An(_,L){return Dn(_,3).substring(0,L)}(dt,L);const dn=Ae(qe,st.MinusSign);return Dn(dt,L,dn,P,J)}}function cn(_,L,x=$e.Format,P=!1){return function(J,Oe){return function $o(_,L,x,P,J,Oe){switch(x){case Tt.Months:return function xn(_,L,x){const P=(0,l.H5H)(_),Oe=Qt([P[l.KH2.MonthsFormat],P[l.KH2.MonthsStandalone]],L);return Qt(Oe,x)}(L,J,P)[_.getMonth()];case Tt.Days:return function Rn(_,L,x){const P=(0,l.H5H)(_),Oe=Qt([P[l.KH2.DaysFormat],P[l.KH2.DaysStandalone]],L);return Qt(Oe,x)}(L,J,P)[_.getDay()];case Tt.DayPeriods:const qe=_.getHours(),dt=_.getMinutes();if(Oe){const Sn=function Mt(_){const L=(0,l.H5H)(_);return pn(L),(L[l.KH2.ExtraData][2]||[]).map(P=>"string"==typeof P?Ot(P):[Ot(P[0]),Ot(P[1])])}(L),kn=function Mn(_,L,x){const P=(0,l.H5H)(_);pn(P);const Oe=Qt([P[l.KH2.ExtraData][0],P[l.KH2.ExtraData][1]],L)||[];return Qt(Oe,x)||[]}(L,J,P),on=Sn.findIndex(Pn=>{if(Array.isArray(Pn)){const[gt,We]=Pn,vt=qe>=gt.hours&&dt>=gt.minutes,mn=qe<We.hours||qe===We.hours&&dt<We.minutes;if(gt.hours<We.hours){if(vt&&mn)return!0}else if(vt||mn)return!0}else if(Pn.hours===qe&&Pn.minutes===dt)return!0;return!1});if(-1!==on)return kn[on]}return function St(_,L,x){const P=(0,l.H5H)(_),Oe=Qt([P[l.KH2.DayPeriodsFormat],P[l.KH2.DayPeriodsStandalone]],L);return Qt(Oe,x)}(L,J,P)[qe<12?0:1];case Tt.Eras:return function Yn(_,L){return Qt((0,l.H5H)(_)[l.KH2.Eras],L)}(L,P)[_.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${x}`)}}(J,Oe,_,L,x,P)}}function jt(_){return function(L,x,P){const J=-1*P,Oe=Ae(x,st.MinusSign),qe=J>0?Math.floor(J/60):Math.ceil(J/60);switch(_){case Er.Short:return(J>=0?"+":"")+Dn(qe,2,Oe)+Dn(Math.abs(J%60),2,Oe);case Er.ShortGMT:return"GMT"+(J>=0?"+":"")+Dn(qe,1,Oe);case Er.Long:return"GMT"+(J>=0?"+":"")+Dn(qe,2,Oe)+":"+Dn(Math.abs(J%60),2,Oe);case Er.Extended:return 0===P?"Z":(J>=0?"+":"")+Dn(qe,2,Oe)+":"+Dn(Math.abs(J%60),2,Oe);default:throw new Error(`Unknown zone width "${_}"`)}}}const hr=0,ln=4;function Fr(_){const L=_.getDay(),x=0===L?-3:ln-L;return Ut(_.getFullYear(),_.getMonth(),_.getDate()+x)}function qn(_,L=!1){return function(x,P){let J;if(L){const Oe=new Date(x.getFullYear(),x.getMonth(),1).getDay()-1,qe=x.getDate();J=1+Math.floor((qe+Oe)/7)}else{const Oe=Fr(x),qe=function Tn(_){const L=Ut(_,hr,1).getDay();return Ut(_,0,1+(L<=ln?ln:ln+7)-L)}(Oe.getFullYear()),dt=Oe.getTime()-qe.getTime();J=1+Math.round(dt/6048e5)}return Dn(J,_,Ae(P,st.MinusSign))}}function Ne(_,L=!1){return function(x,P){return Dn(Fr(x).getFullYear(),_,Ae(P,st.MinusSign),L)}}const be={};function me(_,L){_=_.replace(/:/g,"");const x=Date.parse("Jan 01, 1970 00:00:00 "+_)/6e4;return isNaN(x)?L:x}function Cn(_){return _ instanceof Date&&!isNaN(_.valueOf())}const ir=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Ir=22,Cr=".",So="0",Xr=";",Kr=",",ki="#";function Qo(_,L,x,P,J){const qe=function Or(_,L="-"){const x={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},P=_.split(Xr),J=P[0],Oe=P[1],qe=-1!==J.indexOf(Cr)?J.split(Cr):[J.substring(0,J.lastIndexOf(So)+1),J.substring(J.lastIndexOf(So)+1)],dt=qe[0],dn=qe[1]||"";x.posPre=dt.substring(0,dt.indexOf(ki));for(let kn=0;kn<dn.length;kn++){const on=dn.charAt(kn);on===So?x.minFrac=x.maxFrac=kn+1:on===ki?x.maxFrac=kn+1:x.posSuf+=on}const Sn=dt.split(Kr);if(x.gSize=Sn[1]?Sn[1].length:0,x.lgSize=Sn[2]||Sn[1]?(Sn[2]||Sn[1]).length:0,Oe){const kn=J.length-x.posPre.length-x.posSuf.length,on=Oe.indexOf(ki);x.negPre=Oe.substring(0,on).replace(/'/g,""),x.negSuf=Oe.slice(on+kn).replace(/'/g,"")}else x.negPre=L+x.posPre,x.negSuf=x.posSuf;return x}(function Qe(_,L){return(0,l.H5H)(_)[l.KH2.NumberFormats][L]}(L,nt.Currency),Ae(L,st.MinusSign));return qe.minFrac=function pr(_){let L;const x=xe[_];return x&&(L=x[2]),"number"==typeof L?L:2}(P),qe.maxFrac=qe.minFrac,function bo(_,L,x,P,J,Oe,qe=!1){let dt="",dn=!1;if(isFinite(_)){let Sn=function Qr(_){let P,J,Oe,qe,dt,L=Math.abs(_)+"",x=0;for((J=L.indexOf(Cr))>-1&&(L=L.replace(Cr,"")),(Oe=L.search(/e/i))>0?(J<0&&(J=Oe),J+=+L.slice(Oe+1),L=L.substring(0,Oe)):J<0&&(J=L.length),Oe=0;L.charAt(Oe)===So;Oe++);if(Oe===(dt=L.length))P=[0],J=1;else{for(dt--;L.charAt(dt)===So;)dt--;for(J-=Oe,P=[],qe=0;Oe<=dt;Oe++,qe++)P[qe]=Number(L.charAt(Oe))}return J>Ir&&(P=P.splice(0,Ir-1),x=J-1,J=1),{digits:P,exponent:x,integerLen:J}}(_);qe&&(Sn=function Zt(_){if(0===_.digits[0])return _;const L=_.digits.length-_.integerLen;return _.exponent?_.exponent+=2:(0===L?_.digits.push(0,0):1===L&&_.digits.push(0),_.integerLen+=2),_}(Sn));let kn=L.minInt,on=L.minFrac,Pn=L.maxFrac;if(Oe){const On=Oe.match(ir);if(null===On)throw new Error(`${Oe} is not a valid digit info`);const dr=On[1],ur=On[3],_n=On[5];null!=dr&&(kn=nr(dr)),null!=ur&&(on=nr(ur)),null!=_n?Pn=nr(_n):null!=ur&&on>Pn&&(Pn=on)}!function zn(_,L,x){if(L>x)throw new Error(`The minimum number of digits after fraction (${L}) is higher than the maximum (${x}).`);let P=_.digits,J=P.length-_.integerLen;const Oe=Math.min(Math.max(L,J),x);let qe=Oe+_.integerLen,dt=P[qe];if(qe>0){P.splice(Math.max(_.integerLen,qe));for(let on=qe;on<P.length;on++)P[on]=0}else{J=Math.max(0,J),_.integerLen=1,P.length=Math.max(1,qe=Oe+1),P[0]=0;for(let on=1;on<qe;on++)P[on]=0}if(dt>=5)if(qe-1<0){for(let on=0;on>qe;on--)P.unshift(0),_.integerLen++;P.unshift(1),_.integerLen++}else P[qe-1]++;for(;J<Math.max(0,Oe);J++)P.push(0);let dn=0!==Oe;const Sn=L+_.integerLen,kn=P.reduceRight(function(on,Pn,gt,We){return We[gt]=(Pn+=on)<10?Pn:Pn-10,dn&&(0===We[gt]&&gt>=Sn?We.pop():dn=!1),Pn>=10?1:0},0);kn&&(P.unshift(kn),_.integerLen++)}(Sn,on,Pn);let gt=Sn.digits,We=Sn.integerLen;const vt=Sn.exponent;let mn=[];for(dn=gt.every(On=>!On);We<kn;We++)gt.unshift(0);for(;We<0;We++)gt.unshift(0);We>0?mn=gt.splice(We,gt.length):(mn=gt,gt=[0]);const yr=[];for(gt.length>=L.lgSize&&yr.unshift(gt.splice(-L.lgSize,gt.length).join(""));gt.length>L.gSize;)yr.unshift(gt.splice(-L.gSize,gt.length).join(""));gt.length&&yr.unshift(gt.join("")),dt=yr.join(Ae(x,P)),mn.length&&(dt+=Ae(x,J)+mn.join("")),vt&&(dt+=Ae(x,st.Exponential)+"+"+vt)}else dt=Ae(x,st.Infinity);return dt=_<0&&!dn?L.negPre+dt+L.negSuf:L.posPre+dt+L.posSuf,dt}(_,qe,L,st.CurrencyGroup,st.CurrencyDecimal,J).replace("\xa4",x).replace("\xa4","").trim()}function nr(_){const L=parseInt(_);if(isNaN(L))throw new Error("Invalid integer literal when parsing "+_);return L}function Eo(_,L,x){return(0,l.XSP)(_,L,x)}function kr(_,L){L=encodeURIComponent(L);for(const x of _.split(";")){const P=x.indexOf("="),[J,Oe]=-1==P?[x,""]:[x.slice(0,P),x.slice(P+1)];if(J.trim()===L)return decodeURIComponent(Oe)}return null}const ro=/\s+/,oo=[];let Jo=(()=>{class _{constructor(x,P){this._ngEl=x,this._renderer=P,this.initialClasses=oo,this.stateMap=new Map}set klass(x){this.initialClasses=null!=x?x.trim().split(ro):oo}set ngClass(x){this.rawClass="string"==typeof x?x.trim().split(ro):x}ngDoCheck(){for(const P of this.initialClasses)this._updateState(P,!0);const x=this.rawClass;if(Array.isArray(x)||x instanceof Set)for(const P of x)this._updateState(P,!0);else if(null!=x)for(const P of Object.keys(x))this._updateState(P,!!x[P]);this._applyStateDiff()}_updateState(x,P){const J=this.stateMap.get(x);void 0!==J?(J.enabled!==P&&(J.changed=!0,J.enabled=P),J.touched=!0):this.stateMap.set(x,{enabled:P,changed:!0,touched:!0})}_applyStateDiff(){for(const x of this.stateMap){const P=x[0],J=x[1];J.changed?(this._toggleClass(P,J.enabled),J.changed=!1):J.touched||(J.enabled&&this._toggleClass(P,!1),this.stateMap.delete(P)),J.touched=!1}}_toggleClass(x,P){(x=x.trim()).length>0&&x.split(ro).forEach(J=>{P?this._renderer.addClass(this._ngEl.nativeElement,J):this._renderer.removeClass(this._ngEl.nativeElement,J)})}static{this.\u0275fac=function(P){return new(P||_)(l.rXU(l.aKT),l.rXU(l.sFG))}}static{this.\u0275dir=l.FsC({type:_,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return _})();class ae{constructor(L,x,P,J){this.$implicit=L,this.ngForOf=x,this.index=P,this.count=J}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Z=(()=>{class _{set ngForOf(x){this._ngForOf=x,this._ngForOfDirty=!0}set ngForTrackBy(x){this._trackByFn=x}get ngForTrackBy(){return this._trackByFn}constructor(x,P,J){this._viewContainer=x,this._template=P,this._differs=J,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(x){x&&(this._template=x)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const x=this._ngForOf;!this._differ&&x&&(this._differ=this._differs.find(x).create(this.ngForTrackBy))}if(this._differ){const x=this._differ.diff(this._ngForOf);x&&this._applyChanges(x)}}_applyChanges(x){const P=this._viewContainer;x.forEachOperation((J,Oe,qe)=>{if(null==J.previousIndex)P.createEmbeddedView(this._template,new ae(J.item,this._ngForOf,-1,-1),null===qe?void 0:qe);else if(null==qe)P.remove(null===Oe?void 0:Oe);else if(null!==Oe){const dt=P.get(Oe);P.move(dt,qe),Se(dt,J)}});for(let J=0,Oe=P.length;J<Oe;J++){const dt=P.get(J).context;dt.index=J,dt.count=Oe,dt.ngForOf=this._ngForOf}x.forEachIdentityChange(J=>{Se(P.get(J.currentIndex),J)})}static ngTemplateContextGuard(x,P){return!0}static{this.\u0275fac=function(P){return new(P||_)(l.rXU(l.c1b),l.rXU(l.C4Q),l.rXU(l._q3))}}static{this.\u0275dir=l.FsC({type:_,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return _})();function Se(_,L){_.context.$implicit=L.item}let Xe=(()=>{class _{constructor(x,P){this._viewContainer=x,this._context=new et,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=P}set ngIf(x){this._context.$implicit=this._context.ngIf=x,this._updateView()}set ngIfThen(x){Dt("ngIfThen",x),this._thenTemplateRef=x,this._thenViewRef=null,this._updateView()}set ngIfElse(x){Dt("ngIfElse",x),this._elseTemplateRef=x,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(x,P){return!0}static{this.\u0275fac=function(P){return new(P||_)(l.rXU(l.c1b),l.rXU(l.C4Q))}}static{this.\u0275dir=l.FsC({type:_,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return _})();class et{constructor(){this.$implicit=null,this.ngIf=null}}function Dt(_,L){if(L&&!L.createEmbeddedView)throw new Error(`${_} must be a TemplateRef, but received '${(0,l.Tbb)(L)}'.`)}class ht{constructor(L,x){this._viewContainerRef=L,this._templateRef=x,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(L){L&&!this._created?this.create():!L&&this._created&&this.destroy()}}let Lt=(()=>{class _{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(x){this._ngSwitch=x,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(x){this._defaultViews.push(x)}_matchCase(x){const P=x===this._ngSwitch;return this._lastCasesMatched||=P,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),P}_updateDefaultCases(x){if(this._defaultViews.length>0&&x!==this._defaultUsed){this._defaultUsed=x;for(const P of this._defaultViews)P.enforceState(x)}}static{this.\u0275fac=function(P){return new(P||_)}}static{this.\u0275dir=l.FsC({type:_,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return _})(),bn=(()=>{class _{constructor(x,P,J){this.ngSwitch=J,J._addCase(),this._view=new ht(x,P)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(P){return new(P||_)(l.rXU(l.c1b),l.rXU(l.C4Q),l.rXU(Lt,9))}}static{this.\u0275dir=l.FsC({type:_,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return _})(),zt=(()=>{class _{constructor(x,P,J){J._addDefault(new ht(x,P))}static{this.\u0275fac=function(P){return new(P||_)(l.rXU(l.c1b),l.rXU(l.C4Q),l.rXU(Lt,9))}}static{this.\u0275dir=l.FsC({type:_,selectors:[["","ngSwitchDefault",""]],standalone:!0})}}return _})();function ct(_,L){return new l.wOt(2100,!1)}class mr{createSubscription(L,x){return(0,l.O8t)(()=>L.subscribe({next:x,error:P=>{throw P}}))}dispose(L){(0,l.O8t)(()=>L.unsubscribe())}}class Zr{createSubscription(L,x){return L.then(x,P=>{throw P})}dispose(L){}}const Lr=new Zr,io=new mr;let Mr=(()=>{class _{constructor(x){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=x}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(x){if(!this._obj){if(x)try{this.markForCheckOnValueUpdate=!1,this._subscribe(x)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return x!==this._obj?(this._dispose(),this.transform(x)):this._latestValue}_subscribe(x){this._obj=x,this._strategy=this._selectStrategy(x),this._subscription=this._strategy.createSubscription(x,P=>this._updateLatestValue(x,P))}_selectStrategy(x){if((0,l.jNT)(x))return Lr;if((0,l.zjR)(x))return io;throw ct()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(x,P){x===this._obj&&(this._latestValue=P,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(P){return new(P||_)(l.rXU(l.gRc,16))}}static{this.\u0275pipe=l.EJ8({name:"async",type:_,pure:!1,standalone:!0})}}return _})(),Zo=(()=>{class _{transform(x){if(null==x)return null;if("string"!=typeof x)throw ct();return x.toLowerCase()}static{this.\u0275fac=function(P){return new(P||_)}}static{this.\u0275pipe=l.EJ8({name:"lowercase",type:_,pure:!0,standalone:!0})}}return _})();const $t=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Co=(()=>{class _{transform(x){if(null==x)return null;if("string"!=typeof x)throw ct();return x.replace($t,P=>P[0].toUpperCase()+P.slice(1).toLowerCase())}static{this.\u0275fac=function(P){return new(P||_)}}static{this.\u0275pipe=l.EJ8({name:"titlecase",type:_,pure:!0,standalone:!0})}}return _})(),ei=(()=>{class _{transform(x){if(null==x)return null;if("string"!=typeof x)throw ct();return x.toUpperCase()}static{this.\u0275fac=function(P){return new(P||_)}}static{this.\u0275pipe=l.EJ8({name:"uppercase",type:_,pure:!0,standalone:!0})}}return _})();const fi=new l.nKC(""),Ro=new l.nKC("");let hs=(()=>{class _{constructor(x,P,J){this.locale=x,this.defaultTimezone=P,this.defaultOptions=J}transform(x,P,J,Oe){if(null==x||""===x||x!=x)return null;try{return or(x,P??this.defaultOptions?.dateFormat??"mediumDate",Oe||this.locale,J??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(qe){throw ct()}}static{this.\u0275fac=function(P){return new(P||_)(l.rXU(l.xe9,16),l.rXU(fi,24),l.rXU(Ro,24))}}static{this.\u0275pipe=l.EJ8({name:"date",type:_,pure:!0,standalone:!0})}}return _})(),Xn=(()=>{class _{constructor(x,P="USD"){this._locale=x,this._defaultCurrencyCode=P}transform(x,P=this._defaultCurrencyCode,J="symbol",Oe,qe){if(!function sr(_){return!(null==_||""===_||_!=_)}(x))return null;qe||=this._locale,"boolean"==typeof J&&(J=J?"symbol":"code");let dt=P||this._defaultCurrencyCode;"code"!==J&&(dt="symbol"===J||"symbol-narrow"===J?function $n(_,L,x="en"){const P=function hn(_){return(0,l.H5H)(_)[l.KH2.Currencies]}(x)[_]||xe[_]||[],J=P[1];return"narrow"===L&&"string"==typeof J?J:P[0]||_}(dt,"symbol"===J?"wide":"narrow",qe):J);try{return Qo(function In(_){if("string"==typeof _&&!isNaN(Number(_)-parseFloat(_)))return Number(_);if("number"!=typeof _)throw new Error(`${_} is not a number`);return _}(x),qe,dt,P,Oe)}catch(dn){throw ct()}}static{this.\u0275fac=function(P){return new(P||_)(l.rXU(l.xe9,16),l.rXU(l.Ocv,16))}}static{this.\u0275pipe=l.EJ8({name:"currency",type:_,pure:!0,standalone:!0})}}return _})();let ti=(()=>{class _{static{this.\u0275fac=function(P){return new(P||_)}}static{this.\u0275mod=l.$C({type:_})}static{this.\u0275inj=l.G2t({})}}return _})();const Sr="browser",ho="server";function Do(_){return _===Sr}function Mi(_){return _===ho}let ni=(()=>{class _{static{this.\u0275prov=(0,l.jDH)({token:_,providedIn:"root",factory:()=>Do((0,l.WQX)(l.Agw))?new Ao((0,l.WQX)(E),window):new Fo})}}return _})();class Ao{constructor(L,x){this.document=L,this.window=x,this.offset=()=>[0,0]}setOffset(L){this.offset=Array.isArray(L)?()=>L:L}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(L){this.window.scrollTo(L[0],L[1])}scrollToAnchor(L){const x=function ri(_,L){const x=_.getElementById(L)||_.getElementsByName(L)[0];if(x)return x;if("function"==typeof _.createTreeWalker&&_.body&&"function"==typeof _.body.attachShadow){const P=_.createTreeWalker(_.body,NodeFilter.SHOW_ELEMENT);let J=P.currentNode;for(;J;){const Oe=J.shadowRoot;if(Oe){const qe=Oe.getElementById(L)||Oe.querySelector(`[name="${L}"]`);if(qe)return qe}J=P.nextNode()}}return null}(this.document,L);x&&(this.scrollToElement(x),x.focus())}setHistoryScrollRestoration(L){this.window.history.scrollRestoration=L}scrollToElement(L){const x=L.getBoundingClientRect(),P=x.left+this.window.pageXOffset,J=x.top+this.window.pageYOffset,Oe=this.offset();this.window.scrollTo(P-Oe[0],J-Oe[1])}}class Fo{setOffset(L){}getScrollPosition(){return[0,0]}scrollToPosition(L){}scrollToAnchor(L){}setHistoryScrollRestoration(L){}}class Ti{}},1626:(Je,_e,D)=>{"use strict";D.d(_e,{$R:()=>at,Lr:()=>Ee,Qq:()=>Re,hv:()=>_t,yz:()=>Yn});var l=D(467),j=D(4438),te=D(7673),e=D(1985),S=D(6648),H=D(274),E=D(5964),K=D(6354),ue=D(980),ve=D(5558),Q=D(177);class ye{}class Fe{}class Ee{constructor(ae){this.normalizedNames=new Map,this.lazyUpdate=null,ae?"string"==typeof ae?this.lazyInit=()=>{this.headers=new Map,ae.split("\n").forEach(Z=>{const Se=Z.indexOf(":");if(Se>0){const ze=Z.slice(0,Se),Xe=ze.toLowerCase(),et=Z.slice(Se+1).trim();this.maybeSetNormalizedName(ze,Xe),this.headers.has(Xe)?this.headers.get(Xe).push(et):this.headers.set(Xe,[et])}})}:typeof Headers<"u"&&ae instanceof Headers?(this.headers=new Map,ae.forEach((Z,Se)=>{this.setHeaderEntries(Se,Z)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(ae).forEach(([Z,Se])=>{this.setHeaderEntries(Z,Se)})}:this.headers=new Map}has(ae){return this.init(),this.headers.has(ae.toLowerCase())}get(ae){this.init();const Z=this.headers.get(ae.toLowerCase());return Z&&Z.length>0?Z[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ae){return this.init(),this.headers.get(ae.toLowerCase())||null}append(ae,Z){return this.clone({name:ae,value:Z,op:"a"})}set(ae,Z){return this.clone({name:ae,value:Z,op:"s"})}delete(ae,Z){return this.clone({name:ae,value:Z,op:"d"})}maybeSetNormalizedName(ae,Z){this.normalizedNames.has(Z)||this.normalizedNames.set(Z,ae)}init(){this.lazyInit&&(this.lazyInit instanceof Ee?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ae=>this.applyUpdate(ae)),this.lazyUpdate=null))}copyFrom(ae){ae.init(),Array.from(ae.headers.keys()).forEach(Z=>{this.headers.set(Z,ae.headers.get(Z)),this.normalizedNames.set(Z,ae.normalizedNames.get(Z))})}clone(ae){const Z=new Ee;return Z.lazyInit=this.lazyInit&&this.lazyInit instanceof Ee?this.lazyInit:this,Z.lazyUpdate=(this.lazyUpdate||[]).concat([ae]),Z}applyUpdate(ae){const Z=ae.name.toLowerCase();switch(ae.op){case"a":case"s":let Se=ae.value;if("string"==typeof Se&&(Se=[Se]),0===Se.length)return;this.maybeSetNormalizedName(ae.name,Z);const ze=("a"===ae.op?this.headers.get(Z):void 0)||[];ze.push(...Se),this.headers.set(Z,ze);break;case"d":const Xe=ae.value;if(Xe){let et=this.headers.get(Z);if(!et)return;et=et.filter(Dt=>-1===Xe.indexOf(Dt)),0===et.length?(this.headers.delete(Z),this.normalizedNames.delete(Z)):this.headers.set(Z,et)}else this.headers.delete(Z),this.normalizedNames.delete(Z)}}setHeaderEntries(ae,Z){const Se=(Array.isArray(Z)?Z:[Z]).map(Xe=>Xe.toString()),ze=ae.toLowerCase();this.headers.set(ze,Se),this.maybeSetNormalizedName(ae,ze)}forEach(ae){this.init(),Array.from(this.normalizedNames.keys()).forEach(Z=>ae(this.normalizedNames.get(Z),this.headers.get(Z)))}}class ne{encodeKey(ae){return le(ae)}encodeValue(ae){return le(ae)}decodeKey(ae){return decodeURIComponent(ae)}decodeValue(ae){return decodeURIComponent(ae)}}const B=/%(\d[a-f0-9])/gi,he={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function le(Y){return encodeURIComponent(Y).replace(B,(ae,Z)=>he[Z]??ae)}function fe(Y){return`${Y}`}class pe{constructor(ae={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ae.encoder||new ne,ae.fromString){if(ae.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function U(Y,ae){const Z=new Map;return Y.length>0&&Y.replace(/^\?/,"").split("&").forEach(ze=>{const Xe=ze.indexOf("="),[et,Dt]=-1==Xe?[ae.decodeKey(ze),""]:[ae.decodeKey(ze.slice(0,Xe)),ae.decodeValue(ze.slice(Xe+1))],ht=Z.get(et)||[];ht.push(Dt),Z.set(et,ht)}),Z}(ae.fromString,this.encoder)}else ae.fromObject?(this.map=new Map,Object.keys(ae.fromObject).forEach(Z=>{const Se=ae.fromObject[Z],ze=Array.isArray(Se)?Se.map(fe):[fe(Se)];this.map.set(Z,ze)})):this.map=null}has(ae){return this.init(),this.map.has(ae)}get(ae){this.init();const Z=this.map.get(ae);return Z?Z[0]:null}getAll(ae){return this.init(),this.map.get(ae)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ae,Z){return this.clone({param:ae,value:Z,op:"a"})}appendAll(ae){const Z=[];return Object.keys(ae).forEach(Se=>{const ze=ae[Se];Array.isArray(ze)?ze.forEach(Xe=>{Z.push({param:Se,value:Xe,op:"a"})}):Z.push({param:Se,value:ze,op:"a"})}),this.clone(Z)}set(ae,Z){return this.clone({param:ae,value:Z,op:"s"})}delete(ae,Z){return this.clone({param:ae,value:Z,op:"d"})}toString(){return this.init(),this.keys().map(ae=>{const Z=this.encoder.encodeKey(ae);return this.map.get(ae).map(Se=>Z+"="+this.encoder.encodeValue(Se)).join("&")}).filter(ae=>""!==ae).join("&")}clone(ae){const Z=new pe({encoder:this.encoder});return Z.cloneFrom=this.cloneFrom||this,Z.updates=(this.updates||[]).concat(ae),Z}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ae=>this.map.set(ae,this.cloneFrom.map.get(ae))),this.updates.forEach(ae=>{switch(ae.op){case"a":case"s":const Z=("a"===ae.op?this.map.get(ae.param):void 0)||[];Z.push(fe(ae.value)),this.map.set(ae.param,Z);break;case"d":if(void 0===ae.value){this.map.delete(ae.param);break}{let Se=this.map.get(ae.param)||[];const ze=Se.indexOf(fe(ae.value));-1!==ze&&Se.splice(ze,1),Se.length>0?this.map.set(ae.param,Se):this.map.delete(ae.param)}}}),this.cloneFrom=this.updates=null)}}class nt{constructor(){this.map=new Map}set(ae,Z){return this.map.set(ae,Z),this}get(ae){return this.map.has(ae)||this.map.set(ae,ae.defaultValue()),this.map.get(ae)}delete(ae){return this.map.delete(ae),this}has(ae){return this.map.has(ae)}keys(){return this.map.keys()}}function $e(Y){return typeof ArrayBuffer<"u"&&Y instanceof ArrayBuffer}function Ye(Y){return typeof Blob<"u"&&Y instanceof Blob}function Ke(Y){return typeof FormData<"u"&&Y instanceof FormData}class kt{constructor(ae,Z,Se,ze){let Xe;if(this.url=Z,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ae.toUpperCase(),function Te(Y){switch(Y){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ze?(this.body=void 0!==Se?Se:null,Xe=ze):Xe=Se,Xe&&(this.reportProgress=!!Xe.reportProgress,this.withCredentials=!!Xe.withCredentials,Xe.responseType&&(this.responseType=Xe.responseType),Xe.headers&&(this.headers=Xe.headers),Xe.context&&(this.context=Xe.context),Xe.params&&(this.params=Xe.params),this.transferCache=Xe.transferCache),this.headers??=new Ee,this.context??=new nt,this.params){const et=this.params.toString();if(0===et.length)this.urlWithParams=Z;else{const Dt=Z.indexOf("?");this.urlWithParams=Z+(-1===Dt?"?":Dt<Z.length-1?"&":"")+et}}else this.params=new pe,this.urlWithParams=Z}serializeBody(){return null===this.body?null:"string"==typeof this.body||$e(this.body)||Ye(this.body)||Ke(this.body)||function st(Y){return typeof URLSearchParams<"u"&&Y instanceof URLSearchParams}(this.body)?this.body:this.body instanceof pe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ke(this.body)?null:Ye(this.body)?this.body.type||null:$e(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof pe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ae={}){const Z=ae.method||this.method,Se=ae.url||this.url,ze=ae.responseType||this.responseType,Xe=ae.transferCache??this.transferCache,et=void 0!==ae.body?ae.body:this.body,Dt=ae.withCredentials??this.withCredentials,ht=ae.reportProgress??this.reportProgress;let Lt=ae.headers||this.headers,bn=ae.params||this.params;const zt=ae.context??this.context;return void 0!==ae.setHeaders&&(Lt=Object.keys(ae.setHeaders).reduce((wn,Fn)=>wn.set(Fn,ae.setHeaders[Fn]),Lt)),ae.setParams&&(bn=Object.keys(ae.setParams).reduce((wn,Fn)=>wn.set(Fn,ae.setParams[Fn]),bn)),new kt(Z,Se,et,{params:bn,headers:Lt,context:zt,reportProgress:ht,responseType:ze,withCredentials:Dt,transferCache:Xe})}}var _t=function(Y){return Y[Y.Sent=0]="Sent",Y[Y.UploadProgress=1]="UploadProgress",Y[Y.ResponseHeader=2]="ResponseHeader",Y[Y.DownloadProgress=3]="DownloadProgress",Y[Y.Response=4]="Response",Y[Y.User=5]="User",Y}(_t||{});class St{constructor(ae,Z=200,Se="OK"){this.headers=ae.headers||new Ee,this.status=void 0!==ae.status?ae.status:Z,this.statusText=ae.statusText||Se,this.url=ae.url||null,this.ok=this.status>=200&&this.status<300}}class Rn extends St{constructor(ae={}){super(ae),this.type=_t.ResponseHeader}clone(ae={}){return new Rn({headers:ae.headers||this.headers,status:void 0!==ae.status?ae.status:this.status,statusText:ae.statusText||this.statusText,url:ae.url||this.url||void 0})}}class xn extends St{constructor(ae={}){super(ae),this.type=_t.Response,this.body=void 0!==ae.body?ae.body:null}clone(ae={}){return new xn({body:void 0!==ae.body?ae.body:this.body,headers:ae.headers||this.headers,status:void 0!==ae.status?ae.status:this.status,statusText:ae.statusText||this.statusText,url:ae.url||this.url||void 0})}}class Yn extends St{constructor(ae){super(ae,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ae.url||"(unknown url)"}`:`Http failure response for ${ae.url||"(unknown url)"}: ${ae.status} ${ae.statusText}`,this.error=ae.error||null}}function Me(Y,ae){return{body:ae,headers:Y.headers,context:Y.context,observe:Y.observe,params:Y.params,reportProgress:Y.reportProgress,responseType:Y.responseType,withCredentials:Y.withCredentials,transferCache:Y.transferCache}}let Re=(()=>{class Y{constructor(Z){this.handler=Z}request(Z,Se,ze={}){let Xe;if(Z instanceof kt)Xe=Z;else{let ht,Lt;ht=ze.headers instanceof Ee?ze.headers:new Ee(ze.headers),ze.params&&(Lt=ze.params instanceof pe?ze.params:new pe({fromObject:ze.params})),Xe=new kt(Z,Se,void 0!==ze.body?ze.body:null,{headers:ht,context:ze.context,params:Lt,reportProgress:ze.reportProgress,responseType:ze.responseType||"json",withCredentials:ze.withCredentials,transferCache:ze.transferCache})}const et=(0,te.of)(Xe).pipe((0,H.H)(ht=>this.handler.handle(ht)));if(Z instanceof kt||"events"===ze.observe)return et;const Dt=et.pipe((0,E.p)(ht=>ht instanceof xn));switch(ze.observe||"body"){case"body":switch(Xe.responseType){case"arraybuffer":return Dt.pipe((0,K.T)(ht=>{if(null!==ht.body&&!(ht.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ht.body}));case"blob":return Dt.pipe((0,K.T)(ht=>{if(null!==ht.body&&!(ht.body instanceof Blob))throw new Error("Response is not a Blob.");return ht.body}));case"text":return Dt.pipe((0,K.T)(ht=>{if(null!==ht.body&&"string"!=typeof ht.body)throw new Error("Response is not a string.");return ht.body}));default:return Dt.pipe((0,K.T)(ht=>ht.body))}case"response":return Dt;default:throw new Error(`Unreachable: unhandled observe type ${ze.observe}}`)}}delete(Z,Se={}){return this.request("DELETE",Z,Se)}get(Z,Se={}){return this.request("GET",Z,Se)}head(Z,Se={}){return this.request("HEAD",Z,Se)}jsonp(Z,Se){return this.request("JSONP",Z,{params:(new pe).append(Se,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Z,Se={}){return this.request("OPTIONS",Z,Se)}patch(Z,Se,ze={}){return this.request("PATCH",Z,Me(ze,Se))}post(Z,Se,ze={}){return this.request("POST",Z,Me(ze,Se))}put(Z,Se,ze={}){return this.request("PUT",Z,Me(ze,Se))}static{this.\u0275fac=function(Se){return new(Se||Y)(j.KVO(ye))}}static{this.\u0275prov=j.jDH({token:Y,factory:Y.\u0275fac})}}return Y})();const Ae=/^\)\]\}',?\n/;function je(Y){if(Y.url)return Y.url;const ae="X-Request-URL".toLocaleLowerCase();return Y.headers.get(ae)}let ut=(()=>{class Y{constructor(){this.fetchImpl=(0,j.WQX)(nn,{optional:!0})?.fetch??((...Z)=>globalThis.fetch(...Z)),this.ngZone=(0,j.WQX)(j.SKi)}handle(Z){return new e.c(Se=>{const ze=new AbortController;return this.doRequest(Z,ze.signal,Se).then(hn,Xe=>Se.error(new Yn({error:Xe}))),()=>ze.abort()})}doRequest(Z,Se,ze){var Xe=this;return(0,l.A)(function*(){const et=Xe.createRequestInit(Z);let Dt;try{const Un=Xe.ngZone.runOutsideAngular(()=>Xe.fetchImpl(Z.urlWithParams,{signal:Se,...et}));(function xt(Y){Y.then(hn,hn)})(Un),ze.next({type:_t.Sent}),Dt=yield Un}catch(Un){return void ze.error(new Yn({error:Un,status:Un.status??0,statusText:Un.statusText,url:Z.urlWithParams,headers:Un.headers}))}const ht=new Ee(Dt.headers),Lt=Dt.statusText,bn=je(Dt)??Z.urlWithParams;let zt=Dt.status,wn=null;if(Z.reportProgress&&ze.next(new Rn({headers:ht,status:zt,statusText:Lt,url:bn})),Dt.body){const Un=Dt.headers.get("content-length"),At=[],lt=Dt.body.getReader();let Ct,ct,Bn=0;const mr=typeof Zone<"u"&&Zone.current;yield Xe.ngZone.runOutsideAngular((0,l.A)(function*(){for(;;){const{done:Lr,value:io}=yield lt.read();if(Lr)break;if(At.push(io),Bn+=io.length,Z.reportProgress){ct="text"===Z.responseType?(ct??"")+(Ct??=new TextDecoder).decode(io,{stream:!0}):void 0;const Mr=()=>ze.next({type:_t.DownloadProgress,total:Un?+Un:void 0,loaded:Bn,partialText:ct});mr?mr.run(Mr):Mr()}}}));const Zr=Xe.concatChunks(At,Bn);try{const Lr=Dt.headers.get("Content-Type")??"";wn=Xe.parseBody(Z,Zr,Lr)}catch(Lr){return void ze.error(new Yn({error:Lr,headers:new Ee(Dt.headers),status:Dt.status,statusText:Dt.statusText,url:je(Dt)??Z.urlWithParams}))}}0===zt&&(zt=wn?200:0),zt>=200&&zt<300?(ze.next(new xn({body:wn,headers:ht,status:zt,statusText:Lt,url:bn})),ze.complete()):ze.error(new Yn({error:wn,headers:ht,status:zt,statusText:Lt,url:bn}))})()}parseBody(Z,Se,ze){switch(Z.responseType){case"json":const Xe=(new TextDecoder).decode(Se).replace(Ae,"");return""===Xe?null:JSON.parse(Xe);case"text":return(new TextDecoder).decode(Se);case"blob":return new Blob([Se],{type:ze});case"arraybuffer":return Se.buffer}}createRequestInit(Z){const Se={},ze=Z.withCredentials?"include":void 0;if(Z.headers.forEach((Xe,et)=>Se[Xe]=et.join(",")),Z.headers.has("Accept")||(Se.Accept="application/json, text/plain, */*"),!Z.headers.has("Content-Type")){const Xe=Z.detectContentTypeHeader();null!==Xe&&(Se["Content-Type"]=Xe)}return{body:Z.serializeBody(),method:Z.method,headers:Se,credentials:ze}}concatChunks(Z,Se){const ze=new Uint8Array(Se);let Xe=0;for(const et of Z)ze.set(et,Xe),Xe+=et.length;return ze}static{this.\u0275fac=function(Se){return new(Se||Y)}}static{this.\u0275prov=j.jDH({token:Y,factory:Y.\u0275fac})}}return Y})();class nn{}function hn(){}function pn(Y,ae){return ae(Y)}const Qt=new j.nKC(""),Ot=new j.nKC(""),$n=new j.nKC("",{providedIn:"root",factory:()=>!0});let Yr=(()=>{class Y extends ye{constructor(Z,Se){super(),this.backend=Z,this.injector=Se,this.chain=null,this.pendingTasks=(0,j.WQX)(j.TgB),this.contributeToStability=(0,j.WQX)($n)}handle(Z){if(null===this.chain){const Se=Array.from(new Set([...this.injector.get(Qt),...this.injector.get(Ot,[])]));this.chain=Se.reduceRight((ze,Xe)=>function Mn(Y,ae,Z){return(Se,ze)=>(0,j.N4e)(Z,()=>ae(Se,Xe=>Y(Xe,ze)))}(ze,Xe,this.injector),pn)}if(this.contributeToStability){const Se=this.pendingTasks.add();return this.chain(Z,ze=>this.backend.handle(ze)).pipe((0,ue.j)(()=>this.pendingTasks.remove(Se)))}return this.chain(Z,Se=>this.backend.handle(Se))}static{this.\u0275fac=function(Se){return new(Se||Y)(j.KVO(Fe),j.KVO(j.uvJ))}}static{this.\u0275prov=j.jDH({token:Y,factory:Y.\u0275fac})}}return Y})();const rn=/^\)\]\}',?\n/;let $o=(()=>{class Y{constructor(Z){this.xhrFactory=Z}handle(Z){if("JSONP"===Z.method)throw new j.wOt(-2800,!1);const Se=this.xhrFactory;return(Se.\u0275loadImpl?(0,S.H)(Se.\u0275loadImpl()):(0,te.of)(null)).pipe((0,ve.n)(()=>new e.c(Xe=>{const et=Se.build();if(et.open(Z.method,Z.urlWithParams),Z.withCredentials&&(et.withCredentials=!0),Z.headers.forEach((At,lt)=>et.setRequestHeader(At,lt.join(","))),Z.headers.has("Accept")||et.setRequestHeader("Accept","application/json, text/plain, */*"),!Z.headers.has("Content-Type")){const At=Z.detectContentTypeHeader();null!==At&&et.setRequestHeader("Content-Type",At)}if(Z.responseType){const At=Z.responseType.toLowerCase();et.responseType="json"!==At?At:"text"}const Dt=Z.serializeBody();let ht=null;const Lt=()=>{if(null!==ht)return ht;const At=et.statusText||"OK",lt=new Ee(et.getAllResponseHeaders()),Bn=function cn(Y){return"responseURL"in Y&&Y.responseURL?Y.responseURL:/^X-Request-URL:/m.test(Y.getAllResponseHeaders())?Y.getResponseHeader("X-Request-URL"):null}(et)||Z.url;return ht=new Rn({headers:lt,status:et.status,statusText:At,url:Bn}),ht},bn=()=>{let{headers:At,status:lt,statusText:Bn,url:Ct}=Lt(),ct=null;204!==lt&&(ct=typeof et.response>"u"?et.responseText:et.response),0===lt&&(lt=ct?200:0);let mr=lt>=200&&lt<300;if("json"===Z.responseType&&"string"==typeof ct){const Zr=ct;ct=ct.replace(rn,"");try{ct=""!==ct?JSON.parse(ct):null}catch(Lr){ct=Zr,mr&&(mr=!1,ct={error:Lr,text:ct})}}mr?(Xe.next(new xn({body:ct,headers:At,status:lt,statusText:Bn,url:Ct||void 0})),Xe.complete()):Xe.error(new Yn({error:ct,headers:At,status:lt,statusText:Bn,url:Ct||void 0}))},zt=At=>{const{url:lt}=Lt(),Bn=new Yn({error:At,status:et.status||0,statusText:et.statusText||"Unknown Error",url:lt||void 0});Xe.error(Bn)};let wn=!1;const Fn=At=>{wn||(Xe.next(Lt()),wn=!0);let lt={type:_t.DownloadProgress,loaded:At.loaded};At.lengthComputable&&(lt.total=At.total),"text"===Z.responseType&&et.responseText&&(lt.partialText=et.responseText),Xe.next(lt)},Un=At=>{let lt={type:_t.UploadProgress,loaded:At.loaded};At.lengthComputable&&(lt.total=At.total),Xe.next(lt)};return et.addEventListener("load",bn),et.addEventListener("error",zt),et.addEventListener("timeout",zt),et.addEventListener("abort",zt),Z.reportProgress&&(et.addEventListener("progress",Fn),null!==Dt&&et.upload&&et.upload.addEventListener("progress",Un)),et.send(Dt),Xe.next({type:_t.Sent}),()=>{et.removeEventListener("error",zt),et.removeEventListener("abort",zt),et.removeEventListener("load",bn),et.removeEventListener("timeout",zt),Z.reportProgress&&(et.removeEventListener("progress",Fn),null!==Dt&&et.upload&&et.upload.removeEventListener("progress",Un)),et.readyState!==et.DONE&&et.abort()}})))}static{this.\u0275fac=function(Se){return new(Se||Y)(j.KVO(Q.N0))}}static{this.\u0275prov=j.jDH({token:Y,factory:Y.\u0275fac})}}return Y})();const jt=new j.nKC(""),ln=new j.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Fr=new j.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class qn{}let Ne=(()=>{class Y{constructor(Z,Se,ze){this.doc=Z,this.platform=Se,this.cookieName=ze,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Z=this.doc.cookie||"";return Z!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,Q._b)(Z,this.cookieName),this.lastCookieString=Z),this.lastToken}static{this.\u0275fac=function(Se){return new(Se||Y)(j.KVO(Q.qQ),j.KVO(j.Agw),j.KVO(ln))}}static{this.\u0275prov=j.jDH({token:Y,factory:Y.\u0275fac})}}return Y})();function be(Y,ae){const Z=Y.url.toLowerCase();if(!(0,j.WQX)(jt)||"GET"===Y.method||"HEAD"===Y.method||Z.startsWith("http://")||Z.startsWith("https://"))return ae(Y);const Se=(0,j.WQX)(qn).getToken(),ze=(0,j.WQX)(Fr);return null!=Se&&!Y.headers.has(ze)&&(Y=Y.clone({headers:Y.headers.set(ze,Se)})),ae(Y)}function at(...Y){const ae=[Re,$o,Yr,{provide:ye,useExisting:Yr},{provide:Fe,useFactory:()=>(0,j.WQX)(ut,{optional:!0})??(0,j.WQX)($o)},{provide:Qt,useValue:be,multi:!0},{provide:jt,useValue:!0},{provide:qn,useClass:Ne}];for(const Z of Y)ae.push(...Z.\u0275providers);return(0,j.EmA)(ae)}},4438:(Je,_e,D)=>{"use strict";function l(t,n){return Object.is(t,n)}D.d(_e,{iLQ:()=>Qd,sZ2:()=>zc,hnV:()=>zy,o8S:()=>ps,BIS:()=>SE,gRc:()=>sb,Ql9:()=>wI,Ocv:()=>TI,abz:()=>hl,Z63:()=>$,aKT:()=>_u,uvJ:()=>vo,zcH:()=>Ss,bkB:()=>ls,$GK:()=>$t,nKC:()=>It,zZn:()=>jo,_q3:()=>_m,MKu:()=>ym,xe9:()=>pm,Co$:()=>$v,Vns:()=>ja,SKi:()=>br,Xx1:()=>Ao,Agw:()=>Wc,PLl:()=>ug,sFG:()=>x2,_9s:()=>Jp,czy:()=>sd,WPN:()=>Ta,kdw:()=>Fo,C4Q:()=>Pu,NYb:()=>gI,giA:()=>Hy,RxE:()=>Oy,c1b:()=>xd,gXe:()=>ie,mal:()=>Rd,Af3:()=>ii,tdH:()=>Dx,L39:()=>Mk,EWP:()=>Sk,Ol2:()=>mh,w6W:()=>mx,Rfq:()=>Ne,WQX:()=>mt,QuC:()=>mi,EmA:()=>Po,HJs:()=>Lk,N4e:()=>Ya,vPA:()=>bv,O8t:()=>Rk,H3F:()=>jy,H8p:()=>rs,KH2:()=>Yl,TgB:()=>Ia,wOt:()=>Ze,WHO:()=>By,e01:()=>Gy,lNU:()=>$n,h9k:()=>Rg,$MX:()=>nd,ZF7:()=>bl,Kcf:()=>QE,e5t:()=>tC,UyX:()=>ZE,cWb:()=>JE,osQ:()=>eC,H5H:()=>Vh,Zy3:()=>pr,mq5:()=>W1,JZv:()=>rn,TL3:()=>uk,LfX:()=>jr,plB:()=>Ks,jNT:()=>um,zjR:()=>qy,XSP:()=>tF,TL$:()=>ME,Tbb:()=>ln,rcV:()=>Rs,Vt3:()=>dh,GFd:()=>Lv,OA$:()=>ko,Jv_:()=>ty,aNF:()=>ny,R7$:()=>a0,BMQ:()=>kh,ZvI:()=>O1,AVh:()=>Nh,vxM:()=>V1,wni:()=>M_,VBU:()=>Ui,FsC:()=>na,jDH:()=>Zt,G2t:()=>zn,$C:()=>ts,EJ8:()=>ra,rXU:()=>wl,nrm:()=>$h,bVm:()=>Ud,qex:()=>Vd,k0s:()=>$d,j41:()=>Ld,RV6:()=>H1,xGo:()=>Im,KVO:()=>In,kS0:()=>Vc,QTQ:()=>u0,bIt:()=>Gh,lsd:()=>R_,joV:()=>Nc,qSk:()=>Ac,XpG:()=>__,nI1:()=>hy,bMT:()=>my,i5U:()=>gy,brH:()=>vy,ii3:()=>_y,iJd:()=>yy,SdG:()=>b_,NAR:()=>y_,Y8G:()=>Rh,FS9:()=>qh,lJ4:()=>iy,eq3:()=>sy,l_i:()=>ay,sMw:()=>ly,mGM:()=>S_,sdS:()=>A_,Njj:()=>wc,tSv:()=>Vg,eBV:()=>Cc,npT:()=>Ag,B4B:()=>hp,n$t:()=>Pg,DNE:()=>vh,C5r:()=>by,EFF:()=>G_,JRh:()=>Yh,SpI:()=>zd,Lme:()=>Xh,E5c:()=>Kh,DH7:()=>Q_,mxI:()=>Jh,R50:()=>Qh,GBs:()=>T_});let j=null,te=!1,e=1;const S=Symbol("SIGNAL");function H(t){const n=j;return j=t,n}function E(){return j}const ve={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Q(t){if(te)throw new Error("");if(null===j)return;j.consumerOnSignalRead(t);const n=j.nextProducerIndex++;nt(j),n<j.producerNode.length&&j.producerNode[n]!==t&&xe(j)&&pe(j.producerNode[n],j.producerIndexOfThis[n]),j.producerNode[n]!==t&&(j.producerNode[n]=t,j.producerIndexOfThis[n]=xe(j)?fe(t,j,n):0),j.producerLastReadVersion[n]=t.version}function Fe(t){if((!xe(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==e)){if(!t.producerMustRecompute(t)&&!he(t))return t.dirty=!1,void(t.lastCleanEpoch=e);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=e}}function Ee(t){if(void 0===t.liveConsumerNode)return;const n=te;te=!0;try{for(const r of t.liveConsumerNode)r.dirty||ne(r)}finally{te=n}}function Le(){return!1!==j?.consumerAllowSignalWrites}function ne(t){t.dirty=!0,Ee(t),t.consumerMarkedDirty?.(t)}function U(t){return t&&(t.nextProducerIndex=0),H(t)}function B(t,n){if(H(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(xe(t))for(let r=t.nextProducerIndex;r<t.producerNode.length;r++)pe(t.producerNode[r],t.producerIndexOfThis[r]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function he(t){nt(t);for(let n=0;n<t.producerNode.length;n++){const r=t.producerNode[n],o=t.producerLastReadVersion[n];if(o!==r.version||(Fe(r),o!==r.version))return!0}return!1}function le(t){if(nt(t),xe(t))for(let n=0;n<t.producerNode.length;n++)pe(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function fe(t,n,r){if(Te(t),0===t.liveConsumerNode.length&&$e(t))for(let o=0;o<t.producerNode.length;o++)t.producerIndexOfThis[o]=fe(t.producerNode[o],t,o);return t.liveConsumerIndexOfThis.push(r),t.liveConsumerNode.push(n)-1}function pe(t,n){if(Te(t),1===t.liveConsumerNode.length&&$e(t))for(let o=0;o<t.producerNode.length;o++)pe(t.producerNode[o],t.producerIndexOfThis[o]);const r=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[r],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[r],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const o=t.liveConsumerIndexOfThis[n],i=t.liveConsumerNode[n];nt(i),i.producerIndexOfThis[o]=n}}function xe(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function nt(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Te(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function $e(t){return void 0!==t.producerNode}const Ke=Symbol("UNSET"),st=Symbol("COMPUTING"),kt=Symbol("ERRORED"),_t={...ve,value:Ke,dirty:!0,error:null,equal:l,producerMustRecompute:t=>t.value===Ke||t.value===st,producerRecomputeValue(t){if(t.value===st)throw new Error("Detected cycle in computations.");const n=t.value;t.value=st;const r=U(t);let o;try{o=t.computation()}catch(i){o=kt,t.error=i}finally{B(t,r)}n!==Ke&&n!==kt&&o!==kt&&t.equal(n,o)?t.value=n:(t.value=o,t.version++)}};let Rn=function St(){throw new Error};function xn(){Rn()}let rr=null;function Re(t,n){Le()||xn(),t.equal(t.value,n)||(t.value=n,function ut(t){t.version++,function ye(){e++}(),Ee(t),rr?.()}(t))}const je={...ve,equal:l,value:void 0};var Mt=D(4412),Mn=D(1413),an=D(8359),Qt=D(6354);const $n="https://g.co/ng/security#xss";class Ze extends Error{constructor(n,r){super(pr(n,r)),this.code=n}}function pr(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}function Tt(t){return{toString:t}.toString()}const Ut="__parameters__";function An(t,n,r){return Tt(()=>{const o=function Dn(t){return function(...r){if(t){const o=t(...r);for(const i in o)this[i]=o[i]}}}(n);function i(...a){if(this instanceof i)return o.apply(this,a),this;const u=new i(...a);return p.annotation=u,p;function p(v,F,N){const W=v.hasOwnProperty(Ut)?v[Ut]:Object.defineProperty(v,Ut,{value:[]})[Ut];for(;W.length<=N;)W.push(null);return(W[N]=W[N]||[]).push(u),v}}return r&&(i.prototype=Object.create(r.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const rn=globalThis;function jt(t){for(let n in t)if(t[n]===jt)return n;throw Error("Could not find renamed property on target object.")}function hr(t,n){for(const r in n)n.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&(t[r]=n[r])}function ln(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ln).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const r=n.indexOf("\n");return-1===r?n:n.substring(0,r)}function Tn(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const qn=jt({__forward_ref__:jt});function Ne(t){return t.__forward_ref__=Ne,t.toString=function(){return ln(this())},t}function be(t){return re(t)?t():t}function re(t){return"function"==typeof t&&t.hasOwnProperty(qn)&&t.__forward_ref__===Ne}function Zt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function zn(t){return{providers:t.providers||[],imports:t.imports||[]}}function nr(t){return Jr(t,kr)||Jr(t,oo)}function jr(t){return null!==nr(t)}function Jr(t,n){return t.hasOwnProperty(n)?t[n]:null}function Eo(t){return t&&(t.hasOwnProperty(ro)||t.hasOwnProperty(Jo))?t[ro]:null}const kr=jt({\u0275prov:jt}),ro=jt({\u0275inj:jt}),oo=jt({ngInjectableDef:jt}),Jo=jt({ngInjectorDef:jt});class It{constructor(n,r){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=Zt({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function bn(t){return t&&!!t.\u0275providers}const zt=jt({\u0275cmp:jt}),wn=jt({\u0275dir:jt}),Fn=jt({\u0275pipe:jt}),Un=jt({\u0275mod:jt}),At=jt({\u0275fac:jt}),lt=jt({__NG_ELEMENT_ID__:jt}),Bn=jt({__NG_ENV_ID__:jt});function Ct(t){return"string"==typeof t?t:null==t?"":String(t)}function Zo(t,n){throw new Ze(-201,!1)}var $t=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}($t||{});let Co;function ei(){return Co}function Tr(t){const n=Co;return Co=t,n}function fi(t,n,r){const o=nr(t);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&$t.Optional?null:void 0!==n?n:void Zo()}const wo={},gr="__NG_DI_FLAG__",vr="ngTempTokenPath",so=/\n/gm,$r="__source";let _r;function Xn(t){const n=_r;return _r=t,n}function sr(t,n=$t.Default){if(void 0===_r)throw new Ze(-203,!1);return null===_r?fi(t,void 0,n):_r.get(t,n&$t.Optional?null:void 0,n)}function In(t,n=$t.Default){return(ei()||sr)(be(t),n)}function mt(t,n=$t.Default){return In(t,ti(n))}function ti(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Sr(t){const n=[];for(let r=0;r<t.length;r++){const o=be(t[r]);if(Array.isArray(o)){if(0===o.length)throw new Ze(900,!1);let i,a=$t.Default;for(let u=0;u<o.length;u++){const p=o[u],v=Do(p);"number"==typeof v?-1===v?i=p.token:a|=v:i=p}n.push(In(i,a))}else n.push(In(o))}return n}function ho(t,n){return t[gr]=n,t.prototype[gr]=n,t}function Do(t){return t[gr]}const Ao=ho(An("Optional"),8),Fo=ho(An("SkipSelf"),4);function Kn(t,n){return t.hasOwnProperty(At)?t[At]:null}function mo(t,n){t.forEach(r=>Array.isArray(r)?mo(r,n):n(r))}function cr(t,n,r){n>=t.length?t.push(r):t.splice(n,0,r)}function oi(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Gn(t,n,r){let o=V(t,n);return o>=0?t[1|o]=r:(o=~o,function Ho(t,n,r,o){let i=t.length;if(i==n)t.push(r,o);else if(1===i)t.push(o,t[0]),t[0]=r;else{for(i--,t.push(t[i-1],t[i]);i>n;)t[i]=t[i-2],i--;t[n]=r,t[n+1]=o}}(t,o,n,r)),o}function Io(t,n){const r=V(t,n);if(r>=0)return t[1|r]}function V(t,n){return function g(t,n,r){let o=0,i=t.length>>r;for(;i!==o;){const a=o+(i-o>>1),u=t[a<<r];if(n===u)return a<<r;u>n?i=a:o=a+1}return~(i<<r)}(t,n,1)}const y={},k=[],$=new It(""),z=new It("",-1),X=new It("");class ce{get(n,r=wo){if(r===wo){const o=new Error(`NullInjectorError: No provider for ${ln(n)}!`);throw o.name="NullInjectorError",o}return r}}var Ce=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Ce||{}),ie=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ie||{}),Ue=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ue||{});function ft(t,n,r){let o=t.length;for(;;){const i=t.indexOf(n,r);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const a=n.length;if(i+a===o||t.charCodeAt(i+a)<=32)return i}r=i+1}}function bt(t,n,r){let o=0;for(;o<r.length;){const i=r[o];if("number"==typeof i){if(0!==i)break;o++;const a=r[o++],u=r[o++],p=r[o++];t.setAttribute(n,u,p,a)}else{const a=i,u=r[++o];fn(a)?t.setProperty(n,a,u):t.setAttribute(n,a,u),o++}}return o}function yt(t){return 3===t||4===t||6===t}function fn(t){return 64===t.charCodeAt(0)}function Wt(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let r=-1;for(let o=0;o<n.length;o++){const i=n[o];"number"==typeof i?r=i:0===r||Vr(t,r,i,null,-1===r||2===r?n[++o]:null)}}return t}function Vr(t,n,r,o,i){let a=0,u=t.length;if(-1===n)u=-1;else for(;a<t.length;){const p=t[a++];if("number"==typeof p){if(p===n){u=-1;break}if(p>n){u=a-1;break}}}for(;a<t.length;){const p=t[a];if("number"==typeof p)break;if(p===r){if(null===o)return void(null!==i&&(t[a+1]=i));if(o===t[a+1])return void(t[a+2]=i)}a++,null!==o&&a++,null!==i&&a++}-1!==u&&(t.splice(u,0,n),a=u+1),t.splice(a++,0,r),null!==o&&t.splice(a++,0,o),null!==i&&t.splice(a++,0,i)}const to="ng-template";function go(t,n,r,o){let i=0;if(o){for(;i<n.length&&"string"==typeof n[i];i+=2)if("class"===n[i]&&-1!==ft(n[i+1].toLowerCase(),r,0))return!0}else if(ar(t))return!1;if(i=n.indexOf(1,i),i>-1){let a;for(;++i<n.length&&"string"==typeof(a=n[i]);)if(a.toLowerCase()===r)return!0}return!1}function ar(t){return 4===t.type&&t.value!==to}function Wn(t,n,r){return n===(4!==t.type||r?t.value:to)}function M(t,n,r){let o=4;const i=t.attrs,a=null!==i?function pt(t){for(let n=0;n<t.length;n++)if(yt(t[n]))return n;return t.length}(i):0;let u=!1;for(let p=0;p<n.length;p++){const v=n[p];if("number"!=typeof v){if(!u)if(4&o){if(o=2|1&o,""!==v&&!Wn(t,v,r)||""===v&&1===n.length){if(R(o))return!1;u=!0}}else if(8&o){if(null===i||!go(t,i,v,r)){if(R(o))return!1;u=!0}}else{const F=n[++p],N=w(v,i,ar(t),r);if(-1===N){if(R(o))return!1;u=!0;continue}if(""!==F){let W;if(W=N>a?"":i[N+1].toLowerCase(),2&o&&F!==W){if(R(o))return!1;u=!0}}}}else{if(!u&&!R(o)&&!R(v))return!1;if(u&&R(v))continue;u=!1,o=v|1&o}}return R(o)||u}function R(t){return!(1&t)}function w(t,n,r,o){if(null===n)return-1;let i=0;if(o||!r){let a=!1;for(;i<n.length;){const u=n[i];if(u===t)return i;if(3===u||6===u)a=!0;else{if(1===u||2===u){let p=n[++i];for(;"string"==typeof p;)p=n[++i];continue}if(4===u)break;if(0===u){i+=4;continue}}i+=a?1:2}return-1}return function Kt(t,n){let r=t.indexOf(4);if(r>-1)for(r++;r<t.length;){const o=t[r];if("number"==typeof o)return-1;if(o===n)return r;r++}return-1}(n,t)}function G(t,n,r=!1){for(let o=0;o<n.length;o++)if(M(t,n[o],r))return!0;return!1}function No(t,n){e:for(let r=0;r<n.length;r++){const o=n[r];if(t.length===o.length){for(let i=0;i<t.length;i++)if(t[i]!==o[i])continue e;return!0}}return!1}function hi(t,n){return t?":not("+n.trim()+")":n}function Zi(t){let n=t[0],r=1,o=2,i="",a=!1;for(;r<t.length;){let u=t[r];if("string"==typeof u)if(2&o){const p=t[++r];i+="["+u+(p.length>0?'="'+p+'"':"")+"]"}else 8&o?i+="."+u:4&o&&(i+=" "+u);else""!==i&&!R(u)&&(n+=hi(a,i),i=""),o=u,a=a||!R(o);r++}return""!==i&&(n+=hi(a,i)),n}function Ui(t){return Tt(()=>{const n=ns(t),r={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ce.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ie.Emulated,styles:t.styles||k,_:null,schemas:t.schemas||null,tView:null,id:""};ms(r);const o=t.dependencies;return r.directiveDefs=Bi(o,!1),r.pipeDefs=Bi(o,!0),r.id=function Gi(t){let n=0;const r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of r)n=Math.imul(31,n)+i.charCodeAt(0)|0;return n+=2147483648,"c"+n}(r),r})}function es(t){return Gt(t)||lr(t)}function Si(t){return null!==t}function ts(t){return Tt(()=>({type:t.type,bootstrap:t.bootstrap||k,declarations:t.declarations||k,imports:t.imports||k,exports:t.exports||k,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ri(t,n){if(null==t)return y;const r={};for(const o in t)if(t.hasOwnProperty(o)){const i=t[o];let a,u,p=Ue.None;Array.isArray(i)?(p=i[0],a=i[1],u=i[2]??a):(a=i,u=i),n?(r[a]=p!==Ue.None?[o,p]:o,n[a]=u):r[a]=o}return r}function na(t){return Tt(()=>{const n=ns(t);return ms(n),n})}function ra(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Gt(t){return t[zt]||null}function lr(t){return t[wn]||null}function xr(t){return t[Fn]||null}function mi(t){const n=Gt(t)||lr(t)||xr(t);return null!==n&&n.standalone}function Rr(t,n){const r=t[Un]||null;if(!r&&!0===n)throw new Error(`Type ${ln(t)} does not have '\u0275mod' property.`);return r}function ns(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||y,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||k,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ri(t.inputs,n),outputs:Ri(t.outputs),debugInfo:null}}function ms(t){t.features?.forEach(n=>n(t))}function Bi(t,n){if(!t)return null;const r=n?xr:es;return()=>("function"==typeof t?t():t).map(o=>r(o)).filter(Si)}function Po(t){return{\u0275providers:t}}function Ha(...t){return{\u0275providers:Ps(0,t),\u0275fromNgModule:!0}}function Ps(t,...n){const r=[],o=new Set;let i;const a=u=>{r.push(u)};return mo(n,u=>{const p=u;gs(p,a,[],o)&&(i||=[],i.push(p))}),void 0!==i&&ia(i,a),r}function ia(t,n){for(let r=0;r<t.length;r++){const{ngModule:o,providers:i}=t[r];Os(i,a=>{n(a,o)})}}function gs(t,n,r,o){if(!(t=be(t)))return!1;let i=null,a=Eo(t);const u=!a&&Gt(t);if(a||u){if(u&&!u.standalone)return!1;i=t}else{const v=t.ngModule;if(a=Eo(v),!a)return!1;i=v}const p=o.has(i);if(u){if(p)return!1;if(o.add(i),u.dependencies){const v="function"==typeof u.dependencies?u.dependencies():u.dependencies;for(const F of v)gs(F,n,r,o)}}else{if(!a)return!1;{if(null!=a.imports&&!p){let F;o.add(i);try{mo(a.imports,N=>{gs(N,n,r,o)&&(F||=[],F.push(N))})}finally{}void 0!==F&&ia(F,n)}if(!p){const F=Kn(i)||(()=>new i);n({provide:i,useFactory:F,deps:k},i),n({provide:X,useValue:i,multi:!0},i),n({provide:$,useValue:()=>In(i),multi:!0},i)}const v=a.providers;if(null!=v&&!p){const F=t;Os(v,N=>{n(N,F)})}}}return i!==t&&void 0!==t.providers}function Os(t,n){for(let r of t)bn(r)&&(r=r.\u0275providers),Array.isArray(r)?Os(r,n):n(r)}const sa=jt({provide:String,useValue:jt});function aa(t){return null!==t&&"object"==typeof t&&sa in t}function gi(t){return"function"==typeof t}const rs=new It(""),ys={},la={};let bs;function Hi(){return void 0===bs&&(bs=new ce),bs}class vo{}class qi extends vo{get destroyed(){return this._destroyed}constructor(n,r,o,i){super(),this.parent=r,this.source=o,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,yi(n,u=>this.processProvider(u)),this.records.set(z,_i(void 0,this)),i.has("environment")&&this.records.set(vo,_i(void 0,this));const a=this.records.get(rs);null!=a&&"string"==typeof a.value&&this.scopes.add(a.value),this.injectorDefTypes=new Set(this.get(X,k,$t.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=H(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),H(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const r=Xn(this),o=Tr(void 0);try{return n()}finally{Xn(r),Tr(o)}}get(n,r=wo,o=$t.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Bn))return n[Bn](this);o=ti(o);const a=Xn(this),u=Tr(void 0);try{if(!(o&$t.SkipSelf)){let v=this.records.get(n);if(void 0===v){const F=function ca(t){return"function"==typeof t||"object"==typeof t&&t instanceof It}(n)&&nr(n);v=F&&this.injectableDefInScope(F)?_i(vi(n),ys):null,this.records.set(n,v)}if(null!=v)return this.hydrate(n,v)}return(o&$t.Self?Hi():this.parent).get(n,r=o&$t.Optional&&r===wo?null:r)}catch(p){if("NullInjectorError"===p.name){if((p[vr]=p[vr]||[]).unshift(ln(n)),a)throw p;return function Mi(t,n,r,o){const i=t[vr];throw n[$r]&&i.unshift(n[$r]),t.message=function eo(t,n,r,o=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=ln(n);if(Array.isArray(n))i=n.map(ln).join(" -> ");else if("object"==typeof n){let a=[];for(let u in n)if(n.hasOwnProperty(u)){let p=n[u];a.push(u+":"+("string"==typeof p?JSON.stringify(p):ln(p)))}i=`{${a.join(", ")}}`}return`${r}${o?"("+o+")":""}[${i}]: ${t.replace(so,"\n  ")}`}("\n"+t.message,i,r,o),t.ngTokenPath=i,t[vr]=null,t}(p,n,"R3InjectorError",this.source)}throw p}finally{Tr(u),Xn(a)}}resolveInjectorInitializers(){const n=H(null),r=Xn(this),o=Tr(void 0);try{const a=this.get($,k,$t.Self);for(const u of a)u()}finally{Xn(r),Tr(o),H(n)}}toString(){const n=[],r=this.records;for(const o of r.keys())n.push(ln(o));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ze(205,!1)}processProvider(n){let r=gi(n=be(n))?n:be(n&&n.provide);const o=function js(t){return aa(t)?_i(void 0,t.useValue):_i(Ai(t),ys)}(n);if(!gi(n)&&!0===n.multi){let i=this.records.get(r);i||(i=_i(void 0,ys,!0),i.factory=()=>Sr(i.multi),this.records.set(r,i)),r=n,i.multi.push(n)}this.records.set(r,o)}hydrate(n,r){const o=H(null);try{return r.value===ys&&(r.value=la,r.value=r.factory()),"object"==typeof r.value&&r.value&&function Wa(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{H(o)}}injectableDefInScope(n){if(!n.providedIn)return!1;const r=be(n.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(n){const r=this._onDestroyHooks.indexOf(n);-1!==r&&this._onDestroyHooks.splice(r,1)}}function vi(t){const n=nr(t),r=null!==n?n.factory:Kn(t);if(null!==r)return r;if(t instanceof It)throw new Ze(204,!1);if(t instanceof Function)return function ua(t){if(t.length>0)throw new Ze(204,!1);const r=function Vo(t){return t&&(t[kr]||t[oo])||null}(t);return null!==r?()=>r.factory(t):()=>new t}(t);throw new Ze(204,!1)}function Ai(t,n,r){let o;if(gi(t)){const i=be(t);return Kn(i)||vi(i)}if(aa(t))o=()=>be(t.useValue);else if(function _s(t){return!(!t||!t.useFactory)}(t))o=()=>t.useFactory(...Sr(t.deps||[]));else if(function vs(t){return!(!t||!t.useExisting)}(t))o=()=>In(be(t.useExisting));else{const i=be(t&&(t.useClass||t.provide));if(!function za(t){return!!t.deps}(t))return Kn(i)||vi(i);o=()=>new i(...Sr(t.deps))}return o}function _i(t,n,r=!1){return{factory:t,value:n,multi:r?[]:void 0}}function yi(t,n){for(const r of t)Array.isArray(r)?yi(r,n):r&&bn(r)?yi(r.\u0275providers,n):n(r)}function Ya(t,n){t instanceof qi&&t.assertNotDestroyed();const o=Xn(t),i=Tr(void 0);try{return n()}finally{Xn(o),Tr(i)}}function os(){return void 0!==ei()||null!=function xo(){return _r}()}function ii(t){if(!os())throw new Ze(-203,!1)}const gt=0,We=1,vt=2,mn=3,yr=4,On=5,dr=6,ur=7,_n=8,jn=9,Ur=10,Nt=11,Es=12,da=13,lo=14,Qn=15,is=16,Cs=17,Pi=18,zi=19,fa=20,si=21,Ls=22,Oo=23,Et=25,$s=1,bi=7,xs=9,fr=10;var Vs=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Vs||{});function Ar(t){return Array.isArray(t)&&"object"==typeof t[$s]}function Br(t){return Array.isArray(t)&&!0===t[$s]}function ha(t){return!!(4&t.flags)}function Wi(t){return t.componentOffset>-1}function Us(t){return!(1&~t.flags)}function qo(t){return!!t.template}function Ds(t){return!!(512&t[vt])}class Gr{constructor(n,r,o){this.previousValue=n,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}}function Ci(t,n,r,o){null!==n?n.applyValueToInputSignal(n,o):t[r]=o}function ko(){return ss}function ss(t){return t.type.prototype.ngOnChanges&&(t.setInput=Gs),tu}function tu(){const t=el(this),n=t?.current;if(n){const r=t.previous;if(r===y)t.previous=n;else for(let o in n)r[o]=n[o];t.current=null,this.ngOnChanges(n)}}function Gs(t,n,r,o,i){const a=this.declaredInputs[o],u=el(t)||function vf(t,n){return t[Za]=n}(t,{previous:y,current:null}),p=u.current||(u.current={}),v=u.previous,F=v[a];p[a]=new Gr(F&&F.currentValue,r,v===y),Ci(t,n,i,r)}ko.ngInherit=!0;const Za="__ngSimpleChanges__";function el(t){return t[Za]||null}const Oi=function(t,n,r){},mc="svg";function En(t){for(;Array.isArray(t);)t=t[gt];return t}function as(t,n){return En(n[t])}function Mo(t,n){return En(n[t.index])}function ma(t,n){return t.data[n]}function Fs(t,n){return t[n]}function zo(t,n){const r=n[t];return Ar(r)?r:r[gt]}function ou(t){return!(128&~t[vt])}function ai(t,n){return null==n?null:t[n]}function vc(t){t[Cs]=0}function _c(t){1024&t[vt]||(t[vt]|=1024,ou(t)&&nl(t))}function tl(t){return!!(9216&t[vt]||t[Oo]?.dirty)}function iu(t){t[Ur].changeDetectionScheduler?.notify(8),64&t[vt]&&(t[vt]|=1024),tl(t)&&nl(t)}function nl(t){t[Ur].changeDetectionScheduler?.notify(0);let n=Yi(t);for(;null!==n&&!(8192&n[vt])&&(n[vt]|=8192,ou(n));)n=Yi(n)}function rl(t,n){if(!(256&~t[vt]))throw new Ze(911,!1);null===t[si]&&(t[si]=[]),t[si].push(n)}function Yi(t){const n=t[mn];return Br(n)?n[mn]:n}const Vt={lFrame:sl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let bc=!1;function Ec(){return Vt.bindingsEnabled}function Is(){return null!==Vt.skipHydrationRootTNode}function Ve(){return Vt.lFrame.lView}function un(){return Vt.lFrame.tView}function Cc(t){return Vt.lFrame.contextLView=t,t[_n]}function wc(t){return Vt.lFrame.contextLView=null,t}function Ln(){let t=xc();for(;null!==t&&64===t.type;)t=t.parent;return t}function xc(){return Vt.lFrame.currentTNode}function wi(t,n){const r=Vt.lFrame;r.currentTNode=t,r.isParent=n}function uu(){return Vt.lFrame.isParent}function cu(){Vt.lFrame.isParent=!1}function Ic(){return bc}function kc(t){bc=t}function To(){const t=Vt.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Xi(){return Vt.lFrame.bindingIndex}function xi(){return Vt.lFrame.bindingIndex++}function Ki(t){const n=Vt.lFrame,r=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,r}function Tf(t,n){const r=Vt.lFrame;r.bindingIndex=r.bindingRootIndex=t,du(n)}function du(t){Vt.lFrame.currentDirectiveIndex=t}function va(){return Vt.lFrame.currentQueryIndex}function il(t){Vt.lFrame.currentQueryIndex=t}function Rf(t){const n=t[We];return 2===n.type?n.declTNode:1===n.type?t[On]:null}function Sc(t,n,r){if(r&$t.SkipSelf){let i=n,a=t;for(;!(i=i.parent,null!==i||r&$t.Host||(i=Rf(a),null===i||(a=a[lo],10&i.type))););if(null===i)return!1;n=i,t=a}const o=Vt.lFrame=Rc();return o.currentTNode=n,o.lView=t,!0}function pu(t){const n=Rc(),r=t[We];Vt.lFrame=n,n.currentTNode=r.firstChild,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex,n.inI18n=!1}function Rc(){const t=Vt.lFrame,n=null===t?null:t.child;return null===n?sl(t):n}function sl(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function al(){const t=Vt.lFrame;return Vt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const hu=al;function mu(){const t=al();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function uo(){return Vt.lFrame.selectedIndex}function ks(t){Vt.lFrame.selectedIndex=t}function Zn(){const t=Vt.lFrame;return ma(t.tView,t.selectedIndex)}function Ac(){Vt.lFrame.currentNamespace=mc}function Nc(){!function Pf(){Vt.lFrame.currentNamespace=null}()}let Oc=!0;function _a(){return Oc}function _o(t){Oc=t}function ll(t,n){for(let r=n.directiveStart,o=n.directiveEnd;r<o;r++){const a=t.data[r].type.prototype,{ngAfterContentInit:u,ngAfterContentChecked:p,ngAfterViewInit:v,ngAfterViewChecked:F,ngOnDestroy:N}=a;u&&(t.contentHooks??=[]).push(-r,u),p&&((t.contentHooks??=[]).push(r,p),(t.contentCheckHooks??=[]).push(r,p)),v&&(t.viewHooks??=[]).push(-r,v),F&&((t.viewHooks??=[]).push(r,F),(t.viewCheckHooks??=[]).push(r,F)),null!=N&&(t.destroyHooks??=[]).push(r,N)}}function ul(t,n,r){gu(t,n,3,r)}function cl(t,n,r,o){(3&t[vt])===r&&gu(t,n,r,o)}function Hs(t,n){let r=t[vt];(3&r)===n&&(r&=16383,r+=1,t[vt]=r)}function gu(t,n,r,o){const a=o??-1,u=n.length-1;let p=0;for(let v=void 0!==o?65535&t[Cs]:0;v<u;v++)if("number"==typeof n[v+1]){if(p=n[v],null!=o&&p>=o)break}else n[v]<0&&(t[Cs]+=65536),(p<a||-1==a)&&(jf(t,r,n,v),t[Cs]=(4294901760&t[Cs])+v+2),v++}function jc(t,n){Oi(4,t,n);const r=H(null);try{n.call(t)}finally{H(r),Oi(5,t,n)}}function jf(t,n,r,o){const i=r[o]<0,a=r[o+1],p=t[i?-r[o]:r[o]];i?t[vt]>>14<t[Cs]>>16&&(3&t[vt])===n&&(t[vt]+=16384,jc(p,a)):jc(p,a)}const qs=-1;class ya{constructor(n,r,o){this.factory=n,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=o}}const O={};class se{constructor(n,r){this.injector=n,this.parentInjector=r}get(n,r,o){o=ti(o);const i=this.injector.get(n,O,o);return i!==O||r===O?i:this.parentInjector.get(n,r,o)}}function ke(t){return t!==qs}function rt(t){return 32767&t}function Ht(t,n){let r=function Ft(t){return t>>16}(t),o=n;for(;r>0;)o=o[lo],r--;return o}let Hn=!0;function er(t){const n=Hn;return Hn=t,n}const Wo=255,ji=5;let ba=0;const Yo={};function Ea(t,n){const r=Ca(t,n);if(-1!==r)return r;const o=n[We];o.firstCreatePass&&(t.injectorIndex=n.length,Ws(o.data,t),Ws(n,null),Ws(o.blueprint,null));const i=Ms(t,n),a=t.injectorIndex;if(ke(i)){const u=rt(i),p=Ht(i,n),v=p[We].data;for(let F=0;F<8;F++)n[a+F]=p[u+F]|v[u+F]}return n[a+8]=i,a}function Ws(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Ca(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Ms(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let r=0,o=null,i=n;for(;null!==i;){if(o=km(i),null===o)return qs;if(r++,i=i[lo],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return qs}function Ys(t,n,r){!function zs(t,n,r){let o;"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(lt)&&(o=r[lt]),null==o&&(o=r[lt]=ba++);const i=o&Wo;n.data[t+(i>>ji)]|=1<<i}(t,n,r)}function wa(t,n,r){if(r&$t.Optional||void 0!==t)return t;Zo()}function Ts(t,n,r,o){if(r&$t.Optional&&void 0===o&&(o=null),!(r&($t.Self|$t.Host))){const i=t[jn],a=Tr(void 0);try{return i?i.get(n,o,r&$t.Optional):fi(n,o,r&$t.Optional)}finally{Tr(a)}}return wa(o,0,r)}function xa(t,n,r,o=$t.Default,i){if(null!==t){if(2048&n[vt]&&!(o&$t.Self)){const u=function Bb(t,n,r,o,i){let a=t,u=n;for(;null!==a&&null!==u&&2048&u[vt]&&!(512&u[vt]);){const p=Da(a,u,r,o|$t.Self,Yo);if(p!==Yo)return p;let v=a.parent;if(!v){const F=u[fa];if(F){const N=F.get(r,Yo,o);if(N!==Yo)return N}v=km(u),u=u[lo]}a=v}return i}(t,n,r,o,Yo);if(u!==Yo)return u}const a=Da(t,n,r,o,Yo);if(a!==Yo)return a}return Ts(n,r,o,i)}function Da(t,n,r,o,i){const a=function Vb(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(lt)?t[lt]:void 0;return"number"==typeof n?n>=0?n&Wo:Ub:n}(r);if("function"==typeof a){if(!Sc(n,t,o))return o&$t.Host?wa(i,0,o):Ts(n,r,o,i);try{let u;if(u=a(o),null!=u||o&$t.Optional)return u;Zo()}finally{hu()}}else if("number"==typeof a){let u=null,p=Ca(t,n),v=qs,F=o&$t.Host?n[Qn][On]:null;for((-1===p||o&$t.SkipSelf)&&(v=-1===p?Ms(t,n):n[p+8],v!==qs&&Fm(o,!1)?(u=n[We],p=rt(v),n=Ht(v,n)):p=-1);-1!==p;){const N=n[We];if(Dm(a,p,N.data)){const W=$b(p,n,r,u,o,F);if(W!==Yo)return W}v=n[p+8],v!==qs&&Fm(o,n[We].data[p+8]===F)&&Dm(a,p,n)?(u=N,p=rt(v),n=Ht(v,n)):p=-1}}return i}function $b(t,n,r,o,i,a){const u=n[We],p=u.data[t+8],N=$c(p,u,r,null==o?Wi(p)&&Hn:o!=u&&!!(3&p.type),i&$t.Host&&a===p);return null!==N?Fa(n,u,N,p):Yo}function $c(t,n,r,o,i){const a=t.providerIndexes,u=n.data,p=1048575&a,v=t.directiveStart,N=a>>20,oe=i?p+N:t.directiveEnd;for(let ge=o?p:p+N;ge<oe;ge++){const we=u[ge];if(ge<v&&r===we||ge>=v&&we.type===r)return ge}if(i){const ge=u[v];if(ge&&qo(ge)&&ge.type===r)return v}return null}function Fa(t,n,r,o){let i=t[r];const a=n.data;if(function Lf(t){return t instanceof ya}(i)){const u=i;u.resolving&&function Lr(t,n){throw n&&n.join(" > "),new Ze(-200,t)}(function ct(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ct(t)}(a[r]));const p=er(u.canSeeViewProviders);u.resolving=!0;const F=u.injectImpl?Tr(u.injectImpl):null;Sc(t,o,$t.Default);try{i=t[r]=u.factory(void 0,a,t,o),n.firstCreatePass&&r>=o.directiveStart&&function Of(t,n,r){const{ngOnChanges:o,ngOnInit:i,ngDoCheck:a}=n.type.prototype;if(o){const u=ss(n);(r.preOrderHooks??=[]).push(t,u),(r.preOrderCheckHooks??=[]).push(t,u)}i&&(r.preOrderHooks??=[]).push(0-t,i),a&&((r.preOrderHooks??=[]).push(t,a),(r.preOrderCheckHooks??=[]).push(t,a))}(r,a[r],n)}finally{null!==F&&Tr(F),er(p),u.resolving=!1,hu()}}return i}function Dm(t,n,r){return!!(r[n+(t>>ji)]&1<<t)}function Fm(t,n){return!(t&$t.Self||t&$t.Host&&n)}class co{constructor(n,r){this._tNode=n,this._lView=r}get(n,r,o){return xa(this._tNode,this._lView,n,ti(o),r)}}function Ub(){return new co(Ln(),Ve())}function Im(t){return Tt(()=>{const n=t.prototype.constructor,r=n[At]||$f(n),o=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==o;){const a=i[At]||$f(i);if(a&&a!==r)return a;i=Object.getPrototypeOf(i)}return a=>new a})}function $f(t){return re(t)?()=>{const n=$f(be(t));return n&&n()}:Kn(t)}function km(t){const n=t[We],r=n.type;return 2===r?n.declTNode:1===r?t[On]:null}function Vc(t){return function dl(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const r=t.attrs;if(r){const o=r.length;let i=0;for(;i<o;){const a=r[i];if(yt(a))break;if(0===a)i+=2;else if("number"==typeof a)for(i++;i<o&&"string"==typeof r[i];)i++;else{if(a===n)return r[i+1];i+=2}}}return null}(Ln(),t)}function Am(t,n=null,r=null,o){const i=Nm(t,n,r,o);return i.resolveInjectorInitializers(),i}function Nm(t,n=null,r=null,o,i=new Set){const a=[r||k,Ha(t)];return o=o||("object"==typeof t?void 0:ln(t)),new qi(a,n||Hi(),o||null,i)}class jo{static{this.THROW_IF_NOT_FOUND=wo}static{this.NULL=new ce}static create(n,r){if(Array.isArray(n))return Am({name:""},r,n,"");{const o=n.name??"";return Am({name:o},n.parent,n.providers,o)}}static{this.\u0275prov=Zt({token:jo,providedIn:"any",factory:()=>In(z)})}static{this.__NG_ELEMENT_ID__=-1}}new It("").__NG_ELEMENT_ID__=t=>{const n=Ln();if(null===n)throw new Ze(204,!1);if(2&n.type)return n.value;if(t&$t.Optional)return null;throw new Ze(204,!1)};function Uf(t){return t.ngOriginalError}const Om=!0;let hl=(()=>{class t{static{this.__NG_ELEMENT_ID__=Jb}static{this.__NG_ENV_ID__=r=>r}}return t})();class Qb extends hl{constructor(n){super(),this._lView=n}onDestroy(n){return rl(this._lView,n),()=>function su(t,n){if(null===t[si])return;const r=t[si].indexOf(n);-1!==r&&t[si].splice(r,1)}(this._lView,n)}}function Jb(){return new Qb(Ve())}let Ia=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Mt.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=Zt({token:t,providedIn:"root",factory:()=>new t})}}return t})();const ls=class Zb extends Mn.B{constructor(n=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=n,os()&&(this.destroyRef=mt(hl,{optional:!0})??void 0,this.pendingTasks=mt(Ia,{optional:!0})??void 0)}emit(n){const r=H(null);try{super.next(n)}finally{H(r)}}subscribe(n,r,o){let i=n,a=r||(()=>null),u=o;if(n&&"object"==typeof n){const v=n;i=v.next?.bind(v),a=v.error?.bind(v),u=v.complete?.bind(v)}this.__isAsync&&(a=this.wrapInTimeout(a),i&&(i=this.wrapInTimeout(i)),u&&(u=this.wrapInTimeout(u)));const p=super.subscribe({next:i,error:a,complete:u});return n instanceof an.yU&&n.add(p),p}wrapInTimeout(n){return r=>{const o=this.pendingTasks?.add();setTimeout(()=>{n(r),void 0!==o&&this.pendingTasks?.remove(o)})}}};function Bc(...t){}function jm(t){let n,r;function o(){t=Bc;try{void 0!==r&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(r),void 0!==n&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{t(),o()}),"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(()=>{t(),o()})),()=>o()}function Lm(t){return queueMicrotask(()=>t()),()=>{t=Bc}}const Bf="isAngularZone",Gc=Bf+"_ID";let eE=0;class br{constructor(n){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ls(!1),this.onMicrotaskEmpty=new ls(!1),this.onStable=new ls(!1),this.onError=new ls(!1);const{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:a=Om}=n;if(typeof Zone>"u")throw new Ze(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!i&&o,u.shouldCoalesceRunChangeDetection=i,u.callbackScheduled=!1,u.scheduleInRootZone=a,function rE(t){const n=()=>{!function nE(t){function n(){jm(()=>{t.callbackScheduled=!1,Hf(t),t.isCheckStableRunning=!0,Gf(t),t.isCheckStableRunning=!1})}t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,t.scheduleInRootZone?Zone.root.run(()=>{n()}):t._outer.run(()=>{n()}),Hf(t))}(t)},r=eE++;t._inner=t._inner.fork({name:"angular",properties:{[Bf]:!0,[Gc]:r,[Gc+r]:!0},onInvokeTask:(o,i,a,u,p,v)=>{if(function oE(t){return Um(t,"__ignore_ng_zone__")}(v))return o.invokeTask(a,u,p,v);try{return $m(t),o.invokeTask(a,u,p,v)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===u.type||t.shouldCoalesceRunChangeDetection)&&n(),Vm(t)}},onInvoke:(o,i,a,u,p,v,F)=>{try{return $m(t),o.invoke(a,u,p,v,F)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!function iE(t){return Um(t,"__scheduler_tick__")}(v)&&n(),Vm(t)}},onHasTask:(o,i,a,u)=>{o.hasTask(a,u),i===a&&("microTask"==u.change?(t._hasPendingMicrotasks=u.microTask,Hf(t),Gf(t)):"macroTask"==u.change&&(t.hasPendingMacrotasks=u.macroTask))},onHandleError:(o,i,a,u)=>(o.handleError(a,u),t.runOutsideAngular(()=>t.onError.emit(u)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Bf)}static assertInAngularZone(){if(!br.isInAngularZone())throw new Ze(909,!1)}static assertNotInAngularZone(){if(br.isInAngularZone())throw new Ze(909,!1)}run(n,r,o){return this._inner.run(n,r,o)}runTask(n,r,o,i){const a=this._inner,u=a.scheduleEventTask("NgZoneEvent: "+i,n,tE,Bc,Bc);try{return a.runTask(u,r,o)}finally{a.cancelTask(u)}}runGuarded(n,r,o){return this._inner.runGuarded(n,r,o)}runOutsideAngular(n){return this._outer.run(n)}}const tE={};function Gf(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Hf(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&!0===t.callbackScheduled)}function $m(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Vm(t){t._nesting--,Gf(t)}class qf{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ls,this.onMicrotaskEmpty=new ls,this.onStable=new ls,this.onError=new ls}run(n,r,o){return n.apply(r,o)}runGuarded(n,r,o){return n.apply(r,o)}runOutsideAngular(n){return n()}runTask(n,r,o,i){return n.apply(r,o)}}function Um(t,n){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0]?.data?.[n]}class Ss{constructor(){this._console=console}handleError(n){const r=this._findOriginalError(n);this._console.error("ERROR",n),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(n){let r=n&&Uf(n);for(;r&&Uf(r);)r=Uf(r);return r||null}}const aE=new It("",{providedIn:"root",factory:()=>{const t=mt(br),n=mt(Ss);return r=>t.runOutsideAngular(()=>n.handleError(r))}});function lE(){return ml(Ln(),Ve())}function ml(t,n){return new _u(Mo(t,n))}let _u=(()=>{class t{constructor(r){this.nativeElement=r}static{this.__NG_ELEMENT_ID__=lE}}return t})();function Gm(t){return t instanceof _u?t.nativeElement:t}function uE(){return this._results[Symbol.iterator]()}class zf{get changes(){return this._changes??=new ls}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=zf.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=uE)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,r){return this._results.reduce(n,r)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,r){this.dirty=!1;const o=function Nn(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Bo(t,n,r){if(t.length!==n.length)return!1;for(let o=0;o<t.length;o++){let i=t[o],a=n[o];if(r&&(i=r(i),a=r(a)),a!==i)return!1}return!0}(this._results,o,r))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function bu(t){return!(128&~t.flags)}const Yf=new Map;let dE=0;function Xf(t){Yf.delete(t[zi])}const Hc="__ngContext__";function Lo(t,n){Ar(n)?(t[Hc]=n[zi],function pE(t){Yf.set(t[zi],t)}(n)):t[Hc]=n}function Zm(t){return tg(t[Es])}function eg(t){return tg(t[yr])}function tg(t){for(;null!==t&&!Br(t);)t=t[yr];return t}let Qf;function ME(t){Qf=t}function Xs(){if(void 0!==Qf)return Qf;if(typeof document<"u")return document;throw new Ze(210,!1)}const zc=new It("",{providedIn:"root",factory:()=>TE}),TE="ng",ug=new It(""),Wc=new It("",{providedIn:"platform",factory:()=>"unknown"}),SE=new It("",{providedIn:"root",factory:()=>Xs().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let cg=()=>null;function op(t,n,r=!1){return cg(t,n,r)}const _g=new It("",{providedIn:"root",factory:()=>!1});let ed,td;function yl(t){return function up(){if(void 0===ed&&(ed=null,rn.trustedTypes))try{ed=rn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ed}()?.createHTML(t)||t}function cp(){if(void 0===td&&(td=null,rn.trustedTypes))try{td=rn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return td}function Eg(t){return cp()?.createHTML(t)||t}function wg(t){return cp()?.createScriptURL(t)||t}class Ma{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${$n})`}}class qE extends Ma{getTypeName(){return"HTML"}}class zE extends Ma{getTypeName(){return"Style"}}class WE extends Ma{getTypeName(){return"Script"}}class YE extends Ma{getTypeName(){return"URL"}}class XE extends Ma{getTypeName(){return"ResourceURL"}}function Rs(t){return t instanceof Ma?t.changingThisBreaksApplicationSecurity:t}function bl(t,n){const r=function KE(t){return t instanceof Ma&&t.getTypeName()||null}(t);if(null!=r&&r!==n){if("ResourceURL"===r&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${r} (see ${$n})`)}return r===n}function QE(t){return new qE(t)}function JE(t){return new zE(t)}function ZE(t){return new WE(t)}function eC(t){return new YE(t)}function tC(t){return new XE(t)}class nC{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const r=(new window.DOMParser).parseFromString(yl(n),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(n):(r.firstChild?.remove(),r)}catch{return null}}}class rC{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const r=this.inertDocument.createElement("template");return r.innerHTML=yl(n),r}}const iC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function nd(t){return(t=String(t)).match(iC)?t:"unsafe:"+t}function As(t){const n={};for(const r of t.split(","))n[r]=!0;return n}function Iu(...t){const n={};for(const r of t)for(const o in r)r.hasOwnProperty(o)&&(n[o]=!0);return n}const Dg=As("area,br,col,hr,img,wbr"),Fg=As("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ig=As("rp,rt"),dp=Iu(Dg,Iu(Fg,As("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Iu(Ig,As("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Iu(Ig,Fg)),fp=As("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),kg=Iu(fp,As("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),As("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),sC=As("script,style,template");class aC{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let r=n.firstChild,o=!0,i=[];for(;r;)if(r.nodeType===Node.ELEMENT_NODE?o=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,o&&r.firstChild)i.push(r),r=cC(r);else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let a=uC(r);if(a){r=a;break}r=i.pop()}return this.buf.join("")}startElement(n){const r=Mg(n).toLowerCase();if(!dp.hasOwnProperty(r))return this.sanitizedSomething=!0,!sC.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const o=n.attributes;for(let i=0;i<o.length;i++){const a=o.item(i),u=a.name,p=u.toLowerCase();if(!kg.hasOwnProperty(p)){this.sanitizedSomething=!0;continue}let v=a.value;fp[p]&&(v=nd(v)),this.buf.push(" ",u,'="',Sg(v),'"')}return this.buf.push(">"),!0}endElement(n){const r=Mg(n).toLowerCase();dp.hasOwnProperty(r)&&!Dg.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(n){this.buf.push(Sg(n))}}function uC(t){const n=t.nextSibling;if(n&&t!==n.previousSibling)throw Tg(n);return n}function cC(t){const n=t.firstChild;if(n&&function lC(t,n){return(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(t,n))throw Tg(n);return n}function Mg(t){const n=t.nodeName;return"string"==typeof n?n:"FORM"}function Tg(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}const dC=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fC=/([^\#-~ |!])/g;function Sg(t){return t.replace(/&/g,"&amp;").replace(dC,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(fC,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let rd;function Rg(t,n){let r=null;try{rd=rd||function xg(t){const n=new rC(t);return function oC(){try{return!!(new window.DOMParser).parseFromString(yl(""),"text/html")}catch{return!1}}()?new nC(n):n}(t);let o=n?String(n):"";r=rd.getInertBodyElement(o);let i=5,a=o;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,o=a,a=r.innerHTML,r=rd.getInertBodyElement(o)}while(o!==a);return yl((new aC).sanitizeChildren(pp(r)||r))}finally{if(r){const o=pp(r)||r;for(;o.firstChild;)o.firstChild.remove()}}}function pp(t){return"content"in t&&function pC(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Ta=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ta||{});function Ag(t){const n=ku();return n?Eg(n.sanitize(Ta.HTML,t)||""):bl(t,"HTML")?Eg(Rs(t)):Rg(Xs(),Ct(t))}function hp(t){const n=ku();return n?n.sanitize(Ta.URL,t)||"":bl(t,"URL")?Rs(t):nd(Ct(t))}function Ng(t){const n=ku();if(n)return wg(n.sanitize(Ta.RESOURCE_URL,t)||"");if(bl(t,"ResourceURL"))return wg(Rs(t));throw new Ze(904,!1)}function Pg(t,n,r){return function _C(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?Ng:hp}(n,r)(t)}function ku(){const t=Ve();return t&&t[Ur].sanitizer}const yC=/^>|^->|<!--|-->|--!>|<!-$/g,bC=/(<|>)/g,EC="\u200b$1\u200b";function Vg(t){return t.ownerDocument.defaultView}function Di(t){return t instanceof Function?t():t}var sd=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(sd||{});let vp;function _p(t,n){return vp(t,n)}function Cl(t,n,r,o,i){if(null!=o){let a,u=!1;Br(o)?a=o:Ar(o)&&(u=!0,o=o[gt]);const p=En(o);0===t&&null!==r?null==i?Xg(n,r,p):Sa(n,r,p,i||null,!0):1===t&&null!==r?Sa(n,r,p,i||null,!0):2===t?function Tu(t,n,r){t.removeChild(null,n,r)}(n,p,u):3===t&&n.destroyNode(p),null!=a&&function VC(t,n,r,o,i){const a=r[bi];a!==En(r)&&Cl(n,t,o,a,i);for(let p=fr;p<r.length;p++){const v=r[p];cd(v[We],v,t,n,o,a)}}(n,t,a,r,i)}}function bp(t,n){return t.createComment(function Og(t){return t.replace(yC,n=>n.replace(bC,EC))}(n))}function ad(t,n,r){return t.createElement(n,r)}function zg(t,n){n[Ur].changeDetectionScheduler?.notify(9),cd(t,n,n[Nt],2,null,null)}function Wg(t,n){const r=t[xs],o=n[mn];(Ar(o)||n[Qn]!==o[mn][Qn])&&(t[vt]|=Vs.HasTransplantedViews),null===r?t[xs]=[n]:r.push(n)}function Ep(t,n){const r=t[xs],o=r.indexOf(n);r.splice(o,1)}function Mu(t,n){if(t.length<=fr)return;const r=fr+n,o=t[r];if(o){const i=o[is];null!==i&&i!==t&&Ep(i,o),n>0&&(t[r-1][yr]=o[yr]);const a=oi(t,fr+n);!function RC(t,n){zg(t,n),n[gt]=null,n[On]=null}(o[We],o);const u=a[Pi];null!==u&&u.detachView(a[We]),o[mn]=null,o[yr]=null,o[vt]&=-129}return o}function ld(t,n){if(!(256&n[vt])){const r=n[Nt];r.destroyNode&&cd(t,n,r,3,null,null),function NC(t){let n=t[Es];if(!n)return Cp(t[We],t);for(;n;){let r=null;if(Ar(n))r=n[Es];else{const o=n[fr];o&&(r=o)}if(!r){for(;n&&!n[yr]&&n!==t;)Ar(n)&&Cp(n[We],n),n=n[mn];null===n&&(n=t),Ar(n)&&Cp(n[We],n),r=n&&n[yr]}n=r}}(n)}}function Cp(t,n){if(256&n[vt])return;const r=H(null);try{n[vt]&=-129,n[vt]|=256,n[Oo]&&le(n[Oo]),function jC(t,n){let r;if(null!=t&&null!=(r=t.destroyHooks))for(let o=0;o<r.length;o+=2){const i=n[r[o]];if(!(i instanceof ya)){const a=r[o+1];if(Array.isArray(a))for(let u=0;u<a.length;u+=2){const p=i[a[u]],v=a[u+1];Oi(4,p,v);try{v.call(p)}finally{Oi(5,p,v)}}else{Oi(4,i,a);try{a.call(i)}finally{Oi(5,i,a)}}}}}(t,n),function OC(t,n){const r=t.cleanup,o=n[ur];if(null!==r)for(let a=0;a<r.length-1;a+=2)if("string"==typeof r[a]){const u=r[a+3];u>=0?o[u]():o[-u].unsubscribe(),a+=2}else r[a].call(o[r[a+1]]);null!==o&&(n[ur]=null);const i=n[si];if(null!==i){n[si]=null;for(let a=0;a<i.length;a++)(0,i[a])()}}(t,n),1===n[We].type&&n[Nt].destroy();const o=n[is];if(null!==o&&Br(n[mn])){o!==n[mn]&&Ep(o,n);const i=n[Pi];null!==i&&i.detachView(t)}Xf(n)}finally{H(r)}}function wp(t,n,r){return function Yg(t,n,r){let o=n;for(;null!==o&&168&o.type;)o=(n=o).parent;if(null===o)return r[gt];{const{componentOffset:i}=o;if(i>-1){const{encapsulation:a}=t.data[o.directiveStart+i];if(a===ie.None||a===ie.Emulated)return null}return Mo(o,r)}}(t,n.parent,r)}function Sa(t,n,r,o,i){t.insertBefore(n,r,o,i)}function Xg(t,n,r){t.appendChild(n,r)}function Kg(t,n,r,o,i){null!==o?Sa(t,n,r,o,i):Xg(t,n,r)}function xp(t,n){return t.parentNode(n)}function Qg(t,n,r){return Zg(t,n,r)}let Dp,Zg=function Jg(t,n,r){return 40&t.type?Mo(t,r):null};function ud(t,n,r,o){const i=wp(t,o,n),a=n[Nt],p=Qg(o.parent||n[On],o,n);if(null!=i)if(Array.isArray(r))for(let v=0;v<r.length;v++)Kg(a,i,r[v],p,!1);else Kg(a,i,r,p,!1);void 0!==Dp&&Dp(a,o,n,r,i)}function Ra(t,n){if(null!==n){const r=n.type;if(3&r)return Mo(n,t);if(4&r)return Fp(-1,t[n.index]);if(8&r){const o=n.child;if(null!==o)return Ra(t,o);{const i=t[n.index];return Br(i)?Fp(-1,i):En(i)}}if(128&r)return Ra(t,n.next);if(32&r)return _p(n,t)()||En(t[n.index]);{const o=t0(t,n);return null!==o?Array.isArray(o)?o[0]:Ra(Yi(t[Qn]),o):Ra(t,n.next)}}return null}function t0(t,n){return null!==n?t[Qn][On].projection[n.projection]:null}function Fp(t,n){const r=fr+t+1;if(r<n.length){const o=n[r],i=o[We].firstChild;if(null!==i)return Ra(o,i)}return n[bi]}function Ip(t,n,r,o,i,a,u){for(;null!=r;){if(128===r.type){r=r.next;continue}const p=o[r.index],v=r.type;if(u&&0===n&&(p&&Lo(En(p),o),r.flags|=2),32&~r.flags)if(8&v)Ip(t,n,r.child,o,i,a,!1),Cl(n,t,i,p,a);else if(32&v){const F=_p(r,o);let N;for(;N=F();)Cl(n,t,i,N,a);Cl(n,t,i,p,a)}else 16&v?r0(t,n,o,r,i,a):Cl(n,t,i,p,a);r=u?r.projectionNext:r.next}}function cd(t,n,r,o,i,a){Ip(r,o,t.firstChild,n,i,a,!1)}function r0(t,n,r,o,i,a){const u=r[Qn],v=u[On].projection[o.projection];if(Array.isArray(v))for(let F=0;F<v.length;F++)Cl(n,t,i,v[F],a);else{let F=v;const N=u[mn];bu(o)&&(F.flags|=128),Ip(t,n,F,N,i,a,!0)}}function o0(t,n,r){""===r?t.removeAttribute(n,"class"):t.setAttribute(n,"class",r)}function s0(t,n,r){const{mergedAttrs:o,classes:i,styles:a}=r;null!==o&&bt(t,n,o),null!==i&&o0(t,n,i),null!==a&&function BC(t,n,r){t.setAttribute(n,"style",r)}(t,n,a)}const tn={};function a0(t=1){l0(un(),Ve(),uo()+t,!1)}function l0(t,n,r,o){if(!o)if(3&~n[vt]){const a=t.preOrderHooks;null!==a&&cl(n,a,0,r)}else{const a=t.preOrderCheckHooks;null!==a&&ul(n,a,r)}ks(r)}function wl(t,n=$t.Default){const r=Ve();return null===r?In(t,n):xa(Ln(),r,be(t),n)}function u0(){throw new Error("invalid")}function c0(t,n,r,o,i,a){const u=H(null);try{let p=null;i&Ue.SignalBased&&(p=n[o][S]),null!==p&&void 0!==p.transformFn&&(a=p.transformFn(a)),i&Ue.HasDecoratorInputTransform&&(a=t.inputTransforms[o].call(n,a)),null!==t.setInput?t.setInput(n,p,a,r,o):Ci(n,p,o,a)}finally{H(u)}}function dd(t,n,r,o,i,a,u,p,v,F,N){const W=n.blueprint.slice();return W[gt]=i,W[vt]=204|o,(null!==F||t&&2048&t[vt])&&(W[vt]|=2048),vc(W),W[mn]=W[lo]=t,W[_n]=r,W[Ur]=u||t&&t[Ur],W[Nt]=p||t&&t[Nt],W[jn]=v||t&&t[jn]||null,W[On]=a,W[zi]=function fE(){return dE++}(),W[dr]=N,W[fa]=F,W[Qn]=2==n.type?t[Qn]:W,W}function Aa(t,n,r,o,i){let a=t.data[n];if(null===a)a=function kp(t,n,r,o,i){const a=xc(),u=uu(),v=t.data[n]=function KC(t,n,r,o,i,a){let u=n?n.injectorIndex:-1,p=0;return Is()&&(p|=128),{type:r,index:o,insertBeforeIndex:null,injectorIndex:u,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:p,providerIndexes:0,value:i,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,u?a:a&&a.parent,r,n,o,i);return null===t.firstChild&&(t.firstChild=v),null!==a&&(u?null==a.child&&null!==v.parent&&(a.child=v):null===a.next&&(a.next=v,v.prev=a)),v}(t,n,r,o,i),function Mf(){return Vt.lFrame.inI18n}()&&(a.flags|=32);else if(64&a.type){a.type=r,a.value=o,a.attrs=i;const u=function ga(){const t=Vt.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();a.injectorIndex=null===u?-1:u.injectorIndex}return wi(a,!0),a}function Su(t,n,r,o){if(0===r)return-1;const i=n.length;for(let a=0;a<r;a++)n.push(o),t.blueprint.push(o),t.data.push(null);return i}function d0(t,n,r,o,i){const a=uo(),u=2&o;try{ks(-1),u&&n.length>Et&&l0(t,n,Et,!1),Oi(u?2:0,i),r(o,i)}finally{ks(a),Oi(u?3:1,i)}}function Mp(t,n,r){if(ha(n)){const o=H(null);try{const a=n.directiveEnd;for(let u=n.directiveStart;u<a;u++){const p=t.data[u];p.contentQueries&&p.contentQueries(1,r[u],u)}}finally{H(o)}}}function Tp(t,n,r){Ec()&&(function rw(t,n,r,o){const i=r.directiveStart,a=r.directiveEnd;Wi(r)&&function cw(t,n,r){const o=Mo(n,t),i=f0(r);let u=16;r.signals?u=4096:r.onPush&&(u=64);const p=fd(t,dd(t,i,null,u,o,n,null,t[Ur].rendererFactory.createRenderer(o,r),null,null,null));t[n.index]=p}(n,r,t.data[i+r.componentOffset]),t.firstCreatePass||Ea(r,n),Lo(o,n);const u=r.initialInputs;for(let p=i;p<a;p++){const v=t.data[p],F=Fa(n,t,p,r);Lo(F,n),null!==u&&dw(0,p-i,F,v,0,u),qo(v)&&(zo(r.index,n)[_n]=Fa(n,t,p,r))}}(t,n,r,Mo(r,n)),!(64&~r.flags)&&v0(t,n,r))}function Sp(t,n,r=Mo){const o=n.localNames;if(null!==o){let i=n.index+1;for(let a=0;a<o.length;a+=2){const u=o[a+1],p=-1===u?r(n,t):t[u];t[i++]=p}}}function f0(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Rp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Rp(t,n,r,o,i,a,u,p,v,F,N){const W=Et+o,oe=W+i,ge=function HC(t,n){const r=[];for(let o=0;o<n;o++)r.push(o<t?null:tn);return r}(W,oe),we="function"==typeof F?F():F;return ge[We]={type:t,blueprint:ge,template:r,queries:null,viewQuery:p,declTNode:n,data:ge.slice().fill(null,W),bindingStartIndex:W,expandoStartIndex:oe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof u?u():u,firstChild:null,schemas:v,consts:we,incompleteFirstPass:!1,ssrId:N}}let p0=()=>null;function h0(t,n,r,o,i){for(let a in n){if(!n.hasOwnProperty(a))continue;const u=n[a];if(void 0===u)continue;o??={};let p,v=Ue.None;Array.isArray(u)?(p=u[0],v=u[1]):p=u;let F=a;if(null!==i){if(!i.hasOwnProperty(a))continue;F=i[a]}0===t?m0(o,r,F,p,v):m0(o,r,F,p)}return o}function m0(t,n,r,o,i){let a;t.hasOwnProperty(r)?(a=t[r]).push(n,o):a=t[r]=[n,o],void 0!==i&&a.push(i)}function ui(t,n,r,o,i,a,u,p){const v=Mo(n,r);let N,F=n.inputs;!p&&null!=F&&(N=F[o])?(jp(t,r,N,o,i),Wi(n)&&function ZC(t,n){const r=zo(n,t);16&r[vt]||(r[vt]|=64)}(r,n.index)):3&n.type&&(o=function JC(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(o),i=null!=u?u(i,n.value||"",o):i,a.setProperty(v,o,i))}function Ap(t,n,r,o){if(Ec()){const i=null===o?null:{"":-1},a=function iw(t,n){const r=t.directiveRegistry;let o=null,i=null;if(r)for(let a=0;a<r.length;a++){const u=r[a];if(G(n,u.selectors,!1))if(o||(o=[]),qo(u))if(null!==u.findHostDirectiveDefs){const p=[];i=i||new Map,u.findHostDirectiveDefs(u,p,i),o.unshift(...p,u),Np(t,n,p.length)}else o.unshift(u),Np(t,n,0);else i=i||new Map,u.findHostDirectiveDefs?.(u,o,i),o.push(u)}return null===o?null:[o,i]}(t,r);let u,p;null===a?u=p=null:[u,p]=a,null!==u&&g0(t,n,r,u,i,p),i&&function sw(t,n,r){if(n){const o=t.localNames=[];for(let i=0;i<n.length;i+=2){const a=r[n[i+1]];if(null==a)throw new Ze(-301,!1);o.push(n[i],a)}}}(r,o,i)}r.mergedAttrs=Wt(r.mergedAttrs,r.attrs)}function g0(t,n,r,o,i,a){for(let F=0;F<o.length;F++)Ys(Ea(r,n),t,o[F].type);!function lw(t,n,r){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+r,t.providerIndexes=n}(r,t.data.length,o.length);for(let F=0;F<o.length;F++){const N=o[F];N.providersResolver&&N.providersResolver(N)}let u=!1,p=!1,v=Su(t,n,o.length,null);for(let F=0;F<o.length;F++){const N=o[F];r.mergedAttrs=Wt(r.mergedAttrs,N.hostAttrs),uw(t,r,n,v,N),aw(v,N,i),null!==N.contentQueries&&(r.flags|=4),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(r.flags|=64);const W=N.type.prototype;!u&&(W.ngOnChanges||W.ngOnInit||W.ngDoCheck)&&((t.preOrderHooks??=[]).push(r.index),u=!0),!p&&(W.ngOnChanges||W.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(r.index),p=!0),v++}!function QC(t,n,r){const i=n.directiveEnd,a=t.data,u=n.attrs,p=[];let v=null,F=null;for(let N=n.directiveStart;N<i;N++){const W=a[N],oe=r?r.get(W):null,we=oe?oe.outputs:null;v=h0(0,W.inputs,N,v,oe?oe.inputs:null),F=h0(1,W.outputs,N,F,we);const He=null===v||null===u||ar(n)?null:fw(v,N,u);p.push(He)}null!==v&&(v.hasOwnProperty("class")&&(n.flags|=8),v.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=p,n.inputs=v,n.outputs=F}(t,r,a)}function v0(t,n,r){const o=r.directiveStart,i=r.directiveEnd,a=r.index,u=function Sf(){return Vt.lFrame.currentDirectiveIndex}();try{ks(a);for(let p=o;p<i;p++){const v=t.data[p],F=n[p];du(p),(null!==v.hostBindings||0!==v.hostVars||null!==v.hostAttrs)&&ow(v,F)}}finally{ks(-1),du(u)}}function ow(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Np(t,n,r){n.componentOffset=r,(t.components??=[]).push(n.index)}function aw(t,n,r){if(r){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)r[n.exportAs[o]]=t;qo(n)&&(r[""]=t)}}function uw(t,n,r,o,i){t.data[o]=i;const a=i.factory||(i.factory=Kn(i.type)),u=new ya(a,qo(i),wl);t.blueprint[o]=u,r[o]=u,function tw(t,n,r,o,i){const a=i.hostBindings;if(a){let u=t.hostBindingOpCodes;null===u&&(u=t.hostBindingOpCodes=[]);const p=~n.index;(function nw(t){let n=t.length;for(;n>0;){const r=t[--n];if("number"==typeof r&&r<0)return r}return 0})(u)!=p&&u.push(p),u.push(r,o,a)}}(t,n,o,Su(t,r,i.hostVars,tn),i)}function us(t,n,r,o,i,a){const u=Mo(t,n);!function Pp(t,n,r,o,i,a,u){if(null==a)t.removeAttribute(n,i,r);else{const p=null==u?Ct(a):u(a,o||"",i);t.setAttribute(n,i,p,r)}}(n[Nt],u,a,t.value,r,o,i)}function dw(t,n,r,o,i,a){const u=a[n];if(null!==u)for(let p=0;p<u.length;)c0(o,r,u[p++],u[p++],u[p++],u[p++])}function fw(t,n,r){let o=null,i=0;for(;i<r.length;){const a=r[i];if(0!==a)if(5!==a){if("number"==typeof a)break;if(t.hasOwnProperty(a)){null===o&&(o=[]);const u=t[a];for(let p=0;p<u.length;p+=3)if(u[p]===n){o.push(a,u[p+1],u[p+2],r[i+1]);break}}i+=2}else i+=2;else i+=4}return o}function _0(t,n,r,o){return[t,!0,0,n,null,o,null,r,null,null]}function y0(t,n){const r=t.contentQueries;if(null!==r){const o=H(null);try{for(let i=0;i<r.length;i+=2){const u=r[i+1];if(-1!==u){const p=t.data[u];il(r[i]),p.contentQueries(2,n[u],u)}}}finally{H(o)}}}function fd(t,n){return t[Es]?t[da][yr]=n:t[Es]=n,t[da]=n,n}function Op(t,n,r){il(0);const o=H(null);try{n(t,r)}finally{H(o)}}function b0(t){return t[ur]??=[]}function E0(t){return t.cleanup??=[]}function pd(t,n){const r=t[jn],o=r?r.get(Ss,null):null;o&&o.handleError(n)}function jp(t,n,r,o,i){for(let a=0;a<r.length;){const u=r[a++],p=r[a++],v=r[a++];c0(t.data[u],n[u],o,p,v,i)}}function Ns(t,n,r){const o=as(n,t);!function qg(t,n,r){t.setValue(n,r)}(t[Nt],o,r)}function pw(t,n){const r=zo(n,t),o=r[We];!function hw(t,n){for(let r=n.length;r<t.blueprint.length;r++)n.push(t.blueprint[r])}(o,r);const i=r[gt];null!==i&&null===r[dr]&&(r[dr]=op(i,r[jn])),Lp(o,r,r[_n])}function Lp(t,n,r){pu(n);try{const o=t.viewQuery;null!==o&&Op(1,o,r);const i=t.template;null!==i&&d0(t,n,i,1,r),t.firstCreatePass&&(t.firstCreatePass=!1),n[Pi]?.finishViewCreation(t),t.staticContentQueries&&y0(t,n),t.staticViewQueries&&Op(2,t.viewQuery,r);const a=t.components;null!==a&&function mw(t,n){for(let r=0;r<n.length;r++)pw(t,n[r])}(n,a)}catch(o){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),o}finally{n[vt]&=-5,mu()}}function xl(t,n,r,o){const i=H(null);try{const a=n.tView,v=dd(t,a,r,4096&t[vt]?4096:16,null,n,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null);v[is]=t[n.index];const N=t[Pi];return null!==N&&(v[Pi]=N.createEmbeddedView(a)),Lp(a,v,r),v}finally{H(i)}}function Na(t,n){return!n||null===n.firstChild||bu(t)}function Dl(t,n,r,o=!0){const i=n[We];if(function PC(t,n,r,o){const i=fr+o,a=r.length;o>0&&(r[i-1][yr]=n),o<a-fr?(n[yr]=r[i],cr(r,fr+o,n)):(r.push(n),n[yr]=null),n[mn]=r;const u=n[is];null!==u&&r!==u&&Wg(u,n);const p=n[Pi];null!==p&&p.insertView(t),iu(n),n[vt]|=128}(i,n,t,r),o){const u=Fp(r,t),p=n[Nt],v=xp(p,t[bi]);null!==v&&function AC(t,n,r,o,i,a){o[gt]=i,o[On]=n,cd(t,o,r,1,i,a)}(i,t[On],p,n,v,u)}const a=n[dr];null!==a&&null!==a.firstChild&&(a.firstChild=null)}function Ru(t,n,r,o,i=!1){for(;null!==r;){if(128===r.type){r=i?r.projectionNext:r.next;continue}const a=n[r.index];null!==a&&o.push(En(a)),Br(a)&&x0(a,o);const u=r.type;if(8&u)Ru(t,n,r.child,o);else if(32&u){const p=_p(r,n);let v;for(;v=p();)o.push(v)}else if(16&u){const p=t0(n,r);if(Array.isArray(p))o.push(...p);else{const v=Yi(n[Qn]);Ru(v[We],v,p,o,!0)}}r=i?r.projectionNext:r.next}return o}function x0(t,n){for(let r=fr;r<t.length;r++){const o=t[r],i=o[We].firstChild;null!==i&&Ru(o[We],o,i,n)}t[bi]!==t[gt]&&n.push(t[bi])}let D0=[];const yw={...ve,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{nl(t.lView)},consumerOnSignalRead(){this.lView[Oo]=this}},Ew={...ve,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let n=Yi(t.lView);for(;n&&!F0(n[We]);)n=Yi(n);n&&_c(n)},consumerOnSignalRead(){this.lView[Oo]=this}};function F0(t){return 2!==t.type}const Cw=100;function hd(t,n=!0,r=0){const o=t[Ur],i=o.rendererFactory;i.begin?.();try{!function ww(t,n){const r=Ic();try{kc(!0),Vp(t,n);let o=0;for(;tl(t);){if(o===Cw)throw new Ze(103,!1);o++,Vp(t,1)}}finally{kc(r)}}(t,r)}catch(u){throw n&&pd(t,u),u}finally{i.end?.(),o.inlineEffectRunner?.flush()}}function xw(t,n,r,o){const i=n[vt];if(!(256&~i))return;n[Ur].inlineEffectRunner?.flush(),pu(n);let p=!0,v=null,F=null;F0(t)?(F=function gw(t){return t[Oo]??function vw(t){const n=D0.pop()??Object.create(yw);return n.lView=t,n}(t)}(n),v=U(F)):null===E()?(p=!1,F=function bw(t){const n=t[Oo]??Object.create(Ew);return n.lView=t,n}(n),v=U(F)):n[Oo]&&(le(n[Oo]),n[Oo]=null);try{vc(n),function Mc(t){return Vt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==r&&d0(t,n,r,2,o);const N=!(3&~i);if(N){const ge=t.preOrderCheckHooks;null!==ge&&ul(n,ge,null)}else{const ge=t.preOrderHooks;null!==ge&&cl(n,ge,0,null),Hs(n,0)}if(function Dw(t){for(let n=Zm(t);null!==n;n=eg(n)){if(!(n[vt]&Vs.HasTransplantedViews))continue;const r=n[xs];for(let o=0;o<r.length;o++)_c(r[o])}}(n),k0(n,0),null!==t.contentQueries&&y0(t,n),N){const ge=t.contentCheckHooks;null!==ge&&ul(n,ge)}else{const ge=t.contentHooks;null!==ge&&cl(n,ge,1),Hs(n,1)}!function GC(t,n){const r=t.hostBindingOpCodes;if(null!==r)try{for(let o=0;o<r.length;o++){const i=r[o];if(i<0)ks(~i);else{const a=i,u=r[++o],p=r[++o];Tf(u,a),p(2,n[a])}}}finally{ks(-1)}}(t,n);const W=t.components;null!==W&&T0(n,W,0);const oe=t.viewQuery;if(null!==oe&&Op(2,oe,o),N){const ge=t.viewCheckHooks;null!==ge&&ul(n,ge)}else{const ge=t.viewHooks;null!==ge&&cl(n,ge,2),Hs(n,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Ls]){for(const ge of n[Ls])ge();n[Ls]=null}n[vt]&=-73}catch(N){throw nl(n),N}finally{null!==F&&(B(F,v),p&&function _w(t){t.lView[Oo]!==t&&(t.lView=null,D0.push(t))}(F)),mu()}}function k0(t,n){for(let r=Zm(t);null!==r;r=eg(r))for(let o=fr;o<r.length;o++)M0(r[o],n)}function Fw(t,n,r){M0(zo(n,t),r)}function M0(t,n){ou(t)&&Vp(t,n)}function Vp(t,n){const o=t[We],i=t[vt],a=t[Oo];let u=!!(0===n&&16&i);if(u||=!!(64&i&&0===n),u||=!!(1024&i),u||=!(!a?.dirty||!he(a)),u||=!1,a&&(a.dirty=!1),t[vt]&=-9217,u)xw(o,t,o.template,t[_n]);else if(8192&i){k0(t,1);const p=o.components;null!==p&&T0(t,p,1)}}function T0(t,n,r){for(let o=0;o<n.length;o++)Fw(t,n[o],r)}function Au(t,n){const r=Ic()?64:1088;for(t[Ur].changeDetectionScheduler?.notify(n);t;){t[vt]|=r;const o=Yi(t);if(Ds(t)&&!o)return t;t=o}return null}class Nu{get rootNodes(){const n=this._lView,r=n[We];return Ru(r,n,r.firstChild,[])}constructor(n,r,o=!0){this._lView=n,this._cdRefInjectingView=r,this.notifyErrorHandler=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[_n]}set context(n){this._lView[_n]=n}get destroyed(){return!(256&~this._lView[vt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[mn];if(Br(n)){const r=n[8],o=r?r.indexOf(this):-1;o>-1&&(Mu(n,o),oi(r,o))}this._attachedToViewContainer=!1}ld(this._lView[We],this._lView)}onDestroy(n){rl(this._lView,n)}markForCheck(){Au(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[vt]&=-129}reattach(){iu(this._lView),this._lView[vt]|=128}detectChanges(){this._lView[vt]|=1024,hd(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ze(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=Ds(this._lView),r=this._lView[is];null!==r&&!n&&Ep(r,this._lView),zg(this._lView[We],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Ze(902,!1);this._appRef=n;const r=Ds(this._lView),o=this._lView[is];null!==o&&!r&&Wg(o,this._lView),iu(this._lView)}}let Pu=(()=>{class t{static{this.__NG_ELEMENT_ID__=Mw}}return t})();const Iw=Pu,kw=class extends Iw{constructor(n,r,o){super(),this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,o){const i=xl(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:o});return new Nu(i)}};function Mw(){return md(Ln(),Ve())}function md(t,n){return 4&t.type?new kw(n,t,ml(t,n)):null}let Q0=()=>null;function Oa(t,n){return Q0(t,n)}class Il{}const Gu=new It("",{providedIn:"root",factory:()=>!1}),J0=new It(""),Qp=new It("");class E2{}class Z0{}class w2{resolveComponentFactory(n){throw function C2(t){const n=Error(`No component factory found for ${ln(t)}.`);return n.ngComponent=t,n}(n)}}class Ed{static{this.NULL=new w2}}class Jp{}let x2=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function D2(){const t=Ve(),r=zo(Ln().index,t);return(Ar(r)?r:t)[Nt]}()}}return t})(),F2=(()=>{class t{static{this.\u0275prov=Zt({token:t,providedIn:"root",factory:()=>null})}}return t})();function Ks(t){return!!Rr(t)}function wd(t,n,r){let o=r?t.styles:null,i=r?t.classes:null,a=0;if(null!==n)for(let u=0;u<n.length;u++){const p=n[u];"number"==typeof p?a=p:1==a?i=Tn(i,p):2==a&&(o=Tn(o,p+": "+n[++u]+";"))}r?t.styles=o:t.stylesWithoutHost=o,r?t.classes=i:t.classesWithoutHost=i}class rv extends Ed{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const r=Gt(n);return new zu(r,this.ngModule)}}function ov(t,n){const r=[];for(const o in t){if(!t.hasOwnProperty(o))continue;const i=t[o];if(void 0===i)continue;const a=Array.isArray(i),u=a?i[0]:i;r.push(n?{propName:u,templateName:o,isSignal:!!((a?i[1]:Ue.None)&Ue.SignalBased)}:{propName:u,templateName:o})}return r}class zu extends Z0{get inputs(){const n=this.componentDef,r=n.inputTransforms,o=ov(n.inputs,!0);if(null!==r)for(const i of o)r.hasOwnProperty(i.propName)&&(i.transform=r[i.propName]);return o}get outputs(){return ov(this.componentDef.outputs,!1)}constructor(n,r){super(),this.componentDef=n,this.ngModule=r,this.componentType=n.type,this.selector=function ta(t){return t.map(Zi).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!r}create(n,r,o,i){const a=H(null);try{let u=(i=i||this.ngModule)instanceof vo?i:i?.injector;u&&null!==this.componentDef.getStandaloneInjector&&(u=this.componentDef.getStandaloneInjector(u)||u);const p=u?new se(n,u):n,v=p.get(Jp,null);if(null===v)throw new Ze(407,!1);const W={rendererFactory:v,sanitizer:p.get(F2,null),inlineEffectRunner:null,changeDetectionScheduler:p.get(Il,null)},oe=v.createRenderer(null,this.componentDef),ge=this.componentDef.selectors[0][0]||"div",we=o?function qC(t,n,r,o){const a=o.get(_g,!1)||r===ie.ShadowDom,u=t.selectRootElement(n,a);return function zC(t){p0(t)}(u),u}(oe,o,this.componentDef.encapsulation,p):ad(oe,ge,function M2(t){const n=t.toLowerCase();return"svg"===n?mc:"math"===n?"math":null}(ge));let He=512;this.componentDef.signals?He|=4096:this.componentDef.onPush||(He|=16);let tt=null;null!==we&&(tt=op(we,p,!0));const it=Rp(0,null,null,1,0,null,null,null,null,null,null),Be=dd(null,it,null,He,null,null,W,oe,p,null,tt);pu(Be);let qt,yn,tr=null;try{const Wr=this.componentDef;let di,Jl=null;Wr.findHostDirectiveDefs?(di=[],Jl=new Map,Wr.findHostDirectiveDefs(Wr,di,Jl),di.push(Wr)):di=[Wr];const Lb=function S2(t,n){const r=t[We],o=Et;return t[o]=n,Aa(r,o,2,"#host",null)}(Be,we);tr=function R2(t,n,r,o,i,a,u){const p=i[We];!function A2(t,n,r,o){for(const i of t)n.mergedAttrs=Wt(n.mergedAttrs,i.hostAttrs);null!==n.mergedAttrs&&(wd(n,n.mergedAttrs,!0),null!==r&&s0(o,r,n))}(o,t,n,u);let v=null;null!==n&&(v=op(n,i[jn]));const F=a.rendererFactory.createRenderer(n,r);let N=16;r.signals?N=4096:r.onPush&&(N=64);const W=dd(i,f0(r),null,N,i[t.index],t,a,F,null,null,v);return p.firstCreatePass&&Np(p,t,o.length-1),fd(i,W),i[t.index]=W}(Lb,we,Wr,di,Be,W,oe),yn=ma(it,Et),we&&function P2(t,n,r,o){if(o)bt(t,r,["ng-version","18.2.14"]);else{const{attrs:i,classes:a}=function Ga(t){const n=[],r=[];let o=1,i=2;for(;o<t.length;){let a=t[o];if("string"==typeof a)2===i?""!==a&&n.push(a,t[++o]):8===i&&r.push(a);else{if(!R(i))break;i=a}o++}return{attrs:n,classes:r}}(n.selectors[0]);i&&bt(t,r,i),a&&a.length>0&&o0(t,r,a.join(" "))}}(oe,Wr,we,o),void 0!==r&&function O2(t,n,r){const o=t.projection=[];for(let i=0;i<n.length;i++){const a=r[i];o.push(null!=a?Array.from(a):null)}}(yn,this.ngContentSelectors,r),qt=function N2(t,n,r,o,i,a){const u=Ln(),p=i[We],v=Mo(u,i);g0(p,i,u,r,null,o);for(let N=0;N<r.length;N++)Lo(Fa(i,p,u.directiveStart+N,u),i);v0(p,i,u),v&&Lo(v,i);const F=Fa(i,p,u.directiveStart+u.componentOffset,u);if(t[_n]=i[_n]=F,null!==a)for(const N of a)N(F,n);return Mp(p,u,i),F}(tr,Wr,di,Jl,Be,[j2]),Lp(it,Be,null)}catch(Wr){throw null!==tr&&Xf(tr),Xf(Be),Wr}finally{mu()}return new T2(this.componentType,qt,ml(yn,Be),Be,yn)}finally{H(a)}}}class T2 extends E2{constructor(n,r,o,i,a){super(),this.location=o,this._rootLView=i,this._tNode=a,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new Nu(i,void 0,!1),this.componentType=n}setInput(n,r){const o=this._tNode.inputs;let i;if(null!==o&&(i=o[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),r))return;const a=this._rootLView;jp(a[We],a,i,n,r),this.previousInputValues.set(n,r),Au(zo(this._tNode.index,a),1)}}get injector(){return new co(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function j2(){const t=Ln();ll(Ve()[We],t)}let xd=(()=>{class t{static{this.__NG_ELEMENT_ID__=L2}}return t})();function L2(){return av(Ln(),Ve())}const $2=xd,iv=class extends $2{constructor(n,r,o){super(),this._lContainer=n,this._hostTNode=r,this._hostLView=o}get element(){return ml(this._hostTNode,this._hostLView)}get injector(){return new co(this._hostTNode,this._hostLView)}get parentInjector(){const n=Ms(this._hostTNode,this._hostLView);if(ke(n)){const r=Ht(n,this._hostLView),o=rt(n);return new co(r[We].data[o+8],r)}return new co(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const r=sv(this._lContainer);return null!==r&&r[n]||null}get length(){return this._lContainer.length-fr}createEmbeddedView(n,r,o){let i,a;"number"==typeof o?i=o:null!=o&&(i=o.index,a=o.injector);const u=Oa(this._lContainer,n.ssrId),p=n.createEmbeddedViewImpl(r||{},a,u);return this.insertImpl(p,i,Na(this._hostTNode,u)),p}createComponent(n,r,o,i,a){const u=n&&!function J(t){return"function"==typeof t}(n);let p;if(u)p=r;else{const we=r||{};p=we.index,o=we.injector,i=we.projectableNodes,a=we.environmentInjector||we.ngModuleRef}const v=u?n:new zu(Gt(n)),F=o||this.parentInjector;if(!a&&null==v.ngModule){const He=(u?F:this.parentInjector).get(vo,null);He&&(a=He)}const N=Gt(v.componentType??{}),W=Oa(this._lContainer,N?.id??null),ge=v.create(F,i,W?.firstChild??null,a);return this.insertImpl(ge.hostView,p,Na(this._hostTNode,W)),ge}insert(n,r){return this.insertImpl(n,r,!0)}insertImpl(n,r,o){const i=n._lView;if(function Ef(t){return Br(t[mn])}(i)){const p=this.indexOf(n);if(-1!==p)this.detach(p);else{const v=i[mn],F=new iv(v,v[On],v[mn]);F.detach(F.indexOf(n))}}const a=this._adjustIndex(r),u=this._lContainer;return Dl(u,i,a,o),n.attachToViewContainerRef(),cr(th(u),a,n),n}move(n,r){return this.insert(n,r)}indexOf(n){const r=sv(this._lContainer);return null!==r?r.indexOf(n):-1}remove(n){const r=this._adjustIndex(n,-1),o=Mu(this._lContainer,r);o&&(oi(th(this._lContainer),r),ld(o[We],o))}detach(n){const r=this._adjustIndex(n,-1),o=Mu(this._lContainer,r);return o&&null!=oi(th(this._lContainer),r)?new Nu(o):null}_adjustIndex(n,r=0){return n??this.length+r}};function sv(t){return t[8]}function th(t){return t[8]||(t[8]=[])}function av(t,n){let r;const o=n[t.index];return Br(o)?r=o:(r=_0(o,n,null,t),n[t.index]=r,fd(n,r)),lv(r,n,t,o),new iv(r,t,n)}let lv=function cv(t,n,r,o){if(t[bi])return;let i;i=8&r.type?En(o):function V2(t,n){const r=t[Nt],o=r.createComment(""),i=Mo(n,t);return Sa(r,xp(r,i),o,function LC(t,n){return t.nextSibling(n)}(r,i),!1),o}(n,r),t[bi]=i},nh=()=>!1;class rh{constructor(n){this.queryList=n,this.matches=null}clone(){return new rh(this.queryList)}setDirty(){this.queryList.setDirty()}}class oh{constructor(n=[]){this.queries=n}createEmbeddedView(n){const r=n.queries;if(null!==r){const o=null!==n.contentQueries?n.contentQueries[0]:r.length,i=[];for(let a=0;a<o;a++){const u=r.getByIndex(a);i.push(this.queries[u.indexInDeclarationView].clone())}return new oh(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let r=0;r<this.queries.length;r++)null!==uh(n,r).matches&&this.queries[r].setDirty()}}class dv{constructor(n,r,o=null){this.flags=r,this.read=o,this.predicate="string"==typeof n?function Y2(t){return t.split(",").map(n=>n.trim())}(n):n}}class ih{constructor(n=[]){this.queries=n}elementStart(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,r)}elementEnd(n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(n)}embeddedTView(n){let r=null;for(let o=0;o<this.length;o++){const i=null!==r?r.length:0,a=this.getByIndex(o).embeddedTView(n,i);a&&(a.indexInDeclarationView=o,null!==r?r.push(a):r=[a])}return null!==r?new ih(r):null}template(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,r)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class sh{constructor(n,r=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(n,r){this.isApplyingToNode(r)&&this.matchTNode(n,r)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,r){this.elementStart(n,r)}embeddedTView(n,r){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,r),new sh(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==r;)o=o.parent;return r===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,r){const o=this.metadata.predicate;if(Array.isArray(o))for(let i=0;i<o.length;i++){const a=o[i];this.matchTNodeWithReadOption(n,r,H2(r,a)),this.matchTNodeWithReadOption(n,r,$c(r,n,a,!1,!1))}else o===Pu?4&r.type&&this.matchTNodeWithReadOption(n,r,-1):this.matchTNodeWithReadOption(n,r,$c(r,n,o,!1,!1))}matchTNodeWithReadOption(n,r,o){if(null!==o){const i=this.metadata.read;if(null!==i)if(i===_u||i===xd||i===Pu&&4&r.type)this.addMatch(r.index,-2);else{const a=$c(r,n,i,!1,!1);null!==a&&this.addMatch(r.index,a)}else this.addMatch(r.index,o)}}addMatch(n,r){null===this.matches?this.matches=[n,r]:this.matches.push(n,r)}}function H2(t,n){const r=t.localNames;if(null!==r)for(let o=0;o<r.length;o+=2)if(r[o]===n)return r[o+1];return null}function z2(t,n,r,o){return-1===r?function q2(t,n){return 11&t.type?ml(t,n):4&t.type?md(t,n):null}(n,t):-2===r?function W2(t,n,r){return r===_u?ml(n,t):r===Pu?md(n,t):r===xd?av(n,t):void 0}(t,n,o):Fa(t,t[We],r,n)}function fv(t,n,r,o){const i=n[Pi].queries[o];if(null===i.matches){const a=t.data,u=r.matches,p=[];for(let v=0;null!==u&&v<u.length;v+=2){const F=u[v];p.push(F<0?null:z2(n,a[F],u[v+1],r.metadata.read))}i.matches=p}return i.matches}function ah(t,n,r,o){const i=t.queries.getByIndex(r),a=i.matches;if(null!==a){const u=fv(t,n,i,r);for(let p=0;p<a.length;p+=2){const v=a[p];if(v>0)o.push(u[p/2]);else{const F=a[p+1],N=n[-v];for(let W=fr;W<N.length;W++){const oe=N[W];oe[is]===oe[mn]&&ah(oe[We],oe,F,o)}if(null!==N[xs]){const W=N[xs];for(let oe=0;oe<W.length;oe++){const ge=W[oe];ah(ge[We],ge,F,o)}}}}}return o}function pv(t,n,r){const o=new zf(!(4&~r));return function XC(t,n,r,o){const i=b0(n);i.push(r),t.firstCreatePass&&E0(t).push(o,i.length-1)}(t,n,o,o.destroy),(n[Pi]??=new oh).queries.push(new rh(o))-1}function gv(t,n,r){null===t.queries&&(t.queries=new ih),t.queries.track(new sh(n,r))}function uh(t,n){return t.queries.getByIndex(n)}function vv(t,n){const r=t[We],o=uh(r,n);return o.crossesNgTemplate?ah(r,t,n,[]):fv(r,t,o,n)}const _v=new Set;function Xo(t){_v.has(t)||(_v.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function bv(t,n){Xo("NgSignals");const r=function Nr(t){const n=Object.create(je);n.value=t;const r=()=>(Q(n),n.value);return r[S]=n,r}(t),o=r[S];return n?.equal&&(o.equal=n.equal),r.set=i=>Re(o,i),r.update=i=>function Ae(t,n){Le()||xn(),Re(t,n(t.value))}(o,i),r.asReadonly=Ev.bind(r),r}function Ev(){const t=this[S];if(void 0===t.readonlyFn){const n=()=>this();n[S]=t,t.readonlyFn=n}return t.readonlyFn}function Cv(t){return function yv(t){return"function"==typeof t&&void 0!==t[S]}(t)&&"function"==typeof t.set}function dh(t){let n=function Av(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),r=!0;const o=[t];for(;n;){let i;if(qo(t))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Ze(903,!1);i=n.\u0275dir}if(i){if(r){o.push(i);const u=t;u.inputs=Fd(t.inputs),u.inputTransforms=Fd(t.inputTransforms),u.declaredInputs=Fd(t.declaredInputs),u.outputs=Fd(t.outputs);const p=i.hostBindings;p&&ux(t,p);const v=i.viewQuery,F=i.contentQueries;if(v&&ax(t,v),F&&lx(t,F),ix(t,i),hr(t.outputs,i.outputs),qo(i)&&i.data.animation){const N=t.data;N.animation=(N.animation||[]).concat(i.data.animation)}}const a=i.features;if(a)for(let u=0;u<a.length;u++){const p=a[u];p&&p.ngInherit&&p(t),p===dh&&(r=!1)}}n=Object.getPrototypeOf(n)}!function sx(t){let n=0,r=null;for(let o=t.length-1;o>=0;o--){const i=t[o];i.hostVars=n+=i.hostVars,i.hostAttrs=Wt(i.hostAttrs,r=Wt(r,i.hostAttrs))}}(o)}function ix(t,n){for(const r in n.inputs){if(!n.inputs.hasOwnProperty(r)||t.inputs.hasOwnProperty(r))continue;const o=n.inputs[r];if(void 0!==o&&(t.inputs[r]=o,t.declaredInputs[r]=n.declaredInputs[r],null!==n.inputTransforms)){const i=Array.isArray(o)?o[0]:o;if(!n.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=n.inputTransforms[i]}}}function Fd(t){return t===y?{}:t===k?[]:t}function ax(t,n){const r=t.viewQuery;t.viewQuery=r?(o,i)=>{n(o,i),r(o,i)}:n}function lx(t,n){const r=t.contentQueries;t.contentQueries=r?(o,i,a)=>{n(o,i,a),r(o,i,a)}:n}function ux(t,n){const r=t.hostBindings;t.hostBindings=r?(o,i)=>{n(o,i),r(o,i)}:n}function Lv(t){const n=t.inputConfig,r={};for(const o in n)if(n.hasOwnProperty(o)){const i=n[o];Array.isArray(i)&&i[3]&&(r[o]=i[3])}t.inputTransforms=r}class ja{}class $v{}function mx(t,n){return new ph(t,n??null,[])}class ph extends ja{constructor(n,r,o,i=!0){super(),this.ngModuleType=n,this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new rv(this);const a=Rr(n);this._bootstrapComponents=Di(a.bootstrap),this._r3Injector=Nm(n,r,[{provide:ja,useValue:this},{provide:Ed,useValue:this.componentFactoryResolver},...o],ln(n),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class hh extends $v{constructor(n){super(),this.moduleType=n}create(n){return new ph(this.moduleType,n,[])}}class Vv extends ja{constructor(n){super(),this.componentFactoryResolver=new rv(this),this.instance=null;const r=new qi([...n.providers,{provide:ja,useValue:this},{provide:Ed,useValue:this.componentFactoryResolver}],n.parent||Hi(),n.debugName,new Set(["environment"]));this.injector=r,n.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function mh(t,n,r=null){return new Vv({providers:t,parent:n,debugName:r,runEnvironmentInitializers:!0}).injector}function Id(t){return!!gh(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function gh(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function cs(t,n,r){return t[n]=r}function Hr(t,n,r){return!Object.is(t[n],r)&&(t[n]=r,!0)}function La(t,n,r,o){const i=Hr(t,n,r);return Hr(t,n+1,o)||i}function kd(t,n,r,o,i){const a=La(t,n,r,o);return Hr(t,n+2,i)||a}function Xu(t,n,r,o,i,a,u,p,v,F){const N=r+Et,W=n.firstCreatePass?function Ex(t,n,r,o,i,a,u,p,v){const F=n.consts,N=Aa(n,t,4,u||null,p||null);Ap(n,r,N,ai(F,v)),ll(n,N);const W=N.tView=Rp(2,N,o,i,a,n.directiveRegistry,n.pipeRegistry,null,n.schemas,F,null);return null!==n.queries&&(n.queries.template(n,N),W.queries=n.queries.embeddedTView(N)),N}(N,n,t,o,i,a,u,p,v):n.data[N];wi(W,!1);const oe=Uv(n,t,W,r);_a()&&ud(n,t,oe,W),Lo(oe,t);const ge=_0(oe,t,oe,W);return t[N]=ge,fd(t,ge),function uv(t,n,r){return nh(t,n,r)}(ge,W,t),Us(W)&&Tp(n,t,W),null!=v&&Sp(t,W,F),W}function vh(t,n,r,o,i,a,u,p){const v=Ve(),F=un();return Xu(v,F,t,n,r,o,i,ai(F.consts,a),u,p),vh}let Uv=function Bv(t,n,r,o){return _o(!0),n[Nt].createComment("")};function Dx(t,n){if(null!==E())throw new Ze(-602,!1)}var Sl=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Sl||{});let Yv=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=Zt({token:t,providedIn:"root",factory:()=>new t})}}return t})();class Ju{constructor(){this.ngZone=mt(br),this.scheduler=mt(Il),this.errorHandler=mt(Ss,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Sl.EarlyRead,Sl.Write,Sl.MixedReadWrite,Sl.Read]}execute(){this.executing=!0;for(const n of Ju.PHASES)for(const r of this.sequences)if(!r.erroredOrDestroyed&&r.hooks[n])try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>r.hooks[n](r.pipelinedValue))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(const n of this.sequences)n.afterRun(),n.once&&(this.sequences.delete(n),n.destroy());for(const n of this.deferredRegistrations)this.sequences.add(n);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(6))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}static{this.\u0275prov=Zt({token:Ju,providedIn:"root",factory:()=>new Ju})}}class Fx{constructor(n,r,o,i){this.impl=n,this.hooks=r,this.once=o,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}}function Rd(t,n){!n?.injector&&ii();const r=n?.injector??mt(jo);return function Fi(t){return"browser"===(t??mt(jo)).get(Wc)}(r)?(Xo("NgAfterNextRender"),function Xv(t,n,r,o){const i=n.get(Yv);i.impl??=n.get(Ju);const a=r?.phase??Sl.MixedReadWrite,u=!0!==r?.manualCleanup?n.get(hl):null,p=new Fx(i.impl,function kx(t,n){if(t instanceof Function){const r=[void 0,void 0,void 0,void 0];return r[n]=t,r}return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}(t,a),o,u);return i.impl.register(p),p}(t,r,n,!0)):Kv}const Kv={destroy(){}};function kh(t,n,r,o){const i=Ve();return Hr(i,xi(),n)&&(un(),us(Zn(),i,t,n,r,o)),kh}function Ll(t,n,r,o){return Hr(t,xi(),r)?n+Ct(r)+o:tn}function Pd(t,n){return t<<17|n<<2}function Zs(t){return t>>17&32767}function Mh(t){return 2|t}function Va(t){return(131068&t)>>2}function Th(t,n){return-131069&t|n<<2}function Sh(t){return 1|t}function C1(t,n,r,o){const i=t[r+1],a=null===n;let u=o?Zs(i):Va(i),p=!1;for(;0!==u&&(!1===p||a);){const F=t[u+1];cD(t[u],n)&&(p=!0,t[u+1]=o?Sh(F):Mh(F)),u=o?Zs(F):Va(F)}p&&(t[r+1]=o?Mh(i):Sh(i))}function cD(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&V(t,n)>=0}const fo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function w1(t){return t.substring(fo.key,fo.keyEnd)}function x1(t,n){const r=fo.textEnd;return r===n?-1:(n=fo.keyEnd=function hD(t,n,r){for(;n<r&&t.charCodeAt(n)>32;)n++;return n}(t,fo.key=n,r),zl(t,n,r))}function zl(t,n,r){for(;n<r&&t.charCodeAt(n)<=32;)n++;return n}function Rh(t,n,r){const o=Ve();return Hr(o,xi(),n)&&ui(un(),Zn(),o,t,n,o[Nt],r,!1),Rh}function Ah(t,n,r,o,i){const u=i?"class":"style";jp(t,r,n.inputs[u],u,o)}function Nh(t,n){return function Qi(t,n,r,o){const i=Ve(),a=un(),u=Ki(2);a.firstUpdatePass&&S1(a,t,u,o),n!==tn&&Hr(i,u,n)&&A1(a,a.data[uo()],i,i[Nt],t,i[u+1]=function FD(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=ln(Rs(t)))),t}(n,r),o,u)}(t,n,null,!0),Nh}function fs(t,n){for(let r=function fD(t){return function F1(t){fo.key=0,fo.keyEnd=0,fo.value=0,fo.valueEnd=0,fo.textEnd=t.length}(t),x1(t,zl(t,0,fo.textEnd))}(n);r>=0;r=x1(n,r))Gn(t,w1(n),!0)}function T1(t,n){return n>=t.expandoStartIndex}function S1(t,n,r,o){const i=t.data;if(null===i[r+1]){const a=i[uo()],u=T1(t,r);P1(a,o)&&null===n&&!u&&(n=!1),n=function yD(t,n,r,o){const i=function fu(t){const n=Vt.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let a=o?n.residualClasses:n.residualStyles;if(null===i)0===(o?n.classBindings:n.styleBindings)&&(r=ec(r=Ph(null,t,n,r,o),n.attrs,o),a=null);else{const u=n.directiveStylingLast;if(-1===u||t[u]!==i)if(r=Ph(i,t,n,r,o),null===a){let v=function bD(t,n,r){const o=r?n.classBindings:n.styleBindings;if(0!==Va(o))return t[Zs(o)]}(t,n,o);void 0!==v&&Array.isArray(v)&&(v=Ph(null,t,n,v[1],o),v=ec(v,n.attrs,o),function ED(t,n,r,o){t[Zs(r?n.classBindings:n.styleBindings)]=o}(t,n,o,v))}else a=function CD(t,n,r){let o;const i=n.directiveEnd;for(let a=1+n.directiveStylingLast;a<i;a++)o=ec(o,t[a].hostAttrs,r);return ec(o,n.attrs,r)}(t,n,o)}return void 0!==a&&(o?n.residualClasses=a:n.residualStyles=a),r}(i,a,n,o),function lD(t,n,r,o,i,a){let u=a?n.classBindings:n.styleBindings,p=Zs(u),v=Va(u);t[o]=r;let N,F=!1;if(Array.isArray(r)?(N=r[1],(null===N||V(r,N)>0)&&(F=!0)):N=r,i)if(0!==v){const oe=Zs(t[p+1]);t[o+1]=Pd(oe,p),0!==oe&&(t[oe+1]=Th(t[oe+1],o)),t[p+1]=function sD(t,n){return 131071&t|n<<17}(t[p+1],o)}else t[o+1]=Pd(p,0),0!==p&&(t[p+1]=Th(t[p+1],o)),p=o;else t[o+1]=Pd(v,0),0===p?p=o:t[v+1]=Th(t[v+1],o),v=o;F&&(t[o+1]=Mh(t[o+1])),C1(t,N,o,!0),C1(t,N,o,!1),function uD(t,n,r,o,i){const a=i?t.residualClasses:t.residualStyles;null!=a&&"string"==typeof n&&V(a,n)>=0&&(r[o+1]=Sh(r[o+1]))}(n,N,t,o,a),u=Pd(p,v),a?n.classBindings=u:n.styleBindings=u}(i,a,n,r,u,o)}}function Ph(t,n,r,o,i){let a=null;const u=r.directiveEnd;let p=r.directiveStylingLast;for(-1===p?p=r.directiveStart:p++;p<u&&(a=n[p],o=ec(o,a.hostAttrs,i),a!==t);)p++;return null!==t&&(r.directiveStylingLast=p),o}function ec(t,n,r){const o=r?1:2;let i=-1;if(null!==n)for(let a=0;a<n.length;a++){const u=n[a];"number"==typeof u?i=u:i===o&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Gn(t,u,!!r||n[++a]))}return void 0===t?null:t}function A1(t,n,r,o,i,a,u,p){if(!(3&n.type))return;const v=t.data,F=v[p+1],N=function aD(t){return!(1&~t)}(F)?N1(v,n,r,i,Va(F),u):void 0;Od(N)||(Od(a)||function iD(t){return!(2&~t)}(F)&&(a=N1(v,null,r,i,p,u)),function UC(t,n,r,o,i){if(n)i?t.addClass(r,o):t.removeClass(r,o);else{let a=-1===o.indexOf("-")?void 0:sd.DashCase;null==i?t.removeStyle(r,o,a):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),a|=sd.Important),t.setStyle(r,o,i,a))}}(o,u,as(uo(),r),i,a))}function N1(t,n,r,o,i,a){const u=null===n;let p;for(;i>0;){const v=t[i],F=Array.isArray(v),N=F?v[1]:v,W=null===N;let oe=r[i+1];oe===tn&&(oe=W?k:void 0);let ge=W?Io(oe,o):N===o?oe:void 0;if(F&&!Od(ge)&&(ge=Io(v,o)),Od(ge)&&(p=ge,u))return p;const we=t[i+1];i=u?Zs(we):Va(we)}if(null!==n){let v=a?n.residualClasses:n.residualStyles;null!=v&&(p=Io(v,o))}return p}function Od(t){return void 0!==t}function P1(t,n){return!!(t.flags&(n?8:16))}function O1(t,n,r){!function Ji(t,n,r,o){const i=un(),a=Ki(2);i.firstUpdatePass&&S1(i,null,a,o);const u=Ve();if(r!==tn&&Hr(u,a,r)){const p=i.data[uo()];if(P1(p,o)&&!T1(i,a)){let v=o?p.classesWithoutHost:p.stylesWithoutHost;null!==v&&(r=Tn(v,r||"")),Ah(i,p,u,r,o)}else!function DD(t,n,r,o,i,a,u,p){i===tn&&(i=k);let v=0,F=0,N=0<i.length?i[0]:null,W=0<a.length?a[0]:null;for(;null!==N||null!==W;){const oe=v<i.length?i[v+1]:void 0,ge=F<a.length?a[F+1]:void 0;let He,we=null;N===W?(v+=2,F+=2,oe!==ge&&(we=W,He=ge)):null===W||null!==N&&N<W?(v+=2,we=N):(F+=2,we=W,He=ge),null!==we&&A1(t,n,r,o,we,He,u,p),N=v<i.length?i[v]:null,W=F<a.length?a[F]:null}}(i,p,u,u[Nt],u[a+1],u[a+1]=function wD(t,n,r){if(null==r||""===r)return k;const o=[],i=Rs(r);if(Array.isArray(i))for(let a=0;a<i.length;a++)t(o,i[a],!0);else if("object"==typeof i)for(const a in i)i.hasOwnProperty(a)&&t(o,a,i[a]);else"string"==typeof i&&n(o,i);return o}(t,n,r),o,a)}}(Gn,fs,Ll(Ve(),t,n,r),!0)}function V1(t,n){Xo("NgControlFlow");const r=Ve(),o=xi(),i=r[o]!==tn?r[o]:-1,a=-1!==i?jd(r,Et+i):void 0;if(Hr(r,o,t)){const p=H(null);try{if(void 0!==a&&function $p(t,n){const r=Mu(t,n);return void 0!==r&&ld(r[We],r),r}(a,0),-1!==t){const v=Et+t,F=jd(r,v),N=function Lh(t,n){return ma(t,n)}(r[We],v),W=Oa(F,N.tView.ssrId);Dl(F,xl(r,N,n,{dehydratedView:W}),0,Na(N,W))}}finally{H(p)}}else if(void 0!==a){const p=function w0(t,n){const r=fr+n;if(r<t.length)return t[r]}(a,0);void 0!==p&&(p[_n]=n)}}function jd(t,n){return t[n]}function Ld(t,n,r,o){const i=Ve(),a=un(),u=Et+t,p=i[Nt],v=a.firstCreatePass?function WD(t,n,r,o,i,a){const u=n.consts,v=Aa(n,t,2,o,ai(u,i));return Ap(n,r,v,ai(u,a)),null!==v.attrs&&wd(v,v.attrs,!1),null!==v.mergedAttrs&&wd(v,v.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,v),v}(u,a,i,n,r,o):a.data[u],F=U1(a,i,v,p,n,t);i[u]=F;const N=Us(v);return wi(v,!0),s0(p,F,v),!function Ml(t){return!(32&~t.flags)}(v)&&_a()&&ud(a,i,F,v),0===function Cf(){return Vt.lFrame.elementDepthCount}()&&Lo(F,i),function wf(){Vt.lFrame.elementDepthCount++}(),N&&(Tp(a,i,v),Mp(a,v,i)),null!==o&&Sp(i,v),Ld}function $d(){let t=Ln();uu()?cu():(t=t.parent,wi(t,!1));const n=t;(function Df(t){return Vt.skipHydrationRootTNode===t})(n)&&function kf(){Vt.skipHydrationRootTNode=null}(),function xf(){Vt.lFrame.elementDepthCount--}();const r=un();return r.firstCreatePass&&(ll(r,t),ha(t)&&r.queries.elementEnd(t)),null!=n.classesWithoutHost&&function T(t){return!!(8&t.flags)}(n)&&Ah(r,n,Ve(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function s(t){return!!(16&t.flags)}(n)&&Ah(r,n,Ve(),n.stylesWithoutHost,!1),$d}function $h(t,n,r,o){return Ld(t,n,r,o),$d(),$h}let U1=(t,n,r,o,i,a)=>(_o(!0),ad(o,i,function Pc(){return Vt.lFrame.currentNamespace}()));function Vd(t,n,r){const o=Ve(),i=un(),a=t+Et,u=i.firstCreatePass?function KD(t,n,r,o,i){const a=n.consts,u=ai(a,o),p=Aa(n,t,8,"ng-container",u);return null!==u&&wd(p,u,!0),Ap(n,r,p,ai(a,i)),null!==n.queries&&n.queries.elementStart(n,p),p}(a,i,o,n,r):i.data[a];wi(u,!0);const p=G1(i,o,u,t);return o[a]=p,_a()&&ud(i,o,p,u),Lo(p,o),Us(u)&&(Tp(i,o,u),Mp(i,u,o)),null!=r&&Sp(o,u),Vd}function Ud(){let t=Ln();const n=un();return uu()?cu():(t=t.parent,wi(t,!1)),n.firstCreatePass&&(ll(n,t),ha(t)&&n.queries.elementEnd(t)),Ud}let G1=(t,n,r,o)=>(_o(!0),bp(n[Nt],""));function H1(){return Ve()}const Ua=void 0;var eF=["en",[["a","p"],["AM","PM"],Ua],[["AM","PM"],Ua,Ua],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ua,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ua,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ua,"{1} 'at' {0}",Ua],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ZD(t){const r=Math.floor(Math.abs(t)),o=t.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===o?1:5}];let Wl={};function tF(t,n,r){"string"!=typeof n&&(r=n,n=t[Yl.LocaleId]),n=n.toLowerCase().replace(/_/g,"-"),Wl[n]=t,r&&(Wl[n][Yl.ExtraData]=r)}function Vh(t){const n=function nF(t){return t.toLowerCase().replace(/_/g,"-")}(t);let r=Y1(n);if(r)return r;const o=n.split("-")[0];if(r=Y1(o),r)return r;if("en"===o)return eF;throw new Ze(701,!1)}function W1(t){return Vh(t)[Yl.PluralCase]}function Y1(t){return t in Wl||(Wl[t]=rn.ng&&rn.ng.common&&rn.ng.common.locales&&rn.ng.common.locales[t]),Wl[t]}var Yl=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Yl||{});const Bd="en-US";let X1=Bd,p_=(t,n,r)=>{};function Gh(t,n,r,o){const i=Ve(),a=un(),u=Ln();return Hh(a,i,i[Nt],u,t,n,o),Gh}function Hh(t,n,r,o,i,a,u){const p=Us(o),F=t.firstCreatePass&&E0(t),N=n[_n],W=b0(n);let oe=!0;if(3&o.type||u){const He=Mo(o,n),tt=u?u(He):He,it=W.length,Be=u?yn=>u(En(yn[o.index])):o.index;let qt=null;if(!u&&p&&(qt=function HF(t,n,r,o){const i=t.cleanup;if(null!=i)for(let a=0;a<i.length-1;a+=2){const u=i[a];if(u===r&&i[a+1]===o){const p=n[ur],v=i[a+2];return p.length>v?p[v]:null}"string"==typeof u&&(a+=2)}return null}(t,n,i,o.index)),null!==qt)(qt.__ngLastListenerFn__||qt).__ngNextListenerFn__=a,qt.__ngLastListenerFn__=a,oe=!1;else{a=v_(o,n,N,a),p_(He,i,a);const yn=r.listen(tt,i,a);W.push(a,yn),F&&F.push(i,Be,it,it+1)}}else a=v_(o,n,N,a);const ge=o.outputs;let we;if(oe&&null!==ge&&(we=ge[i])){const He=we.length;if(He)for(let tt=0;tt<He;tt+=2){const tr=n[we[tt]][we[tt+1]].subscribe(a),Wr=W.length;W.push(a,tr),F&&F.push(i,o.index,Wr,-(Wr+1))}}}function g_(t,n,r,o){const i=H(null);try{return Oi(6,n,r),!1!==r(o)}catch(a){return pd(t,a),!1}finally{Oi(7,n,r),H(i)}}function v_(t,n,r,o){return function i(a){if(a===Function)return o;Au(t.componentOffset>-1?zo(t.index,n):n,5);let p=g_(n,r,o,a),v=i.__ngNextListenerFn__;for(;v;)p=g_(n,r,v,a)&&p,v=v.__ngNextListenerFn__;return p}}function __(t=1){return function Af(t){return(Vt.lFrame.contextLView=function yc(t,n){for(;t>0;)n=n[lo],t--;return n}(t,Vt.lFrame.contextLView))[_n]}(t)}function qF(t,n){let r=null;const o=function de(t){const n=t.attrs;if(null!=n){const r=n.indexOf(5);if(!(1&r))return n[r+1]}return null}(t);for(let i=0;i<n.length;i++){const a=n[i];if("*"!==a){if(null===o?G(t,a,!0):No(o,a))return i}else r=i}return r}function y_(t){const n=Ve()[Qn][On];if(!n.projection){const o=n.projection=function Go(t,n){const r=[];for(let o=0;o<t;o++)r.push(n);return r}(t?t.length:1,null),i=o.slice();let a=n.child;for(;null!==a;){if(128!==a.type){const u=t?qF(a,t):0;null!==u&&(i[u]?i[u].projectionNext=a:o[u]=a,i[u]=a)}a=a.next}}}function b_(t,n=0,r,o,i,a){const u=Ve(),p=un(),v=o?t+1:null;null!==v&&Xu(u,p,v,o,i,a,null,r);const F=Aa(p,Et+t,16,null,r||null);null===F.projection&&(F.projection=n),cu();const W=!u[dr]||Is();null===u[Qn][On].projection[F.projection]&&null!==v?function zF(t,n,r){const o=Et+r,i=n.data[o],a=t[o],u=Oa(a,i.tView.ssrId);Dl(a,xl(t,i,void 0,{dehydratedView:u}),0,Na(i,u))}(u,p,v):W&&32&~F.flags&&function $C(t,n,r){r0(n[Nt],0,n,r,wp(t,r,n),Qg(r.parent||n[On],r,n))}(p,u,F)}function qh(t,n,r){return zh(t,"",n,"",r),qh}function zh(t,n,r,o,i){const a=Ve(),u=Ll(a,n,r,o);return u!==tn&&ui(un(),Zn(),a,t,u,a[Nt],i,!1),zh}function M_(t,n,r,o){!function mv(t,n,r,o){const i=un();if(i.firstCreatePass){const a=Ln();gv(i,new dv(n,r,o),a.index),function X2(t,n){const r=t.contentQueries||(t.contentQueries=[]);n!==(r.length?r[r.length-1]:-1)&&r.push(t.queries.length-1,n)}(i,t),!(2&~r)&&(i.staticContentQueries=!0)}return pv(i,Ve(),r)}(t,n,r,o)}function T_(t,n,r){!function hv(t,n,r){const o=un();return o.firstCreatePass&&(gv(o,new dv(t,n,r),-1),!(2&~n)&&(o.staticViewQueries=!0)),pv(o,Ve(),n)}(t,n,r)}function S_(t){const n=Ve(),r=un(),o=va();il(o+1);const i=uh(r,o);if(t.dirty&&function bf(t){return!(4&~t[vt])}(n)===!(2&~i.metadata.flags)){if(null===i.matches)t.reset([]);else{const a=vv(n,o);t.reset(a,Gm),t.notifyOnChanges()}return!0}return!1}function R_(){return function lh(t,n){return t[Pi].queries[n].queryList}(Ve(),va())}function A_(t){return Fs(function Dc(){return Vt.lFrame.contextLView}(),Et+t)}function G_(t,n=""){const r=Ve(),o=un(),i=t+Et,a=o.firstCreatePass?Aa(o,i,1,n,null):o.data[i],u=H_(o,r,a,n,t);r[i]=u,_a()&&ud(o,r,u,a),wi(a,!1)}let H_=(t,n,r,o,i)=>(_o(!0),function yp(t,n){return t.createText(n)}(n[Nt],o));function Yh(t){return zd("",t,""),Yh}function zd(t,n,r){const o=Ve(),i=Ll(o,t,n,r);return i!==tn&&Ns(o,uo(),i),zd}function Xh(t,n,r,o,i){const a=Ve(),u=function $l(t,n,r,o,i,a){const p=La(t,Xi(),r,i);return Ki(2),p?n+Ct(r)+o+Ct(i)+a:tn}(a,t,n,r,o,i);return u!==tn&&Ns(a,uo(),u),Xh}function Kh(t,n,r,o,i,a,u){const p=Ve(),v=function Vl(t,n,r,o,i,a,u,p){const F=kd(t,Xi(),r,i,u);return Ki(3),F?n+Ct(r)+o+Ct(i)+a+Ct(u)+p:tn}(p,t,n,r,o,i,a,u);return v!==tn&&Ns(p,uo(),v),Kh}function Qh(t,n,r){Cv(n)&&(n=n());const o=Ve();return Hr(o,xi(),n)&&ui(un(),Zn(),o,t,n,o[Nt],r,!1),Qh}function Q_(t,n){const r=Cv(t);return r&&t.set(n),r}function Jh(t,n){const r=Ve(),o=un(),i=Ln();return Hh(o,r,r[Nt],i,t,n),Jh}function Zh(t,n,r,o,i){if(t=be(t),Array.isArray(t))for(let a=0;a<t.length;a++)Zh(t[a],n,r,o,i);else{const a=un(),u=Ve(),p=Ln();let v=gi(t)?t:be(t.provide);const F=Ai(t),N=1048575&p.providerIndexes,W=p.directiveStart,oe=p.providerIndexes>>20;if(gi(t)||!t.multi){const ge=new ya(F,i,wl),we=tm(v,n,i?N:N+oe,W);-1===we?(Ys(Ea(p,u),a,v),em(a,t,n.length),n.push(v),p.directiveStart++,p.directiveEnd++,i&&(p.providerIndexes+=1048576),r.push(ge),u.push(ge)):(r[we]=ge,u[we]=ge)}else{const ge=tm(v,n,N+oe,W),we=tm(v,n,N,N+oe),tt=we>=0&&r[we];if(i&&!tt||!i&&!(ge>=0&&r[ge])){Ys(Ea(p,u),a,v);const it=function f4(t,n,r,o,i){const a=new ya(t,r,wl);return a.multi=[],a.index=n,a.componentProviders=0,ey(a,i,o&&!r),a}(i?d4:c4,r.length,i,o,F);!i&&tt&&(r[we].providerFactory=it),em(a,t,n.length,0),n.push(v),p.directiveStart++,p.directiveEnd++,i&&(p.providerIndexes+=1048576),r.push(it),u.push(it)}else em(a,t,ge>-1?ge:we,ey(r[i?we:ge],F,!i&&o));!i&&o&&tt&&r[we].componentProviders++}}}function em(t,n,r,o){const i=gi(n),a=function qa(t){return!!t.useClass}(n);if(i||a){const v=(a?be(n.useClass):n).prototype.ngOnDestroy;if(v){const F=t.destroyHooks||(t.destroyHooks=[]);if(!i&&n.multi){const N=F.indexOf(r);-1===N?F.push(r,[o,v]):F[N+1].push(o,v)}else F.push(r,v)}}}function ey(t,n,r){return r&&t.componentProviders++,t.multi.push(n)-1}function tm(t,n,r,o){for(let i=r;i<o;i++)if(n[i]===t)return i;return-1}function c4(t,n,r,o){return nm(this.multi,[])}function d4(t,n,r,o){const i=this.multi;let a;if(this.providerFactory){const u=this.providerFactory.componentProviders,p=Fa(r,r[We],this.providerFactory.index,o);a=p.slice(0,u),nm(i,a);for(let v=u;v<p.length;v++)a.push(p[v])}else a=[],nm(i,a);return a}function nm(t,n){for(let r=0;r<t.length;r++)n.push((0,t[r])());return n}function ty(t,n=[]){return r=>{r.providersResolver=(o,i)=>function u4(t,n,r){const o=un();if(o.firstCreatePass){const i=qo(t);Zh(r,o.data,o.blueprint,i,!0),Zh(n,o.data,o.blueprint,i,!1)}}(o,i?i(t):t,n)}}let p4=(()=>{class t{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const o=Ps(0,r.type),i=o.length>0?mh([o],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,i)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Zt({token:t,providedIn:"environment",factory:()=>new t(In(vo))})}}return t})();function ny(t){Xo("NgStandalone"),t.getStandaloneInjector=n=>n.get(p4).getOrCreateStandaloneInjector(t)}function iy(t,n,r){const o=To()+t,i=Ve();return i[o]===tn?cs(i,o,r?n.call(r):n()):function Yu(t,n){return t[n]}(i,o)}function sy(t,n,r,o){return uy(Ve(),To(),t,n,r,o)}function ay(t,n,r,o,i){return cy(Ve(),To(),t,n,r,o,i)}function ly(t,n,r,o,i,a){return dy(Ve(),To(),t,n,r,o,i,a)}function sc(t,n){const r=t[n];return r===tn?void 0:r}function uy(t,n,r,o,i,a){const u=n+r;return Hr(t,u,i)?cs(t,u+1,a?o.call(a,i):o(i)):sc(t,u+1)}function cy(t,n,r,o,i,a,u){const p=n+r;return La(t,p,i,a)?cs(t,p+2,u?o.call(u,i,a):o(i,a)):sc(t,p+2)}function dy(t,n,r,o,i,a,u,p){const v=n+r;return kd(t,v,i,a,u)?cs(t,v+3,p?o.call(p,i,a,u):o(i,a,u)):sc(t,v+3)}function fy(t,n,r,o,i,a,u,p,v){const F=n+r;return function Li(t,n,r,o,i,a){const u=La(t,n,r,o);return La(t,n+2,i,a)||u}(t,F,i,a,u,p)?cs(t,F+4,v?o.call(v,i,a,u,p):o(i,a,u,p)):sc(t,F+4)}function hy(t,n){const r=un();let o;const i=t+Et;r.firstCreatePass?(o=function w4(t,n){if(n)for(let r=n.length-1;r>=0;r--){const o=n[r];if(t===o.name)return o}}(n,r.pipeRegistry),r.data[i]=o,o.onDestroy&&(r.destroyHooks??=[]).push(i,o.onDestroy)):o=r.data[i];const a=o.factory||(o.factory=Kn(o.type)),p=Tr(wl);try{const v=er(!1),F=a();return er(v),function Wh(t,n,r,o){r>=t.data.length&&(t.data[r]=null,t.blueprint[r]=null),n[r]=o}(r,Ve(),i,F),F}finally{Tr(p)}}function my(t,n,r){const o=t+Et,i=Ve(),a=Fs(i,o);return ac(i,o)?uy(i,To(),n,a.transform,r,a):a.transform(r)}function gy(t,n,r,o){const i=t+Et,a=Ve(),u=Fs(a,i);return ac(a,i)?cy(a,To(),n,u.transform,r,o,u):u.transform(r,o)}function vy(t,n,r,o,i){const a=t+Et,u=Ve(),p=Fs(u,a);return ac(u,a)?dy(u,To(),n,p.transform,r,o,i,p):p.transform(r,o,i)}function _y(t,n,r,o,i,a){const u=t+Et,p=Ve(),v=Fs(p,u);return ac(p,u)?fy(p,To(),n,v.transform,r,o,i,a,v):v.transform(r,o,i,a)}function yy(t,n,r){const o=t+Et,i=Ve(),a=Fs(i,o);return ac(i,o)?function py(t,n,r,o,i,a){let u=n+r,p=!1;for(let v=0;v<i.length;v++)Hr(t,u++,i[v])&&(p=!0);return p?cs(t,u,o.apply(a,i)):sc(t,u)}(i,To(),n,a.transform,r,a):a.transform.apply(a,r)}function ac(t,n){return t[We].data[n].pure}function by(t,n){return md(t,n)}class Oy{constructor(n){this.full=n;const r=n.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}let jy=(()=>{class t{log(r){console.log(r)}warn(r){console.warn(r)}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=Zt({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const By=new It(""),Gy=new It("");let lm,gI=(()=>{class t{constructor(r,o,i){this._ngZone=r,this.registry=o,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,lm||(function vI(t){lm=t}(i),i.addToWindow(o)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{br.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(r)||(clearTimeout(o.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,o,i){let a=-1;o&&o>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(u=>u.timeoutId!==a),r()},o)),this._callbacks.push({doneCb:r,timeoutId:a,updateCb:i})}whenStable(r,o,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,o,i),this._runCallbacksIfReady()}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,o,i){return[]}static{this.\u0275fac=function(o){return new(o||t)(In(br),In(Hy),In(Gy))}}static{this.\u0275prov=Zt({token:t,factory:t.\u0275fac})}}return t})(),Hy=(()=>{class t{constructor(){this._applications=new Map}registerApplication(r,o){this._applications.set(r,o)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,o=!0){return lm?.findTestabilityInTree(this,r,o)??null}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=Zt({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function um(t){return!!t&&"function"==typeof t.then}function qy(t){return!!t&&"function"==typeof t.subscribe}const zy=new It("");let Wy=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o}),this.appInits=mt(zy,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const i of this.appInits){const a=i();if(um(a))r.push(a);else if(qy(a)){const u=new Promise((p,v)=>{a.subscribe({complete:p,error:v})});r.push(u)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{o()}).catch(i=>{this.reject(i)}),0===r.length&&o(),this.initialized=!0}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=Zt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const Qd=new It("");let ps=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=mt(aE),this.afterRenderManager=mt(Yv),this.zonelessEnabled=mt(Gu),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Mn.B,this.afterTick=new Mn.B,this.componentTypes=[],this.components=[],this.isStable=mt(Ia).hasPendingTasks.pipe((0,Qt.T)(r=>!r)),this._injector=mt(vo)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(o=>{r=this.isStable.subscribe({next:i=>{i&&o()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,o){const i=r instanceof Z0;if(!this._injector.get(Wy).done)throw!i&&mi(r),new Ze(405,!1);let u;u=i?r:this._injector.get(Ed).resolveComponentFactory(r),this.componentTypes.push(u.componentType);const p=function _I(t){return t.isBoundToModule}(u)?void 0:this._injector.get(ja),F=u.create(jo.NULL,[],o||u.selector,p),N=F.location.nativeElement,W=F.injector.get(By,null);return W?.registerApplication(N),F.onDestroy(()=>{this.detachView(F.hostView),Jd(this.components,F),W?.unregisterApplication(N)}),this._loadComponent(F),F}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Ze(101,!1);const r=H(null);try{this._runningTick=!0,this.synchronize()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,H(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(Jp,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let o=0;for(;0!==this.dirtyFlags&&o++<10;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const o=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(o);for(let{_lView:i,notifyErrorHandler:a}of this._views)EI(i,a,o,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else r?.begin?.(),r?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:r})=>tl(r))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(r){const o=r;this._views.push(o),o.attachToAppRef(this)}detachView(r){const o=r;Jd(this._views,o),o.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const o=this._injector.get(Qd,[]);[...this._bootstrapListeners,...o].forEach(i=>i(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Jd(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new Ze(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=Zt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Jd(t,n){const r=t.indexOf(n);r>-1&&t.splice(r,1)}function EI(t,n,r,o){(r||tl(t))&&hd(t,n,r&&!o?0:1)}class CI{constructor(n,r){this.ngModuleFactory=n,this.componentFactories=r}}let wI=(()=>{class t{compileModuleSync(r){return new hh(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const o=this.compileModuleSync(r),a=Di(Rr(r).declarations).reduce((u,p)=>{const v=Gt(p);return v&&u.push(new zu(v)),u},[]);return new CI(o,a)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=Zt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),FI=(()=>{class t{constructor(){this.zone=mt(br),this.changeDetectionScheduler=mt(Il),this.applicationRef=mt(ps)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=Zt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function cm({ngZoneFactory:t,ignoreChangesOutsideZone:n,scheduleInRootZone:r}){return t??=()=>new br({...dm(),scheduleInRootZone:r}),[{provide:br,useFactory:t},{provide:$,multi:!0,useFactory:()=>{const o=mt(FI,{optional:!0});return()=>o.initialize()}},{provide:$,multi:!0,useFactory:()=>{const o=mt(kI);return()=>{o.initialize()}}},!0===n?{provide:J0,useValue:!0}:[],{provide:Qp,useValue:r??Om}]}function dm(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}let kI=(()=>{class t{constructor(){this.subscription=new an.yU,this.initialized=!1,this.zone=mt(br),this.pendingTasks=mt(Ia)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{br.assertNotInAngularZone(),queueMicrotask(()=>{null!==r&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{br.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=Zt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),cc=(()=>{class t{constructor(){this.appRef=mt(ps),this.taskService=mt(Ia),this.ngZone=mt(br),this.zonelessEnabled=mt(Gu),this.disableScheduling=mt(J0,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new an.yU,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Gc):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(mt(Qp,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof qf||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&5===r)return;switch(r){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const o=this.useMicrotaskScheduler?Lm:jm;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>o(()=>this.tick())):this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Gc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(r),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Lm(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=Zt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const pm=new It("",{providedIn:"root",factory:()=>mt(pm,$t.Optional|$t.SkipSelf)||function MI(){return typeof $localize<"u"&&$localize.locale||Bd}()}),TI=new It("",{providedIn:"root",factory:()=>"USD"}),ef=new It("");function tf(t){return!t.moduleRef}let ea=null;const Ql=new It("");let sb=(()=>{class t{static{this.__NG_ELEMENT_ID__=$I}}return t})();function $I(t){return function VI(t,n,r){if(Wi(t)&&!r){const o=zo(t.index,n);return new Nu(o,o)}return 175&t.type?new Nu(n[Qn],n):null}(Ln(),Ve(),!(16&~t))}class cb{constructor(){}supports(n){return Id(n)}create(n){return new qI(n)}}const HI=(t,n)=>n;class qI{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||HI}forEachItem(n){let r;for(r=this._itHead;null!==r;r=r._next)n(r)}forEachOperation(n){let r=this._itHead,o=this._removalsHead,i=0,a=null;for(;r||o;){const u=!o||r&&r.currentIndex<fb(o,i,a)?r:o,p=fb(u,i,a),v=u.currentIndex;if(u===o)i--,o=o._nextRemoved;else if(r=r._next,null==u.previousIndex)i++;else{a||(a=[]);const F=p-i,N=v-i;if(F!=N){for(let oe=0;oe<F;oe++){const ge=oe<a.length?a[oe]:a[oe]=0,we=ge+oe;N<=we&&we<F&&(a[oe]=ge+1)}a[u.previousIndex]=N-F}}p!==v&&n(u,p,v)}}forEachPreviousItem(n){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachMovedItem(n){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}forEachIdentityChange(n){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)n(r)}diff(n){if(null==n&&(n=[]),!Id(n))throw new Ze(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,a,u,r=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let p=0;p<this.length;p++)a=n[p],u=this._trackByFn(p,a),null!==r&&Object.is(r.trackById,u)?(o&&(r=this._verifyReinsertion(r,a,u,p)),Object.is(r.item,a)||this._addIdentityChange(r,a)):(r=this._mismatch(r,a,u,p),o=!0),r=r._next}else i=0,function yx(t,n){if(Array.isArray(t))for(let r=0;r<t.length;r++)n(t[r]);else{const r=t[Symbol.iterator]();let o;for(;!(o=r.next()).done;)n(o.value)}}(n,p=>{u=this._trackByFn(i,p),null!==r&&Object.is(r.trackById,u)?(o&&(r=this._verifyReinsertion(r,p,u,i)),Object.is(r.item,p)||this._addIdentityChange(r,p)):(r=this._mismatch(r,p,u,i),o=!0),r=r._next,i++}),this.length=i;return this._truncate(r),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,r,o,i){let a;return null===n?a=this._itTail:(a=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._reinsertAfter(n,a,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,i))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._moveAfter(n,a,i)):n=this._addAfter(new zI(r,o),a,i),n}_verifyReinsertion(n,r,o,i){let a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==a?n=this._reinsertAfter(a,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const r=n._next;this._addToRemovals(this._unlink(n)),n=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,r,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,a=n._nextRemoved;return null===i?this._removalsHead=a:i._nextRemoved=a,null===a?this._removalsTail=i:a._prevRemoved=i,this._insertAfter(n,r,o),this._addToMoves(n,o),n}_moveAfter(n,r,o){return this._unlink(n),this._insertAfter(n,r,o),this._addToMoves(n,o),n}_addAfter(n,r,o){return this._insertAfter(n,r,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,r,o){const i=null===r?this._itHead:r._next;return n._next=i,n._prev=r,null===i?this._itTail=n:i._prev=n,null===r?this._itHead=n:r._next=n,null===this._linkedRecords&&(this._linkedRecords=new db),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const r=n._prev,o=n._next;return null===r?this._itHead=o:r._next=o,null===o?this._itTail=r:o._prev=r,n}_addToMoves(n,r){return n.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new db),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,r){return n.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class zI{constructor(n,r){this.item=n,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class WI{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,r){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===r||r<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const r=n._prevDup,o=n._nextDup;return null===r?this._head=o:r._nextDup=o,null===o?this._tail=r:o._prevDup=r,null===this._head}}class db{constructor(){this.map=new Map}put(n){const r=n.trackById;let o=this.map.get(r);o||(o=new WI,this.map.set(r,o)),o.add(n)}get(n,r){const i=this.map.get(n);return i?i.get(n,r):null}remove(n){const r=n.trackById;return this.map.get(r).remove(n)&&this.map.delete(r),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fb(t,n,r){const o=t.previousIndex;if(null===o)return o;let i=0;return r&&o<r.length&&(i=r[o]),o+n+i}class pb{constructor(){}supports(n){return n instanceof Map||gh(n)}create(){return new YI}}class YI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let r;for(r=this._mapHead;null!==r;r=r._next)n(r)}forEachPreviousItem(n){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)n(r)}forEachChangedItem(n){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}diff(n){if(n){if(!(n instanceof Map||gh(n)))throw new Ze(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,i)=>{if(r&&r.key===i)this._maybeAddToChanges(r,o),this._appendAfter=r,r=r._next;else{const a=this._getOrCreateRecordForKey(i,o);r=this._insertBeforeOrAppend(r,a)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let o=r;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,r){if(n){const o=n._prev;return r._next=n,r._prev=o,n._prev=r,o&&(o._next=r),n===this._mapHead&&(this._mapHead=r),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(n,r){if(this._records.has(n)){const i=this._records.get(n);this._maybeAddToChanges(i,r);const a=i._prev,u=i._next;return a&&(a._next=u),u&&(u._prev=a),i._next=null,i._prev=null,i}const o=new XI(n);return this._records.set(n,o),o.currentValue=r,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,r){Object.is(r,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=r,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,r){n instanceof Map?n.forEach(r):Object.keys(n).forEach(o=>r(n[o],o))}}class XI{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function hb(){return new _m([new cb])}let _m=(()=>{class t{static{this.\u0275prov=Zt({token:t,providedIn:"root",factory:hb})}constructor(r){this.factories=r}static create(r,o){if(null!=o){const i=o.factories.slice();r=r.concat(i)}return new t(r)}static extend(r){return{provide:t,useFactory:o=>t.create(r,o||hb()),deps:[[t,new Fo,new Ao]]}}find(r){const o=this.factories.find(i=>i.supports(r));if(null!=o)return o;throw new Ze(901,!1)}}return t})();function mb(){return new ym([new pb])}let ym=(()=>{class t{static{this.\u0275prov=Zt({token:t,providedIn:"root",factory:mb})}constructor(r){this.factories=r}static create(r,o){if(o){const i=o.factories.slice();r=r.concat(i)}return new t(r)}static extend(r){return{provide:t,useFactory:o=>t.create(r,o||mb()),deps:[[t,new Fo,new Ao]]}}find(r){const o=this.factories.find(i=>i.supports(r));if(o)return o;throw new Ze(901,!1)}}return t})();function uk(t){const{rootComponent:n,appProviders:r,platformProviders:o,platformRef:i}=t;try{const a=i?.injector??function LI(t=[]){if(ea)return ea;const n=function rb(t=[],n){return jo.create({name:n,providers:[{provide:rs,useValue:"platform"},{provide:ef,useValue:new Set([()=>ea=null])},...t]})}(t);return n.get(Ql,!1)||(ea=n),function Yy(){!function Yn(t){Rn=t}(()=>{throw new Ze(600,!1)})}(),function ob(t){t.get(ug,null)?.forEach(r=>r())}(n),n}(o);if(!0===a.get(Ql,!1)&&!t.platformRef)throw new Ze(401,!1);const u=[cm({}),{provide:Il,useExisting:cc},...r||[]];return function tb(t){const n=tf(t)?t.r3Injector:t.moduleRef.injector,r=n.get(br);return r.run(()=>{tf(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();const o=n.get(Ss,null);let i;if(r.runOutsideAngular(()=>{i=r.onError.subscribe({next:a=>{o.handleError(a)}})}),tf(t)){const a=()=>n.destroy(),u=t.platformInjector.get(ef);u.add(a),n.onDestroy(()=>{i.unsubscribe(),u.delete(a)})}else{const a=()=>t.moduleRef.destroy(),u=t.platformInjector.get(ef);u.add(a),t.moduleRef.onDestroy(()=>{Jd(t.allPlatformModules,t.moduleRef),i.unsubscribe(),u.delete(a)})}return function bI(t,n,r){try{const o=r();return um(o)?o.catch(i=>{throw n.runOutsideAngular(()=>t.handleError(i)),i}):o}catch(o){throw n.runOutsideAngular(()=>t.handleError(o)),o}}(o,r,()=>{const a=n.get(Wy);return a.runInitializers(),a.donePromise.then(()=>{if(function sF(t){"string"==typeof t&&(X1=t.toLowerCase().replace(/_/g,"-"))}(n.get(pm,Bd)||Bd),tf(t)){const p=n.get(ps);return void 0!==t.rootComponent&&p.bootstrap(t.rootComponent),p}return function PI(t,n){const r=t.injector.get(ps);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!t.instance.ngDoBootstrap)throw new Ze(-403,!1);t.instance.ngDoBootstrap(r)}n.push(t)}(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}({r3Injector:new Vv({providers:u,parent:a,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:a,rootComponent:n})}catch(a){return Promise.reject(a)}}function Mk(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function Sk(t,n){Xo("NgSignals");const r=function Ye(t){const n=Object.create(_t);n.computation=t;const r=()=>{if(Fe(n),Q(n),n.value===kt)throw n.error;return n.value};return r[S]=n,r}(t);return n?.equal&&(r[S].equal=n.equal),r}function Rk(t){const n=H(null);try{return t()}finally{H(n)}}function Lk(t){const n=Gt(t);if(!n)return null;const r=new zu(n);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},9417:(Je,_e,D)=>{"use strict";D.d(_e,{$R:()=>sr,BC:()=>$n,Fm:()=>gr,JD:()=>Sr,MJ:()=>At,Q0:()=>fi,X1:()=>Wn,YN:()=>ar,YS:()=>Gn,Zm:()=>Q,cb:()=>Ze,gE:()=>Kr,j4:()=>xo,k0:()=>fe,kq:()=>ue,l_:()=>$r,me:()=>Le,ok:()=>Wt,qT:()=>ei,tU:()=>$,v8:()=>Uo,vO:()=>Mn,vS:()=>Co,wz:()=>eo,xH:()=>ni,y7:()=>Bo,zX:()=>Go});var l=D(4438),j=D(177),te=D(6648),e=D(7468),S=D(1413),H=D(6354);let E=(()=>{class M{constructor(w,G){this._renderer=w,this._elementRef=G,this.onChange=de=>{},this.onTouched=()=>{}}setProperty(w,G){this._renderer.setProperty(this._elementRef.nativeElement,w,G)}registerOnTouched(w){this.onTouched=w}registerOnChange(w){this.onChange=w}setDisabledState(w){this.setProperty("disabled",w)}static{this.\u0275fac=function(G){return new(G||M)(l.rXU(l.sFG),l.rXU(l.aKT))}}static{this.\u0275dir=l.FsC({type:M})}}return M})(),K=(()=>{class M extends E{static{this.\u0275fac=(()=>{let w;return function(de){return(w||(w=l.xGo(M)))(de||M)}})()}static{this.\u0275dir=l.FsC({type:M,features:[l.Vt3]})}}return M})();const ue=new l.nKC(""),ve={provide:ue,useExisting:(0,l.Rfq)(()=>Q),multi:!0};let Q=(()=>{class M extends K{writeValue(w){this.setProperty("checked",w)}static{this.\u0275fac=(()=>{let w;return function(de){return(w||(w=l.xGo(M)))(de||M)}})()}static{this.\u0275dir=l.FsC({type:M,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(G,de){1&G&&l.bIt("change",function(Kt){return de.onChange(Kt.target.checked)})("blur",function(){return de.onTouched()})},features:[l.Jv_([ve]),l.Vt3]})}}return M})();const ye={provide:ue,useExisting:(0,l.Rfq)(()=>Le),multi:!0},Ee=new l.nKC("");let Le=(()=>{class M extends E{constructor(w,G,de){super(w,G),this._compositionMode=de,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Fe(){const M=(0,j.QT)()?(0,j.QT)().getUserAgent():"";return/android (\d+)/.test(M.toLowerCase())}())}writeValue(w){this.setProperty("value",w??"")}_handleInput(w){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(w)}_compositionStart(){this._composing=!0}_compositionEnd(w){this._composing=!1,this._compositionMode&&this.onChange(w)}static{this.\u0275fac=function(G){return new(G||M)(l.rXU(l.sFG),l.rXU(l.aKT),l.rXU(Ee,8))}}static{this.\u0275dir=l.FsC({type:M,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(G,de){1&G&&l.bIt("input",function(Kt){return de._handleInput(Kt.target.value)})("blur",function(){return de.onTouched()})("compositionstart",function(){return de._compositionStart()})("compositionend",function(Kt){return de._compositionEnd(Kt.target.value)})},features:[l.Jv_([ye]),l.Vt3]})}}return M})();function ne(M){return null==M||("string"==typeof M||Array.isArray(M))&&0===M.length}function U(M){return null!=M&&"number"==typeof M.length}const B=new l.nKC(""),he=new l.nKC(""),le=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class fe{static min(R){return function pe(M){return R=>{if(ne(R.value)||ne(M))return null;const w=parseFloat(R.value);return!isNaN(w)&&w<M?{min:{min:M,actual:R.value}}:null}}(R)}static max(R){return xe(R)}static required(R){return nt(R)}static requiredTrue(R){return function Te(M){return!0===M.value?null:{required:!0}}(R)}static email(R){return function $e(M){return ne(M.value)||le.test(M.value)?null:{email:!0}}(R)}static minLength(R){return function Ye(M){return R=>ne(R.value)||!U(R.value)?null:R.value.length<M?{minlength:{requiredLength:M,actualLength:R.value.length}}:null}(R)}static maxLength(R){return Ke(R)}static pattern(R){return function st(M){if(!M)return kt;let R,w;return"string"==typeof M?(w="","^"!==M.charAt(0)&&(w+="^"),w+=M,"$"!==M.charAt(M.length-1)&&(w+="$"),R=new RegExp(w)):(w=M.toString(),R=M),G=>{if(ne(G.value))return null;const de=G.value;return R.test(de)?null:{pattern:{requiredPattern:w,actualValue:de}}}}(R)}static nullValidator(R){return null}static compose(R){return Nr(R)}static composeAsync(R){return Me(R)}}function xe(M){return R=>{if(ne(R.value)||ne(M))return null;const w=parseFloat(R.value);return!isNaN(w)&&w>M?{max:{max:M,actual:R.value}}:null}}function nt(M){return ne(M.value)?{required:!0}:null}function Ke(M){return R=>U(R.value)&&R.value.length>M?{maxlength:{requiredLength:M,actualLength:R.value.length}}:null}function kt(M){return null}function _t(M){return null!=M}function St(M){return(0,l.jNT)(M)?(0,te.H)(M):M}function Rn(M){let R={};return M.forEach(w=>{R=null!=w?{...R,...w}:R}),0===Object.keys(R).length?null:R}function xn(M,R){return R.map(w=>w(M))}function rr(M){return M.map(R=>function Yn(M){return!M.validate}(R)?R:w=>R.validate(w))}function Nr(M){if(!M)return null;const R=M.filter(_t);return 0==R.length?null:function(w){return Rn(xn(w,R))}}function Ie(M){return null!=M?Nr(rr(M)):null}function Me(M){if(!M)return null;const R=M.filter(_t);return 0==R.length?null:function(w){const G=xn(w,R).map(St);return(0,e.p)(G).pipe((0,H.T)(Rn))}}function Re(M){return null!=M?Me(rr(M)):null}function Ae(M,R){return null===M?[R]:Array.isArray(M)?[...M,R]:[M,R]}function Qe(M){return M._rawValidators}function je(M){return M._rawAsyncValidators}function ut(M){return M?Array.isArray(M)?M:[M]:[]}function nn(M,R){return Array.isArray(M)?M.includes(R):M===R}function hn(M,R){const w=ut(R);return ut(M).forEach(de=>{nn(w,de)||w.push(de)}),w}function xt(M,R){return ut(R).filter(w=>!nn(M,w))}class pn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(R){this._rawValidators=R||[],this._composedValidatorFn=Ie(this._rawValidators)}_setAsyncValidators(R){this._rawAsyncValidators=R||[],this._composedAsyncValidatorFn=Re(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(R){this._onDestroyCallbacks.push(R)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(R=>R()),this._onDestroyCallbacks=[]}reset(R=void 0){this.control&&this.control.reset(R)}hasError(R,w){return!!this.control&&this.control.hasError(R,w)}getError(R,w){return this.control?this.control.getError(R,w):null}}class Mt extends pn{get formDirective(){return null}get path(){return null}}class Mn extends pn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class an{constructor(R){this._cd=R}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let $n=(()=>{class M extends an{constructor(w){super(w)}static{this.\u0275fac=function(G){return new(G||M)(l.rXU(Mn,2))}}static{this.\u0275dir=l.FsC({type:M,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(G,de){2&G&&l.AVh("ng-untouched",de.isUntouched)("ng-touched",de.isTouched)("ng-pristine",de.isPristine)("ng-dirty",de.isDirty)("ng-valid",de.isValid)("ng-invalid",de.isInvalid)("ng-pending",de.isPending)},features:[l.Vt3]})}}return M})(),Ze=(()=>{class M extends an{constructor(w){super(w)}static{this.\u0275fac=function(G){return new(G||M)(l.rXU(Mt,10))}}static{this.\u0275dir=l.FsC({type:M,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(G,de){2&G&&l.AVh("ng-untouched",de.isUntouched)("ng-touched",de.isTouched)("ng-pristine",de.isPristine)("ng-dirty",de.isDirty)("ng-valid",de.isValid)("ng-invalid",de.isInvalid)("ng-pending",de.isPending)("ng-submitted",de.isSubmitted)},features:[l.Vt3]})}}return M})();const hr="VALID",ln="INVALID",Tn="PENDING",Fr="DISABLED";class qn{}class Ne extends qn{constructor(R,w){super(),this.value=R,this.source=w}}class be extends qn{constructor(R,w){super(),this.pristine=R,this.source=w}}class re extends qn{constructor(R,w){super(),this.touched=R,this.source=w}}class me extends qn{constructor(R,w){super(),this.status=R,this.source=w}}class Ge extends qn{constructor(R){super(),this.source=R}}class at extends qn{constructor(R){super(),this.source=R}}function Rt(M){return(Ir(M)?M.validators:M)||null}function Cn(M,R){return(Ir(R)?R.asyncValidators:M)||null}function Ir(M){return null!=M&&!Array.isArray(M)&&"object"==typeof M}function Cr(M,R,w){const G=M.controls;if(!(R?Object.keys(G):G).length)throw new l.wOt(1e3,"");if(!G[w])throw new l.wOt(1001,"")}function So(M,R,w){M._forEachChild((G,de)=>{if(void 0===w[de])throw new l.wOt(1002,"")})}class Xr{constructor(R,w){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,l.EWP)(()=>this.statusReactive()),this.statusReactive=(0,l.vPA)(void 0),this._pristine=(0,l.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,l.vPA)(!0),this._touched=(0,l.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,l.vPA)(!1),this._events=new S.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(R),this._assignAsyncValidators(w)}get validator(){return this._composedValidatorFn}set validator(R){this._rawValidators=this._composedValidatorFn=R}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(R){this._rawAsyncValidators=this._composedAsyncValidatorFn=R}get parent(){return this._parent}get status(){return(0,l.O8t)(this.statusReactive)}set status(R){(0,l.O8t)(()=>this.statusReactive.set(R))}get valid(){return this.status===hr}get invalid(){return this.status===ln}get pending(){return this.status==Tn}get disabled(){return this.status===Fr}get enabled(){return this.status!==Fr}get pristine(){return(0,l.O8t)(this.pristineReactive)}set pristine(R){(0,l.O8t)(()=>this.pristineReactive.set(R))}get dirty(){return!this.pristine}get touched(){return(0,l.O8t)(this.touchedReactive)}set touched(R){(0,l.O8t)(()=>this.touchedReactive.set(R))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(R){this._assignValidators(R)}setAsyncValidators(R){this._assignAsyncValidators(R)}addValidators(R){this.setValidators(hn(R,this._rawValidators))}addAsyncValidators(R){this.setAsyncValidators(hn(R,this._rawAsyncValidators))}removeValidators(R){this.setValidators(xt(R,this._rawValidators))}removeAsyncValidators(R){this.setAsyncValidators(xt(R,this._rawAsyncValidators))}hasValidator(R){return nn(this._rawValidators,R)}hasAsyncValidator(R){return nn(this._rawAsyncValidators,R)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(R={}){const w=!1===this.touched;this.touched=!0;const G=R.sourceControl??this;this._parent&&!R.onlySelf&&this._parent.markAsTouched({...R,sourceControl:G}),w&&!1!==R.emitEvent&&this._events.next(new re(!0,G))}markAllAsTouched(R={}){this.markAsTouched({onlySelf:!0,emitEvent:R.emitEvent,sourceControl:this}),this._forEachChild(w=>w.markAllAsTouched(R))}markAsUntouched(R={}){const w=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const G=R.sourceControl??this;this._forEachChild(de=>{de.markAsUntouched({onlySelf:!0,emitEvent:R.emitEvent,sourceControl:G})}),this._parent&&!R.onlySelf&&this._parent._updateTouched(R,G),w&&!1!==R.emitEvent&&this._events.next(new re(!1,G))}markAsDirty(R={}){const w=!0===this.pristine;this.pristine=!1;const G=R.sourceControl??this;this._parent&&!R.onlySelf&&this._parent.markAsDirty({...R,sourceControl:G}),w&&!1!==R.emitEvent&&this._events.next(new be(!1,G))}markAsPristine(R={}){const w=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const G=R.sourceControl??this;this._forEachChild(de=>{de.markAsPristine({onlySelf:!0,emitEvent:R.emitEvent})}),this._parent&&!R.onlySelf&&this._parent._updatePristine(R,G),w&&!1!==R.emitEvent&&this._events.next(new be(!0,G))}markAsPending(R={}){this.status=Tn;const w=R.sourceControl??this;!1!==R.emitEvent&&(this._events.next(new me(this.status,w)),this.statusChanges.emit(this.status)),this._parent&&!R.onlySelf&&this._parent.markAsPending({...R,sourceControl:w})}disable(R={}){const w=this._parentMarkedDirty(R.onlySelf);this.status=Fr,this.errors=null,this._forEachChild(de=>{de.disable({...R,onlySelf:!0})}),this._updateValue();const G=R.sourceControl??this;!1!==R.emitEvent&&(this._events.next(new Ne(this.value,G)),this._events.next(new me(this.status,G)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...R,skipPristineCheck:w},this),this._onDisabledChange.forEach(de=>de(!0))}enable(R={}){const w=this._parentMarkedDirty(R.onlySelf);this.status=hr,this._forEachChild(G=>{G.enable({...R,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:R.emitEvent}),this._updateAncestors({...R,skipPristineCheck:w},this),this._onDisabledChange.forEach(G=>G(!1))}_updateAncestors(R,w){this._parent&&!R.onlySelf&&(this._parent.updateValueAndValidity(R),R.skipPristineCheck||this._parent._updatePristine({},w),this._parent._updateTouched({},w))}setParent(R){this._parent=R}getRawValue(){return this.value}updateValueAndValidity(R={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const G=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===hr||this.status===Tn)&&this._runAsyncValidator(G,R.emitEvent)}const w=R.sourceControl??this;!1!==R.emitEvent&&(this._events.next(new Ne(this.value,w)),this._events.next(new me(this.status,w)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!R.onlySelf&&this._parent.updateValueAndValidity({...R,sourceControl:w})}_updateTreeValidity(R={emitEvent:!0}){this._forEachChild(w=>w._updateTreeValidity(R)),this.updateValueAndValidity({onlySelf:!0,emitEvent:R.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Fr:hr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(R,w){if(this.asyncValidator){this.status=Tn,this._hasOwnPendingAsyncValidator={emitEvent:!1!==w};const G=St(this.asyncValidator(this));this._asyncValidationSubscription=G.subscribe(de=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(de,{emitEvent:w,shouldHaveEmitted:R})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const R=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,R}return!1}setErrors(R,w={}){this.errors=R,this._updateControlsErrors(!1!==w.emitEvent,this,w.shouldHaveEmitted)}get(R){let w=R;return null==w||(Array.isArray(w)||(w=w.split(".")),0===w.length)?null:w.reduce((G,de)=>G&&G._find(de),this)}getError(R,w){const G=w?this.get(w):this;return G&&G.errors?G.errors[R]:null}hasError(R,w){return!!this.getError(R,w)}get root(){let R=this;for(;R._parent;)R=R._parent;return R}_updateControlsErrors(R,w,G){this.status=this._calculateStatus(),R&&this.statusChanges.emit(this.status),(R||G)&&this._events.next(new me(this.status,w)),this._parent&&this._parent._updateControlsErrors(R,w,G)}_initObservables(){this.valueChanges=new l.bkB,this.statusChanges=new l.bkB}_calculateStatus(){return this._allControlsDisabled()?Fr:this.errors?ln:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Tn)?Tn:this._anyControlsHaveStatus(ln)?ln:hr}_anyControlsHaveStatus(R){return this._anyControls(w=>w.status===R)}_anyControlsDirty(){return this._anyControls(R=>R.dirty)}_anyControlsTouched(){return this._anyControls(R=>R.touched)}_updatePristine(R,w){const G=!this._anyControlsDirty(),de=this.pristine!==G;this.pristine=G,this._parent&&!R.onlySelf&&this._parent._updatePristine(R,w),de&&this._events.next(new be(this.pristine,w))}_updateTouched(R={},w){this.touched=this._anyControlsTouched(),this._events.next(new re(this.touched,w)),this._parent&&!R.onlySelf&&this._parent._updateTouched(R,w)}_registerOnCollectionChange(R){this._onCollectionChange=R}_setUpdateStrategy(R){Ir(R)&&null!=R.updateOn&&(this._updateOn=R.updateOn)}_parentMarkedDirty(R){return!R&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(R){return null}_assignValidators(R){this._rawValidators=Array.isArray(R)?R.slice():R,this._composedValidatorFn=function Bt(M){return Array.isArray(M)?Ie(M):M||null}(this._rawValidators)}_assignAsyncValidators(R){this._rawAsyncValidators=Array.isArray(R)?R.slice():R,this._composedAsyncValidatorFn=function ir(M){return Array.isArray(M)?Re(M):M||null}(this._rawAsyncValidators)}}class Kr extends Xr{constructor(R,w,G){super(Rt(w),Cn(G,w)),this.controls=R,this._initObservables(),this._setUpdateStrategy(w),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(R,w){return this.controls[R]?this.controls[R]:(this.controls[R]=w,w.setParent(this),w._registerOnCollectionChange(this._onCollectionChange),w)}addControl(R,w,G={}){this.registerControl(R,w),this.updateValueAndValidity({emitEvent:G.emitEvent}),this._onCollectionChange()}removeControl(R,w={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),delete this.controls[R],this.updateValueAndValidity({emitEvent:w.emitEvent}),this._onCollectionChange()}setControl(R,w,G={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),delete this.controls[R],w&&this.registerControl(R,w),this.updateValueAndValidity({emitEvent:G.emitEvent}),this._onCollectionChange()}contains(R){return this.controls.hasOwnProperty(R)&&this.controls[R].enabled}setValue(R,w={}){So(this,0,R),Object.keys(R).forEach(G=>{Cr(this,!0,G),this.controls[G].setValue(R[G],{onlySelf:!0,emitEvent:w.emitEvent})}),this.updateValueAndValidity(w)}patchValue(R,w={}){null!=R&&(Object.keys(R).forEach(G=>{const de=this.controls[G];de&&de.patchValue(R[G],{onlySelf:!0,emitEvent:w.emitEvent})}),this.updateValueAndValidity(w))}reset(R={},w={}){this._forEachChild((G,de)=>{G.reset(R?R[de]:null,{onlySelf:!0,emitEvent:w.emitEvent})}),this._updatePristine(w,this),this._updateTouched(w,this),this.updateValueAndValidity(w)}getRawValue(){return this._reduceChildren({},(R,w,G)=>(R[G]=w.getRawValue(),R))}_syncPendingControls(){let R=this._reduceChildren(!1,(w,G)=>!!G._syncPendingControls()||w);return R&&this.updateValueAndValidity({onlySelf:!0}),R}_forEachChild(R){Object.keys(this.controls).forEach(w=>{const G=this.controls[w];G&&R(G,w)})}_setUpControls(){this._forEachChild(R=>{R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(R){for(const[w,G]of Object.entries(this.controls))if(this.contains(w)&&R(G))return!0;return!1}_reduceValue(){return this._reduceChildren({},(w,G,de)=>((G.enabled||this.disabled)&&(w[de]=G.value),w))}_reduceChildren(R,w){let G=R;return this._forEachChild((de,pt)=>{G=w(G,de,pt)}),G}_allControlsDisabled(){for(const R of Object.keys(this.controls))if(this.controls[R].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(R){return this.controls.hasOwnProperty(R)?this.controls[R]:null}}class bo extends Kr{}const Pr=new l.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>wr}),wr="always";function Or(M,R){return[...R.path,M]}function Zt(M,R,w=wr){jr(M,R),R.valueAccessor.writeValue(M.value),(M.disabled||"always"===w)&&R.valueAccessor.setDisabledState?.(M.disabled),function Vo(M,R){R.valueAccessor.registerOnChange(w=>{M._pendingValue=w,M._pendingChange=!0,M._pendingDirty=!0,"change"===M.updateOn&&kr(M,R)})}(M,R),function ro(M,R){const w=(G,de)=>{R.valueAccessor.writeValue(G),de&&R.viewToModelUpdate(G)};M.registerOnChange(w),R._registerOnDestroy(()=>{M._unregisterOnChange(w)})}(M,R),function Eo(M,R){R.valueAccessor.registerOnTouched(()=>{M._pendingTouched=!0,"blur"===M.updateOn&&M._pendingChange&&kr(M,R),"submit"!==M.updateOn&&M.markAsTouched()})}(M,R),function nr(M,R){if(R.valueAccessor.setDisabledState){const w=G=>{R.valueAccessor.setDisabledState(G)};M.registerOnDisabledChange(w),R._registerOnDestroy(()=>{M._unregisterOnDisabledChange(w)})}}(M,R)}function Qr(M,R,w=!0){const G=()=>{};R.valueAccessor&&(R.valueAccessor.registerOnChange(G),R.valueAccessor.registerOnTouched(G)),Jr(M,R),M&&(R._invokeOnDestroyCallbacks(),M._registerOnCollectionChange(()=>{}))}function zn(M,R){M.forEach(w=>{w.registerOnValidatorChange&&w.registerOnValidatorChange(R)})}function jr(M,R){const w=Qe(M);null!==R.validator?M.setValidators(Ae(w,R.validator)):"function"==typeof w&&M.setValidators([w]);const G=je(M);null!==R.asyncValidator?M.setAsyncValidators(Ae(G,R.asyncValidator)):"function"==typeof G&&M.setAsyncValidators([G]);const de=()=>M.updateValueAndValidity();zn(R._rawValidators,de),zn(R._rawAsyncValidators,de)}function Jr(M,R){let w=!1;if(null!==M){if(null!==R.validator){const de=Qe(M);if(Array.isArray(de)&&de.length>0){const pt=de.filter(Kt=>Kt!==R.validator);pt.length!==de.length&&(w=!0,M.setValidators(pt))}}if(null!==R.asyncValidator){const de=je(M);if(Array.isArray(de)&&de.length>0){const pt=de.filter(Kt=>Kt!==R.asyncValidator);pt.length!==de.length&&(w=!0,M.setAsyncValidators(pt))}}}const G=()=>{};return zn(R._rawValidators,G),zn(R._rawAsyncValidators,G),w}function kr(M,R){M._pendingDirty&&M.markAsDirty(),M.setValue(M._pendingValue,{emitModelToViewChange:!1}),R.viewToModelUpdate(M._pendingValue),M._pendingChange=!1}function ze(M,R){if(!M.hasOwnProperty("model"))return!1;const w=M.model;return!!w.isFirstChange()||!Object.is(R,w.currentValue)}function Dt(M,R){if(!R)return null;let w,G,de;return Array.isArray(R),R.forEach(pt=>{pt.constructor===Le?w=pt:function Xe(M){return Object.getPrototypeOf(M.constructor)===K}(pt)?G=pt:de=pt}),de||G||w||null}function Fn(M,R){const w=M.indexOf(R);w>-1&&M.splice(w,1)}function Un(M){return"object"==typeof M&&null!==M&&2===Object.keys(M).length&&"value"in M&&"disabled"in M}Promise.resolve();const At=class extends Xr{constructor(R=null,w,G){super(Rt(w),Cn(G,w)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(R),this._setUpdateStrategy(w),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ir(w)&&(w.nonNullable||w.initialValueIsDefault)&&(this.defaultValue=Un(R)?R.value:R)}setValue(R,w={}){this.value=this._pendingValue=R,this._onChange.length&&!1!==w.emitModelToViewChange&&this._onChange.forEach(G=>G(this.value,!1!==w.emitViewToModelChange)),this.updateValueAndValidity(w)}patchValue(R,w={}){this.setValue(R,w)}reset(R=this.defaultValue,w={}){this._applyFormState(R),this.markAsPristine(w),this.markAsUntouched(w),this.setValue(this.value,w),this._pendingChange=!1}_updateValue(){}_anyControls(R){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(R){this._onChange.push(R)}_unregisterOnChange(R){Fn(this._onChange,R)}registerOnDisabledChange(R){this._onDisabledChange.push(R)}_unregisterOnDisabledChange(R){Fn(this._onDisabledChange,R)}_forEachChild(R){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(R){Un(R)?(this.value=this._pendingValue=R.value,R.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=R}};let Ct=(()=>{class M extends Mt{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Or(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let w;return function(de){return(w||(w=l.xGo(M)))(de||M)}})()}static{this.\u0275dir=l.FsC({type:M,features:[l.Vt3]})}}return M})();const Zo={provide:Mn,useExisting:(0,l.Rfq)(()=>Co)},$t=Promise.resolve();let Co=(()=>{class M extends Mn{constructor(w,G,de,pt,Kt,No){super(),this._changeDetectorRef=Kt,this.callSetDisabledState=No,this.control=new At,this._registered=!1,this.name="",this.update=new l.bkB,this._parent=w,this._setValidators(G),this._setAsyncValidators(de),this.valueAccessor=Dt(0,pt)}ngOnChanges(w){if(this._checkForErrors(),!this._registered||"name"in w){if(this._registered&&(this._checkName(),this.formDirective)){const G=w.name.previousValue;this.formDirective.removeControl({name:G,path:this._getPath(G)})}this._setUpControl()}"isDisabled"in w&&this._updateDisabled(w),ze(w,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(w){this.viewModel=w,this.update.emit(w)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Zt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(w){$t.then(()=>{this.control.setValue(w,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(w){const G=w.isDisabled.currentValue,de=0!==G&&(0,l.L39)(G);$t.then(()=>{de&&!this.control.disabled?this.control.disable():!de&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(w){return this._parent?Or(w,this._parent):[w]}static{this.\u0275fac=function(G){return new(G||M)(l.rXU(Mt,9),l.rXU(B,10),l.rXU(he,10),l.rXU(ue,10),l.rXU(l.gRc,8),l.rXU(Pr,8))}}static{this.\u0275dir=l.FsC({type:M,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l.Jv_([Zo]),l.Vt3,l.OA$]})}}return M})(),ei=(()=>{class M{static{this.\u0275fac=function(G){return new(G||M)}}static{this.\u0275dir=l.FsC({type:M,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return M})();const Tr={provide:ue,useExisting:(0,l.Rfq)(()=>fi),multi:!0};let fi=(()=>{class M extends K{writeValue(w){this.setProperty("value",w??"")}registerOnChange(w){this.onChange=G=>{w(""==G?null:parseFloat(G))}}static{this.\u0275fac=(()=>{let w;return function(de){return(w||(w=l.xGo(M)))(de||M)}})()}static{this.\u0275dir=l.FsC({type:M,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(G,de){1&G&&l.bIt("input",function(Kt){return de.onChange(Kt.target.value)})("blur",function(){return de.onTouched()})},features:[l.Jv_([Tr]),l.Vt3]})}}return M})();const Ro={provide:ue,useExisting:(0,l.Rfq)(()=>gr),multi:!0};let wo=(()=>{class M{constructor(){this._accessors=[]}add(w,G){this._accessors.push([w,G])}remove(w){for(let G=this._accessors.length-1;G>=0;--G)if(this._accessors[G][1]===w)return void this._accessors.splice(G,1)}select(w){this._accessors.forEach(G=>{this._isSameGroup(G,w)&&G[1]!==w&&G[1].fireUncheck(w.value)})}_isSameGroup(w,G){return!!w[0].control&&w[0]._parent===G._control._parent&&w[1].name===G.name}static{this.\u0275fac=function(G){return new(G||M)}}static{this.\u0275prov=l.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})(),gr=(()=>{class M extends K{constructor(w,G,de,pt){super(w,G),this._registry=de,this._injector=pt,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,l.WQX)(Pr,{optional:!0})??wr}ngOnInit(){this._control=this._injector.get(Mn),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(w){this._state=w===this.value,this.setProperty("checked",this._state)}registerOnChange(w){this._fn=w,this.onChange=()=>{w(this.value),this._registry.select(this)}}setDisabledState(w){(this.setDisabledStateFired||w||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",w),this.setDisabledStateFired=!0}fireUncheck(w){this.writeValue(w)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(G){return new(G||M)(l.rXU(l.sFG),l.rXU(l.aKT),l.rXU(wo),l.rXU(l.zZn))}}static{this.\u0275dir=l.FsC({type:M,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(G,de){1&G&&l.bIt("change",function(){return de.onChange()})("blur",function(){return de.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[l.Jv_([Ro]),l.Vt3]})}}return M})();const so=new l.nKC(""),$i={provide:Mn,useExisting:(0,l.Rfq)(()=>$r)};let $r=(()=>{class M extends Mn{set isDisabled(w){}static{this._ngModelWarningSentOnce=!1}constructor(w,G,de,pt,Kt){super(),this._ngModelWarningConfig=pt,this.callSetDisabledState=Kt,this.update=new l.bkB,this._ngModelWarningSent=!1,this._setValidators(w),this._setAsyncValidators(G),this.valueAccessor=Dt(0,de)}ngOnChanges(w){if(this._isControlChanged(w)){const G=w.form.previousValue;G&&Qr(G,this,!1),Zt(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}ze(w,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Qr(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(w){this.viewModel=w,this.update.emit(w)}_isControlChanged(w){return w.hasOwnProperty("form")}static{this.\u0275fac=function(G){return new(G||M)(l.rXU(B,10),l.rXU(he,10),l.rXU(ue,10),l.rXU(so,8),l.rXU(Pr,8))}}static{this.\u0275dir=l.FsC({type:M,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[l.Jv_([$i]),l.Vt3,l.OA$]})}}return M})();const _r={provide:Mt,useExisting:(0,l.Rfq)(()=>xo)};let xo=(()=>{class M extends Mt{get submitted(){return(0,l.O8t)(this._submittedReactive)}set submitted(w){this._submittedReactive.set(w)}constructor(w,G,de){super(),this.callSetDisabledState=de,this._submitted=(0,l.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,l.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.bkB,this._setValidators(w),this._setAsyncValidators(G)}ngOnChanges(w){this._checkFormPresent(),w.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Jr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(w){const G=this.form.get(w.path);return Zt(G,w,this.callSetDisabledState),G.updateValueAndValidity({emitEvent:!1}),this.directives.push(w),G}getControl(w){return this.form.get(w.path)}removeControl(w){Qr(w.control||null,w,!1),function ht(M,R){const w=M.indexOf(R);w>-1&&M.splice(w,1)}(this.directives,w)}addFormGroup(w){this._setUpFormContainer(w)}removeFormGroup(w){this._cleanUpFormContainer(w)}getFormGroup(w){return this.form.get(w.path)}addFormArray(w){this._setUpFormContainer(w)}removeFormArray(w){this._cleanUpFormContainer(w)}getFormArray(w){return this.form.get(w.path)}updateModel(w,G){this.form.get(w.path).setValue(G)}onSubmit(w){return this._submittedReactive.set(!0),function et(M,R){M._syncPendingControls(),R.forEach(w=>{const G=w.control;"submit"===G.updateOn&&G._pendingChange&&(w.viewToModelUpdate(G._pendingValue),G._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(w),this.form._events.next(new Ge(this.control)),"dialog"===w?.target?.method}onReset(){this.resetForm()}resetForm(w=void 0){this.form.reset(w),this._submittedReactive.set(!1),this.form._events.next(new at(this.form))}_updateDomValue(){this.directives.forEach(w=>{const G=w.control,de=this.form.get(w.path);G!==de&&(Qr(G||null,w),(M=>M instanceof At)(de)&&(Zt(de,w,this.callSetDisabledState),w.control=de))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(w){const G=this.form.get(w.path);(function oo(M,R){jr(M,R)})(G,w),G.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(w){if(this.form){const G=this.form.get(w.path);G&&function Jo(M,R){return Jr(M,R)}(G,w)&&G.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){jr(this.form,this),this._oldForm&&Jr(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(G){return new(G||M)(l.rXU(B,10),l.rXU(he,10),l.rXU(Pr,8))}}static{this.\u0275dir=l.FsC({type:M,selectors:[["","formGroup",""]],hostBindings:function(G,de){1&G&&l.bIt("submit",function(Kt){return de.onSubmit(Kt)})("reset",function(){return de.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l.Jv_([_r]),l.Vt3,l.OA$]})}}return M})();const Xn={provide:Mt,useExisting:(0,l.Rfq)(()=>sr)};let sr=(()=>{class M extends Ct{constructor(w,G,de){super(),this.name=null,this._parent=w,this._setValidators(G),this._setAsyncValidators(de)}_checkParentType(){mt(this._parent)}static{this.\u0275fac=function(G){return new(G||M)(l.rXU(Mt,13),l.rXU(B,10),l.rXU(he,10))}}static{this.\u0275dir=l.FsC({type:M,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[l.Jv_([Xn]),l.Vt3]})}}return M})();const In={provide:Mt,useExisting:(0,l.Rfq)(()=>Uo)};let Uo=(()=>{class M extends Mt{constructor(w,G,de){super(),this.name=null,this._parent=w,this._setValidators(G),this._setAsyncValidators(de)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Or(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){mt(this._parent)}static{this.\u0275fac=function(G){return new(G||M)(l.rXU(Mt,13),l.rXU(B,10),l.rXU(he,10))}}static{this.\u0275dir=l.FsC({type:M,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[l.Jv_([In]),l.Vt3]})}}return M})();function mt(M){return!(M instanceof sr||M instanceof xo||M instanceof Uo)}const ti={provide:Mn,useExisting:(0,l.Rfq)(()=>Sr)};let Sr=(()=>{class M extends Mn{set isDisabled(w){}static{this._ngModelWarningSentOnce=!1}constructor(w,G,de,pt,Kt){super(),this._ngModelWarningConfig=Kt,this._added=!1,this.name=null,this.update=new l.bkB,this._ngModelWarningSent=!1,this._parent=w,this._setValidators(G),this._setAsyncValidators(de),this.valueAccessor=Dt(0,pt)}ngOnChanges(w){this._added||this._setUpControl(),ze(w,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(w){this.viewModel=w,this.update.emit(w)}get path(){return Or(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(G){return new(G||M)(l.rXU(Mt,13),l.rXU(B,10),l.rXU(he,10),l.rXU(ue,10),l.rXU(so,8))}}static{this.\u0275dir=l.FsC({type:M,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[l.Jv_([ti]),l.Vt3,l.OA$]})}}return M})();const ho={provide:ue,useExisting:(0,l.Rfq)(()=>eo),multi:!0};function Do(M,R){return null==M?`${R}`:(R&&"object"==typeof R&&(R="Object"),`${M}: ${R}`.slice(0,50))}let eo=(()=>{class M extends K{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(w){this._compareWith=w}writeValue(w){this.value=w;const de=Do(this._getOptionId(w),w);this.setProperty("value",de)}registerOnChange(w){this.onChange=G=>{this.value=this._getOptionValue(G),w(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(w){for(const G of this._optionMap.keys())if(this._compareWith(this._optionMap.get(G),w))return G;return null}_getOptionValue(w){const G=function Mi(M){return M.split(":")[0]}(w);return this._optionMap.has(G)?this._optionMap.get(G):w}static{this.\u0275fac=(()=>{let w;return function(de){return(w||(w=l.xGo(M)))(de||M)}})()}static{this.\u0275dir=l.FsC({type:M,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(G,de){1&G&&l.bIt("change",function(Kt){return de.onChange(Kt.target.value)})("blur",function(){return de.onTouched()})},inputs:{compareWith:"compareWith"},features:[l.Jv_([ho]),l.Vt3]})}}return M})(),ni=(()=>{class M{constructor(w,G,de){this._element=w,this._renderer=G,this._select=de,this._select&&(this.id=this._select._registerOption())}set ngValue(w){null!=this._select&&(this._select._optionMap.set(this.id,w),this._setElementValue(Do(this.id,w)),this._select.writeValue(this._select.value))}set value(w){this._setElementValue(w),this._select&&this._select.writeValue(this._select.value)}_setElementValue(w){this._renderer.setProperty(this._element.nativeElement,"value",w)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(G){return new(G||M)(l.rXU(l.aKT),l.rXU(l.sFG),l.rXU(eo,9))}}static{this.\u0275dir=l.FsC({type:M,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return M})();const Ao={provide:ue,useExisting:(0,l.Rfq)(()=>Kn),multi:!0};function ri(M,R){return null==M?`${R}`:("string"==typeof R&&(R=`'${R}'`),R&&"object"==typeof R&&(R="Object"),`${M}: ${R}`.slice(0,50))}let Kn=(()=>{class M extends K{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(w){this._compareWith=w}writeValue(w){let G;if(this.value=w,Array.isArray(w)){const de=w.map(pt=>this._getOptionId(pt));G=(pt,Kt)=>{pt._setSelected(de.indexOf(Kt.toString())>-1)}}else G=(de,pt)=>{de._setSelected(!1)};this._optionMap.forEach(G)}registerOnChange(w){this.onChange=G=>{const de=[],pt=G.selectedOptions;if(void 0!==pt){const Kt=pt;for(let No=0;No<Kt.length;No++){const Zi=this._getOptionValue(Kt[No].value);de.push(Zi)}}else{const Kt=G.options;for(let No=0;No<Kt.length;No++){const hi=Kt[No];if(hi.selected){const Zi=this._getOptionValue(hi.value);de.push(Zi)}}}this.value=de,w(de)}}_registerOption(w){const G=(this._idCounter++).toString();return this._optionMap.set(G,w),G}_getOptionId(w){for(const G of this._optionMap.keys())if(this._compareWith(this._optionMap.get(G)._value,w))return G;return null}_getOptionValue(w){const G=function Fo(M){return M.split(":")[0]}(w);return this._optionMap.has(G)?this._optionMap.get(G)._value:w}static{this.\u0275fac=(()=>{let w;return function(de){return(w||(w=l.xGo(M)))(de||M)}})()}static{this.\u0275dir=l.FsC({type:M,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(G,de){1&G&&l.bIt("change",function(Kt){return de.onChange(Kt.target)})("blur",function(){return de.onTouched()})},inputs:{compareWith:"compareWith"},features:[l.Jv_([Ao]),l.Vt3]})}}return M})(),Bo=(()=>{class M{constructor(w,G,de){this._element=w,this._renderer=G,this._select=de,this._select&&(this.id=this._select._registerOption(this))}set ngValue(w){null!=this._select&&(this._value=w,this._setElementValue(ri(this.id,w)),this._select.writeValue(this._select.value))}set value(w){this._select?(this._value=w,this._setElementValue(ri(this.id,w)),this._select.writeValue(this._select.value)):this._setElementValue(w)}_setElementValue(w){this._renderer.setProperty(this._element.nativeElement,"value",w)}_setSelected(w){this._renderer.setProperty(this._element.nativeElement,"selected",w)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(G){return new(G||M)(l.rXU(l.aKT),l.rXU(l.sFG),l.rXU(Kn,9))}}static{this.\u0275dir=l.FsC({type:M,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return M})();let cr=(()=>{class M{constructor(){this._validator=kt}ngOnChanges(w){if(this.inputName in w){const G=this.normalizeInput(w[this.inputName].currentValue);this._enabled=this.enabled(G),this._validator=this._enabled?this.createValidator(G):kt,this._onChange&&this._onChange()}}validate(w){return this._validator(w)}registerOnValidatorChange(w){this._onChange=w}enabled(w){return null!=w}static{this.\u0275fac=function(G){return new(G||M)}}static{this.\u0275dir=l.FsC({type:M,features:[l.OA$]})}}return M})();const oi={provide:B,useExisting:(0,l.Rfq)(()=>Go),multi:!0};let Go=(()=>{class M extends cr{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=w=>function mo(M){return"number"==typeof M?M:parseFloat(M)}(w),this.createValidator=w=>xe(w)}static{this.\u0275fac=(()=>{let w;return function(de){return(w||(w=l.xGo(M)))(de||M)}})()}static{this.\u0275dir=l.FsC({type:M,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(G,de){2&G&&l.BMQ("max",de._enabled?de.max:null)},inputs:{max:"max"},features:[l.Jv_([oi]),l.Vt3]})}}return M})();const Ho={provide:B,useExisting:(0,l.Rfq)(()=>Gn),multi:!0};let Gn=(()=>{class M extends cr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.L39,this.createValidator=w=>nt}enabled(w){return w}static{this.\u0275fac=(()=>{let w;return function(de){return(w||(w=l.xGo(M)))(de||M)}})()}static{this.\u0275dir=l.FsC({type:M,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(G,de){2&G&&l.BMQ("required",de._enabled?"":null)},inputs:{required:"required"},features:[l.Jv_([Ho]),l.Vt3]})}}return M})();const k={provide:B,useExisting:(0,l.Rfq)(()=>$),multi:!0};let $=(()=>{class M extends cr{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=w=>function Nn(M){return"number"==typeof M?M:parseInt(M,10)}(w),this.createValidator=w=>Ke(w)}static{this.\u0275fac=(()=>{let w;return function(de){return(w||(w=l.xGo(M)))(de||M)}})()}static{this.\u0275dir=l.FsC({type:M,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(G,de){2&G&&l.BMQ("maxlength",de._enabled?de.maxlength:null)},inputs:{maxlength:"maxlength"},features:[l.Jv_([k]),l.Vt3]})}}return M})(),Ue=(()=>{class M{static{this.\u0275fac=function(G){return new(G||M)}}static{this.\u0275mod=l.$C({type:M})}static{this.\u0275inj=l.G2t({})}}return M})();class ft extends Xr{constructor(R,w,G){super(Rt(w),Cn(G,w)),this.controls=R,this._initObservables(),this._setUpdateStrategy(w),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(R){return this.controls[this._adjustIndex(R)]}push(R,w={}){this.controls.push(R),this._registerControl(R),this.updateValueAndValidity({emitEvent:w.emitEvent}),this._onCollectionChange()}insert(R,w,G={}){this.controls.splice(R,0,w),this._registerControl(w),this.updateValueAndValidity({emitEvent:G.emitEvent})}removeAt(R,w={}){let G=this._adjustIndex(R);G<0&&(G=0),this.controls[G]&&this.controls[G]._registerOnCollectionChange(()=>{}),this.controls.splice(G,1),this.updateValueAndValidity({emitEvent:w.emitEvent})}setControl(R,w,G={}){let de=this._adjustIndex(R);de<0&&(de=0),this.controls[de]&&this.controls[de]._registerOnCollectionChange(()=>{}),this.controls.splice(de,1),w&&(this.controls.splice(de,0,w),this._registerControl(w)),this.updateValueAndValidity({emitEvent:G.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(R,w={}){So(this,0,R),R.forEach((G,de)=>{Cr(this,!1,de),this.at(de).setValue(G,{onlySelf:!0,emitEvent:w.emitEvent})}),this.updateValueAndValidity(w)}patchValue(R,w={}){null!=R&&(R.forEach((G,de)=>{this.at(de)&&this.at(de).patchValue(G,{onlySelf:!0,emitEvent:w.emitEvent})}),this.updateValueAndValidity(w))}reset(R=[],w={}){this._forEachChild((G,de)=>{G.reset(R[de],{onlySelf:!0,emitEvent:w.emitEvent})}),this._updatePristine(w,this),this._updateTouched(w,this),this.updateValueAndValidity(w)}getRawValue(){return this.controls.map(R=>R.getRawValue())}clear(R={}){this.controls.length<1||(this._forEachChild(w=>w._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:R.emitEvent}))}_adjustIndex(R){return R<0?R+this.length:R}_syncPendingControls(){let R=this.controls.reduce((w,G)=>!!G._syncPendingControls()||w,!1);return R&&this.updateValueAndValidity({onlySelf:!0}),R}_forEachChild(R){this.controls.forEach((w,G)=>{R(w,G)})}_updateValue(){this.value=this.controls.filter(R=>R.enabled||this.disabled).map(R=>R.value)}_anyControls(R){return this.controls.some(w=>w.enabled&&R(w))}_setUpControls(){this._forEachChild(R=>this._registerControl(R))}_allControlsDisabled(){for(const R of this.controls)if(R.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(R){R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange)}_find(R){return this.at(R)??null}}function fn(M){return!!M&&(void 0!==M.asyncValidators||void 0!==M.validators||void 0!==M.updateOn)}let Wt=(()=>{class M{constructor(){this.useNonNullable=!1}get nonNullable(){const w=new M;return w.useNonNullable=!0,w}group(w,G=null){const de=this._reduceControls(w);let pt={};return fn(G)?pt=G:null!==G&&(pt.validators=G.validator,pt.asyncValidators=G.asyncValidator),new Kr(de,pt)}record(w,G=null){const de=this._reduceControls(w);return new bo(de,G)}control(w,G,de){let pt={};return this.useNonNullable?(fn(G)?pt=G:(pt.validators=G,pt.asyncValidators=de),new At(w,{...pt,nonNullable:!0})):new At(w,G,de)}array(w,G,de){const pt=w.map(Kt=>this._createControl(Kt));return new ft(pt,G,de)}_reduceControls(w){const G={};return Object.keys(w).forEach(de=>{G[de]=this._createControl(w[de])}),G}_createControl(w){return w instanceof At||w instanceof Xr?w:Array.isArray(w)?this.control(w[0],w.length>1?w[1]:null,w.length>2?w[2]:null):this.control(w)}static{this.\u0275fac=function(G){return new(G||M)}}static{this.\u0275prov=l.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})(),ar=(()=>{class M{static withConfig(w){return{ngModule:M,providers:[{provide:Pr,useValue:w.callSetDisabledState??wr}]}}static{this.\u0275fac=function(G){return new(G||M)}}static{this.\u0275mod=l.$C({type:M})}static{this.\u0275inj=l.G2t({imports:[Ue]})}}return M})(),Wn=(()=>{class M{static withConfig(w){return{ngModule:M,providers:[{provide:so,useValue:w.warnOnNgModelWithFormControl??"always"},{provide:Pr,useValue:w.callSetDisabledState??wr}]}}static{this.\u0275fac=function(G){return new(G||M)}}static{this.\u0275mod=l.$C({type:M})}static{this.\u0275inj=l.G2t({imports:[Ue]})}}return M})()},345:(Je,_e,D)=>{"use strict";D.d(_e,{B8:()=>Ie,hE:()=>Ot,up:()=>An});var l=D(177),j=D(4438);class te extends l.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class e extends te{static makeCurrent(){(0,l.ZD)(new e)}onAndCancel(be,re,me){return be.addEventListener(re,me),()=>{be.removeEventListener(re,me)}}dispatchEvent(be,re){be.dispatchEvent(re)}remove(be){be.remove()}createElement(be,re){return(re=re||this.getDefaultDocument()).createElement(be)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(be){return be.nodeType===Node.ELEMENT_NODE}isShadowRoot(be){return be instanceof DocumentFragment}getGlobalEventTarget(be,re){return"window"===re?window:"document"===re?be:"body"===re?be.body:null}getBaseHref(be){const re=function H(){return S=S||document.querySelector("base"),S?S.getAttribute("href"):null}();return null==re?null:function E(Ne){return new URL(Ne,document.baseURI).pathname}(re)}resetBaseElement(){S=null}getUserAgent(){return window.navigator.userAgent}getCookie(be){return(0,l._b)(document.cookie,be)}}let S=null,ue=(()=>{class Ne{build(){return new XMLHttpRequest}static{this.\u0275fac=function(me){return new(me||Ne)}}static{this.\u0275prov=j.jDH({token:Ne,factory:Ne.\u0275fac})}}return Ne})();const ve=new j.nKC("");let Q=(()=>{class Ne{constructor(re,me){this._zone=me,this._eventNameToPlugin=new Map,re.forEach(Ge=>{Ge.manager=this}),this._plugins=re.slice().reverse()}addEventListener(re,me,Ge){return this._findPluginFor(me).addEventListener(re,me,Ge)}getZone(){return this._zone}_findPluginFor(re){let me=this._eventNameToPlugin.get(re);if(me)return me;if(me=this._plugins.find(at=>at.supports(re)),!me)throw new j.wOt(5101,!1);return this._eventNameToPlugin.set(re,me),me}static{this.\u0275fac=function(me){return new(me||Ne)(j.KVO(ve),j.KVO(j.SKi))}}static{this.\u0275prov=j.jDH({token:Ne,factory:Ne.\u0275fac})}}return Ne})();class ye{constructor(be){this._doc=be}}const Fe="ng-app-id";let Ee=(()=>{class Ne{constructor(re,me,Ge,at={}){this.doc=re,this.appId=me,this.nonce=Ge,this.platformId=at,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,l.Vy)(at),this.resetHostNodes()}addStyles(re){for(const me of re)1===this.changeUsageCount(me,1)&&this.onStyleAdded(me)}removeStyles(re){for(const me of re)this.changeUsageCount(me,-1)<=0&&this.onStyleRemoved(me)}ngOnDestroy(){const re=this.styleNodesInDOM;re&&(re.forEach(me=>me.remove()),re.clear());for(const me of this.getAllStyles())this.onStyleRemoved(me);this.resetHostNodes()}addHost(re){this.hostNodes.add(re);for(const me of this.getAllStyles())this.addStyleToHost(re,me)}removeHost(re){this.hostNodes.delete(re)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(re){for(const me of this.hostNodes)this.addStyleToHost(me,re)}onStyleRemoved(re){const me=this.styleRef;me.get(re)?.elements?.forEach(Ge=>Ge.remove()),me.delete(re)}collectServerRenderedStyles(){const re=this.doc.head?.querySelectorAll(`style[${Fe}="${this.appId}"]`);if(re?.length){const me=new Map;return re.forEach(Ge=>{null!=Ge.textContent&&me.set(Ge.textContent,Ge)}),me}return null}changeUsageCount(re,me){const Ge=this.styleRef;if(Ge.has(re)){const at=Ge.get(re);return at.usage+=me,at.usage}return Ge.set(re,{usage:me,elements:[]}),me}getStyleElement(re,me){const Ge=this.styleNodesInDOM,at=Ge?.get(me);if(at?.parentNode===re)return Ge.delete(me),at.removeAttribute(Fe),at;{const Rt=this.doc.createElement("style");return this.nonce&&Rt.setAttribute("nonce",this.nonce),Rt.textContent=me,this.platformIsServer&&Rt.setAttribute(Fe,this.appId),re.appendChild(Rt),Rt}}addStyleToHost(re,me){const Ge=this.getStyleElement(re,me),at=this.styleRef,Rt=at.get(me)?.elements;Rt?Rt.push(Ge):at.set(me,{elements:[Ge],usage:1})}resetHostNodes(){const re=this.hostNodes;re.clear(),re.add(this.doc.head)}static{this.\u0275fac=function(me){return new(me||Ne)(j.KVO(l.qQ),j.KVO(j.sZ2),j.KVO(j.BIS,8),j.KVO(j.Agw))}}static{this.\u0275prov=j.jDH({token:Ne,factory:Ne.\u0275fac})}}return Ne})();const Le={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ne=/%COMP%/g,U="%COMP%",B=`_nghost-${U}`,he=`_ngcontent-${U}`,fe=new j.nKC("",{providedIn:"root",factory:()=>!0});function nt(Ne,be){return be.map(re=>re.replace(ne,Ne))}let Te=(()=>{class Ne{constructor(re,me,Ge,at,Rt,Bt,Cn,ir=null){this.eventManager=re,this.sharedStylesHost=me,this.appId=Ge,this.removeStylesOnCompDestroy=at,this.doc=Rt,this.platformId=Bt,this.ngZone=Cn,this.nonce=ir,this.rendererByCompId=new Map,this.platformIsServer=(0,l.Vy)(Bt),this.defaultRenderer=new $e(re,Rt,Cn,this.platformIsServer)}createRenderer(re,me){if(!re||!me)return this.defaultRenderer;this.platformIsServer&&me.encapsulation===j.gXe.ShadowDom&&(me={...me,encapsulation:j.gXe.Emulated});const Ge=this.getOrCreateRenderer(re,me);return Ge instanceof St?Ge.applyToHost(re):Ge instanceof _t&&Ge.applyStyles(),Ge}getOrCreateRenderer(re,me){const Ge=this.rendererByCompId;let at=Ge.get(me.id);if(!at){const Rt=this.doc,Bt=this.ngZone,Cn=this.eventManager,ir=this.sharedStylesHost,Ir=this.removeStylesOnCompDestroy,Cr=this.platformIsServer;switch(me.encapsulation){case j.gXe.Emulated:at=new St(Cn,ir,me,this.appId,Ir,Rt,Bt,Cr);break;case j.gXe.ShadowDom:return new kt(Cn,ir,re,me,Rt,Bt,this.nonce,Cr);default:at=new _t(Cn,ir,me,Ir,Rt,Bt,Cr)}Ge.set(me.id,at)}return at}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(me){return new(me||Ne)(j.KVO(Q),j.KVO(Ee),j.KVO(j.sZ2),j.KVO(fe),j.KVO(l.qQ),j.KVO(j.Agw),j.KVO(j.SKi),j.KVO(j.BIS))}}static{this.\u0275prov=j.jDH({token:Ne,factory:Ne.\u0275fac})}}return Ne})();class $e{constructor(be,re,me,Ge){this.eventManager=be,this.doc=re,this.ngZone=me,this.platformIsServer=Ge,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(be,re){return re?this.doc.createElementNS(Le[re]||re,be):this.doc.createElement(be)}createComment(be){return this.doc.createComment(be)}createText(be){return this.doc.createTextNode(be)}appendChild(be,re){(st(be)?be.content:be).appendChild(re)}insertBefore(be,re,me){be&&(st(be)?be.content:be).insertBefore(re,me)}removeChild(be,re){re.remove()}selectRootElement(be,re){let me="string"==typeof be?this.doc.querySelector(be):be;if(!me)throw new j.wOt(-5104,!1);return re||(me.textContent=""),me}parentNode(be){return be.parentNode}nextSibling(be){return be.nextSibling}setAttribute(be,re,me,Ge){if(Ge){re=Ge+":"+re;const at=Le[Ge];at?be.setAttributeNS(at,re,me):be.setAttribute(re,me)}else be.setAttribute(re,me)}removeAttribute(be,re,me){if(me){const Ge=Le[me];Ge?be.removeAttributeNS(Ge,re):be.removeAttribute(`${me}:${re}`)}else be.removeAttribute(re)}addClass(be,re){be.classList.add(re)}removeClass(be,re){be.classList.remove(re)}setStyle(be,re,me,Ge){Ge&(j.czy.DashCase|j.czy.Important)?be.style.setProperty(re,me,Ge&j.czy.Important?"important":""):be.style[re]=me}removeStyle(be,re,me){me&j.czy.DashCase?be.style.removeProperty(re):be.style[re]=""}setProperty(be,re,me){null!=be&&(be[re]=me)}setValue(be,re){be.nodeValue=re}listen(be,re,me){if("string"==typeof be&&!(be=(0,l.QT)().getGlobalEventTarget(this.doc,be)))throw new Error(`Unsupported event target ${be} for event ${re}`);return this.eventManager.addEventListener(be,re,this.decoratePreventDefault(me))}decoratePreventDefault(be){return re=>{if("__ngUnwrap__"===re)return be;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>be(re)):be(re))&&re.preventDefault()}}}function st(Ne){return"TEMPLATE"===Ne.tagName&&void 0!==Ne.content}class kt extends $e{constructor(be,re,me,Ge,at,Rt,Bt,Cn){super(be,at,Rt,Cn),this.sharedStylesHost=re,this.hostEl=me,this.shadowRoot=me.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ir=nt(Ge.id,Ge.styles);for(const Ir of ir){const Cr=document.createElement("style");Bt&&Cr.setAttribute("nonce",Bt),Cr.textContent=Ir,this.shadowRoot.appendChild(Cr)}}nodeOrShadowRoot(be){return be===this.hostEl?this.shadowRoot:be}appendChild(be,re){return super.appendChild(this.nodeOrShadowRoot(be),re)}insertBefore(be,re,me){return super.insertBefore(this.nodeOrShadowRoot(be),re,me)}removeChild(be,re){return super.removeChild(null,re)}parentNode(be){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(be)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class _t extends $e{constructor(be,re,me,Ge,at,Rt,Bt,Cn){super(be,at,Rt,Bt),this.sharedStylesHost=re,this.removeStylesOnCompDestroy=Ge,this.styles=Cn?nt(Cn,me.styles):me.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class St extends _t{constructor(be,re,me,Ge,at,Rt,Bt,Cn){const ir=Ge+"-"+me.id;super(be,re,me,at,Rt,Bt,Cn,ir),this.contentAttr=function pe(Ne){return he.replace(ne,Ne)}(ir),this.hostAttr=function xe(Ne){return B.replace(ne,Ne)}(ir)}applyToHost(be){this.applyStyles(),this.setAttribute(be,this.hostAttr,"")}createElement(be,re){const me=super.createElement(be,re);return super.setAttribute(me,this.contentAttr,""),me}}let Rn=(()=>{class Ne extends ye{constructor(re){super(re)}supports(re){return!0}addEventListener(re,me,Ge){return re.addEventListener(me,Ge,!1),()=>this.removeEventListener(re,me,Ge)}removeEventListener(re,me,Ge){return re.removeEventListener(me,Ge)}static{this.\u0275fac=function(me){return new(me||Ne)(j.KVO(l.qQ))}}static{this.\u0275prov=j.jDH({token:Ne,factory:Ne.\u0275fac})}}return Ne})();const xn=["alt","control","meta","shift"],Yn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},rr={alt:Ne=>Ne.altKey,control:Ne=>Ne.ctrlKey,meta:Ne=>Ne.metaKey,shift:Ne=>Ne.shiftKey};let Nr=(()=>{class Ne extends ye{constructor(re){super(re)}supports(re){return null!=Ne.parseEventName(re)}addEventListener(re,me,Ge){const at=Ne.parseEventName(me),Rt=Ne.eventCallback(at.fullKey,Ge,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,l.QT)().onAndCancel(re,at.domEventName,Rt))}static parseEventName(re){const me=re.toLowerCase().split("."),Ge=me.shift();if(0===me.length||"keydown"!==Ge&&"keyup"!==Ge)return null;const at=Ne._normalizeKey(me.pop());let Rt="",Bt=me.indexOf("code");if(Bt>-1&&(me.splice(Bt,1),Rt="code."),xn.forEach(ir=>{const Ir=me.indexOf(ir);Ir>-1&&(me.splice(Ir,1),Rt+=ir+".")}),Rt+=at,0!=me.length||0===at.length)return null;const Cn={};return Cn.domEventName=Ge,Cn.fullKey=Rt,Cn}static matchEventFullKeyCode(re,me){let Ge=Yn[re.key]||re.key,at="";return me.indexOf("code.")>-1&&(Ge=re.code,at="code."),!(null==Ge||!Ge)&&(Ge=Ge.toLowerCase()," "===Ge?Ge="space":"."===Ge&&(Ge="dot"),xn.forEach(Rt=>{Rt!==Ge&&(0,rr[Rt])(re)&&(at+=Rt+".")}),at+=Ge,at===me)}static eventCallback(re,me,Ge){return at=>{Ne.matchEventFullKeyCode(at,re)&&Ge.runGuarded(()=>me(at))}}static _normalizeKey(re){return"esc"===re?"escape":re}static{this.\u0275fac=function(me){return new(me||Ne)(j.KVO(l.qQ))}}static{this.\u0275prov=j.jDH({token:Ne,factory:Ne.\u0275fac})}}return Ne})();function Ie(Ne,be,re){return(0,j.TL3)({rootComponent:Ne,platformRef:re?.platformRef,...Re(be)})}function Re(Ne){return{appProviders:[...Mt,...Ne?.providers??[]],platformProviders:nn}}const nn=[{provide:j.Agw,useValue:l.AJ},{provide:j.PLl,useValue:function Qe(){e.makeCurrent()},multi:!0},{provide:l.qQ,useFactory:function ut(){return(0,j.TL$)(document),document},deps:[]}],Mt=[{provide:j.H8p,useValue:"root"},{provide:j.zcH,useFactory:function je(){return new j.zcH},deps:[]},{provide:ve,useClass:Rn,multi:!0,deps:[l.qQ,j.SKi,j.Agw]},{provide:ve,useClass:Nr,multi:!0,deps:[l.qQ]},Te,Ee,Q,{provide:j._9s,useExisting:Te},{provide:l.N0,useClass:ue,deps:[]},[]];let Ot=(()=>{class Ne{constructor(re){this._doc=re}getTitle(){return this._doc.title}setTitle(re){this._doc.title=re||""}static{this.\u0275fac=function(me){return new(me||Ne)(j.KVO(l.qQ))}}static{this.\u0275prov=j.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}}return Ne})(),An=(()=>{class Ne{static{this.\u0275fac=function(me){return new(me||Ne)}}static{this.\u0275prov=j.jDH({token:Ne,factory:function(me){let Ge=null;return Ge=me?new(me||Ne):j.KVO(vn),Ge},providedIn:"root"})}}return Ne})(),vn=(()=>{class Ne extends An{constructor(re){super(),this._doc=re}sanitize(re,me){if(null==me)return null;switch(re){case j.WPN.NONE:return me;case j.WPN.HTML:return(0,j.ZF7)(me,"HTML")?(0,j.rcV)(me):(0,j.h9k)(this._doc,String(me)).toString();case j.WPN.STYLE:return(0,j.ZF7)(me,"Style")?(0,j.rcV)(me):me;case j.WPN.SCRIPT:if((0,j.ZF7)(me,"Script"))return(0,j.rcV)(me);throw new j.wOt(5200,!1);case j.WPN.URL:return(0,j.ZF7)(me,"URL")?(0,j.rcV)(me):(0,j.$MX)(String(me));case j.WPN.RESOURCE_URL:if((0,j.ZF7)(me,"ResourceURL"))return(0,j.rcV)(me);throw new j.wOt(5201,!1);default:throw new j.wOt(5202,!1)}}bypassSecurityTrustHtml(re){return(0,j.Kcf)(re)}bypassSecurityTrustStyle(re){return(0,j.cWb)(re)}bypassSecurityTrustScript(re){return(0,j.UyX)(re)}bypassSecurityTrustUrl(re){return(0,j.osQ)(re)}bypassSecurityTrustResourceUrl(re){return(0,j.e5t)(re)}static{this.\u0275fac=function(me){return new(me||Ne)(j.KVO(l.qQ))}}static{this.\u0275prov=j.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}}return Ne})()},9981:(Je,_e,D)=>{"use strict";D.d(_e,{nX:()=>Sr,wF:()=>Xe,Ix:()=>gt,Wk:()=>mn,wQ:()=>yr,iI:()=>Wi,n3:()=>Ti,lh:()=>Es});var l=D(4438),j=D(1985),te=D(8071),S=D(6648),H=D(7673),E=D(4412),K=D(4572),ue=D(9350),ve=D(8793),Q=D(9030),ye=D(1203),Fe=D(8810),Ee=D(983),Le=D(8359),ne=D(9974),U=D(4360);function B(){return(0,ne.N)((h,b)=>{let m=null;h._refCount++;const C=(0,U._)(b,void 0,void 0,void 0,()=>{if(!h||h._refCount<=0||0<--h._refCount)return void(m=null);const A=h._connection,q=m;m=null,A&&(!q||A===q)&&A.unsubscribe(),b.unsubscribe()});h.subscribe(C),C.closed||(m=h.connect())})}class he extends j.c{constructor(b,m){super(),this.source=b,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,ne.S)(b)&&(this.lift=b.lift)}_subscribe(b){return this.getSubject().subscribe(b)}getSubject(){const b=this._subject;return(!b||b.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:b}=this;this._subject=this._connection=null,b?.unsubscribe()}connect(){let b=this._connection;if(!b){b=this._connection=new Le.yU;const m=this.getSubject();b.add(this.source.subscribe((0,U._)(m,void 0,()=>{this._teardown(),m.complete()},C=>{this._teardown(),m.error(C)},()=>this._teardown()))),b.closed&&(this._connection=null,b=Le.yU.EMPTY)}return b}refCount(){return B()(this)}}var le=D(1413),fe=D(177),pe=D(6354),xe=D(5558),nt=D(6697),Te=D(9172),$e=D(5964),Ye=D(1397),Ke=D(1594),st=D(274),kt=D(8141),_t=D(9437),St=D(1943),Rn=D(9901);function xn(h){return h<=0?()=>Ee.w:(0,ne.N)((b,m)=>{let C=[];b.subscribe((0,U._)(m,A=>{C.push(A),h<C.length&&C.shift()},()=>{for(const A of C)m.next(A);m.complete()},void 0,()=>{C=null}))})}var Yn=D(3774),rr=D(3669),Me=D(980),Re=D(6977),Ae=D(6365),Qe=D(345);const je="primary",ut=Symbol("RouteTitle");class nn{constructor(b){this.params=b||{}}has(b){return Object.prototype.hasOwnProperty.call(this.params,b)}get(b){if(this.has(b)){const m=this.params[b];return Array.isArray(m)?m[0]:m}return null}getAll(b){if(this.has(b)){const m=this.params[b];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function hn(h){return new nn(h)}function xt(h,b,m){const C=m.path.split("/");if(C.length>h.length||"full"===m.pathMatch&&(b.hasChildren()||C.length<h.length))return null;const A={};for(let q=0;q<C.length;q++){const ee=C[q],Pe=h[q];if(":"===ee[0])A[ee.substring(1)]=Pe;else if(ee!==Pe.path)return null}return{consumed:h.slice(0,C.length),posParams:A}}function Mt(h,b){const m=h?Mn(h):void 0,C=b?Mn(b):void 0;if(!m||!C||m.length!=C.length)return!1;let A;for(let q=0;q<m.length;q++)if(A=m[q],!an(h[A],b[A]))return!1;return!0}function Mn(h){return[...Object.keys(h),...Object.getOwnPropertySymbols(h)]}function an(h,b){if(Array.isArray(h)&&Array.isArray(b)){if(h.length!==b.length)return!1;const m=[...h].sort(),C=[...b].sort();return m.every((A,q)=>C[q]===A)}return h===b}function Qt(h){return h.length>0?h[h.length-1]:null}function Ot(h){return function e(h){return!!h&&(h instanceof j.c||(0,te.T)(h.lift)&&(0,te.T)(h.subscribe))}(h)?h:(0,l.jNT)(h)?(0,S.H)(Promise.resolve(h)):(0,H.of)(h)}const $n={exact:function Yr(h,b,m){if(!Dn(h.segments,b.segments)||!Tt(h.segments,b.segments,m)||h.numberOfChildren!==b.numberOfChildren)return!1;for(const C in b.children)if(!h.children[C]||!Yr(h.children[C],b.children[C],m))return!1;return!0},subset:Er},Ze={exact:function Dr(h,b){return Mt(h,b)},subset:function no(h,b){return Object.keys(b).length<=Object.keys(h).length&&Object.keys(b).every(m=>an(h[m],b[m]))},ignored:()=>!0};function pr(h,b,m){return $n[m.paths](h.root,b.root,m.matrixParams)&&Ze[m.queryParams](h.queryParams,b.queryParams)&&!("exact"===m.fragment&&h.fragment!==b.fragment)}function Er(h,b,m){return Jt(h,b,b.segments,m)}function Jt(h,b,m,C){if(h.segments.length>m.length){const A=h.segments.slice(0,m.length);return!(!Dn(A,m)||b.hasChildren()||!Tt(A,m,C))}if(h.segments.length===m.length){if(!Dn(h.segments,m)||!Tt(h.segments,m,C))return!1;for(const A in b.children)if(!h.children[A]||!Er(h.children[A],b.children[A],C))return!1;return!0}{const A=m.slice(0,h.segments.length),q=m.slice(h.segments.length);return!!(Dn(h.segments,A)&&Tt(h.segments,A,C)&&h.children[je])&&Jt(h.children[je],b,q,C)}}function Tt(h,b,m){return b.every((C,A)=>Ze[m](h[A].parameters,C.parameters))}class or{constructor(b=new Ut([],{}),m={},C=null){this.root=b,this.queryParams=m,this.fragment=C}get queryParamMap(){return this._queryParamMap??=hn(this.queryParams),this._queryParamMap}toString(){return cn.serialize(this)}}class Ut{constructor(b,m){this.segments=b,this.children=m,this.parent=null,Object.values(m).forEach(C=>C.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $o(this)}}class gn{constructor(b,m){this.path=b,this.parameters=m}get parameterMap(){return this._parameterMap??=hn(this.parameters),this._parameterMap}toString(){return be(this)}}function Dn(h,b){return h.length===b.length&&h.every((m,C)=>m.path===b[C].path)}let vn=(()=>{class h{static{this.\u0275fac=function(C){return new(C||h)}}static{this.\u0275prov=l.jDH({token:h,factory:()=>new rn,providedIn:"root"})}}return h})();class rn{parse(b){const m=new So(b);return new or(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(b){const m=`/${jt(b.root,!0)}`,C=function me(h){const b=Object.entries(h).map(([m,C])=>Array.isArray(C)?C.map(A=>`${ln(m)}=${ln(A)}`).join("&"):`${ln(m)}=${ln(C)}`).filter(m=>m);return b.length?`?${b.join("&")}`:""}(b.queryParams);return`${m}${C}${"string"==typeof b.fragment?`#${function Tn(h){return encodeURI(h)}(b.fragment)}`:""}`}}const cn=new rn;function $o(h){return h.segments.map(b=>be(b)).join("/")}function jt(h,b){if(!h.hasChildren())return $o(h);if(b){const m=h.children[je]?jt(h.children[je],!1):"",C=[];return Object.entries(h.children).forEach(([A,q])=>{A!==je&&C.push(`${A}:${jt(q,!1)}`)}),C.length>0?`${m}(${C.join("//")})`:m}{const m=function An(h,b){let m=[];return Object.entries(h.children).forEach(([C,A])=>{C===je&&(m=m.concat(b(A,C)))}),Object.entries(h.children).forEach(([C,A])=>{C!==je&&(m=m.concat(b(A,C)))}),m}(h,(C,A)=>A===je?[jt(h.children[je],!1)]:[`${A}:${jt(C,!1)}`]);return 1===Object.keys(h.children).length&&null!=h.children[je]?`${$o(h)}/${m[0]}`:`${$o(h)}/(${m.join("//")})`}}function hr(h){return encodeURIComponent(h).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ln(h){return hr(h).replace(/%3B/gi,";")}function Fr(h){return hr(h).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qn(h){return decodeURIComponent(h)}function Ne(h){return qn(h.replace(/\+/g,"%20"))}function be(h){return`${Fr(h.path)}${function re(h){return Object.entries(h).map(([b,m])=>`;${Fr(b)}=${Fr(m)}`).join("")}(h.parameters)}`}const Ge=/^[^\/()?;#]+/;function at(h){const b=h.match(Ge);return b?b[0]:""}const Rt=/^[^\/()?;=#]+/,Cn=/^[^=?&#]+/,Ir=/^[^&#]+/;class So{constructor(b){this.url=b,this.remaining=b}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ut([],{}):new Ut([],this.parseChildren())}parseQueryParams(){const b={};if(this.consumeOptional("?"))do{this.parseQueryParam(b)}while(this.consumeOptional("&"));return b}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const b=[];for(this.peekStartsWith("(")||b.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),b.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let C={};return this.peekStartsWith("(")&&(C=this.parseParens(!1)),(b.length>0||Object.keys(m).length>0)&&(C[je]=new Ut(b,m)),C}parseSegment(){const b=at(this.remaining);if(""===b&&this.peekStartsWith(";"))throw new l.wOt(4009,!1);return this.capture(b),new gn(qn(b),this.parseMatrixParams())}parseMatrixParams(){const b={};for(;this.consumeOptional(";");)this.parseParam(b);return b}parseParam(b){const m=function Bt(h){const b=h.match(Rt);return b?b[0]:""}(this.remaining);if(!m)return;this.capture(m);let C="";if(this.consumeOptional("=")){const A=at(this.remaining);A&&(C=A,this.capture(C))}b[qn(m)]=qn(C)}parseQueryParam(b){const m=function ir(h){const b=h.match(Cn);return b?b[0]:""}(this.remaining);if(!m)return;this.capture(m);let C="";if(this.consumeOptional("=")){const ee=function Cr(h){const b=h.match(Ir);return b?b[0]:""}(this.remaining);ee&&(C=ee,this.capture(C))}const A=Ne(m),q=Ne(C);if(b.hasOwnProperty(A)){let ee=b[A];Array.isArray(ee)||(ee=[ee],b[A]=ee),ee.push(q)}else b[A]=q}parseParens(b){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const C=at(this.remaining),A=this.remaining[C.length];if("/"!==A&&")"!==A&&";"!==A)throw new l.wOt(4010,!1);let q;C.indexOf(":")>-1?(q=C.slice(0,C.indexOf(":")),this.capture(q),this.capture(":")):b&&(q=je);const ee=this.parseChildren();m[q]=1===Object.keys(ee).length?ee[je]:new Ut([],ee),this.consumeOptional("//")}return m}peekStartsWith(b){return this.remaining.startsWith(b)}consumeOptional(b){return!!this.peekStartsWith(b)&&(this.remaining=this.remaining.substring(b.length),!0)}capture(b){if(!this.consumeOptional(b))throw new l.wOt(4011,!1)}}function Xr(h){return h.segments.length>0?new Ut([],{[je]:h}):h}function Kr(h){const b={};for(const[C,A]of Object.entries(h.children)){const q=Kr(A);if(C===je&&0===q.segments.length&&q.hasChildren())for(const[ee,Pe]of Object.entries(q.children))b[ee]=Pe;else(q.segments.length>0||q.hasChildren())&&(b[C]=q)}return function ki(h){if(1===h.numberOfChildren&&h.children[je]){const b=h.children[je];return new Ut(h.segments.concat(b.segments),b.children)}return h}(new Ut(h.segments,b))}function Vn(h){return h instanceof or}function bo(h){let b;const A=Xr(function m(q){const ee={};for(const De of q.children){const ot=m(De);ee[De.outlet]=ot}const Pe=new Ut(q.url,ee);return q===h&&(b=Pe),Pe}(h.root));return b??A}function Qo(h,b,m,C){let A=h;for(;A.parent;)A=A.parent;if(0===b.length)return Or(A,A,A,m,C);const q=function zn(h){if("string"==typeof h[0]&&1===h.length&&"/"===h[0])return new Qr(!0,0,h);let b=0,m=!1;const C=h.reduce((A,q,ee)=>{if("object"==typeof q&&null!=q){if(q.outlets){const Pe={};return Object.entries(q.outlets).forEach(([De,ot])=>{Pe[De]="string"==typeof ot?ot.split("/"):ot}),[...A,{outlets:Pe}]}if(q.segmentPath)return[...A,q.segmentPath]}return"string"!=typeof q?[...A,q]:0===ee?(q.split("/").forEach((Pe,De)=>{0==De&&"."===Pe||(0==De&&""===Pe?m=!0:".."===Pe?b++:""!=Pe&&A.push(Pe))}),A):[...A,q]},[]);return new Qr(m,b,C)}(b);if(q.toRoot())return Or(A,A,new Ut([],{}),m,C);const ee=function jr(h,b,m){if(h.isAbsolute)return new nr(b,!0,0);if(!m)return new nr(b,!1,NaN);if(null===m.parent)return new nr(m,!0,0);const C=Pr(h.commands[0])?0:1;return function Jr(h,b,m){let C=h,A=b,q=m;for(;q>A;){if(q-=A,C=C.parent,!C)throw new l.wOt(4005,!1);A=C.segments.length}return new nr(C,!1,A-q)}(m,m.segments.length-1+C,h.numberOfDoubleDots)}(q,A,h),Pe=ee.processChildren?kr(ee.segmentGroup,ee.index,q.commands):Eo(ee.segmentGroup,ee.index,q.commands);return Or(A,ee.segmentGroup,Pe,m,C)}function Pr(h){return"object"==typeof h&&null!=h&&!h.outlets&&!h.segmentPath}function wr(h){return"object"==typeof h&&null!=h&&h.outlets}function Or(h,b,m,C,A){let ee,q={};C&&Object.entries(C).forEach(([De,ot])=>{q[De]=Array.isArray(ot)?ot.map(Pt=>`${Pt}`):`${ot}`}),ee=h===b?m:Zt(h,b,m);const Pe=Xr(Kr(ee));return new or(Pe,q,A)}function Zt(h,b,m){const C={};return Object.entries(h.children).forEach(([A,q])=>{C[A]=q===b?m:Zt(q,b,m)}),new Ut(h.segments,C)}class Qr{constructor(b,m,C){if(this.isAbsolute=b,this.numberOfDoubleDots=m,this.commands=C,b&&C.length>0&&Pr(C[0]))throw new l.wOt(4003,!1);const A=C.find(wr);if(A&&A!==Qt(C))throw new l.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class nr{constructor(b,m,C){this.segmentGroup=b,this.processChildren=m,this.index=C}}function Eo(h,b,m){if(h??=new Ut([],{}),0===h.segments.length&&h.hasChildren())return kr(h,b,m);const C=function ro(h,b,m){let C=0,A=b;const q={match:!1,pathIndex:0,commandIndex:0};for(;A<h.segments.length;){if(C>=m.length)return q;const ee=h.segments[A],Pe=m[C];if(wr(Pe))break;const De=`${Pe}`,ot=C<m.length-1?m[C+1]:null;if(A>0&&void 0===De)break;if(De&&ot&&"object"==typeof ot&&void 0===ot.outlets){if(!Y(De,ot,ee))return q;C+=2}else{if(!Y(De,{},ee))return q;C++}A++}return{match:!0,pathIndex:A,commandIndex:C}}(h,b,m),A=m.slice(C.commandIndex);if(C.match&&C.pathIndex<h.segments.length){const q=new Ut(h.segments.slice(0,C.pathIndex),{});return q.children[je]=new Ut(h.segments.slice(C.pathIndex),h.children),kr(q,0,A)}return C.match&&0===A.length?new Ut(h.segments,{}):C.match&&!h.hasChildren()?oo(h,b,m):C.match?kr(h,0,A):oo(h,b,m)}function kr(h,b,m){if(0===m.length)return new Ut(h.segments,{});{const C=function Vo(h){return wr(h[0])?h[0].outlets:{[je]:h}}(m),A={};if(Object.keys(C).some(q=>q!==je)&&h.children[je]&&1===h.numberOfChildren&&0===h.children[je].segments.length){const q=kr(h.children[je],b,m);return new Ut(h.segments,q.children)}return Object.entries(C).forEach(([q,ee])=>{"string"==typeof ee&&(ee=[ee]),null!==ee&&(A[q]=Eo(h.children[q],b,ee))}),Object.entries(h.children).forEach(([q,ee])=>{void 0===C[q]&&(A[q]=ee)}),new Ut(h.segments,A)}}function oo(h,b,m){const C=h.segments.slice(0,b);let A=0;for(;A<m.length;){const q=m[A];if(wr(q)){const De=Jo(q.outlets);return new Ut(C,De)}if(0===A&&Pr(m[0])){C.push(new gn(h.segments[b].path,It(m[0]))),A++;continue}const ee=wr(q)?q.outlets[je]:`${q}`,Pe=A<m.length-1?m[A+1]:null;ee&&Pe&&Pr(Pe)?(C.push(new gn(ee,It(Pe))),A+=2):(C.push(new gn(ee,{})),A++)}return new Ut(C,{})}function Jo(h){const b={};return Object.entries(h).forEach(([m,C])=>{"string"==typeof C&&(C=[C]),null!==C&&(b[m]=oo(new Ut([],{}),0,C))}),b}function It(h){const b={};return Object.entries(h).forEach(([m,C])=>b[m]=`${C}`),b}function Y(h,b,m){return h==m.path&&Mt(b,m.parameters)}const ae="imperative";var Z=function(h){return h[h.NavigationStart=0]="NavigationStart",h[h.NavigationEnd=1]="NavigationEnd",h[h.NavigationCancel=2]="NavigationCancel",h[h.NavigationError=3]="NavigationError",h[h.RoutesRecognized=4]="RoutesRecognized",h[h.ResolveStart=5]="ResolveStart",h[h.ResolveEnd=6]="ResolveEnd",h[h.GuardsCheckStart=7]="GuardsCheckStart",h[h.GuardsCheckEnd=8]="GuardsCheckEnd",h[h.RouteConfigLoadStart=9]="RouteConfigLoadStart",h[h.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",h[h.ChildActivationStart=11]="ChildActivationStart",h[h.ChildActivationEnd=12]="ChildActivationEnd",h[h.ActivationStart=13]="ActivationStart",h[h.ActivationEnd=14]="ActivationEnd",h[h.Scroll=15]="Scroll",h[h.NavigationSkipped=16]="NavigationSkipped",h}(Z||{});class Se{constructor(b,m){this.id=b,this.url=m}}class ze extends Se{constructor(b,m,C="imperative",A=null){super(b,m),this.type=Z.NavigationStart,this.navigationTrigger=C,this.restoredState=A}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Xe extends Se{constructor(b,m,C){super(b,m),this.urlAfterRedirects=C,this.type=Z.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var et=function(h){return h[h.Redirect=0]="Redirect",h[h.SupersededByNewNavigation=1]="SupersededByNewNavigation",h[h.NoDataFromResolver=2]="NoDataFromResolver",h[h.GuardRejected=3]="GuardRejected",h}(et||{}),Dt=function(h){return h[h.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",h[h.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",h}(Dt||{});class ht extends Se{constructor(b,m,C,A){super(b,m),this.reason=C,this.code=A,this.type=Z.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Lt extends Se{constructor(b,m,C,A){super(b,m),this.reason=C,this.code=A,this.type=Z.NavigationSkipped}}class bn extends Se{constructor(b,m,C,A){super(b,m),this.error=C,this.target=A,this.type=Z.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class zt extends Se{constructor(b,m,C,A){super(b,m),this.urlAfterRedirects=C,this.state=A,this.type=Z.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wn extends Se{constructor(b,m,C,A){super(b,m),this.urlAfterRedirects=C,this.state=A,this.type=Z.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fn extends Se{constructor(b,m,C,A,q){super(b,m),this.urlAfterRedirects=C,this.state=A,this.shouldActivate=q,this.type=Z.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Un extends Se{constructor(b,m,C,A){super(b,m),this.urlAfterRedirects=C,this.state=A,this.type=Z.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class At extends Se{constructor(b,m,C,A){super(b,m),this.urlAfterRedirects=C,this.state=A,this.type=Z.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lt{constructor(b){this.route=b,this.type=Z.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Bn{constructor(b){this.route=b,this.type=Z.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ct{constructor(b){this.snapshot=b,this.type=Z.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ct{constructor(b){this.snapshot=b,this.type=Z.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mr{constructor(b){this.snapshot=b,this.type=Z.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zr{constructor(b){this.snapshot=b,this.type=Z.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lr{constructor(b,m,C){this.routerEvent=b,this.position=m,this.anchor=C,this.type=Z.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class io{}class Mr{constructor(b,m){this.url=b,this.navigationBehaviorOptions=m}}function vr(h){return h.outlet||je}function so(h){if(!h)return null;if(h.routeConfig?._injector)return h.routeConfig._injector;for(let b=h.parent;b;b=b.parent){const m=b.routeConfig;if(m?._loadedInjector)return m._loadedInjector;if(m?._injector)return m._injector}return null}class $i{get injector(){return so(this.route?.snapshot)??this.rootInjector}set injector(b){}constructor(b){this.rootInjector=b,this.outlet=null,this.route=null,this.children=new $r(this.rootInjector),this.attachRef=null}}let $r=(()=>{class h{constructor(m){this.rootInjector=m,this.contexts=new Map}onChildOutletCreated(m,C){const A=this.getOrCreateContext(m);A.outlet=C,this.contexts.set(m,A)}onChildOutletDestroyed(m){const C=this.getContext(m);C&&(C.outlet=null,C.attachRef=null)}onOutletDeactivated(){const m=this.contexts;return this.contexts=new Map,m}onOutletReAttached(m){this.contexts=m}getOrCreateContext(m){let C=this.getContext(m);return C||(C=new $i(this.rootInjector),this.contexts.set(m,C)),C}getContext(m){return this.contexts.get(m)||null}static{this.\u0275fac=function(C){return new(C||h)(l.KVO(l.uvJ))}}static{this.\u0275prov=l.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})();class _r{constructor(b){this._root=b}get root(){return this._root.value}parent(b){const m=this.pathFromRoot(b);return m.length>1?m[m.length-2]:null}children(b){const m=xo(b,this._root);return m?m.children.map(C=>C.value):[]}firstChild(b){const m=xo(b,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(b){const m=Xn(b,this._root);return m.length<2?[]:m[m.length-2].children.map(A=>A.value).filter(A=>A!==b)}pathFromRoot(b){return Xn(b,this._root).map(m=>m.value)}}function xo(h,b){if(h===b.value)return b;for(const m of b.children){const C=xo(h,m);if(C)return C}return null}function Xn(h,b){if(h===b.value)return[b];for(const m of b.children){const C=Xn(h,m);if(C.length)return C.unshift(b),C}return[]}class sr{constructor(b,m){this.value=b,this.children=m}toString(){return`TreeNode(${this.value})`}}function In(h){const b={};return h&&h.children.forEach(m=>b[m.value.outlet]=m),b}class Uo extends _r{constructor(b,m){super(b),this.snapshot=m,eo(this,b)}toString(){return this.snapshot.toString()}}function mt(h){const b=function ti(h){const q=new Do([],{},{},"",{},je,h,null,{});return new Mi("",new sr(q,[]))}(h),m=new E.t([new gn("",{})]),C=new E.t({}),A=new E.t({}),q=new E.t({}),ee=new E.t(""),Pe=new Sr(m,C,q,ee,A,je,h,b.root);return Pe.snapshot=b.root,new Uo(new sr(Pe,[]),b)}class Sr{constructor(b,m,C,A,q,ee,Pe,De){this.urlSubject=b,this.paramsSubject=m,this.queryParamsSubject=C,this.fragmentSubject=A,this.dataSubject=q,this.outlet=ee,this.component=Pe,this._futureSnapshot=De,this.title=this.dataSubject?.pipe((0,pe.T)(ot=>ot[ut]))??(0,H.of)(void 0),this.url=b,this.params=m,this.queryParams=C,this.fragment=A,this.data=q}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,pe.T)(b=>hn(b))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,pe.T)(b=>hn(b))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ho(h,b,m="emptyOnly"){let C;const{routeConfig:A}=h;return C=null===b||"always"!==m&&""!==A?.path&&(b.component||b.routeConfig?.loadComponent)?{params:{...h.params},data:{...h.data},resolve:{...h.data,...h._resolvedData??{}}}:{params:{...b.params,...h.params},data:{...b.data,...h.data},resolve:{...h.data,...b.data,...A?.data,...h._resolvedData}},A&&Fo(A)&&(C.resolve[ut]=A.title),C}class Do{get title(){return this.data?.[ut]}constructor(b,m,C,A,q,ee,Pe,De,ot){this.url=b,this.params=m,this.queryParams=C,this.fragment=A,this.data=q,this.outlet=ee,this.component=Pe,this.routeConfig=De,this._resolve=ot}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=hn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=hn(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(C=>C.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Mi extends _r{constructor(b,m){super(m),this.url=b,eo(this,m)}toString(){return ni(this._root)}}function eo(h,b){b.value._routerState=h,b.children.forEach(m=>eo(h,m))}function ni(h){const b=h.children.length>0?` { ${h.children.map(ni).join(", ")} } `:"";return`${h.value}${b}`}function Ao(h){if(h.snapshot){const b=h.snapshot,m=h._futureSnapshot;h.snapshot=m,Mt(b.queryParams,m.queryParams)||h.queryParamsSubject.next(m.queryParams),b.fragment!==m.fragment&&h.fragmentSubject.next(m.fragment),Mt(b.params,m.params)||h.paramsSubject.next(m.params),function pn(h,b){if(h.length!==b.length)return!1;for(let m=0;m<h.length;++m)if(!Mt(h[m],b[m]))return!1;return!0}(b.url,m.url)||h.urlSubject.next(m.url),Mt(b.data,m.data)||h.dataSubject.next(m.data)}else h.snapshot=h._futureSnapshot,h.dataSubject.next(h._futureSnapshot.data)}function ri(h,b){const m=Mt(h.params,b.params)&&function yo(h,b){return Dn(h,b)&&h.every((m,C)=>Mt(m.parameters,b[C].parameters))}(h.url,b.url);return m&&!(!h.parent!=!b.parent)&&(!h.parent||ri(h.parent,b.parent))}function Fo(h){return"string"==typeof h.title||null===h.title}let Ti=(()=>{class h{constructor(){this.activated=null,this._activatedRoute=null,this.name=je,this.activateEvents=new l.bkB,this.deactivateEvents=new l.bkB,this.attachEvents=new l.bkB,this.detachEvents=new l.bkB,this.parentContexts=(0,l.WQX)($r),this.location=(0,l.WQX)(l.c1b),this.changeDetector=(0,l.WQX)(l.gRc),this.inputBinder=(0,l.WQX)(Bo,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(m){if(m.name){const{firstChange:C,previousValue:A}=m.name;if(C)return;this.isTrackedInParentContexts(A)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(A)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(m){return this.parentContexts.getContext(m)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const m=this.parentContexts.getContext(this.name);m?.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.wOt(4012,!1);this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,C){this.activated=m,this._activatedRoute=C,this.location.insert(m.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,C){if(this.isActivated)throw new l.wOt(4013,!1);this._activatedRoute=m;const A=this.location,ee=m.snapshot.component,Pe=this.parentContexts.getOrCreateContext(this.name).children,De=new Kn(m,Pe,A.injector);this.activated=A.createComponent(ee,{index:A.length,injector:De,environmentInjector:C}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(C){return new(C||h)}}static{this.\u0275dir=l.FsC({type:h,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.OA$]})}}return h})();class Kn{__ngOutletInjector(b){return new Kn(this.route,this.childContexts,b)}constructor(b,m,C){this.route=b,this.childContexts=m,this.parent=C}get(b,m){return b===Sr?this.route:b===$r?this.childContexts:this.parent.get(b,m)}}const Bo=new l.nKC("");let Nn=(()=>{class h{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(m){this.unsubscribeFromRouteData(m),this.subscribeToRouteData(m)}unsubscribeFromRouteData(m){this.outletDataSubscriptions.get(m)?.unsubscribe(),this.outletDataSubscriptions.delete(m)}subscribeToRouteData(m){const{activatedRoute:C}=m,A=(0,K.z)([C.queryParams,C.params,C.data]).pipe((0,xe.n)(([q,ee,Pe],De)=>(Pe={...q,...ee,...Pe},0===De?(0,H.of)(Pe):Promise.resolve(Pe)))).subscribe(q=>{if(!m.isActivated||!m.activatedComponentRef||m.activatedRoute!==C||null===C.component)return void this.unsubscribeFromRouteData(m);const ee=(0,l.HJs)(C.component);if(ee)for(const{templateName:Pe}of ee.inputs)m.activatedComponentRef.setInput(Pe,q[Pe]);else this.unsubscribeFromRouteData(m)});this.outletDataSubscriptions.set(m,A)}static{this.\u0275fac=function(C){return new(C||h)}}static{this.\u0275prov=l.jDH({token:h,factory:h.\u0275fac})}}return h})();function cr(h,b,m){if(m&&h.shouldReuseRoute(b.value,m.value.snapshot)){const C=m.value;C._futureSnapshot=b.value;const A=function oi(h,b,m){return b.children.map(C=>{for(const A of m.children)if(h.shouldReuseRoute(C.value,A.value.snapshot))return cr(h,C,A);return cr(h,C)})}(h,b,m);return new sr(C,A)}{if(h.shouldAttach(b.value)){const q=h.retrieve(b.value);if(null!==q){const ee=q.route;return ee.value._futureSnapshot=b.value,ee.children=b.children.map(Pe=>cr(h,Pe)),ee}}const C=function Go(h){return new Sr(new E.t(h.url),new E.t(h.params),new E.t(h.queryParams),new E.t(h.fragment),new E.t(h.data),h.outlet,h.component,h)}(b.value),A=b.children.map(q=>cr(h,q));return new sr(C,A)}}class ao{constructor(b,m){this.redirectTo=b,this.navigationBehaviorOptions=m}}const pi="ngNavigationCancelingError";function Ho(h,b){const{redirectTo:m,navigationBehaviorOptions:C}=Vn(b)?{redirectTo:b,navigationBehaviorOptions:void 0}:b,A=Vi(!1,et.Redirect);return A.url=m,A.navigationBehaviorOptions=C,A}function Vi(h,b){const m=new Error(`NavigationCancelingError: ${h||""}`);return m[pi]=!0,m.cancellationCode=b,m}function Io(h){return!!h&&h[pi]}class g{constructor(b,m,C,A,q){this.routeReuseStrategy=b,this.futureState=m,this.currState=C,this.forwardEvent=A,this.inputBindingEnabled=q}activate(b){const m=this.futureState._root,C=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,C,b),Ao(this.futureState.root),this.activateChildRoutes(m,C,b)}deactivateChildRoutes(b,m,C){const A=In(m);b.children.forEach(q=>{const ee=q.value.outlet;this.deactivateRoutes(q,A[ee],C),delete A[ee]}),Object.values(A).forEach(q=>{this.deactivateRouteAndItsChildren(q,C)})}deactivateRoutes(b,m,C){const A=b.value,q=m?m.value:null;if(A===q)if(A.component){const ee=C.getContext(A.outlet);ee&&this.deactivateChildRoutes(b,m,ee.children)}else this.deactivateChildRoutes(b,m,C);else q&&this.deactivateRouteAndItsChildren(m,C)}deactivateRouteAndItsChildren(b,m){b.value.component&&this.routeReuseStrategy.shouldDetach(b.value.snapshot)?this.detachAndStoreRouteSubtree(b,m):this.deactivateRouteAndOutlet(b,m)}detachAndStoreRouteSubtree(b,m){const C=m.getContext(b.value.outlet),A=C&&b.value.component?C.children:m,q=In(b);for(const ee of Object.values(q))this.deactivateRouteAndItsChildren(ee,A);if(C&&C.outlet){const ee=C.outlet.detach(),Pe=C.children.onOutletDeactivated();this.routeReuseStrategy.store(b.value.snapshot,{componentRef:ee,route:b,contexts:Pe})}}deactivateRouteAndOutlet(b,m){const C=m.getContext(b.value.outlet),A=C&&b.value.component?C.children:m,q=In(b);for(const ee of Object.values(q))this.deactivateRouteAndItsChildren(ee,A);C&&(C.outlet&&(C.outlet.deactivate(),C.children.onOutletDeactivated()),C.attachRef=null,C.route=null)}activateChildRoutes(b,m,C){const A=In(m);b.children.forEach(q=>{this.activateRoutes(q,A[q.value.outlet],C),this.forwardEvent(new Zr(q.value.snapshot))}),b.children.length&&this.forwardEvent(new ct(b.value.snapshot))}activateRoutes(b,m,C){const A=b.value,q=m?m.value:null;if(Ao(A),A===q)if(A.component){const ee=C.getOrCreateContext(A.outlet);this.activateChildRoutes(b,m,ee.children)}else this.activateChildRoutes(b,m,C);else if(A.component){const ee=C.getOrCreateContext(A.outlet);if(this.routeReuseStrategy.shouldAttach(A.snapshot)){const Pe=this.routeReuseStrategy.retrieve(A.snapshot);this.routeReuseStrategy.store(A.snapshot,null),ee.children.onOutletReAttached(Pe.contexts),ee.attachRef=Pe.componentRef,ee.route=Pe.route.value,ee.outlet&&ee.outlet.attach(Pe.componentRef,Pe.route.value),Ao(Pe.route.value),this.activateChildRoutes(b,null,ee.children)}else ee.attachRef=null,ee.route=A,ee.outlet&&ee.outlet.activateWith(A,ee.injector),this.activateChildRoutes(b,null,ee.children)}else this.activateChildRoutes(b,null,C)}}class y{constructor(b){this.path=b,this.route=this.path[this.path.length-1]}}class k{constructor(b,m){this.component=b,this.route=m}}function $(h,b,m){const C=h._root;return ce(C,b?b._root:null,m,[C.value])}function X(h,b){const m=Symbol(),C=b.get(h,m);return C===m?"function"!=typeof h||(0,l.LfX)(h)?b.get(h):h:C}function ce(h,b,m,C,A={canDeactivateChecks:[],canActivateChecks:[]}){const q=In(b);return h.children.forEach(ee=>{(function Ce(h,b,m,C,A={canDeactivateChecks:[],canActivateChecks:[]}){const q=h.value,ee=b?b.value:null,Pe=m?m.getContext(h.value.outlet):null;if(ee&&q.routeConfig===ee.routeConfig){const De=function ie(h,b,m){if("function"==typeof m)return m(h,b);switch(m){case"pathParamsChange":return!Dn(h.url,b.url);case"pathParamsOrQueryParamsChange":return!Dn(h.url,b.url)||!Mt(h.queryParams,b.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ri(h,b)||!Mt(h.queryParams,b.queryParams);default:return!ri(h,b)}}(ee,q,q.routeConfig.runGuardsAndResolvers);De?A.canActivateChecks.push(new y(C)):(q.data=ee.data,q._resolvedData=ee._resolvedData),ce(h,b,q.component?Pe?Pe.children:null:m,C,A),De&&Pe&&Pe.outlet&&Pe.outlet.isActivated&&A.canDeactivateChecks.push(new k(Pe.outlet.component,ee))}else ee&&Ue(b,Pe,A),A.canActivateChecks.push(new y(C)),ce(h,null,q.component?Pe?Pe.children:null:m,C,A)})(ee,q[ee.value.outlet],m,C.concat([ee.value]),A),delete q[ee.value.outlet]}),Object.entries(q).forEach(([ee,Pe])=>Ue(Pe,m.getContext(ee),A)),A}function Ue(h,b,m){const C=In(h),A=h.value;Object.entries(C).forEach(([q,ee])=>{Ue(ee,A.component?b?b.children.getContext(q):null:b,m)}),m.canDeactivateChecks.push(new k(A.component&&b&&b.outlet&&b.outlet.isActivated?b.outlet.component:null,A))}function ft(h){return"function"==typeof h}function go(h){return h instanceof ue.G||"EmptyError"===h?.name}const ar=Symbol("INITIAL_VALUE");function Wn(){return(0,xe.n)(h=>(0,K.z)(h.map(b=>b.pipe((0,nt.s)(1),(0,Te.Z)(ar)))).pipe((0,pe.T)(b=>{for(const m of b)if(!0!==m){if(m===ar)return ar;if(!1===m||M(m))return m}return!0}),(0,$e.p)(b=>b!==ar),(0,nt.s)(1)))}function M(h){return Vn(h)||h instanceof ao}function ta(h){return(0,ye.F)((0,kt.M)(b=>{if("boolean"!=typeof b)throw Ho(0,b)}),(0,pe.T)(b=>!0===b))}class Ui{constructor(b){this.segmentGroup=b||null}}class es extends Error{constructor(b){super(),this.urlTree=b}}function Si(h){return(0,Fe.$)(new Ui(h))}class ra{constructor(b,m){this.urlSerializer=b,this.urlTree=m}lineralizeSegments(b,m){let C=[],A=m.root;for(;;){if(C=C.concat(A.segments),0===A.numberOfChildren)return(0,H.of)(C);if(A.numberOfChildren>1||!A.children[je])return(0,Fe.$)(new l.wOt(4e3,!1));A=A.children[je]}}applyRedirectCommands(b,m,C,A,q){if("string"!=typeof m){const Pe=m,{queryParams:De,fragment:ot,routeConfig:Pt,url:Yt,outlet:Jn,params:Ei,data:Gr,title:Ci}=A,ko=(0,l.N4e)(q,()=>Pe({params:Ei,data:Gr,queryParams:De,fragment:ot,routeConfig:Pt,url:Yt,outlet:Jn,title:Ci}));if(ko instanceof or)throw new es(ko);m=ko}const ee=this.applyRedirectCreateUrlTree(m,this.urlSerializer.parse(m),b,C);if("/"===m[0])throw new es(ee);return ee}applyRedirectCreateUrlTree(b,m,C,A){const q=this.createSegmentGroup(b,m.root,C,A);return new or(q,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(b,m){const C={};return Object.entries(b).forEach(([A,q])=>{if("string"==typeof q&&":"===q[0]){const Pe=q.substring(1);C[A]=m[Pe]}else C[A]=q}),C}createSegmentGroup(b,m,C,A){const q=this.createSegments(b,m.segments,C,A);let ee={};return Object.entries(m.children).forEach(([Pe,De])=>{ee[Pe]=this.createSegmentGroup(b,De,C,A)}),new Ut(q,ee)}createSegments(b,m,C,A){return m.map(q=>":"===q.path[0]?this.findPosParam(b,q,A):this.findOrReturn(q,C))}findPosParam(b,m,C){const A=C[m.path.substring(1)];if(!A)throw new l.wOt(4001,!1);return A}findOrReturn(b,m){let C=0;for(const A of m){if(A.path===b.path)return m.splice(C),A;C++}return b}}const Gt={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function lr(h,b,m,C,A){const q=xr(h,b,m);return q.matched?(C=function $t(h,b){return h.providers&&!h._injector&&(h._injector=(0,l.Ol2)(h.providers,b,`Route: ${h.path}`)),h._injector??b}(b,C),function Ga(h,b,m,C){const A=b.canMatch;if(!A||0===A.length)return(0,H.of)(!0);const q=A.map(ee=>{const Pe=X(ee,h);return Ot(function to(h){return h&&ft(h.canMatch)}(Pe)?Pe.canMatch(b,m):(0,l.N4e)(h,()=>Pe(b,m)))});return(0,H.of)(q).pipe(Wn(),ta())}(C,b,m).pipe((0,pe.T)(ee=>!0===ee?q:{...Gt}))):(0,H.of)(q)}function xr(h,b,m){if("**"===b.path)return function mi(h){return{matched:!0,parameters:h.length>0?Qt(h).parameters:{},consumedSegments:h,remainingSegments:[],positionalParamSegments:{}}}(m);if(""===b.path)return"full"===b.pathMatch&&(h.hasChildren()||m.length>0)?{...Gt}:{matched:!0,consumedSegments:[],remainingSegments:m,parameters:{},positionalParamSegments:{}};const A=(b.matcher||xt)(m,h,b);if(!A)return{...Gt};const q={};Object.entries(A.posParams??{}).forEach(([Pe,De])=>{q[Pe]=De.path});const ee=A.consumed.length>0?{...q,...A.consumed[A.consumed.length-1].parameters}:q;return{matched:!0,consumedSegments:A.consumed,remainingSegments:m.slice(A.consumed.length),parameters:ee,positionalParamSegments:A.posParams??{}}}function Rr(h,b,m,C){return m.length>0&&function Bi(h,b,m){return m.some(C=>Gi(h,b,C)&&vr(C)!==je)}(h,m,C)?{segmentGroup:new Ut(b,ms(C,new Ut(m,h.children))),slicedSegments:[]}:0===m.length&&function oa(h,b,m){return m.some(C=>Gi(h,b,C))}(h,m,C)?{segmentGroup:new Ut(h.segments,ns(h,m,C,h.children)),slicedSegments:m}:{segmentGroup:new Ut(h.segments,h.children),slicedSegments:m}}function ns(h,b,m,C){const A={};for(const q of m)if(Gi(h,b,q)&&!C[vr(q)]){const ee=new Ut([],{});A[vr(q)]=ee}return{...C,...A}}function ms(h,b){const m={};m[je]=b;for(const C of h)if(""===C.path&&vr(C)!==je){const A=new Ut([],{});m[vr(C)]=A}return m}function Gi(h,b,m){return(!(h.hasChildren()||b.length>0)||"full"!==m.pathMatch)&&""===m.path}class Ha{}class gs{constructor(b,m,C,A,q,ee,Pe){this.injector=b,this.configLoader=m,this.rootComponentType=C,this.config=A,this.urlTree=q,this.paramsInheritanceStrategy=ee,this.urlSerializer=Pe,this.applyRedirects=new ra(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(b){return new l.wOt(4002,`'${b.segmentGroup}'`)}recognize(){const b=Rr(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(b).pipe((0,pe.T)(({children:m,rootSnapshot:C})=>{const A=new sr(C,m),q=new Mi("",A),ee=function wt(h,b,m=null,C=null){return Qo(bo(h),b,m,C)}(C,[],this.urlTree.queryParams,this.urlTree.fragment);return ee.queryParams=this.urlTree.queryParams,q.url=this.urlSerializer.serialize(ee),{state:q,tree:ee}}))}match(b){const m=new Do([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),je,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,b,je,m).pipe((0,pe.T)(C=>({children:C,rootSnapshot:m})),(0,_t.W)(C=>{if(C instanceof es)return this.urlTree=C.urlTree,this.match(C.urlTree.root);throw C instanceof Ui?this.noMatchError(C):C}))}processSegmentGroup(b,m,C,A,q){return 0===C.segments.length&&C.hasChildren()?this.processChildren(b,m,C,q):this.processSegment(b,m,C,C.segments,A,!0,q).pipe((0,pe.T)(ee=>ee instanceof sr?[ee]:[]))}processChildren(b,m,C,A){const q=[];for(const ee of Object.keys(C.children))"primary"===ee?q.unshift(ee):q.push(ee);return(0,S.H)(q).pipe((0,st.H)(ee=>{const Pe=C.children[ee],De=function Xt(h,b){const m=h.filter(C=>vr(C)===b);return m.push(...h.filter(C=>vr(C)!==b)),m}(m,ee);return this.processSegmentGroup(b,De,Pe,ee,A)}),(0,St.S)((ee,Pe)=>(ee.push(...Pe),ee)),(0,Rn.U)(null),function Nr(h,b){const m=arguments.length>=2;return C=>C.pipe(h?(0,$e.p)((A,q)=>h(A,q,C)):rr.D,xn(1),m?(0,Rn.U)(b):(0,Yn.v)(()=>new ue.G))}(),(0,Ye.Z)(ee=>{if(null===ee)return Si(C);const Pe=sa(ee);return function Zl(h){h.sort((b,m)=>b.value.outlet===je?-1:m.value.outlet===je?1:b.value.outlet.localeCompare(m.value.outlet))}(Pe),(0,H.of)(Pe)}))}processSegment(b,m,C,A,q,ee,Pe){return(0,S.H)(m).pipe((0,st.H)(De=>this.processSegmentAgainstRoute(De._injector??b,m,De,C,A,q,ee,Pe).pipe((0,_t.W)(ot=>{if(ot instanceof Ui)return(0,H.of)(null);throw ot}))),(0,Ke.$)(De=>!!De),(0,_t.W)(De=>{if(go(De))return function Po(h,b,m){return 0===b.length&&!h.children[m]}(C,A,q)?(0,H.of)(new Ha):Si(C);throw De}))}processSegmentAgainstRoute(b,m,C,A,q,ee,Pe,De){return vr(C)===ee||ee!==je&&Gi(A,q,C)?void 0===C.redirectTo?this.matchSegmentAgainstRoute(b,A,C,q,ee,De):this.allowRedirects&&Pe?this.expandSegmentAgainstRouteUsingRedirect(b,A,m,C,q,ee,De):Si(A):Si(A)}expandSegmentAgainstRouteUsingRedirect(b,m,C,A,q,ee,Pe){const{matched:De,parameters:ot,consumedSegments:Pt,positionalParamSegments:Yt,remainingSegments:Jn}=xr(m,A,q);if(!De)return Si(m);"string"==typeof A.redirectTo&&"/"===A.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Ei=new Do(q,ot,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,vs(A),vr(A),A.component??A._loadedComponent??null,A,_s(A)),Gr=ho(Ei,Pe,this.paramsInheritanceStrategy);Ei.params=Object.freeze(Gr.params),Ei.data=Object.freeze(Gr.data);const Ci=this.applyRedirects.applyRedirectCommands(Pt,A.redirectTo,Yt,Ei,b);return this.applyRedirects.lineralizeSegments(A,Ci).pipe((0,Ye.Z)(ko=>this.processSegment(b,C,m,ko.concat(Jn),ee,!1,Pe)))}matchSegmentAgainstRoute(b,m,C,A,q,ee){const Pe=lr(m,C,A,b);return"**"===C.path&&(m.children={}),Pe.pipe((0,xe.n)(De=>De.matched?this.getChildConfig(b=C._injector??b,C,A).pipe((0,xe.n)(({routes:ot})=>{const Pt=C._loadedInjector??b,{parameters:Yt,consumedSegments:Jn,remainingSegments:Ei}=De,Gr=new Do(Jn,Yt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,vs(C),vr(C),C.component??C._loadedComponent??null,C,_s(C)),Ci=ho(Gr,ee,this.paramsInheritanceStrategy);Gr.params=Object.freeze(Ci.params),Gr.data=Object.freeze(Ci.data);const{segmentGroup:ko,slicedSegments:ss}=Rr(m,Jn,Ei,ot);if(0===ss.length&&ko.hasChildren())return this.processChildren(Pt,ot,ko,Gr).pipe((0,pe.T)(Gs=>new sr(Gr,Gs)));if(0===ot.length&&0===ss.length)return(0,H.of)(new sr(Gr,[]));const tu=vr(C)===q;return this.processSegment(Pt,ot,ko,ss,tu?je:q,!0,Gr).pipe((0,pe.T)(Gs=>new sr(Gr,Gs instanceof sr?[Gs]:[])))})):Si(m)))}getChildConfig(b,m,C){return m.children?(0,H.of)({routes:m.children,injector:b}):m.loadChildren?void 0!==m._loadedRoutes?(0,H.of)({routes:m._loadedRoutes,injector:m._loadedInjector}):function Zi(h,b,m,C){const A=b.canLoad;if(void 0===A||0===A.length)return(0,H.of)(!0);const q=A.map(ee=>{const Pe=X(ee,h);return Ot(function yt(h){return h&&ft(h.canLoad)}(Pe)?Pe.canLoad(b,m):(0,l.N4e)(h,()=>Pe(b,m)))});return(0,H.of)(q).pipe(Wn(),ta())}(b,m,C).pipe((0,Ye.Z)(A=>A?this.configLoader.loadChildren(b,m).pipe((0,kt.M)(q=>{m._loadedRoutes=q.routes,m._loadedInjector=q.injector})):function na(){return(0,Fe.$)(Vi(!1,et.GuardRejected))}())):(0,H.of)({routes:[],injector:b})}}function Os(h){const b=h.value.routeConfig;return b&&""===b.path}function sa(h){const b=[],m=new Set;for(const C of h){if(!Os(C)){b.push(C);continue}const A=b.find(q=>C.value.routeConfig===q.value.routeConfig);void 0!==A?(A.children.push(...C.children),m.add(A)):b.push(C)}for(const C of m){const A=sa(C.children);b.push(new sr(C.value,A))}return b.filter(C=>!m.has(C))}function vs(h){return h.data||{}}function _s(h){return h.resolve||{}}function rs(h){const b=h.children.map(m=>rs(m)).flat();return[h,...b]}function Hi(h){return(0,xe.n)(b=>{const m=h(b);return m?(0,S.H)(m).pipe((0,pe.T)(()=>b)):(0,H.of)(b)})}let vo=(()=>{class h{buildTitle(m){let C,A=m.root;for(;void 0!==A;)C=this.getResolvedTitleForRoute(A)??C,A=A.children.find(q=>q.outlet===je);return C}getResolvedTitleForRoute(m){return m.data[ut]}static{this.\u0275fac=function(C){return new(C||h)}}static{this.\u0275prov=l.jDH({token:h,factory:()=>(0,l.WQX)(qi),providedIn:"root"})}}return h})(),qi=(()=>{class h extends vo{constructor(m){super(),this.title=m}updateTitle(m){const C=this.buildTitle(m);void 0!==C&&this.title.setTitle(C)}static{this.\u0275fac=function(C){return new(C||h)(l.KVO(Qe.hE))}}static{this.\u0275prov=l.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})();const vi=new l.nKC("",{providedIn:"root",factory:()=>({})});let ua=(()=>{class h{static{this.\u0275fac=function(C){return new(C||h)}}static{this.\u0275cmp=l.VBU({type:h,selectors:[["ng-component"]],standalone:!0,features:[l.aNF],decls:1,vars:0,template:function(C,A){1&C&&l.nrm(0,"router-outlet")},dependencies:[Ti],encapsulation:2})}}return h})();function js(h){const b=h.children&&h.children.map(js),m=b?{...h,children:b}:{...h};return!m.component&&!m.loadComponent&&(b||m.loadChildren)&&m.outlet&&m.outlet!==je&&(m.component=ua),m}const Ai=new l.nKC("");let _i=(()=>{class h{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.WQX)(l.Ql9)}loadComponent(m){if(this.componentLoaders.get(m))return this.componentLoaders.get(m);if(m._loadedComponent)return(0,H.of)(m._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(m);const C=Ot(m.loadComponent()).pipe((0,pe.T)(ca),(0,kt.M)(q=>{this.onLoadEndListener&&this.onLoadEndListener(m),m._loadedComponent=q}),(0,Me.j)(()=>{this.componentLoaders.delete(m)})),A=new he(C,()=>new le.B).pipe(B());return this.componentLoaders.set(m,A),A}loadChildren(m,C){if(this.childrenLoaders.get(C))return this.childrenLoaders.get(C);if(C._loadedRoutes)return(0,H.of)({routes:C._loadedRoutes,injector:C._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(C);const q=function za(h,b,m,C){return Ot(h.loadChildren()).pipe((0,pe.T)(ca),(0,Ye.Z)(A=>A instanceof l.Co$||Array.isArray(A)?(0,H.of)(A):(0,S.H)(b.compileModuleAsync(A))),(0,pe.T)(A=>{C&&C(h);let q,ee,Pe=!1;return Array.isArray(A)?(ee=A,!0):(q=A.create(m).injector,ee=q.get(Ai,[],{optional:!0,self:!0}).flat()),{routes:ee.map(js),injector:q}}))}(C,this.compiler,m,this.onLoadEndListener).pipe((0,Me.j)(()=>{this.childrenLoaders.delete(C)})),ee=new he(q,()=>new le.B).pipe(B());return this.childrenLoaders.set(C,ee),ee}static{this.\u0275fac=function(C){return new(C||h)}}static{this.\u0275prov=l.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})();function ca(h){return function Wa(h){return h&&"object"==typeof h&&"default"in h}(h)?h.default:h}let yi=(()=>{class h{static{this.\u0275fac=function(C){return new(C||h)}}static{this.\u0275prov=l.jDH({token:h,factory:()=>(0,l.WQX)(Ya),providedIn:"root"})}}return h})(),Ya=(()=>{class h{shouldProcessUrl(m){return!0}extract(m){return m}merge(m,C){return m}static{this.\u0275fac=function(C){return new(C||h)}}static{this.\u0275prov=l.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})();const os=new l.nKC(""),ii=new l.nKC("");function Ni(h,b,m){const C=h.get(ii),A=h.get(fe.qQ);return h.get(l.SKi).runOutsideAngular(()=>{if(!A.startViewTransition||C.skipNextTransition)return C.skipNextTransition=!1,new Promise(ot=>setTimeout(ot));let q;const ee=new Promise(ot=>{q=ot}),Pe=A.startViewTransition(()=>(q(),function Xa(h){return new Promise(b=>{(0,l.mal)({read:()=>setTimeout(b)},{injector:h})})}(h))),{onViewTransitionCreated:De}=C;return De&&(0,l.N4e)(h,()=>De({transition:Pe,from:b,to:m})),ee})}const _=new l.nKC("");let L=(()=>{class h{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new le.B,this.transitionAbortSubject=new le.B,this.configLoader=(0,l.WQX)(_i),this.environmentInjector=(0,l.WQX)(l.uvJ),this.urlSerializer=(0,l.WQX)(vn),this.rootContexts=(0,l.WQX)($r),this.location=(0,l.WQX)(fe.aZ),this.inputBindingEnabled=null!==(0,l.WQX)(Bo,{optional:!0}),this.titleStrategy=(0,l.WQX)(vo),this.options=(0,l.WQX)(vi,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,l.WQX)(yi),this.createViewTransition=(0,l.WQX)(os,{optional:!0}),this.navigationErrorHandler=(0,l.WQX)(_,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,H.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=A=>this.events.next(new Bn(A)),this.configLoader.onLoadStartListener=A=>this.events.next(new lt(A))}complete(){this.transitions?.complete()}handleNavigationRequest(m){const C=++this.navigationId;this.transitions?.next({...this.transitions.value,...m,id:C})}setupNavigations(m,C,A){return this.transitions=new E.t({id:0,currentUrlTree:C,currentRawUrl:C,extractedUrl:this.urlHandlingStrategy.extract(C),urlAfterRedirects:this.urlHandlingStrategy.extract(C),rawUrl:C,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ae,restoredState:null,currentSnapshot:A.snapshot,targetSnapshot:null,currentRouterState:A,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,$e.p)(q=>0!==q.id),(0,pe.T)(q=>({...q,extractedUrl:this.urlHandlingStrategy.extract(q.rawUrl)})),(0,xe.n)(q=>{let ee=!1,Pe=!1;return(0,H.of)(q).pipe((0,xe.n)(De=>{if(this.navigationId>q.id)return this.cancelNavigationTransition(q,"",et.SupersededByNewNavigation),Ee.w;this.currentTransition=q,this.currentNavigation={id:De.id,initialUrl:De.rawUrl,extractedUrl:De.extractedUrl,targetBrowserUrl:"string"==typeof De.extras.browserUrl?this.urlSerializer.parse(De.extras.browserUrl):De.extras.browserUrl,trigger:De.source,extras:De.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const ot=!m.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!ot&&"reload"!==(De.extras.onSameUrlNavigation??m.onSameUrlNavigation)){const Yt="";return this.events.next(new Lt(De.id,this.urlSerializer.serialize(De.rawUrl),Yt,Dt.IgnoredSameUrlNavigation)),De.resolve(!1),Ee.w}if(this.urlHandlingStrategy.shouldProcessUrl(De.rawUrl))return(0,H.of)(De).pipe((0,xe.n)(Yt=>{const Jn=this.transitions?.getValue();return this.events.next(new ze(Yt.id,this.urlSerializer.serialize(Yt.extractedUrl),Yt.source,Yt.restoredState)),Jn!==this.transitions?.getValue()?Ee.w:Promise.resolve(Yt)}),function gi(h,b,m,C,A,q){return(0,Ye.Z)(ee=>function Ps(h,b,m,C,A,q,ee="emptyOnly"){return new gs(h,b,m,C,A,ee,q).recognize()}(h,b,m,C,ee.extractedUrl,A,q).pipe((0,pe.T)(({state:Pe,tree:De})=>({...ee,targetSnapshot:Pe,urlAfterRedirects:De}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,m.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,kt.M)(Yt=>{q.targetSnapshot=Yt.targetSnapshot,q.urlAfterRedirects=Yt.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Yt.urlAfterRedirects};const Jn=new zt(Yt.id,this.urlSerializer.serialize(Yt.extractedUrl),this.urlSerializer.serialize(Yt.urlAfterRedirects),Yt.targetSnapshot);this.events.next(Jn)}));if(ot&&this.urlHandlingStrategy.shouldProcessUrl(De.currentRawUrl)){const{id:Yt,extractedUrl:Jn,source:Ei,restoredState:Gr,extras:Ci}=De,ko=new ze(Yt,this.urlSerializer.serialize(Jn),Ei,Gr);this.events.next(ko);const ss=mt(this.rootComponentType).snapshot;return this.currentTransition=q={...De,targetSnapshot:ss,urlAfterRedirects:Jn,extras:{...Ci,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Jn,(0,H.of)(q)}{const Yt="";return this.events.next(new Lt(De.id,this.urlSerializer.serialize(De.extractedUrl),Yt,Dt.IgnoredByUrlHandlingStrategy)),De.resolve(!1),Ee.w}}),(0,kt.M)(De=>{const ot=new wn(De.id,this.urlSerializer.serialize(De.extractedUrl),this.urlSerializer.serialize(De.urlAfterRedirects),De.targetSnapshot);this.events.next(ot)}),(0,pe.T)(De=>(this.currentTransition=q={...De,guards:$(De.targetSnapshot,De.currentSnapshot,this.rootContexts)},q)),function R(h,b){return(0,Ye.Z)(m=>{const{targetSnapshot:C,currentSnapshot:A,guards:{canActivateChecks:q,canDeactivateChecks:ee}}=m;return 0===ee.length&&0===q.length?(0,H.of)({...m,guardsResult:!0}):function w(h,b,m,C){return(0,S.H)(h).pipe((0,Ye.Z)(A=>function hi(h,b,m,C,A){const q=b&&b.routeConfig?b.routeConfig.canDeactivate:null;if(!q||0===q.length)return(0,H.of)(!0);const ee=q.map(Pe=>{const De=so(b)??A,ot=X(Pe,De);return Ot(function Vr(h){return h&&ft(h.canDeactivate)}(ot)?ot.canDeactivate(h,b,m,C):(0,l.N4e)(De,()=>ot(h,b,m,C))).pipe((0,Ke.$)())});return(0,H.of)(ee).pipe(Wn())}(A.component,A.route,m,b,C)),(0,Ke.$)(A=>!0!==A,!0))}(ee,C,A,h).pipe((0,Ye.Z)(Pe=>Pe&&function bt(h){return"boolean"==typeof h}(Pe)?function G(h,b,m,C){return(0,S.H)(b).pipe((0,st.H)(A=>(0,ve.x)(function pt(h,b){return null!==h&&b&&b(new Ct(h)),(0,H.of)(!0)}(A.route.parent,C),function de(h,b){return null!==h&&b&&b(new mr(h)),(0,H.of)(!0)}(A.route,C),function No(h,b,m){const C=b[b.length-1],q=b.slice(0,b.length-1).reverse().map(ee=>function z(h){const b=h.routeConfig?h.routeConfig.canActivateChild:null;return b&&0!==b.length?{node:h,guards:b}:null}(ee)).filter(ee=>null!==ee).map(ee=>(0,Q.v)(()=>{const Pe=ee.guards.map(De=>{const ot=so(ee.node)??m,Pt=X(De,ot);return Ot(function Wt(h){return h&&ft(h.canActivateChild)}(Pt)?Pt.canActivateChild(C,h):(0,l.N4e)(ot,()=>Pt(C,h))).pipe((0,Ke.$)())});return(0,H.of)(Pe).pipe(Wn())}));return(0,H.of)(q).pipe(Wn())}(h,A.path,m),function Kt(h,b,m){const C=b.routeConfig?b.routeConfig.canActivate:null;if(!C||0===C.length)return(0,H.of)(!0);const A=C.map(q=>(0,Q.v)(()=>{const ee=so(b)??m,Pe=X(q,ee);return Ot(function fn(h){return h&&ft(h.canActivate)}(Pe)?Pe.canActivate(b,h):(0,l.N4e)(ee,()=>Pe(b,h))).pipe((0,Ke.$)())}));return(0,H.of)(A).pipe(Wn())}(h,A.route,m))),(0,Ke.$)(A=>!0!==A,!0))}(C,q,h,b):(0,H.of)(Pe)),(0,pe.T)(Pe=>({...m,guardsResult:Pe})))})}(this.environmentInjector,De=>this.events.next(De)),(0,kt.M)(De=>{if(q.guardsResult=De.guardsResult,De.guardsResult&&"boolean"!=typeof De.guardsResult)throw Ho(0,De.guardsResult);const ot=new Fn(De.id,this.urlSerializer.serialize(De.extractedUrl),this.urlSerializer.serialize(De.urlAfterRedirects),De.targetSnapshot,!!De.guardsResult);this.events.next(ot)}),(0,$e.p)(De=>!!De.guardsResult||(this.cancelNavigationTransition(De,"",et.GuardRejected),!1)),Hi(De=>{if(De.guards.canActivateChecks.length)return(0,H.of)(De).pipe((0,kt.M)(ot=>{const Pt=new Un(ot.id,this.urlSerializer.serialize(ot.extractedUrl),this.urlSerializer.serialize(ot.urlAfterRedirects),ot.targetSnapshot);this.events.next(Pt)}),(0,xe.n)(ot=>{let Pt=!1;return(0,H.of)(ot).pipe(function qa(h,b){return(0,Ye.Z)(m=>{const{targetSnapshot:C,guards:{canActivateChecks:A}}=m;if(!A.length)return(0,H.of)(m);const q=new Set(A.map(De=>De.route)),ee=new Set;for(const De of q)if(!ee.has(De))for(const ot of rs(De))ee.add(ot);let Pe=0;return(0,S.H)(ee).pipe((0,st.H)(De=>q.has(De)?function ys(h,b,m,C){const A=h.routeConfig,q=h._resolve;return void 0!==A?.title&&!Fo(A)&&(q[ut]=A.title),function la(h,b,m,C){const A=Mn(h);if(0===A.length)return(0,H.of)({});const q={};return(0,S.H)(A).pipe((0,Ye.Z)(ee=>function bs(h,b,m,C){const A=so(b)??C,q=X(h,A);return Ot(q.resolve?q.resolve(b,m):(0,l.N4e)(A,()=>q(b,m)))}(h[ee],b,m,C).pipe((0,Ke.$)(),(0,kt.M)(Pe=>{if(Pe instanceof ao)throw Ho(new rn,Pe);q[ee]=Pe}))),xn(1),function Ie(h){return(0,pe.T)(()=>h)}(q),(0,_t.W)(ee=>go(ee)?Ee.w:(0,Fe.$)(ee)))}(q,h,b,C).pipe((0,pe.T)(ee=>(h._resolvedData=ee,h.data=ho(h,h.parent,m).resolve,null)))}(De,C,h,b):(De.data=ho(De,De.parent,h).resolve,(0,H.of)(void 0))),(0,kt.M)(()=>Pe++),xn(1),(0,Ye.Z)(De=>Pe===ee.size?(0,H.of)(m):Ee.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,kt.M)({next:()=>Pt=!0,complete:()=>{Pt||this.cancelNavigationTransition(ot,"",et.NoDataFromResolver)}}))}),(0,kt.M)(ot=>{const Pt=new At(ot.id,this.urlSerializer.serialize(ot.extractedUrl),this.urlSerializer.serialize(ot.urlAfterRedirects),ot.targetSnapshot);this.events.next(Pt)}))}),Hi(De=>{const ot=Pt=>{const Yt=[];Pt.routeConfig?.loadComponent&&!Pt.routeConfig._loadedComponent&&Yt.push(this.configLoader.loadComponent(Pt.routeConfig).pipe((0,kt.M)(Jn=>{Pt.component=Jn}),(0,pe.T)(()=>{})));for(const Jn of Pt.children)Yt.push(...ot(Jn));return Yt};return(0,K.z)(ot(De.targetSnapshot.root)).pipe((0,Rn.U)(null),(0,nt.s)(1))}),Hi(()=>this.afterPreactivation()),(0,xe.n)(()=>{const{currentSnapshot:De,targetSnapshot:ot}=q,Pt=this.createViewTransition?.(this.environmentInjector,De.root,ot.root);return Pt?(0,S.H)(Pt).pipe((0,pe.T)(()=>q)):(0,H.of)(q)}),(0,pe.T)(De=>{const ot=function mo(h,b,m){const C=cr(h,b._root,m?m._root:void 0);return new Uo(C,b)}(m.routeReuseStrategy,De.targetSnapshot,De.currentRouterState);return this.currentTransition=q={...De,targetRouterState:ot},this.currentNavigation.targetRouterState=ot,q}),(0,kt.M)(()=>{this.events.next(new io)}),((h,b,m,C)=>(0,pe.T)(A=>(new g(b,A.targetRouterState,A.currentRouterState,m,C).activate(h),A)))(this.rootContexts,m.routeReuseStrategy,De=>this.events.next(De),this.inputBindingEnabled),(0,nt.s)(1),(0,kt.M)({next:De=>{ee=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Xe(De.id,this.urlSerializer.serialize(De.extractedUrl),this.urlSerializer.serialize(De.urlAfterRedirects))),this.titleStrategy?.updateTitle(De.targetRouterState.snapshot),De.resolve(!0)},complete:()=>{ee=!0}}),(0,Re.Q)(this.transitionAbortSubject.pipe((0,kt.M)(De=>{throw De}))),(0,Me.j)(()=>{!ee&&!Pe&&this.cancelNavigationTransition(q,"",et.SupersededByNewNavigation),this.currentTransition?.id===q.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,_t.W)(De=>{if(Pe=!0,Io(De))this.events.next(new ht(q.id,this.urlSerializer.serialize(q.extractedUrl),De.message,De.cancellationCode)),function Gn(h){return Io(h)&&Vn(h.url)}(De)?this.events.next(new Mr(De.url,De.navigationBehaviorOptions)):q.resolve(!1);else{const ot=new bn(q.id,this.urlSerializer.serialize(q.extractedUrl),De,q.targetSnapshot??void 0);try{const Pt=(0,l.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(ot));if(Pt instanceof ao){const{message:Yt,cancellationCode:Jn}=Ho(0,Pt);this.events.next(new ht(q.id,this.urlSerializer.serialize(q.extractedUrl),Yt,Jn)),this.events.next(new Mr(Pt.redirectTo,Pt.navigationBehaviorOptions))}else{this.events.next(ot);const Yt=m.errorHandler(De);q.resolve(!!Yt)}}catch(Pt){this.options.resolveNavigationPromiseOnError?q.resolve(!1):q.reject(Pt)}}return Ee.w}))}))}cancelNavigationTransition(m,C,A){const q=new ht(m.id,this.urlSerializer.serialize(m.extractedUrl),C,A);this.events.next(q),m.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const m=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),C=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return m.toString()!==C?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(C){return new(C||h)}}static{this.\u0275prov=l.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})();function x(h){return h!==ae}let P=(()=>{class h{static{this.\u0275fac=function(C){return new(C||h)}}static{this.\u0275prov=l.jDH({token:h,factory:()=>(0,l.WQX)(Oe),providedIn:"root"})}}return h})();class J{shouldDetach(b){return!1}store(b,m){}shouldAttach(b){return!1}retrieve(b){return null}shouldReuseRoute(b,m){return b.routeConfig===m.routeConfig}}let Oe=(()=>{class h extends J{static{this.\u0275fac=(()=>{let m;return function(A){return(m||(m=l.xGo(h)))(A||h)}})()}static{this.\u0275prov=l.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})(),qe=(()=>{class h{static{this.\u0275fac=function(C){return new(C||h)}}static{this.\u0275prov=l.jDH({token:h,factory:()=>(0,l.WQX)(dt),providedIn:"root"})}}return h})(),dt=(()=>{class h extends qe{constructor(){super(...arguments),this.location=(0,l.WQX)(fe.aZ),this.urlSerializer=(0,l.WQX)(vn),this.options=(0,l.WQX)(vi,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,l.WQX)(yi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new or,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=mt(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(m){return this.location.subscribe(C=>{"popstate"===C.type&&m(C.url,C.state)})}handleRouterEvent(m,C){if(m instanceof ze)this.stateMemento=this.createStateMemento();else if(m instanceof Lt)this.rawUrlTree=C.initialUrl;else if(m instanceof zt){if("eager"===this.urlUpdateStrategy&&!C.extras.skipLocationChange){const A=this.urlHandlingStrategy.merge(C.finalUrl,C.initialUrl);this.setBrowserUrl(C.targetBrowserUrl??A,C)}}else m instanceof io?(this.currentUrlTree=C.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(C.finalUrl,C.initialUrl),this.routerState=C.targetRouterState,"deferred"===this.urlUpdateStrategy&&!C.extras.skipLocationChange&&this.setBrowserUrl(C.targetBrowserUrl??this.rawUrlTree,C)):m instanceof ht&&(m.code===et.GuardRejected||m.code===et.NoDataFromResolver)?this.restoreHistory(C):m instanceof bn?this.restoreHistory(C,!0):m instanceof Xe&&(this.lastSuccessfulId=m.id,this.currentPageId=this.browserPageId)}setBrowserUrl(m,C){const A=m instanceof or?this.urlSerializer.serialize(m):m;if(this.location.isCurrentPathEqualTo(A)||C.extras.replaceUrl){const ee={...C.extras.state,...this.generateNgRouterState(C.id,this.browserPageId)};this.location.replaceState(A,"",ee)}else{const q={...C.extras.state,...this.generateNgRouterState(C.id,this.browserPageId+1)};this.location.go(A,"",q)}}restoreHistory(m,C=!1){if("computed"===this.canceledNavigationResolution){const q=this.currentPageId-this.browserPageId;0!==q?this.location.historyGo(q):this.currentUrlTree===m.finalUrl&&0===q&&(this.resetState(m),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(C&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(m,C){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:C}:{navigationId:m}}static{this.\u0275fac=(()=>{let m;return function(A){return(m||(m=l.xGo(h)))(A||h)}})()}static{this.\u0275prov=l.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})();var dn=function(h){return h[h.COMPLETE=0]="COMPLETE",h[h.FAILED=1]="FAILED",h[h.REDIRECTING=2]="REDIRECTING",h}(dn||{});function Sn(h,b){h.events.pipe((0,$e.p)(m=>m instanceof Xe||m instanceof ht||m instanceof bn||m instanceof Lt),(0,pe.T)(m=>m instanceof Xe||m instanceof Lt?dn.COMPLETE:m instanceof ht&&(m.code===et.Redirect||m.code===et.SupersededByNewNavigation)?dn.REDIRECTING:dn.FAILED),(0,$e.p)(m=>m!==dn.REDIRECTING),(0,nt.s)(1)).subscribe(()=>{b()})}function kn(h){throw h}const on={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Pn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let gt=(()=>{class h{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,l.WQX)(l.H3F),this.stateManager=(0,l.WQX)(qe),this.options=(0,l.WQX)(vi,{optional:!0})||{},this.pendingTasks=(0,l.WQX)(l.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,l.WQX)(L),this.urlSerializer=(0,l.WQX)(vn),this.location=(0,l.WQX)(fe.aZ),this.urlHandlingStrategy=(0,l.WQX)(yi),this._events=new le.B,this.errorHandler=this.options.errorHandler||kn,this.navigated=!1,this.routeReuseStrategy=(0,l.WQX)(P),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,l.WQX)(Ai,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,l.WQX)(Bo,{optional:!0}),this.eventsSubscription=new Le.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:m=>{this.console.warn(m)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const m=this.navigationTransitions.events.subscribe(C=>{try{const A=this.navigationTransitions.currentTransition,q=this.navigationTransitions.currentNavigation;if(null!==A&&null!==q)if(this.stateManager.handleRouterEvent(C,q),C instanceof ht&&C.code!==et.Redirect&&C.code!==et.SupersededByNewNavigation)this.navigated=!0;else if(C instanceof Xe)this.navigated=!0;else if(C instanceof Mr){const ee=C.navigationBehaviorOptions,Pe=this.urlHandlingStrategy.merge(C.url,A.currentRawUrl),De={browserUrl:A.extras.browserUrl,info:A.extras.info,skipLocationChange:A.extras.skipLocationChange,replaceUrl:A.extras.replaceUrl||"eager"===this.urlUpdateStrategy||x(A.source),...ee};this.scheduleNavigation(Pe,ae,null,De,{resolve:A.resolve,reject:A.reject,promise:A.promise})}(function vt(h){return!(h instanceof io||h instanceof Mr)})(C)&&this._events.next(C)}catch(A){this.navigationTransitions.transitionAbortSubject.next(A)}});this.eventsSubscription.add(m)}resetRootComponentType(m){this.routerState.root.component=m,this.navigationTransitions.rootComponentType=m}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ae,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((m,C)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(m,"popstate",C)},0)})}navigateToSyncWithBrowser(m,C,A){const q={replaceUrl:!0},ee=A?.navigationId?A:null;if(A){const De={...A};delete De.navigationId,delete De.\u0275routerPageId,0!==Object.keys(De).length&&(q.state=De)}const Pe=this.parseUrl(m);this.scheduleNavigation(Pe,C,ee,q)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(m){this.config=m.map(js),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(m,C={}){const{relativeTo:A,queryParams:q,fragment:ee,queryParamsHandling:Pe,preserveFragment:De}=C,ot=De?this.currentUrlTree.fragment:ee;let Yt,Pt=null;switch(Pe??this.options.defaultQueryParamsHandling){case"merge":Pt={...this.currentUrlTree.queryParams,...q};break;case"preserve":Pt=this.currentUrlTree.queryParams;break;default:Pt=q||null}null!==Pt&&(Pt=this.removeEmptyProps(Pt));try{Yt=bo(A?A.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof m[0]||"/"!==m[0][0])&&(m=[]),Yt=this.currentUrlTree.root}return Qo(Yt,m,Pt,ot??null)}navigateByUrl(m,C={skipLocationChange:!1}){const A=Vn(m)?m:this.parseUrl(m),q=this.urlHandlingStrategy.merge(A,this.rawUrlTree);return this.scheduleNavigation(q,ae,null,C)}navigate(m,C={skipLocationChange:!1}){return function We(h){for(let b=0;b<h.length;b++)if(null==h[b])throw new l.wOt(4008,!1)}(m),this.navigateByUrl(this.createUrlTree(m,C),C)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){try{return this.urlSerializer.parse(m)}catch{return this.urlSerializer.parse("/")}}isActive(m,C){let A;if(A=!0===C?{...on}:!1===C?{...Pn}:C,Vn(m))return pr(this.currentUrlTree,m,A);const q=this.parseUrl(m);return pr(this.currentUrlTree,q,A)}removeEmptyProps(m){return Object.entries(m).reduce((C,[A,q])=>(null!=q&&(C[A]=q),C),{})}scheduleNavigation(m,C,A,q,ee){if(this.disposed)return Promise.resolve(!1);let Pe,De,ot;ee?(Pe=ee.resolve,De=ee.reject,ot=ee.promise):ot=new Promise((Yt,Jn)=>{Pe=Yt,De=Jn});const Pt=this.pendingTasks.add();return Sn(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Pt))}),this.navigationTransitions.handleNavigationRequest({source:C,restoredState:A,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:m,extras:q,resolve:Pe,reject:De,promise:ot,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ot.catch(Yt=>Promise.reject(Yt))}static{this.\u0275fac=function(C){return new(C||h)}}static{this.\u0275prov=l.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})(),mn=(()=>{class h{constructor(m,C,A,q,ee,Pe){this.router=m,this.route=C,this.tabIndexAttribute=A,this.renderer=q,this.el=ee,this.locationStrategy=Pe,this.href=null,this.onChanges=new le.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const De=ee.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===De||"area"===De,this.isAnchorElement?this.subscription=m.events.subscribe(ot=>{ot instanceof Xe&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(m){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",m)}ngOnChanges(m){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(m){null==m?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=Vn(m)||Array.isArray(m)?m:[m],this.setTabIndexIfNotOnNativeEl("0"))}onClick(m,C,A,q,ee){const Pe=this.urlTree;return!!(null===Pe||this.isAnchorElement&&(0!==m||C||A||q||ee||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(Pe,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const m=this.urlTree;this.href=null!==m&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(m)):null;const C=null===this.href?null:(0,l.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",C)}applyAttributeValue(m,C){const A=this.renderer,q=this.el.nativeElement;null!==C?A.setAttribute(q,m,C):A.removeAttribute(q,m)}get urlTree(){return null===this.routerLinkInput?null:Vn(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(C){return new(C||h)(l.rXU(gt),l.rXU(Sr),l.kS0("tabindex"),l.rXU(l.sFG),l.rXU(l.aKT),l.rXU(fe.hb))}}static{this.\u0275dir=l.FsC({type:h,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(C,A){1&C&&l.bIt("click",function(ee){return A.onClick(ee.button,ee.ctrlKey,ee.shiftKey,ee.altKey,ee.metaKey)}),2&C&&l.BMQ("target",A.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",l.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",l.L39],replaceUrl:[2,"replaceUrl","replaceUrl",l.L39],routerLink:"routerLink"},standalone:!0,features:[l.GFd,l.OA$]})}}return h})(),yr=(()=>{class h{get isActive(){return this._isActive}constructor(m,C,A,q,ee){this.router=m,this.element=C,this.renderer=A,this.cdr=q,this.link=ee,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new l.bkB,this.routerEventsSubscription=m.events.subscribe(Pe=>{Pe instanceof Xe&&this.update()})}ngAfterContentInit(){(0,H.of)(this.links.changes,(0,H.of)(null)).pipe((0,Ae.U)()).subscribe(m=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const m=[...this.links.toArray(),this.link].filter(C=>!!C).map(C=>C.onChanges);this.linkInputChangesSubscription=(0,S.H)(m).pipe((0,Ae.U)()).subscribe(C=>{this._isActive!==this.isLinkActive(this.router)(C)&&this.update()})}set routerLinkActive(m){const C=Array.isArray(m)?m:m.split(" ");this.classes=C.filter(A=>!!A)}ngOnChanges(m){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const m=this.hasActiveLinks();this.classes.forEach(C=>{m?this.renderer.addClass(this.element.nativeElement,C):this.renderer.removeClass(this.element.nativeElement,C)}),m&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==m&&(this._isActive=m,this.cdr.markForCheck(),this.isActiveChange.emit(m))})}isLinkActive(m){const C=function On(h){return!!h.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return A=>{const q=A.urlTree;return!!q&&m.isActive(q,C)}}hasActiveLinks(){const m=this.isLinkActive(this.router);return this.link&&m(this.link)||this.links.some(m)}static{this.\u0275fac=function(C){return new(C||h)(l.rXU(gt),l.rXU(l.aKT),l.rXU(l.sFG),l.rXU(l.gRc),l.rXU(mn,8))}}static{this.\u0275dir=l.FsC({type:h,selectors:[["","routerLinkActive",""]],contentQueries:function(C,A,q){if(1&C&&l.wni(q,mn,5),2&C){let ee;l.mGM(ee=l.lsd())&&(A.links=ee)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[l.OA$]})}}return h})();class dr{}let jn=(()=>{class h{constructor(m,C,A,q,ee){this.router=m,this.injector=A,this.preloadingStrategy=q,this.loader=ee}setUpPreloading(){this.subscription=this.router.events.pipe((0,$e.p)(m=>m instanceof Xe),(0,st.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,C){const A=[];for(const q of C){q.providers&&!q._injector&&(q._injector=(0,l.Ol2)(q.providers,m,`Route: ${q.path}`));const ee=q._injector??m,Pe=q._loadedInjector??ee;(q.loadChildren&&!q._loadedRoutes&&void 0===q.canLoad||q.loadComponent&&!q._loadedComponent)&&A.push(this.preloadConfig(ee,q)),(q.children||q._loadedRoutes)&&A.push(this.processRoutes(Pe,q.children??q._loadedRoutes))}return(0,S.H)(A).pipe((0,Ae.U)())}preloadConfig(m,C){return this.preloadingStrategy.preload(C,()=>{let A;A=C.loadChildren&&void 0===C.canLoad?this.loader.loadChildren(m,C):(0,H.of)(null);const q=A.pipe((0,Ye.Z)(ee=>null===ee?(0,H.of)(void 0):(C._loadedRoutes=ee.routes,C._loadedInjector=ee.injector,this.processRoutes(ee.injector??m,ee.routes))));if(C.loadComponent&&!C._loadedComponent){const ee=this.loader.loadComponent(C);return(0,S.H)([q,ee]).pipe((0,Ae.U)())}return q})}static{this.\u0275fac=function(C){return new(C||h)(l.KVO(gt),l.KVO(l.Ql9),l.KVO(l.uvJ),l.KVO(dr),l.KVO(_i))}}static{this.\u0275prov=l.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})();const Ur=new l.nKC("");let Nt=(()=>{class h{constructor(m,C,A,q,ee={}){this.urlSerializer=m,this.transitions=C,this.viewportScroller=A,this.zone=q,this.options=ee,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ee.scrollPositionRestoration||="disabled",ee.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof ze?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof Xe?(this.lastId=m.id,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.urlAfterRedirects).fragment)):m instanceof Lt&&m.code===Dt.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof Lr&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,C){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Lr(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,C))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(C){l.QTQ()}}static{this.\u0275prov=l.jDH({token:h,factory:h.\u0275fac})}}return h})();function Es(h,...b){return(0,l.EmA)([{provide:Ai,multi:!0,useValue:h},[],{provide:Sr,useFactory:da,deps:[gt]},{provide:l.iLQ,multi:!0,useFactory:zi},b.map(m=>m.\u0275providers)])}function da(h){return h.routerState.root}function lo(h,b){return{\u0275kind:h,\u0275providers:b}}function zi(){const h=(0,l.WQX)(l.zZn);return b=>{const m=h.get(l.o8S);if(b!==m.components[0])return;const C=h.get(gt),A=h.get(fa);1===h.get(si)&&C.initialNavigation(),h.get($s,null,l.$GK.Optional)?.setUpPreloading(),h.get(Ur,null,l.$GK.Optional)?.init(),C.resetRootComponentType(m.componentTypes[0]),A.closed||(A.next(),A.complete(),A.unsubscribe())}}const fa=new l.nKC("",{factory:()=>new le.B}),si=new l.nKC("",{providedIn:"root",factory:()=>1}),$s=new l.nKC("");function ws(h){return lo(0,[{provide:$s,useExisting:jn},{provide:dr,useExisting:h}])}function Vs(h){return lo(9,[{provide:os,useValue:Ni},{provide:ii,useValue:{skipNextTransition:!!h?.skipInitialTransition,...h}}])}const Br=new l.nKC("ROUTER_FORROOT_GUARD"),ha=[fe.aZ,{provide:vn,useClass:rn},gt,$r,{provide:Sr,useFactory:da,deps:[gt]},_i,[]];let Wi=(()=>{class h{constructor(m){}static forRoot(m,C){return{ngModule:h,providers:[ha,[],{provide:Ai,multi:!0,useValue:m},{provide:Br,useFactory:Ka,deps:[[gt,new l.Xx1,new l.kdw]]},{provide:vi,useValue:C||{}},C?.useHash?{provide:fe.hb,useClass:fe.fw}:{provide:fe.hb,useClass:fe.Sm},{provide:Ur,useFactory:()=>{const h=(0,l.WQX)(fe.Xr),b=(0,l.WQX)(l.SKi),m=(0,l.WQX)(vi),C=(0,l.WQX)(L),A=(0,l.WQX)(vn);return m.scrollOffset&&h.setOffset(m.scrollOffset),new Nt(A,C,h,b,m)}},C?.preloadingStrategy?ws(C.preloadingStrategy).\u0275providers:[],C?.initialNavigation?eu(C):[],C?.bindToComponentInputs?lo(8,[Nn,{provide:Bo,useExisting:Nn}]).\u0275providers:[],C?.enableViewTransitions?Vs().\u0275providers:[],[{provide:Bs,useFactory:zi},{provide:l.iLQ,multi:!0,useExisting:Bs}]]}}static forChild(m){return{ngModule:h,providers:[{provide:Ai,multi:!0,useValue:m}]}}static{this.\u0275fac=function(C){return new(C||h)(l.KVO(Br,8))}}static{this.\u0275mod=l.$C({type:h})}static{this.\u0275inj=l.G2t({})}}return h})();function Ka(h){return"guarded"}function eu(h){return["disabled"===h.initialNavigation?lo(3,[{provide:l.hnV,multi:!0,useFactory:()=>{const b=(0,l.WQX)(gt);return()=>{b.setUpLocationChangeListener()}}},{provide:si,useValue:2}]).\u0275providers:[],"enabledBlocking"===h.initialNavigation?lo(2,[{provide:si,useValue:0},{provide:l.hnV,multi:!0,deps:[l.zZn],useFactory:b=>{const m=b.get(fe.hj,Promise.resolve());return()=>m.then(()=>new Promise(C=>{const A=b.get(gt),q=b.get(fa);Sn(A,()=>{C(!0)}),b.get(L).afterPreactivation=()=>(C(!0),q.closed?(0,H.of)(void 0):q),A.initialNavigation()}))}}]).\u0275providers:[]]}const Bs=new l.nKC("")},467:(Je,_e,D)=>{"use strict";function l(te,e,S,H,E,K,ue){try{var ve=te[K](ue),Q=ve.value}catch(ye){return void S(ye)}ve.done?e(Q):Promise.resolve(Q).then(H,E)}function j(te){return function(){var e=this,S=arguments;return new Promise(function(H,E){var K=te.apply(e,S);function ue(Q){l(K,H,E,ue,ve,"next",Q)}function ve(Q){l(K,H,E,ue,ve,"throw",Q)}ue(void 0)})}}D.d(_e,{A:()=>j})},1635:(Je,_e,D)=>{"use strict";function ye(Ie,Me,Re,Ae){return new(Re||(Re=Promise))(function(je,ut){function nn(pn){try{xt(Ae.next(pn))}catch(Mt){ut(Mt)}}function hn(pn){try{xt(Ae.throw(pn))}catch(Mt){ut(Mt)}}function xt(pn){pn.done?je(pn.value):function Qe(je){return je instanceof Re?je:new Re(function(ut){ut(je)})}(pn.value).then(nn,hn)}xt((Ae=Ae.apply(Ie,Me||[])).next())})}function fe(Ie){return this instanceof fe?(this.v=Ie,this):new fe(Ie)}function pe(Ie,Me,Re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Qe,Ae=Re.apply(Ie,Me||[]),je=[];return Qe=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),nn("next"),nn("throw"),nn("return",function ut(an){return function(Qt){return Promise.resolve(Qt).then(an,Mt)}}),Qe[Symbol.asyncIterator]=function(){return this},Qe;function nn(an,Qt){Ae[an]&&(Qe[an]=function(Ot){return new Promise(function($n,Ze){je.push([an,Ot,$n,Ze])>1||hn(an,Ot)})},Qt&&(Qe[an]=Qt(Qe[an])))}function hn(an,Qt){try{!function xt(an){an.value instanceof fe?Promise.resolve(an.value.v).then(pn,Mt):Mn(je[0][2],an)}(Ae[an](Qt))}catch(Ot){Mn(je[0][3],Ot)}}function pn(an){hn("next",an)}function Mt(an){hn("throw",an)}function Mn(an,Qt){an(Qt),je.shift(),je.length&&hn(je[0][0],je[0][1])}}function nt(Ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,Me=Ie[Symbol.asyncIterator];return Me?Me.call(Ie):(Ie=function ne(Ie){var Me="function"==typeof Symbol&&Symbol.iterator,Re=Me&&Ie[Me],Ae=0;if(Re)return Re.call(Ie);if(Ie&&"number"==typeof Ie.length)return{next:function(){return Ie&&Ae>=Ie.length&&(Ie=void 0),{value:Ie&&Ie[Ae++],done:!Ie}}};throw new TypeError(Me?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ie),Re={},Ae("next"),Ae("throw"),Ae("return"),Re[Symbol.asyncIterator]=function(){return this},Re);function Ae(je){Re[je]=Ie[je]&&function(ut){return new Promise(function(nn,hn){!function Qe(je,ut,nn,hn){Promise.resolve(hn).then(function(xt){je({value:xt,done:nn})},ut)}(nn,hn,(ut=Ie[je](ut)).done,ut.value)})}}}D.d(_e,{AQ:()=>pe,N3:()=>fe,sH:()=>ye,xN:()=>nt}),"function"==typeof SuppressedError&&SuppressedError}},Je=>{Je(Je.s=4765)}]);