<table class="min-w-full divide-y divide-gray-200">
  <!-- Preneur d'assurance -->
  <tbody *ngIf="formValue?.preneur as preneur" class="bg-white divide-y divide-gray-200">
    <tr class="bg-gray-100">
      <th colspan="2" class="px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider">Preneur d'assurance</th>
    </tr>
    <tr>
      <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-700 bg-gray-50 w-1/3">Prénom & Nom</td>
      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">{{ preneur.prenom | titlecase }} {{ preneur.nom | uppercase }}</td>
    </tr>
    <tr>
      <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-700 bg-gray-50">Date de naissance</td>
      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">{{ preneur.date_naissance | date:'dd/MM/yyyy' }}</td>
    </tr>
    <tr>
      <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-700 bg-gray-50">Contact & Adresse</td>
      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
        <div>{{ preneur.email }} | {{ preneur.telephone }}</div>
        <div>{{ preneur.adresse }}, {{ preneur.code_postal }} {{ preneur.ville }}</div>
      </td>
    </tr>
  </tbody>

  <!-- Bâtiment -->
  <tbody *ngIf="formValue" class="bg-white divide-y divide-gray-200 border-t-8 border-gray-50">
    <tr class="bg-gray-100">
      <th colspan="2" class="px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider">Bâtiment</th>
    </tr>
    <tr>
      <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-700 bg-gray-50">Adresse assurée</td>
      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
        {{ formValue.batiment_adresse }}<br>
        {{ formValue.batiment_code_postal }} {{ formValue.batiment_ville }}
      </td>
    </tr>
    <tr>
      <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-700 bg-gray-50">Type</td>
      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">{{ formValue.batiment_type_maison }}</td>
    </tr>
  </tbody>

  <!-- Évaluation -->
  <tbody *ngIf="formValue" class="bg-white divide-y divide-gray-200 border-t-8 border-gray-50">
    <tr class="bg-gray-100">
      <th colspan="2" class="px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider">Évaluation</th>
    </tr>
    <tr>
      <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-700 bg-gray-50">Détails</td>
      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
        <div>Superficie: {{ formValue.evaluation_superficie }} m²</div>
        <div>Pièces: {{ formValue.evaluation_nombre_pieces }}</div>
        <div>Loyer: {{ formValue.evaluation_loyer_mensuel | currency:'EUR' }}</div>
      </td>
    </tr>
  </tbody>

  <!-- Garanties Habitation -->
  <tbody *ngIf="formValue" class="bg-white divide-y divide-gray-200 border-t-8 border-gray-50">
    <tr class="bg-gray-100">
      <th colspan="2" class="px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider">Garanties Habitation</th>
    </tr>
    <tr>
      <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-700 bg-gray-50">Statut</td>
      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
        <span class="px-2.5 py-0.5 rounded-full text-xs font-medium" [ngClass]="getStatutClass(formValue.statut)">{{ formValue.statut }}</span>
      </td>
    </tr>
    <tr>
      <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-700 bg-gray-50">Compagnie</td>
      <td class="px-6 py-4 text-sm text-gray-900">{{ getCompanyName(formValue.compagnie_id) }}</td>
    </tr>
    <tr>
      <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-700 bg-gray-50">Inclusions</td>
      <td class="px-6 py-4 text-sm text-gray-900">
        <div class="grid grid-cols-2 gap-2">
          <div>Contenu: <strong>{{ formValue.garantie_contenu ? 'Oui' : 'Non' }}</strong></div>
          <div>Vol: <strong>{{ formValue.garantie_vol ? 'Oui' : 'Non' }}</strong></div>
          <div>Pertes Ind.: <strong>{{ formValue.garantie_pertes_indirectes ? 'Oui' : 'Non' }}</strong></div>
          <div>Protection Jur.: <strong>{{ formValue.garantie_protection_juridique ? 'Oui' : 'Non' }}</strong></div>
        </div>
      </td>
    </tr>
  </tbody>
</table>