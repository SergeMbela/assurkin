<!-- Hero Section -->
<div class="relative isolate bg-black px-6 pt-14 lg:px-8" id="hero">
  <div class="mx-auto max-w-7xl py-8 sm:py-12 lg:py-16">
    <div class="grid grid-cols-1 items-center gap-x-8 gap-y-16 lg:grid-cols-2">
      <!-- Colonne de gauche : Texte -->
      <div class="text-center lg:text-left">
        <h1 class="text-4xl font-bold tracking-tight text-white sm:text-6xl">Assurance Auto</h1>
        <p class="mt-6 text-lg leading-8 text-gray-300">Prenez la route en toute sécurité avec une couverture adaptée à votre véhicule et à vos habitudes de conduite.</p>
      </div>
      <!-- Colonne de droite : Image -->
      <div class="flex justify-center lg:justify-end">
        <img src="https://firebasestorage.googleapis.com/v0/b/dev-aksantimed.firebasestorage.app/o/accueil_assurkin.webp?alt=media&token=4963b33e-3cb1-4b28-b365-d9844735643e" alt="Assurance" class="w-full max-w-xs rounded-xl shadow-xl ring-1 ring-gray-400/10 lg:max-w-md">
      </div>
    </div>
  </div>
</div>

<!-- Contenu de la page -->
<div class="container mx-auto p-4 py-16 sm:py-24">
  <div class="grid grid-cols-1 lg:grid-cols-2 lg:gap-12">
    <!-- Colonne de gauche pour le texte -->
    <div class="text-gray-700 prose lg:prose-lg">
      <h2 class="text-2xl font-bold">Assurances Auto</h2>
      <p>La loi stipule que tout propriétaire d’un véhicule à moteur doit contracter une assurance auto. Oui, mais laquelle ? Il existe en effet plusieurs niveaux de protection. Tout dépend donc de votre budget et de vos besoins concernant la qualité de la couverture.</p>
      <p>Voici les formules les plus répandues :</p>
      <ul>
        <li><strong>La RC obligatoire (aussi appelée assurance responsabilité civile auto) :</strong> c’est le minimum légal autorisé, puisqu’elle couvre uniquement les dommages (matériels et physiques) causés à autrui, lorsque le conducteur est considéré comme responsable.</li>
        <li><strong>La mini omnium propose une couverture au tiers améliorée.</strong> Elle est modulable et les garanties proposées varient d’un assureur à l’autre (bris de glace, incendie, vol).</li>
        <li><strong>La full omnium offre un haut niveau de garantie,</strong> non seulement pour le conducteur mais aussi pour le véhicule. Les indemnisations en cas de sinistre sont également plus rapides et interviennent sans attendre que le litige soit réglé avec l’autre assureur.</li>
        <li><strong>Omnium 24+ :</strong> il s’agit de la formule omnium adaptée aux voitures d’occasion.</li>
        <li><strong>Protection juridique :</strong> elle est toujours utile pour éviter tout conflit d’intérêt avec un tiers, un expert, une compagnie adverse…</li>
      </ul>
      <p>De plus, un certain nombre d’options permettent de moduler encore chaque formule : niveau de franchise, dommages couverts, âge du conducteur, assistance et services annexes, protection conducteur, etc.</p>
      <p>Bref, vous l’aurez compris, choisir l’assurance auto qui vous convient n’est pas si simple ! Mieux vaut consulter un courtier indépendant qui vous proposera une protection personnalisée.</p>
    </div>

    <!-- Colonne de droite pour le formulaire -->
    <form class="space-y-12 bg-white p-8 rounded-lg shadow-md mt-8 lg:mt-0">

    <!-- Section Preneur d'Assurance -->
    <fieldset class="border-t pt-6">
      <legend class="text-xl font-semibold px-2 text-gray-700 mb-4">1. Preneur d'assurance</legend>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <div>
          <label for="preneur-genre" class="block text-sm font-medium text-gray-700">Genre</label>
          <select id="preneur-genre" name="preneur-genre" class="mt-1 focus:ring-2 focus:ring-blue-500 focus:outline-none appearance-none w-full text-sm leading-6 text-slate-900 placeholder-slate-400 rounded-md py-2 px-3 ring-1 ring-slate-200 shadow-sm">
            <option>Madame</option>
            <option>Monsieur</option>
            <option>Autre</option>
          </select>
        </div>
        <div>
          <label for="preneur-nom" class="block text-sm font-medium text-gray-700">Nom</label>
          <input type="text" id="preneur-nom" name="preneur-nom" class="mt-1 focus:ring-2 focus:ring-blue-500 focus:outline-none appearance-none w-full text-sm leading-6 text-slate-900 placeholder-slate-400 rounded-md py-2 px-3 ring-1 ring-slate-200 shadow-sm">
        </div>
        <div>
          <label for="preneur-prenom" class="block text-sm font-medium text-gray-700">Prénom</label>
          <input type="text" id="preneur-prenom" name="preneur-prenom" class="mt-1 focus:ring-2 focus:ring-blue-500 focus:outline-none appearance-none w-full text-sm leading-6 text-slate-900 placeholder-slate-400 rounded-md py-2 px-3 ring-1 ring-slate-200 shadow-sm">
        </div>
        <div>
          <label for="preneur-dob" class="block text-sm font-medium text-gray-700">Date de naissance</label>
          <input type="date" id="preneur-dob" name="preneur-dob" class="mt-1 focus:ring-2 focus:ring-blue-500 focus:outline-none appearance-none w-full text-sm leading-6 text-slate-900 placeholder-slate-400 rounded-md py-2 px-3 ring-1 ring-slate-200 shadow-sm">
        </div>
        <div>
          <label for="preneur-tel" class="block text-sm font-medium text-gray-700">Numéro de téléphone</label>
          <input type="tel" id="preneur-tel" name="preneur-tel" class="mt-1 focus:ring-2 focus:ring-blue-500 focus:outline-none appearance-none w-full text-sm leading-6 text-slate-900 placeholder-slate-400 rounded-md py-2 px-3 ring-1 ring-slate-200 shadow-sm">
        </div>
        <div>
          <label for="preneur-email" class="block text-sm font-medium text-gray-700">Email</label>
          <input type="email" id="preneur-email" name="preneur-email" class="mt-1 focus:ring-2 focus:ring-blue-500 focus:outline-none appearance-none w-full text-sm leading-6 text-slate-900 placeholder-slate-400 rounded-md py-2 px-3 ring-1 ring-slate-200 shadow-sm">
        </div>
        <div class="lg:col-span-2">
          <label for="preneur-adresse" class="block text-sm font-medium text-gray-700">Rue et numéro</label>
          <input type="text" id="preneur-adresse" name="preneur-adresse" class="mt-1 focus:ring-2 focus:ring-blue-500 focus:outline-none appearance-none w-full text-sm leading-6 text-slate-900 placeholder-slate-400 rounded-md py-2 px-3 ring-1 ring-slate-200 shadow-sm">
        </div>
        <div>
          <div class="relative">
            <label for="preneur-cp" class="block text-sm font-medium text-gray-700">Code Postal</label>
            <input type="text" id="preneur-cp" name="preneur-cp" [(ngModel)]="preneurPostalCode" (input)="onPostalCodeInput($event, 'preneur')" autocomplete="off" class="mt-1 focus:ring-2 focus:ring-blue-500 focus:outline-none appearance-none w-full text-sm leading-6 text-slate-900 placeholder-slate-400 rounded-md py-2 px-3 ring-1 ring-slate-200 shadow-sm">
            <ul *ngIf="filteredPreneurPostalCodes.length > 0" class="absolute z-10 w-full bg-white border border-gray-300 rounded-md mt-1 max-h-40 overflow-y-auto">
              <li *ngFor="let pc of filteredPreneurPostalCodes" (click)="selectPostalCode(pc.postalCode, 'preneur')" class="px-3 py-2 cursor-pointer hover:bg-gray-100">
                {{ pc.postalCode }} - {{ pc.city }}
              </li>
            </ul>
          </div>
        </div>
        <div>
          <label for="preneur-ville" class="block text-sm font-medium text-gray-700">Ville</label>
          <select id="preneur-ville" name="preneur-ville" [(ngModel)]="preneurCity" [disabled]="preneurCities.length === 0" class="mt-1 focus:ring-2 focus:ring-blue-500 focus:outline-none appearance-none w-full text-sm leading-6 text-slate-900 placeholder-slate-400 rounded-md py-2 px-3 ring-1 ring-slate-200 shadow-sm disabled:bg-gray-100">
            <option *ngIf="preneurCities.length === 0" value="">Saisir un code postal</option>
            <option *ngFor="let city of preneurCities" [value]="city">
              {{ city }}
            </option>
          </select>
        </div>
        <div>
          <label for="preneur-permis" class="block text-sm font-medium text-gray-700">Numéro de permis de conduire</label>
          <input type="text" id="preneur-permis" name="preneur-permis" class="mt-1 focus:ring-2 focus:ring-blue-500 focus:outline-none appearance-none w-full text-sm leading-6 text-slate-900 placeholder-slate-400 rounded-md py-2 px-3 ring-1 ring-slate-200 shadow-sm">
        </div>
        <div>
          <label for="preneur-permis-date" class="block text-sm font-medium text-gray-700">Date d'obtention du permis</label>
          <input type="date" id="preneur-permis-date" name="preneur-permis-date" class="mt-1 focus:ring-2 focus:ring-blue-500 focus:outline-none appearance-none w-full text-sm leading-6 text-slate-900 placeholder-slate-400 rounded-md py-2 px-3 ring-1 ring-slate-200 shadow-sm">
        </div>
      </div>
    </fieldset>

    <!-- Section Conducteur -->
    <fieldset class="border-t pt-6">
      <legend class="text-xl font-semibold px-2 text-gray-700 mb-4">2. Conducteur principal (si différent)</legend>
      <div class="flex items-center mb-4">
        <input id="conducteur-diff" name="conducteur-diff" type="checkbox" [(ngModel)]="isConducteurDifferent" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500">
        <label for="conducteur-diff" class="ml-2 block text-sm text-gray-900">Le conducteur principal est différent du preneur d'assurance.</label>
      </div>

      <!-- Champs pour le conducteur différent, à afficher conditionnellement -->
      <div *ngIf="isConducteurDifferent" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <div>
          <label for="conducteur-genre" class="block text-sm font-medium text-gray-700">Genre</label>
          <select id="conducteur-genre" name="conducteur-genre" class="mt-1 focus:ring-2 focus:ring-blue-500 focus:outline-none appearance-none w-full text-sm leading-6 text-slate-900 placeholder-slate-400 rounded-md py-2 px-3 ring-1 ring-slate-200 shadow-sm">
            <option>Madame</option>
            <option>Monsieur</option>
            <option>Autre</option>
          </select>
        </div>
        <div>
          <label for="conducteur-nom" class="block text-sm font-medium text-gray-700">Nom</label>
          <input type="text" id="conducteur-nom" name="conducteur-nom" class="mt-1 focus:ring-2 focus:ring-blue-500 focus:outline-none appearance-none w-full text-sm leading-6 text-slate-900 placeholder-slate-400 rounded-md py-2 px-3 ring-1 ring-slate-200 shadow-sm">
        </div>
        <div>
          <label for="conducteur-prenom" class="block text-sm font-medium text-gray-700">Prénom</label>
          <input type="text" id="conducteur-prenom" name="conducteur-prenom" class="mt-1 focus:ring-2 focus:ring-blue-500 focus:outline-none appearance-none w-full text-sm leading-6 text-slate-900 placeholder-slate-400 rounded-md py-2 px-3 ring-1 ring-slate-200 shadow-sm">
        </div>
        <div>
          <label for="conducteur-dob" class="block text-sm font-medium text-gray-700">Date de naissance</label>
          <input type="date" id="conducteur-dob" name="conducteur-dob" class="mt-1 focus:ring-2 focus:ring-blue-500 focus:outline-none appearance-none w-full text-sm leading-6 text-slate-900 placeholder-slate-400 rounded-md py-2 px-3 ring-1 ring-slate-200 shadow-sm">
        </div>
        <div class="lg:col-span-2">
          <label for="conducteur-adresse" class="block text-sm font-medium text-gray-700">Rue et numéro</label>
          <input type="text" id="conducteur-adresse" name="conducteur-adresse" class="mt-1 focus:ring-2 focus:ring-blue-500 focus:outline-none appearance-none w-full text-sm leading-6 text-slate-900 placeholder-slate-400 rounded-md py-2 px-3 ring-1 ring-slate-200 shadow-sm">
        </div>
        <div>
          <div class="relative">
            <label for="conducteur-cp" class="block text-sm font-medium text-gray-700">Code Postal</label>
            <input type="text" id="conducteur-cp" name="conducteur-cp" [(ngModel)]="conducteurPostalCode" (input)="onPostalCodeInput($event, 'conducteur')" autocomplete="off" class="mt-1 focus:ring-2 focus:ring-blue-500 focus:outline-none appearance-none w-full text-sm leading-6 text-slate-900 placeholder-slate-400 rounded-md py-2 px-3 ring-1 ring-slate-200 shadow-sm">
            <ul *ngIf="filteredConducteurPostalCodes.length > 0" class="absolute z-10 w-full bg-white border border-gray-300 rounded-md mt-1 max-h-40 overflow-y-auto">
              <li *ngFor="let pc of filteredConducteurPostalCodes" (click)="selectPostalCode(pc.postalCode, 'conducteur')" class="px-3 py-2 cursor-pointer hover:bg-gray-100">
                {{ pc.postalCode }} - {{ pc.city }}
              </li>
            </ul>
          </div>
        </div>
        <div>
          <label for="conducteur-ville" class="block text-sm font-medium text-gray-700">Ville</label>
          <select id="conducteur-ville" name="conducteur-ville" [(ngModel)]="conducteurCity" [disabled]="conducteurCities.length === 0" class="mt-1 focus:ring-2 focus:ring-blue-500 focus:outline-none appearance-none w-full text-sm leading-6 text-slate-900 placeholder-slate-400 rounded-md py-2 px-3 ring-1 ring-slate-200 shadow-sm disabled:bg-gray-100">
            <option *ngIf="conducteurCities.length === 0" value="">Saisir un code postal</option>
            <option *ngFor="let city of conducteurCities" [value]="city">
              {{ city }}
            </option>
          </select>
        </div>
        <div>
          <label for="conducteur-permis" class="block text-sm font-medium text-gray-700">Numéro de permis de conduire</label>
          <input type="text" id="conducteur-permis" name="conducteur-permis" class="mt-1 focus:ring-2 focus:ring-blue-500 focus:outline-none appearance-none w-full text-sm leading-6 text-slate-900 placeholder-slate-400 rounded-md py-2 px-3 ring-1 ring-slate-200 shadow-sm">
        </div>
        <div>
          <label for="conducteur-permis-date" class="block text-sm font-medium text-gray-700">Date d'obtention du permis</label>
          <input type="date" id="conducteur-permis-date" name="conducteur-permis-date" class="mt-1 focus:ring-2 focus:ring-blue-500 focus:outline-none appearance-none w-full text-sm leading-6 text-slate-900 placeholder-slate-400 rounded-md py-2 px-3 ring-1 ring-slate-200 shadow-sm">
        </div>
      </div>
    </fieldset>

    <!-- Section Véhicule -->
    <fieldset class="border-t pt-6">
      <legend class="text-xl font-semibold px-2 text-gray-700 mb-4">3. Informations sur le véhicule</legend>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <div>
          <label for="vehicule-type" class="block text-sm font-medium text-gray-700">Type de véhicule</label>
          <input type="text" id="vehicule-type" name="vehicule-type" placeholder="Ex: Voiture, Camionnette" class="mt-1 focus:ring-2 focus:ring-blue-500 focus:outline-none appearance-none w-full text-sm leading-6 text-slate-900 placeholder-slate-400 rounded-md py-2 px-3 ring-1 ring-slate-200 shadow-sm">
        </div>
        <div>
          <label for="vehicule-marque" class="block text-sm font-medium text-gray-700">Marque et modèle</label>
          <input type="text" id="vehicule-marque" name="vehicule-marque" placeholder="Ex: Volkswagen Golf" class="mt-1 focus:ring-2 focus:ring-blue-500 focus:outline-none appearance-none w-full text-sm leading-6 text-slate-900 placeholder-slate-400 rounded-md py-2 px-3 ring-1 ring-slate-200 shadow-sm">
        </div>
        <div>
          <label for="vehicule-puissance" class="block text-sm font-medium text-gray-700">Puissance (kW)</label>
          <input type="number" id="vehicule-puissance" name="vehicule-puissance" class="mt-1 focus:ring-2 focus:ring-blue-500 focus:outline-none appearance-none w-full text-sm leading-6 text-slate-900 placeholder-slate-400 rounded-md py-2 px-3 ring-1 ring-slate-200 shadow-sm">
        </div>
        <div>
          <label for="vehicule-places" class="block text-sm font-medium text-gray-700">Nombre de places (conducteur inclus)</label>
          <input type="number" id="vehicule-places" name="vehicule-places" class="mt-1 focus:ring-2 focus:ring-blue-500 focus:outline-none appearance-none w-full text-sm leading-6 text-slate-900 placeholder-slate-400 rounded-md py-2 px-3 ring-1 ring-slate-200 shadow-sm">
        </div>
        <div>
          <label for="vehicule-circu-date" class="block text-sm font-medium text-gray-700">Date de 1ère mise en circulation</label>
          <input type="date" id="vehicule-circu-date" name="vehicule-circu-date" class="mt-1 focus:ring-2 focus:ring-blue-500 focus:outline-none appearance-none w-full text-sm leading-6 text-slate-900 placeholder-slate-400 rounded-md py-2 px-3 ring-1 ring-slate-200 shadow-sm">
        </div>
        <div>
          <label for="vehicule-valeur" class="block text-sm font-medium text-gray-700">Valeur catalogue/facture (si Omnium)</label>
          <input type="number" id="vehicule-valeur" name="vehicule-valeur" placeholder="€" class="mt-1 focus:ring-2 focus:ring-blue-500 focus:outline-none appearance-none w-full text-sm leading-6 text-slate-900 placeholder-slate-400 rounded-md py-2 px-3 ring-1 ring-slate-200 shadow-sm">
        </div>
      </div>
    </fieldset>

    <!-- Section Garanties -->
    <fieldset class="border-t pt-6">
      <legend class="text-xl font-semibold px-2 text-gray-700 mb-4">4. Garanties souhaitées</legend>
      <div class="space-y-4">
        <div class="flex items-start">
          <div class="flex h-5 items-center">
            <input id="garantie-base" name="garantie-base" type="checkbox" checked class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500">
          </div>
          <div class="ml-3 text-sm">
            <label for="garantie-base" class="font-medium text-gray-700">Garantie de base (Responsabilité Civile + Protection Juridique)</label>
          </div>
        </div>
        <div>
          <label class="text-base font-medium text-gray-900">Omnium</label>
          <fieldset class="mt-2">
            <div class="space-y-2 sm:flex sm:items-center sm:space-y-0 sm:space-x-10">
              <div class="flex items-center">
                <input id="omnium-non" name="omnium" type="radio" checked class="h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500">
                <label for="omnium-non" class="ml-3 block text-sm font-medium text-gray-700">Non souhaitée</label>
              </div>
              <div class="flex items-center">
                <input id="omnium-partiel" name="omnium" type="radio" class="h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500">
                <label for="omnium-partiel" class="ml-3 block text-sm font-medium text-gray-700">Omnium Partielle</label>
              </div>
              <div class="flex items-center">
                <input id="omnium-total" name="omnium" type="radio" class="h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500">
                <label for="omnium-total" class="ml-3 block text-sm font-medium text-gray-700">Omnium Totale</label>
              </div>
            </div>
          </fieldset>
        </div>
        <div class="flex items-start">
          <div class="flex h-5 items-center">
            <input id="garantie-conducteur" name="garantie-conducteur" type="checkbox" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500">
          </div>
          <div class="ml-3 text-sm">
            <label for="garantie-conducteur" class="font-medium text-gray-700">Assurance Conducteur</label>
          </div>
        </div>
        <div class="flex items-start">
          <div class="flex h-5 items-center">
            <input id="garantie-assistance" name="garantie-assistance" type="checkbox" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500">
          </div>
          <div class="ml-3 text-sm">
            <label for="garantie-assistance" class="font-medium text-gray-700">Assistance</label>
          </div>
        </div>
        <div class="pt-4">
          <label for="date-effet" class="block text-sm font-medium text-gray-700">Date d'effet souhaitée</label>
          <input type="date" id="date-effet" name="date-effet" [min]="minDate" class="mt-1 focus:ring-2 focus:ring-blue-500 focus:outline-none appearance-none w-full text-sm leading-6 text-slate-900 placeholder-slate-400 rounded-md py-2 px-3 ring-1 ring-slate-200 shadow-sm">
        </div>
      </div>
    </fieldset>

    <!-- Bouton de soumission -->
    <div class="flex justify-end pt-6">
      <button type="submit" class="inline-flex justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">
        Recevoir mon offre
      </button>
    </div>

    </form>
  </div>
</div>
