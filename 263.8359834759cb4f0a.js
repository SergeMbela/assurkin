"use strict";(self.webpackChunkassurkin=self.webpackChunkassurkin||[]).push([[263],{2263:(B,k,a)=>{a.r(k),a.d(k,{CompaniesComponent:()=>L});var e=a(4438),m=a(177),i=a(9417),w=a(1807);const s=t=>({"border-red-500":t});function j(t,r){if(1&t&&(e.j41(0,"div",58),e.EFF(1),e.k0s()),2&t){const o=e.XpG();e.R7$(),e.SpI(" ",o.successMessage," ")}}function N(t,r){if(1&t&&(e.j41(0,"div",59),e.EFF(1),e.k0s()),2&t){const o=e.XpG();e.R7$(),e.SpI(" ",o.errorMessage," ")}}function I(t,r){1&t&&(e.j41(0,"p",60),e.EFF(1,"Le nom est requis."),e.k0s())}function R(t,r){if(1&t&&(e.j41(0,"option",61),e.EFF(1),e.k0s()),2&t){const o=r.$implicit;e.Y8G("value",o),e.R7$(),e.JRh(o)}}function G(t,r){1&t&&(e.j41(0,"p",60),e.EFF(1,"Requis."),e.k0s())}function M(t,r){1&t&&(e.j41(0,"p",60),e.EFF(1,"Requis."),e.k0s())}function Y(t,r){1&t&&(e.j41(0,"p",60),e.EFF(1,"Doit contenir 10 caract\xe8res."),e.k0s())}function q(t,r){1&t&&(e.j41(0,"p",60),e.EFF(1,"Doit commencer par 'BE'."),e.k0s())}function S(t,r){1&t&&(e.j41(0,"p",60),e.EFF(1,"Email invalide."),e.k0s())}function $(t,r){1&t&&(e.j41(0,"p",62),e.EFF(1," Veuillez s\xe9lectionner au moins un besoin en assurance. "),e.k0s())}function D(t,r){1&t&&(e.qSk(),e.j41(0,"svg",63),e.nrm(1,"circle",64)(2,"path",65),e.k0s())}function T(t,r){if(1&t&&(e.j41(0,"div",58),e.EFF(1),e.k0s()),2&t){const o=e.XpG();e.R7$(),e.SpI(" ",o.successMessage," ")}}function A(t,r){if(1&t&&(e.j41(0,"div",59),e.EFF(1),e.k0s()),2&t){const o=e.XpG();e.R7$(),e.SpI(" ",o.errorMessage," ")}}function O(t){return r=>t.some(l=>r.get(l)?.value)?null:{requireAtLeastOne:!0}}let L=(()=>{class t{fb=(0,e.WQX)(i.ok);dbService=(0,e.WQX)(w.y);platformId=(0,e.WQX)(e.Agw);companyForm=this.fb.group({name:["",i.k0.required],legal_form:["",i.k0.required],enterprise_number:["",[i.k0.required,i.k0.minLength(10),i.k0.maxLength(10)]],vat_number:["",[i.k0.pattern(/^BE/)]],street:["",i.k0.required],house_number:["",i.k0.required],postal_code:["",i.k0.required],city:["",i.k0.required],email:["",[i.k0.email]],has_car_policy:[!1],wants_auto_insurance:[!1],wants_home_insurance:[!1],wants_liability_insurance:[!1]},{validators:O(["has_car_policy","wants_auto_insurance","wants_home_insurance","wants_liability_insurance"])});legalForms=["SRL","SA","SC","SNC","SComm","ASBL","Ind\xe9pendant"];isSubmitting=!1;successMessage=null;errorMessage=null;onSubmit(){if(this.companyForm.invalid)return void this.companyForm.markAllAsTouched();this.isSubmitting=!0,this.successMessage=null,this.errorMessage=null;const o=this.companyForm.value,l={p_name:o.name,p_legal_form:o.legal_form,p_enterprise_number:o.enterprise_number,p_vat_number:o.vat_number||null,p_street:o.street,p_house_number:o.house_number,p_postal_code:o.postal_code,p_city:o.city,p_email:o.email||null,p_has_car_policy:o.has_car_policy,p_wants_auto_insurance:o.wants_auto_insurance,p_wants_home_insurance:o.wants_home_insurance,p_wants_liability_insurance:o.wants_liability_insurance};console.log("Donn\xe9es pr\xeates pour register_belgian_company:",l),this.dbService.registerCompany(l).subscribe({next:n=>{this.isSubmitting=!1,this.successMessage="Votre demande d'informations nous est parvenues",this.companyForm.reset()},error:n=>{this.isSubmitting=!1,console.error("Erreur lors de l'enregistrement:",n),this.errorMessage=n.message||"Une erreur technique est survenue."}})}scrollToForm(){if((0,m.UE)(this.platformId)){const o=document.getElementById("company-form");o&&o.scrollIntoView({behavior:"smooth",block:"start"})}}static \u0275fac=function(l){return new(l||t)};static \u0275cmp=e.VBU({type:t,selectors:[["app-companies"]],standalone:!0,features:[e.aNF],decls:103,vars:43,consts:[[1,"bg-white"],["id","hero",1,"relative","isolate","bg-black","px-6","pt-14","lg:px-8"],[1,"mx-auto","max-w-7xl","py-8","sm:py-12","lg:py-16"],[1,"grid","grid-cols-1","items-center","gap-x-8","gap-y-16","lg:grid-cols-2"],[1,"text-center","lg:text-left","animate-fade-in-up"],[1,"text-4xl","font-bold","tracking-tight","text-white","sm:text-6xl","animate-fade-in-up",2,"animation-delay","0.2s"],[1,"mt-6","text-lg","leading-8","text-gray-300","animate-fade-in-up",2,"animation-delay","0.4s"],[1,"mt-10","flex","items-center","justify-center","gap-x-6","lg:justify-start","animate-fade-in-up",2,"animation-delay","0.6s"],[1,"rounded-md","bg-indigo-600","px-3.5","py-2.5","text-sm","font-semibold","text-white","shadow-sm","hover:bg-indigo-500","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-indigo-600",3,"click"],[1,"flex","justify-center","lg:justify-end","animate-fade-in",2,"animation-delay","0.8s"],["src","https://fqopliwvpuiprdegxytz.supabase.co/storage/v1/object/sign/img_website/assukin.webp?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV81MmJmNDFiNC0yNGQ0LTQ3ZTktYmEzNi04YWZmY2NjMzEzNzIiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJpbWdfd2Vic2l0ZS9hc3N1a2luLndlYnAiLCJpYXQiOjE3NjMwMjAyMjYsImV4cCI6MjA3ODM4MDIyNn0.7YNFUpPItIygZoqlnw2CE-Elj9r-64kfppEpvelhMpA","alt","\xc9quipe Assurkin",1,"w-full","max-w-xs","rounded-xl","shadow-xl","ring-1","ring-gray-400/10","lg:max-w-md"],[1,"container","mx-auto","p-6"],[1,"text-2xl","font-bold","mb-6","text-gray-800"],["class","bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",4,"ngIf"],["class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",4,"ngIf"],["id","company-form",1,"bg-white","shadow-md","rounded","px-8","pt-6","pb-8","mb-4",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","mb-4"],["for","name",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["id","name","type","text","formControlName","name","placeholder","Ex: Ma Soci\xe9t\xe9",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline",3,"ngClass"],["class","text-red-500 text-xs italic mt-1",4,"ngIf"],["for","legal_form",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["id","legal_form","formControlName","legal_form",1,"shadow","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline","bg-white",3,"ngClass"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","enterprise_number",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["id","enterprise_number","type","text","formControlName","enterprise_number","placeholder","0123456789",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline",3,"ngClass"],["for","vat_number",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["id","vat_number","type","text","formControlName","vat_number","placeholder","BE0123456789",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline",3,"ngClass"],[1,"text-gray-500","text-xs","italic","mt-1"],[1,"mb-4"],[1,"block","text-gray-700","text-sm","font-bold","mb-2"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],[1,"md:col-span-2"],["type","text","formControlName","street","placeholder","Rue",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline",3,"ngClass"],["type","text","formControlName","house_number","placeholder","Num\xe9ro",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline",3,"ngClass"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4","mb-4"],["type","text","formControlName","postal_code","placeholder","Code Postal",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline",3,"ngClass"],["type","text","formControlName","city","placeholder","Ville",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline",3,"ngClass"],[1,"mb-6"],["for","email",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["id","email","type","email","formControlName","email","placeholder","contact@entreprise.be",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline",3,"ngClass"],[1,"space-y-3","mt-2"],[1,"relative","flex","items-start"],[1,"flex","h-6","items-center"],["id","has_car_policy","formControlName","has_car_policy","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-600"],[1,"ml-3","text-sm","leading-6"],["for","has_car_policy",1,"font-medium","text-gray-900"],[1,"text-gray-500","text-xs"],["id","wants_auto_insurance","formControlName","wants_auto_insurance","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-600"],["for","wants_auto_insurance",1,"font-medium","text-gray-900"],["id","wants_home_insurance","formControlName","wants_home_insurance","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-600"],["for","wants_home_insurance",1,"font-medium","text-gray-900"],["id","wants_liability_insurance","formControlName","wants_liability_insurance","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-600"],["for","wants_liability_insurance",1,"font-medium","text-gray-900"],["class","text-red-500 text-xs italic mt-2",4,"ngIf"],[1,"flex","items-center","justify-end"],["type","submit",1,"bg-blue-600","hover:bg-blue-700","text-white","font-bold","py-2","px-6","rounded","focus:outline-none","focus:shadow-outline","disabled:opacity-50","transition-colors","flex","items-center",3,"disabled"],["class","animate-spin -ml-1 mr-3 h-5 w-5 text-white","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",4,"ngIf"],[1,"bg-green-100","border","border-green-400","text-green-700","px-4","py-3","rounded","mb-4"],[1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","mb-4"],[1,"text-red-500","text-xs","italic","mt-1"],[3,"value"],[1,"text-red-500","text-xs","italic","mt-2"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(l,n){if(1&l&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),e.EFF(6,"AssurKin, le partenaire de votre r\xe9ussite professionnelle"),e.k0s(),e.j41(7,"p",6),e.EFF(8,"Parce que votre activit\xe9 m\xe9rite une protection sans faille, nous concevons des solutions d'assurance sur-mesure pour les entreprises et les ind\xe9pendants. Notre expertise nous permet d'identifier vos risques sp\xe9cifiques pour vous garantir la couverture la plus robuste. Nous s\xe9curisons votre outil de travail et vos responsabilit\xe9s \xe0 chaque \xe9tape, vous offrant la r\xe9activit\xe9 indispensable \xe0 la continuit\xe9 de votre business."),e.k0s(),e.j41(9,"div",7)(10,"button",8),e.bIt("click",function(){return n.scrollToForm()}),e.EFF(11,"Demande d'infos"),e.k0s()()(),e.j41(12,"div",9),e.nrm(13,"img",10),e.k0s()()()(),e.j41(14,"div",11)(15,"h1",12),e.EFF(16,"Demande d'informations"),e.k0s(),e.DNE(17,j,2,1,"div",13)(18,N,2,1,"div",14),e.j41(19,"form",15),e.bIt("ngSubmit",function(){return n.onSubmit()}),e.j41(20,"div",16)(21,"div")(22,"label",17),e.EFF(23,"Nom de l'entreprise *"),e.k0s(),e.nrm(24,"input",18),e.DNE(25,I,2,0,"p",19),e.k0s(),e.j41(26,"div")(27,"label",20),e.EFF(28,"Forme Juridique *"),e.k0s(),e.j41(29,"select",21)(30,"option",22),e.EFF(31,"S\xe9lectionner..."),e.k0s(),e.DNE(32,R,2,2,"option",23),e.k0s(),e.DNE(33,G,2,0,"p",19),e.k0s()(),e.j41(34,"div",16)(35,"div")(36,"label",24),e.EFF(37,"Num\xe9ro d'entreprise (BCE) *"),e.k0s(),e.nrm(38,"input",25),e.DNE(39,M,2,0,"p",19)(40,Y,2,0,"p",19),e.k0s(),e.j41(41,"div")(42,"label",26),e.EFF(43,"Num\xe9ro de TVA (Optionnel)"),e.k0s(),e.nrm(44,"input",27),e.DNE(45,q,2,0,"p",19),e.j41(46,"p",28),e.EFF(47,"Si vide, sera g\xe9n\xe9r\xe9 automatiquement (BE + BCE)."),e.k0s()()(),e.j41(48,"div",29)(49,"label",30),e.EFF(50,"Adresse *"),e.k0s(),e.j41(51,"div",31)(52,"div",32),e.nrm(53,"input",33),e.k0s(),e.j41(54,"div"),e.nrm(55,"input",34),e.k0s()()(),e.j41(56,"div",35)(57,"div"),e.nrm(58,"input",36),e.k0s(),e.j41(59,"div",32),e.nrm(60,"input",37),e.k0s()(),e.j41(61,"div",38)(62,"label",39),e.EFF(63,"Email (Optionnel)"),e.k0s(),e.nrm(64,"input",40),e.DNE(65,S,2,0,"p",19),e.k0s(),e.j41(66,"div",38)(67,"label",30),e.EFF(68,"Quels sont vos besoins ?"),e.k0s(),e.j41(69,"div",41)(70,"div",42)(71,"div",43),e.nrm(72,"input",44),e.k0s(),e.j41(73,"div",45)(74,"label",46),e.EFF(75,"Politique de voitures de soci\xe9t\xe9"),e.k0s(),e.j41(76,"p",47),e.EFF(77,"Cochez si votre entreprise poss\xe8de ou g\xe8re une flotte de v\xe9hicules."),e.k0s()()(),e.j41(78,"div",42)(79,"div",43),e.nrm(80,"input",48),e.k0s(),e.j41(81,"div",45)(82,"label",49),e.EFF(83,"Assurance Flotte Auto"),e.k0s()()(),e.j41(84,"div",42)(85,"div",43),e.nrm(86,"input",50),e.k0s(),e.j41(87,"div",45)(88,"label",51),e.EFF(89,"Assurance Locaux Professionnels"),e.k0s()()(),e.j41(90,"div",42)(91,"div",43),e.nrm(92,"input",52),e.k0s(),e.j41(93,"div",45)(94,"label",53),e.EFF(95,"Assurance RC Professionnelle"),e.k0s()()()(),e.DNE(96,$,2,0,"p",54),e.k0s(),e.j41(97,"div",55)(98,"button",56),e.DNE(99,D,3,0,"svg",57),e.EFF(100),e.k0s()()(),e.DNE(101,T,2,1,"div",13)(102,A,2,1,"div",14),e.k0s()()),2&l){let u,c,g,_,f,p,d,b,y,h,v,F,E,x,C;e.R7$(17),e.Y8G("ngIf",n.successMessage),e.R7$(),e.Y8G("ngIf",n.errorMessage),e.R7$(),e.Y8G("formGroup",n.companyForm),e.R7$(5),e.Y8G("ngClass",e.eq3(25,s,(null==(u=n.companyForm.get("name"))?null:u.invalid)&&(null==(u=n.companyForm.get("name"))?null:u.touched))),e.R7$(),e.Y8G("ngIf",(null==(c=n.companyForm.get("name"))?null:c.invalid)&&(null==(c=n.companyForm.get("name"))?null:c.touched)),e.R7$(4),e.Y8G("ngClass",e.eq3(27,s,(null==(g=n.companyForm.get("legal_form"))?null:g.invalid)&&(null==(g=n.companyForm.get("legal_form"))?null:g.touched))),e.R7$(3),e.Y8G("ngForOf",n.legalForms),e.R7$(),e.Y8G("ngIf",(null==(_=n.companyForm.get("legal_form"))?null:_.invalid)&&(null==(_=n.companyForm.get("legal_form"))?null:_.touched)),e.R7$(5),e.Y8G("ngClass",e.eq3(29,s,(null==(f=n.companyForm.get("enterprise_number"))?null:f.invalid)&&(null==(f=n.companyForm.get("enterprise_number"))?null:f.touched))),e.R7$(),e.Y8G("ngIf",(null==(p=n.companyForm.get("enterprise_number"))||null==p.errors?null:p.errors.required)&&(null==(p=n.companyForm.get("enterprise_number"))?null:p.touched)),e.R7$(),e.Y8G("ngIf",(null==(d=n.companyForm.get("enterprise_number"))||null==d.errors?null:d.errors.minlength)&&(null==(d=n.companyForm.get("enterprise_number"))?null:d.touched)),e.R7$(4),e.Y8G("ngClass",e.eq3(31,s,(null==(b=n.companyForm.get("vat_number"))?null:b.invalid)&&(null==(b=n.companyForm.get("vat_number"))?null:b.touched))),e.R7$(),e.Y8G("ngIf",(null==(y=n.companyForm.get("vat_number"))?null:y.hasError("pattern"))&&(null==(y=n.companyForm.get("vat_number"))?null:y.touched)),e.R7$(8),e.Y8G("ngClass",e.eq3(33,s,(null==(h=n.companyForm.get("street"))?null:h.invalid)&&(null==(h=n.companyForm.get("street"))?null:h.touched))),e.R7$(2),e.Y8G("ngClass",e.eq3(35,s,(null==(v=n.companyForm.get("house_number"))?null:v.invalid)&&(null==(v=n.companyForm.get("house_number"))?null:v.touched))),e.R7$(3),e.Y8G("ngClass",e.eq3(37,s,(null==(F=n.companyForm.get("postal_code"))?null:F.invalid)&&(null==(F=n.companyForm.get("postal_code"))?null:F.touched))),e.R7$(2),e.Y8G("ngClass",e.eq3(39,s,(null==(E=n.companyForm.get("city"))?null:E.invalid)&&(null==(E=n.companyForm.get("city"))?null:E.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(41,s,(null==(x=n.companyForm.get("email"))?null:x.invalid)&&(null==(x=n.companyForm.get("email"))?null:x.touched))),e.R7$(),e.Y8G("ngIf",(null==(C=n.companyForm.get("email"))?null:C.invalid)&&(null==(C=n.companyForm.get("email"))?null:C.touched)),e.R7$(31),e.Y8G("ngIf",(null==n.companyForm.errors?null:n.companyForm.errors.requireAtLeastOne)&&n.companyForm.touched),e.R7$(2),e.Y8G("disabled",n.isSubmitting),e.R7$(),e.Y8G("ngIf",n.isSubmitting),e.R7$(),e.SpI(" ",n.isSubmitting?"Enregistrement...":"Poster"," "),e.R7$(),e.Y8G("ngIf",n.successMessage),e.R7$(),e.Y8G("ngIf",n.errorMessage)}},dependencies:[m.MD,m.YU,m.Sq,m.bT,i.X1,i.qT,i.xH,i.y7,i.me,i.Zm,i.wz,i.BC,i.cb,i.j4,i.JD]})}return t})()}}]);