(self.webpackChunkassurkin=self.webpackChunkassurkin||[]).push([[792],{3583:(Je,ge,D)=>{"use strict";D.r(ge),D.d(ge,{AssurancesDetailsComponent:()=>U});var d=D(4438),L=D(177),le=D(9981),e=D(9172),A=D(7673),H=D(5558),C=D(6354),K=D(9437),se=D(1807),he=D(1364);const Q=()=>["/management"],_e=()=>({loading:!0}),De=(G,me,ue)=>({"text-green-600":G,"text-yellow-600":me,"text-red-600":ue});function be(G,me){if(1&G&&(d.j41(0,"div",9)(1,"div",10)(2,"h2",11),d.EFF(3,"Informations G\xe9n\xe9rales"),d.k0s(),d.j41(4,"p")(5,"strong"),d.EFF(6,"ID du Devis :"),d.k0s(),d.EFF(7),d.k0s(),d.j41(8,"p")(9,"strong"),d.EFF(10,"Compagnie :"),d.k0s(),d.EFF(11),d.k0s(),d.j41(12,"p")(13,"strong"),d.EFF(14,"Date de cr\xe9ation :"),d.k0s(),d.EFF(15),d.nI1(16,"date"),d.k0s(),d.j41(17,"p")(18,"strong"),d.EFF(19,"Date d'effet :"),d.k0s(),d.EFF(20),d.nI1(21,"date"),d.k0s(),d.j41(22,"p")(23,"strong"),d.EFF(24,"Statut :"),d.k0s(),d.j41(25,"span",12),d.EFF(26),d.k0s()()(),d.j41(27,"div",10)(28,"h2",11),d.EFF(29,"Preneur d'assurance"),d.k0s(),d.j41(30,"p")(31,"strong"),d.EFF(32,"Nom :"),d.k0s(),d.EFF(33),d.k0s(),d.j41(34,"p")(35,"strong"),d.EFF(36,"Email :"),d.k0s(),d.EFF(37),d.k0s(),d.j41(38,"p")(39,"strong"),d.EFF(40,"T\xe9l\xe9phone :"),d.k0s(),d.EFF(41),d.k0s(),d.j41(42,"p")(43,"strong"),d.EFF(44,"Adresse :"),d.k0s(),d.EFF(45),d.k0s()(),d.j41(46,"div",10)(47,"h2",11),d.EFF(48,"V\xe9hicule"),d.k0s(),d.j41(49,"p")(50,"strong"),d.EFF(51,"Type :"),d.k0s(),d.EFF(52),d.k0s(),d.j41(53,"p")(54,"strong"),d.EFF(55,"Marque :"),d.k0s(),d.EFF(56),d.k0s(),d.j41(57,"p")(58,"strong"),d.EFF(59,"Mod\xe8le :"),d.k0s(),d.EFF(60),d.k0s(),d.j41(61,"p")(62,"strong"),d.EFF(63,"Ann\xe9e :"),d.k0s(),d.EFF(64),d.k0s(),d.j41(65,"p")(66,"strong"),d.EFF(67,"Plaque :"),d.k0s(),d.EFF(68),d.k0s(),d.j41(69,"p")(70,"strong"),d.EFF(71,"Valeur :"),d.k0s(),d.EFF(72),d.nI1(73,"currency"),d.k0s()(),d.j41(74,"div",10)(75,"h2",11),d.EFF(76,"Couverture d'assurance"),d.k0s(),d.j41(77,"p")(78,"strong"),d.EFF(79,"Type :"),d.k0s(),d.EFF(80),d.k0s(),d.j41(81,"p")(82,"strong"),d.EFF(83,"RC de base :"),d.k0s(),d.EFF(84),d.k0s(),d.j41(85,"p")(86,"strong"),d.EFF(87,"Assistance :"),d.k0s(),d.EFF(88),d.k0s(),d.j41(89,"p")(90,"strong"),d.EFF(91,"Protection du conducteur :"),d.k0s(),d.EFF(92),d.k0s(),d.j41(93,"p")(94,"strong"),d.EFF(95,"Omnium :"),d.k0s(),d.EFF(96),d.k0s()()()),2&G){const ue=me.ngIf;d.R7$(7),d.SpI(" ",null==ue.details?null:ue.details.id,""),d.R7$(4),d.SpI(" ",ue.compagnie_nom,""),d.R7$(4),d.SpI(" ",d.i5U(16,24,null==ue.details?null:ue.details.created_at,"dd/MM/yyyy HH:mm"),""),d.R7$(5),d.SpI(" ",d.i5U(21,27,null==ue.details?null:ue.details.date_effet,"dd/MM/yyyy"),""),d.R7$(5),d.Y8G("ngClass",d.sMw(34,De,"Accept\xe9"===(null==ue.details?null:ue.details.statut),"En cours de traitement"===(null==ue.details?null:ue.details.statut),"Refus\xe9"===(null==ue.details?null:ue.details.statut))),d.R7$(),d.JRh(null==ue.details?null:ue.details.statut),d.R7$(7),d.Lme(" ",null==ue.preneur?null:ue.preneur.prenom," ",null==ue.preneur?null:ue.preneur.nom,""),d.R7$(4),d.SpI(" ",null==ue.preneur?null:ue.preneur.email,""),d.R7$(4),d.SpI(" ",null==ue.preneur?null:ue.preneur.telephone,""),d.R7$(4),d.E5c(" ",null==ue.preneur?null:ue.preneur.adresse,", ",null==ue.preneur?null:ue.preneur.code_postal," ",null==ue.preneur?null:ue.preneur.ville,""),d.R7$(7),d.SpI(" ",null==ue.vehicule?null:ue.vehicule.type,""),d.R7$(4),d.SpI(" ",null==ue.vehicule?null:ue.vehicule.marque,""),d.R7$(4),d.SpI(" ",null==ue.vehicule?null:ue.vehicule.modele,""),d.R7$(4),d.SpI(" ",null==ue.vehicule?null:ue.vehicule.annee,""),d.R7$(4),d.SpI(" ",null==ue.vehicule?null:ue.vehicule.plaque,""),d.R7$(4),d.SpI(" ",d.brH(73,30,null==ue.vehicule?null:ue.vehicule.valeur,"EUR","symbol"),""),d.R7$(8),d.SpI(" ",ue.type,""),d.R7$(4),d.SpI(" ",null!=ue.details&&ue.details.garantie_base_rc?"Oui":"Non",""),d.R7$(4),d.SpI(" ",null!=ue.details&&ue.details.garantie_assistance?"Oui":"Non",""),d.R7$(4),d.SpI(" ",null!=ue.details&&ue.details.garantie_conducteur?"Oui":"Non",""),d.R7$(4),d.SpI(" ",(null==ue.details?null:ue.details.garantie_omnium_niveau)||"Aucune","")}}function je(G,me){1&G&&(d.j41(0,"div",13),d.EFF(1," Aucun d\xe9tail trouv\xe9 pour ce devis. "),d.k0s())}function ne(G,me){if(1&G&&(d.j41(0,"div",6),d.DNE(1,be,97,38,"div",7)(2,je,2,0,"div",8),d.k0s()),2&G){const ue=me.$implicit;d.R7$(),d.Y8G("ngIf",ue.data),d.R7$(),d.Y8G("ngIf",!ue.data)}}let U=(()=>{class G{route=(0,d.WQX)(le.nX);dbConnectService=(0,d.WQX)(se.y);devisState$;ngOnInit(){this.devisState$=this.route.paramMap.pipe((0,H.n)(ue=>this.getDevisData(ue)),(0,C.T)(ue=>{const Ee=Array.isArray(ue)?ue[0]:ue;return console.log("[AssurancesDetailsComponent] Donn\xe9es du devis re\xe7ues et extraites:",Ee),{loading:!1,data:Ee}}),(0,e.Z)({loading:!0}),(0,K.W)(ue=>{console.error("[AssurancesDetailsComponent] Erreur dans le chargement des d\xe9tails du devis:",ue);const Ee=ue instanceof Error?ue.message:"Une erreur inconnue est survenue.";return(0,A.of)({loading:!1,error:Ee})}))}getDevisData(ue){const Ee=Number(ue.get("id"));if(isNaN(Ee))throw new Error("ID de devis invalide.");return console.log(`[AssurancesDetailsComponent] Calling Supabase function for devisId: ${Ee}`),this.dbConnectService.getFullQuoteDetails(Ee)}static \u0275fac=function(Ee){return new(Ee||G)};static \u0275cmp=d.VBU({type:G,selectors:[["app-assurances-details"]],standalone:!0,features:[d.aNF],decls:10,vars:6,consts:[["dataTemplate",""],[1,"container","mx-auto","p-4"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-3xl","font-bold","text-gray-800"],[1,"bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded","transition","duration-300",3,"routerLink"],[3,"state"],[1,"bg-white","shadow-lg","rounded-lg","p-6"],["class","grid grid-cols-1 md:grid-cols-2 gap-6",4,"ngIf"],["class","text-center text-gray-500 mt-8",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"p-4","border","rounded-lg"],[1,"text-xl","font-semibold","text-gray-700","mb-4"],[1,"font-medium",3,"ngClass"],[1,"text-center","text-gray-500","mt-8"]],template:function(Ee,ve){1&Ee&&(d.j41(0,"div",1)(1,"div",2)(2,"h1",3),d.EFF(3,"D\xe9tails du Devis"),d.k0s(),d.j41(4,"a",4),d.EFF(5," Retour \xe0 la liste "),d.k0s()(),d.j41(6,"app-state-container",5),d.nI1(7,"async"),d.DNE(8,ne,3,2,"ng-template",null,0,d.C5r),d.k0s()()),2&Ee&&(d.R7$(4),d.Y8G("routerLink",d.lJ4(4,Q)),d.R7$(2),d.Y8G("state",d.bMT(7,2,ve.devisState$)||d.lJ4(5,_e)))},dependencies:[L.MD,L.YU,L.bT,L.Jj,L.oe,L.vh,le.Wk,he.Y]})}return G})()},9499:(Je,ge,D)=>{"use strict";D.d(ge,{u:()=>je});var d=D(4438),L=D(4412),le=D(6354),e=D(6648),A=D(177);function Q(ne,U){const G=!U?.manualCleanup;G&&!U?.injector&&(0,d.Af3)(Q);const me=G?U?.injector?.get(d.abz)??(0,d.WQX)(d.abz):null,ue=function _e(ne=Object.is){return(U,G)=>1===U.kind&&1===G.kind&&ne(U.value,G.value)}(U?.equal);let Ee;Ee=(0,d.vPA)(U?.requireSync?{kind:0}:{kind:1,value:U?.initialValue},{equal:ue});const ve=ne.subscribe({next:Pe=>Ee.set({kind:1,value:Pe}),error:Pe=>{if(U?.rejectErrors)throw Pe;Ee.set({kind:2,error:Pe})}});if(U?.requireSync&&0===Ee().kind)throw new d.wOt(601,!1);return me?.onDestroy(ve.unsubscribe.bind(ve)),(0,d.EWP)(()=>{const Pe=Ee();switch(Pe.kind){case 1:return Pe.value;case 2:throw Pe.error;case 0:throw new d.wOt(601,!1)}},{equal:U?.equal})}var De=D(5312),be=D(9692);let je=(()=>{class ne{supabaseService;platformId=(0,d.WQX)(d.Agw);_currentUser$=new L.t(null);currentUser$=this._currentUser$.asObservable();isAuthenticated=Q(this.currentUser$.pipe((0,le.T)(G=>!!G)),{initialValue:!1});authSubscription=null;constructor(G){if(this.supabaseService=G,(0,A.UE)(this.platformId)){this.supabaseService.supabase.auth.getSession().then(({data:ue})=>{this._currentUser$.next(ue.session?.user??null)});const{data:{subscription:me}}=this.supabaseService.supabase.auth.onAuthStateChange((ue,Ee)=>{this._currentUser$.next(Ee?.user??null)});this.authSubscription=me}}ngOnDestroy(){this.authSubscription&&this.authSubscription.unsubscribe()}signIn(G){return(0,e.H)(this.supabaseService.supabase.auth.signInWithPassword(G))}getSession(){return this.supabaseService.supabase.auth.getSession()}signOut(){return(0,e.H)(this.supabaseService.supabase.auth.signOut())}sendPasswordResetEmail(G){const me=(0,A.UE)(this.platformId)?`${window.location.origin}/update-password`:`${De.c.website}/update-password`;return(0,e.H)(this.supabaseService.supabase.functions.invoke("reset-password-email",{body:{email:G,redirectTo:me}})).pipe((0,le.T)(ue=>(ue.error&&console.error("Erreur Edge Function d\xe9taill\xe9e:",ue.error),ue)))}updatePassword(G){return(0,e.H)(this.supabaseService.supabase.auth.updateUser({password:G}))}static \u0275fac=function(me){return new(me||ne)(d.KVO(be.w))};static \u0275prov=d.jDH({token:ne,factory:ne.\u0275fac,providedIn:"root"})}return ne})()},324:(Je,ge,D)=>{"use strict";D.d(ge,{y:()=>A});var d=D(4438),L=D(9692),le=D(6648),e=D(6354);let A=(()=>{class H{supabase=(0,d.WQX)(L.w);saveContractData(K){return console.log("Envoi des donn\xe9es du contrat \xe0 Supabase:",K),(0,le.H)(this.supabase.supabase.from("contrats").insert([K]).select().single())}getQuoteTypeId(K){return{auto:1,habitation:2,obseques:3,rc:4,voyage:5}[K.toLowerCase()]||0}getContractFiles(K,se){return(0,le.H)(this.supabase.supabase.from("uploaded_files").select("path, file_name, raisons,date_created").eq("id_quote",K).eq("id_type",this.getQuoteTypeId(se))).pipe((0,e.T)(he=>he.error?(console.error("Erreur lors de la r\xe9cup\xe9ration des fichiers:",he.error),[]):he.data||[]))}addContractFile(K,se,he,Q,_e,De){const be={id_quote:K,id_type:this.getQuoteTypeId(se),user_id:De,path:he,file_name:Q,raisons:_e};return(0,le.H)(this.supabase.supabase.from("uploaded_files").insert(be)).pipe((0,e.T)(je=>{if(je&&je.error)throw console.error("Erreur lors de l'insertion de la r\xe9f\xe9rence du fichier:",je.error),je.error}))}static \u0275fac=function(se){return new(se||H)};static \u0275prov=d.jDH({token:H,factory:H.\u0275fac,providedIn:"root"})}return H})()},1807:(Je,ge,D)=>{"use strict";D.d(ge,{y:()=>be});var d=D(467),L=D(1626),le=D(1413),e=D(6648),A=D(9030),H=D(7673),C=D(6354),K=D(5558),se=D(9437),he=D(253),Q=D(5312),_e=D(4438),De=D(9692);let be=(()=>{class je{supabase;http;nationalities$=null;onNewQuote$=new le.B;realtimeInitialized=!1;constructor(U,G){this.supabase=U,this.http=G}saveContactForm(U){return(0,e.H)(this.supabase.insertData("contact_submissions",U))}saveMessage(U){var G=this;return(0,d.A)(function*(){const{error:me}=yield G.supabase.supabase.from("messages").insert([U]);me&&console.error("Erreur lors de la sauvegarde du message:",me)})()}saveCommission(U){return(0,e.H)(this.supabase.supabase.from("commissions").insert(U).select().single()).pipe((0,C.T)(G=>{if(G.error)throw G.error;return G.data}))}getAllCommissions(U){let G=this.supabase.supabase.from("commissions").select("*").order("created_at",{ascending:!1});return U&&(G=G.eq("quote_type",U)),(0,e.H)(G).pipe((0,C.T)(me=>{if(me.error)throw me.error;return me.data||[]}))}createFullDevis(U){var G=this;return console.log("[createFullDevis] Donn\xe9es du formulaire re\xe7ues :",U),(0,A.v)((0,d.A)(function*(){console.log("[createFullDevis] \xc9tape 1: Recherche ou cr\xe9ation du preneur...");const me=yield G.findOrCreatePerson(U.preneur);console.log("[createFullDevis] R\xe9sultat pour le preneur :",me),console.log("[createFullDevis] \xc9tape 2: Traitement du conducteur...");let ue=null;if(U.conducteurDifferent){const{data:Xe,error:Ve}=yield G.supabase.supabase.from("personnes").insert(U.conducteur).select().single();if(Ve)throw console.error("[createFullDevis] Erreur lors de l'insertion du conducteur :",Ve),Ve;ue=Xe}else console.log("[createFullDevis] Le conducteur est le m\xeame que le preneur."),ue=me;console.log("[createFullDevis] R\xe9sultat pour le conducteur :",ue),console.log("[createFullDevis] \xc9tape 3: Insertion du v\xe9hicule...");const{data:Ee,error:ve}=yield G.supabase.supabase.from("vehicules").insert({type:U.vehicule.type,marque:U.vehicule.marque,modele:U.vehicule.modele,puissance_kw:U.vehicule.puissance,places:U.vehicule.places,date_circulation:U.vehicule.dateCirculation,valeur:U.vehicule.valeur}).select().single();if(ve)throw console.error("[createFullDevis] Erreur lors de l'insertion du v\xe9hicule :",ve),ve;if(console.log("[createFullDevis] V\xe9hicule ins\xe9r\xe9 :",Ee),!ue||!Ee)throw new Error("Could not create driver or vehicle.");console.log("[createFullDevis] \xc9tape 4: Insertion du devis...");const{data:Pe,error:ot}=yield G.supabase.supabase.from("devis_assurance").insert({preneur_id:me.id,conducteur_id:ue.id,vehicule_id:Ee.id,garantie_base_rc:U.garanties.base,garantie_omnium_niveau:U.garanties.omnium,garantie_conducteur:U.garanties.conducteur,garantie_assistance:U.garanties.assistance,date_effet:U.dateEffet}).select().single();if(ot)throw console.error("[createFullDevis] Erreur lors de l'insertion du devis :",ot),ot;return console.log("Devis cr\xe9\xe9 avec succ\xe8s:",Pe),Pe}))}createCorporateAccount(U){return(0,e.H)(this.supabase.supabase.auth.signUp({email:U.email,password:U.password,options:{data:{nom:U.nom,prenom:U.prenom,fonction:U.fonction}}})).pipe((0,K.n)(({data:G,error:me})=>{if(me)throw me;if(!G.user)throw new Error("Erreur: Utilisateur non cr\xe9\xe9.");const ue={user_id:G.user.id,nom:U.nom,prenom:U.prenom,email:U.email};return(0,e.H)(this.supabase.supabase.from("personnes").insert(ue).select().single())}),(0,C.T)(G=>{if(G.error)throw G.error;return{data:G.data,error:null}}))}saveHabitationForm(U){return(0,e.H)(this.supabase.insertData("habitation_quotes",U))}createHabitationQuote(U){var G=this;return(0,A.v)((0,d.A)(function*(){const ue={preneur_id:(yield G.findOrCreatePerson({...U.preneur,adresse:U.batiment.adresse,code_postal:U.batiment.codePostal,ville:U.batiment.ville})).id,batiment_adresse:U.batiment.adresse,batiment_code_postal:U.batiment.codePostal,batiment_ville:U.batiment.ville,batiment_type_maison:U.batiment.typeMaison,evaluation_type_valeur_batiment:U.evaluation.valeurBatiment,evaluation_superficie:U.evaluation.superficie,evaluation_nombre_pieces:U.evaluation.nombrePieces,evaluation_loyer_mensuel:U.evaluation.loyer,evaluation_type_valeur_contenu:U.evaluation.valeurContenu,evaluation_valeur_expertise:U.evaluation.valeurExpertise,evaluation_date_expertise:U.evaluation.dateExpertise?`${U.evaluation.dateExpertise}-01`:null,evaluation_valeur_libre_contenu:U.evaluation.evaluation_valeur_libre_contenu,garantie_contenu:U.garanties.contenu,garantie_vol:U.garanties.vol,garantie_pertes_indirectes:U.garanties.pertesIndirectes,garantie_protection_juridique:U.garanties.protectionJuridique,garantie_assistance:U.garanties.assistance,date_effet:U.dateEffet},{data:Ee,error:ve}=yield G.supabase.insertData("habitation_quotes",ue);if(ve)throw ve;return Ee}))}saveRcForm(U){return(0,e.H)(this.supabase.insertData("rc_familiale_quotes",U))}saveVoyageForm(U){return(0,e.H)(this.supabase.insertData("assu_voyage",U))}saveObsequesForm(U){return this.createObsequesQuote(U)}createObsequesQuote(U){var G=this;return(0,A.v)((0,d.A)(function*(){const ue={preneur_id:(yield G.findOrCreatePerson({...U.preneur,date_naissance:U.preneur.dateNaissance,code_postal:U.preneur.codePostal})).id,nombre_assures:U.nombreAssures,preneur_est_assure:U.preneurEstAssure,assures:U.assures},{data:Ee,error:ve}=yield G.supabase.insertData("obseques_quotes",ue);if(ve)throw ve;return Ee}))}saveInfoRequestForm(U,G){return(0,e.H)(this.supabase.insertData("voyage"===G?"info_requests":"juridique_form",U))}getPostalCodes(U){const G=this.supabase.supabase.from("code_postal_belge").select("postal, name").like("postal",`${U}%`).limit(10);return(0,e.H)(G).pipe((0,C.T)(me=>(me.data||[]).map(ue=>({postalCode:ue.postal,city:ue.name}))))}getVilles(U){const G=this.supabase.supabase.from("code_postal_belge").select("postal, name").ilike("name",`${U}%`).limit(10);return(0,e.H)(G).pipe((0,C.T)(me=>(me.data||[]).map(Ee=>({postalCode:Ee.postal,city:Ee.name}))))}getCitiesByPostalCode(U){return(0,e.H)(this.supabase.supabase.from("code_postal_belge").select("name").eq("postal",U)).pipe((0,C.T)(G=>{if(G.error)throw G.error;return(G.data||[]).map(ue=>ue.name)}),(0,se.W)(G=>(console.error("Erreur lors de la r\xe9cup\xe9ration des villes par code postal:",G),(0,H.of)([]))))}searchMarques(U){return(0,e.H)(this.supabase.supabase.from("marques").select("marque_id:id, nom").ilike("nom",`${U}%`).limit(10)).pipe((0,C.T)(G=>(G.data||[]).map(ue=>({marque_id:ue.marque_id,nom:ue.nom}))))}searchModeles(U,G){let me=this.supabase.supabase.from("modeles").select("marque_id, nom").eq("marque_id",U).order("nom",{ascending:!0});return G&&(me=me.ilike("nom",`${G}%`).limit(10)),(0,e.H)(me).pipe((0,C.T)(ue=>(ue.data||[]).map(ve=>({marque_id:ve.marque_id,nom:ve.nom}))))}searchAssureurs(U){return(0,e.H)(this.supabase.supabase.from("assureurs_belges").select("id, nom_assureur").ilike("nom_assureur",`${U}%`).order("nom_assureur",{ascending:!0}).limit(10)).pipe((0,C.T)(G=>(console.log("Compagnies d'assurance re\xe7ues:",G.data),(G.data||[]).map(ue=>({id:ue.id,nom:ue.nom_assureur})))))}getInsurerById(U){return(0,e.H)(this.supabase.supabase.from("assureurs_belges").select("id, nom_assureur").eq("id",U).single()).pipe((0,C.T)(G=>{if(G.error||!G.data)throw console.error(`Erreur lors de la r\xe9cup\xe9ration de l'assureur avec l'ID ${U}:`,G.error),G.error||new Error(`Aucun assureur trouv\xe9 pour l'ID ${U}`);return{id:G.data.id,nom:G.data.nom_assureur}}))}getAllAssureurs(){return(0,e.H)(this.supabase.supabase.from("assureurs_belges").select("id, nom_assureur").order("nom_assureur",{ascending:!0})).pipe((0,C.T)(U=>(U.data||[]).map(me=>({id:me.id,nom:me.nom_assureur}))))}getAllStatuts(){return(0,e.H)(this.supabase.supabase.from("statut").select("id, statut").order("statut",{ascending:!0})).pipe((0,C.T)(U=>{if(U.error)throw console.error("Erreur lors de la r\xe9cup\xe9ration des statuts:",U.error),U.error;return console.log("Statuts r\xe9cup\xe9r\xe9s depuis Supabase:",U.data),U.data||[]}))}getAllMaritalStatuses(){return(0,e.H)(this.supabase.supabase.from("marital_statut").select("id, label").order("id",{ascending:!0})).pipe((0,C.T)(U=>{if(U.error)throw console.error("Erreur lors de la r\xe9cup\xe9ration des statuts matrimoniaux:",U.error),U.error;return console.log("Statuts matrimoniaux r\xe9cup\xe9r\xe9s depuis Supabase:",U.data),U.data||[]}))}getContracts(U,G){return"auto"===G?(0,e.H)(this.supabase.supabase.from("devis_assurance").select("\n            id,\n            date_effet,\n            statut,\n            vehicules ( marque, modele )\n          ").eq("preneur_id",U)).pipe((0,C.T)(me=>{if(me.error)throw me.error;return(me.data||[]).map(ue=>({id:ue.id,categorie:"Auto",denomination:`${ue.vehicules.marque} ${ue.vehicules.modele}`,date_contract:ue.date_effet,date_validite:ue.date_effet,date_terme:"",statut:ue.statut||"Devis en attente"}))})):"habitation"===G?(0,e.H)(this.supabase.supabase.from("habitation_quotes").select("\n            id,\n            date_effet,\n            statut,\n            batiment_type_maison, \n            batiment_adresse\n          ").eq("preneur_id",U)).pipe((0,C.T)(me=>{if(me.error)throw me.error;return console.log("Donn\xe9es brutes des devis habitation:",me.data),(me.data||[]).map(ue=>({id:ue.id,categorie:"Habitation",denomination:ue.batiment_adresse?`${ue.batiment_type_maison} - ${ue.batiment_adresse}`:ue.batiment_type_maison,date_contract:ue.date_effet,date_validite:ue.date_effet,date_terme:"",statut:ue.statut||"Devis en attente"}))})):"obseques"===G?(0,e.H)(this.supabase.supabase.from("obseques_quotes").select("\n            id,\n            created_at,\n            nombre_assures\n          ").eq("preneur_id",U)).pipe((0,C.T)(me=>{if(me.error)throw me.error;return(me.data||[]).map(ue=>({id:ue.id,categorie:"Obs\xe8ques",denomination:`Devis pour ${ue.nombre_assures} personne(s)`,date_contract:ue.created_at,date_validite:ue.created_at,date_terme:"",statut:"Devis en attente"}))})):(0,e.H)(this.supabase.supabase.from("contracts").select("*").eq("preneur_id",U).eq("categorie",G)).pipe((0,C.T)(me=>me.data||[]))}getDocuments(U){return(0,e.H)(this.supabase.supabase.from("uploaded_files").select("*").eq("user_id",U).order("date_created",{ascending:!1})).pipe((0,C.T)(G=>{if(G.error)throw console.error("Erreur lors de la r\xe9cup\xe9ration des documents :",G.error),G.error;return G.data||[]}))}uploadDocument(U,G,me,ue,Ee){const ve=me,Pe=Ee||Q.c.storage_bucket_clients,ot=U.name.replace(/[^a-zA-Z0-9._-]/g,"_"),Xe=`${ve}/${Date.now()}_${ot}`,Ve=new FormData;Ve.append("file",U);const Ye=new L.Lr({apikey:Q.c.supabaseKey,Authorization:`Bearer ${Q.c.supabaseKey}`});return this.http.post(`${Q.c.supabaseUrl}/storage/v1/object/${Pe}/${Xe}`,Ve,{headers:Ye}).pipe((0,K.n)(()=>{const Qe={file_name:U.name,path:Xe,user_id:G,status:"En attente",date_created:(new Date).toISOString(),id_type:ue};return(0,e.H)(this.supabase.insertData("uploaded_files",Qe))}),(0,C.T)(Qe=>{if(Qe.error)throw Qe.error;return Qe.data}))}deleteDocument(U,G,me){return(0,e.H)(this.supabase.supabase.storage.from(me).remove([G])).pipe((0,K.n)(ue=>{if(ue.error)throw ue.error;return(0,e.H)(this.supabase.supabase.from("uploaded_files").delete().eq("id",U))}),(0,C.T)(ue=>{if(ue.error)throw ue.error}))}checkEmailExists(U){return(0,e.H)(this.supabase.supabase.from("personnes").select("id",{count:"exact",head:!0}).eq("email",U)).pipe((0,C.T)(G=>(G.count??0)>0),(0,se.W)(G=>{throw console.error("Critical DB Error checking email:",G),G}))}checkPermisExists(U){return(0,e.H)(this.supabase.supabase.from("personnes").select("permis_numero",{count:"exact",head:!0}).eq("permis_numero",U)).pipe((0,C.T)(G=>(G.count??0)>0),(0,se.W)(G=>(console.error("Erreur lors de la v\xe9rification du permis:",G),(0,H.of)(!1))))}createUser(U){return(0,e.H)(this.supabase.supabase.auth.signUp({email:U.email,password:U.password})).pipe((0,K.n)(({data:G,error:me})=>{if(me)throw me;if(!G.user)throw new Error("La cr\xe9ation de l'utilisateur a \xe9chou\xe9, aucun utilisateur retourn\xe9.");const ue={user_id:G.user.id,nom:U.nom,prenom:U.prenom,email:U.email,telephone:U.telephone,adresse:U.adresse,code_postal:U.codePostal,ville:U.ville,date_naissance:U.dateNaissance,permis_numero:U.permis,permis_date:U.datePermis,genre:U.genre};return(0,e.H)(this.supabase.supabase.from("personnes").insert(ue).select().single()).pipe((0,K.n)(Ee=>{if(Ee.error)throw Ee.error;return this.createUserStorageFolder(G.user.id).pipe((0,C.T)(()=>Ee))}))}))}getPersonByUserId(U){return(0,e.H)(this.supabase.supabase.from("personnes").select("*").eq("user_id",U).single()).pipe((0,C.T)(G=>G.data))}getPeopleWithAccounts(){return(0,e.H)(this.supabase.supabase.from("personnes").select("*").not("user_id","is",null).order("nom",{ascending:!0})).pipe((0,C.T)(U=>{if(U.error)throw console.error("Erreur lors de la r\xe9cup\xe9ration des personnes avec compte:",U.error),U.error;return U.data||[]}))}getPersonByEmail(U){return(0,e.H)(this.supabase.supabase.from("personnes").select("*").eq("email",U).single()).pipe((0,C.T)(G=>(G.error&&"PGRST116"!==G.error.code&&console.error("Erreur lors de la r\xe9cup\xe9ration de la personne par email:",G.error),G.data)))}linkUserToPerson(U,G){return this.getPersonByEmail(G).pipe((0,K.n)(me=>{if(!me)return(0,H.of)(null);const ue=me.user_id!==U?this.supabase.supabase.from("personnes").update({user_id:U}).eq("id",me.id):Promise.resolve();return(0,e.H)(ue).pipe((0,K.n)(()=>!0===me.folder_id?(0,H.of)({status:"folder_exists"}):this.createUserStorageFolder(U).pipe((0,K.n)(()=>(0,e.H)(this.supabase.supabase.from("personnes").update({folder_id:!0}).eq("id",me.id))))))}))}getDevisDetails(U){return console.log(`[DbConnectService] R\xe9cup\xe9ration des d\xe9tails du devis auto pour l'ID: ${U}`),(0,e.H)(this.supabase.supabase.from("devis_assurance").select("\n          *,\n          preneur:personnes!devis_assurance_preneur_id_fkey(*),\n          conducteur:personnes!devis_assurance_conducteur_id_fkey(*),\n          vehicule:vehicules(*)\n        ").eq("id",U).single()).pipe((0,C.T)(G=>{if(G.error)throw G.error;return G.data}))}getHabitationQuoteDetails(U){return console.log(`[DbConnectService] R\xe9cup\xe9ration des d\xe9tails du devis habitation pour l'ID: ${U}`),(0,e.H)(this.supabase.supabase.from("habitation_quotes").select("\n          *, \n          preneur:personnes!habitation_quotes_preneur_id_fkey(*)\n        ").eq("id",U).single()).pipe((0,C.T)(G=>{if(G.error)throw G.error;return G.data}))}getObsequesQuoteDetails(U){return console.log(`[DbConnectService] R\xe9cup\xe9ration des d\xe9tails du devis obs\xe8ques pour l'ID: ${U}`),(0,e.H)(this.supabase.supabase.from("obseques_quotes").select("\n          *,\n          preneur:personnes!obseques_quotes_preneur_id_fkey(*)\n        ").eq("id",U).single()).pipe((0,C.T)(G=>{if(G.error)throw G.error;return console.log(`[DbConnectService] D\xe9tails du devis obs\xe8ques re\xe7us pour l'ID ${U}:`,G.data),G.data}))}getVoyageQuoteDetails(U){return(0,e.H)(this.supabase.supabase.from("assu_voyage").select("*").eq("id",U).single()).pipe((0,C.T)(G=>{if(G.error)throw G.error;return G.data}))}getRcQuoteDetails(U){return(0,e.H)(this.supabase.supabase.from("rc_familiale_quotes").select("*").eq("id",U).single()).pipe((0,C.T)(G=>{if(G.error)throw G.error;return G.data}))}createUserStorageFolder(U){const G=U.substring(0,8),me=Q.c.storage_bucket_clients,Ee=`${G}/.emptyFolderPlaceholder`;return(0,e.H)(this.supabase.supabase.storage.from(me).list(G)).pipe((0,K.n)(ve=>ve.data&&ve.data.length>0?(0,H.of)({data:ve.data,error:null}):(0,e.H)(this.supabase.supabase.storage.from(me).upload(Ee,new Blob([""]),{cacheControl:"3600",upsert:!1}))),(0,C.T)(ve=>(ve.error&&console.error(`Erreur lors de la cr\xe9ation du dossier de stockage pour ${U}:`,ve.error),ve)))}getAllAutoQuotes(U,G,me){const ue=(G-1)*me,Ee=ue+me-1;let ve=this.supabase.supabase.from("devis_assurance").select("\n          id,\n          created_at,\n          preneur_id,\n          conducteur_id,\n          statut,\n          preneur:personnes!devis_assurance_preneur_id_fkey ( nom, prenom, uid ),\n          vehicules ( type, marque, modele, annee )\n        ",{count:"exact"}).order("created_at",{ascending:!1}).range(ue,Ee);if(U){const Pe=`%${U}%`;ve=ve.or(`nom.ilike.${Pe},prenom.ilike.${Pe}`,{foreignTable:"preneur"})}return(0,e.H)(ve).pipe((0,C.T)(Pe=>({data:Pe.data||[],count:Pe.count})))}getAllHabitationQuotes(U,G,me){const ue=(G-1)*me,Ee=ue+me-1;let ve=this.supabase.supabase.from("habitation_quotes").select("\n          id,\n          created_at,\n          preneur_id,\n          statut,\n          batiment_adresse,\n          batiment_type_maison,\n          preneur:personnes!habitation_quotes_preneur_id_fkey ( nom, prenom, uid )\n        ",{count:"exact"}).order("created_at",{ascending:!1}).range(ue,Ee);if(U){const Pe=`%${U}%`;ve=ve.or(`nom.ilike.${Pe},prenom.ilike.${Pe}`,{foreignTable:"preneur"})}return(0,e.H)(ve).pipe((0,C.T)(Pe=>({data:Pe.data||[],count:Pe.count})))}getAllObsequesQuotes(U,G,me){const ue=(G-1)*me,Ee=ue+me-1;let ve=this.supabase.supabase.from("obseques_quotes").select("id, created_at, statut, nombre_assures, preneur_id, preneur:personnes!obseques_quotes_preneur_id_fkey ( nom, prenom, uid )",{count:"exact"}).order("created_at",{ascending:!1}).range(ue,Ee);if(U){const Pe=`%${U}%`;ve=ve.or(`nom.ilike.${Pe},prenom.ilike.${Pe}`,{foreignTable:"preneur"})}return(0,e.H)(ve).pipe((0,C.T)(Pe=>({data:Pe.data||[],count:Pe.count})))}getAllVoyageQuotes(){const U=this.supabase.supabase.from("assu_voyage").select("\n          id,\n          date_created,\n          preneur_id,\n          statut,\n          nom,\n          prenom,\n          description\n        ").order("date_created",{ascending:!1});return(0,e.H)(U).pipe((0,C.T)(G=>{if(G.error)throw G.error;return G.data||[]}))}getAllRcQuotes(){const U=this.supabase.supabase.from("rc_familiale_quotes").select("\n          id,\n          created_at,\n          preneur_id,\n          preneur_nom,\n          preneur_prenom,\n          risque\n        ").order("created_at",{ascending:!1});return(0,e.H)(U).pipe((0,C.T)(G=>{if(G.error)throw G.error;return G.data||[]}))}getRecentAutoQuotes(U){const G=this.supabase.supabase.from("devis_assurance").select("\n          id,\n          created_at,\n          preneur_id,\n          statut,\n          preneur:personnes!devis_assurance_preneur_id_fkey ( nom, prenom )\n        ").order("created_at",{ascending:!1}).limit(U);return(0,e.H)(G).pipe((0,C.T)(me=>{if(me.error)throw me.error;return console.log("[DbConnectService] Recent auto quotes fetched:",me.data),me.data||[]}))}getRecentHabitationQuotes(U){const G=this.supabase.supabase.from("habitation_quotes").select("\n          id,\n          created_at,\n          preneur_id,\n          statut,\n          preneur:personnes!habitation_quotes_preneur_id_fkey ( nom, prenom )\n        ").order("created_at",{ascending:!1}).limit(U);return(0,e.H)(G).pipe((0,C.T)(me=>{if(me.error)throw console.error("Erreur lors de la r\xe9cup\xe9ration des devis habitation r\xe9cents:",me.error),me.error;return me.data||[]}))}getAutoPolicies(U){const G=this.supabase.supabase.from("polices_auto").select("\n          id,\n          numero_police,\n          date_debut,\n          date_fin,\n          statut,\n          preneur:personnes ( nom, prenom )\n        ").order("created_at",{ascending:!1}).limit(U);return(0,e.H)(G).pipe((0,C.T)(me=>{if(me.error)throw me.error;return me.data||[]}))}getNationalities(){if(!this.nationalities$){const U=this.supabase.supabase.from("nationalities").select("*").order("nationality",{ascending:!0});this.nationalities$=(0,e.H)(U).pipe((0,C.T)(G=>G.data||[]),(0,he.t)(1))}return this.nationalities$}getQuoteDetails(U,G){switch(U){case"auto":return this.getDevisDetails(G);case"habitation":return this.getHabitationQuoteDetails(G);case"obseques":return this.getObsequesQuoteDetails(G);case"voyage":return this.getVoyageQuoteDetails(G);case"rc":return this.getRcQuoteDetails(G);default:return console.error(`Type de devis inconnu dans getQuoteDetails: ${U}`),(0,H.of)(null)}}getQuoteCategoryById(U){return(0,e.H)(this.supabase.supabase.rpc("get_quote_category_by_id",{p_quote_id:U})).pipe((0,C.T)(G=>{if(G.error)throw console.warn(`[DbConnectService] Erreur 500 probable dans 'getQuoteCategoryById' pour l'ID ${U}.`,"Erreur RPC Supabase:",G.error),G.error;return G.data?G.data:null}),(0,se.W)(G=>(console.error("Erreur dans le pipe de getQuoteCategoryById:",G),console.warn(`[DbConnectService] 'getQuoteCategoryById' a \xe9chou\xe9 pour l'ID ${U}.`),(0,H.of)(null))))}updateAutoQuote(U,G){const ue=this.supabase.supabase.rpc("update_auto_quote_details",{p_quote_id:U,p_vehicule_data:{marque:G.p_vehicule.make,modele:G.p_vehicule.model,annee:G.p_vehicule.year,plaque:G.p_vehicule.licensePlate,puissance_kw:G.p_vehicule.power,places:G.p_vehicule.seats,valeur:G.p_vehicule.value,date_circulation:G.p_vehicule.registrationDate},p_devis_data:G.p_devis}).then(({data:Ee,error:ve})=>ve?(console.warn(`[DbConnectService] Erreur 500 probable dans 'updateAutoQuote' pour l'ID ${U}.`,"Erreur RPC Supabase:",ve),console.error("Erreur RPC update_auto_quote_details:",ve),{success:!1,error:ve}):{success:!0,data:Ee});return(0,e.H)(ue)}updateObsequesQuote(U,G){const me={p_quote_id:U,p_preneur_data:G.preneur,p_devis_data:{nombre_assures:G.devis.nombre_assures,preneur_est_assure:G.devis.preneur_est_assure,assures:G.devis.assures,statut:G.devis.statut,compagnie_id:G.devis.compagnie_id}};console.log("[DbConnectService] updateObsequesQuote payload:",me);const ue=this.supabase.supabase.rpc("update_obseques_quote",me).then(({data:Ee,error:ve})=>ve?(console.error(`[DbConnectService] Erreur RPC dans 'updateObsequesQuote' pour l'ID ${U}.`,ve),console.log("[DbConnectService] updateObsequesQuote payload:",me),{success:!1,error:ve}):{success:!0,data:Ee});return(0,e.H)(ue)}updateHabitationQuote(U,G){const ue=this.supabase.supabase.rpc("update_habitation_quote_details",{p_quote_id:U,p_devis_data:{batiment_adresse:G.p_devis.batiment_adresse,batiment_code_postal:G.p_devis.batiment_code_postal,batiment_ville:G.p_devis.batiment_ville,batiment_type_maison:G.p_devis.batiment_type_maison,evaluation_superficie:G.p_devis.evaluation_superficie,evaluation_nombre_pieces:G.p_devis.evaluation_nombre_pieces,evaluation_loyer_mensuel:G.p_devis.evaluation_loyer_mensuel,evaluation_type_valeur_batiment:G.p_devis.evaluation_type_valeur_batiment,evaluation_type_valeur_contenu:G.p_devis.evaluation_type_valeur_contenu,evaluation_valeur_expertise:G.p_devis.evaluation_valeur_expertise,evaluation_date_expertise:G.p_devis.evaluation_date_expertise,evaluation_valeur_libre_contenu:G.p_devis.evaluation_valeur_libre_contenu,garantie_contenu:G.p_devis.garantie_contenu,garantie_vol:G.p_devis.garantie_vol,garantie_pertes_indirectes:G.p_devis.garantie_pertes_indirectes,garantie_protection_juridique:G.p_devis.garantie_protection_juridique,garantie_assistance:G.p_devis.garantie_assistance,date_effet:G.p_devis.date_effet,compagnie_id:G.p_devis.compagnie_id,statut:G.p_devis.statut}}).then(({data:Ee,error:ve})=>ve?(console.warn(`[DbConnectService] Erreur 500 probable dans 'updateHabitationQuote' pour l'ID ${U}.`,"Erreur RPC Supabase:",ve),{success:!1,error:ve}):{success:!0,data:Ee});return(0,e.H)(ue)}updatePerson(U,G){return(0,e.H)(this.supabase.supabase.from("personnes").update(G).eq("id",U).select().single()).pipe((0,C.T)(me=>{if(me.error)throw me.error;return{data:me.data,error:null}}))}getPersonById(U){return(0,e.H)(this.supabase.supabase.from("personnes").select("*").eq("id",U).single()).pipe((0,C.T)(G=>(G.error&&"PGRST116"!==G.error.code&&console.error(`Erreur lors de la r\xe9cup\xe9ration de la personne avec l'ID ${U}:`,G.error),G.data)))}findOrCreatePerson(U){var G=this;return(0,d.A)(function*(){console.log("[findOrCreatePerson] Donn\xe9es de la personne re\xe7ues :",U);const{data:me}=yield G.supabase.supabase.from("personnes").select("*").eq("email",U.email).single();if(me)return console.log("[findOrCreatePerson] Personne existante trouv\xe9e:",me),me;console.log("[findOrCreatePerson] Aucune personne existante, cr\xe9ation en cours...");const{data:ue,error:Ee}=yield G.supabase.supabase.from("personnes").insert(U).select().single();if(Ee)throw console.error("[findOrCreatePerson] Erreur lors de l'insertion de la nouvelle personne :",Ee),Ee;return console.log("[findOrCreatePerson] Nouvelle personne cr\xe9\xe9e :",ue),ue})()}mapPersonDataForRpc(U,G={includeDrivingLicense:!0,includeNationalRegistry:!0}){const me={prenom:U.firstName,nom:U.lastName,date_naissance:U.date_naissance,email:U.email,telephone:U.phone,adresse:U.address,code_postal:U.postalCode,ville:U.city,nationality:U.nationality,marital_status_id:U.maritalStatus};return G.includeDrivingLicense&&(me.permis_numero=U.driverLicenseNumber,me.permis_date=U.driverLicenseDate),G.includeNationalRegistry&&(me.numero_national=U.nationalRegistryNumber,me.idcard_number=U.idCardNumber,me.idcard_validity=U.idCardValidityDate),me}getAllQuotesGeneric(U,G,me,ue,Ee,ve){const Pe=(ue-1)*Ee,ot=Pe+Ee-1;let Xe=this.supabase.supabase.from(U).select(G,{count:"exact"}).order("created_at",{ascending:!1}).range(Pe,ot);if(me&&(ve.localColumns?.length||ve.foreignTables?.length)){const Ve=`%${me}%`;ve.localColumns&&[].push(ve.localColumns.map(Qe=>`${Qe}.ilike.${Ve}`).join(",")),ve.foreignTables&&ve.foreignTables.forEach(Qe=>{const at=Qe.columns.map(Nt=>`${Nt}.ilike.${Ve}`).join(",");Xe=Xe.or(at,{foreignTable:Qe.name})})}return(0,e.H)(Xe).pipe((0,C.T)(Ve=>({data:Ve.data||[],count:Ve.count})))}getContractSubjects(){return(0,e.H)(this.supabase.supabase.from("subject_contract").select("id, title").order("title",{ascending:!0})).pipe((0,C.T)(U=>{if(U.error)throw console.error("Erreur lors de la r\xe9cup\xe9ration des sujets de contrat:",U.error),U.error;return U.data||[]}))}getFullQuoteDetails(U){console.log(`[DbConnectService] Appel de getFullQuoteDetails pour l'ID: ${U}`);const G=this.supabase.supabase.rpc("get_full_quote_details",{p_quote_id:U}).then(({data:me,error:ue})=>{if(ue)throw console.warn(`[DbConnectService] Erreur 500 probable dans 'getFullQuoteDetails' pour l'ID ${U}.`,"Erreur RPC Supabase:",ue),console.warn(`[DbConnectService] Erreur 500 probable dans 'getFullQuoteDetails' pour l'ID ${U}.`,"Erreur RPC Supabase:",ue),ue;if(console.log(`[DbConnectService] Donn\xe9es brutes re\xe7ues de la RPC pour l'ID ${U}:`,me),!me)throw console.warn(`[DbConnectService] Aucun devis trouv\xe9 via RPC pour l'ID ${U}. La fonction a retourn\xe9 null.`),new Error(`Aucun devis trouv\xe9 pour l'ID ${U}. La fonction a retourn\xe9 une r\xe9ponse vide.`);return console.log(`[DbConnectService] Succ\xe8s: D\xe9tails complets du devis r\xe9cup\xe9r\xe9s pour l'ID ${U}.`),me});return(0,e.H)(G)}getAllEcheanceStatuts(){return(0,e.H)(this.supabase.supabase.from("echeancier").select("id, id_echeance, label")).pipe((0,C.T)(U=>{if(U.error)throw console.error("Erreur lors de la r\xe9cup\xe9ration des statuts d'\xe9ch\xe9ancier:",U.error),U.error;return U.data||[]}))}saveCsvDataToDb(U,G,me){const ue=JSON.parse(JSON.stringify(me).replace(/\u0000/g,""));return(0,e.H)(this.supabase.insertData("csv_imports",{quote_id:U,quote_type:G,json_data:ue})).pipe((0,C.T)(ve=>{if(ve.error)throw ve.error;return ve.data}))}getCsvData(U,G){const me=this.supabase.supabase.rpc("get_csv_import_data",{p_quote_id:U,p_quote_type:G});return(0,e.H)(me).pipe((0,C.T)(ue=>{if(ue.error)throw console.warn(`[DbConnectService] Erreur 500 probable dans 'getCsvData' pour quoteId ${U}.`,"Erreur RPC Supabase:",ue.error),ue.error;return ue.data||[]}),(0,se.W)(ue=>(console.error(`[DbConnectService] Erreur dans getCsvData pour quoteId ${U}:`,ue),(0,H.of)([]))))}getDocumentTypes(){return(0,e.H)(this.supabase.supabase.from("type_documents").select("id, created_at, Label, view").order("Label",{ascending:!0})).pipe((0,C.T)(({data:U,error:G})=>{if(G)throw console.error("Erreur lors de la r\xe9cup\xe9ration des types de documents :",G),G;return U??[]}))}createSignedUrl(U,G,me){var ue=this;return(0,d.A)(function*(){return ue.supabase.supabase.storage.from(U).createSignedUrl(G,me)})()}getPublicUrl(U,G){return this.supabase.supabase.storage.from(U).getPublicUrl(G)}getCurrentUser(){return this.supabase.currentUser$}getPersonCountsByPostalCode(){return(0,e.H)(this.supabase.supabase.rpc("get_person_counts_by_postal_code")).pipe((0,C.T)(U=>{if(U.error)throw console.error("Erreur lors de l'appel RPC get_person_counts_by_postal_code:",U.error),U.error;return U.data||[]}),(0,se.W)(U=>(console.error("Erreur dans le pipe de getPersonCountsByPostalCode:",U),(0,H.of)([]))))}getAuthUsersInfo(){return(0,e.H)(this.supabase.supabase.rpc("get_users_info")).pipe((0,C.T)(U=>{if(U.error)throw console.error("Erreur RPC get_users_info:",U.error),U.error;return U.data||[]}))}deleteAuthUser(U){return(0,e.H)(this.supabase.supabase.rpc("delete_user_by_id",{p_user_id:U})).pipe((0,C.T)(G=>{if(G.error)throw console.error("Erreur RPC delete_user_by_id:",G.error),G.error}))}updateAuthUserPassword(U,G){return(0,e.H)(this.supabase.supabase.rpc("update_user_password",{p_user_id:U,p_new_password:G})).pipe((0,C.T)(me=>{if(me.error)throw console.error("Erreur RPC update_user_password:",me.error),me.error}))}initializeRealtimeSubscriptions(){this.realtimeInitialized||(this.realtimeInitialized=!0,["devis_assurance","habitation_quotes","obseques_quotes","assu_voyage","rc_familiale_quotes"].forEach(G=>{this.supabase.supabase.channel(`public:${G}`).on("postgres_changes",{event:"INSERT",schema:"public",table:G},me=>{this.onNewQuote$.next({table:G,data:me.new})}).subscribe()}))}static \u0275fac=function(G){return new(G||je)(_e.KVO(De.w),_e.KVO(L.Qq))};static \u0275prov=_e.jDH({token:je,factory:je.\u0275fac,providedIn:"root"})}return je})()},3161:(Je,ge,D)=>{"use strict";D.d(ge,{t:()=>A});var d=D(6648),L=D(5312),le=D(4438),e=D(1626);let A=(()=>{class H{http;functionUrl=`${L.c.supabaseUrl}/functions/v1/send-email`;constructor(K){this.http=K}sendEmail(K){return(0,d.H)(fetch(this.functionUrl,{method:"POST",headers:{Authorization:`Bearer ${L.c.supabaseKey}`,apikey:L.c.supabaseKey,"Content-Type":"application/json"},body:JSON.stringify(K)}))}static \u0275fac=function(se){return new(se||H)(le.KVO(e.Qq))};static \u0275prov=le.jDH({token:H,factory:H.\u0275fac,providedIn:"root"})}return H})()},8212:(Je,ge,D)=>{"use strict";D.d(ge,{W:()=>he});var d=D(467),L=D(6648),le=D(8810),e=D(5558),A=D(6354),H=D(1626),C=D(5312),K=D(4438),se=D(9692);let he=(()=>{class Q{supabase;http;apiUrl=`${C.c.supabaseUrl}/functions/v1/create-payment-intent`;constructor(De,be){this.supabase=De,this.http=be}createPaymentIntent(De,be={}){return(0,L.H)(this.supabase.supabase.auth.getSession()).pipe((0,e.n)(je=>{const ne=je.data.session;if(!ne)return(0,le.$)(()=>new Error("Not authenticated"));const U=(new H.Lr).set("Authorization",`Bearer ${ne.access_token}`);return this.http.post(this.apiUrl,{amount:De,metadata:be},{headers:U})}))}createPaymentRequest(De){var be=this;return(0,d.A)(function*(){const{data:je,error:ne}=yield be.supabase.supabase.from("payment_requests").insert(De).select().single();if(ne)throw ne;return je})()}getPaymentRequestsByPreneur(De){return(0,L.H)(this.supabase.supabase.from("payment_requests").select("*").eq("preneur_uid",De).order("created_at",{ascending:!1})).pipe((0,A.T)(be=>be.data||[]))}getPaymentRequestsByUser(De){return(0,L.H)(this.supabase.supabase.from("payment_requests").select("*").eq("uid_user",De).order("created_at",{ascending:!1})).pipe((0,A.T)(be=>be.data||[]))}getPersonDetails(De){var be=this;return(0,d.A)(function*(){const{data:je,error:ne}=yield be.supabase.supabase.from("personnes").select("email, prenom, nom").eq("id",De).single();return ne?(console.error("Erreur lors de la r\xe9cup\xe9ration des d\xe9tails de la personne:",ne),null):je})()}static \u0275fac=function(be){return new(be||Q)(K.KVO(se.w),K.KVO(H.Qq))};static \u0275prov=K.jDH({token:Q,factory:Q.\u0275fac,providedIn:"root"})}return Q})()},4125:(Je,ge,D)=>{"use strict";D.d(ge,{T:()=>e});var d=D(467),L=D(5312),le=D(4438);let e=(()=>{class A{constructor(){}sendSms(C,K){return(0,d.A)(function*(){let se=C.trim();se.startsWith("+")||(se=`+${se}`),console.log(`[SendsmsService] Tentative d'envoi du SMS au num\xe9ro : ${C}`);const he=`${L.c.supabaseUrl}/functions/v1/send-sms`;try{const Q=yield fetch(he,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${L.c.supabaseKey}`},body:JSON.stringify({to:se,message:K})});if(!Q.ok){const _e=yield Q.json();throw console.error("Erreur de la fonction Edge:",_e),new Error(_e.error||`Erreur HTTP: ${Q.status}`)}return yield Q.json()}catch(Q){throw console.error("Erreur lors de l'envoi du SMS:",Q),Q}})()}static \u0275fac=function(K){return new(K||A)};static \u0275prov=le.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})()},8072:(Je,ge,D)=>{"use strict";D.d(ge,{g:()=>K});var d=D(1626),L=D(6648),le=D(8810),e=D(5558),A=D(5312),H=D(4438),C=D(9692);let K=(()=>{class se{http;supabase;functionsUrl=`${A.c.supabaseUrl}/functions/v1`;constructor(Q,_e){this.http=Q,this.supabase=_e}callFunction(Q,_e){return(0,L.H)(this.supabase.supabase.auth.getSession()).pipe((0,e.n)(De=>{const be=De.data.session;if(!be)return(0,le.$)(()=>new Error("Utilisateur non authentifi\xe9. Impossible d'appeler Storecove."));const je=new d.Lr({Authorization:`Bearer ${be.access_token}`,"Content-Type":"application/json"});return this.http.post(`${this.functionsUrl}/${Q}`,_e,{headers:je})}))}createInvoice(Q){return this.callFunction("generate-invoice",Q)}downloadInvoice(Q){return(0,L.H)(this.supabase.supabase.auth.getSession()).pipe((0,e.n)(_e=>{const De=_e.data.session;if(!De)return(0,le.$)(()=>new Error("Utilisateur non authentifi\xe9."));const be=new d.Lr({Authorization:`Bearer ${De.access_token}`,"Content-Type":"application/json"});return this.http.post(`${this.functionsUrl}/get-invoice-document`,{invoiceId:Q},{headers:be,responseType:"blob"})}))}static \u0275fac=function(_e){return new(_e||se)(H.KVO(d.Qq),H.KVO(C.w))};static \u0275prov=H.jDH({token:se,factory:se.\u0275fac,providedIn:"root"})}return se})()},9692:(Je,ge,D)=>{"use strict";D.d(ge,{w:()=>K});var d=D(467),L=D(4438),le=D(177),e=D(7583),A=D(5312),H=D(4412),C=D(6354);let K=(()=>{class se{platformId;supabase;sessionSubject=new H.t(null);session$=this.sessionSubject.asObservable();currentUser$=this.session$.pipe((0,C.T)(Q=>Q?.user??null));constructor(Q){this.platformId=Q,(0,le.UE)(this.platformId)?(this.supabase=(0,e.UU)(A.c.supabaseUrl,A.c.supabaseKey),this.supabase.auth.onAuthStateChange((_e,De)=>{this.sessionSubject.next(De)})):this.supabase={}}insertData(Q,_e){var De=this;return(0,d.A)(function*(){console.log(`[SupabaseService] Tentative d'insertion dans la table '${Q}' avec les donn\xe9es:`,_e);const be=yield De.supabase.from(Q).insert([_e]);return be.error&&console.error(`[SupabaseService] Erreur lors de l'insertion dans la table '${Q}':`,be.error),be})()}fetchData(Q,_e){var De=this;return(0,d.A)(function*(){console.log(`[SupabaseService] Tentative de lecture depuis la table '${Q}' avec la requ\xeate:`,_e);const be=yield De.supabase.from(Q).select(_e);return be.error&&console.error(`[SupabaseService] Erreur lors de la lecture depuis la table '${Q}':`,be.error),be})()}static \u0275fac=function(_e){return new(_e||se)(L.KVO(L.Agw))};static \u0275prov=L.jDH({token:se,factory:se.\u0275fac,providedIn:"root"})}return se})()},8264:(Je,ge,D)=>{"use strict";D.d(ge,{U:()=>Q});var d=D(4438),L=D(1626),le=D(983),e=D(7673),A=D(7786),H=D(6354),C=D(9437),K=D(5964),se=D(1943),he=D(5312);let Q=(()=>{class _e{http=(0,d.WQX)(L.Qq);supabaseUrl=he.c.supabaseUrl;supabaseKey=he.c.supabaseKey;getBucketName(be){return{auto:"documents_auto",habitation:"documents_habitation",obseques:"documents_obseques",rc:"documents_rc",voyage:"documents_voyage"}[be]||"documents_autres"}uploadContractFiles(be,je,ne){if(!be||0===be.length)return le.w;this.getBucketName(ne);const G=be.length,me=`${this.supabaseUrl}/functions/v1/storage-upload`,ue=be.map(Ee=>{const ve=new FormData;return ve.append("file",Ee),ve.append("quoteId",String(je)),ve.append("quoteType",ne),this.http.post(me,ve,{headers:{apikey:this.supabaseKey},reportProgress:!0,observe:"events"}).pipe((0,H.T)(Pe=>{switch(Pe.type){case L.hv.UploadProgress:const ot=Math.round(100*Pe.loaded/(Pe.total||1));return{fileName:Ee.name,status:"uploading",progress:ot};case L.hv.Response:return{fileName:Ee.name,status:"success",path:Pe.body.path,progress:100};default:return null}}),(0,C.W)(Pe=>(0,e.of)({fileName:Ee.name,status:"error",error:Pe.error?.error||Pe.message||"Erreur r\xe9seau",progress:0})))});return(0,A.h)(...ue).pipe((0,K.p)(Ee=>null!==Ee),(0,se.S)((Ee,ve)=>(Ee.progresses.set(ve.fileName,ve.progress||0),Ee.lastResult={...Ee.lastResult,...ve},Ee),{progresses:new Map,lastResult:null}),(0,H.T)(Ee=>{const ve=Array.from(Ee.progresses.values()).reduce((Pe,ot)=>Pe+ot,0)/G;return{...Ee.lastResult,totalProgress:Math.round(ve)}}))}getDownloadUrl(be,je){return`${this.supabaseUrl}/storage/v1/object/public/${be}/${je}`}static \u0275fac=function(je){return new(je||_e)};static \u0275prov=d.jDH({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})()},1364:(Je,ge,D)=>{"use strict";D.d(ge,{Y:()=>C});var d=D(177),L=D(4438);const le=["*"];function e(K,se){if(1&K&&(L.qex(0),L.j41(1,"div",3),L.nrm(2,"div",4),L.j41(3,"p",5),L.EFF(4),L.k0s()(),L.bVm()),2&K){const he=L.XpG();L.R7$(4),L.JRh(he.loadingMessage)}}function A(K,se){if(1&K&&(L.qex(0),L.j41(1,"div",6)(2,"strong",7),L.EFF(3,"Erreur !"),L.k0s(),L.j41(4,"span",8),L.EFF(5),L.k0s()(),L.bVm()),2&K){const he=L.XpG();L.R7$(5),L.SpI(" ",he.errorMessage,"")}}function H(K,se){1&K&&(L.qex(0),L.SdG(1),L.bVm())}let C=(()=>{class K{state;loadingMessage="Chargement...";errorMessage="Une erreur est survenue lors du chargement des donn\xe9es.";static \u0275fac=function(Q){return new(Q||K)};static \u0275cmp=L.VBU({type:K,selectors:[["app-state-container"]],inputs:{state:"state",loadingMessage:"loadingMessage",errorMessage:"errorMessage"},standalone:!0,features:[L.aNF],ngContentSelectors:le,decls:4,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"flex","justify-center","items-center","p-10"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-blue-500"],[1,"ml-4","text-gray-600"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded-md"],[1,"font-bold"],[1,"block","sm:inline"]],template:function(Q,_e){1&Q&&(L.NAR(),L.qex(0,0),L.DNE(1,e,5,1,"ng-container",1)(2,A,6,1,"ng-container",1)(3,H,2,0,"ng-container",2),L.bVm()),2&Q&&(L.Y8G("ngSwitch",!0),L.R7$(),L.Y8G("ngSwitchCase",_e.state.loading),L.R7$(),L.Y8G("ngSwitchCase",!!_e.state.error))},dependencies:[d.MD,d.ux,d.e1,d.fG],encapsulation:2})}return K})()},5312:(Je,ge,D)=>{"use strict";D.d(ge,{c:()=>d});const d={production:!1,dbConnect:"https://fqopliwvpuiprdegxytz.supabase.co",supabaseUrl:"https://fqopliwvpuiprdegxytz.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZxb3BsaXd2cHVpcHJkZWd4eXR6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4NzgyMzIsImV4cCI6MjA3ODQ1NDIzMn0.n-jJ5ZmaetUKLZMEz0YEvYwO2bvXWkOHKKGl1MMpQ0E",website:"https://www.assurkin.be",supabaseFunctionUrl:"https://fqopliwvpuiprdegxytz.supabase.co",domain_name:"assurkin.be",stripe_lien_paiement:"https://assurkin.be/paiement/",storage_bucket_clients:"documents",storage_bucket:"https://fqopliwvpuiprdegxytz.supabase.co/functions/v1/storage-upload",stripe_public_key:"pk_test_51SbHOFCF57PhpQ6IkRFaNg06NIIThSlX2tf0aucAgm4LK4RqJkksCAxQoslBSQPfTdJjJHSXMLC6PnUlYp7PsvRf00rmMa9ypu",storageBucketPrefix:"https://fqopliwvpuiprdegxytz.supabase.co/functions/v1/storage-upload",mapboxAccessToken:"pk.eyJ1IjoiYXNzdXJraW4iLCJhIjoiY21qMTZ0bXl0MGhuajNjcjd3a2FmMzVkcCJ9.wo_Z98iaQQ_iLZyUDBTMlQ",url_ombudsman:"www.ombudsman-insurance.be",email_ombudsman:"info#ombudsman-insurance.be",appName:"Assurkin",appDomain:"assurkin.be"}},4765:(Je,ge,D)=>{"use strict";var d=D(345),L=D(1626),le=D(9981),e=D(4438),A=D(177);let H=(()=>{class c{platformId;constructor(s){this.platformId=s}scrollToSection(s){if((0,A.UE)(this.platformId)){const f=document.getElementById(s);f&&f.scrollIntoView({behavior:"smooth",block:"start"})}}static \u0275fac=function(f){return new(f||c)(e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:c,selectors:[["app-accueil"]],standalone:!0,features:[e.aNF],decls:84,vars:0,consts:[[1,"bg-white"],["id","hero",1,"relative","isolate","bg-black","px-6","pt-14","lg:px-8"],[1,"mx-auto","max-w-7xl","py-8","sm:py-12","lg:py-16"],[1,"grid","grid-cols-1","items-center","gap-x-8","gap-y-16","lg:grid-cols-2"],[1,"text-center","lg:text-left","animate-fade-in-up"],[1,"text-4xl","font-bold","tracking-tight","text-white","sm:text-6xl","animate-fade-in-up",2,"animation-delay","0.2s"],[1,"mt-6","text-lg","leading-8","text-gray-300","animate-fade-in-up",2,"animation-delay","0.4s"],[1,"mt-10","flex","items-center","justify-center","gap-x-6","lg:justify-start","animate-fade-in-up",2,"animation-delay","0.6s"],["routerLink","/contact",1,"rounded-md","bg-indigo-600","px-3.5","py-2.5","text-sm","font-semibold","text-white","shadow-sm","hover:bg-indigo-500","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-indigo-600"],[1,"text-sm","font-semibold","leading-6","text-white",3,"click"],["aria-hidden","true"],[1,"flex","justify-center","lg:justify-end","animate-fade-in",2,"animation-delay","0.8s"],["src","https://fqopliwvpuiprdegxytz.supabase.co/storage/v1/object/sign/img_website/assukin.webp?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV81MmJmNDFiNC0yNGQ0LTQ3ZTktYmEzNi04YWZmY2NjMzEzNzIiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJpbWdfd2Vic2l0ZS9hc3N1a2luLndlYnAiLCJpYXQiOjE3NjMwMjAyMjYsImV4cCI6MjA3ODM4MDIyNn0.7YNFUpPItIygZoqlnw2CE-Elj9r-64kfppEpvelhMpA","alt","\xc9quipe Assurkin",1,"w-full","max-w-xs","rounded-xl","shadow-xl","ring-1","ring-gray-400/10","lg:max-w-md"],["id","services",1,"bg-gray-50","py-24","sm:py-32"],[1,"mx-auto","max-w-7xl","px-6","lg:px-8"],[1,"mx-auto","max-w-2xl","lg:text-center"],[1,"text-base","font-semibold","leading-7","text-indigo-600"],[1,"mt-2","text-3xl","font-bold","tracking-tight","text-gray-900","sm:text-4xl"],[1,"mx-auto","mt-16","max-w-2xl","sm:mt-20","lg:mt-24","lg:max-w-none"],[1,"text-2xl","font-bold","text-center","text-gray-800","mb-12"],[1,"grid","max-w-xl","grid-cols-1","gap-x-8","gap-y-16","lg:max-w-none","lg:grid-cols-3"],[1,"relative","pl-16"],[1,"text-base","font-semibold","leading-7","text-gray-900"],[1,"absolute","left-0","top-0","flex","h-10","w-10","items-center","justify-center","rounded-lg","bg-indigo-600"],["fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor","aria-hidden","true",1,"h-6","w-6","text-white"],["stroke-linecap","round","stroke-linejoin","round","d","M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h1.125c.621 0 1.125-.504 1.125-1.125V14.25m-17.25 4.5h10.5a1.125 1.125 0 001.125-1.125V6.75a1.125 1.125 0 00-1.125-1.125H3.375A1.125 1.125 0 002.25 6.75v10.5a1.125 1.125 0 001.125 1.125z"],[1,"mt-2","text-base","leading-7","text-gray-600"],[1,"mt-4"],["routerLink","/particulier/auto",1,"text-sm","font-semibold","leading-6","text-indigo-600"],["stroke-linecap","round","stroke-linejoin","round","d","M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"],["routerLink","/particulier/habitation",1,"text-sm","font-semibold","leading-6","text-indigo-600"],["stroke-linecap","round","stroke-linejoin","round","d","M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m-7.5-2.962c.513-.513.513-1.344 0-1.857a1.5 1.5 0 012.121 0c.513.513.513 1.344 0 1.857m-2.121 0a1.5 1.5 0 01-2.121 0c-.513-.513-.513-1.344 0-1.857a1.5 1.5 0 012.121 0m-2.121 0c.513.513.513 1.344 0 1.857m-2.121 0a1.5 1.5 0 01-2.121 0c-.513-.513-.513-1.344 0-1.857a1.5 1.5 0 012.121 0m6.364 0c.513.513.513 1.344 0 1.857m-2.121 0a1.5 1.5 0 01-2.121 0c-.513-.513-.513-1.344 0-1.857a1.5 1.5 0 012.121 0m2.121 0c.513.513.513 1.344 0 1.857m-2.121 0a1.5 1.5 0 01-2.121 0c-.513-.513-.513-1.344 0-1.857a1.5 1.5 0 012.121 0m-2.121 0a1.5 1.5 0 01-2.121 0c-.513-.513-.513-1.344 0-1.857a1.5 1.5 0 012.121 0m9.546 2.121a9.094 9.094 0 01-3.742.479 3 3 0 01-4.682-2.72m7.5 2.962c-.513.513-.513 1.344 0 1.857a1.5 1.5 0 002.121 0c.513-.513.513 1.344 0 1.857m-2.121 0a1.5 1.5 0 00-2.121 0c-.513.513-.513 1.344 0-1.857a1.5 1.5 0 002.121 0"],["routerLink","/particulier/rc-familale",1,"text-sm","font-semibold","leading-6","text-indigo-600"],[1,"mt-16","lg:mt-24"],[1,"text-xl","font-bold","text-center","text-gray-800","mb-8"],[1,"mx-auto","max-w-4xl"],[1,"overflow-hidden","rounded-lg","shadow-xl"],["controls","","autoplay","","muted","","loop","","playsinline","",1,"w-full","h-auto"],["src","https://dela-digital.be/tools/video-pensez-a-plus-tard-avec-dela-bruno-sophie-1583925934.mp4","type","video/mp4"],[1,"text-center","text-gray-600"],[1,"mt-8","text-center"],["routerLink","/contact",1,"rounded-md","bg-indigo-600","px-3.5","py-2.5","text-sm","font-semibold","text-white","shadow-sm","hover:bg-indigo-500"]],template:function(f,u){1&f&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),e.EFF(6,"AssurKin, votre partenaire confiance"),e.k0s(),e.j41(7,"p",6),e.EFF(8,"Des solutions d'assurance sur-mesure pour les particuliers et les professionnels. Notre \xe9coute active nous permet de vous garantir la protection la plus adapt\xe9e \xe0 vos besoins, pour votre tranquillit\xe9 d'esprit. Nous vous accompagnons \xe0 chaque \xe9tape pour vous offrir un service fiable et r\xe9actif."),e.k0s(),e.j41(9,"div",7)(10,"a",8),e.EFF(11,"Contactez-nous"),e.k0s(),e.j41(12,"button",9),e.bIt("click",function(){return u.scrollToSection("services")}),e.EFF(13,"D\xe9couvrir nos services "),e.j41(14,"span",10),e.EFF(15,"\u2192"),e.k0s()()()(),e.j41(16,"div",11),e.nrm(17,"img",12),e.k0s()()()(),e.j41(18,"div",13)(19,"div",14)(20,"div",15)(21,"h2",16),e.EFF(22,"Nos Assurances"),e.k0s(),e.j41(23,"p",17),e.EFF(24,"Tout ce dont vous avez besoin pour \xeatre bien prot\xe9g\xe9"),e.k0s()(),e.j41(25,"div",18)(26,"h3",19),e.EFF(27,"Pour les Particuliers"),e.k0s(),e.j41(28,"dl",20)(29,"div",21)(30,"dt",22)(31,"div",23),e.qSk(),e.j41(32,"svg",24),e.nrm(33,"path",25),e.k0s()(),e.EFF(34," Assurance Auto "),e.k0s(),e.joV(),e.j41(35,"dd",26),e.EFF(36,"Une couverture compl\xe8te pour votre v\xe9hicule, adapt\xe9e \xe0 vos habitudes de conduite."),e.k0s(),e.j41(37,"dd",27)(38,"a",28),e.EFF(39,"Demander une offre "),e.j41(40,"span",10),e.EFF(41,"\u2192"),e.k0s()()()(),e.j41(42,"div",21)(43,"dt",22)(44,"div",23),e.qSk(),e.j41(45,"svg",24),e.nrm(46,"path",29),e.k0s()(),e.EFF(47," Assurance Habitation "),e.k0s(),e.joV(),e.j41(48,"dd",26),e.EFF(49,"Elle n\u2019est pas obligatoire, mais la majorit\xe9 des Belges en ont une. Il est en effet important de prot\xe9ger vos biens de dommages \xe9ventuels. "),e.k0s(),e.j41(50,"dd",27)(51,"a",30),e.EFF(52,"Demander une offre "),e.j41(53,"span",10),e.EFF(54,"\u2192"),e.k0s()()()(),e.j41(55,"div",21)(56,"dt",22)(57,"div",23),e.qSk(),e.j41(58,"svg",24),e.nrm(59,"path",31),e.k0s()(),e.EFF(60," RC Familiale "),e.k0s(),e.joV(),e.j41(61,"dd",26),e.EFF(62,"L'assurance indispensable pour couvrir les dommages que vous ou votre famille pourriez causer \xe0 des tiers."),e.k0s(),e.j41(63,"dd",27)(64,"a",32),e.EFF(65,"Demander une offre "),e.j41(66,"span",10),e.EFF(67,"\u2192"),e.k0s()()()()(),e.j41(68,"div",33)(69,"h4",34),e.EFF(70,"Pensez \xe0 plus tard, pour eux"),e.k0s(),e.j41(71,"div",35)(72,"div",36)(73,"video",37),e.nrm(74,"source",38),e.EFF(75," Votre navigateur ne supporte pas la lecture de vid\xe9os. "),e.k0s()()()()(),e.j41(76,"div",18)(77,"h3",19),e.EFF(78,"Pour les Professionnels"),e.k0s(),e.j41(79,"p",39),e.EFF(80,"Des solutions sp\xe9cifiques pour prot\xe9ger votre activit\xe9. Contactez-nous pour une analyse personnalis\xe9e de vos besoins."),e.k0s(),e.j41(81,"div",40)(82,"a",41),e.EFF(83,"Prendre rendez-vous"),e.k0s()()()()()())},dependencies:[A.MD,le.iI,le.Wk]})}return c})();var C=D(9417),K=D(7673),se=D(1413),he=D(6354),Q=D(9437),_e=D(8141),De=D(8359);class be extends De.yU{constructor(T,s){super()}schedule(T,s=0){return this}}const je={setInterval(c,T,...s){const{delegate:f}=je;return f?.setInterval?f.setInterval(c,T,...s):setInterval(c,T,...s)},clearInterval(c){const{delegate:T}=je;return(T?.clearInterval||clearInterval)(c)},delegate:void 0};var ne=D(7908),G=D(6129);class me{constructor(T,s=me.now){this.schedulerActionCtor=T,this.now=s}schedule(T,s=0,f){return new this.schedulerActionCtor(this,T).schedule(f,s)}}me.now=G.U.now;const Ee=new class ue extends me{constructor(T,s=me.now){super(T,s),this.actions=[],this._active=!1}flush(T){const{actions:s}=this;if(this._active)return void s.push(T);let f;this._active=!0;do{if(f=T.execute(T.state,T.delay))break}while(T=s.shift());if(this._active=!1,f){for(;T=s.shift();)T.unsubscribe();throw f}}}(class U extends be{constructor(T,s){super(T,s),this.scheduler=T,this.work=s,this.pending=!1}schedule(T,s=0){var f;if(this.closed)return this;this.state=T;const u=this.id,O=this.scheduler;return null!=u&&(this.id=this.recycleAsyncId(O,u,s)),this.pending=!0,this.delay=s,this.id=null!==(f=this.id)&&void 0!==f?f:this.requestAsyncId(O,this.id,s),this}requestAsyncId(T,s,f=0){return je.setInterval(T.flush.bind(T,this),f)}recycleAsyncId(T,s,f=0){if(null!=f&&this.delay===f&&!1===this.pending)return s;null!=s&&je.clearInterval(s)}execute(T,s){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const f=this._execute(T,s);if(f)return f;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(T,s){let u,f=!1;try{this.work(T)}catch(O){f=!0,u=O||new Error("Scheduled action threw falsy error")}if(f)return this.unsubscribe(),u}unsubscribe(){if(!this.closed){const{id:T,scheduler:s}=this,{actions:f}=s;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ne.o)(f,this),null!=T&&(this.id=this.recycleAsyncId(s,T,null)),this.delay=null,super.unsubscribe()}}});var Pe=D(9974),ot=D(4360);function Xe(c,T=Ee){return(0,Pe.N)((s,f)=>{let u=null,O=null,ae=null;const Fe=()=>{if(u){u.unsubscribe(),u=null;const Ct=O;O=null,f.next(Ct)}};function it(){const Ct=ae+c,on=T.now();if(on<Ct)return u=this.schedule(void 0,Ct-on),void f.add(u);Fe()}s.subscribe((0,ot._)(f,Ct=>{O=Ct,ae=T.now(),u||(u=T.schedule(it,c),f.add(u))},()=>{Fe(),f.complete()},void 0,()=>{O=u=null}))})}var Ve=D(3294),Ye=D(5558),Qe=D(6977),at=D(1594);let Nt=(()=>{class c{el;renderer;onChange=()=>{};onTouched=()=>{};constructor(s,f){this.el=s,this.renderer=f}writeValue(s){const f=this.formatPhoneNumber(s||"");this.renderer.setProperty(this.el.nativeElement,"value",f)}registerOnChange(s){this.onChange=s}registerOnTouched(s){this.onTouched=s}onInput(s){const f=s.target;if(!f)return;const u=f.value.replace(/\D/g,""),O=this.formatPhoneNumber(u);this.renderer.setProperty(f,"value",O),this.onChange(u)}onBlur(){this.onTouched()}formatPhoneNumber(s){if(!s)return"";let f=s.startsWith("32")?s.substring(2):s;return f.startsWith("4")?`+32 ${f.slice(0,3)} ${f.slice(3,5)} ${f.slice(5,7)} ${f.slice(7,9)}`.trim():`+32 ${f.slice(0,1)} ${f.slice(1,4)} ${f.slice(4,6)} ${f.slice(6,8)}`.trim()}static \u0275fac=function(f){return new(f||c)(e.rXU(e.aKT),e.rXU(e.sFG))};static \u0275dir=e.FsC({type:c,selectors:[["","appPhoneFormat",""]],hostBindings:function(f,u){1&f&&e.bIt("input",function(ae){return u.onInput(ae)})("blur",function(){return u.onBlur()})},standalone:!0,features:[e.Jv_([{provide:C.kq,useExisting:c,multi:!0}])]})}return c})();var xt=D(1807);const qt=c=>({"ring-red-500":c}),tr=(c,T)=>({"ring-red-500":c,"cursor-not-allowed":T}),qn=(c,T)=>({"bg-green-100":c,"bg-red-100":T}),yr=(c,T)=>({"bg-green-600 hover:bg-green-700 focus:ring-green-500":c,"bg-red-600 hover:bg-red-700 focus:ring-red-500":T});function Rr(c,T){1&c&&(e.qSk(),e.j41(0,"svg",122),e.nrm(1,"path",123),e.k0s())}function To(c,T){1&c&&(e.qSk(),e.j41(0,"svg",124),e.nrm(1,"path",125),e.k0s())}function Ie(c,T){if(1&c){const s=e.RV6();e.j41(0,"div",111)(1,"div",112)(2,"div",113)(3,"div",114),e.DNE(4,Rr,2,0,"svg",115)(5,To,2,0,"svg",116),e.k0s(),e.j41(6,"h3",117),e.EFF(7),e.k0s(),e.j41(8,"div",118),e.nrm(9,"div",119),e.k0s(),e.j41(10,"div",120)(11,"button",121),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.closePopup())}),e.EFF(12," Fermer "),e.k0s()()()()()}if(2&c){const s=e.XpG();e.R7$(3),e.Y8G("ngClass",e.l_i(6,qn,s.submissionStatus.success,!s.submissionStatus.success)),e.R7$(),e.Y8G("ngIf",s.submissionStatus.success),e.R7$(),e.Y8G("ngIf",!s.submissionStatus.success),e.R7$(2),e.SpI(" ",s.submissionStatus.success?"Op\xe9ration r\xe9ussie":"Une erreur est survenue"," "),e.R7$(2),e.Y8G("innerHTML",s.submissionStatus.message,e.npT),e.R7$(2),e.Y8G("ngClass",e.l_i(9,yr,s.submissionStatus.success,!s.submissionStatus.success))}}function Me(c,T){1&c&&(e.j41(0,"div",126),e.qSk(),e.j41(1,"svg",127),e.nrm(2,"circle",128)(3,"path",129),e.k0s(),e.joV(),e.j41(4,"p",130),e.EFF(5,"V\xe9rification de vos donn\xe9es..."),e.k0s()())}function Ne(c,T){1&c&&(e.j41(0,"div"),e.EFF(1," La date de naissance est requise. "),e.k0s())}function Te(c,T){1&c&&(e.j41(0,"div"),e.EFF(1," L'\xe2ge minimum requis est de 14 ans. "),e.k0s())}function Ke(c,T){if(1&c&&(e.j41(0,"div",131),e.DNE(1,Ne,2,0,"div",132)(2,Te,2,0,"div",132),e.k0s()),2&c){let s,f;const u=e.XpG();e.R7$(),e.Y8G("ngIf",null==(s=u.autoForm.get("preneur.date_naissance"))?null:s.hasError("required")),e.R7$(),e.Y8G("ngIf",null==(f=u.autoForm.get("preneur.date_naissance"))?null:f.hasError("minAge"))}}function Oe(c,T){1&c&&(e.j41(0,"div",131),e.EFF(1," Le format de l'adresse email est invalide. "),e.k0s())}function ut(c,T){1&c&&(e.j41(0,"div",133),e.qSk(),e.j41(1,"svg",134),e.nrm(2,"circle",128)(3,"path",129),e.k0s()())}function nn(c,T){if(1&c){const s=e.RV6();e.j41(0,"li",137),e.bIt("click",function(){const u=e.eBV(s).$implicit,O=e.XpG(2);return e.Njj(O.selectPostalCode(u,"preneur"))}),e.EFF(1),e.k0s()}if(2&c){const s=T.$implicit;e.R7$(),e.Lme(" ",s.postalCode," - ",s.city," ")}}function hn(c,T){if(1&c&&(e.j41(0,"ul",135),e.DNE(1,nn,2,2,"li",136),e.k0s()),2&c){const s=e.XpG();e.R7$(),e.Y8G("ngForOf",s.filteredPreneurPostalCodes)}}function Dt(c,T){1&c&&(e.j41(0,"option",138),e.EFF(1,"Ville"),e.k0s())}function pn(c,T){if(1&c&&(e.j41(0,"option",139),e.EFF(1),e.k0s()),2&c){const s=T.$implicit;e.Y8G("value",s),e.R7$(),e.SpI(" ",s," ")}}function kt(c,T){1&c&&(e.j41(0,"div",140),e.EFF(1," Attention : ce num\xe9ro de permis est d\xe9j\xe0 enregistr\xe9 dans notre syst\xe8me. "),e.k0s())}function kn(c,T){1&c&&(e.j41(0,"div"),e.EFF(1," La date doit \xeatre ant\xe9rieure \xe0 aujourd'hui. "),e.k0s())}function an(c,T){1&c&&(e.j41(0,"div"),e.EFF(1," La date d'obtention du permis doit \xeatre au moins 14 ans apr\xe8s la date de naissance. "),e.k0s())}function Jt(c,T){if(1&c&&(e.j41(0,"div",131),e.DNE(1,kn,2,0,"div",132)(2,an,2,0,"div",132),e.k0s()),2&c){let s,f;const u=e.XpG();e.R7$(),e.Y8G("ngIf",null==(s=u.autoForm.get("preneur.permis_date"))?null:s.hasError("dateNotInPast")),e.R7$(),e.Y8G("ngIf",(null==(f=u.autoForm.get("preneur"))?null:f.hasError("datePermisTropTot"))&&(null==(f=u.autoForm.get("preneur.permis_date"))?null:f.touched))}}function Pt(c,T){1&c&&(e.j41(0,"div"),e.EFF(1," La date de naissance est requise. "),e.k0s())}function jn(c,T){1&c&&(e.j41(0,"div"),e.EFF(1," L'\xe2ge minimum requis est de 14 ans. "),e.k0s())}function Ze(c,T){if(1&c&&(e.j41(0,"div",131),e.DNE(1,Pt,2,0,"div",132)(2,jn,2,0,"div",132),e.k0s()),2&c){let s,f;const u=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(s=u.autoForm.get("conducteur.date_naissance"))?null:s.hasError("required")),e.R7$(),e.Y8G("ngIf",null==(f=u.autoForm.get("conducteur.date_naissance"))?null:f.hasError("minAge"))}}function dr(c,T){1&c&&(e.j41(0,"div",133),e.qSk(),e.j41(1,"svg",134),e.nrm(2,"circle",128)(3,"path",129),e.k0s()())}function xr(c,T){if(1&c){const s=e.RV6();e.j41(0,"li",137),e.bIt("click",function(){const u=e.eBV(s).$implicit,O=e.XpG(3);return e.Njj(O.selectPostalCode(u,"conducteur"))}),e.EFF(1),e.k0s()}if(2&c){const s=T.$implicit;e.R7$(),e.Lme(" ",s.postalCode," - ",s.city," ")}}function Wr(c,T){if(1&c&&(e.j41(0,"ul",135),e.DNE(1,xr,2,2,"li",136),e.k0s()),2&c){const s=e.XpG(2);e.R7$(),e.Y8G("ngForOf",s.filteredConducteurPostalCodes)}}function to(c,T){1&c&&(e.j41(0,"option",138),e.EFF(1,"Ville"),e.k0s())}function br(c,T){if(1&c&&(e.j41(0,"option",139),e.EFF(1),e.k0s()),2&c){const s=T.$implicit;e.Y8G("value",s),e.R7$(),e.SpI(" ",s," ")}}function Zt(c,T){1&c&&(e.j41(0,"div",140),e.EFF(1," Attention : ce num\xe9ro de permis est d\xe9j\xe0 enregistr\xe9 dans notre syst\xe8me. "),e.k0s())}function Mt(c,T){1&c&&(e.j41(0,"div"),e.EFF(1," La date doit \xeatre ant\xe9rieure \xe0 aujourd'hui. "),e.k0s())}function nr(c,T){1&c&&(e.j41(0,"div"),e.EFF(1," La date d'obtention du permis doit \xeatre au moins 14 ans apr\xe8s la date de naissance. "),e.k0s())}function Vt(c,T){if(1&c&&(e.j41(0,"div",131),e.DNE(1,Mt,2,0,"div",132)(2,nr,2,0,"div",132),e.k0s()),2&c){let s,f;const u=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(s=u.autoForm.get("conducteur.permis_date"))?null:s.hasError("dateNotInPast")),e.R7$(),e.Y8G("ngIf",(null==(f=u.autoForm.get("conducteur"))?null:f.hasError("datePermisTropTot"))&&(null==(f=u.autoForm.get("conducteur.permis_date"))?null:f.touched))}}function gn(c,T){if(1&c&&(e.j41(0,"div",141)(1,"div")(2,"label",142),e.EFF(3,"Genre"),e.k0s(),e.j41(4,"select",143)(5,"option"),e.EFF(6,"Madame"),e.k0s(),e.j41(7,"option"),e.EFF(8,"Monsieur"),e.k0s(),e.j41(9,"option"),e.EFF(10,"Autre"),e.k0s()()(),e.j41(11,"div")(12,"label",144),e.EFF(13,"Nom"),e.k0s(),e.nrm(14,"input",145),e.k0s(),e.j41(15,"div")(16,"label",146),e.EFF(17,"Pr\xe9nom"),e.k0s(),e.nrm(18,"input",147),e.k0s(),e.j41(19,"div")(20,"label",148),e.EFF(21,"Date de naissance"),e.k0s(),e.nrm(22,"input",149),e.DNE(23,Ze,3,2,"div",30),e.k0s(),e.j41(24,"div",35)(25,"label",150),e.EFF(26,"Rue et num\xe9ro"),e.k0s(),e.nrm(27,"input",151),e.k0s(),e.j41(28,"div")(29,"div",38)(30,"label",152),e.EFF(31,"Code Postal"),e.k0s(),e.nrm(32,"input",153),e.DNE(33,dr,4,0,"div",41)(34,Wr,2,1,"ul",42),e.k0s()(),e.j41(35,"div")(36,"label",154),e.EFF(37,"Ville"),e.k0s(),e.j41(38,"select",155),e.DNE(39,to,2,0,"option",45)(40,br,2,2,"option",46),e.k0s()(),e.j41(41,"div")(42,"label",156),e.EFF(43,"Num\xe9ro de permis de conduire"),e.k0s(),e.nrm(44,"input",157),e.DNE(45,Zt,2,0,"div",49),e.k0s(),e.j41(46,"div")(47,"label",158),e.EFF(48,"Date d'obtention du permis"),e.k0s(),e.nrm(49,"input",159),e.DNE(50,Vt,3,2,"div",30),e.k0s()()),2&c){let s,f,u,O,ae,Fe,it,Ct,on,Xt,Qn,er;const Ut=e.XpG();e.R7$(4),e.Y8G("ngClass",e.eq3(19,qt,(null==(s=Ut.autoForm.get("conducteur.genre"))?null:s.invalid)&&(null==(s=Ut.autoForm.get("conducteur.genre"))?null:s.touched))),e.R7$(10),e.Y8G("ngClass",e.eq3(21,qt,(null==(f=Ut.autoForm.get("conducteur.nom"))?null:f.invalid)&&(null==(f=Ut.autoForm.get("conducteur.nom"))?null:f.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(23,qt,(null==(u=Ut.autoForm.get("conducteur.prenom"))?null:u.invalid)&&(null==(u=Ut.autoForm.get("conducteur.prenom"))?null:u.touched))),e.R7$(4),e.Y8G("max",Ut.maxDate)("ngClass",e.eq3(25,qt,(null==(O=Ut.autoForm.get("conducteur.date_naissance"))?null:O.invalid)&&(null==(O=Ut.autoForm.get("conducteur.date_naissance"))?null:O.touched))),e.R7$(),e.Y8G("ngIf",(null==(ae=Ut.autoForm.get("conducteur.date_naissance"))?null:ae.invalid)&&((null==(ae=Ut.autoForm.get("conducteur.date_naissance"))?null:ae.touched)||(null==(ae=Ut.autoForm.get("conducteur.date_naissance"))?null:ae.dirty))),e.R7$(4),e.Y8G("ngClass",e.eq3(27,qt,(null==(Fe=Ut.autoForm.get("conducteur.adresse"))?null:Fe.invalid)&&(null==(Fe=Ut.autoForm.get("conducteur.adresse"))?null:Fe.touched))),e.R7$(5),e.Y8G("ngClass",e.eq3(29,qt,(null==(it=Ut.autoForm.get("conducteur.code_postal"))?null:it.invalid)&&(null==(it=Ut.autoForm.get("conducteur.code_postal"))?null:it.touched))),e.R7$(),e.Y8G("ngIf",Ut.isLoading),e.R7$(),e.Y8G("ngIf",Ut.filteredConducteurPostalCodes.length>0),e.R7$(4),e.Y8G("disabled",0===Ut.conducteurCities.length)("ngClass",e.eq3(31,qt,(null==(Ct=Ut.autoForm.get("conducteur.ville"))?null:Ct.invalid)&&(null==(Ct=Ut.autoForm.get("conducteur.ville"))?null:Ct.touched))),e.R7$(),e.Y8G("ngIf",0===Ut.conducteurCities.length),e.R7$(),e.Y8G("ngForOf",Ut.conducteurCities),e.R7$(4),e.Y8G("ngClass",e.eq3(33,qt,(null==(on=Ut.autoForm.get("conducteur.permis_numero"))?null:on.invalid)&&(null==(on=Ut.autoForm.get("conducteur.permis_numero"))?null:on.touched))),e.R7$(),e.Y8G("ngIf",null==(Xt=Ut.autoForm.get("conducteur.permis_numero"))?null:Xt.hasError("permisExists")),e.R7$(4),e.Y8G("max",Ut.maxDate)("ngClass",e.eq3(35,qt,(null==(Qn=Ut.autoForm.get("conducteur.permis_date"))?null:Qn.invalid)&&(null==(Qn=Ut.autoForm.get("conducteur.permis_date"))?null:Qn.touched))),e.R7$(),e.Y8G("ngIf",(null==(er=Ut.autoForm.get("conducteur.permis_date"))?null:er.invalid)&&((null==(er=Ut.autoForm.get("conducteur.permis_date"))?null:er.touched)||(null==(er=Ut.autoForm.get("conducteur.permis_date"))?null:er.dirty)))}}function vo(c,T){1&c&&(e.j41(0,"div",160),e.qSk(),e.j41(1,"svg",134),e.nrm(2,"circle",128)(3,"path",129),e.k0s()())}function xn(c,T){if(1&c){const s=e.RV6();e.j41(0,"li",137),e.bIt("click",function(){const u=e.eBV(s).$implicit,O=e.XpG(2);return e.Njj(O.selectMarque(u))}),e.EFF(1),e.k0s()}if(2&c){const s=T.$implicit;e.R7$(),e.SpI(" ",s.nom," ")}}function Sn(c,T){if(1&c&&(e.j41(0,"ul",135),e.DNE(1,xn,2,1,"li",136),e.k0s()),2&c){const s=e.XpG();e.R7$(),e.Y8G("ngForOf",s.filteredMarques)}}function vn(c,T){1&c&&(e.j41(0,"div",160),e.qSk(),e.j41(1,"svg",134),e.nrm(2,"circle",128)(3,"path",129),e.k0s()())}function rn(c,T){if(1&c){const s=e.RV6();e.j41(0,"li",137),e.bIt("click",function(){const u=e.eBV(s).$implicit,O=e.XpG(2);return e.Njj(O.selectModele(u))}),e.EFF(1),e.k0s()}if(2&c){const s=T.$implicit;e.R7$(),e.SpI(" ",s.nom," ")}}function cn(c,T){if(1&c&&(e.j41(0,"ul",135),e.DNE(1,rn,2,1,"li",136),e.k0s()),2&c){const s=e.XpG();e.R7$(),e.Y8G("ngForOf",s.filteredModeles)}}function $o(c,T){1&c&&(e.j41(0,"div"),e.EFF(1," La date doit \xeatre ant\xe9rieure \xe0 aujourd'hui. "),e.k0s())}function Ot(c,T){if(1&c&&(e.j41(0,"div",131),e.DNE(1,$o,2,0,"div",132),e.k0s()),2&c){let s;const f=e.XpG();e.R7$(),e.Y8G("ngIf",null==(s=f.autoForm.get("vehicule.dateCirculation"))?null:s.hasError("dateNotInPast"))}}function fr(c,T){1&c&&(e.j41(0,"div",161)(1,"p"),e.EFF(2," Bonne nouvelle ! Cet email est d\xe9j\xe0 connu chez nous. "),e.j41(3,"a",162),e.EFF(4,"Connectez-vous"),e.k0s(),e.EFF(5," pour r\xe9cup\xe9rer vos donn\xe9es et acc\xe9l\xe9rer votre demande. "),e.k0s()())}let ln=(()=>{class c{dbConnectService;fb;router;platformId;ageValidator(s){return f=>{if(!f.value)return null;const u=new Date(f.value),O=new Date;let ae=O.getFullYear()-u.getFullYear();const Fe=O.getMonth()-u.getMonth();return(Fe<0||0===Fe&&O.getDate()<u.getDate())&&ae--,ae>=s?null:{minAge:{requiredAge:s,actualAge:ae}}}}dateInPastValidator(){return s=>{if(!s.value)return null;const f=new Date(s.value),u=new Date;return u.setHours(0,0,0,0),f<u?null:{dateNotInPast:!0}}}datePermisApresNaissanceValidator(){return s=>{const f=s.get("date_naissance"),u=s.get("permis_date");if(!(f&&u&&f.value&&u.value))return null;const O=new Date(f.value);return new Date(u.value)>=new Date(O.getFullYear()+14,O.getMonth(),O.getDate())?null:{datePermisTropTot:!0}}}permisExistsValidator(){return s=>s.value?this.dbConnectService.checkPermisExists(s.value).pipe((0,he.T)(f=>{if(f){const u=this.autoForm.get("preneur")?.value;if((0,A.UE)(this.platformId)&&u&&u.email&&u.telephone){const O={email:u.email,telephone:u.telephone};localStorage.setItem("Ifoundyou",JSON.stringify(O)),console.log("Permis existant. Informations de contact sauvegard\xe9es dans Ifoundyou:",O)}return{permisExists:!0}}return null}),(0,Q.W)(()=>(0,K.of)(null))):(0,K.of)(null)}emailExistsValidator(){return s=>s.value?this.dbConnectService.checkEmailExists(s.value).pipe((0,_e.M)(f=>this.handleEmailExists(f,s)),(0,he.T)(f=>null),(0,Q.W)(()=>(0,K.of)(null))):(0,K.of)(null)}preneurPostalCode="";handleEmailExists(s,f){if(s)f.setErrors({...f.errors,emailExists:!0});else{const u={...f.errors};delete u.emailExists,f.setErrors(Object.keys(u).length>0?u:null)}}preneurCity="";preneurCities=[];filteredPreneurPostalCodes=[];conducteurCities=[];filteredConducteurPostalCodes=[];selectedMarque=null;filteredMarques=[];filteredModeles=[];isConducteurDifferent=!1;isLoading=!1;isMarqueLoading=!1;isModeleLoading=!1;showModeleList=!1;isSubmitting=!1;marque$;modele$;destroy$=new se.B;submissionStatus=null;minDate;maxDate;autoForm;constructor(s,f,u,O){this.dbConnectService=s,this.fb=f,this.router=u,this.platformId=O;const ae=new Date,Fe=new Date(ae);Fe.setDate(Fe.getDate()+1),this.minDate=Fe.toISOString().split("T")[0],this.maxDate=ae.toISOString().split("T")[0]}ngOnInit(){if(this.autoForm=this.fb.group({preneur:this.fb.group({genre:[null,C.k0.required],nom:["",C.k0.required],prenom:["",C.k0.required],date_naissance:["",[C.k0.required,this.ageValidator(14)]],telephone:["",C.k0.required],email:["",[C.k0.required,C.k0.email]],adresse:["",C.k0.required],code_postal:["",[C.k0.required,C.k0.pattern("^[0-9]{4}$")]],ville:["",C.k0.required],permis_numero:["",C.k0.required],permis_date:["",[C.k0.required,this.dateInPastValidator()]]},{validators:this.datePermisApresNaissanceValidator()}),conducteurDifferent:[!1],conducteur:this.fb.group({genre:[null],nom:[""],prenom:[""],date_naissance:["",this.ageValidator(14)],adresse:[""],code_postal:["",C.k0.pattern("^[0-9]{4}$")],ville:[""],permis_numero:[""],permis_date:["",this.dateInPastValidator()]},{validators:this.datePermisApresNaissanceValidator()}),vehicule:this.fb.group({type:["",C.k0.required],marque:["",C.k0.required],modele:["",C.k0.required],puissance:["",C.k0.required],places:["",C.k0.required],dateCirculation:["",[C.k0.required,this.dateInPastValidator()]],valeur:[""]}),garanties:this.fb.group({base:[!1],omnium:[null],conducteur:[!1],assistance:[!1]}),dateEffet:["",C.k0.required]}),(0,A.UE)(this.platformId)){const s=this.autoForm.get("preneur.permis_numero");s&&s.setAsyncValidators(this.permisExistsValidator());const f=this.autoForm.get("preneur.email");f&&f.setAsyncValidators(this.emailExistsValidator()),this.modele$=new se.B,this.marque$=new se.B,this.setupPostalCodeListener("preneur"),this.setupPostalCodeListener("conducteur"),this.marque$.pipe(Xe(300),(0,Ve.F)(),(0,_e.M)(()=>this.isMarqueLoading=!0),(0,Ye.n)(u=>u.length<1?(this.filteredMarques=[],(0,K.of)([])):this.dbConnectService.searchMarques(u)),(0,Qe.Q)(this.destroy$)).subscribe(u=>{this.filteredMarques=u,console.log("[Marque] Marques re\xe7ues:",u),this.isMarqueLoading=!1}),this.modele$.pipe(Xe(300),(0,Ve.F)(),(0,_e.M)(()=>this.isModeleLoading=!0),(0,Ye.n)(u=>this.selectedMarque?this.dbConnectService.searchModeles(this.selectedMarque.marque_id,""):(0,K.of)([])),(0,Qe.Q)(this.destroy$)).subscribe(u=>{this.filteredModeles=u,console.log("[Modele] Mod\xe8les re\xe7us:",u),this.isModeleLoading=!1}),this.autoForm.get("conducteurDifferent")?.valueChanges.pipe((0,Qe.Q)(this.destroy$)).subscribe(u=>{this.toggleConducteurValidators(u)})}}onMarqueInput(s){const f=s.target.value.trim();(0,A.UE)(this.platformId)&&(this.marque$.next(f),""===f&&(this.selectedMarque=null,this.autoForm.get("vehicule.modele")?.setValue(""),this.filteredModeles=[]))}ngOnDestroy(){(0,A.UE)(this.platformId)&&(this.destroy$.next(),this.destroy$.complete())}selectPostalCode(s,f){const u=this.autoForm.get(f);u.get("code_postal")?.setValue(s.postalCode,{emitEvent:!1}),this.dbConnectService.getCitiesByPostalCode(s.postalCode).pipe((0,at.$)()).subscribe(O=>{"preneur"===f?(this.preneurCities=O,this.filteredPreneurPostalCodes=[]):(this.conducteurCities=O,this.filteredConducteurPostalCodes=[]),u.get("ville")?.setValue(s.city)})}setupPostalCodeListener(s){const f=this.autoForm.get(`${s}.code_postal`),u=this.autoForm.get(`${s}.ville`);!f||!u||f.valueChanges.pipe(Xe(300),(0,Ve.F)(),(0,_e.M)(()=>this.isLoading=!0),(0,Ye.n)(O=>O&&O.length>=2?this.dbConnectService.getPostalCodes(O):("preneur"===s?this.filteredPreneurPostalCodes=[]:this.filteredConducteurPostalCodes=[],(0,K.of)([]))),(0,_e.M)(()=>{"preneur"===s?this.preneurCities=[]:this.conducteurCities=[],u.setValue("",{emitEvent:!1})}),(0,Qe.Q)(this.destroy$)).subscribe(O=>{this.isLoading=!1,"preneur"===s?this.filteredPreneurPostalCodes=O:this.filteredConducteurPostalCodes=O})}selectMarque(s){this.autoForm.get("vehicule.marque")?.setValue(s.nom),this.selectedMarque=s,this.filteredMarques=[],this.autoForm.get("vehicule.modele")?.setValue(""),this.modele$.next(s.nom)}toggleModeleList(){this.selectedMarque&&(this.showModeleList=!this.showModeleList)}onModeleInput(s){}selectModele(s){this.autoForm.get("vehicule.modele")?.setValue(s.nom),this.filteredModeles=[],this.showModeleList=!1}scrollToSection(s){if((0,A.UE)(this.platformId)){const f=document.getElementById(s);f&&f.scrollIntoView({behavior:"smooth",block:"start"})}}onSubmit(){if((0,A.UE)(this.platformId))if(this.autoForm.valid){this.isSubmitting=!0,this.submissionStatus=null;const s=this.autoForm.get("preneur"),f=s.get("email");f?.hasError("emailExists")?this.dbConnectService.getPersonByEmail(f.value).subscribe(u=>{const O=s.get("permis_numero"),ae=s.get("date_naissance");!u||u.permis_numero===O?.value&&u.date_naissance===ae?.value?this.proceedToSubmit():(this.isSubmitting=!1,this.submissionStatus={success:!1,message:"Les informations saisies (num\xe9ro de permis ou date de naissance) ne correspondent pas \xe0 celles enregistr\xe9es pour cet email. Veuillez v\xe9rifier vos donn\xe9es."})}):this.proceedToSubmit()}else{this.markAllAsTouched(this.autoForm);const s=this.getInvalidFields(this.autoForm);let f="Veuillez remplir tous les champs obligatoires avant de soumettre.";s.length>0&&(f+='<br><br><strong>Champs manquants ou invalides :</strong><ul class="list-disc list-inside mt-2">',s.forEach(u=>{f+=`<li>${u}</li>`}),f+="</ul>"),this.submissionStatus={success:!1,message:f}}}proceedToSubmit(){this.dbConnectService.createFullDevis(this.autoForm.value).subscribe({next:s=>{this.isSubmitting=!1,console.log("Devis enregistr\xe9 avec succ\xe8s",s);const f=this.autoForm.get("preneur")?.value;if(f&&f.email&&f.telephone){const u={email:f.email,telephone:f.telephone};localStorage.setItem("Ifoundyou",JSON.stringify(u)),console.log("Informations de contact sauvegard\xe9es dans Ifoundyou:",u)}localStorage.removeItem("autoFormData"),this.submissionStatus={success:!0,message:"Votre demande de devis a bien \xe9t\xe9 enregistr\xe9e !"}},error:s=>{this.isSubmitting=!1,console.error("Erreur lors de l'enregistrement du devis",s),this.submissionStatus={success:!1,message:"Une erreur est survenue lors de l'enregistrement de votre devis."}}})}closePopup(){this.submissionStatus?.success&&this.autoForm.reset(),this.submissionStatus=null}getInvalidFields(s,f=""){const u=[],O={"preneur.genre":"Genre (Preneur)","preneur.nom":"Nom (Preneur)","preneur.prenom":"Pr\xe9nom (Preneur)","preneur.date_naissance":"Date de naissance (Preneur)","preneur.telephone":"Num\xe9ro de t\xe9l\xe9phone (Preneur)","preneur.email":"Email (Preneur)","preneur.adresse":"Rue et num\xe9ro (Preneur)","preneur.code_postal":"Code Postal (Preneur)","preneur.ville":"Ville (Preneur)","preneur.permis_numero":"Num\xe9ro de permis (Preneur)","preneur.permis_date":"Date d'obtention du permis (Preneur)","conducteur.genre":"Genre (Conducteur)","conducteur.nom":"Nom (Conducteur)","conducteur.prenom":"Pr\xe9nom (Conducteur)","conducteur.date_naissance":"Date de naissance (Conducteur)","conducteur.adresse":"Rue et num\xe9ro (Conducteur)","conducteur.code_postal":"Code Postal (Conducteur)","conducteur.ville":"Ville (Conducteur)","conducteur.permis_numero":"Num\xe9ro de permis (Conducteur)","conducteur.permis_date":"Date d'obtention du permis (Conducteur)","vehicule.type":"Type de v\xe9hicule","vehicule.marque":"Marque","vehicule.modele":"Mod\xe8le","vehicule.puissance":"Puissance (kW)","vehicule.places":"Nombre de places","vehicule.dateCirculation":"Date de 1\xe8re mise en circulation","garanties.omnium":"Choix Omnium",dateEffet:"Date d'effet souhait\xe9e"};return Object.keys(s.controls).forEach(ae=>{const Fe=s.get(ae),it=f?`${f}.${ae}`:ae;if(Fe instanceof C.gE){if("conducteur"===ae&&!s.get("conducteurDifferent")?.value)return;u.push(...this.getInvalidFields(Fe,it))}else if(Fe&&Fe.invalid){const Ct=O[it]||ae;u.includes(Ct)||u.push(Ct)}}),u}toggleConducteurValidators(s){const f=this.autoForm.get("conducteur");s?(f.get("genre")?.setValidators(C.k0.required),f.get("nom")?.setValidators(C.k0.required),f.get("prenom")?.setValidators(C.k0.required),f.get("date_naissance")?.setValidators([C.k0.required,this.ageValidator(14)]),f.get("adresse")?.setValidators(C.k0.required),f.get("code_postal")?.setValidators([C.k0.required,C.k0.pattern("^[0-9]{4}$")]),f.get("ville")?.setValidators(C.k0.required),f.get("permis_numero")?.setValidators([C.k0.required]),f.get("permis_numero")?.setAsyncValidators(this.permisExistsValidator()),f.setValidators(this.datePermisApresNaissanceValidator()),f.get("permis_date")?.setValidators([C.k0.required,this.dateInPastValidator()])):(f.reset(),Object.keys(f.controls).forEach(u=>{f.get(u)?.clearValidators(),f.get(u)?.clearAsyncValidators(),f.clearValidators()})),Object.keys(f.controls).forEach(u=>{f.get(u)?.updateValueAndValidity()})}markAllAsTouched(s){Object.values(s.controls).forEach(f=>{f.markAsTouched(),f instanceof C.gE&&this.markAllAsTouched(f)})}static \u0275fac=function(f){return new(f||c)(e.rXU(xt.y),e.rXU(C.ok),e.rXU(le.Ix),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:c,selectors:[["app-form-auto"]],standalone:!0,features:[e.aNF],decls:232,vars:79,consts:[["id","hero",1,"relative","isolate","bg-black","px-6","pt-14","lg:px-8"],[1,"mx-auto","max-w-7xl","py-8","sm:py-12","lg:py-16"],[1,"grid","grid-cols-1","items-center","gap-x-8","gap-y-16","lg:grid-cols-2"],[1,"text-center","lg:text-left"],[1,"text-4xl","font-bold","tracking-tight","text-white","sm:text-6xl"],[1,"mt-6","text-lg","leading-8","text-gray-300"],[1,"mt-10","flex","items-center","justify-center","gap-x-6","lg:justify-start"],[1,"rounded-md","bg-white","px-3.5","py-2.5","text-sm","font-semibold","text-gray-900","shadow-sm","hover:bg-gray-100","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-white",3,"click"],["routerLink","/contact",1,"text-sm","font-semibold","leading-6","text-white"],["aria-hidden","true"],[1,"flex","justify-center","lg:justify-end"],["src","https://fqopliwvpuiprdegxytz.supabase.co/storage/v1/object/sign/img_website/voiture.webp?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV81MmJmNDFiNC0yNGQ0LTQ3ZTktYmEzNi04YWZmY2NjMzEzNzIiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJpbWdfd2Vic2l0ZS92b2l0dXJlLndlYnAiLCJpYXQiOjE3NjMwMjQ4MjIsImV4cCI6MjA3ODM4NDgyMn0.FImtkSpgJA8sH1jNbWWavhvpy0AvdxxDHeQtg9G40Cg","alt","Voiture rouge pour l'assurance auto",1,"w-full","max-w-xs","rounded-xl","shadow-xl","ring-1","ring-gray-400/10","lg:max-w-md"],["id","content",1,"container","mx-auto","p-4","py-16","sm:py-24"],[1,"grid","grid-cols-1","lg:grid-cols-2","lg:gap-12"],[1,"text-gray-700","prose","lg:prose-lg","max-w-none","prose-h2:mb-4","prose-p:mt-4","prose-ul:mt-4"],[1,"text-2xl","font-bold"],["class","fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center","id","submission-popup",4,"ngIf"],["class","fixed inset-0 bg-gray-800 bg-opacity-75 overflow-y-auto h-full w-full z-50 flex flex-col items-center justify-center",4,"ngIf"],["id","form",1,"space-y-12","bg-white","p-8","rounded-lg","shadow-md","mt-8","lg:mt-0",3,"ngSubmit","formGroup"],["formGroupName","preneur",1,"border-t","pt-6"],[1,"text-xl","font-semibold","px-2","text-gray-700","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],["for","preneur-genre",1,"block","text-sm","font-medium","text-gray-700"],["id","preneur-genre","formControlName","genre",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","preneur-nom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-nom","formControlName","nom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","preneur-prenom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-prenom","formControlName","prenom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","preneur-dob",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","preneur-dob","formControlName","date_naissance",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"max","ngClass"],["class","text-red-600 text-sm mt-1",4,"ngIf"],["for","preneur-tel",1,"block","text-sm","font-medium","text-gray-700"],["type","tel","id","preneur-tel","formControlName","telephone","appPhoneFormat","","placeholder","+32 4XX XX XX XX","maxlength","18",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","preneur-email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","preneur-email","formControlName","email",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],[1,"lg:col-span-2"],["for","preneur-adresse",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-adresse","formControlName","adresse",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],[1,"relative"],["for","preneur-cp",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-cp","formControlName","code_postal","autocomplete","off","maxlength","4",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","pl-3","pr-10","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["class","absolute inset-y-0 right-0 flex items-center pr-3",4,"ngIf"],["class","absolute z-10 w-full bg-white border border-gray-300 rounded-md mt-1 max-h-40 overflow-y-auto",4,"ngIf"],["for","preneur-ville",1,"block","text-sm","font-medium","text-gray-700"],["id","preneur-ville","formControlName","ville",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm","disabled:bg-gray-100",3,"disabled","ngClass"],["value","",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["for","preneur-permis",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-permis","formControlName","permis_numero",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["class","text-orange-800 bg-orange-100 p-2 rounded-md text-sm mt-2",4,"ngIf"],["for","preneur-permis-date",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","preneur-permis-date","formControlName","permis_date",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"max","ngClass"],[1,"border-t","pt-6"],[1,"flex","items-center","mb-4"],["id","conducteur-diff","formControlName","conducteurDifferent","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","conducteur-diff",1,"ml-2","block","text-sm","text-gray-900"],["formGroupName","conducteur","class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",4,"ngIf"],["formGroupName","vehicule",1,"border-t","pt-6"],["for","vehicule-type",1,"block","text-sm","font-medium","text-gray-700"],["id","vehicule-type","formControlName","type",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["value","","disabled",""],["value","Voiture"],["value","Camionnette"],["value","Camion"],["value","Bus"],["value","Mini Bus"],["value","Voiture sans permis"],["value","Moto"],["value","Cyclomoteur"],["value","Trottinette"],["for","vehicule-marque",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","vehicule-marque","formControlName","marque","autocomplete","off","placeholder","Ex: Volkswagen",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"input","ngClass"],["class","absolute inset-y-0 right-0 flex items-center pr-3 top-6",4,"ngIf"],["for","vehicule-modele",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","vehicule-modele","formControlName","modele","readonly","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm","cursor-pointer",3,"click","placeholder","ngClass"],["for","vehicule-puissance",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","vehicule-puissance","formControlName","puissance",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","vehicule-places",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","vehicule-places","formControlName","places",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","vehicule-circu-date",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","vehicule-circu-date","formControlName","dateCirculation",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"max","ngClass"],["for","vehicule-valeur",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","vehicule-valeur","formControlName","valeur","placeholder","\u20ac",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["formGroupName","garanties",1,"border-t","pt-6"],[1,"space-y-4"],[1,"flex","items-start"],[1,"flex","h-5","items-center"],["id","garantie-base","formControlName","base","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],[1,"ml-3","text-sm"],["for","garantie-base",1,"font-medium","text-gray-700"],[1,"text-base","font-medium","text-gray-900"],[1,"mt-2"],[1,"space-y-2","sm:flex","sm:items-center","sm:space-y-0","sm:space-x-10"],[1,"flex","items-center"],["id","omnium-non","formControlName","omnium","value","non","type","radio",1,"h-4","w-4","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","omnium-non",1,"ml-3","block","text-sm","font-medium","text-gray-700"],["id","omnium-partiel","formControlName","omnium","value","partiel","type","radio",1,"h-4","w-4","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","omnium-partiel",1,"ml-3","block","text-sm","font-medium","text-gray-700"],["id","omnium-total","formControlName","omnium","value","total","type","radio",1,"h-4","w-4","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","omnium-total",1,"ml-3","block","text-sm","font-medium","text-gray-700"],["id","garantie-conducteur","formControlName","conducteur","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","garantie-conducteur",1,"font-medium","text-gray-700"],["id","garantie-assistance","formControlName","assistance","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","garantie-assistance",1,"font-medium","text-gray-700"],[1,"pt-4","border-t"],["for","date-effet",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","date-effet","formControlName","dateEffet",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"min","ngClass"],["class","text-green-800 bg-green-100 p-3 rounded-md text-sm mt-4 text-center",4,"ngIf"],[1,"pt-6"],[1,"flex","justify-end"],["type","submit",1,"inline-flex","justify-center","rounded-md","border","border-transparent","bg-indigo-600","py-2","px-4","text-sm","font-medium","text-white","shadow-sm","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2"],["id","submission-popup",1,"fixed","inset-0","bg-gray-600","bg-opacity-50","overflow-y-auto","h-full","w-full","z-50","flex","items-center","justify-center"],[1,"relative","mx-auto","p-5","border","w-full","max-w-md","shadow-lg","rounded-md","bg-white"],[1,"mt-3","text-center"],[1,"mx-auto","flex","items-center","justify-center","h-12","w-12","rounded-full",3,"ngClass"],["class","h-6 w-6 text-green-600","fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["class","h-6 w-6 text-red-600","fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],[1,"text-lg","leading-6","font-medium","text-gray-900","mt-2"],[1,"mt-2","px-7","py-3"],[1,"text-sm","text-gray-500","text-left",3,"innerHTML"],[1,"items-center","px-4","py-3"],["id","close-popup-btn",1,"px-4","py-2","rounded-md","text-white","text-base","font-medium","shadow-sm","w-full",3,"click","ngClass"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"h-6","w-6","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"h-6","w-6","text-red-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"fixed","inset-0","bg-gray-800","bg-opacity-75","overflow-y-auto","h-full","w-full","z-50","flex","flex-col","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-10","w-10","text-white","mb-4"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"text-white","text-lg","font-semibold"],[1,"text-red-600","text-sm","mt-1"],[4,"ngIf"],[1,"absolute","inset-y-0","right-0","flex","items-center","pr-3"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5","text-gray-400"],[1,"absolute","z-10","w-full","bg-white","border","border-gray-300","rounded-md","mt-1","max-h-40","overflow-y-auto"],["class","px-3 py-2 cursor-pointer hover:bg-gray-100",3,"click",4,"ngFor","ngForOf"],[1,"px-3","py-2","cursor-pointer","hover:bg-gray-100",3,"click"],["value",""],[3,"value"],[1,"text-orange-800","bg-orange-100","p-2","rounded-md","text-sm","mt-2"],["formGroupName","conducteur",1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],["for","conducteur-genre",1,"block","text-sm","font-medium","text-gray-700"],["id","conducteur-genre","formControlName","genre",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","conducteur-nom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","conducteur-nom","formControlName","nom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","conducteur-prenom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","conducteur-prenom","formControlName","prenom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","conducteur-dob",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","conducteur-dob","formControlName","date_naissance",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"max","ngClass"],["for","conducteur-adresse",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","conducteur-adresse","formControlName","adresse",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","conducteur-cp",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","conducteur-cp","formControlName","code_postal","autocomplete","off","maxlength","4",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","pl-3","pr-10","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","conducteur-ville",1,"block","text-sm","font-medium","text-gray-700"],["id","conducteur-ville","formControlName","ville",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm","disabled:bg-gray-100",3,"disabled","ngClass"],["for","conducteur-permis",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","conducteur-permis","formControlName","permis_numero",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","conducteur-permis-date",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","conducteur-permis-date","formControlName","permis_date",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"max","ngClass"],[1,"absolute","inset-y-0","right-0","flex","items-center","pr-3","top-6"],[1,"text-green-800","bg-green-100","p-3","rounded-md","text-sm","mt-4","text-center"],["routerLink","/account",1,"font-bold","underline","hover:text-green-700"]],template:function(f,u){if(1&f&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e.EFF(5,"Assurance Auto"),e.k0s(),e.j41(6,"p",5),e.EFF(7,"Souscrire une assurance auto, c\u2019est rouler l\u2019esprit tranquille\u202f! Elle vous prot\xe8ge en cas d\u2019accident et prend en charge les r\xe9parations de votre v\xe9hicule. Sans elle, les impr\xe9vus peuvent co\xfbter tr\xe8s cher et entra\xeener des sanctions. Avec la bonne couverture, vous \xeates serein sur la route et en s\xe9curit\xe9, tout en prot\xe9geant les autres."),e.k0s(),e.j41(8,"div",6)(9,"button",7),e.bIt("click",function(){return u.scrollToSection("content")}),e.EFF(10,"Souscrire"),e.k0s(),e.j41(11,"a",8),e.EFF(12,"Contact "),e.j41(13,"span",9),e.EFF(14,"\u2192"),e.k0s()()()(),e.j41(15,"div",10),e.nrm(16,"img",11),e.k0s()()()(),e.j41(17,"div",12)(18,"div",13)(19,"div",14)(20,"h2",15),e.EFF(21,"Assurances Auto"),e.k0s(),e.j41(22,"p"),e.EFF(23,"La loi stipule que tout propri\xe9taire d\u2019un v\xe9hicule \xe0 moteur doit contracter une assurance auto. Oui, mais laquelle ? Il existe en effet plusieurs niveaux de protection. Tout d\xe9pend donc de votre budget et de vos besoins concernant la qualit\xe9 de la couverture."),e.k0s(),e.j41(24,"p"),e.EFF(25,"Voici les formules les plus r\xe9pandues :"),e.k0s(),e.j41(26,"ul")(27,"li")(28,"strong"),e.EFF(29,"La RC obligatoire (aussi appel\xe9e assurance responsabilit\xe9 civile auto) :"),e.k0s(),e.EFF(30," c\u2019est le minimum l\xe9gal autoris\xe9, puisqu\u2019elle couvre uniquement les dommages (mat\xe9riels et physiques) caus\xe9s \xe0 autrui, lorsque le conducteur est consid\xe9r\xe9 comme responsable."),e.k0s(),e.j41(31,"li")(32,"strong"),e.EFF(33,"La mini omnium propose une couverture au tiers am\xe9lior\xe9e."),e.k0s(),e.EFF(34," Elle est modulable et les garanties propos\xe9es varient d\u2019un assureur \xe0 l\u2019autre (bris de glace, incendie, vol)."),e.k0s(),e.j41(35,"li")(36,"strong"),e.EFF(37,"La full omnium offre un haut niveau de garantie,"),e.k0s(),e.EFF(38," non seulement pour le conducteur mais aussi pour le v\xe9hicule. Les indemnisations en cas de sinistre sont \xe9galement plus rapides et interviennent sans attendre que le litige soit r\xe9gl\xe9 avec l\u2019autre assureur."),e.k0s(),e.j41(39,"li")(40,"strong"),e.EFF(41,"Omnium 24+ :"),e.k0s(),e.EFF(42," il s\u2019agit de la formule omnium adapt\xe9e aux voitures d\u2019occasion."),e.k0s(),e.j41(43,"li")(44,"strong"),e.EFF(45,"Protection juridique :"),e.k0s(),e.EFF(46," elle est toujours utile pour \xe9viter tout conflit d\u2019int\xe9r\xeat avec un tiers, un expert, une compagnie adverse\u2026"),e.k0s()(),e.j41(47,"p"),e.EFF(48,"De plus, un certain nombre d\u2019options permettent de moduler encore chaque formule : niveau de franchise, dommages couverts, \xe2ge du conducteur, assistance et services annexes, protection conducteur, etc."),e.k0s(),e.j41(49,"p"),e.EFF(50,"Bref, vous l\u2019aurez compris, choisir l\u2019assurance auto qui vous convient n\u2019est pas si simple ! Mieux vaut consulter un courtier ind\xe9pendant qui vous proposera une protection personnalis\xe9e."),e.k0s()(),e.DNE(51,Ie,13,12,"div",16)(52,Me,6,0,"div",17),e.j41(53,"form",18),e.bIt("ngSubmit",function(){return u.onSubmit()}),e.j41(54,"fieldset",19)(55,"legend",20),e.EFF(56,"1. Preneur d'assurance"),e.k0s(),e.j41(57,"div",21)(58,"div")(59,"label",22),e.EFF(60,"Genre"),e.k0s(),e.j41(61,"select",23)(62,"option"),e.EFF(63,"Madame"),e.k0s(),e.j41(64,"option"),e.EFF(65,"Monsieur"),e.k0s(),e.j41(66,"option"),e.EFF(67,"Autre"),e.k0s()()(),e.j41(68,"div")(69,"label",24),e.EFF(70,"Nom"),e.k0s(),e.nrm(71,"input",25),e.k0s(),e.j41(72,"div")(73,"label",26),e.EFF(74,"Pr\xe9nom"),e.k0s(),e.nrm(75,"input",27),e.k0s(),e.j41(76,"div")(77,"label",28),e.EFF(78,"Date de naissance"),e.k0s(),e.nrm(79,"input",29),e.DNE(80,Ke,3,2,"div",30),e.k0s(),e.j41(81,"div")(82,"label",31),e.EFF(83,"Num\xe9ro de t\xe9l\xe9phone"),e.k0s(),e.nrm(84,"input",32),e.k0s(),e.j41(85,"div")(86,"label",33),e.EFF(87,"Email"),e.k0s(),e.nrm(88,"input",34),e.DNE(89,Oe,2,0,"div",30),e.k0s(),e.j41(90,"div",35)(91,"label",36),e.EFF(92,"Rue et num\xe9ro"),e.k0s(),e.nrm(93,"input",37),e.k0s(),e.j41(94,"div")(95,"div",38)(96,"label",39),e.EFF(97,"Code Postal"),e.k0s(),e.nrm(98,"input",40),e.DNE(99,ut,4,0,"div",41)(100,hn,2,1,"ul",42),e.k0s()(),e.j41(101,"div")(102,"label",43),e.EFF(103,"Ville"),e.k0s(),e.j41(104,"select",44),e.DNE(105,Dt,2,0,"option",45)(106,pn,2,2,"option",46),e.k0s()(),e.j41(107,"div")(108,"label",47),e.EFF(109,"Num\xe9ro de permis de conduire"),e.k0s(),e.nrm(110,"input",48),e.DNE(111,kt,2,0,"div",49),e.k0s(),e.j41(112,"div")(113,"label",50),e.EFF(114,"Date d'obtention du permis"),e.k0s(),e.nrm(115,"input",51),e.DNE(116,Jt,3,2,"div",30),e.k0s()()(),e.j41(117,"fieldset",52)(118,"legend",20),e.EFF(119,"2. Conducteur principal (si diff\xe9rent)"),e.k0s(),e.j41(120,"div",53),e.nrm(121,"input",54),e.j41(122,"label",55),e.EFF(123,"Le conducteur principal est diff\xe9rent du preneur d'assurance."),e.k0s()(),e.DNE(124,gn,51,37,"div",56),e.k0s(),e.j41(125,"fieldset",57)(126,"legend",20),e.EFF(127,"3. Informations sur le v\xe9hicule"),e.k0s(),e.j41(128,"div",21)(129,"div")(130,"label",58),e.EFF(131,"Type de v\xe9hicule"),e.k0s(),e.j41(132,"select",59)(133,"option",60),e.EFF(134,"S\xe9lectionnez un type"),e.k0s(),e.j41(135,"option",61),e.EFF(136,"Voiture"),e.k0s(),e.j41(137,"option",62),e.EFF(138,"Camionnette"),e.k0s(),e.j41(139,"option",63),e.EFF(140,"Camion"),e.k0s(),e.j41(141,"option",64),e.EFF(142,"Bus"),e.k0s(),e.j41(143,"option",65),e.EFF(144,"Mini Bus"),e.k0s(),e.j41(145,"option",66),e.EFF(146,"Voiture sans permis"),e.k0s(),e.j41(147,"option",67),e.EFF(148,"Moto"),e.k0s(),e.j41(149,"option",68),e.EFF(150,"Cyclomoteur"),e.k0s(),e.j41(151,"option",69),e.EFF(152,"Trottinette"),e.k0s()()(),e.j41(153,"div")(154,"div",38)(155,"label",70),e.EFF(156,"Marque"),e.k0s(),e.j41(157,"input",71),e.bIt("input",function(ae){return u.onMarqueInput(ae)}),e.k0s(),e.DNE(158,vo,4,0,"div",72)(159,Sn,2,1,"ul",42),e.k0s()(),e.j41(160,"div")(161,"div",38)(162,"label",73),e.EFF(163,"Mod\xe8le"),e.k0s(),e.j41(164,"input",74),e.bIt("click",function(){return u.toggleModeleList()}),e.k0s(),e.DNE(165,vn,4,0,"div",72)(166,cn,2,1,"ul",42),e.k0s()(),e.j41(167,"div")(168,"label",75),e.EFF(169,"Puissance (kW)"),e.k0s(),e.nrm(170,"input",76),e.k0s(),e.j41(171,"div")(172,"label",77),e.EFF(173,"Nombre de places (conducteur inclus)"),e.k0s(),e.nrm(174,"input",78),e.k0s(),e.j41(175,"div")(176,"label",79),e.EFF(177,"Date de 1\xe8re mise en circulation"),e.k0s(),e.nrm(178,"input",80),e.DNE(179,Ot,2,1,"div",30),e.k0s(),e.j41(180,"div")(181,"label",81),e.EFF(182,"Valeur catalogue/facture (si Omnium)"),e.k0s(),e.nrm(183,"input",82),e.k0s()()(),e.j41(184,"fieldset",83)(185,"legend",20),e.EFF(186,"4. Garanties souhait\xe9es"),e.k0s(),e.j41(187,"div",84)(188,"div",85)(189,"div",86),e.nrm(190,"input",87),e.k0s(),e.j41(191,"div",88)(192,"label",89),e.EFF(193,"Garantie de base (Responsabilit\xe9 Civile + Protection Juridique)"),e.k0s()()(),e.j41(194,"div")(195,"label",90),e.EFF(196,"Omnium"),e.k0s(),e.j41(197,"fieldset",91)(198,"div",92)(199,"div",93),e.nrm(200,"input",94),e.j41(201,"label",95),e.EFF(202,"Non souhait\xe9e"),e.k0s()(),e.j41(203,"div",93),e.nrm(204,"input",96),e.j41(205,"label",97),e.EFF(206,"Omnium Partielle"),e.k0s()(),e.j41(207,"div",93),e.nrm(208,"input",98),e.j41(209,"label",99),e.EFF(210,"Omnium Totale"),e.k0s()()()()(),e.j41(211,"div",85)(212,"div",86),e.nrm(213,"input",100),e.k0s(),e.j41(214,"div",88)(215,"label",101),e.EFF(216,"Assurance Conducteur"),e.k0s()()(),e.j41(217,"div",85)(218,"div",86),e.nrm(219,"input",102),e.k0s(),e.j41(220,"div",88)(221,"label",103),e.EFF(222,"Assistance"),e.k0s()()()()(),e.j41(223,"div",104)(224,"label",105),e.EFF(225,"Date d'effet souhait\xe9e"),e.k0s(),e.nrm(226,"input",106),e.k0s(),e.DNE(227,fr,6,0,"div",107),e.j41(228,"div",108)(229,"div",109)(230,"button",110),e.EFF(231," Recevoir mon offre "),e.k0s()()()()()()),2&f){let O,ae,Fe,it,Ct,on,Xt,Qn,er,Ut,xi,Li,Ys,ll,Mo,jc,Ss,Xs,ba,As,Ks,ul,Rs,Ea,Ca;e.R7$(51),e.Y8G("ngIf",u.submissionStatus),e.R7$(),e.Y8G("ngIf",u.isSubmitting),e.R7$(),e.Y8G("formGroup",u.autoForm),e.R7$(8),e.Y8G("ngClass",e.eq3(42,qt,(null==(O=u.autoForm.get("preneur.genre"))?null:O.invalid)&&(null==(O=u.autoForm.get("preneur.genre"))?null:O.touched))),e.R7$(10),e.Y8G("ngClass",e.eq3(44,qt,(null==(ae=u.autoForm.get("preneur.nom"))?null:ae.invalid)&&(null==(ae=u.autoForm.get("preneur.nom"))?null:ae.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(46,qt,(null==(Fe=u.autoForm.get("preneur.prenom"))?null:Fe.invalid)&&(null==(Fe=u.autoForm.get("preneur.prenom"))?null:Fe.touched))),e.R7$(4),e.Y8G("max",u.maxDate)("ngClass",e.eq3(48,qt,(null==(it=u.autoForm.get("preneur.date_naissance"))?null:it.invalid)&&(null==(it=u.autoForm.get("preneur.date_naissance"))?null:it.touched))),e.R7$(),e.Y8G("ngIf",(null==(Ct=u.autoForm.get("preneur.date_naissance"))?null:Ct.invalid)&&((null==(Ct=u.autoForm.get("preneur.date_naissance"))?null:Ct.touched)||(null==(Ct=u.autoForm.get("preneur.date_naissance"))?null:Ct.dirty))),e.R7$(4),e.Y8G("ngClass",e.eq3(50,qt,(null==(on=u.autoForm.get("preneur.telephone"))?null:on.invalid)&&(null==(on=u.autoForm.get("preneur.telephone"))?null:on.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(52,qt,(null==(Xt=u.autoForm.get("preneur.email"))?null:Xt.invalid)&&(null==(Xt=u.autoForm.get("preneur.email"))?null:Xt.touched))),e.R7$(),e.Y8G("ngIf",(null==(Qn=u.autoForm.get("preneur.email"))?null:Qn.hasError("email"))&&!(null!=(Qn=u.autoForm.get("preneur.email"))&&Qn.hasError("required"))),e.R7$(4),e.Y8G("ngClass",e.eq3(54,qt,(null==(er=u.autoForm.get("preneur.adresse"))?null:er.invalid)&&(null==(er=u.autoForm.get("preneur.adresse"))?null:er.touched))),e.R7$(5),e.Y8G("ngClass",e.eq3(56,qt,(null==(Ut=u.autoForm.get("preneur.code_postal"))?null:Ut.invalid)&&(null==(Ut=u.autoForm.get("preneur.code_postal"))?null:Ut.touched))),e.R7$(),e.Y8G("ngIf",u.isLoading),e.R7$(),e.Y8G("ngIf",u.filteredPreneurPostalCodes.length>0),e.R7$(4),e.Y8G("disabled",0===u.preneurCities.length)("ngClass",e.eq3(58,qt,(null==(xi=u.autoForm.get("preneur.ville"))?null:xi.invalid)&&(null==(xi=u.autoForm.get("preneur.ville"))?null:xi.touched))),e.R7$(),e.Y8G("ngIf",0===u.preneurCities.length),e.R7$(),e.Y8G("ngForOf",u.preneurCities),e.R7$(4),e.Y8G("ngClass",e.eq3(60,qt,(null==(Li=u.autoForm.get("preneur.permis_numero"))?null:Li.invalid)&&(null==(Li=u.autoForm.get("preneur.permis_numero"))?null:Li.touched))),e.R7$(),e.Y8G("ngIf",null==(Ys=u.autoForm.get("preneur.permis_numero"))?null:Ys.hasError("permisExists")),e.R7$(4),e.Y8G("max",u.maxDate)("ngClass",e.eq3(62,qt,(null==(ll=u.autoForm.get("preneur.permis_date"))?null:ll.invalid)&&(null==(ll=u.autoForm.get("preneur.permis_date"))?null:ll.touched))),e.R7$(),e.Y8G("ngIf",(null==(Mo=u.autoForm.get("preneur.permis_date"))?null:Mo.invalid)&&((null==(Mo=u.autoForm.get("preneur.permis_date"))?null:Mo.touched)||(null==(Mo=u.autoForm.get("preneur.permis_date"))?null:Mo.dirty))),e.R7$(8),e.Y8G("ngIf",null==(jc=u.autoForm.get("conducteurDifferent"))?null:jc.value),e.R7$(8),e.Y8G("ngClass",e.eq3(64,qt,(null==(Ss=u.autoForm.get("vehicule.type"))?null:Ss.invalid)&&(null==(Ss=u.autoForm.get("vehicule.type"))?null:Ss.touched))),e.R7$(25),e.Y8G("ngClass",e.eq3(66,qt,(null==(Xs=u.autoForm.get("vehicule.marque"))?null:Xs.invalid)&&(null==(Xs=u.autoForm.get("vehicule.marque"))?null:Xs.touched))),e.R7$(),e.Y8G("ngIf",u.isMarqueLoading),e.R7$(),e.Y8G("ngIf",u.filteredMarques.length>0),e.R7$(5),e.Y8G("placeholder",u.selectedMarque?u.isModeleLoading?"Chargement...":"Cliquez pour choisir un mod\xe8le":"S\xe9lectionnez une marque")("ngClass",e.l_i(68,tr,(null==(ba=u.autoForm.get("vehicule.modele"))?null:ba.invalid)&&(null==(ba=u.autoForm.get("vehicule.modele"))?null:ba.touched),!u.selectedMarque)),e.R7$(),e.Y8G("ngIf",u.isModeleLoading),e.R7$(),e.Y8G("ngIf",u.showModeleList&&u.filteredModeles.length>0),e.R7$(4),e.Y8G("ngClass",e.eq3(71,qt,(null==(As=u.autoForm.get("vehicule.puissance"))?null:As.invalid)&&(null==(As=u.autoForm.get("vehicule.puissance"))?null:As.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(73,qt,(null==(Ks=u.autoForm.get("vehicule.places"))?null:Ks.invalid)&&(null==(Ks=u.autoForm.get("vehicule.places"))?null:Ks.touched))),e.R7$(4),e.Y8G("max",u.maxDate)("ngClass",e.eq3(75,qt,(null==(ul=u.autoForm.get("vehicule.dateCirculation"))?null:ul.invalid)&&(null==(ul=u.autoForm.get("vehicule.dateCirculation"))?null:ul.touched))),e.R7$(),e.Y8G("ngIf",(null==(Rs=u.autoForm.get("vehicule.dateCirculation"))?null:Rs.invalid)&&((null==(Rs=u.autoForm.get("vehicule.dateCirculation"))?null:Rs.touched)||(null==(Rs=u.autoForm.get("vehicule.dateCirculation"))?null:Rs.dirty))),e.R7$(47),e.Y8G("min",u.minDate)("ngClass",e.eq3(77,qt,(null==(Ea=u.autoForm.get("dateEffet"))?null:Ea.invalid)&&(null==(Ea=u.autoForm.get("dateEffet"))?null:Ea.touched))),e.R7$(),e.Y8G("ngIf",(null==(Ca=u.autoForm.get("preneur.email"))?null:Ca.hasError("emailExists"))&&(null==(Ca=u.autoForm.get("preneur.email"))?null:Ca.touched))}},dependencies:[A.MD,A.YU,A.Sq,A.bT,C.YN,C.qT,C.xH,C.y7,C.me,C.Q0,C.Zm,C.wz,C.Fm,C.BC,C.cb,C.tU,C.X1,C.j4,C.JD,C.$R,le.Wk,Nt],encapsulation:2})}return c})();const Mn=c=>({"ring-red-500":c}),Dr=(c,T)=>({"bg-green-100 text-green-800":c,"bg-red-100 text-red-800":T});function Bn(c,T){if(1&c&&(e.j41(0,"div",97),e.EFF(1),e.k0s()),2&c){const s=e.XpG();e.Y8G("ngClass",e.l_i(2,Dr,s.submissionStatus.success,!s.submissionStatus.success)),e.R7$(),e.SpI(" ",s.submissionStatus.message," ")}}function Se(c,T){1&c&&(e.j41(0,"div",98),e.EFF(1," Bonne nouvelle ! Cet email est d\xe9j\xe0 connu chez nous. "),e.j41(2,"a",99),e.EFF(3,"Connectez-vous"),e.k0s(),e.EFF(4," pour acc\xe9l\xe9rer votre demande. "),e.k0s())}function ye(c,T){1&c&&(e.j41(0,"div",100),e.qSk(),e.j41(1,"svg",101),e.nrm(2,"circle",102)(3,"path",103),e.k0s()())}function te(c,T){if(1&c){const s=e.RV6();e.j41(0,"li",106),e.bIt("click",function(){const u=e.eBV(s).$implicit,O=e.XpG(2);return e.Njj(O.selectPostalCode(u))}),e.EFF(1),e.k0s()}if(2&c){const s=T.$implicit;e.R7$(),e.Lme(" ",s.postalCode," - ",s.city," ")}}function fe(c,T){if(1&c&&(e.j41(0,"ul",104),e.DNE(1,te,2,2,"li",105),e.k0s()),2&c){const s=e.XpG();e.R7$(),e.Y8G("ngForOf",s.filteredPostalCodes)}}function Be(c,T){1&c&&(e.j41(0,"option",107),e.EFF(1,"S\xe9lectionner une ville"),e.k0s())}function st(c,T){if(1&c&&(e.j41(0,"option",108),e.EFF(1),e.k0s()),2&c){const s=T.$implicit;e.Y8G("value",s),e.R7$(),e.SpI(" ",s," ")}}function Tt(c,T){1&c&&(e.j41(0,"div"),e.EFF(1," Le nombre de pi\xe8ces doit \xeatre d'au moins 3. "),e.k0s())}function Bt(c,T){if(1&c&&(e.j41(0,"div",109),e.DNE(1,Tt,2,0,"div",110),e.k0s()),2&c){let s;const f=e.XpG();e.R7$(),e.Y8G("ngIf",null==(s=f.habitationForm.get("evaluation.nombrePieces"))?null:s.hasError("min"))}}function Cn(c,T){if(1&c&&(e.j41(0,"div",111)(1,"div")(2,"label",112),e.EFF(3,"Valeur de l'expertise (\u20ac)"),e.k0s(),e.nrm(4,"input",113),e.k0s(),e.j41(5,"div")(6,"label",114),e.EFF(7,"Mois et ann\xe9e de l'expertise"),e.k0s(),e.nrm(8,"input",115),e.k0s()()),2&c){let s,f;const u=e.XpG();e.R7$(4),e.Y8G("ngClass",e.eq3(2,Mn,(null==(s=u.habitationForm.get("evaluation.valeurExpertise"))?null:s.invalid)&&(null==(s=u.habitationForm.get("evaluation.valeurExpertise"))?null:s.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(4,Mn,(null==(f=u.habitationForm.get("evaluation.dateExpertise"))?null:f.invalid)&&(null==(f=u.habitationForm.get("evaluation.dateExpertise"))?null:f.touched)))}}function rr(c,T){if(1&c&&(e.j41(0,"div",116),e.nrm(1,"input",117),e.k0s()),2&c){let s;const f=e.XpG();e.R7$(),e.Y8G("ngClass",e.eq3(1,Mn,(null==(s=f.habitationForm.get("evaluation.valeurLibre"))?null:s.invalid)&&(null==(s=f.habitationForm.get("evaluation.valeurLibre"))?null:s.touched)))}}function Fr(c,T){if(1&c&&(e.j41(0,"div",97),e.EFF(1),e.k0s()),2&c){const s=e.XpG();e.Y8G("ngClass",e.l_i(2,Dr,s.submissionStatus.success,!s.submissionStatus.success)),e.R7$(),e.SpI(" ",s.submissionStatus.message," ")}}let Er=(()=>{class c{fb;dbConnectService;platformId;habitationForm;minDate;submissionStatus=null;destroy$=new se.B;filteredPostalCodes=[];cities=[];isLoading=!1;constructor(s,f,u){this.fb=s,this.dbConnectService=f,this.platformId=u;const ae=new Date(new Date);ae.setDate(ae.getDate()+1),this.minDate=ae.toISOString().split("T")[0],this.habitationForm=this.fb.group({preneur:this.fb.group({genre:["Madame",C.k0.required],nom:["",C.k0.required],prenom:["",C.k0.required],dateNaissance:["",C.k0.required],telephone:["",C.k0.required],email:["",[C.k0.required,C.k0.email]]}),batiment:this.fb.group({adresse:["",C.k0.required],codePostal:["",C.k0.required],ville:["",C.k0.required],typeMaison:["Maison 2 fa\xe7ades",C.k0.required]}),evaluation:this.fb.group({valeurBatiment:["expertise",C.k0.required],superficie:["",C.k0.required],nombrePieces:["",[C.k0.required,C.k0.min(3)]],loyer:[""],valeurContenu:["courtier",C.k0.required],valeurExpertise:[null],dateExpertise:[null],valeurLibre:[null]}),garanties:this.fb.group({contenu:[!1],vol:[!1],pertesIndirectes:[!1],protectionJuridique:[!1],assistance:[!1]}),dateEffet:[this.minDate,C.k0.required]})}get emailExists(){return!0===this.habitationForm.get("preneur.email")?.emailExists}checkEmailExistence(s){return s.emailExists=!1,s.value?this.dbConnectService.checkEmailExists(s.value).pipe((0,_e.M)(f=>{f&&(s.emailExists=!0)}),(0,he.T)(()=>null),(0,Q.W)(()=>(s.emailExists=!1,(0,K.of)(null)))):(0,K.of)(null)}ngOnInit(){if((0,A.UE)(this.platformId)){this.setupEvaluationValidators(),this.habitationForm.get("batiment.codePostal")?.valueChanges.pipe(Xe(300),(0,Ve.F)(),(0,_e.M)(()=>this.isLoading=!0),(0,Ye.n)(f=>f&&f.length>=2?this.dbConnectService.getPostalCodes(f):(this.filteredPostalCodes=[],(0,K.of)([]))),(0,_e.M)(()=>{this.filteredPostalCodes.length>0&&(this.cities=[],this.habitationForm.get("batiment.ville")?.setValue(""))}),(0,Qe.Q)(this.destroy$)).subscribe(f=>{this.isLoading=!1,this.filteredPostalCodes=f});const s=this.habitationForm.get("preneur.email");s&&s.valueChanges.pipe(Xe(500),(0,Ve.F)(),(0,Ye.n)(()=>this.checkEmailExistence(s)),(0,Qe.Q)(this.destroy$)).subscribe()}}setupEvaluationValidators(){const s=this.habitationForm.get("evaluation"),f=s.get("valeurBatiment"),u=s.get("valeurExpertise"),O=s.get("dateExpertise"),ae=s.get("valeurLibre");f?.valueChanges.pipe((0,Qe.Q)(this.destroy$)).subscribe(Fe=>{"expertise"===Fe?(u?.setValidators([C.k0.required,C.k0.min(1)]),O?.setValidators(C.k0.required),ae?.clearValidators(),ae?.setValue(null)):"libre"===Fe?(ae?.setValidators([C.k0.required,C.k0.min(1)]),u?.clearValidators(),O?.clearValidators(),u?.setValue(null),O?.setValue(null)):(u?.clearValidators(),O?.clearValidators(),ae?.clearValidators()),u?.updateValueAndValidity(),O?.updateValueAndValidity(),ae?.updateValueAndValidity()})}ngOnDestroy(){(0,A.UE)(this.platformId)&&(this.destroy$.next(),this.destroy$.complete())}selectPostalCode(s){const f=this.filteredPostalCodes.find(u=>u.postalCode===s.postalCode&&u.city===s.city);f&&(this.habitationForm.get("batiment.codePostal")?.setValue(f.postalCode,{emitEvent:!1}),this.habitationForm.get("batiment.ville")?.setValue(f.city),this.cities=[f.city],this.habitationForm.get("batiment.ville")?.updateValueAndValidity()),this.filteredPostalCodes=[]}onSubmit(){this.habitationForm.valid?this.dbConnectService.createHabitationQuote(this.habitationForm.value).subscribe({next:s=>{console.log("Devis habitation enregistr\xe9 avec succ\xe8s",s),this.submissionStatus={success:!0,message:"Votre demande de devis a bien \xe9t\xe9 enregistr\xe9e !"}},error:s=>{console.error("Erreur lors de l'enregistrement du devis habitation",s),this.submissionStatus={success:!1,message:"Une erreur est survenue lors de l'enregistrement de votre devis."}}}):(console.error("Formulaire invalide"),this.submissionStatus={success:!1,message:"Veuillez remplir tous les champs obligatoires avant de soumettre."})}scrollToSection(s){if((0,A.UE)(this.platformId)){const f=document.getElementById(s);f&&f.scrollIntoView({behavior:"smooth",block:"start"})}}static \u0275fac=function(f){return new(f||c)(e.rXU(C.ok),e.rXU(xt.y),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:c,selectors:[["app-form-habitation"]],standalone:!0,features:[e.Jv_([xt.y]),e.aNF],decls:218,vars:41,consts:[["id","hero",1,"relative","isolate","bg-black","px-6","pt-14","lg:px-8"],[1,"mx-auto","max-w-7xl","py-8","sm:py-12","lg:py-16"],[1,"grid","grid-cols-1","items-center","gap-x-8","gap-y-16","lg:grid-cols-2"],[1,"text-center","lg:text-left"],[1,"text-4xl","font-bold","tracking-tight","text-white","sm:text-6xl"],[1,"mt-6","text-lg","leading-8","text-gray-300"],[1,"mt-10","flex","items-center","justify-center","gap-x-6","lg:justify-start"],[1,"rounded-md","bg-indigo-600","px-3.5","py-2.5","text-sm","font-semibold","text-white","shadow-sm","hover:bg-indigo-700","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-indigo-600",3,"click"],["routerLink","/contact",1,"text-sm","font-semibold","leading-6","text-white"],["aria-hidden","true"],[1,"flex","justify-center","lg:justify-end"],["src","https://fqopliwvpuiprdegxytz.supabase.co/storage/v1/object/sign/img_website/ahabitation.webp?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV81MmJmNDFiNC0yNGQ0LTQ3ZTktYmEzNi04YWZmY2NjMzEzNzIiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJpbWdfd2Vic2l0ZS9haGFiaXRhdGlvbi53ZWJwIiwiaWF0IjoxNzYzMDI1NjMxLCJleHAiOjIwNzgzODU2MzF9.XXro16g7nOi_EJfF2jVBFAaRCfCcf0xoHrcUfIUUo70","alt","Assurance",1,"w-full","max-w-xs","rounded-xl","shadow-xl","ring-1","ring-gray-400/10","lg:max-w-md"],["id","content",1,"container","mx-auto","p-4","py-16","sm:py-24"],[1,"grid","grid-cols-1","lg:grid-cols-2","lg:gap-12"],[1,"text-gray-700","prose","lg:prose-lg","max-w-none","prose-h2:mb-4","prose-p:mt-4","prose-ul:mt-4"],[1,"text-2xl","font-bold"],[1,"text-2xl","font-bold","mt-8"],["id","form",1,"space-y-12","bg-white","p-8","rounded-lg","shadow-md","mt-8","lg:mt-0",3,"ngSubmit","formGroup"],["class","p-4 mb-4 text-sm rounded-lg","role","alert",3,"ngClass",4,"ngIf"],["formGroupName","preneur",1,"border-t","pt-6"],[1,"text-xl","font-semibold","px-2","text-gray-700","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["for","preneur-genre",1,"block","text-sm","font-medium","text-gray-700"],["id","preneur-genre","formControlName","genre","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","preneur-nom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-nom","formControlName","nom","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","preneur-prenom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-prenom","formControlName","prenom","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","preneur-dob",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","preneur-dob","formControlName","dateNaissance","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","preneur-tel",1,"block","text-sm","font-medium","text-gray-700"],["type","tel","id","preneur-tel","formControlName","telephone","required","","appPhoneFormat","","placeholder","+32 4XX XX XX XX","maxlength","18",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","preneur-email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","preneur-email","formControlName","email","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["class","text-green-800 bg-green-100 p-2 rounded-md text-sm mt-2",4,"ngIf"],["formGroupName","batiment",1,"border-t","pt-6"],[1,"md:col-span-2"],["for","adresse",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","adresse","formControlName","adresse","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],[1,"relative"],["for","code-postal",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","code-postal","formControlName","codePostal","required","","autocomplete","off",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["class","absolute inset-y-0 right-0 flex items-center pr-3 top-6",4,"ngIf"],["class","absolute z-10 w-full bg-white border border-gray-300 rounded-md mt-1 max-h-40 overflow-y-auto",4,"ngIf"],["for","ville",1,"block","text-sm","font-medium","text-gray-700"],["id","ville","formControlName","ville","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm","disabled:bg-gray-100",3,"disabled"],["value","",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["for","type-maison",1,"block","text-sm","font-medium","text-gray-700"],["id","type-maison","formControlName","typeMaison","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["formGroupName","evaluation",1,"border-t","pt-6"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-8"],["for","superficie",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","superficie","formControlName","superficie","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","nombre-pieces",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","nombre-pieces","formControlName","nombrePieces","required","","placeholder","Salon + Cuisine = 1 pi\xe8ce",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["class","text-red-600 text-sm mt-1",4,"ngIf"],["for","loyer",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","loyer","formControlName","loyer","placeholder","\u20ac",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-8","mt-8"],[1,"text-base","font-medium","text-gray-900"],[1,"mt-2"],[1,"space-y-2"],[1,"flex","items-center"],["id","valeur-bat-expertise","formControlName","valeurBatiment","value","expertise","type","radio",1,"h-4","w-4","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","valeur-bat-expertise",1,"ml-3","block","text-sm","font-medium","text-gray-700"],["class","mt-4 ml-7 space-y-4",4,"ngIf"],["id","valeur-bat-libre","formControlName","valeurBatiment","value","libre","type","radio",1,"h-4","w-4","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","valeur-bat-libre",1,"ml-3","block","text-sm","font-medium","text-gray-700"],["class","mt-4 ml-7",4,"ngIf"],["id","valeur-cont-courtier","formControlName","valeurContenu","value","courtier","type","radio",1,"h-4","w-4","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","valeur-cont-courtier",1,"ml-3","block","text-sm","font-medium","text-gray-700"],["id","valeur-cont-prospect","formControlName","valeurContenu","value","prospect","type","radio",1,"h-4","w-4","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","valeur-cont-prospect",1,"ml-3","block","text-sm","font-medium","text-gray-700"],["formGroupName","garanties",1,"border-t","pt-6"],[1,"space-y-4"],[1,"text-sm","text-gray-600"],[1,"grid","grid-cols-2","md:grid-cols-3","gap-4"],[1,"flex","items-start"],[1,"flex","h-5","items-center"],["id","garantie-contenu","formControlName","contenu","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],[1,"ml-3","text-sm"],["for","garantie-contenu",1,"font-medium","text-gray-700"],["id","garantie-vol","formControlName","vol","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","garantie-vol",1,"font-medium","text-gray-700"],["id","garantie-pertes","formControlName","pertesIndirectes","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","garantie-pertes",1,"font-medium","text-gray-700"],["id","garantie-pj","formControlName","protectionJuridique","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","garantie-pj",1,"font-medium","text-gray-700"],["id","garantie-assistance","formControlName","assistance","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","garantie-assistance",1,"font-medium","text-gray-700"],[1,"pt-4","border-t"],["for","date-effet",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","date-effet","formControlName","dateEffet","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"min"],[1,"pt-6"],[1,"flex","justify-end"],["type","submit",1,"inline-flex","justify-center","rounded-md","border","border-transparent","bg-indigo-600","py-2","px-4","text-sm","font-medium","text-white","shadow-sm","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2","disabled:bg-gray-400","disabled:cursor-not-allowed",3,"disabled"],["role","alert",1,"p-4","mb-4","text-sm","rounded-lg",3,"ngClass"],[1,"text-green-800","bg-green-100","p-2","rounded-md","text-sm","mt-2"],["routerLink","/login",1,"font-bold","underline","hover:text-green-700"],[1,"absolute","inset-y-0","right-0","flex","items-center","pr-3","top-6"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5","text-gray-400"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"absolute","z-10","w-full","bg-white","border","border-gray-300","rounded-md","mt-1","max-h-40","overflow-y-auto"],["class","px-3 py-2 cursor-pointer hover:bg-gray-100",3,"click",4,"ngFor","ngForOf"],[1,"px-3","py-2","cursor-pointer","hover:bg-gray-100",3,"click"],["value",""],[3,"value"],[1,"text-red-600","text-sm","mt-1"],[4,"ngIf"],[1,"mt-4","ml-7","space-y-4"],["for","valeur-expertise",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","valeur-expertise","formControlName","valeurExpertise","placeholder","Ex: 250000",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","date-expertise",1,"block","text-sm","font-medium","text-gray-700"],["type","month","id","date-expertise","formControlName","dateExpertise",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],[1,"mt-4","ml-7"],["type","number","id","valeur-libre","formControlName","valeurLibre","placeholder","Montant en \u20ac",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"]],template:function(f,u){if(1&f&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e.EFF(5,"Assurance Habitation"),e.k0s(),e.j41(6,"p",5),e.EFF(7,"Avoir une assurance habitation est essentiel pour prot\xe9ger votre logement et vos biens contre les risques impr\xe9vus tels que incendie, vol ou d\xe9g\xe2ts des eaux. Elle offre une s\xe9curit\xe9 financi\xe8re en couvrant les r\xe9parations ou le remplacement des biens endommag\xe9s. En cas de responsabilit\xe9 civile, elle prot\xe8ge \xe9galement contre les dommages caus\xe9s involontairement \xe0 des tiers. Ainsi, une assurance habitation vous apporte tranquillit\xe9 d\u2019esprit et s\xe9r\xe9nit\xe9 au quotidien."),e.k0s(),e.j41(8,"div",6)(9,"button",7),e.bIt("click",function(){return u.scrollToSection("content")}),e.EFF(10,"Souscrire"),e.k0s(),e.j41(11,"a",8),e.EFF(12,"Contact "),e.j41(13,"span",9),e.EFF(14,"\u2192"),e.k0s()()()(),e.j41(15,"div",10),e.nrm(16,"img",11),e.k0s()()()(),e.j41(17,"div",12)(18,"div",13)(19,"div",14)(20,"h2",15),e.EFF(21,"L\u2019assurance habitation est-elle vraiment indispensable ?"),e.k0s(),e.j41(22,"p"),e.EFF(23,"Assurkin vous propose une assurance habitation qui vous offre une protection compl\xe8te contre les dommages caus\xe9s \xe0 votre habitation et \xe0 vos biens, ainsi que votre responsabilit\xe9 civile envers autrui."),e.k0s(),e.j41(24,"p"),e.EFF(25,"Si vous \xeates propri\xe9taire, il est crucial de prot\xe9ger votre habitation et vos biens mobiliers contre divers risques tels que l'incendie, l'inondation, les catastrophes naturelles, etc. Si vous \xeates locataire, l'assurance habitation couvre votre responsabilit\xe9 en cas de dommages caus\xe9s au logement que vous occupez."),e.k0s(),e.j41(26,"p"),e.EFF(27,"Dans certains cas, vous pourriez \xeatre contraint de souscrire une assurance incendie, qui constitue la base de toute assurance habitation. En tant que propri\xe9taire, votre banque pourrait l'exiger dans le cadre de l'obtention d'un pr\xeat. Si vous \xeates locataire, l'assurance habitation peut \xeatre une clause incluse dans votre contrat de location. Assurkin vous accompagne pour choisir la meilleure protection adapt\xe9e \xe0 vos besoins et \xe0 votre situation."),e.k0s(),e.j41(28,"h2",16),e.EFF(29,"Que couvre l\u2019assurance habitation ?"),e.k0s(),e.j41(30,"p"),e.EFF(31,"L'assurance habitation, souvent multirisques, d\xe9taille les garanties incluses comme la couverture incendie, les d\xe9g\xe2ts des eaux et d'autres risques comme les dommages m\xe9t\xe9orologiques, les cambriolages ou les bris de vitrage. Des mesures de protection sont n\xe9cessaires pour b\xe9n\xe9ficier de l'assurance. En plus des couvertures obligatoires, des options facultatives comme la couverture vol et vandalisme sont propos\xe9es, avec des services suppl\xe9mentaires comme l'assistance d'urgence. Diverses ouvertures en option sont disponibles telles que la couverture pour une activit\xe9 professionnelle \xe0 domicile ou pour une piscine."),e.k0s(),e.j41(32,"h2",16),e.EFF(33,"Comment \xeatre certain d\u2019obtenir le meilleur prix ?"),e.k0s(),e.j41(34,"p"),e.EFF(35,"Pour comparer les assurances habitation, Internet est le moyen le plus simple et rapide. Cependant, il est crucial de comparer des offres similaires en termes de garanties et de services, en plus des prix. Il est donc essentiel de v\xe9rifier minutieusement les risques couverts par chaque police d'assurance propos\xe9e. \xc9tant donn\xe9 la complexit\xe9 de cette t\xe2che, nous recommandons vivement de consulter nos courtiers avant de prendre une d\xe9cision !"),e.k0s(),e.j41(36,"p"),e.EFF(37,"Le co\xfbt d'une assurance habitation d\xe9pend de plusieurs crit\xe8res, notamment le type de mat\xe9riaux utilis\xe9s, le risque de cambriolage li\xe9 \xe0 l'emplacement de la r\xe9sidence, les options de couverture choisies, la valeur estim\xe9e de la propri\xe9t\xe9 et le montant de la franchise."),e.k0s(),e.j41(38,"h2",16),e.EFF(39,"Quels changements doit-on signaler \xe0 son assureur ?"),e.k0s(),e.j41(40,"p"),e.EFF(41,"Il est crucial de d\xe9clarer tout changement \xe0 votre assureur, m\xeame si cela peut entra\xeener une augmentation de la prime. Ne pas le faire expose \xe0 un risque de sous-indemnisation ou m\xeame de refus d'indemnisation si le bien assur\xe9 n'est plus conforme."),e.k0s(),e.j41(42,"p"),e.EFF(43,"L'assureur \xe9value le montant de la prime en tenant compte des caract\xe9ristiques de votre bien. Tout ajout tel qu'une pi\xe8ce suppl\xe9mentaire, un \xe9tage, une piscine ou un spa doit \xeatre signal\xe9. \xc0 noter qu'installer un syst\xe8me d'alarme peut entra\xeener une r\xe9duction de la prime."),e.k0s(),e.j41(44,"p"),e.EFF(45,"De plus, si vous exercez des activit\xe9s professionnelles \xe0 domicile ou stockez du mat\xe9riel professionnel, la couverture peut \xeatre limit\xe9e. Il est donc recommand\xe9 d'en discuter avec votre courtier. Enfin, souscrire une assurance responsabilit\xe9 civile est essentiel, notamment si vous recevez des clients \xe0 domicile."),e.k0s(),e.j41(46,"h2",16),e.EFF(47,"Les objets de valeur sont-ils couverts ?"),e.k0s(),e.j41(48,"p"),e.EFF(49,"Les bijoux comme les objets d\u2019art et autres objets de valeur peuvent \xeatre couverts. Mais pas toujours. Dans ce cas, l\u2019assureur peut soit appliquer une surprime, soit proposer une assurance sp\xe9cifique."),e.k0s()(),e.j41(50,"form",17),e.bIt("ngSubmit",function(){return u.onSubmit()}),e.DNE(51,Bn,2,5,"div",18),e.j41(52,"fieldset",19)(53,"legend",20),e.EFF(54,"1. Informations sur le preneur"),e.k0s(),e.j41(55,"div",21)(56,"div")(57,"label",22),e.EFF(58,"Genre"),e.k0s(),e.j41(59,"select",23)(60,"option"),e.EFF(61,"Madame"),e.k0s(),e.j41(62,"option"),e.EFF(63,"Monsieur"),e.k0s(),e.j41(64,"option"),e.EFF(65,"Autre"),e.k0s()()(),e.j41(66,"div")(67,"label",24),e.EFF(68,"Nom"),e.k0s(),e.nrm(69,"input",25),e.k0s(),e.j41(70,"div")(71,"label",26),e.EFF(72,"Pr\xe9nom"),e.k0s(),e.nrm(73,"input",27),e.k0s(),e.j41(74,"div")(75,"label",28),e.EFF(76,"Date de naissance"),e.k0s(),e.nrm(77,"input",29),e.k0s(),e.j41(78,"div")(79,"label",30),e.EFF(80,"Num\xe9ro de t\xe9l\xe9phone"),e.k0s(),e.nrm(81,"input",31),e.k0s(),e.j41(82,"div")(83,"label",32),e.EFF(84,"Email"),e.k0s(),e.nrm(85,"input",33),e.DNE(86,Se,5,0,"div",34),e.k0s()()(),e.j41(87,"fieldset",35)(88,"legend",20),e.EFF(89,"2. B\xe2timent \xe0 assurer"),e.k0s(),e.j41(90,"div",21)(91,"div",36)(92,"label",37),e.EFF(93,"Rue et num\xe9ro"),e.k0s(),e.nrm(94,"input",38),e.k0s(),e.j41(95,"div")(96,"div",39)(97,"label",40),e.EFF(98,"Code Postal"),e.k0s(),e.nrm(99,"input",41),e.DNE(100,ye,4,0,"div",42)(101,fe,2,1,"ul",43),e.k0s()(),e.j41(102,"div")(103,"label",44),e.EFF(104,"Ville"),e.k0s(),e.j41(105,"select",45),e.DNE(106,Be,2,0,"option",46)(107,st,2,2,"option",47),e.k0s()(),e.j41(108,"div")(109,"label",48),e.EFF(110,"Type de maison"),e.k0s(),e.j41(111,"select",49)(112,"option"),e.EFF(113,"Maison 2 fa\xe7ades"),e.k0s(),e.j41(114,"option"),e.EFF(115,"Maison 3 fa\xe7ades"),e.k0s(),e.j41(116,"option"),e.EFF(117,"Maison 4 fa\xe7ades (villa)"),e.k0s(),e.j41(118,"option"),e.EFF(119,"Appartement"),e.k0s(),e.j41(120,"option"),e.EFF(121,"Studio"),e.k0s(),e.j41(122,"option"),e.EFF(123,"Autre"),e.k0s()()()()(),e.j41(124,"fieldset",50)(125,"legend",20),e.EFF(126,"3. \xc9valuation des biens"),e.k0s(),e.j41(127,"div",51)(128,"div")(129,"label",52),e.EFF(130,"Superficie (m\xb2)"),e.k0s(),e.nrm(131,"input",53),e.k0s(),e.j41(132,"div")(133,"label",54),e.EFF(134,"Nombre de pi\xe8ces"),e.k0s(),e.nrm(135,"input",55),e.DNE(136,Bt,2,1,"div",56),e.k0s(),e.j41(137,"div")(138,"label",57),e.EFF(139,"Loyer mensuel (charges comprises)"),e.k0s(),e.nrm(140,"input",58),e.k0s()(),e.j41(141,"div",59)(142,"div")(143,"label",60),e.EFF(144,"Valeur du b\xe2timent"),e.k0s(),e.j41(145,"fieldset",61)(146,"div",62)(147,"div")(148,"div",63),e.nrm(149,"input",64),e.j41(150,"label",65),e.EFF(151,"Valeur du b\xe2timent selon expertise"),e.k0s()(),e.DNE(152,Cn,9,6,"div",66),e.k0s(),e.j41(153,"div")(154,"div",63),e.nrm(155,"input",67),e.j41(156,"label",68),e.EFF(157,"Valeur du b\xe2timent librement exprim\xe9e"),e.k0s()(),e.DNE(158,rr,2,3,"div",69),e.k0s()()()(),e.j41(159,"div")(160,"label",60),e.EFF(161,"Valeur du contenu"),e.k0s(),e.j41(162,"fieldset",61)(163,"div",62)(164,"div",63),e.nrm(165,"input",70),e.j41(166,"label",71),e.EFF(167,"D\xe9termin\xe9e par le courtier (bas\xe9 sur le b\xe2timent)"),e.k0s()(),e.j41(168,"div",63),e.nrm(169,"input",72),e.j41(170,"label",73),e.EFF(171,"D\xe9termin\xe9e par vous-m\xeame"),e.k0s()()()()()()(),e.j41(172,"fieldset",74)(173,"legend",20),e.EFF(174,"4. Garanties souhait\xe9es"),e.k0s(),e.j41(175,"div",75)(176,"p",76),e.EFF(177,"La garantie de base (RC B\xe2timent) est toujours incluse."),e.k0s(),e.j41(178,"div",77)(179,"div",78)(180,"div",79),e.nrm(181,"input",80),e.k0s(),e.j41(182,"div",81)(183,"label",82),e.EFF(184,"Contenu"),e.k0s()()(),e.j41(185,"div",78)(186,"div",79),e.nrm(187,"input",83),e.k0s(),e.j41(188,"div",81)(189,"label",84),e.EFF(190,"Vol"),e.k0s()()(),e.j41(191,"div",78)(192,"div",79),e.nrm(193,"input",85),e.k0s(),e.j41(194,"div",81)(195,"label",86),e.EFF(196,"Pertes indirectes"),e.k0s()()(),e.j41(197,"div",78)(198,"div",79),e.nrm(199,"input",87),e.k0s(),e.j41(200,"div",81)(201,"label",88),e.EFF(202,"Protection Juridique"),e.k0s()()(),e.j41(203,"div",78)(204,"div",79),e.nrm(205,"input",89),e.k0s(),e.j41(206,"div",81)(207,"label",90),e.EFF(208,"Assistance"),e.k0s()()()()()(),e.j41(209,"div",91)(210,"label",92),e.EFF(211,"Date d'effet souhait\xe9e"),e.k0s(),e.nrm(212,"input",93),e.k0s(),e.j41(213,"div",94),e.DNE(214,Fr,2,5,"div",18),e.j41(215,"div",95)(216,"button",96),e.EFF(217," Recevoir mon offre "),e.k0s()()()()()()),2&f){let O,ae,Fe,it,Ct,on,Xt,Qn,er,Ut,xi,Li,Ys;e.R7$(50),e.Y8G("formGroup",u.habitationForm),e.R7$(),e.Y8G("ngIf",u.submissionStatus),e.R7$(18),e.Y8G("ngClass",e.eq3(23,Mn,(null==(O=u.habitationForm.get("preneur.nom"))?null:O.invalid)&&(null==(O=u.habitationForm.get("preneur.nom"))?null:O.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(25,Mn,(null==(ae=u.habitationForm.get("preneur.prenom"))?null:ae.invalid)&&(null==(ae=u.habitationForm.get("preneur.prenom"))?null:ae.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(27,Mn,(null==(Fe=u.habitationForm.get("preneur.dateNaissance"))?null:Fe.invalid)&&(null==(Fe=u.habitationForm.get("preneur.dateNaissance"))?null:Fe.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(29,Mn,(null==(it=u.habitationForm.get("preneur.telephone"))?null:it.invalid)&&(null==(it=u.habitationForm.get("preneur.telephone"))?null:it.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(31,Mn,(null==(Ct=u.habitationForm.get("preneur.email"))?null:Ct.invalid)&&(null==(Ct=u.habitationForm.get("preneur.email"))?null:Ct.touched))),e.R7$(),e.Y8G("ngIf",u.emailExists&&(null==(on=u.habitationForm.get("preneur.email"))?null:on.touched)),e.R7$(8),e.Y8G("ngClass",e.eq3(33,Mn,(null==(Xt=u.habitationForm.get("batiment.adresse"))?null:Xt.invalid)&&(null==(Xt=u.habitationForm.get("batiment.adresse"))?null:Xt.touched))),e.R7$(5),e.Y8G("ngClass",e.eq3(35,Mn,(null==(Qn=u.habitationForm.get("batiment.codePostal"))?null:Qn.invalid)&&(null==(Qn=u.habitationForm.get("batiment.codePostal"))?null:Qn.touched))),e.R7$(),e.Y8G("ngIf",u.isLoading),e.R7$(),e.Y8G("ngIf",u.filteredPostalCodes.length>0),e.R7$(4),e.Y8G("disabled",0===u.cities.length),e.R7$(),e.Y8G("ngIf",0===u.cities.length),e.R7$(),e.Y8G("ngForOf",u.cities),e.R7$(24),e.Y8G("ngClass",e.eq3(37,Mn,(null==(er=u.habitationForm.get("evaluation.superficie"))?null:er.invalid)&&(null==(er=u.habitationForm.get("evaluation.superficie"))?null:er.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(39,Mn,(null==(Ut=u.habitationForm.get("evaluation.nombrePieces"))?null:Ut.invalid)&&(null==(Ut=u.habitationForm.get("evaluation.nombrePieces"))?null:Ut.touched))),e.R7$(),e.Y8G("ngIf",(null==(xi=u.habitationForm.get("evaluation.nombrePieces"))?null:xi.invalid)&&((null==(xi=u.habitationForm.get("evaluation.nombrePieces"))?null:xi.touched)||(null==(xi=u.habitationForm.get("evaluation.nombrePieces"))?null:xi.dirty))),e.R7$(16),e.Y8G("ngIf","expertise"===(null==(Li=u.habitationForm.get("evaluation.valeurBatiment"))?null:Li.value)),e.R7$(6),e.Y8G("ngIf","libre"===(null==(Ys=u.habitationForm.get("evaluation.valeurBatiment"))?null:Ys.value)),e.R7$(54),e.Y8G("min",u.minDate),e.R7$(2),e.Y8G("ngIf",u.submissionStatus),e.R7$(2),e.Y8G("disabled",u.habitationForm.invalid)}},dependencies:[A.MD,A.YU,A.Sq,A.bT,C.X1,C.qT,C.xH,C.y7,C.me,C.Q0,C.Zm,C.wz,C.Fm,C.BC,C.cb,C.YS,C.tU,C.j4,C.JD,C.$R,le.Wk,Nt],encapsulation:2})}return c})(),So=(()=>{class c{ngControl;constructor(s){this.ngControl=s}onInput(s){const f=this.formatPhoneNumber(s);this.ngControl.control&&this.ngControl.control.setValue(f,{emitEvent:!1})}formatPhoneNumber(s){if(!s)return"";const f=s.replace(/\D/g,""),u=f.startsWith("04"),ae=f.substring(0,u?10:9),Fe=[];return u?(ae.length>0&&Fe.push(ae.substring(0,4)),ae.length>4&&Fe.push(ae.substring(4,6)),ae.length>6&&Fe.push(ae.substring(6,8)),ae.length>8&&Fe.push(ae.substring(8,10))):(ae.length>0&&Fe.push(ae.substring(0,2)),ae.length>2&&Fe.push(ae.substring(2,5)),ae.length>5&&Fe.push(ae.substring(5,7)),ae.length>7&&Fe.push(ae.substring(7,9))),Fe.join(" ")}static \u0275fac=function(f){return new(f||c)(e.rXU(C.vO))};static \u0275dir=e.FsC({type:c,selectors:[["","appPhoneNumberFormat",""]],hostBindings:function(f,u){1&f&&e.bIt("input",function(ae){return u.onInput(ae.target.value)})},standalone:!0})}return c})();const Yr=c=>({"ring-red-500":c}),Xr=(c,T)=>({"bg-green-100 text-green-800":c,"bg-red-100 text-red-800":T});function ki(c,T){if(1&c&&(e.j41(0,"div",55),e.EFF(1),e.k0s()),2&c){const s=e.XpG();e.Y8G("ngClass",e.l_i(2,Xr,s.submissionStatus.success,!s.submissionStatus.success)),e.R7$(),e.SpI(" ",s.submissionStatus.message," ")}}function Ln(c,T){1&c&&(e.j41(0,"div",56),e.qSk(),e.j41(1,"svg",57),e.nrm(2,"circle",58)(3,"path",59),e.k0s()())}function wt(c,T){if(1&c){const s=e.RV6();e.j41(0,"li",62),e.bIt("click",function(){const u=e.eBV(s).$implicit,O=e.XpG(2);return e.Njj(O.selectPostalCode(u))}),e.EFF(1),e.k0s()}if(2&c){const s=T.$implicit;e.R7$(),e.Lme(" ",s.postalCode," - ",s.city," ")}}function _o(c,T){if(1&c&&(e.j41(0,"ul",60),e.DNE(1,wt,2,2,"li",61),e.k0s()),2&c){const s=e.XpG();e.R7$(),e.Y8G("ngForOf",s.filteredPostalCodes)}}function Xo(c,T){1&c&&(e.j41(0,"option",63),e.EFF(1,"S\xe9lectionner une ville"),e.k0s())}function Nr(c,T){if(1&c&&(e.j41(0,"option",64),e.EFF(1),e.k0s()),2&c){const s=T.$implicit;e.Y8G("value",s),e.R7$(),e.JRh(s)}}function Cr(c,T){if(1&c&&(e.j41(0,"div",55),e.EFF(1),e.k0s()),2&c){const s=e.XpG();e.Y8G("ngClass",e.l_i(2,Xr,s.submissionStatus.success,!s.submissionStatus.success)),e.R7$(),e.SpI(" ",s.submissionStatus.message," ")}}let Pr=(()=>{class c{fb;injector;platformId;rcForm;minDate;submissionStatus=null;destroy$=new se.B;postalCode$=new se.B;filteredPostalCodes=[];cities=[];isLoading=!1;constructor(s,f,u){this.fb=s,this.injector=f,this.platformId=u;const ae=new Date(new Date);ae.setDate(ae.getDate()+1),this.minDate=ae.toISOString().split("T")[0],this.rcForm=this.fb.group({preneur_nom:["",C.k0.required],preneur_prenom:["",C.k0.required],preneur_genre:["Madame",C.k0.required],preneur_telephone:["",[C.k0.required,c=>{const T=c.value;if(!T)return null;const s=T.replace(/\D/g,"");return 9===s.length||10===s.length?null:{invalidPhoneNumber:!0}}]],preneur_email:["",[C.k0.required,C.k0.email]],preneur_adresse:["",C.k0.required],preneur_code_postal:["",C.k0.required],preneur_ville:[{value:"",disabled:!0},C.k0.required],risque:["famille",C.k0.required],date_effet:[this.minDate,C.k0.required]})}ngOnInit(){if((0,A.UE)(this.platformId)){const s=this.injector.get(xt.y);this.postalCode$.pipe(Xe(300),(0,Ve.F)(),(0,_e.M)(()=>{this.isLoading=!0,this.filteredPostalCodes=[]}),(0,Ye.n)(f=>f&&f.length>=2?s.getPostalCodes(f):(this.cities=[],this.rcForm.get("preneur_ville")?.setValue(""),this.rcForm.get("preneur_ville")?.disable(),(0,K.of)([]))),(0,Qe.Q)(this.destroy$)).subscribe(f=>{this.isLoading=!1,this.filteredPostalCodes=f})}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onPostalCodeInput(s){this.postalCode$.next(s.target.value)}selectPostalCode(s){s&&s.postalCode&&(this.rcForm.get("preneur_code_postal")?.setValue(s.postalCode,{emitEvent:!1}),this.filteredPostalCodes=[],this.injector.get(xt.y).getCitiesByPostalCode(s.postalCode).pipe((0,Qe.Q)(this.destroy$)).subscribe(u=>{this.cities=u,u.length>0?(this.rcForm.get("preneur_ville")?.enable(),u.includes(s.city)?this.rcForm.get("preneur_ville")?.setValue(s.city):1===u.length?this.rcForm.get("preneur_ville")?.setValue(u[0]):this.rcForm.get("preneur_ville")?.setValue("")):(this.rcForm.get("preneur_ville")?.setValue(""),this.rcForm.get("preneur_ville")?.disable())}))}onSubmit(){if(this.rcForm.valid){const s=this.rcForm.getRawValue();this.injector.get(xt.y).saveRcForm(s).pipe((0,Qe.Q)(this.destroy$)).subscribe({next:f=>{this.submissionStatus={success:!0,message:"Votre demande a bien \xe9t\xe9 envoy\xe9e."},this.rcForm.reset()},error:f=>{this.submissionStatus={success:!1,message:"Une erreur est survenue. Veuillez r\xe9essayer."},console.error("Erreur lors de la soumission du formulaire RC:",f)}})}else this.markAllAsTouched(this.rcForm),this.submissionStatus={success:!1,message:"Veuillez corriger les erreurs dans le formulaire."}}markAllAsTouched(s){Object.values(s.controls).forEach(f=>{f.markAsTouched(),f instanceof C.gE&&this.markAllAsTouched(f)})}scrollToSection(s){if((0,A.UE)(this.platformId)){const f=document.getElementById(s);f&&f.scrollIntoView({behavior:"smooth",block:"start"})}}static \u0275fac=function(f){return new(f||c)(e.rXU(C.ok),e.rXU(e.zZn),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:c,selectors:[["app-form-rc"]],standalone:!0,features:[e.Jv_([xt.y]),e.aNF],decls:120,vars:28,consts:[["id","hero",1,"relative","isolate","bg-black","px-6","pt-14","lg:px-8"],[1,"mx-auto","max-w-7xl","py-8","sm:py-12","lg:py-16"],[1,"grid","grid-cols-1","items-center","gap-x-8","gap-y-16","lg:grid-cols-2"],[1,"text-center","lg:text-left"],[1,"text-4xl","font-bold","tracking-tight","text-white","sm:text-6xl"],[1,"mt-6","text-lg","leading-8","text-gray-300"],[1,"mt-10","flex","items-center","justify-center","gap-x-6","lg:justify-start"],[1,"rounded-md","bg-white","px-3.5","py-2.5","text-sm","font-semibold","text-gray-900","shadow-sm","hover:bg-gray-100","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-white",3,"click"],["routerLink","/contact",1,"text-sm","font-semibold","leading-6","text-white"],["aria-hidden","true"],[1,"flex","justify-center","lg:justify-end"],["src","https://fqopliwvpuiprdegxytz.supabase.co/storage/v1/object/sign/img_website/rc_familiale.webp?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV81MmJmNDFiNC0yNGQ0LTQ3ZTktYmEzNi04YWZmY2NjMzEzNzIiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJpbWdfd2Vic2l0ZS9yY19mYW1pbGlhbGUud2VicCIsImlhdCI6MTc2MzAyMzQwMSwiZXhwIjoyMDc4MzgzNDAxfQ.w2eMiS3pMEgBuRl4XvYmWoix82dzFQOppsfash1U4KQ","alt","Assurance",1,"w-full","max-w-xs","rounded-xl","shadow-xl","ring-1","ring-gray-400/10","lg:max-w-md"],["id","content",1,"container","mx-auto","p-4","py-16","sm:py-24"],[1,"grid","grid-cols-1","lg:grid-cols-2","lg:gap-12"],[1,"text-gray-700","prose","lg:prose-lg","max-w-none","prose-h2:mb-4","prose-p:mt-4","prose-ul:mt-4"],[1,"text-2xl","font-bold"],[1,"text-xl","font-bold","mt-8"],["id","form",1,"space-y-12","bg-white","p-8","rounded-lg","shadow-md","mt-8","lg:mt-0",3,"ngSubmit","formGroup"],["class","p-4 mb-4 text-sm rounded-lg","role","alert",3,"ngClass",4,"ngIf"],[1,"border-t","pt-6"],[1,"text-xl","font-semibold","px-2","text-gray-700","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],["for","preneur-nom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-nom","formControlName","preneur_nom","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","preneur-prenom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-prenom","formControlName","preneur_prenom","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","preneur-genre",1,"block","text-sm","font-medium","text-gray-700"],["id","preneur-genre","formControlName","preneur_genre","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","preneur-tel",1,"block","text-sm","font-medium","text-gray-700"],["type","tel","id","preneur-tel","formControlName","preneur_telephone","required","","appPhoneNumberFormat","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","preneur-email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","preneur-email","formControlName","preneur_email","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],[1,"lg:col-span-2"],["for","preneur-adresse",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-adresse","formControlName","preneur_adresse","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],[1,"relative"],["for","preneur-cp",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-cp","formControlName","preneur_code_postal","required","","autocomplete","off",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"input","ngClass"],["class","absolute inset-y-0 right-0 flex items-center pr-3 top-6",4,"ngIf"],["class","absolute z-10 w-full bg-white border border-gray-300 rounded-md mt-1 max-h-40 overflow-y-auto",4,"ngIf"],["for","ville",1,"block","text-sm","font-medium","text-gray-700"],["id","ville","formControlName","preneur_ville","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm","disabled:bg-gray-100",3,"disabled"],["value","",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"space-y-2","sm:flex","sm:items-center","sm:space-y-0","sm:space-x-10"],[1,"flex","items-center"],["id","risque-famille","formControlName","risque","value","famille","type","radio",1,"h-4","w-4","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","risque-famille",1,"ml-3","block","text-sm","font-medium","text-gray-700"],["id","risque-isole","formControlName","risque","value","isole","type","radio",1,"h-4","w-4","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","risque-isole",1,"ml-3","block","text-sm","font-medium","text-gray-700"],["for","date-effet",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","date-effet","formControlName","date_effet","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm","md:w-1/2","lg:w-1/3",3,"min"],[1,"pt-6"],[1,"flex","justify-end"],["type","submit",1,"inline-flex","justify-center","rounded-md","border","border-transparent","bg-indigo-600","py-2","px-4","text-sm","font-medium","text-white","shadow-sm","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2","disabled:bg-gray-400","disabled:cursor-not-allowed",3,"disabled"],["role","alert",1,"p-4","mb-4","text-sm","rounded-lg",3,"ngClass"],[1,"absolute","inset-y-0","right-0","flex","items-center","pr-3","top-6"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5","text-gray-400"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"absolute","z-10","w-full","bg-white","border","border-gray-300","rounded-md","mt-1","max-h-40","overflow-y-auto"],["class","px-3 py-2 cursor-pointer hover:bg-gray-100",3,"click",4,"ngFor","ngForOf"],[1,"px-3","py-2","cursor-pointer","hover:bg-gray-100",3,"click"],["value",""],[3,"value"]],template:function(f,u){if(1&f&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e.EFF(5,"Assurance RC Familiale"),e.k0s(),e.j41(6,"p",5),e.EFF(7,"Une assurance responsabilit\xe9 civile familiale est indispensable pour prot\xe9ger votre famille contre les cons\xe9quences financi\xe8res d\u2019un dommage caus\xe9 involontairement \xe0 autrui. Elle couvre les blessures, les d\xe9g\xe2ts mat\xe9riels ou les accidents impliquant les membres de votre foyer, y compris vos enfants et vos animaux. Sans cette protection, vous pourriez \xeatre tenu personnellement responsable et devoir assumer des frais importants. Cette assurance vous apporte donc tranquillit\xe9 d\u2019esprit et s\xe9curit\xe9 au quotidien.\nVivez chaque jour l\u2019esprit tranquille, en sachant que vous \xeates couvert en cas de coup dur."),e.k0s(),e.j41(8,"div",6)(9,"button",7),e.bIt("click",function(){return u.scrollToSection("content")}),e.EFF(10,"Souscrire"),e.k0s(),e.j41(11,"a",8),e.EFF(12,"Contact "),e.j41(13,"span",9),e.EFF(14,"\u2192"),e.k0s()()()(),e.j41(15,"div",10),e.nrm(16,"img",11),e.k0s()()()(),e.j41(17,"div",12)(18,"div",13)(19,"div",14)(20,"h2",15),e.EFF(21,"Assurance RC FAMILIALE"),e.k0s(),e.j41(22,"p"),e.EFF(23,"Lorsque vous ou vos proches causez des dommages accidentels \xe0 autrui ou \xe0 ses biens, que ce soit en blessant quelqu'un, en causant des d\xe9g\xe2ts mat\xe9riels ou en provoquant un accident avec vos animaux domestiques, vous \xeates l\xe9galement responsable. Pour couvrir ces incidents, la responsabilit\xe9 civile familiale a \xe9t\xe9 con\xe7ue. Cependant, il existe diff\xe9rentes options de couverture, alors il est important de choisir la formule qui convient le mieux \xe0 vos besoins."),e.k0s(),e.j41(24,"h3",16),e.EFF(25,"Qu\u2019est-ce que la RC Familiale ?"),e.k0s(),e.j41(26,"p"),e.EFF(27,"L'assurance responsabilit\xe9 civile vie priv\xe9e, \xe9galement connue sous le nom d'assurance RC familiale, couvre les dommages que vous ou votre famille pouvez causer \xe0 un tiers. Elle prend en charge les d\xe9g\xe2ts caus\xe9s \xe0 autrui en dehors de votre cercle familial, que ce soit chez des amis, dans la rue, dans des lieux publics ou m\xeame lors de voyages. Cette assurance est essentielle dans un contexte juridique de plus en plus complexe."),e.k0s(),e.j41(28,"h3",16),e.EFF(29,"Qui est couvert par la responsabilit\xe9 civile priv\xe9e ?"),e.k0s(),e.j41(30,"p"),e.EFF(31,"La RC familiale vous prot\xe8ge vous et votre famille des dommages que vous causez involontairement \xe0 des tiers. Elle couvre :"),e.k0s(),e.j41(32,"ul")(33,"li"),e.EFF(34,"Toutes les personnes vivant sous le m\xeame toit ;"),e.k0s(),e.j41(35,"li"),e.EFF(36,"Le personnel de service (baby-sitter, professeur particulier, femme de m\xe9nage, etc.) ;"),e.k0s(),e.j41(37,"li"),e.EFF(38,"Les animaux de compagnie sous la responsabilit\xe9 du titulaire."),e.k0s()(),e.j41(39,"h3",16),e.EFF(40,"Quand faut-il avoir recours \xe0 sa RC Familiale ?"),e.k0s(),e.j41(41,"p"),e.EFF(42,"Pour pouvoir faire appel \xe0 la RC Familiale, certaines conditions doivent \xeatre remplies. Tout d\u2019abord, votre responsabilit\xe9 doit \xeatre impliqu\xe9e dans le dommage caus\xe9. C\u2019est la condition sine qua non. Pr\xe9cisons toutefois qu\u2019il peut s\u2019agir d\u2019une action de votre part, mais aussi d\u2019une n\xe9gligence ou d\u2019une imprudence. Ensuite, le dommage doit imp\xe9rativement avoir \xe9t\xe9 caus\xe9 \xe0 un tiers dans un cadre priv\xe9. Enfin, il doit exister un lien de causalit\xe9 entre la faute et le dommage."),e.k0s(),e.j41(43,"p")(44,"strong"),e.EFF(45,"Bon \xe0 savoir :"),e.k0s(),e.EFF(46," la RC familiale ne peut \xeatre invoqu\xe9e pour des dommages cr\xe9\xe9s intentionnellement, caus\xe9s \xe0 vous-m\xeame ou \xe0 votre famille, ou provoqu\xe9s par votre animal s\u2019il est cat\xe9goris\xe9 comme dangereux."),e.k0s()(),e.j41(47,"form",17),e.bIt("ngSubmit",function(){return u.onSubmit()}),e.DNE(48,ki,2,5,"div",18),e.j41(49,"fieldset",19)(50,"legend",20),e.EFF(51,"1. Informations sur le preneur"),e.k0s(),e.j41(52,"div",21)(53,"div")(54,"label",22),e.EFF(55,"Nom"),e.k0s(),e.nrm(56,"input",23),e.k0s(),e.j41(57,"div")(58,"label",24),e.EFF(59,"Pr\xe9nom"),e.k0s(),e.nrm(60,"input",25),e.k0s(),e.j41(61,"div")(62,"label",26),e.EFF(63,"Genre"),e.k0s(),e.j41(64,"select",27)(65,"option"),e.EFF(66,"Madame"),e.k0s(),e.j41(67,"option"),e.EFF(68,"Monsieur"),e.k0s(),e.j41(69,"option"),e.EFF(70,"Autre"),e.k0s()()(),e.j41(71,"div")(72,"label",28),e.EFF(73,"Num\xe9ro de t\xe9l\xe9phone"),e.k0s(),e.nrm(74,"input",29),e.k0s(),e.j41(75,"div")(76,"label",30),e.EFF(77,"Email"),e.k0s(),e.nrm(78,"input",31),e.k0s(),e.j41(79,"div",32)(80,"label",33),e.EFF(81,"Rue et num\xe9ro"),e.k0s(),e.nrm(82,"input",34),e.k0s(),e.j41(83,"div")(84,"div",35)(85,"label",36),e.EFF(86,"Code Postal"),e.k0s(),e.j41(87,"input",37),e.bIt("input",function(ae){return u.onPostalCodeInput(ae)}),e.k0s(),e.DNE(88,Ln,4,0,"div",38)(89,_o,2,1,"ul",39),e.k0s()(),e.j41(90,"div")(91,"label",40),e.EFF(92,"Ville"),e.k0s(),e.j41(93,"select",41),e.DNE(94,Xo,2,0,"option",42)(95,Nr,2,2,"option",43),e.k0s()()()(),e.j41(96,"fieldset",19)(97,"legend",20),e.EFF(98,"2. Composition du risque"),e.k0s(),e.j41(99,"div",44)(100,"div",45),e.nrm(101,"input",46),e.j41(102,"label",47),e.EFF(103,"Famille"),e.k0s()(),e.j41(104,"div",45),e.nrm(105,"input",48),e.j41(106,"label",49),e.EFF(107,"Isol\xe9"),e.k0s()()()(),e.j41(108,"fieldset",19)(109,"legend",20),e.EFF(110,"3. Date d'effet"),e.k0s(),e.j41(111,"div")(112,"label",50),e.EFF(113,"Date d'effet souhait\xe9e"),e.k0s(),e.nrm(114,"input",51),e.k0s()(),e.j41(115,"div",52),e.DNE(116,Cr,2,5,"div",18),e.j41(117,"div",53)(118,"button",54),e.EFF(119," Recevoir mon offre "),e.k0s()()()()()()),2&f){let O,ae,Fe,it,Ct,on;e.R7$(47),e.Y8G("formGroup",u.rcForm),e.R7$(),e.Y8G("ngIf",u.submissionStatus),e.R7$(8),e.Y8G("ngClass",e.eq3(16,Yr,(null==(O=u.rcForm.get("preneur_nom"))?null:O.invalid)&&(null==(O=u.rcForm.get("preneur_nom"))?null:O.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(18,Yr,(null==(ae=u.rcForm.get("preneur_prenom"))?null:ae.invalid)&&(null==(ae=u.rcForm.get("preneur_prenom"))?null:ae.touched))),e.R7$(14),e.Y8G("ngClass",e.eq3(20,Yr,(null==(Fe=u.rcForm.get("preneur_telephone"))?null:Fe.invalid)&&(null==(Fe=u.rcForm.get("preneur_telephone"))?null:Fe.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(22,Yr,(null==(it=u.rcForm.get("preneur_email"))?null:it.invalid)&&(null==(it=u.rcForm.get("preneur_email"))?null:it.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(24,Yr,(null==(Ct=u.rcForm.get("preneur_adresse"))?null:Ct.invalid)&&(null==(Ct=u.rcForm.get("preneur_adresse"))?null:Ct.touched))),e.R7$(5),e.Y8G("ngClass",e.eq3(26,Yr,(null==(on=u.rcForm.get("preneur_code_postal"))?null:on.invalid)&&(null==(on=u.rcForm.get("preneur_code_postal"))?null:on.touched))),e.R7$(),e.Y8G("ngIf",u.isLoading),e.R7$(),e.Y8G("ngIf",u.filteredPostalCodes&&u.filteredPostalCodes.length>0),e.R7$(4),e.Y8G("disabled",0===u.cities.length),e.R7$(),e.Y8G("ngIf",0===u.cities.length),e.R7$(),e.Y8G("ngForOf",u.cities),e.R7$(19),e.Y8G("min",u.minDate),e.R7$(2),e.Y8G("ngIf",u.submissionStatus),e.R7$(2),e.Y8G("disabled",!u.rcForm.valid)}},dependencies:[A.MD,A.YU,A.Sq,A.bT,C.X1,C.qT,C.xH,C.y7,C.me,C.wz,C.Fm,C.BC,C.cb,C.YS,C.j4,C.JD,le.Wk,So],encapsulation:2})}return c})();const Kr=(c,T)=>({"bg-green-100 text-green-800":c,"bg-red-100 text-red-800":T});function Gn(c,T){if(1&c&&(e.j41(0,"div",60),e.EFF(1),e.k0s()),2&c){const s=e.XpG();e.Y8G("ngClass",e.l_i(2,Kr,s.submissionStatus.success,!s.submissionStatus.success)),e.R7$(),e.SpI(" ",s.submissionStatus.message," ")}}function Zn(c,T){1&c&&(e.j41(0,"div",61),e.EFF(1," L'\xe2ge minimum requis pour le preneur est de 18 ans. "),e.k0s())}function Or(c,T){1&c&&(e.j41(0,"div",62),e.qSk(),e.j41(1,"svg",63),e.nrm(2,"circle",64)(3,"path",65),e.k0s()())}function Qr(c,T){if(1&c){const s=e.RV6();e.j41(0,"li",68),e.bIt("click",function(){const u=e.eBV(s).$implicit,O=e.XpG(2);return e.Njj(O.selectPostalCode(u))}),e.EFF(1),e.k0s()}if(2&c){const s=T.$implicit;e.R7$(),e.Lme(" ",s.postalCode," - ",s.city," ")}}function Vo(c,T){if(1&c&&(e.j41(0,"ul",66),e.DNE(1,Qr,2,2,"li",67),e.k0s()),2&c){const s=e.XpG();e.R7$(),e.Y8G("ngForOf",s.filteredPostalCodes)}}function yo(c,T){1&c&&(e.j41(0,"option",69),e.EFF(1,"S\xe9lectionner une ville"),e.k0s())}function Ir(c,T){if(1&c&&(e.j41(0,"option",70),e.EFF(1),e.k0s()),2&c){const s=T.$implicit;e.Y8G("value",s),e.R7$(),e.JRh(s)}}function no(c,T){if(1&c&&(e.j41(0,"div",71)(1,"h3",72),e.EFF(2),e.k0s(),e.j41(3,"div",73)(4,"div")(5,"label",74),e.EFF(6,"Nom"),e.k0s(),e.nrm(7,"input",75),e.k0s(),e.j41(8,"div")(9,"label",74),e.EFF(10,"Pr\xe9nom"),e.k0s(),e.nrm(11,"input",76),e.k0s(),e.j41(12,"div")(13,"label",74),e.EFF(14,"Date de naissance"),e.k0s(),e.nrm(15,"input",77),e.k0s(),e.j41(16,"div")(17,"label",74),e.EFF(18,"Capital souhait\xe9 (\u20ac)"),e.k0s(),e.nrm(19,"input",78),e.k0s()()()),2&c){const s=T.index;e.Y8G("formGroupName",s),e.R7$(2),e.SpI("Assur\xe9 ",s+1,""),e.R7$(3),e.Y8G("for","assure-nom-"+s),e.R7$(2),e.Y8G("id","assure-nom-"+s),e.R7$(2),e.Y8G("for","assure-prenom-"+s),e.R7$(2),e.Y8G("id","assure-prenom-"+s),e.R7$(2),e.Y8G("for","assure-dob-"+s),e.R7$(2),e.Y8G("id","assure-dob-"+s),e.R7$(2),e.Y8G("for","assure-capital-"+s),e.R7$(2),e.Y8G("id","assure-capital-"+s)}}function ro(c,T){if(1&c&&(e.j41(0,"div",60),e.EFF(1),e.k0s()),2&c){const s=e.XpG();e.Y8G("ngClass",e.l_i(2,Kr,s.submissionStatus.success,!s.submissionStatus.success)),e.R7$(),e.SpI(" ",s.submissionStatus.message," ")}}let Ko=(()=>{class c{fb;dbConnectService;platformId;obsequesForm;destroy$=new se.B;submissionStatus=null;filteredPostalCodes=[];cities=[];isLoading=!1;constructor(s,f,u){this.fb=s,this.dbConnectService=f,this.platformId=u,this.obsequesForm=this.fb.group({preneur:this.fb.group({genre:["Madame"],nom:["",C.k0.required],prenom:["",C.k0.required],dateNaissance:["",[C.k0.required,this.ageValidator(18)]],telephone:["",C.k0.required],email:["",[C.k0.required,C.k0.email]],adresse:["",C.k0.required],codePostal:["",C.k0.required],ville:["",C.k0.required]}),nombreAssures:[1],preneurEstAssure:[!0],assures:this.fb.array([])})}ageValidator(s){return f=>{if(!f.value)return null;const u=new Date(f.value),O=new Date;let ae=O.getFullYear()-u.getFullYear();const Fe=O.getMonth()-u.getMonth();return(Fe<0||0===Fe&&O.getDate()<u.getDate())&&ae--,ae>=s?null:{minAge:{requiredAge:s,actualAge:ae}}}}ngOnInit(){this.addAssure(),this.handleFormChanges(),(0,A.UE)(this.platformId)&&this.obsequesForm.get("preneur.codePostal")?.valueChanges.pipe(Xe(300),(0,Ve.F)(),(0,_e.M)(()=>this.isLoading=!0),(0,Ye.n)(s=>s&&s.length>=2?this.dbConnectService.getPostalCodes(s):(this.filteredPostalCodes=[],(0,K.of)([]))),(0,_e.M)(()=>{this.filteredPostalCodes.length>0&&(this.cities=[],this.obsequesForm.get("preneur.ville")?.setValue(""))}),(0,Qe.Q)(this.destroy$)).subscribe(s=>{this.isLoading=!1,this.filteredPostalCodes=s})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}get assures(){return this.obsequesForm.get("assures")}addAssure(){const s=this.fb.group({nom:["",C.k0.required],prenom:["",C.k0.required],dateNaissance:["",C.k0.required],capital:[5e3,[C.k0.required,C.k0.max(15e3)]]});this.assures.push(s)}removeAssure(s){this.assures.removeAt(s)}handleFormChanges(){this.obsequesForm.get("nombreAssures")?.valueChanges.subscribe(s=>{for(;this.assures.length<s;)this.addAssure();for(;this.assures.length>s;)this.removeAssure(this.assures.length-1)}),this.obsequesForm.get("preneurEstAssure")?.valueChanges.subscribe(s=>{this.updatePreneurSiAssure()})}updatePreneurSiAssure(){if(this.obsequesForm.get("preneurEstAssure")?.value&&this.assures.length>0){const s=this.obsequesForm.get("preneur")?.value;this.assures.at(0).patchValue(s)}}selectPostalCode(s){this.obsequesForm.get("preneur.codePostal")?.setValue(s.postalCode,{emitEvent:!1}),this.obsequesForm.get("preneur.ville")?.setValue(s.city),this.cities=[s.city],this.obsequesForm.get("preneur.ville")?.updateValueAndValidity(),this.filteredPostalCodes=[]}onSubmit(){this.obsequesForm.valid?this.dbConnectService.createObsequesQuote(this.obsequesForm.value).subscribe({next:s=>{console.log("Devis obs\xe8ques enregistr\xe9 avec succ\xe8s",s),this.submissionStatus={success:!0,message:"Votre demande de devis a bien \xe9t\xe9 enregistr\xe9e !"}},error:s=>{console.error("Erreur lors de l'enregistrement du devis obs\xe8ques",s),this.submissionStatus={success:!1,message:"Une erreur est survenue lors de l'enregistrement de votre devis."}}}):(console.error("Formulaire invalide"),this.submissionStatus={success:!1,message:"Veuillez remplir tous les champs obligatoires avant de soumettre."})}scrollToSection(s){if((0,A.UE)(this.platformId)){const f=document.getElementById(s);f&&f.scrollIntoView({behavior:"smooth",block:"start"})}}static \u0275fac=function(f){return new(f||c)(e.rXU(C.ok),e.rXU(xt.y),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:c,selectors:[["app-obseques"]],standalone:!0,features:[e.Jv_([xt.y]),e.aNF],decls:162,vars:31,consts:[["id","hero",1,"relative","isolate","bg-black","px-6","pt-14","lg:px-8"],[1,"mx-auto","max-w-7xl","py-8","sm:py-12","lg:py-16"],[1,"grid","grid-cols-1","items-center","gap-x-8","gap-y-16","lg:grid-cols-2"],[1,"text-center","lg:text-left"],[1,"text-4xl","font-bold","tracking-tight","text-white","sm:text-6xl"],[1,"mt-6","text-lg","leading-8","text-gray-300"],[1,"mt-10","flex","items-center","justify-center","gap-x-6","lg:justify-start"],[1,"rounded-md","bg-white","px-3.5","py-2.5","text-sm","font-semibold","text-gray-900","shadow-sm","hover:bg-gray-100","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-white",3,"click"],[1,"flex","justify-center","lg:justify-end"],["src","https://fqopliwvpuiprdegxytz.supabase.co/storage/v1/object/sign/img_website/aobseques.webp?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV81MmJmNDFiNC0yNGQ0LTQ3ZTktYmEzNi04YWZmY2NjMzEzNzIiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJpbWdfd2Vic2l0ZS9hb2JzZXF1ZXMud2VicCIsImlhdCI6MTc2MzAyNTI3NCwiZXhwIjoyMDc4Mzg1Mjc0fQ.IAfV4QnyFDMaMH65skjsyWsCgW6Jut_RM54yIhu7qcM","alt","Assurance",1,"w-full","max-w-xs","rounded-xl","shadow-xl","ring-1","ring-gray-400/10","lg:max-w-md"],["id","content",1,"container","mx-auto","p-4","py-16","sm:py-24"],[1,"grid","grid-cols-1","lg:grid-cols-2","lg:gap-12"],[1,"text-gray-700","prose","lg:prose-lg","max-w-none","prose-h2:mb-4","prose-p:mt-4","prose-ul:mt-4"],[1,"text-2xl","font-bold"],[1,"text-xl","font-bold","mt-8"],["id","form",1,"space-y-12","bg-white","p-8","rounded-lg","shadow-md","mt-8","lg:mt-0",3,"ngSubmit","formGroup"],["class","p-4 mb-4 text-sm rounded-lg","role","alert",3,"ngClass",4,"ngIf"],["formGroupName","preneur",1,"border-t","pt-6"],[1,"text-xl","font-semibold","px-2","text-gray-700","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],["for","preneur-genre",1,"block","text-sm","font-medium","text-gray-700"],["id","preneur-genre","formControlName","genre",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["selected",""],["for","preneur-nom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-nom","formControlName","nom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"input"],["for","preneur-prenom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-prenom","formControlName","prenom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"input"],["for","preneur-dob",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","preneur-dob","formControlName","dateNaissance",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"input"],["class","text-red-600 text-sm mt-1",4,"ngIf"],["for","preneur-tel",1,"block","text-sm","font-medium","text-gray-700"],["type","tel","id","preneur-tel","formControlName","telephone","appPhoneFormat","","placeholder","+32 4XX XX XX XX","maxlength","18",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"lg:col-span-2"],["for","preneur-email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","preneur-email","formControlName","email",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"md:col-span-2"],["for","preneur-adresse",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-adresse","formControlName","adresse",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","preneur-cp",1,"block","text-sm","font-medium","text-gray-700"],[1,"relative"],["type","text","id","preneur-cp","formControlName","codePostal","autocomplete","off",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["class","absolute inset-y-0 right-0 flex items-center pr-3 top-1",4,"ngIf"],["class","absolute z-10 w-full bg-white border border-gray-300 rounded-md mt-1 max-h-40 overflow-y-auto",4,"ngIf"],["for","preneur-ville",1,"block","text-sm","font-medium","text-gray-700"],["id","preneur-ville","formControlName","ville",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm","disabled:bg-gray-100",3,"disabled"],["value","",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"border-t","pt-6"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6","mb-6"],["for","nombre-assures",1,"block","text-sm","font-medium","text-gray-700"],["id","nombre-assures","formControlName","nombreAssures",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[3,"ngValue"],[1,"flex","items-end","pb-1"],[1,"flex","items-center"],["id","preneur-est-assure","type","checkbox","formControlName","preneurEstAssure",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","preneur-est-assure",1,"ml-2","block","text-sm","text-gray-900"],["formArrayName","assures",1,"space-y-6"],["class","p-4 border rounded-md",3,"formGroupName",4,"ngFor","ngForOf"],[1,"flex","justify-end","pt-6"],["type","submit",1,"inline-flex","justify-center","rounded-md","border","border-transparent","bg-indigo-600","py-2","px-4","text-sm","font-medium","text-white","shadow-sm","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2","disabled:bg-gray-400",3,"disabled"],["role","alert",1,"p-4","mb-4","text-sm","rounded-lg",3,"ngClass"],[1,"text-red-600","text-sm","mt-1"],[1,"absolute","inset-y-0","right-0","flex","items-center","pr-3","top-1"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5","text-gray-400"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"absolute","z-10","w-full","bg-white","border","border-gray-300","rounded-md","mt-1","max-h-40","overflow-y-auto"],["class","px-3 py-2 cursor-pointer hover:bg-gray-100",3,"click",4,"ngFor","ngForOf"],[1,"px-3","py-2","cursor-pointer","hover:bg-gray-100",3,"click"],["value",""],[3,"value"],[1,"p-4","border","rounded-md",3,"formGroupName"],[1,"font-semibold","text-gray-800","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4"],[1,"block","text-sm","font-medium","text-gray-700",3,"for"],["type","text","formControlName","nom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"id"],["type","text","formControlName","prenom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"id"],["type","date","formControlName","dateNaissance",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"id"],["type","number","formControlName","capital","max","15000",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"id"]],template:function(f,u){if(1&f&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e.EFF(5,"Assurance Obs\xe8ques"),e.k0s(),e.j41(6,"p",5),e.EFF(7,"Une assurance obs\xe8ques vous permet de pr\xe9parer et de financer l\u2019organisation de vos fun\xe9railles \xe0 l\u2019avance. Elle soulage votre famille des d\xe9marches et des frais souvent importants li\xe9s \xe0 ce moment difficile. Elle garantit le respect de vos volont\xe9s et la prise en charge des d\xe9penses pr\xe9vues. Ainsi, elle apporte s\xe9r\xe9nit\xe9 et tranquillit\xe9 d\u2019esprit \xe0 vous et \xe0 vos proches."),e.k0s(),e.j41(8,"div",6)(9,"button",7),e.bIt("click",function(){return u.scrollToSection("content")}),e.EFF(10,"Souscrire chez DELA"),e.k0s(),e.j41(11,"button",7),e.bIt("click",function(){return u.scrollToSection("content")}),e.EFF(12,"Demande d'informations(autre que DELA) "),e.k0s()()(),e.j41(13,"div",8),e.nrm(14,"img",9),e.k0s()()()(),e.j41(15,"div",10)(16,"div",11)(17,"div",12)(18,"h2",13),e.EFF(19,"Assurance obs\xe8ques"),e.k0s(),e.j41(20,"p"),e.EFF(21,"La perte d\u2019un proche est toujours un moment charg\xe9 d\u2019\xe9motions. Pr\xe9voir et prendre en charge les frais de ses propres obs\xe8ques est de plus en plus courant. Un dernier geste fort appr\xe9ci\xe9 par vos proches, \xe0 qui vous \xe9vitez bien des tracas financiers."),e.k0s(),e.j41(22,"h3",14),e.EFF(23,"Qu\u2019est-ce qu\u2019une assurance obs\xe8ques ?"),e.k0s(),e.j41(24,"p"),e.EFF(25,"L'assurance obs\xe8ques couvre les frais fun\xe9raires et de rapatriement du d\xe9funt, soulageant financi\xe8rement la famille. En revanche, l'assurance d\xe9c\xe8s offre un capital qui peut \xeatre utilis\xe9 \xe0 d'autres fins que les fun\xe9railles. De nombreux plans de pr\xe9voyance offrent \xe9galement une assistance administrative pour soulager la famille des formalit\xe9s n\xe9cessaires dans de telles situations."),e.k0s(),e.j41(26,"h3",14),e.EFF(27,"Les avantages d\u2019un plan de pr\xe9voyance obs\xe8ques"),e.k0s(),e.j41(28,"p"),e.EFF(29,"De plus en plus de Belges choisissent d'organiser leurs fun\xe9railles \xe0 l'avance, offrant ainsi un soulagement \xe0 leurs proches et garantissant que leurs souhaits seront respect\xe9s. Les avantages de cette d\xe9marche sont nombreux :"),e.k0s(),e.j41(30,"ul")(31,"li"),e.EFF(32,"Vous d\xe9terminez librement le montant assur\xe9, fixe pendant toute la dur\xe9e du contrat (entre 1 500 et 10 000\u20ac)."),e.k0s(),e.j41(33,"li"),e.EFF(34,"Vous avez le choix de l'entrepreneur de pompes fun\xe8bres et des modalit\xe9s des fun\xe9railles."),e.k0s(),e.j41(35,"li"),e.EFF(36,"Vous pr\xe9payez les co\xfbts des fun\xe9railles, d\xe8s le premier paiement de la prime mensuelle."),e.k0s(),e.j41(37,"li"),e.EFF(38,"Le capital assur\xe9 est index\xe9 chaque ann\xe9e pour s'adapter \xe0 l'\xe9volution du co\xfbt de la vie."),e.k0s(),e.j41(39,"li"),e.EFF(40,"Les enfants jusqu'\xe0 18 ans sont inclus dans l'assurance obs\xe8ques."),e.k0s(),e.j41(41,"li"),e.EFF(42,"Vos proches b\xe9n\xe9ficient d'une assistance pour les formalit\xe9s administratives."),e.k0s()(),e.j41(43,"h3",14),e.EFF(44,"Comment se calcule la prime ?"),e.k0s(),e.j41(45,"p"),e.EFF(46,"L\u2019assistance aux proches est toujours comprise dans le plan de base. Ce service offre \xe0 votre famille un accompagnement professionnel pour toutes les formalit\xe9s pratiques et administratives apr\xe8s un d\xe9c\xe8s."),e.k0s(),e.j41(47,"p"),e.EFF(48,"Le montant de la prime d\xe9pend de plusieurs crit\xe8res ; il se calcule en fonction de votre \xe2ge, du capital souhait\xe9 en cas de d\xe9c\xe8s, du terme du paiement de la prime et peut d\xe9pendre d\u2019une approbation m\xe9dicale."),e.k0s()(),e.j41(49,"form",15),e.bIt("ngSubmit",function(){return u.onSubmit()}),e.DNE(50,Gn,2,5,"div",16),e.j41(51,"fieldset",17)(52,"legend",18),e.EFF(53,"1. Informations sur le preneur"),e.k0s(),e.j41(54,"div",19)(55,"div")(56,"label",20),e.EFF(57,"Genre"),e.k0s(),e.j41(58,"select",21)(59,"option",22),e.EFF(60,"Madame"),e.k0s(),e.j41(61,"option"),e.EFF(62,"Monsieur"),e.k0s(),e.j41(63,"option"),e.EFF(64,"Autre"),e.k0s()()(),e.j41(65,"div")(66,"label",23),e.EFF(67,"Nom"),e.k0s(),e.j41(68,"input",24),e.bIt("input",function(){return u.updatePreneurSiAssure()}),e.k0s()(),e.j41(69,"div")(70,"label",25),e.EFF(71,"Pr\xe9nom"),e.k0s(),e.j41(72,"input",26),e.bIt("input",function(){return u.updatePreneurSiAssure()}),e.k0s()(),e.j41(73,"div")(74,"label",27),e.EFF(75,"Date de naissance"),e.k0s(),e.j41(76,"input",28),e.bIt("input",function(){return u.updatePreneurSiAssure()}),e.k0s(),e.DNE(77,Zn,2,0,"div",29),e.k0s(),e.j41(78,"div")(79,"label",30),e.EFF(80,"Num\xe9ro de t\xe9l\xe9phone"),e.k0s(),e.nrm(81,"input",31),e.k0s(),e.j41(82,"div",32)(83,"label",33),e.EFF(84,"Email"),e.k0s(),e.nrm(85,"input",34),e.k0s(),e.j41(86,"div",35)(87,"label",36),e.EFF(88,"Adresse"),e.k0s(),e.nrm(89,"input",37),e.k0s(),e.j41(90,"div")(91,"label",38),e.EFF(92,"Code Postal"),e.k0s(),e.j41(93,"div",39),e.nrm(94,"input",40),e.DNE(95,Or,4,0,"div",41)(96,Vo,2,1,"ul",42),e.k0s()(),e.j41(97,"div")(98,"label",43),e.EFF(99,"Ville"),e.k0s(),e.j41(100,"select",44),e.DNE(101,yo,2,0,"option",45)(102,Ir,2,2,"option",46),e.k0s()()()(),e.j41(103,"fieldset",47)(104,"legend",18),e.EFF(105,"2. Personnes \xe0 assurer"),e.k0s(),e.j41(106,"div",48)(107,"div")(108,"label",49),e.EFF(109,"Nombre de personnes \xe0 assurer"),e.k0s(),e.j41(110,"select",50)(111,"option",51),e.EFF(112,"1"),e.k0s(),e.j41(113,"option",51),e.EFF(114,"2"),e.k0s(),e.j41(115,"option",51),e.EFF(116,"3"),e.k0s(),e.j41(117,"option",51),e.EFF(118,"4"),e.k0s(),e.j41(119,"option",51),e.EFF(120,"5"),e.k0s(),e.j41(121,"option",51),e.EFF(122,"6"),e.k0s(),e.j41(123,"option",51),e.EFF(124,"7"),e.k0s(),e.j41(125,"option",51),e.EFF(126,"8"),e.k0s(),e.j41(127,"option",51),e.EFF(128,"9"),e.k0s(),e.j41(129,"option",51),e.EFF(130,"10"),e.k0s(),e.j41(131,"option",51),e.EFF(132,"11"),e.k0s(),e.j41(133,"option",51),e.EFF(134,"12"),e.k0s(),e.j41(135,"option",51),e.EFF(136,"13"),e.k0s(),e.j41(137,"option",51),e.EFF(138,"14"),e.k0s(),e.j41(139,"option",51),e.EFF(140,"15"),e.k0s(),e.j41(141,"option",51),e.EFF(142,"16"),e.k0s(),e.j41(143,"option",51),e.EFF(144,"17"),e.k0s(),e.j41(145,"option",51),e.EFF(146,"18"),e.k0s(),e.j41(147,"option",51),e.EFF(148,"19"),e.k0s(),e.j41(149,"option",51),e.EFF(150,"20"),e.k0s()()(),e.j41(151,"div",52)(152,"div",53),e.nrm(153,"input",54),e.j41(154,"label",55),e.EFF(155,"Le preneur est aussi un des assur\xe9s"),e.k0s()()()(),e.j41(156,"div",56),e.DNE(157,no,20,10,"div",57),e.k0s()(),e.j41(158,"div",58)(159,"button",59),e.EFF(160," Recevoir mon offre "),e.k0s()(),e.DNE(161,ro,2,5,"div",16),e.k0s()()()),2&f){let O;e.R7$(49),e.Y8G("formGroup",u.obsequesForm),e.R7$(),e.Y8G("ngIf",u.submissionStatus),e.R7$(27),e.Y8G("ngIf",null==(O=u.obsequesForm.get("preneur.dateNaissance"))?null:O.hasError("minAge")),e.R7$(18),e.Y8G("ngIf",u.isLoading),e.R7$(),e.Y8G("ngIf",u.filteredPostalCodes.length>0),e.R7$(4),e.Y8G("disabled",0===u.cities.length),e.R7$(),e.Y8G("ngIf",0===u.cities.length),e.R7$(),e.Y8G("ngForOf",u.cities),e.R7$(9),e.Y8G("ngValue",1),e.R7$(2),e.Y8G("ngValue",2),e.R7$(2),e.Y8G("ngValue",3),e.R7$(2),e.Y8G("ngValue",4),e.R7$(2),e.Y8G("ngValue",5),e.R7$(2),e.Y8G("ngValue",6),e.R7$(2),e.Y8G("ngValue",7),e.R7$(2),e.Y8G("ngValue",8),e.R7$(2),e.Y8G("ngValue",9),e.R7$(2),e.Y8G("ngValue",10),e.R7$(2),e.Y8G("ngValue",11),e.R7$(2),e.Y8G("ngValue",12),e.R7$(2),e.Y8G("ngValue",13),e.R7$(2),e.Y8G("ngValue",14),e.R7$(2),e.Y8G("ngValue",15),e.R7$(2),e.Y8G("ngValue",16),e.R7$(2),e.Y8G("ngValue",17),e.R7$(2),e.Y8G("ngValue",18),e.R7$(2),e.Y8G("ngValue",19),e.R7$(2),e.Y8G("ngValue",20),e.R7$(8),e.Y8G("ngForOf",u.assures.controls),e.R7$(2),e.Y8G("disabled",!u.obsequesForm.valid),e.R7$(2),e.Y8G("ngIf",u.submissionStatus)}},dependencies:[A.MD,A.YU,A.Sq,A.bT,C.X1,C.qT,C.xH,C.y7,C.me,C.Q0,C.Zm,C.wz,C.BC,C.cb,C.tU,C.zX,C.j4,C.JD,C.$R,C.v8,Nt],encapsulation:2})}return c})();const It=(c,T)=>({"bg-green-100 text-green-800":c,"bg-red-100 text-red-800":T});function Y(c,T){if(1&c&&(e.j41(0,"div",34),e.EFF(1),e.k0s()),2&c){const s=e.XpG();e.Y8G("ngClass",e.l_i(2,It,s.submissionStatus.success,!s.submissionStatus.success)),e.R7$(),e.SpI(" ",s.submissionStatus.message," ")}}let ie=(()=>{class c{fb;dbConnectService;platformId;infoForm;submissionStatus=null;constructor(s,f,u){this.fb=s,this.dbConnectService=f,this.platformId=u,this.infoForm=this.fb.group({nom:["",C.k0.required],prenom:["",C.k0.required],email:["",[C.k0.required,C.k0.email]],gsm:["",C.k0.required],message:["",C.k0.required]})}onSubmit(){this.infoForm.valid&&this.dbConnectService.saveInfoRequestForm(this.infoForm.value,"juridique").subscribe({next:()=>{this.submissionStatus={success:!0,message:"Votre demande a bien \xe9t\xe9 envoy\xe9e."},this.infoForm.reset()},error:s=>{this.submissionStatus={success:!1,message:"Une erreur est survenue lors de l'envoi de votre demande."},console.error(s)}})}scrollToSection(s){(0,A.UE)(this.platformId)&&document.getElementById(s)?.scrollIntoView({behavior:"smooth"})}static \u0275fac=function(f){return new(f||c)(e.rXU(C.ok),e.rXU(xt.y),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:c,selectors:[["app-assurance-juridique"]],standalone:!0,features:[e.Jv_([xt.y]),e.aNF],decls:61,vars:3,consts:[["id","hero",1,"relative","isolate","bg-black","px-6","pt-14","lg:px-8"],[1,"mx-auto","max-w-7xl","py-8","sm:py-12","lg:py-16"],[1,"grid","grid-cols-1","items-center","gap-x-8","gap-y-16","lg:grid-cols-2"],[1,"text-center","lg:text-left"],[1,"text-4xl","font-bold","tracking-tight","text-white","sm:text-6xl"],[1,"mt-6","text-lg","leading-8","text-gray-300"],[1,"mt-10","flex","items-center","justify-center","gap-x-6","lg:justify-start"],[1,"rounded-md","bg-white","px-3.5","py-2.5","text-sm","font-semibold","text-gray-900","shadow-sm","hover:bg-gray-100","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-white",3,"click"],["routerLink","/contact",1,"text-sm","font-semibold","leading-6","text-white"],["aria-hidden","true"],[1,"flex","justify-center","lg:justify-end"],["src","https://fqopliwvpuiprdegxytz.supabase.co/storage/v1/object/sign/img_website/tribunal.webp?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV81MmJmNDFiNC0yNGQ0LTQ3ZTktYmEzNi04YWZmY2NjMzEzNzIiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJpbWdfd2Vic2l0ZS90cmlidW5hbC53ZWJwIiwiaWF0IjoxNzYzMDI1NDY0LCJleHAiOjIwNzgzODU0NjR9.R3hOUbrrtdA0hmCLc9roqY7DPhFoCZPTgtLMzfPuhPk","alt","Assurance",1,"w-full","max-w-xs","rounded-xl","shadow-xl","ring-1","ring-gray-400/10","lg:max-w-md"],["id","content",1,"container","mx-auto","p-4","py-16","sm:py-24"],[1,"grid","grid-cols-1","lg:grid-cols-2","lg:gap-12"],["id","form",1,"bg-white","p-8","rounded-lg","shadow-md"],[1,"text-2xl","font-bold","mb-6","text-gray-800"],["class","p-4 mb-4 text-sm rounded-lg","role","alert",3,"ngClass",4,"ngIf"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["for","nom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","nom","formControlName","nom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","prenom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","prenom","formControlName","prenom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","email","formControlName","email",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","gsm",1,"block","text-sm","font-medium","text-gray-700"],["type","tel","id","gsm","formControlName","gsm","appPhoneFormat","","placeholder","+32 4XX XX XX XX","maxlength","18",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","message",1,"block","text-sm","font-medium","text-gray-700"],["id","message","formControlName","message","rows","4",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"flex","justify-end"],["type","submit",1,"inline-flex","justify-center","rounded-md","border","border-transparent","bg-indigo-600","py-2","px-4","text-sm","font-medium","text-white","shadow-sm","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2","disabled:bg-gray-400","disabled:cursor-not-allowed",3,"disabled"],[1,"text-gray-700","prose","lg:prose-lg","max-w-none","prose-h2:mb-4","prose-p:mt-4","prose-ul:mt-4","mt-8","lg:mt-0"],[1,"text-2xl","font-bold"],[1,"text-xl","font-bold","mt-8"],["role","alert",1,"p-4","mb-4","text-sm","rounded-lg",3,"ngClass"]],template:function(f,u){1&f&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e.EFF(5,"Assurance Protection Juridique"),e.k0s(),e.j41(6,"p",5),e.EFF(7,"Une assurance assistance juridique vous offre un accompagnement professionnel en cas de litige ou de probl\xe8me l\xe9gal. Elle prend en charge les conseils d\u2019avocats et les frais li\xe9s aux proc\xe9dures judiciaires. Gr\xe2ce \xe0 elle, vous pouvez d\xe9fendre vos droits sans craindre les co\xfbts \xe9lev\xe9s d\u2019un proc\xe8s. Elle apporte ainsi s\xe9curit\xe9 et s\xe9r\xe9nit\xe9 face aux situations juridiques impr\xe9vues."),e.k0s(),e.j41(8,"div",6)(9,"button",7),e.bIt("click",function(){return u.scrollToSection("content")}),e.EFF(10,"Souscrire"),e.k0s(),e.j41(11,"a",8),e.EFF(12,"Contact "),e.j41(13,"span",9),e.EFF(14,"\u2192"),e.k0s()()()(),e.j41(15,"div",10),e.nrm(16,"img",11),e.k0s()()()(),e.j41(17,"div",12)(18,"div",13)(19,"div",14)(20,"h2",15),e.EFF(21,"Demande de renseignement"),e.k0s(),e.DNE(22,Y,2,5,"div",16),e.j41(23,"form",17),e.bIt("ngSubmit",function(){return u.onSubmit()}),e.j41(24,"div",18)(25,"div")(26,"label",19),e.EFF(27,"Nom"),e.k0s(),e.nrm(28,"input",20),e.k0s(),e.j41(29,"div")(30,"label",21),e.EFF(31,"Pr\xe9nom"),e.k0s(),e.nrm(32,"input",22),e.k0s()(),e.j41(33,"div")(34,"label",23),e.EFF(35,"Email"),e.k0s(),e.nrm(36,"input",24),e.k0s(),e.j41(37,"div")(38,"label",25),e.EFF(39,"GSM"),e.k0s(),e.nrm(40,"input",26),e.k0s(),e.j41(41,"div")(42,"label",27),e.EFF(43,"Message"),e.k0s(),e.nrm(44,"textarea",28),e.k0s(),e.j41(45,"div",29)(46,"button",30),e.EFF(47," Envoyer "),e.k0s()()()(),e.j41(48,"div",31)(49,"h2",32),e.EFF(50,"Assurance Protection Juridique"),e.k0s(),e.j41(51,"p"),e.EFF(52,"Personne n'est \xe0 l'abri d'un incident susceptible de causer des dommages. Dans de telles situations, il est crucial de faire valoir ses droits pour obtenir une indemnisation \xe9quitable. Toutefois, engager ces d\xe9marches sans l'aide d'un professionnel peut s'av\xe9rer difficile, sans oublier les frais administratifs ou juridiques qui peuvent rapidement s'accumuler."),e.k0s(),e.j41(53,"h3",33),e.EFF(54,"Une assurance protection juridique : Pour quelles raisons ?"),e.k0s(),e.j41(55,"p"),e.EFF(56,"Que ce soit une cuisine mal install\xe9e, une facture d\u2019\xe9lectricit\xe9 erron\xe9e, ou un litige avec un employeur, la protection juridique intervient dans diverses situations o\xf9 vous subissez des dommages caus\xe9s par un tiers. Bien que ces incidents ne surviennent pas fr\xe9quemment, leur impact peut \xeatre consid\xe9rable. Contrairement \xe0 l'assurance responsabilit\xe9 civile familiale, la protection juridique vous aide \xe0 faire valoir vos droits et \xe0 obtenir une indemnisation pour les dommages subis \xe0 cause d'un tiers."),e.k0s(),e.j41(57,"h3",33),e.EFF(58,"Quels avantages ?"),e.k0s(),e.j41(59,"p"),e.EFF(60,"Quel que soit votre probl\xe8me, vous b\xe9n\xe9ficiez d'une assistance juridique par t\xe9l\xe9phone pour obtenir des r\xe9ponses \xe0 vos questions. Apr\xe8s \xe9valuation de votre situation, vous serez guid\xe9 sur les recours possibles, qu'ils soient amiables ou judiciaires. En cas de litige, vous pouvez choisir votre avocat devant les juridictions belges, europ\xe9ennes ou mondiales, avec la possibilit\xe9 pour votre assureur de vous repr\xe9senter dans les n\xe9gociations d'indemnisation. Il est \xe0 noter que l'assurance protection juridique peut \xeatre d\xe9ductible fiscalement, sous certaines conditions."),e.k0s()()()()),2&f&&(e.R7$(22),e.Y8G("ngIf",u.submissionStatus),e.R7$(),e.Y8G("formGroup",u.infoForm),e.R7$(23),e.Y8G("disabled",!u.infoForm.valid))},dependencies:[A.MD,A.YU,A.bT,C.X1,C.qT,C.me,C.BC,C.cb,C.tU,C.j4,C.JD,le.Wk,Nt],encapsulation:2})}return c})();const Z=(c,T)=>({"bg-green-100 text-green-800":c,"bg-red-100 text-red-800":T});function ke(c,T){if(1&c&&(e.j41(0,"div",33),e.EFF(1),e.k0s()),2&c){const s=e.XpG();e.Y8G("ngClass",e.l_i(2,Z,s.submissionStatus.success,!s.submissionStatus.success)),e.R7$(),e.SpI(" ",s.submissionStatus.message," ")}}let qe=(()=>{class c{fb;dbConnectService;platformId;infoForm;submissionStatus=null;constructor(s,f,u){this.fb=s,this.dbConnectService=f,this.platformId=u,this.infoForm=this.fb.group({nom:["",C.k0.required],prenom:["",C.k0.required],email:["",[C.k0.required,C.k0.email]],gsm:[""],message:["",C.k0.required]})}onSubmit(){this.infoForm.valid&&this.dbConnectService.saveVoyageForm(this.infoForm.value).subscribe({next:()=>{this.submissionStatus={success:!0,message:"Votre demande a bien \xe9t\xe9 envoy\xe9e !"},this.infoForm.reset()},error:()=>this.submissionStatus={success:!1,message:"Une erreur est survenue. Veuillez r\xe9essayer."}})}scrollToSection(s){if((0,A.UE)(this.platformId)){const f=document.getElementById(s);f&&f.scrollIntoView({behavior:"smooth",block:"start"})}}static \u0275fac=function(f){return new(f||c)(e.rXU(C.ok),e.rXU(xt.y),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:c,selectors:[["app-assurance-voyage"]],standalone:!0,features:[e.aNF],decls:71,vars:3,consts:[["id","hero",1,"relative","isolate","bg-black","px-6","pt-14","lg:px-8"],[1,"mx-auto","max-w-7xl","py-8","sm:py-12","lg:py-16"],[1,"grid","grid-cols-1","items-center","gap-x-8","gap-y-16","lg:grid-cols-2"],[1,"text-center","lg:text-left"],[1,"text-4xl","font-bold","tracking-tight","text-white","sm:text-6xl"],[1,"mt-6","text-lg","leading-8","text-gray-300"],[1,"mt-10","flex","items-center","justify-center","gap-x-6","lg:justify-start"],[1,"rounded-md","bg-white","px-3.5","py-2.5","text-sm","font-semibold","text-gray-900","shadow-sm","hover:bg-gray-100","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-white",3,"click"],["routerLink","/contact",1,"text-sm","font-semibold","leading-6","text-white"],["aria-hidden","true"],[1,"flex","justify-center","lg:justify-end"],["src","https://fqopliwvpuiprdegxytz.supabase.co/storage/v1/object/sign/img_website/avoyage.webp?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV81MmJmNDFiNC0yNGQ0LTQ3ZTktYmEzNi04YWZmY2NjMzEzNzIiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJpbWdfd2Vic2l0ZS9hdm95YWdlLndlYnAiLCJpYXQiOjE3NjMwMjUwOTQsImV4cCI6MjA3ODM4NTA5NH0.yFs3cX7_iROkZ6x-qAyECADU2cW_UmOp2gVtYOl03oc","alt","Assurance",1,"w-full","max-w-xs","rounded-xl","shadow-xl","ring-1","ring-gray-400/10","lg:max-w-md"],["id","content",1,"container","mx-auto","p-4","py-16","sm:py-24"],[1,"grid","grid-cols-1","lg:grid-cols-2","lg:gap-12"],[1,"text-gray-700","prose","lg:prose-lg"],[1,"text-xl","font-bold","mt-8"],[1,"bg-white","p-8","rounded-lg","shadow-md","mt-8","lg:mt-0"],[1,"text-2xl","font-bold","mb-6","text-gray-800"],["class","p-4 mb-4 text-sm rounded-lg","role","alert",3,"ngClass",4,"ngIf"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["for","nom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","nom","formControlName","nom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","prenom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","prenom","formControlName","prenom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","email","formControlName","email",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","gsm",1,"block","text-sm","font-medium","text-gray-700"],["type","tel","id","gsm","formControlName","gsm","appPhoneFormat","","placeholder","+32 4XX XX XX XX","maxlength","18",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","message",1,"block","text-sm","font-medium","text-gray-700"],["id","message","formControlName","message","rows","4",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"flex","justify-end"],["type","submit",1,"inline-flex","justify-center","rounded-md","border","border-transparent","bg-indigo-600","py-2","px-4","text-sm","font-medium","text-white","shadow-sm","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2","disabled:bg-gray-400","disabled:cursor-not-allowed",3,"disabled"],["role","alert",1,"p-4","mb-4","text-sm","rounded-lg",3,"ngClass"]],template:function(f,u){1&f&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e.EFF(5,"Assurances Voyage"),e.k0s(),e.j41(6,"p",5),e.EFF(7,"Une assurance voyage vous prot\xe8ge contre les impr\xe9vus lors de vos d\xe9placements, comme les accidents, maladies ou pertes de bagages. Elle prend en charge les frais m\xe9dicaux \xe0 l\u2019\xe9tranger et le rapatriement si n\xe9cessaire. Elle offre \xe9galement une assistance en cas d\u2019annulation ou de retard de voyage. Ainsi, elle vous permet de voyager l\u2019esprit tranquille, en toute s\xe9curit\xe9."),e.k0s(),e.j41(8,"div",6)(9,"button",7),e.bIt("click",function(){return u.scrollToSection("content")}),e.EFF(10,"Souscrire"),e.k0s(),e.j41(11,"a",8),e.EFF(12,"Contact "),e.j41(13,"span",9),e.EFF(14,"\u2192"),e.k0s()()()(),e.j41(15,"div",10),e.nrm(16,"img",11),e.k0s()()()(),e.j41(17,"div",12)(18,"div",13)(19,"div",14)(20,"p"),e.EFF(21,"L\u2019assurance voyage n\u2019est pas obligatoire, mais vous permet de partir en toute qui\xe9tude. Les garanties sont diverses et vari\xe9es : annulation de derni\xe8re minute, frais m\xe9dicaux \xe0 l\u2019\xe9tranger, rapatriement, perte de bagages, etc."),e.k0s(),e.j41(22,"h3",15),e.EFF(23,"L\u2019assistance Annuelle"),e.k0s(),e.j41(24,"p"),e.EFF(25,"Comme l\u2019indique son nom, elle est active tout au long de l\u2019ann\xe9e d\xe8s lors que vous vous trouvez \xe0 l\u2019\xe9tranger. Cela vous permet ainsi de partir en voyage d\xe8s que l\u2019envie vous en prend et ce, sans devoir vous soucier des risques."),e.k0s(),e.j41(26,"p"),e.EFF(27,"Bien s\xfbr, il existe autant de formules qu\u2019il existe de possibilit\xe9s. Par exemple, si vous ne voyagez qu\u2019au sein de l\u2019Union Europ\xe9enne, il est inutile de souscrire une assurance voyage dans le monde entier. De plus, vous pourrez opter pour des services compl\xe9mentaires tels que l\u2019assistance d\xe9pannage, l\u2019assurance bagages, etc."),e.k0s(),e.j41(28,"p"),e.EFF(29,"En toutes circonstances cependant, vous b\xe9n\xe9ficierez d\u2019une couverture sant\xe9 optimale (remboursement des frais m\xe9dicaux \xe0 l\u2019\xe9tranger, rapatriement en cas d\u2019accident ou de maladie, retour anticip\xe9 dans l\u2019\xe9ventualit\xe9 d\u2019un proche hospitalis\xe9 ou d\xe9c\xe9d\xe9\u2026)."),e.k0s(),e.j41(30,"h3",15),e.EFF(31,"L\u2019assistance temporaire"),e.k0s(),e.j41(32,"p"),e.EFF(33,"Cette formule, semblable \xe0 la pr\xe9c\xe9dente, est particuli\xe8rement appr\xe9ci\xe9e par les vacanciers occasionnels cherchant \xe0 profiter de leur s\xe9jour sans souci. Elle comprend m\xeame des options sp\xe9cifiques pour le ski !"),e.k0s(),e.j41(34,"p"),e.EFF(35,"Cependant, il est important de noter que la dur\xe9e du voyage est g\xe9n\xe9ralement limit\xe9e \xe0 moins de 45 jours."),e.k0s(),e.j41(36,"p"),e.EFF(37,"Comme toujours, il est recommand\xe9 de choisir une assurance qui correspond \xe0 vos besoins sp\xe9cifiques, avec des options modulables en fonction de crit\xe8res tels que la dur\xe9e du s\xe9jour, la destination et la p\xe9riode de l'ann\xe9e. "),e.k0s(),e.j41(38,"h3",15),e.EFF(39,"L\u2019assurance annulation"),e.k0s(),e.j41(40,"p"),e.EFF(41,"Comme son nom l'indique, ce type d'assurance est sp\xe9cifiquement con\xe7u pour couvrir l'annulation de votre voyage. Ainsi, si des circonstances impr\xe9vues vous obligent \xe0 renoncer ou \xe0 \xe9courter votre s\xe9jour \xe0 l'\xe9tranger, que ce soit pour des raisons de sant\xe9, le d\xe9c\xe8s d'un proche ou une situation instable dans le pays de destination, les frais associ\xe9s seront pris en charge."),e.k0s()(),e.j41(42,"div",16)(43,"h2",17),e.EFF(44,"Demande de renseignement"),e.k0s(),e.DNE(45,ke,2,5,"div",18),e.j41(46,"form",19),e.bIt("ngSubmit",function(){return u.onSubmit()}),e.j41(47,"div",20)(48,"div")(49,"label",21),e.EFF(50,"Nom"),e.k0s(),e.nrm(51,"input",22),e.k0s(),e.j41(52,"div")(53,"label",23),e.EFF(54,"Pr\xe9nom"),e.k0s(),e.nrm(55,"input",24),e.k0s()(),e.j41(56,"div")(57,"label",25),e.EFF(58,"Email"),e.k0s(),e.nrm(59,"input",26),e.k0s(),e.j41(60,"div")(61,"label",27),e.EFF(62,"GSM"),e.k0s(),e.nrm(63,"input",28),e.k0s(),e.j41(64,"div")(65,"label",29),e.EFF(66,"Message"),e.k0s(),e.nrm(67,"textarea",30),e.k0s(),e.j41(68,"div",31)(69,"button",32),e.EFF(70," Envoyer "),e.k0s()()()()()()),2&f&&(e.R7$(45),e.Y8G("ngIf",u.submissionStatus),e.R7$(),e.Y8G("formGroup",u.infoForm),e.R7$(23),e.Y8G("disabled",!u.infoForm.valid))},dependencies:[C.X1,C.qT,C.me,C.BC,C.cb,C.tU,C.j4,C.JD,A.MD,A.YU,A.bT,le.Wk]})}return c})();var We=D(467),et=D(9350),Ft=D(7707),jt=D(5312);function bn(c,T){1&c&&(e.j41(0,"div",13)(1,"div",14),e.qSk(),e.j41(2,"svg",15),e.nrm(3,"circle",16)(4,"path",17),e.k0s(),e.joV(),e.j41(5,"p",18),e.EFF(6,"Chargement..."),e.k0s()()())}function zt(c,T){if(1&c&&(e.j41(0,"p",19),e.EFF(1),e.k0s()),2&c){const s=e.XpG();e.R7$(),e.JRh(s.errorMessage)}}function wn(c,T){1&c&&(e.j41(0,"p"),e.EFF(1,"Aucun contenu disponible pour le moment."),e.k0s())}let Dn=(()=>{class c{http;sanitizer;platformId;email="info@assurkin.be";activeTab="vue-ensemble";email_ombudsman=jt.c.email_ombudsman||"info@ombudsman-insurance.be";url_ombudsman=jt.c.url_ombudsman||"www.ombudsman-insurance.be";loading=!0;content={};errorMessage="";mifidContent="";static cachedData=null;constructor(s,f,u){this.http=s,this.sanitizer=f,this.platformId=u}ngOnInit(){(0,A.UE)(this.platformId)&&this.loadMentionsLegales()}loadMentionsLegales(){var s=this;return(0,We.A)(function*(){s.loading=!0,s.errorMessage="";try{let f;c.cachedData?f=c.cachedData:(f=yield function ht(c,T){const s="object"==typeof T;return new Promise((f,u)=>{const O=new Ft.Ms({next:ae=>{f(ae),O.unsubscribe()},error:u,complete:()=>{s?f(T.defaultValue):u(new et.G)}});c.subscribe(O)})}(s.http.get("https://fqopliwvpuiprdegxytz.supabase.co/storage/v1/object/public/store_json/mentions-legales.json")),console.warn("Mifid data loaded from HTTP"),c.cachedData=f),s.content=f;let u=f?.mifid||"";u=u.replace(/\n/g,"<br>"),u=u.replace(/{{email_ombudsman}}/g,s.email_ombudsman),u=u.replace(/{{url_ombudsman}}/g,s.url_ombudsman),s.mifidContent=s.sanitizer.bypassSecurityTrustHtml(u)}catch(f){console.error("Erreur lors du chargement des mentions l\xe9gales",f),f instanceof L.yz?(console.warn(`URL demand\xe9e en \xe9chec : ${f.url}`),s.errorMessage=404===f.status?"Le fichier de contenu est introuvable.":200===f.status?"Le fichier charg\xe9 n'est pas un JSON valide.":`Impossible de charger le contenu (Erreur ${f.status}).`):s.errorMessage="Une erreur inattendue est survenue lors du chargement."}finally{s.loading=!1}})()}static \u0275fac=function(f){return new(f||c)(e.rXU(L.Qq),e.rXU(d.up),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:c,selectors:[["app-mentions-legales"]],standalone:!0,features:[e.aNF],decls:43,vars:21,consts:[[1,"container","mx-auto","p-4","pt-24"],[1,"border-b","border-gray-200","mb-8"],["aria-label","Tabs",1,"-mb-px","flex","space-x-8","overflow-x-auto"],[1,"whitespace-nowrap","py-4","px-1","border-b-2","font-medium","text-sm",3,"click","ngClass"],[3,"hidden"],[1,"bg-white","shadow-md","rounded-lg","p-6","text-center"],[1,"text-gray-600","whitespace-pre-line"],[1,"bg-white","shadow-md","rounded-lg","p-6","text-left","relative","min-h-[200px]"],["class","absolute inset-0 flex items-center justify-center bg-white bg-opacity-75 rounded-lg z-10",4,"ngIf"],[1,"text-gray-600"],[3,"innerHTML"],["class","text-red-600 mb-4",4,"ngIf"],[4,"ngIf"],[1,"absolute","inset-0","flex","items-center","justify-center","bg-white","bg-opacity-75","rounded-lg","z-10"],[1,"text-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-8","w-8","text-indigo-600","mx-auto"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"mt-2","text-gray-600"],[1,"text-red-600","mb-4"]],template:function(f,u){1&f&&(e.j41(0,"div",0)(1,"div",1)(2,"nav",2)(3,"button",3),e.bIt("click",function(){return u.activeTab="vue-ensemble"}),e.EFF(4," Vue d'ensemble "),e.k0s(),e.j41(5,"button",3),e.bIt("click",function(){return u.activeTab="a-propos"}),e.EFF(6," A propos de nous "),e.k0s(),e.j41(7,"button",3),e.bIt("click",function(){return u.activeTab="mifid"}),e.EFF(8," Mifid "),e.k0s(),e.j41(9,"button",3),e.bIt("click",function(){return u.activeTab="politique-confidentialite"}),e.EFF(10," Politique confidentialit\xe9s "),e.k0s(),e.j41(11,"button",3),e.bIt("click",function(){return u.activeTab="politique-utilisation"}),e.EFF(12," Politique d'utilisation "),e.k0s(),e.j41(13,"button",3),e.bIt("click",function(){return u.activeTab="conditions-generales"}),e.EFF(14," Conditions g\xe9n\xe9rales de vente "),e.k0s()()(),e.j41(15,"div")(16,"div",4)(17,"div",5)(18,"p",6),e.EFF(19),e.k0s()()(),e.j41(20,"div",4)(21,"div",5)(22,"p",6),e.EFF(23),e.k0s()()(),e.j41(24,"div",4)(25,"div",7),e.DNE(26,bn,7,0,"div",8),e.j41(27,"div",9),e.nrm(28,"div",10),e.DNE(29,zt,2,1,"p",11)(30,wn,2,0,"p",12),e.k0s()()(),e.j41(31,"div",4)(32,"div",5)(33,"p",6),e.EFF(34),e.k0s()()(),e.j41(35,"div",4)(36,"div",5)(37,"p",6),e.EFF(38),e.k0s()()(),e.j41(39,"div",4)(40,"div",5)(41,"p",6),e.EFF(42),e.k0s()()()()()),2&f&&(e.R7$(3),e.Y8G("ngClass","vue-ensemble"===u.activeTab?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngClass","a-propos"===u.activeTab?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngClass","mifid"===u.activeTab?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngClass","politique-confidentialite"===u.activeTab?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngClass","politique-utilisation"===u.activeTab?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngClass","conditions-generales"===u.activeTab?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(3),e.Y8G("hidden","vue-ensemble"!==u.activeTab),e.R7$(3),e.JRh((null==u.content?null:u.content.vueEnsemble)||"Contenu \xe0 venir."),e.R7$(),e.Y8G("hidden","a-propos"!==u.activeTab),e.R7$(3),e.JRh((null==u.content?null:u.content.aPropos)||"Contenu \xe0 venir."),e.R7$(),e.Y8G("hidden","mifid"!==u.activeTab),e.R7$(2),e.Y8G("ngIf",u.loading),e.R7$(2),e.Y8G("innerHTML",u.mifidContent,e.npT),e.R7$(),e.Y8G("ngIf",u.errorMessage),e.R7$(),e.Y8G("ngIf",!u.mifidContent&&!u.loading&&!u.errorMessage),e.R7$(),e.Y8G("hidden","politique-confidentialite"!==u.activeTab),e.R7$(3),e.JRh((null==u.content?null:u.content.politiqueConfidentialite)||"Contenu \xe0 venir."),e.R7$(),e.Y8G("hidden","politique-utilisation"!==u.activeTab),e.R7$(3),e.JRh((null==u.content?null:u.content.politiqueUtilisation)||"Contenu \xe0 venir."),e.R7$(),e.Y8G("hidden","conditions-generales"!==u.activeTab),e.R7$(3),e.JRh((null==u.content?null:u.content.conditionsGenerales)||"Contenu \xe0 venir."))},dependencies:[A.MD,A.YU,A.bT]})}return c})();const $n=(c,T)=>({"bg-green-100 text-green-800":c,"bg-red-100 text-red-800":T});function St(c,T){if(1&c&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&c){const s=e.XpG();e.Y8G("ngClass",e.l_i(2,$n,s.submissionStatus.success,!s.submissionStatus.success)),e.R7$(),e.SpI(" ",s.submissionStatus.message," ")}}let lt=(()=>{class c{fb;dbConnectService;contactForm;submissionStatus=null;constructor(s,f){this.fb=s,this.dbConnectService=f,this.contactForm=this.fb.group({nom:["",C.k0.required],prenom:["",C.k0.required],email:["",[C.k0.required,C.k0.email]],gsm:[""],message:["",C.k0.required]})}onSubmit(){this.contactForm.valid&&this.dbConnectService.saveContactForm(this.contactForm.value).subscribe({next:()=>{this.submissionStatus={success:!0,message:"Votre message a bien \xe9t\xe9 envoy\xe9 !"},this.contactForm.reset()},error:s=>{console.error("An error occurred during form submission:",s),this.submissionStatus={success:!1,message:"Une erreur est survenue. Veuillez r\xe9essayer."}}})}static \u0275fac=function(f){return new(f||c)(e.rXU(C.ok),e.rXU(xt.y))};static \u0275cmp=e.VBU({type:c,selectors:[["app-form-contact"]],standalone:!0,features:[e.aNF],decls:32,vars:3,consts:[[1,"container","mx-auto","p-4","pt-24"],[1,"text-3xl","font-bold","mb-8","text-center","text-gray-800"],[1,"max-w-2xl","mx-auto","bg-white","p-8","rounded-lg","shadow-md"],[1,"mb-6","text-gray-700","text-center"],["class","p-4 mb-4 text-sm rounded-lg","role","alert",3,"ngClass",4,"ngIf"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["for","nom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","nom","formControlName","nom","autocomplete","family-name","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","prenom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","prenom","formControlName","prenom","autocomplete","given-name","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","email","formControlName","email","autocomplete","email","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","gsm",1,"block","text-sm","font-medium","text-gray-700"],["type","tel","id","gsm","formControlName","gsm","autocomplete","tel",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","message",1,"block","text-sm","font-medium","text-gray-700"],["id","message","formControlName","message","rows","5","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"flex","justify-end"],["type","submit",1,"inline-flex","justify-center","rounded-md","border","border-transparent","bg-indigo-600","py-2","px-4","text-sm","font-medium","text-white","shadow-sm","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2","disabled:bg-gray-400","disabled:cursor-not-allowed",3,"disabled"],["role","alert",1,"p-4","mb-4","text-sm","rounded-lg",3,"ngClass"]],template:function(f,u){1&f&&(e.j41(0,"div",0)(1,"h1",1),e.EFF(2,"Contactez-nous"),e.k0s(),e.j41(3,"div",2)(4,"p",3),e.EFF(5," Vous avez des questions, besoin d'un conseil personnalis\xe9 ou souhaitez obtenir une offre ? Remplissez le formulaire ci-dessous et nous vous recontacterons dans les plus brefs d\xe9lais. "),e.k0s(),e.DNE(6,St,2,5,"div",4),e.j41(7,"form",5),e.bIt("ngSubmit",function(){return u.onSubmit()}),e.j41(8,"div",6)(9,"div")(10,"label",7),e.EFF(11,"Nom"),e.k0s(),e.nrm(12,"input",8),e.k0s(),e.j41(13,"div")(14,"label",9),e.EFF(15,"Pr\xe9nom"),e.k0s(),e.nrm(16,"input",10),e.k0s()(),e.j41(17,"div")(18,"label",11),e.EFF(19,"Email"),e.k0s(),e.nrm(20,"input",12),e.k0s(),e.j41(21,"div")(22,"label",13),e.EFF(23,"Num\xe9ro de t\xe9l\xe9phone (GSM)"),e.k0s(),e.nrm(24,"input",14),e.k0s(),e.j41(25,"div")(26,"label",15),e.EFF(27,"Votre message"),e.k0s(),e.nrm(28,"textarea",16),e.k0s(),e.j41(29,"div",17)(30,"button",18),e.EFF(31," Envoyer le message "),e.k0s()()()()()),2&f&&(e.R7$(6),e.Y8G("ngIf",u.submissionStatus),e.R7$(),e.Y8G("formGroup",u.contactForm),e.R7$(23),e.Y8G("disabled",!u.contactForm.valid))},dependencies:[C.X1,C.qT,C.me,C.BC,C.cb,C.YS,C.j4,C.JD,A.MD,A.YU,A.bT]})}return c})();var Vn=D(9499);const Et=(c,T)=>({"border-red-500":c,"border-gray-300":T});function ct(c,T){if(1&c&&(e.j41(0,"div",12)(1,"span",13),e.EFF(2),e.k0s()()),2&c){const s=e.XpG();e.R7$(2),e.JRh(s.errorMessage)}}function pr(c,T){1&c&&(e.j41(0,"p"),e.EFF(1,"L'adresse email est requise."),e.k0s())}function Jr(c,T){1&c&&(e.j41(0,"p"),e.EFF(1,"L'adresse email est invalide."),e.k0s())}function jr(c,T){if(1&c&&(e.j41(0,"div",14),e.DNE(1,pr,2,0,"p",11)(2,Jr,2,0,"p",11),e.k0s()),2&c){const s=e.XpG();e.R7$(),e.Y8G("ngIf",s.f.email.errors.required),e.R7$(),e.Y8G("ngIf",s.f.email.errors.email)}}function oo(c,T){1&c&&(e.j41(0,"p"),e.EFF(1,"Le mot de passe est requis."),e.k0s())}function kr(c,T){if(1&c&&(e.j41(0,"div",14),e.DNE(1,oo,2,0,"p",11),e.k0s()),2&c){const s=e.XpG();e.R7$(),e.Y8G("ngIf",s.f.password.errors.required)}}function Qo(c,T){1&c&&(e.j41(0,"span",15),e.qSk(),e.j41(1,"svg",16),e.nrm(2,"circle",17)(3,"path",18),e.k0s(),e.EFF(4," Connexion en cours... "),e.k0s())}function Lt(c,T){1&c&&(e.j41(0,"span"),e.EFF(1,"Se connecter"),e.k0s())}let bo=(()=>{class c{fb;authService;router;loginForm;submitted=!1;errorMessage=null;loading=!1;constructor(s,f,u){this.fb=s,this.authService=f,this.router=u}ngOnInit(){this.loginForm=this.fb.group({email:["",[C.k0.required,C.k0.email]],password:["",C.k0.required]})}get f(){return this.loginForm.controls}onSubmit(){if(this.submitted=!0,this.errorMessage=null,this.loading=!0,this.loginForm.invalid)return;const{email:s,password:f}=this.loginForm.value;this.authService.signIn({email:s,password:f}).subscribe({next:u=>{u.error?(this.loading=!1,this.errorMessage="Email ou mot de passe incorrect.",console.error(u.error)):this.router.navigate(["/account"])},error:u=>{this.loading=!1,this.errorMessage="Une erreur inattendue est survenue. Veuillez r\xe9essayer.",console.error(u)}})}static \u0275fac=function(f){return new(f||c)(e.rXU(C.ok),e.rXU(Vn.u),e.rXU(le.Ix))};static \u0275cmp=e.VBU({type:c,selectors:[["app-account-login"]],standalone:!0,features:[e.aNF],decls:19,vars:15,consts:[[1,"max-w-md","mx-auto","bg-white","p-8","rounded-lg","shadow-md","mt-10"],[1,"text-2xl","font-bold","text-center","text-gray-800","mb-8"],["class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4","role","alert",4,"ngIf"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","email","formControlName","email",1,"mt-1","block","w-full","px-3","py-2","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["class","text-red-600 text-sm mt-1",4,"ngIf"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],["type","password","id","password","formControlName","password",1,"mt-1","block","w-full","px-3","py-2","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],["class","flex items-center",4,"ngIf"],[4,"ngIf"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative","mb-4"],[1,"block","sm:inline"],[1,"text-red-600","text-sm","mt-1"],[1,"flex","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(f,u){1&f&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2,"Connexion"),e.k0s(),e.DNE(3,ct,3,1,"div",2),e.j41(4,"form",3),e.bIt("ngSubmit",function(){return u.onSubmit()}),e.j41(5,"div")(6,"label",4),e.EFF(7,"Adresse email"),e.k0s(),e.nrm(8,"input",5),e.DNE(9,jr,3,2,"div",6),e.k0s(),e.j41(10,"div")(11,"label",7),e.EFF(12,"Mot de passe"),e.k0s(),e.nrm(13,"input",8),e.DNE(14,kr,2,1,"div",6),e.k0s(),e.j41(15,"div")(16,"button",9),e.DNE(17,Qo,5,0,"span",10)(18,Lt,2,0,"span",11),e.k0s()()()()),2&f&&(e.R7$(3),e.Y8G("ngIf",u.errorMessage),e.R7$(),e.Y8G("formGroup",u.loginForm),e.R7$(4),e.Y8G("ngClass",e.l_i(9,Et,u.submitted&&u.f.email.errors,!u.submitted||!u.f.email.errors)),e.R7$(),e.Y8G("ngIf",u.submitted&&u.f.email.errors),e.R7$(4),e.Y8G("ngClass",e.l_i(12,Et,u.submitted&&u.f.password.errors,!u.submitted||!u.f.password.errors)),e.R7$(),e.Y8G("ngIf",u.submitted&&u.f.password.errors),e.R7$(2),e.Y8G("disabled",u.loading),e.R7$(),e.Y8G("ngIf",u.loading),e.R7$(),e.Y8G("ngIf",!u.loading))},dependencies:[A.MD,A.YU,A.bT,C.X1,C.qT,C.me,C.BC,C.cb,C.j4,C.JD]})}return c})();function Jo(c,T){if(1&c){const s=e.RV6();e.j41(0,"div",1)(1,"h1",2),e.EFF(2,"Bienvenue dans votre Espace Client"),e.k0s(),e.j41(3,"p",3),e.EFF(4,"Vous \xeates actuellement connect\xe9."),e.k0s(),e.j41(5,"p",4),e.EFF(6," Vous pouvez maintenant consulter vos contrats, d\xe9clarer un sinistre ou mettre \xe0 jour vos informations personnelles. "),e.k0s(),e.j41(7,"div",5)(8,"a",6),e.EFF(9," Acc\xe9der \xe0 mon tableau de bord "),e.k0s(),e.j41(10,"button",7),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.logout())}),e.EFF(11," Se d\xe9connecter "),e.k0s()()()}}function Mr(c,T){1&c&&(e.j41(0,"h1",8),e.EFF(1,"Votre Espace Client"),e.k0s(),e.j41(2,"div",9)(3,"div",10)(4,"h2",11),e.EFF(5,"Nouveau Client ?"),e.k0s(),e.j41(6,"p",12),e.EFF(7,"Cr\xe9ez un compte pour acc\xe9der \xe0 tous nos services en ligne et g\xe9rer vos contrats facilement."),e.k0s(),e.j41(8,"a",13),e.EFF(9," Cr\xe9er votre compte "),e.k0s()(),e.j41(10,"div",10)(11,"h2",11),e.EFF(12,"D\xe9j\xe0 Client ?"),e.k0s(),e.j41(13,"p",12),e.EFF(14,"Connectez-vous \xe0 votre espace pour consulter vos informations personnelles et vos contrats."),e.k0s(),e.j41(15,"a",14),e.EFF(16," Authentifiez-vous "),e.k0s(),e.j41(17,"a",15),e.EFF(18," Mot de passe perdu ? "),e.k0s()()())}let ci=(()=>{class c{authService=(0,e.WQX)(Vn.u);isAuthenticated=this.authService.isAuthenticated;logout(){this.authService.signOut()}static \u0275fac=function(f){return new(f||c)};static \u0275cmp=e.VBU({type:c,selectors:[["app-account"]],standalone:!0,features:[e.aNF],decls:3,vars:1,consts:[[1,"container","mx-auto","px-4","py-8"],[1,"max-w-2xl","mx-auto","bg-white","p-8","rounded-lg","shadow-md","text-center"],[1,"text-3xl","font-bold","mb-4"],[1,"text-gray-700","text-lg","mb-6"],[1,"text-gray-600","mb-8"],[1,"flex","flex-col","sm:flex-row","justify-center","items-center","gap-4"],["routerLink","/mydata",1,"inline-block","bg-indigo-600","text-white","font-bold","py-3","px-6","rounded","hover:bg-indigo-700","transition","duration-300","w-full","sm:w-auto"],[1,"inline-block","bg-red-600","text-white","font-bold","py-3","px-6","rounded","hover:bg-red-700","transition","duration-300","w-full","sm:w-auto",3,"click"],[1,"text-3xl","font-bold","text-center","mb-8"],[1,"max-w-4xl","mx-auto","grid","md:grid-cols-2","gap-8"],[1,"bg-white","p-6","rounded-lg","shadow-md","text-center"],[1,"text-2xl","font-semibold","mb-4"],[1,"text-gray-600","mb-6"],["routerLink","/create-account",1,"inline-block","bg-indigo-600","text-white","font-bold","py-2","px-4","rounded","hover:bg-indigo-700","transition","duration-300"],["routerLink","/login",1,"inline-block","bg-gray-800","text-white","font-bold","py-2","px-4","rounded","hover:bg-gray-900","transition","duration-300"],["routerLink","/lost-password",1,"block","text-sm","text-indigo-600","hover:underline","mt-4"]],template:function(f,u){1&f&&(e.j41(0,"div",0),e.DNE(1,Jo,12,0,"div",1)(2,Mr,19,0),e.k0s()),2&f&&(e.R7$(),e.vxM(u.isAuthenticated()?1:2))},dependencies:[le.Wk]})}return c})();var Ao=D(6648),ms=D(9692);let Eo=(()=>{class c{supabaseService;constructor(s){this.supabaseService=s}signUp(s,f){return(0,Ao.H)(this.supabaseService.supabase.auth.signUp({email:s.email,password:s.password,options:{data:{firstName:f.firstName,lastName:f.lastName,gender:f.gender}}}))}static \u0275fac=function(f){return new(f||c)(e.KVO(ms.w))};static \u0275prov=e.jDH({token:c,factory:c.\u0275fac})}return c})();const hr=(c,T)=>({"border-red-500":c,"border-gray-300":T});function mr(c,T){if(1&c&&(e.j41(0,"div",34)(1,"span",35),e.EFF(2),e.k0s()()),2&c){const s=e.XpG();e.R7$(2),e.JRh(s.successMessage)}}function Kt(c,T){if(1&c&&(e.j41(0,"div",36)(1,"span",35),e.EFF(2),e.k0s()()),2&c){const s=e.XpG();e.R7$(2),e.JRh(s.errorMessage)}}function io(c,T){1&c&&(e.j41(0,"p"),e.EFF(1,"Le genre est requis."),e.k0s())}function Vi(c,T){if(1&c&&(e.j41(0,"div",37),e.DNE(1,io,2,0,"p",38),e.k0s()),2&c){const s=e.XpG();e.R7$(),e.Y8G("ngIf",s.f.gender.errors.required)}}function Lr(c,T){1&c&&(e.j41(0,"p"),e.EFF(1,"Le nom est requis."),e.k0s())}function gr(c,T){if(1&c&&(e.j41(0,"div",37),e.DNE(1,Lr,2,0,"p",38),e.k0s()),2&c){const s=e.XpG();e.R7$(),e.Y8G("ngIf",s.f.lastName.errors.required)}}function Co(c,T){1&c&&(e.j41(0,"p"),e.EFF(1,"Le pr\xe9nom est requis."),e.k0s())}function zn(c,T){if(1&c&&(e.j41(0,"div",37),e.DNE(1,Co,2,0,"p",38),e.k0s()),2&c){const s=e.XpG();e.R7$(),e.Y8G("ngIf",s.f.firstName.errors.required)}}function or(c,T){1&c&&(e.j41(0,"p"),e.EFF(1,"L'adresse email est requise."),e.k0s())}function Fn(c,T){1&c&&(e.j41(0,"p"),e.EFF(1,"L'adresse email est invalide."),e.k0s())}function Uo(c,T){if(1&c&&(e.j41(0,"div",37),e.DNE(1,or,2,0,"p",38)(2,Fn,2,0,"p",38),e.k0s()),2&c){const s=e.XpG();e.R7$(),e.Y8G("ngIf",s.f.email.errors.required),e.R7$(),e.Y8G("ngIf",s.f.email.errors.email)}}function mt(c,T){1&c&&(e.j41(0,"p"),e.EFF(1,"La confirmation de l'email est requise."),e.k0s())}function Zo(c,T){1&c&&(e.j41(0,"p"),e.EFF(1,"Les adresses email ne correspondent pas."),e.k0s())}function Tr(c,T){if(1&c&&(e.j41(0,"div",37),e.DNE(1,mt,2,0,"p",38)(2,Zo,2,0,"p",38),e.k0s()),2&c){const s=e.XpG();e.R7$(),e.Y8G("ngIf",s.f.confirmEmail.errors.required),e.R7$(),e.Y8G("ngIf",s.f.confirmEmail.errors.mustMatch)}}function po(c,T){1&c&&(e.j41(0,"p"),e.EFF(1,"Le mot de passe est requis."),e.k0s())}function wo(c,T){1&c&&(e.j41(0,"p"),e.EFF(1,"Le mot de passe doit contenir au moins 6 caract\xe8res."),e.k0s())}function Mi(c,T){if(1&c&&(e.j41(0,"div",37),e.DNE(1,po,2,0,"p",38)(2,wo,2,0,"p",38),e.k0s()),2&c){const s=e.XpG();e.R7$(),e.Y8G("ngIf",s.f.password.errors.required),e.R7$(),e.Y8G("ngIf",s.f.password.errors.minlength)}}function Zr(c,T){1&c&&(e.j41(0,"p"),e.EFF(1,"La confirmation du mot de passe est requise."),e.k0s())}function ei(c,T){1&c&&(e.j41(0,"p"),e.EFF(1,"Les mots de passe ne correspondent pas."),e.k0s())}function Ro(c,T){if(1&c&&(e.j41(0,"div",37),e.DNE(1,Zr,2,0,"p",38)(2,ei,2,0,"p",38),e.k0s()),2&c){const s=e.XpG();e.R7$(),e.Y8G("ngIf",s.f.confirmPassword.errors.required),e.R7$(),e.Y8G("ngIf",s.f.confirmPassword.errors.mustMatch)}}function ti(c,T){1&c&&(e.j41(0,"p"),e.EFF(1,"Le num\xe9ro de GSM est requis."),e.k0s())}function xo(c,T){if(1&c&&(e.j41(0,"div",37),e.DNE(1,ti,2,0,"p",38),e.k0s()),2&c){const s=e.XpG();e.R7$(),e.Y8G("ngIf",s.f.mobileNumber.errors.required)}}function Ti(c,T){1&c&&(e.j41(0,"div",37)(1,"p"),e.EFF(2,"Vous devez accepter les conditions g\xe9n\xe9rales."),e.k0s()())}function Wn(c,T){if(1&c&&(e.j41(0,"div",39)(1,"span",35),e.EFF(2),e.k0s()()),2&c){const s=e.XpG();e.R7$(2),e.JRh(s.successMessage)}}function Bo(c,T){if(1&c&&(e.j41(0,"div",40)(1,"span",35),e.EFF(2),e.k0s()()),2&c){const s=e.XpG();e.R7$(2),e.JRh(s.errorMessage)}}function An(c,T){return s=>{const f=s.get(c),u=s.get(T);return!f||!u||u.errors&&!u.errors.mustMatch?null:f.value!==u.value?(u.setErrors({mustMatch:!0}),{mustMatch:!0}):(u.setErrors(null),null)}}let ho=(()=>{class c{fb;dbConnectService;authService;router;platformId;accountForm;submitted=!1;successMessage=null;errorMessage=null;constructor(s,f,u,O,ae){this.fb=s,this.dbConnectService=f,this.authService=u,this.router=O,this.platformId=ae}ngOnInit(){if(this.accountForm=this.fb.group({gender:["",C.k0.required],lastName:["",C.k0.required],firstName:["",C.k0.required],email:["",[C.k0.required,C.k0.email]],confirmEmail:["",C.k0.required],password:["",[C.k0.required,C.k0.minLength(6)]],confirmPassword:["",C.k0.required],mobileNumber:["",C.k0.required],terms:[!1,C.k0.requiredTrue]},{validators:[An("email","confirmEmail"),An("password","confirmPassword")]}),(0,A.UE)(this.platformId)){const s=localStorage.getItem("autoFormData");if(s){const u=JSON.parse(s).preneur;let O="";"Madame"===u.genre&&(O="female"),"Monsieur"===u.genre&&(O="male"),"Autre"===u.genre&&(O="other"),this.accountForm.patchValue({gender:O,lastName:u.nom,firstName:u.prenom,email:u.email,confirmEmail:u.email,mobileNumber:u.telephone})}}}get f(){return this.accountForm.controls}onSubmit(){if(this.submitted=!0,this.errorMessage=null,this.successMessage=null,this.accountForm.invalid)return;const{email:s,password:f,firstName:u,lastName:O,gender:ae}=this.accountForm.value;this.authService.signUp({email:s,password:f},{firstName:u,lastName:O,gender:ae}).subscribe({next:Fe=>{Fe.error?(this.errorMessage=Fe.error.message&&Fe.error.message.includes("User already registered")?"Un compte avec cette adresse email existe d\xe9j\xe0. Veuillez vous connecter ou utiliser une autre adresse.":Fe.error.message,console.error("Erreur lors de la cr\xe9ation du compte:",Fe.error)):Fe.data.user&&(Fe.data.user.identities&&Fe.data.user.identities.length>0?(this.successMessage="Votre compte a \xe9t\xe9 cr\xe9\xe9 avec succ\xe8s ! Un email de confirmation vous a \xe9t\xe9 envoy\xe9.",console.log("Utilisateur cr\xe9\xe9:",Fe.data.user),this.accountForm.reset(),this.submitted=!1):this.errorMessage="Un compte avec cette adresse email existe d\xe9j\xe0. Veuillez vous connecter ou utiliser une autre adresse.")},error:Fe=>{this.errorMessage="Une erreur inattendue est survenue. Veuillez r\xe9essayer plus tard.",console.error("Erreur de soumission:",Fe)}})}static \u0275fac=function(f){return new(f||c)(e.rXU(C.ok),e.rXU(xt.y),e.rXU(Eo),e.rXU(le.Ix),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:c,selectors:[["app-account-creation"]],standalone:!0,features:[e.Jv_([Eo,xt.y]),e.aNF],decls:66,vars:46,consts:[[1,"max-w-2xl","mx-auto","bg-white","p-8","rounded-lg","shadow-md"],[1,"text-2xl","font-bold","text-center","text-gray-800","mb-8"],["class","bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4","role","alert",4,"ngIf"],["class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4","role","alert",4,"ngIf"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","gender",1,"block","text-sm","font-medium","text-gray-700"],["id","gender","formControlName","gender",1,"mt-1","block","w-full","px-3","py-2","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["value","","disabled",""],["value","male"],["value","female"],["value","other"],["class","text-red-600 text-sm mt-1",4,"ngIf"],["for","lastName",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","lastName","formControlName","lastName",1,"mt-1","block","w-full","px-3","py-2","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["for","firstName",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","firstName","formControlName","firstName",1,"mt-1","block","w-full","px-3","py-2","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","email","formControlName","email",1,"mt-1","block","w-full","px-3","py-2","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["for","confirmEmail",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","confirmEmail","formControlName","confirmEmail",1,"mt-1","block","w-full","px-3","py-2","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],["type","password","id","password","formControlName","password",1,"mt-1","block","w-full","px-3","py-2","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["for","confirmPassword",1,"block","text-sm","font-medium","text-gray-700"],["type","password","id","confirmPassword","formControlName","confirmPassword",1,"mt-1","block","w-full","px-3","py-2","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["for","mobileNumber",1,"block","text-sm","font-medium","text-gray-700"],["type","tel","id","mobileNumber","formControlName","mobileNumber",1,"mt-1","block","w-full","px-3","py-2","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],[1,"flex","items-start"],[1,"flex","items-center","h-5"],["id","terms","formControlName","terms","type","checkbox",1,"focus:ring-indigo-500","h-4","w-4","text-indigo-600","border-gray-300","rounded"],[1,"ml-3","text-sm"],["for","terms",1,"font-medium","text-gray-700"],["class","bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative","role","alert",4,"ngIf"],["class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative","role","alert",4,"ngIf"],["type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500"],["role","alert",1,"bg-green-100","border","border-green-400","text-green-700","px-4","py-3","rounded","relative","mb-4"],[1,"block","sm:inline"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative","mb-4"],[1,"text-red-600","text-sm","mt-1"],[4,"ngIf"],["role","alert",1,"bg-green-100","border","border-green-400","text-green-700","px-4","py-3","rounded","relative"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative"]],template:function(f,u){1&f&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2,"Cr\xe9er un compte"),e.k0s(),e.DNE(3,mr,3,1,"div",2)(4,Kt,3,1,"div",3),e.j41(5,"form",4),e.bIt("ngSubmit",function(){return u.onSubmit()}),e.j41(6,"div")(7,"label",5),e.EFF(8,"Genre"),e.k0s(),e.j41(9,"select",6)(10,"option",7),e.EFF(11,"S\xe9lectionnez votre genre"),e.k0s(),e.j41(12,"option",8),e.EFF(13,"Homme"),e.k0s(),e.j41(14,"option",9),e.EFF(15,"Femme"),e.k0s(),e.j41(16,"option",10),e.EFF(17,"Autre"),e.k0s()(),e.DNE(18,Vi,2,1,"div",11),e.k0s(),e.j41(19,"div")(20,"label",12),e.EFF(21,"Nom"),e.k0s(),e.nrm(22,"input",13),e.DNE(23,gr,2,1,"div",11),e.k0s(),e.j41(24,"div")(25,"label",14),e.EFF(26,"Pr\xe9nom"),e.k0s(),e.nrm(27,"input",15),e.DNE(28,zn,2,1,"div",11),e.k0s(),e.j41(29,"div")(30,"label",16),e.EFF(31,"Adresse email"),e.k0s(),e.nrm(32,"input",17),e.DNE(33,Uo,3,2,"div",11),e.k0s(),e.j41(34,"div")(35,"label",18),e.EFF(36,"Confirmez l'adresse email"),e.k0s(),e.nrm(37,"input",19),e.DNE(38,Tr,3,2,"div",11),e.k0s(),e.j41(39,"div")(40,"label",20),e.EFF(41,"Mot de passe"),e.k0s(),e.nrm(42,"input",21),e.DNE(43,Mi,3,2,"div",11),e.k0s(),e.j41(44,"div")(45,"label",22),e.EFF(46,"Confirmez le mot de passe"),e.k0s(),e.nrm(47,"input",23),e.DNE(48,Ro,3,2,"div",11),e.k0s(),e.j41(49,"div")(50,"label",24),e.EFF(51,"Num\xe9ro de GSM"),e.k0s(),e.nrm(52,"input",25),e.DNE(53,xo,2,1,"div",11),e.k0s(),e.j41(54,"div",26)(55,"div",27),e.nrm(56,"input",28),e.k0s(),e.j41(57,"div",29)(58,"label",30),e.EFF(59,"J'accepte les conditions g\xe9n\xe9rales"),e.k0s(),e.DNE(60,Ti,3,0,"div",11),e.k0s()(),e.DNE(61,Wn,3,1,"div",31)(62,Bo,3,1,"div",32),e.j41(63,"div")(64,"button",33),e.EFF(65," Cr\xe9er le compte "),e.k0s()()()()),2&f&&(e.R7$(3),e.Y8G("ngIf",u.successMessage),e.R7$(),e.Y8G("ngIf",u.errorMessage),e.R7$(),e.Y8G("formGroup",u.accountForm),e.R7$(4),e.Y8G("ngClass",e.l_i(22,hr,u.submitted&&u.f.gender.errors,!u.submitted||!u.f.gender.errors)),e.R7$(9),e.Y8G("ngIf",u.submitted&&u.f.gender.errors),e.R7$(4),e.Y8G("ngClass",e.l_i(25,hr,u.submitted&&u.f.lastName.errors,!u.submitted||!u.f.lastName.errors)),e.R7$(),e.Y8G("ngIf",u.submitted&&u.f.lastName.errors),e.R7$(4),e.Y8G("ngClass",e.l_i(28,hr,u.submitted&&u.f.firstName.errors,!u.submitted||!u.f.firstName.errors)),e.R7$(),e.Y8G("ngIf",u.submitted&&u.f.firstName.errors),e.R7$(4),e.Y8G("ngClass",e.l_i(31,hr,u.submitted&&u.f.email.errors,!u.submitted||!u.f.email.errors)),e.R7$(),e.Y8G("ngIf",u.submitted&&u.f.email.errors),e.R7$(4),e.Y8G("ngClass",e.l_i(34,hr,u.submitted&&u.f.confirmEmail.errors,!u.submitted||!u.f.confirmEmail.errors)),e.R7$(),e.Y8G("ngIf",u.submitted&&u.f.confirmEmail.errors),e.R7$(4),e.Y8G("ngClass",e.l_i(37,hr,u.submitted&&u.f.password.errors,!u.submitted||!u.f.password.errors)),e.R7$(),e.Y8G("ngIf",u.submitted&&u.f.password.errors),e.R7$(4),e.Y8G("ngClass",e.l_i(40,hr,u.submitted&&u.f.confirmPassword.errors,!u.submitted||!u.f.confirmPassword.errors)),e.R7$(),e.Y8G("ngIf",u.submitted&&u.f.confirmPassword.errors),e.R7$(4),e.Y8G("ngClass",e.l_i(43,hr,u.submitted&&u.f.mobileNumber.errors,!u.submitted||!u.f.mobileNumber.errors)),e.R7$(),e.Y8G("ngIf",u.submitted&&u.f.mobileNumber.errors),e.R7$(7),e.Y8G("ngIf",u.submitted&&u.f.terms.errors),e.R7$(),e.Y8G("ngIf",u.successMessage),e.R7$(),e.Y8G("ngIf",u.errorMessage))},dependencies:[A.MD,A.YU,A.bT,C.X1,C.qT,C.xH,C.y7,C.me,C.Zm,C.wz,C.BC,C.cb,C.j4,C.JD],encapsulation:2})}return c})();var $,lr=D(3207),ni="https://js.stripe.com/v3",Go=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,so="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",Ho=function(T){var s=T&&!T.advancedFraudSignals?"?advancedFraudSignals=false":"",f=document.createElement("script");f.src="".concat(ni).concat(s);var u=document.head||document.body;if(!u)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return u.appendChild(f),f},Un=null,Do=null,V=null,z=!1,X=function(){return $||($=(T=null,null!==Un?Un:(Un=new Promise(function(s,f){if(typeof window>"u"||typeof document>"u")s(null);else if(window.Stripe&&T&&console.warn(so),window.Stripe)s(window.Stripe);else try{var u=function(){for(var T=document.querySelectorAll('script[src^="'.concat(ni,'"]')),s=0;s<T.length;s++){var f=T[s];if(Go.test(f.src))return f}return null}();if(u&&T)console.warn(so);else if(u){if(u&&null!==V&&null!==Do){var O;u.removeEventListener("load",V),u.removeEventListener("error",Do),null===(O=u.parentNode)||void 0===O||O.removeChild(u),u=Ho(T)}}else u=Ho(T);V=function(T,s){return function(){window.Stripe?T(window.Stripe):s(new Error("Stripe.js not available"))}}(s,f),Do=function(T){return function(){T(new Error("Failed to load Stripe.js"))}}(f),u.addEventListener("load",V),u.addEventListener("error",Do)}catch(ae){return void f(ae)}})).catch(function(s){return Un=null,Promise.reject(s)})).catch(function(T){return $=null,Promise.reject(T)}));var T};Promise.resolve().then(function(){return X()}).catch(function(c){z||console.warn(c)});var Ce=D(8212),oe=D(8072),$e=D(3161);const ft=["fileInput"],yt=(c,T)=>({"text-green-800":c,"text-red-800":T}),_t=(c,T,s)=>({"bg-green-100 text-green-800":c,"bg-yellow-100 text-yellow-800":T,"bg-red-100 text-red-800":s}),fn=(c,T)=>["/assurance-details",c,T],Wt=(c,T)=>({"z-10 bg-indigo-50 border-indigo-500 text-indigo-600":c,"bg-white border-gray-300 text-gray-500 hover:bg-gray-50":T}),$r=(c,T)=>({"bg-indigo-600 text-white border-indigo-600":c,"bg-white text-gray-700 border-gray-300 hover:bg-gray-50":T});function eo(c,T){1&c&&(e.qSk(),e.j41(0,"svg",21),e.nrm(1,"path",22),e.k0s())}function mo(c,T){1&c&&(e.qSk(),e.j41(0,"svg",23),e.nrm(1,"path",24),e.k0s())}function ir(c,T){if(1&c){const s=e.RV6();e.j41(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10),e.DNE(4,eo,2,0,"svg",11)(5,mo,2,0,"svg",12),e.k0s(),e.j41(6,"div",13)(7,"p",14),e.EFF(8),e.k0s(),e.j41(9,"p",15),e.EFF(10),e.k0s()(),e.j41(11,"div",16)(12,"button",17),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.hideNotification())}),e.j41(13,"span",18),e.EFF(14,"Fermer"),e.k0s(),e.qSk(),e.j41(15,"svg",19),e.nrm(16,"path",20),e.k0s()()()()()()}if(2&c){const s=e.XpG();e.R7$(4),e.Y8G("ngIf","success"===s.popupType),e.R7$(),e.Y8G("ngIf","error"===s.popupType),e.R7$(2),e.Y8G("ngClass",e.l_i(5,yt,"success"===s.popupType,"error"===s.popupType)),e.R7$(),e.SpI(" ","success"===s.popupType?"Succ\xe8s":"Erreur"," "),e.R7$(2),e.JRh(s.popupMessage)}}function Hn(c,T){1&c&&(e.j41(0,"div",25)(1,"p",26),e.EFF(2,"Chargement de vos donn\xe9es..."),e.k0s()())}function M(c,T){if(1&c&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&c){const s=e.XpG(3);e.R7$(),e.Lme("",s.person.code_postal," ",s.person.ville,"")}}function S(c,T){if(1&c&&(e.j41(0,"div")(1,"div",36)(2,"h2",37),e.EFF(3,"Mes Donn\xe9es Personnelles"),e.k0s(),e.j41(4,"div",38)(5,"div")(6,"p",39),e.EFF(7,"Nom complet"),e.k0s(),e.j41(8,"p",40),e.EFF(9),e.k0s()(),e.j41(10,"div")(11,"p",39),e.EFF(12,"Adresse e-mail"),e.k0s(),e.j41(13,"p",40),e.EFF(14),e.k0s()(),e.j41(15,"div")(16,"p",39),e.EFF(17,"T\xe9l\xe9phone"),e.k0s(),e.j41(18,"p",40),e.EFF(19),e.k0s()(),e.j41(20,"div")(21,"p",39),e.EFF(22,"Date de naissance"),e.k0s(),e.j41(23,"p",40),e.EFF(24),e.nI1(25,"date"),e.k0s()(),e.j41(26,"div",41)(27,"p",39),e.EFF(28,"Adresse"),e.k0s(),e.j41(29,"p",40),e.EFF(30),e.nrm(31,"br"),e.DNE(32,M,2,2,"span",35),e.k0s()(),e.j41(33,"div")(34,"p",39),e.EFF(35,"Num\xe9ro de permis"),e.k0s(),e.j41(36,"p",40),e.EFF(37),e.k0s()(),e.j41(38,"div")(39,"p",39),e.EFF(40,"Date du permis"),e.k0s(),e.j41(41,"p",40),e.EFF(42),e.nI1(43,"date"),e.k0s()()()()()),2&c){const s=e.XpG(2);e.R7$(9),e.Lme("",s.person.prenom," ",s.person.nom,""),e.R7$(5),e.JRh(s.person.email),e.R7$(5),e.JRh(s.person.telephone||"Non renseign\xe9"),e.R7$(5),e.JRh(s.person.date_naissance?e.i5U(25,9,s.person.date_naissance,"dd/MM/yyyy"):"Non renseign\xe9e"),e.R7$(6),e.SpI(" ",s.person.adresse||"Non renseign\xe9e",""),e.R7$(2),e.Y8G("ngIf",s.person.code_postal&&s.person.ville),e.R7$(5),e.JRh(s.person.permis_numero||"Non renseign\xe9"),e.R7$(5),e.JRh(s.person.permis_date?e.i5U(43,12,s.person.permis_date,"dd/MM/yyyy"):"Non renseign\xe9e")}}function w(c,T){1&c&&(e.j41(0,"div",47),e.qSk(),e.j41(1,"svg",48),e.nrm(2,"circle",49)(3,"path",50),e.k0s(),e.joV(),e.j41(4,"p",51),e.EFF(5,"Chargement des contrats..."),e.k0s()())}function B(c,T){if(1&c&&(e.j41(0,"div",52)(1,"p",51),e.EFF(2),e.k0s(),e.j41(3,"a",53),e.EFF(4,"Demander un devis"),e.k0s()()),2&c){const s=e.XpG(3);e.R7$(2),e.SpI("Aucun contrat d'assurance ",s.activeInsuranceCategory," trouv\xe9."),e.R7$(),e.Y8G("routerLink","/particulier/"+s.activeInsuranceCategory)}}function de(c,T){if(1&c&&(e.j41(0,"tr")(1,"td",61)(2,"div",62),e.EFF(3),e.k0s(),e.j41(4,"div",63),e.EFF(5),e.k0s()(),e.j41(6,"td",64),e.EFF(7),e.nI1(8,"date"),e.k0s(),e.j41(9,"td",61)(10,"span",65),e.EFF(11),e.k0s()(),e.j41(12,"td",66)(13,"a",67),e.EFF(14,"D\xe9tails"),e.k0s()()()),2&c){const s=T.$implicit,f=e.XpG(4);e.R7$(3),e.JRh(s.denomination),e.R7$(2),e.JRh(s.categorie),e.R7$(2),e.JRh(e.i5U(8,6,s.date_contract,"dd/MM/yyyy")),e.R7$(3),e.Y8G("ngClass",e.sMw(9,_t,"Valid\xe9"===s.statut||"Actif"===s.statut,"En attente"===s.statut||"Devis en attente"===s.statut,"Refus\xe9"===s.statut||"R\xe9sili\xe9"===s.statut)),e.R7$(),e.SpI(" ",s.statut," "),e.R7$(2),e.Y8G("routerLink",e.l_i(13,fn,f.activeInsuranceCategory,s.id))}}function pt(c,T){if(1&c&&(e.j41(0,"div",54)(1,"table",55)(2,"thead",56)(3,"tr")(4,"th",57),e.EFF(5,"D\xe9signation"),e.k0s(),e.j41(6,"th",57),e.EFF(7,"Date d'effet"),e.k0s(),e.j41(8,"th",57),e.EFF(9,"Statut"),e.k0s(),e.j41(10,"th",58)(11,"span",18),e.EFF(12,"Actions"),e.k0s()()()(),e.j41(13,"tbody",59),e.DNE(14,de,15,16,"tr",60),e.k0s()()()),2&c){const s=e.XpG(3);e.R7$(14),e.Y8G("ngForOf",s.contracts)}}function Qt(c,T){if(1&c){const s=e.RV6();e.j41(0,"div")(1,"div",36)(2,"h2",37),e.EFF(3,"Mes Assurances"),e.k0s(),e.j41(4,"div",32)(5,"nav",42)(6,"button",43),e.bIt("click",function(){e.eBV(s);const u=e.XpG(2);return e.Njj(u.setInsuranceCategory("auto"))}),e.EFF(7," Auto "),e.k0s(),e.j41(8,"button",43),e.bIt("click",function(){e.eBV(s);const u=e.XpG(2);return e.Njj(u.setInsuranceCategory("habitation"))}),e.EFF(9," Habitation "),e.k0s(),e.j41(10,"button",43),e.bIt("click",function(){e.eBV(s);const u=e.XpG(2);return e.Njj(u.setInsuranceCategory("obseques"))}),e.EFF(11," Obs\xe8ques "),e.k0s()()(),e.DNE(12,w,6,0,"div",44)(13,B,5,2,"div",45)(14,pt,15,1,"div",46),e.k0s()()}if(2&c){const s=e.XpG(2);e.R7$(6),e.Y8G("ngClass","auto"===s.activeInsuranceCategory?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngClass","habitation"===s.activeInsuranceCategory?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngClass","obseques"===s.activeInsuranceCategory?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngIf",s.contractsLoading),e.R7$(),e.Y8G("ngIf",!s.contractsLoading&&0===s.contracts.length),e.R7$(),e.Y8G("ngIf",!s.contractsLoading&&s.contracts.length>0)}}function No(c,T){1&c&&(e.j41(0,"div",52)(1,"p",51),e.EFF(2,"Aucun document disponible."),e.k0s()())}function fi(c,T){if(1&c&&(e.j41(0,"a",77),e.nrm(1,"i",78),e.EFF(2," Voir le PDF "),e.k0s()),2&c){const s=e.XpG().$implicit;e.Y8G("href",s.signed_pdf_url,e.B4B)}}function es(c,T){if(1&c){const s=e.RV6();e.j41(0,"tr")(1,"td",61)(2,"div",69),e.nrm(3,"i",70),e.j41(4,"div",71),e.EFF(5),e.k0s()()(),e.j41(6,"td",64),e.EFF(7),e.nI1(8,"date"),e.k0s(),e.j41(9,"td",61)(10,"span",65),e.EFF(11),e.k0s()(),e.j41(12,"td",66),e.DNE(13,fi,3,1,"a",72),e.j41(14,"button",73),e.bIt("click",function(){const u=e.eBV(s).$implicit,O=e.XpG(4);return e.Njj(O.downloadDocument(u))}),e.nrm(15,"i",74),e.k0s(),e.j41(16,"button",75),e.bIt("click",function(){const u=e.eBV(s).$implicit,O=e.XpG(4);return e.Njj(O.deleteDocument(u))}),e.nrm(17,"i",76),e.k0s()()()}if(2&c){const s=T.$implicit,f=e.XpG(4);e.R7$(3),e.Y8G("ngClass",f.getFileIcon(s.file_name)),e.R7$(),e.Y8G("title",s.file_name),e.R7$(),e.JRh(f.truncateFileName(s.file_name)),e.R7$(2),e.JRh(e.i5U(8,7,s.date_created,"dd/MM/yyyy")),e.R7$(3),e.Y8G("ngClass",e.sMw(10,_t,"Valid\xe9"===s.status||"Sign\xe9"===s.status,!s.status||"En attente"===s.status,"Rejet\xe9"===s.status)),e.R7$(),e.SpI(" ",s.status||"En attente"," "),e.R7$(2),e.Y8G("ngIf",s.signed_pdf_url)}}function ra(c,T){if(1&c){const s=e.RV6();e.qex(0),e.j41(1,"button",91),e.bIt("click",function(){const u=e.eBV(s).$implicit,O=e.XpG(5);return e.Njj(O.goToDocumentsPage(u))}),e.EFF(2),e.k0s(),e.bVm()}if(2&c){const s=T.$implicit,f=e.XpG(5);e.R7$(),e.Y8G("ngClass",e.l_i(2,Wt,s===f.documentsCurrentPage,s!==f.documentsCurrentPage)),e.R7$(),e.SpI(" ",s," ")}}function Va(c,T){if(1&c){const s=e.RV6();e.j41(0,"div",79)(1,"div",80)(2,"button",81),e.bIt("click",function(){e.eBV(s);const u=e.XpG(4);return e.Njj(u.goToDocumentsPage(u.documentsCurrentPage-1))}),e.EFF(3," Pr\xe9c\xe9dent "),e.k0s(),e.j41(4,"button",82),e.bIt("click",function(){e.eBV(s);const u=e.XpG(4);return e.Njj(u.goToDocumentsPage(u.documentsCurrentPage+1))}),e.EFF(5," Suivant "),e.k0s()(),e.j41(6,"div",83)(7,"div")(8,"p",84),e.EFF(9," Affichage de "),e.j41(10,"span",85),e.EFF(11),e.k0s(),e.EFF(12," \xe0 "),e.j41(13,"span",85),e.EFF(14),e.k0s(),e.EFF(15," sur "),e.j41(16,"span",85),e.EFF(17),e.k0s(),e.EFF(18," r\xe9sultats "),e.k0s()(),e.j41(19,"div")(20,"nav",86)(21,"button",87),e.bIt("click",function(){e.eBV(s);const u=e.XpG(4);return e.Njj(u.goToDocumentsPage(u.documentsCurrentPage-1))}),e.j41(22,"span",18),e.EFF(23,"Pr\xe9c\xe9dent"),e.k0s(),e.nrm(24,"i",88),e.k0s(),e.DNE(25,ra,3,5,"ng-container",60),e.j41(26,"button",89),e.bIt("click",function(){e.eBV(s);const u=e.XpG(4);return e.Njj(u.goToDocumentsPage(u.documentsCurrentPage+1))}),e.j41(27,"span",18),e.EFF(28,"Suivant"),e.k0s(),e.nrm(29,"i",90),e.k0s()()()()()}if(2&c){const s=e.XpG(4);e.R7$(2),e.Y8G("disabled",1===s.documentsCurrentPage),e.R7$(2),e.Y8G("disabled",s.documentsCurrentPage===s.getTotalDocumentPages()),e.R7$(7),e.JRh((s.documentsCurrentPage-1)*s.documentsItemsPerPage+1),e.R7$(3),e.JRh(s.documentsCurrentPage*s.documentsItemsPerPage>s.documents.length?s.documents.length:s.documentsCurrentPage*s.documentsItemsPerPage),e.R7$(3),e.JRh(s.documents.length),e.R7$(4),e.Y8G("disabled",1===s.documentsCurrentPage),e.R7$(4),e.Y8G("ngForOf",s.getDocumentPagesArray()),e.R7$(),e.Y8G("disabled",s.documentsCurrentPage===s.getTotalDocumentPages())}}function Bi(c,T){if(1&c&&(e.j41(0,"div",54)(1,"table",55)(2,"thead",56)(3,"tr")(4,"th",57),e.EFF(5,"Nom du fichier"),e.k0s(),e.j41(6,"th",57),e.EFF(7,"Date"),e.k0s(),e.j41(8,"th",57),e.EFF(9,"Statut"),e.k0s(),e.j41(10,"th",58)(11,"span",18),e.EFF(12,"Actions"),e.k0s()()()(),e.j41(13,"tbody",59),e.DNE(14,es,18,14,"tr",60),e.k0s()(),e.DNE(15,Va,30,8,"div",68),e.k0s()),2&c){const s=e.XpG(3);e.R7$(14),e.Y8G("ngForOf",s.paginatedDocuments),e.R7$(),e.Y8G("ngIf",s.getTotalDocumentPages()>1)}}function ts(c,T){if(1&c&&(e.j41(0,"div")(1,"div",36)(2,"h2",37),e.EFF(3,"Mes Documents"),e.k0s(),e.DNE(4,No,3,0,"div",45)(5,Bi,16,2,"div",46),e.k0s()()),2&c){const s=e.XpG(2);e.R7$(4),e.Y8G("ngIf",!s.documents||0===s.documents.length),e.R7$(),e.Y8G("ngIf",s.documents&&s.documents.length>0)}}function Si(c,T){if(1&c){const s=e.RV6();e.j41(0,"button",108),e.bIt("click",function(){const u=e.eBV(s).$implicit,O=e.XpG(4);return e.Njj(O.selectDocType(u.id))}),e.EFF(1),e.k0s()}if(2&c){const s=T.$implicit,f=e.XpG(4);e.Y8G("ngClass",e.l_i(2,$r,f.selectedDocTypeId===s.id,f.selectedDocTypeId!==s.id)),e.R7$(),e.SpI(" ",s.Label," ")}}function ns(c,T){1&c&&(e.j41(0,"div",115)(1,"div",116),e.nrm(2,"div",117),e.k0s(),e.j41(3,"p",113),e.EFF(4,"T\xe9l\xe9versement en cours..."),e.k0s()())}function Ai(c,T){if(1&c){const s=e.RV6();e.j41(0,"div")(1,"p",105),e.EFF(2,"S\xe9lectionnez votre fichier ou glissez-d\xe9posez"),e.k0s(),e.j41(3,"div",109)(4,"div",98),e.nrm(5,"i",110),e.j41(6,"p",111)(7,"span",112),e.EFF(8,"Cliquez pour t\xe9l\xe9verser"),e.k0s(),e.EFF(9," ou glissez-d\xe9posez "),e.k0s(),e.j41(10,"p",113),e.EFF(11,"PDF, JPG, PNG, DOC, DOCX"),e.k0s()(),e.j41(12,"input",103,0),e.bIt("change",function(u){e.eBV(s);const O=e.XpG(4);return e.Njj(O.onFileSelected(u))}),e.k0s()(),e.DNE(14,ns,5,0,"div",114),e.k0s()}if(2&c){const s=e.XpG(4);e.R7$(3),e.AVh("opacity-50",s.uploading),e.R7$(2),e.Y8G("ngClass",s.uploading?"fa-spinner fa-spin":"fa-cloud-upload-alt"),e.R7$(7),e.Y8G("disabled",s.uploading),e.R7$(2),e.Y8G("ngIf",s.uploading)}}function oa(c,T){if(1&c&&(e.j41(0,"div",104)(1,"div",95)(2,"div")(3,"p",105),e.EFF(4,"Choisissez une cat\xe9gorie"),e.k0s(),e.j41(5,"div",106),e.DNE(6,Si,2,5,"button",107),e.k0s()(),e.DNE(7,Ai,15,5,"div",35),e.k0s()()),2&c){const s=e.XpG(3);e.R7$(6),e.Y8G("ngForOf",s.documentTypes),e.R7$(),e.Y8G("ngIf",s.selectedDocTypeId)}}function ia(c,T){if(1&c){const s=e.RV6();e.j41(0,"div")(1,"div",36)(2,"h2",37),e.EFF(3,"T\xe9l\xe9versement"),e.k0s(),e.DNE(4,oa,8,2,"div",92),e.j41(5,"div",93)(6,"h3",94),e.EFF(7,"Documents Clients"),e.k0s(),e.j41(8,"div",95)(9,"div")(10,"p",96),e.EFF(11,"T\xe9l\xe9verser un document client ou glissez-d\xe9posez"),e.k0s(),e.j41(12,"div",97)(13,"div",98),e.nrm(14,"i",99),e.j41(15,"p",100)(16,"span",101),e.EFF(17,"Cliquez pour t\xe9l\xe9verser"),e.k0s(),e.EFF(18," ou glissez-d\xe9posez "),e.k0s(),e.j41(19,"p",102),e.EFF(20,"PDF, JPG, PNG, DOC, DOCX"),e.k0s()(),e.j41(21,"input",103),e.bIt("change",function(u){e.eBV(s);const O=e.XpG(2);return e.Njj(O.onFileSelected(u,"documents_clients"))}),e.k0s()()()()()()()}if(2&c){const s=e.XpG(2);e.R7$(4),e.Y8G("ngIf",s.documentTypes&&s.documentTypes.length>0),e.R7$(8),e.AVh("opacity-50",s.uploading),e.R7$(2),e.Y8G("ngClass",s.uploading?"fa-spinner fa-spin":"fa-cloud-upload-alt"),e.R7$(7),e.Y8G("disabled",s.uploading)}}function Gt(c,T){1&c&&(e.j41(0,"div",47),e.qSk(),e.j41(1,"svg",48),e.nrm(2,"circle",49)(3,"path",50),e.k0s(),e.joV(),e.j41(4,"p",51),e.EFF(5,"Chargement des paiements..."),e.k0s()())}function sr(c,T){if(1&c){const s=e.RV6();e.j41(0,"div",119)(1,"div",120)(2,"label",121),e.EFF(3,"Filtrer :"),e.k0s(),e.j41(4,"select",122),e.mxI("ngModelChange",function(u){e.eBV(s);const O=e.XpG(3);return e.DH7(O.paymentStatusFilter,u)||(O.paymentStatusFilter=u),e.Njj(u)}),e.bIt("ngModelChange",function(){e.eBV(s);const u=e.XpG(3);return e.Njj(u.onPaymentFilterChange())}),e.j41(5,"option",123),e.EFF(6,"Tous"),e.k0s(),e.j41(7,"option",124),e.EFF(8,"En attente"),e.k0s(),e.j41(9,"option",125),e.EFF(10,"Pay\xe9"),e.k0s(),e.j41(11,"option",126),e.EFF(12,"En retard"),e.k0s(),e.j41(13,"option",127),e.EFF(14,"\xc9chou\xe9"),e.k0s(),e.j41(15,"option",128),e.EFF(16,"Annul\xe9"),e.k0s()()()()}if(2&c){const s=e.XpG(3);e.R7$(4),e.R50("ngModel",s.paymentStatusFilter)}}function wr(c,T){1&c&&(e.j41(0,"div",52)(1,"p",51),e.EFF(2,"Aucun historique de paiement disponible."),e.k0s()())}function pi(c,T){1&c&&(e.j41(0,"div",52)(1,"p",51),e.EFF(2,"Aucun paiement ne correspond au filtre s\xe9lectionn\xe9."),e.k0s()())}function Sr(c,T){1&c&&e.nrm(0,"i",135)}function rs(c,T){if(1&c){const s=e.RV6();e.j41(0,"button",133),e.bIt("click",function(){e.eBV(s);const u=e.XpG().$implicit,O=e.XpG(4);return e.Njj(O.openPaymentModal(u))}),e.DNE(1,Sr,1,0,"i",134),e.EFF(2," Payer "),e.k0s()}if(2&c){const s=e.XpG().$implicit,f=e.XpG(4);e.Y8G("disabled",f.isPaymentIntentLoading),e.R7$(),e.Y8G("ngIf",f.isPaymentIntentLoading&&(null==f.selectedPaymentRequest?null:f.selectedPaymentRequest.id)===s.id)}}function gs(c,T){if(1&c){const s=e.RV6();e.j41(0,"button",136),e.bIt("click",function(){e.eBV(s);const u=e.XpG().$implicit,O=e.XpG(4);return e.Njj(O.downloadInvoice(u))}),e.nrm(1,"i",137),e.EFF(2," Facture "),e.k0s()}}function Gi(c,T){if(1&c&&(e.j41(0,"tr")(1,"td",64),e.EFF(2),e.nI1(3,"date"),e.k0s(),e.j41(4,"td",129),e.EFF(5),e.k0s(),e.j41(6,"td",130),e.EFF(7),e.nI1(8,"currency"),e.k0s(),e.j41(9,"td",61)(10,"span",65),e.EFF(11),e.k0s()(),e.j41(12,"td",66),e.DNE(13,rs,3,2,"button",131)(14,gs,3,0,"button",132),e.k0s()()),2&c){const s=T.$implicit,f=e.XpG(4);e.R7$(2),e.JRh(e.i5U(3,7,s.created_at,"dd/MM/yyyy")),e.R7$(3),e.JRh(s.sujet||"Paiement"),e.R7$(2),e.JRh(e.ii3(8,10,s.montant,"EUR","symbol","1.2-2")),e.R7$(3),e.Y8G("ngClass",f.getPaymentStatusClass(s.statut)),e.R7$(),e.SpI(" ",f.getPaymentStatusLabel(s.statut)," "),e.R7$(2),e.Y8G("ngIf","paid"!==s.statut&&"cancelled"!==s.statut),e.R7$(),e.Y8G("ngIf",s.storecove_invoice_id)}}function sa(c,T){if(1&c){const s=e.RV6();e.qex(0),e.j41(1,"button",91),e.bIt("click",function(){const u=e.eBV(s).$implicit,O=e.XpG(5);return e.Njj(O.goToPaymentsPage(u))}),e.EFF(2),e.k0s(),e.bVm()}if(2&c){const s=T.$implicit,f=e.XpG(5);e.R7$(),e.Y8G("ngClass",e.l_i(2,Wt,s===f.paymentsCurrentPage,s!==f.paymentsCurrentPage)),e.R7$(),e.SpI(" ",s," ")}}function Hi(c,T){if(1&c){const s=e.RV6();e.j41(0,"div",79)(1,"div",80)(2,"button",81),e.bIt("click",function(){e.eBV(s);const u=e.XpG(4);return e.Njj(u.goToPaymentsPage(u.paymentsCurrentPage-1))}),e.EFF(3," Pr\xe9c\xe9dent "),e.k0s(),e.j41(4,"button",82),e.bIt("click",function(){e.eBV(s);const u=e.XpG(4);return e.Njj(u.goToPaymentsPage(u.paymentsCurrentPage+1))}),e.EFF(5," Suivant "),e.k0s()(),e.j41(6,"div",83)(7,"div")(8,"p",84),e.EFF(9," Affichage de "),e.j41(10,"span",85),e.EFF(11),e.k0s(),e.EFF(12," \xe0 "),e.j41(13,"span",85),e.EFF(14),e.k0s(),e.EFF(15," sur "),e.j41(16,"span",85),e.EFF(17),e.k0s(),e.EFF(18," r\xe9sultats "),e.k0s()(),e.j41(19,"div")(20,"nav",86)(21,"button",87),e.bIt("click",function(){e.eBV(s);const u=e.XpG(4);return e.Njj(u.goToPaymentsPage(u.paymentsCurrentPage-1))}),e.j41(22,"span",18),e.EFF(23,"Pr\xe9c\xe9dent"),e.k0s(),e.nrm(24,"i",88),e.k0s(),e.DNE(25,sa,3,5,"ng-container",60),e.j41(26,"button",89),e.bIt("click",function(){e.eBV(s);const u=e.XpG(4);return e.Njj(u.goToPaymentsPage(u.paymentsCurrentPage+1))}),e.j41(27,"span",18),e.EFF(28,"Suivant"),e.k0s(),e.nrm(29,"i",90),e.k0s()()()()()}if(2&c){const s=e.XpG(4);e.R7$(2),e.Y8G("disabled",1===s.paymentsCurrentPage),e.R7$(2),e.Y8G("disabled",s.paymentsCurrentPage===s.getTotalPaymentPages()),e.R7$(7),e.JRh((s.paymentsCurrentPage-1)*s.paymentsItemsPerPage+1),e.R7$(3),e.JRh(s.paymentsCurrentPage*s.paymentsItemsPerPage>s.filteredPayments.length?s.filteredPayments.length:s.paymentsCurrentPage*s.paymentsItemsPerPage),e.R7$(3),e.JRh(s.filteredPayments.length),e.R7$(4),e.Y8G("disabled",1===s.paymentsCurrentPage),e.R7$(4),e.Y8G("ngForOf",s.getPaymentPagesArray()),e.R7$(),e.Y8G("disabled",s.paymentsCurrentPage===s.getTotalPaymentPages())}}function Po(c,T){if(1&c&&(e.j41(0,"div",54)(1,"table",55)(2,"thead",56)(3,"tr")(4,"th",57),e.EFF(5,"Date"),e.k0s(),e.j41(6,"th",57),e.EFF(7,"Description"),e.k0s(),e.j41(8,"th",57),e.EFF(9,"Montant"),e.k0s(),e.j41(10,"th",57),e.EFF(11,"Statut"),e.k0s(),e.j41(12,"th",58)(13,"span",18),e.EFF(14,"Actions"),e.k0s()()()(),e.j41(15,"tbody",59),e.DNE(16,Gi,15,15,"tr",60),e.k0s()(),e.DNE(17,Hi,30,8,"div",68),e.k0s()),2&c){const s=e.XpG(3);e.R7$(16),e.Y8G("ngForOf",s.paginatedPayments),e.R7$(),e.Y8G("ngIf",s.getTotalPaymentPages()>1)}}function Ua(c,T){if(1&c&&(e.j41(0,"div")(1,"div",36)(2,"h2",37),e.EFF(3,"Mes Paiements"),e.k0s(),e.DNE(4,Gt,6,0,"div",44)(5,sr,17,1,"div",118)(6,wr,3,0,"div",45)(7,pi,3,0,"div",45)(8,Po,18,2,"div",46),e.k0s()()),2&c){const s=e.XpG(2);e.R7$(4),e.Y8G("ngIf",s.paymentsLoading),e.R7$(),e.Y8G("ngIf",!s.paymentsLoading&&s.payments&&s.payments.length>0),e.R7$(),e.Y8G("ngIf",!(s.paymentsLoading||s.payments&&0!==s.payments.length)),e.R7$(),e.Y8G("ngIf",!s.paymentsLoading&&s.payments&&s.payments.length>0&&0===s.filteredPayments.length),e.R7$(),e.Y8G("ngIf",!s.paymentsLoading&&s.filteredPayments.length>0)}}function Ls(c,T){if(1&c){const s=e.RV6();e.j41(0,"div",27)(1,"div",28)(2,"h1",29),e.EFF(3,"Mon Espace Client"),e.k0s(),e.j41(4,"button",30),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.logout())}),e.nrm(5,"i",31),e.j41(6,"span"),e.EFF(7,"D\xe9connexion"),e.k0s()()(),e.j41(8,"div",32)(9,"nav",33)(10,"button",34),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.setView("donnees"))}),e.EFF(11," Mes Donn\xe9es "),e.k0s(),e.j41(12,"button",34),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.setView("assurances"))}),e.EFF(13," Assurances "),e.k0s(),e.j41(14,"button",34),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.setView("documents"))}),e.EFF(15," Mes Documents "),e.k0s(),e.j41(16,"button",34),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.setView("televersement"))}),e.EFF(17," T\xe9l\xe9versement "),e.k0s(),e.j41(18,"button",34),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.setView("paiements"))}),e.EFF(19," Mes Paiements "),e.k0s()()(),e.j41(20,"div"),e.DNE(21,S,44,15,"div",35)(22,Qt,15,6,"div",35)(23,ts,6,2,"div",35)(24,ia,22,5,"div",35)(25,Ua,9,5,"div",35),e.k0s()()}if(2&c){const s=e.XpG();e.R7$(10),e.Y8G("ngClass","donnees"===s.activeView?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngClass","assurances"===s.activeView?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngClass","documents"===s.activeView?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngClass","televersement"===s.activeView?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngClass","paiements"===s.activeView?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(3),e.Y8G("ngIf","donnees"===s.activeView),e.R7$(),e.Y8G("ngIf","assurances"===s.activeView),e.R7$(),e.Y8G("ngIf","documents"===s.activeView),e.R7$(),e.Y8G("ngIf","televersement"===s.activeView),e.R7$(),e.Y8G("ngIf","paiements"===s.activeView)}}function aa(c,T){if(1&c){const s=e.RV6();e.j41(0,"div",138)(1,"h2",139),e.EFF(2,"Erreur"),e.k0s(),e.j41(3,"p"),e.EFF(4,"Impossible de charger vos informations personnelles."),e.k0s(),e.j41(5,"p",140),e.EFF(6,"Veuillez r\xe9essayer plus tard ou contacter le support si le probl\xe8me persiste."),e.k0s(),e.j41(7,"button",141),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.logout())}),e.EFF(8," Se d\xe9connecter "),e.k0s()()}}function vs(c,T){1&c&&e.nrm(0,"i",160)}function Ql(c,T){if(1&c){const s=e.RV6();e.j41(0,"div",142)(1,"div",143)(2,"div",144),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.closePaymentModal())}),e.k0s(),e.j41(3,"span",145),e.EFF(4,"\u200b"),e.k0s(),e.j41(5,"div",146)(6,"div",147)(7,"div",148)(8,"div",149)(9,"h3",150),e.EFF(10," Paiement s\xe9curis\xe9 "),e.k0s(),e.j41(11,"div",151)(12,"p",152),e.EFF(13," Montant \xe0 r\xe9gler : "),e.j41(14,"span",153),e.EFF(15),e.nI1(16,"currency"),e.k0s()(),e.j41(17,"div",154)(18,"p",155),e.EFF(19,"Le formulaire de paiement Stripe s'affichera ici."),e.k0s()()()()()(),e.j41(20,"div",156)(21,"button",157),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.confirmPayment())}),e.DNE(22,vs,1,0,"i",158),e.EFF(23),e.nI1(24,"currency"),e.k0s(),e.j41(25,"button",159),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.closePaymentModal())}),e.EFF(26," Annuler "),e.k0s()()()()()}if(2&c){const s=e.XpG();e.R7$(15),e.JRh(e.ii3(16,5,null==s.selectedPaymentRequest?null:s.selectedPaymentRequest.montant,"EUR","symbol","1.2-2")),e.R7$(6),e.Y8G("disabled",s.isPaymentProcessing||!s.stripeClientSecret),e.R7$(),e.Y8G("ngIf",s.isPaymentProcessing),e.R7$(),e.SpI(" Payer ",e.ii3(24,10,null==s.selectedPaymentRequest?null:s.selectedPaymentRequest.montant,"EUR","symbol","1.2-2")," "),e.R7$(2),e.Y8G("disabled",s.isPaymentProcessing)}}function $s(c,T){1&c&&(e.qSk(),e.j41(0,"svg",170),e.nrm(1,"path",171),e.k0s())}function la(c,T){1&c&&(e.qSk(),e.j41(0,"svg",172),e.nrm(1,"path",173),e.k0s())}function ua(c,T){if(1&c){const s=e.RV6();e.j41(0,"div",174)(1,"button",176),e.bIt("click",function(){e.eBV(s);const u=e.XpG(3);return e.Njj(u.downloadInvoice(u.successPaymentRequest))}),e.qSk(),e.j41(2,"svg",177),e.nrm(3,"path",178),e.k0s(),e.EFF(4," T\xe9l\xe9charger "),e.k0s(),e.joV(),e.j41(5,"button",179),e.bIt("click",function(){e.eBV(s);const u=e.XpG(3);return e.Njj(u.printInvoice(u.successPaymentRequest))}),e.qSk(),e.j41(6,"svg",177),e.nrm(7,"path",180),e.k0s(),e.EFF(8," Imprimer "),e.k0s()()}}function _s(c,T){1&c&&(e.j41(0,"div",166)(1,"p",181),e.EFF(2,"La facture sera disponible dans quelques instants."),e.k0s()())}function ys(c,T){if(1&c&&(e.j41(0,"div",174),e.DNE(1,ua,9,0,"div",167)(2,_s,3,0,"div",175),e.k0s()),2&c){const s=e.XpG(2);e.R7$(),e.Y8G("ngIf","success"===s.paymentResultStatus&&s.successPaymentRequest&&s.successPaymentRequest.storecove_invoice_id),e.R7$(),e.Y8G("ngIf","success"===s.paymentResultStatus&&s.successPaymentRequest&&!s.successPaymentRequest.storecove_invoice_id)}}function hi(c,T){if(1&c){const s=e.RV6();e.j41(0,"div",142)(1,"div",143)(2,"div",144),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.closePaymentSuccessModal())}),e.k0s(),e.j41(3,"span",145),e.EFF(4,"\u200b"),e.k0s(),e.j41(5,"div",161)(6,"div")(7,"div",162),e.DNE(8,$s,2,0,"svg",163)(9,la,2,0,"svg",164),e.k0s(),e.j41(10,"div",165)(11,"h3",150),e.EFF(12),e.k0s(),e.j41(13,"div",166)(14,"p",63),e.EFF(15,"Votre paiement a \xe9t\xe9 trait\xe9 avec succ\xe8s. Merci de votre confiance."),e.k0s(),e.j41(16,"p",63),e.EFF(17),e.k0s()(),e.DNE(18,ys,3,2,"div",167),e.k0s(),e.j41(19,"div",168)(20,"button",169),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.closePaymentSuccessModal())}),e.EFF(21," Fermer "),e.k0s()()()()()()}if(2&c){const s=e.XpG();e.R7$(7),e.Y8G("ngClass","success"===s.paymentResultStatus?"bg-green-100":"bg-red-100"),e.R7$(),e.Y8G("ngIf","success"===s.paymentResultStatus),e.R7$(),e.Y8G("ngIf","error"===s.paymentResultStatus),e.R7$(3),e.JRh("success"===s.paymentResultStatus?"Paiement r\xe9ussi !":"Paiement \xe9chou\xe9"),e.R7$(5),e.SpI(" ","success"===s.paymentResultStatus?"Votre paiement a \xe9t\xe9 trait\xe9 avec succ\xe8s. Merci de votre confiance.":"Le paiement n'a pas pu \xeatre valid\xe9. Veuillez r\xe9essayer."," "),e.R7$(),e.Y8G("ngIf",s.successPaymentRequest&&s.successPaymentRequest.storecove_invoice_id)}}let Ba=(()=>{class c{authService;dbConnectService;paymentService;storecoveService;mailService;router;route;platformId;user=null;person=null;loading=!0;activeView="donnees";contracts=[];contractsLoading=!1;activeInsuranceCategory="auto";documents=[];paginatedDocuments=[];documentsCurrentPage=1;documentsItemsPerPage=5;documentTypes=[];selectedDocTypeId=null;uploading=!1;payments=[];paymentsLoading=!1;paymentStatusFilter="all";paginatedPayments=[];paymentsCurrentPage=1;paymentsItemsPerPage=5;successPaymentRequestId=null;successPaymentRequest=null;paymentResultStatus="success";isPaymentModalOpen=!1;stripeClientSecret=null;showPaymentSuccessModal=!1;selectedPaymentRequest=null;isPaymentIntentLoading=!1;stripe=null;elements=null;isPaymentProcessing=!1;showPopup=!1;popupMessage="";popupType="success";popupTimeout;fileInput;destroy$=new se.B;constructor(s,f,u,O,ae,Fe,it,Ct){this.authService=s,this.dbConnectService=f,this.paymentService=u,this.storecoveService=O,this.mailService=ae,this.router=Fe,this.route=it,this.platformId=Ct}ngOnInit(){(0,A.UE)(this.platformId)&&(this.route.queryParams.pipe((0,Qe.Q)(this.destroy$)).subscribe(s=>{const f=s.redirect_status;"succeeded"===f?(this.paymentResultStatus="success",this.successPaymentRequestId=s.payment_request_id?Number(s.payment_request_id):null,this.mailService.sendEmail({to:"developer@assurkin.be",subject:"Nouveau paiement re\xe7u",htmlContent:"<p>Un paiement a \xe9t\xe9 effectu\xe9 avec succ\xe8s.</p>"}).subscribe({next:()=>{this.router.navigate([],{relativeTo:this.route,queryParams:{redirect_status:null,payment_intent:null,payment_intent_client_secret:null,payment_request_id:null},queryParamsHandling:"merge",replaceUrl:!0}),this.showPaymentSuccessModal=!0},error:u=>{console.error("Erreur lors de l'envoi de l'email de confirmation de paiement",u),this.showPaymentSuccessModal=!0}})):"failed"===f&&(this.paymentResultStatus="error",this.router.navigate([],{relativeTo:this.route,queryParams:{redirect_status:null,payment_intent:null,payment_intent_client_secret:null,payment_request_id:null},queryParamsHandling:"merge",replaceUrl:!0}),this.showPaymentSuccessModal=!0)}),this.authService.currentUser$.pipe((0,Qe.Q)(this.destroy$),(0,_e.M)(()=>this.loading=!0),(0,Ye.n)(s=>(this.user=s,s&&s.id&&s.email?this.dbConnectService.linkUserToPerson(s.id,s.email).pipe((0,Ye.n)(()=>this.dbConnectService.getPersonByUserId(s.id)),(0,Q.W)(f=>(console.error("Erreur lors de la r\xe9cup\xe9ration du profil:",f),(0,K.of)(null)))):(0,K.of)(null)))).subscribe(s=>{this.person=s,this.loading=!1,"assurances"===this.activeView?this.loadContracts(this.activeInsuranceCategory):"documents"===this.activeView?(this.loadDocuments(),this.loadDocumentTypes()):"paiements"===this.activeView&&this.loadPayments()}))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setView(s){this.activeView=s,"assurances"===s?this.loadContracts(this.activeInsuranceCategory):"documents"===s?(this.loadDocuments(),this.loadDocumentTypes()):"paiements"===s&&this.loadPayments()}setInsuranceCategory(s){this.activeInsuranceCategory=s,this.loadContracts(s)}loadContracts(s){this.person&&(this.contractsLoading=!0,this.dbConnectService.getContracts(this.person.id,s).pipe((0,Qe.Q)(this.destroy$)).subscribe({next:f=>{this.contracts=f,this.contractsLoading=!1},error:f=>{console.error("Erreur lors du chargement des contrats:",f),this.contractsLoading=!1}}))}loadPayments(){this.person&&(this.paymentsLoading=!0,this.paymentService.getPaymentRequestsByPreneur(this.person.id).pipe((0,Qe.Q)(this.destroy$)).subscribe({next:s=>{this.payments=s,this.paymentsLoading=!1,this.paymentsCurrentPage=1,this.updatePaginatedPayments(),this.successPaymentRequestId&&(this.successPaymentRequest=this.payments.find(f=>f.id===this.successPaymentRequestId))},error:s=>{console.error("Erreur chargement paiements",s),this.paymentsLoading=!1}}))}loadDocuments(){this.person&&this.dbConnectService.getDocuments(this.person.id).pipe((0,Qe.Q)(this.destroy$)).subscribe({next:s=>{this.documents=s,this.documentsCurrentPage=1,this.updatePaginatedDocuments()},error:s=>{console.error("Erreur lors du chargement des documents:",s),this.documents=[],this.updatePaginatedDocuments()}})}loadDocumentTypes(){this.dbConnectService.getDocumentTypes().pipe((0,Qe.Q)(this.destroy$)).subscribe({next:s=>{const f=["auto","habitation","obs\xe8ques","obseques"];this.documentTypes=s.filter(u=>f.some(O=>u.Label.toLowerCase().includes(O)))},error:s=>console.error("Erreur chargement types documents",s)})}selectDocType(s){this.selectedDocTypeId=s,this.fileInput?.nativeElement&&(this.fileInput.nativeElement.value="")}onFileSelected(s,f){const u=s.target.files[0],O=s.target;if(u&&this.person&&this.user){if(u.size>5242880)return alert("Le fichier est trop volumineux. La taille maximale autoris\xe9e est de 5 Mo."),void(O.value="");if(!["application/pdf","image/jpeg","image/png","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(u.type))return alert("Format de fichier non support\xe9. Veuillez utiliser un fichier PDF, une image (JPG, PNG) ou un document Word."),void(O.value="");if(!f&&!this.selectedDocTypeId)return void alert("Veuillez d'abord s\xe9lectionner une cat\xe9gorie.");let it=f||jt.c.storage_bucket_clients;if(!f&&this.selectedDocTypeId){const on=this.documentTypes.find(Xt=>Xt.id===this.selectedDocTypeId);if(on){const Xt=on.Label.toLowerCase();Xt.includes("auto")?it="documents_auto":Xt.includes("habitation")?it="documents_habitation":(Xt.includes("obs\xe8ques")||Xt.includes("obseques"))&&(it="documents_obseques")}}this.uploading=!0,this.dbConnectService.uploadDocument(u,this.person.id,this.user.id,f?0:this.selectedDocTypeId||0,it).pipe((0,Qe.Q)(this.destroy$)).subscribe({next:on=>{this.documents.unshift(on),this.updatePaginatedDocuments(),this.uploading=!1,O.value=""},error:on=>{console.error("Erreur lors du t\xe9l\xe9versement:",on),this.uploading=!1,O.value="",alert("Une erreur est survenue lors de l'envoi du document.")}})}}downloadDocument(s){var f=this;return(0,We.A)(function*(){let u=jt.c.storage_bucket_clients;if(0===s.id_type)u="documents_clients";else if(s.id_type){const O=f.documentTypes.find(ae=>ae.id===s.id_type);if(O){const ae=O.Label.toLowerCase();ae.includes("auto")?u="documents_auto":ae.includes("habitation")?u="documents_habitation":(ae.includes("obs\xe8ques")||ae.includes("obseques"))&&(u="documents_obseques")}}try{const{data:O,error:ae}=yield f.dbConnectService.createSignedUrl(u,s.path,60);if(ae||!O?.signedUrl)return console.error("Erreur lors de la g\xe9n\xe9ration du lien de t\xe9l\xe9chargement:",ae),void alert("Impossible de t\xe9l\xe9charger le document.");const Fe=document.createElement("a");Fe.href=`${O.signedUrl}&download=${encodeURIComponent(s.file_name)}`,Fe.setAttribute("download",s.file_name),document.body.appendChild(Fe),Fe.click(),document.body.removeChild(Fe)}catch(O){console.error("Erreur lors du t\xe9l\xe9chargement:",O),alert("Une erreur est survenue lors du t\xe9l\xe9chargement.")}})()}deleteDocument(s){if(!confirm("\xcates-vous s\xfbr de vouloir supprimer ce document ?"))return;let f=jt.c.storage_bucket_clients;if(0===s.id_type)f="documents_clients";else if(s.id_type){const u=this.documentTypes.find(O=>O.id===s.id_type);if(u){const O=u.Label.toLowerCase();O.includes("auto")?f="documents_auto":O.includes("habitation")?f="documents_habitation":(O.includes("obs\xe8ques")||O.includes("obseques"))&&(f="documents_obseques")}}this.dbConnectService.deleteDocument(s.id,s.path,f).pipe((0,Qe.Q)(this.destroy$)).subscribe({next:()=>{this.documents=this.documents.filter(u=>u.id!==s.id),this.updatePaginatedDocuments()},error:u=>{console.error("Erreur lors de la suppression:",u),alert("Une erreur est survenue lors de la suppression du document.")}})}updatePaginatedDocuments(){const s=(this.documentsCurrentPage-1)*this.documentsItemsPerPage;this.paginatedDocuments=this.documents.slice(s,s+this.documentsItemsPerPage),0===this.paginatedDocuments.length&&this.documents.length>0&&(this.documentsCurrentPage=Math.max(1,this.documentsCurrentPage-1),this.updatePaginatedDocuments())}goToDocumentsPage(s){this.documentsCurrentPage=s,this.updatePaginatedDocuments()}getTotalDocumentPages(){return Math.ceil(this.documents.length/this.documentsItemsPerPage)}getDocumentPagesArray(){return Array(this.getTotalDocumentPages()).fill(0).map((s,f)=>f+1)}getFileIcon(s){switch(s.split(".").pop()?.toLowerCase()){case"pdf":return"fa-file-pdf text-red-500";case"jpg":case"jpeg":case"png":case"gif":return"fa-file-image text-blue-500";case"doc":case"docx":return"fa-file-word text-blue-700";case"xls":case"xlsx":return"fa-file-excel text-green-600";default:return"fa-file text-gray-400"}}truncateFileName(s){if(!s)return"";const f=s.split("."),u=f.length>1?"."+f.pop():"",O=f.join(".");return O.length>6?O.substring(0,6)+"..."+u:s}logout(){var s=this;return(0,We.A)(function*(){try{yield(0,lr.s)(s.authService.signOut()),s.router.navigate(["/login"])}catch(f){console.error("Logout error:",f)}})()}openPaymentModal(s){var f=this;this.selectedPaymentRequest=s,this.isPaymentIntentLoading=!0;const u=Math.round(100*s.montant);var O;this.paymentService.createPaymentIntent(u,{payment_request_id:s.id.toString()}).pipe((0,Qe.Q)(this.destroy$)).subscribe({next:(O=(0,We.A)(function*(ae){f.stripeClientSecret=ae.clientSecret,f.isPaymentModalOpen=!0,f.isPaymentIntentLoading=!1,f.stripe||(f.stripe=yield function(){for(var T=arguments.length,s=new Array(T),f=0;f<T;f++)s[f]=arguments[f];z=!0;var u=Date.now();return X().then(function(O){return function(T,s,f){if(null===T)return null;var u=T.apply(void 0,s);return function(T,s){!T||!T._registerWrapper||T._registerWrapper({name:"stripe-js",version:"4.6.0",startTime:s})}(u,f),u}(O,s,u)})}(jt.c.stripe_public_key)),f.stripe&&f.stripeClientSecret&&setTimeout(()=>{f.elements=f.stripe.elements({clientSecret:f.stripeClientSecret,appearance:{theme:"stripe"}}),f.elements.create("payment").mount("#stripe-payment-element")},100)}),function(Fe){return O.apply(this,arguments)}),error:O=>{console.error("Erreur cr\xe9ation intention paiement:",O),this.isPaymentIntentLoading=!1,this.showNotification("Impossible d'initialiser le paiement. Veuillez r\xe9essayer plus tard.","error")}})}confirmPayment(){var s=this;return(0,We.A)(function*(){if(!s.stripe||!s.elements||!s.selectedPaymentRequest)return;s.isPaymentProcessing=!0;const f=new URL(window.location.href);f.searchParams.set("payment_request_id",s.selectedPaymentRequest.id.toString());const{error:u}=yield s.stripe.confirmPayment({elements:s.elements,confirmParams:{return_url:f.toString()}});if(u){s.isPaymentProcessing=!1;let O=u.message||"Une erreur est survenue lors du paiement.";if("card_error"===u.type||"validation_error"===u.type)switch(u.code){case"card_declined":O="Votre carte a \xe9t\xe9 refus\xe9e. Veuillez contacter votre banque.";break;case"expired_card":O="Votre carte a expir\xe9.";break;case"incorrect_cvc":O="Le code de s\xe9curit\xe9 (CVC) est incorrect.";break;case"processing_error":O="Une erreur est survenue lors du traitement de la carte. Veuillez r\xe9essayer.";break;case"insufficient_funds":O="Fonds insuffisants sur la carte."}s.showNotification(O,"error")}})()}closePaymentModal(){this.isPaymentModalOpen=!1,this.stripeClientSecret=null,this.selectedPaymentRequest=null,this.elements=null,this.isPaymentProcessing=!1}closePaymentSuccessModal(){this.showPaymentSuccessModal=!1,this.successPaymentRequest=null,this.successPaymentRequestId=null}downloadInvoice(s){s?.storecove_invoice_id&&(this.showNotification("T\xe9l\xe9chargement de la facture en cours...","success"),this.storecoveService.downloadInvoice(s.storecove_invoice_id).subscribe({next:f=>{const u=window.URL.createObjectURL(f),O=document.createElement("a");O.href=u,O.download=`facture_${s.storecove_invoice_id}.pdf`,O.click(),window.URL.revokeObjectURL(u)},error:f=>{console.error("Erreur t\xe9l\xe9chargement facture",f),this.showNotification("Impossible de t\xe9l\xe9charger la facture.","error")}}))}printInvoice(s){s?.storecove_invoice_id&&(this.showNotification("Pr\xe9paration de l'impression...","success"),this.storecoveService.downloadInvoice(s.storecove_invoice_id).subscribe({next:f=>{const u=window.URL.createObjectURL(f),O=window.open(u,"_blank");O&&(O.onload=()=>{O.print()}),setTimeout(()=>window.URL.revokeObjectURL(u),6e4)},error:f=>{console.error("Erreur impression facture",f),this.showNotification("Impossible de r\xe9cup\xe9rer la facture pour impression.","error")}}))}showNotification(s,f){this.popupMessage=s,this.popupType=f,this.showPopup=!0,this.popupTimeout&&clearTimeout(this.popupTimeout),this.popupTimeout=setTimeout(()=>this.hideNotification(),5e3)}hideNotification(){this.showPopup=!1,this.popupTimeout&&clearTimeout(this.popupTimeout)}getPaymentStatusLabel(s){switch(s){case"pending":return"En attente";case"paid":return"Pay\xe9";case"failed":return"\xc9chou\xe9";case"cancelled":return"Annul\xe9";case"overdue":return"En retard";default:return s||"Inconnu"}}getPaymentStatusClass(s){switch(s){case"paid":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"failed":case"overdue":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}get filteredPayments(){return"all"===this.paymentStatusFilter?this.payments:this.payments.filter(s=>s.statut===this.paymentStatusFilter)}onPaymentFilterChange(){this.paymentsCurrentPage=1,this.updatePaginatedPayments()}updatePaginatedPayments(){const f=(this.paymentsCurrentPage-1)*this.paymentsItemsPerPage;this.paginatedPayments=this.filteredPayments.slice(f,f+this.paymentsItemsPerPage)}goToPaymentsPage(s){this.paymentsCurrentPage=s,this.updatePaginatedPayments()}getTotalPaymentPages(){return Math.ceil(this.filteredPayments.length/this.paymentsItemsPerPage)}getPaymentPagesArray(){return Array(this.getTotalPaymentPages()).fill(0).map((s,f)=>f+1)}static \u0275fac=function(f){return new(f||c)(e.rXU(Vn.u),e.rXU(xt.y),e.rXU(Ce.W),e.rXU(oe.g),e.rXU($e.t),e.rXU(le.Ix),e.rXU(le.nX),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:c,selectors:[["app-mydata"]],viewQuery:function(f,u){if(1&f&&e.GBs(ft,5),2&f){let O;e.mGM(O=e.lsd())&&(u.fileInput=O.first)}},standalone:!0,features:[e.aNF],decls:7,vars:6,consts:[["fileInput",""],["class","fixed top-5 right-5 max-w-sm w-full bg-white shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden z-50",4,"ngIf"],[1,"container","mx-auto","p-4","lg:p-8"],["class","text-center py-10",4,"ngIf"],["class","max-w-4xl mx-auto",4,"ngIf"],["class","text-center text-gray-500 bg-gray-50 p-8 rounded-lg shadow-md max-w-md mx-auto mt-10",4,"ngIf"],["class","fixed inset-0 z-50 overflow-y-auto","aria-labelledby","modal-title","role","dialog","aria-modal","true",4,"ngIf"],[1,"fixed","top-5","right-5","max-w-sm","w-full","bg-white","shadow-lg","rounded-lg","pointer-events-auto","ring-1","ring-black","ring-opacity-5","overflow-hidden","z-50"],[1,"p-4"],[1,"flex","items-start"],[1,"flex-shrink-0"],["class","h-6 w-6 text-green-400","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",4,"ngIf"],["class","h-6 w-6 text-red-400","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",4,"ngIf"],[1,"ml-3","w-0","flex-1","pt-0.5"],[1,"text-sm","font-medium","text-gray-900",3,"ngClass"],[1,"mt-1","text-sm","text-gray-500"],[1,"ml-4","flex-shrink-0","flex"],[1,"bg-white","rounded-md","inline-flex","text-gray-400","hover:text-gray-500","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],[1,"sr-only"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5"],["fill-rule","evenodd","d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule","evenodd"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","text-green-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","text-red-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-center","py-10"],[1,"text-gray-600"],[1,"max-w-4xl","mx-auto"],[1,"flex","justify-between","items-center","mb-8","border-b","pb-4"],[1,"text-3xl","font-bold","text-gray-800"],[1,"px-4","py-2","bg-red-600","text-white","text-sm","font-medium","rounded-md","hover:bg-red-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500","flex","items-center",3,"click"],[1,"fas","fa-sign-out-alt","mr-2"],[1,"border-b","border-gray-200","mb-6"],["aria-label","Tabs",1,"-mb-px","flex","space-x-8"],[1,"whitespace-nowrap","py-4","px-1","border-b-2","font-medium","text-sm",3,"click","ngClass"],[4,"ngIf"],[1,"bg-white","p-8","rounded-lg","shadow-lg"],[1,"text-2xl","font-bold","mb-6","text-gray-700"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-x-8","gap-y-6"],[1,"text-sm","font-medium","text-gray-500"],[1,"text-lg","font-semibold","text-gray-900"],[1,"md:col-span-2"],["aria-label","Insurance Tabs",1,"-mb-px","flex","space-x-6"],[1,"whitespace-nowrap","pb-4","px-1","border-b-2","font-medium","text-sm",3,"click","ngClass"],["class","text-center py-4",4,"ngIf"],["class","text-center py-8 bg-gray-50 rounded-lg",4,"ngIf"],["class","overflow-x-auto",4,"ngIf"],[1,"text-center","py-4"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-8","w-8","text-indigo-600","mx-auto","mb-2"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"text-gray-500"],[1,"text-center","py-8","bg-gray-50","rounded-lg"],[1,"mt-4","inline-block","text-indigo-600","hover:text-indigo-800","font-medium",3,"routerLink"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],["scope","col",1,"relative","px-6","py-3"],[1,"bg-white","divide-y","divide-gray-200"],[4,"ngFor","ngForOf"],[1,"px-6","py-4","whitespace-nowrap"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-500"],[1,"px-2","inline-flex","text-xs","leading-5","font-semibold","rounded-full",3,"ngClass"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium"],[1,"text-indigo-600","hover:text-indigo-900",3,"routerLink"],["class","bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6 mt-4 rounded-b-lg",4,"ngIf"],[1,"flex","items-center"],[1,"fas","mr-3","text-lg",3,"ngClass"],[1,"text-sm","font-medium","text-gray-900",3,"title"],["target","_blank","class","text-indigo-600 hover:text-indigo-900 mr-4",3,"href",4,"ngIf"],["title","T\xe9l\xe9charger",1,"text-blue-600","hover:text-blue-900","mr-4",3,"click"],[1,"fas","fa-download"],["title","Supprimer",1,"text-red-600","hover:text-red-900",3,"click"],[1,"fas","fa-trash-alt"],["target","_blank",1,"text-indigo-600","hover:text-indigo-900","mr-4",3,"href"],[1,"fas","fa-file-pdf","mr-1"],[1,"bg-white","px-4","py-3","flex","items-center","justify-between","border-t","border-gray-200","sm:px-6","mt-4","rounded-b-lg"],[1,"flex-1","flex","justify-between","sm:hidden"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","text-sm","font-medium","rounded-md","text-gray-700","bg-white","hover:bg-gray-50","disabled:opacity-50",3,"click","disabled"],[1,"ml-3","relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","text-sm","font-medium","rounded-md","text-gray-700","bg-white","hover:bg-gray-50","disabled:opacity-50",3,"click","disabled"],[1,"hidden","sm:flex-1","sm:flex","sm:items-center","sm:justify-between"],[1,"text-sm","text-gray-700"],[1,"font-medium"],["aria-label","Pagination",1,"relative","z-0","inline-flex","rounded-md","shadow-sm","-space-x-px"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-l-md","border","border-gray-300","bg-white","text-sm","font-medium","text-gray-500","hover:bg-gray-50","disabled:opacity-50",3,"click","disabled"],[1,"fas","fa-chevron-left","h-5","w-5"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-r-md","border","border-gray-300","bg-white","text-sm","font-medium","text-gray-500","hover:bg-gray-50","disabled:opacity-50",3,"click","disabled"],[1,"fas","fa-chevron-right","h-5","w-5"],[1,"relative","inline-flex","items-center","px-4","py-2","border","text-sm","font-medium",3,"click","ngClass"],["class","bg-gray-50 p-6 rounded-lg border border-gray-200 mb-8",4,"ngIf"],[1,"bg-blue-50","p-6","rounded-lg","border","border-blue-200","mb-8"],[1,"text-lg","font-bold","mb-4","text-blue-800"],[1,"space-y-4"],[1,"block","text-sm","font-medium","text-blue-700","mb-2"],[1,"relative","border-2","border-dashed","border-blue-300","rounded-lg","p-6","flex","justify-center","items-center","hover:bg-blue-100","transition-colors"],[1,"text-center"],[1,"fas","text-3xl","text-blue-400","mb-2",3,"ngClass"],[1,"text-sm","text-blue-700"],[1,"font-medium","text-blue-800","hover:text-blue-900"],[1,"text-xs","text-blue-600","mt-1"],["type","file","accept",".pdf,.jpg,.jpeg,.png,.doc,.docx",1,"absolute","inset-0","w-full","h-full","opacity-0","cursor-pointer",3,"change","disabled"],[1,"bg-gray-50","p-6","rounded-lg","border","border-gray-200","mb-8"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"flex","flex-wrap","gap-3"],["type","button","class","px-4 py-2 text-sm font-medium rounded-md border shadow-sm transition-colors duration-150 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button",1,"px-4","py-2","text-sm","font-medium","rounded-md","border","shadow-sm","transition-colors","duration-150","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click","ngClass"],[1,"relative","border-2","border-dashed","border-gray-300","rounded-lg","p-6","flex","justify-center","items-center","hover:bg-gray-50","transition-colors"],[1,"fas","text-3xl","text-gray-400","mb-2",3,"ngClass"],[1,"text-sm","text-gray-600"],[1,"font-medium","text-indigo-600","hover:text-indigo-500"],[1,"text-xs","text-gray-500","mt-1"],["class","mt-4 w-full max-w-sm",4,"ngIf"],[1,"mt-4","w-full","max-w-sm"],[1,"w-full","bg-gray-200","rounded-full","h-2.5"],[1,"bg-indigo-600","h-2.5","rounded-full","animate-pulse",2,"width","100%"],["class","flex justify-end mb-4",4,"ngIf"],[1,"flex","justify-end","mb-4"],[1,"inline-flex","items-center"],["for","paymentStatusFilter",1,"mr-2","text-sm","font-medium","text-gray-700"],["id","paymentStatusFilter",1,"block","w-full","pl-3","pr-10","py-2","text-base","border-gray-300","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm","rounded-md","border",3,"ngModelChange","ngModel"],["value","all"],["value","pending"],["value","paid"],["value","overdue"],["value","failed"],["value","cancelled"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-900"],["class","inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 mr-2 disabled:opacity-50",3,"disabled","click",4,"ngIf"],["class","text-indigo-600 hover:text-indigo-900 ml-2",3,"click",4,"ngIf"],[1,"inline-flex","items-center","px-3","py-1","border","border-transparent","text-xs","font-medium","rounded-md","shadow-sm","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","mr-2","disabled:opacity-50",3,"click","disabled"],["class","fas fa-spinner fa-spin mr-1",4,"ngIf"],[1,"fas","fa-spinner","fa-spin","mr-1"],[1,"text-indigo-600","hover:text-indigo-900","ml-2",3,"click"],[1,"fas","fa-download","mr-1"],[1,"text-center","text-gray-500","bg-gray-50","p-8","rounded-lg","shadow-md","max-w-md","mx-auto","mt-10"],[1,"text-xl","font-bold","mb-4","text-red-600"],[1,"text-sm","mt-2"],[1,"mt-6","px-6","py-2","bg-indigo-600","text-white","font-medium","rounded-md","hover:bg-indigo-700",3,"click"],["aria-labelledby","modal-title","role","dialog","aria-modal","true",1,"fixed","inset-0","z-50","overflow-y-auto"],[1,"flex","items-end","justify-center","min-h-screen","pt-4","px-4","pb-20","text-center","sm:block","sm:p-0"],["aria-hidden","true",1,"fixed","inset-0","bg-gray-500","bg-opacity-75","transition-opacity",3,"click"],["aria-hidden","true",1,"hidden","sm:inline-block","sm:align-middle","sm:h-screen"],[1,"inline-block","align-bottom","bg-white","rounded-lg","text-left","overflow-hidden","shadow-xl","transform","transition-all","sm:my-8","sm:align-middle","sm:max-w-lg","sm:w-full"],[1,"bg-white","px-4","pt-5","pb-4","sm:p-6","sm:pb-4"],[1,"sm:flex","sm:items-start"],[1,"mt-3","text-center","sm:mt-0","sm:ml-4","sm:text-left","w-full"],["id","modal-title",1,"text-lg","leading-6","font-medium","text-gray-900"],[1,"mt-4"],[1,"text-sm","text-gray-500","mb-4"],[1,"font-bold","text-gray-900"],["id","stripe-payment-element",1,"min-h-[150px]","border","border-gray-200","rounded","p-4","bg-gray-50","flex","items-center","justify-center"],[1,"text-gray-500","italic"],[1,"bg-gray-50","px-4","py-3","sm:px-6","sm:flex","sm:flex-row-reverse"],["type","button",1,"w-full","inline-flex","justify-center","rounded-md","border","border-transparent","shadow-sm","px-4","py-2","bg-indigo-600","text-base","font-medium","text-white","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","sm:ml-3","sm:w-auto","disabled:opacity-50",3,"click","disabled"],["class","fas fa-spinner fa-spin mr-2",4,"ngIf"],["type","button",1,"mt-3","w-full","inline-flex","justify-center","rounded-md","border","border-gray-300","shadow-sm","px-4","py-2","bg-white","text-base","font-medium","text-gray-700","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","sm:mt-0","sm:ml-3","sm:w-auto",3,"click","disabled"],[1,"fas","fa-spinner","fa-spin","mr-2"],[1,"inline-block","align-bottom","bg-white","rounded-lg","px-4","pt-5","pb-4","text-left","overflow-hidden","shadow-xl","transform","transition-all","sm:my-8","sm:align-middle","sm:max-w-sm","sm:w-full","sm:p-6"],[1,"mx-auto","flex","items-center","justify-center","h-12","w-12","rounded-full",3,"ngClass"],["class","h-6 w-6 text-green-600","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","aria-hidden","true",4,"ngIf"],["class","h-6 w-6 text-red-600","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","aria-hidden","true",4,"ngIf"],[1,"mt-3","text-center","sm:mt-5"],[1,"mt-2"],["class","mt-4 flex flex-col sm:flex-row justify-center gap-3",4,"ngIf"],[1,"mt-5","sm:mt-6"],["type","button",1,"inline-flex","justify-center","w-full","rounded-md","border","border-transparent","shadow-sm","px-4","py-2","bg-indigo-600","text-base","font-medium","text-white","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","sm:text-sm",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","aria-hidden","true",1,"h-6","w-6","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","aria-hidden","true",1,"h-6","w-6","text-red-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"mt-4","flex","flex-col","sm:flex-row","justify-center","gap-3"],["class","mt-2",4,"ngIf"],["type","button",1,"w-full","sm:w-auto","inline-flex","items-center","justify-center","px-4","py-2","border","border-transparent","text-sm","font-medium","rounded-md","text-indigo-700","bg-indigo-100","hover:bg-indigo-200","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"mr-2","h-4","w-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"],["type","button",1,"w-full","sm:w-auto","inline-flex","items-center","justify-center","px-4","py-2","border","border-gray-300","text-sm","font-medium","rounded-md","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"],[1,"text-xs","text-gray-400","italic"]],template:function(f,u){1&f&&(e.DNE(0,ir,17,8,"div",1),e.j41(1,"div",2),e.DNE(2,Hn,3,0,"div",3)(3,Ls,26,10,"div",4)(4,aa,9,0,"div",5),e.k0s(),e.DNE(5,Ql,27,15,"div",6)(6,hi,22,6,"div",6)),2&f&&(e.Y8G("ngIf",u.showPopup),e.R7$(2),e.Y8G("ngIf",u.loading),e.R7$(),e.Y8G("ngIf",!u.loading&&u.person),e.R7$(),e.Y8G("ngIf",!u.loading&&!u.person),e.R7$(),e.Y8G("ngIf",u.isPaymentModalOpen),e.R7$(),e.Y8G("ngIf",u.showPaymentSuccessModal))},dependencies:[A.MD,A.YU,A.Sq,A.bT,A.oe,A.vh,le.iI,le.Wk,C.YN,C.xH,C.y7,C.wz,C.BC,C.vS],encapsulation:2})}return c})();const os=(c,T)=>({"border-red-500":c,"border-gray-300":T});function bs(c,T){if(1&c&&(e.j41(0,"div",6)(1,"span",7),e.EFF(2),e.k0s()()),2&c){const s=e.XpG();e.R7$(2),e.JRh(s.successMessage)}}function ca(c,T){if(1&c&&(e.j41(0,"div",8)(1,"span",7),e.EFF(2),e.k0s()()),2&c){const s=e.XpG();e.R7$(2),e.JRh(s.errorMessage)}}function Es(c,T){1&c&&(e.j41(0,"p"),e.EFF(1,"L'adresse e-mail est requise."),e.k0s())}function qi(c,T){1&c&&(e.j41(0,"p"),e.EFF(1,"Veuillez saisir une adresse e-mail valide."),e.k0s())}function go(c,T){if(1&c&&(e.j41(0,"div",15),e.DNE(1,Es,2,0,"p",14)(2,qi,2,0,"p",14),e.k0s()),2&c){let s,f;const u=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(s=u.passwordLostForm.get("email"))||null==s.errors?null:s.errors.required),e.R7$(),e.Y8G("ngIf",null==(f=u.passwordLostForm.get("email"))||null==f.errors?null:f.errors.email)}}function zi(c,T){1&c&&(e.j41(0,"span"),e.EFF(1,"Envoyer le lien de r\xe9initialisation"),e.k0s())}function mi(c,T){1&c&&(e.j41(0,"span"),e.EFF(1,"Envoi en cours..."),e.k0s())}function da(c,T){if(1&c){const s=e.RV6();e.j41(0,"form",9),e.bIt("ngSubmit",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.onSubmit())}),e.j41(1,"div")(2,"label",10),e.EFF(3,"Adresse e-mail"),e.k0s(),e.nrm(4,"input",11),e.DNE(5,go,3,2,"div",12),e.k0s(),e.j41(6,"div")(7,"button",13),e.DNE(8,zi,2,0,"span",14)(9,mi,2,0,"span",14),e.k0s()()()}if(2&c){let s,f;const u=e.XpG();e.Y8G("formGroup",u.passwordLostForm),e.R7$(4),e.Y8G("ngClass",e.l_i(6,os,(null==(s=u.passwordLostForm.get("email"))?null:s.touched)&&(null==(s=u.passwordLostForm.get("email"))?null:s.invalid),!(null!=(s=u.passwordLostForm.get("email"))&&s.touched&&null!=(s=u.passwordLostForm.get("email"))&&s.invalid))),e.R7$(),e.Y8G("ngIf",(null==(f=u.passwordLostForm.get("email"))?null:f.touched)&&(null==(f=u.passwordLostForm.get("email"))?null:f.invalid)),e.R7$(2),e.Y8G("disabled",u.loading||u.passwordLostForm.invalid),e.R7$(),e.Y8G("ngIf",!u.loading),e.R7$(),e.Y8G("ngIf",u.loading)}}let Vs=(()=>{class c{fb;authService;passwordLostForm;loading=!1;successMessage=null;errorMessage=null;constructor(s,f){this.fb=s,this.authService=f,this.passwordLostForm=this.fb.group({email:["",[C.k0.required,C.k0.email]]})}onSubmit(){var s=this;return(0,We.A)(function*(){if(!s.passwordLostForm.invalid){s.loading=!0,s.successMessage=null,s.errorMessage=null;try{const f=s.passwordLostForm.value.email,u=yield(0,lr.s)(s.authService.sendPasswordResetEmail(f));u&&u.error?s.errorMessage="Une erreur est survenue. Veuillez v\xe9rifier l'adresse e-mail et r\xe9essayer.":s.successMessage="Si un compte est associ\xe9 \xe0 cette adresse, un e-mail de r\xe9initialisation a \xe9t\xe9 envoy\xe9."}finally{s.loading=!1}}})()}static \u0275fac=function(f){return new(f||c)(e.rXU(C.ok),e.rXU(Vn.u))};static \u0275cmp=e.VBU({type:c,selectors:[["app-account-password-lost"]],standalone:!0,features:[e.aNF],decls:8,vars:3,consts:[[1,"max-w-md","mx-auto","bg-white","p-8","rounded-lg","shadow-md","mt-10"],[1,"text-2xl","font-bold","text-center","text-gray-800","mb-6"],[1,"text-center","text-gray-600","mb-6"],["class","bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4","role","alert",4,"ngIf"],["class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4","role","alert",4,"ngIf"],["class","space-y-6",3,"formGroup","ngSubmit",4,"ngIf"],["role","alert",1,"bg-green-100","border","border-green-400","text-green-700","px-4","py-3","rounded","relative","mb-4"],[1,"block","sm:inline"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative","mb-4"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","email","formControlName","email",1,"mt-1","block","w-full","px-3","py-2","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["class","text-red-600 text-sm mt-1",4,"ngIf"],["type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","disabled:bg-gray-400","disabled:cursor-not-allowed",3,"disabled"],[4,"ngIf"],[1,"text-red-600","text-sm","mt-1"]],template:function(f,u){1&f&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2,"Mot de passe perdu ?"),e.k0s(),e.j41(3,"p",2),e.EFF(4,"Entrez votre adresse e-mail et nous vous enverrons un lien pour r\xe9initialiser votre mot de passe."),e.k0s(),e.DNE(5,bs,3,1,"div",3)(6,ca,3,1,"div",4)(7,da,10,9,"form",5),e.k0s()),2&f&&(e.R7$(5),e.Y8G("ngIf",u.successMessage),e.R7$(),e.Y8G("ngIf",u.errorMessage),e.R7$(),e.Y8G("ngIf",!u.successMessage))},dependencies:[A.MD,A.YU,A.bT,C.X1,C.qT,C.me,C.BC,C.cb,C.j4,C.JD],encapsulation:2})}return c})(),Ri=(()=>{class c{static \u0275fac=function(f){return new(f||c)};static \u0275cmp=e.VBU({type:c,selectors:[["app-account-password-reset"]],standalone:!0,features:[e.aNF],decls:2,vars:0,template:function(f,u){1&f&&(e.j41(0,"p"),e.EFF(1,"account-password-reset works!"),e.k0s())}})}return c})();function gi(c,T){1&c&&(e.j41(0,"div"),e.EFF(1,"Le mot de passe est requis."),e.k0s())}function Ga(c,T){1&c&&(e.j41(0,"div"),e.EFF(1,"Le mot de passe doit contenir au moins 6 caract\xe8res."),e.k0s())}function Ha(c,T){if(1&c&&(e.j41(0,"div",17),e.DNE(1,gi,2,0,"div",18)(2,Ga,2,0,"div",18),e.k0s()),2&c){let s,f;const u=e.XpG();e.R7$(),e.Y8G("ngIf",null==(s=u.updatePasswordForm.get("password"))||null==s.errors?null:s.errors.required),e.R7$(),e.Y8G("ngIf",null==(f=u.updatePasswordForm.get("password"))||null==f.errors?null:f.errors.minlength)}}function fa(c,T){1&c&&(e.j41(0,"div",17),e.EFF(1," Les mots de passe ne correspondent pas. "),e.k0s())}function vi(c,T){if(1&c&&(e.j41(0,"div",19)(1,"div",20)(2,"div",21),e.qSk(),e.j41(3,"svg",22),e.nrm(4,"path",23),e.k0s()(),e.joV(),e.j41(5,"div",24)(6,"h3",25),e.EFF(7),e.k0s()()()()),2&c){const s=e.XpG();e.R7$(7),e.JRh(s.errorMessage)}}function qa(c,T){if(1&c&&(e.j41(0,"div",26)(1,"div",20)(2,"div",21),e.qSk(),e.j41(3,"svg",27),e.nrm(4,"path",28),e.k0s()(),e.joV(),e.j41(5,"div",24)(6,"h3",29),e.EFF(7),e.k0s()()()()),2&c){const s=e.XpG();e.R7$(7),e.JRh(s.successMessage)}}function is(c,T){1&c&&(e.j41(0,"span",30),e.qSk(),e.j41(1,"svg",31),e.nrm(2,"circle",32)(3,"path",33),e.k0s()())}let ri=(()=>{class c{fb;authService;router;updatePasswordForm;loading=!1;successMessage=null;errorMessage=null;constructor(s,f,u){this.fb=s,this.authService=f,this.router=u,this.updatePasswordForm=this.fb.group({password:["",[C.k0.required,C.k0.minLength(6)]],confirmPassword:["",[C.k0.required]]},{validators:this.passwordMatchValidator})}passwordMatchValidator(s){return s.get("password")?.value===s.get("confirmPassword")?.value?null:{mismatch:!0}}onSubmit(){var s=this;return(0,We.A)(function*(){if(!s.updatePasswordForm.invalid){s.loading=!0,s.successMessage=null,s.errorMessage=null;try{const f=s.updatePasswordForm.value.password,u=yield(0,lr.s)(s.authService.updatePassword(f));u.error?(s.errorMessage="Une erreur est survenue lors de la mise \xe0 jour du mot de passe. Veuillez r\xe9essayer.",console.error(u.error)):(s.successMessage="Votre mot de passe a \xe9t\xe9 mis \xe0 jour avec succ\xe8s. Vous allez \xeatre redirig\xe9 vers la page de connexion.",setTimeout(()=>{s.router.navigate(["/login"])},3e3))}catch(f){s.errorMessage="Une erreur inattendue est survenue.",console.error(f)}finally{s.loading=!1}}})()}static \u0275fac=function(f){return new(f||c)(e.rXU(C.ok),e.rXU(Vn.u),e.rXU(le.Ix))};static \u0275cmp=e.VBU({type:c,selectors:[["app-update-password"]],standalone:!0,features:[e.aNF],decls:27,vars:7,consts:[[1,"min-h-screen","bg-gray-50","flex","flex-col","justify-center","py-12","sm:px-6","lg:px-8"],[1,"sm:mx-auto","sm:w-full","sm:max-w-md"],[1,"mt-6","text-center","text-3xl","font-extrabold","text-gray-900"],[1,"mt-2","text-center","text-sm","text-gray-600"],[1,"mt-8","sm:mx-auto","sm:w-full","sm:max-w-md"],[1,"bg-white","py-8","px-4","shadow","sm:rounded-lg","sm:px-10"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],[1,"mt-1"],["id","password","type","password","formControlName","password","required","",1,"appearance-none","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","placeholder-gray-400","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["class","text-red-600 text-xs mt-1",4,"ngIf"],["for","confirmPassword",1,"block","text-sm","font-medium","text-gray-700"],["id","confirmPassword","type","password","formControlName","confirmPassword","required","",1,"appearance-none","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","placeholder-gray-400","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["class","rounded-md bg-red-50 p-4",4,"ngIf"],["class","rounded-md bg-green-50 p-4",4,"ngIf"],["type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],["class","mr-2",4,"ngIf"],[1,"text-red-600","text-xs","mt-1"],[4,"ngIf"],[1,"rounded-md","bg-red-50","p-4"],[1,"flex"],[1,"flex-shrink-0"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5","text-red-400"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"],[1,"ml-3"],[1,"text-sm","font-medium","text-red-800"],[1,"rounded-md","bg-green-50","p-4"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5","text-green-400"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"],[1,"text-sm","font-medium","text-green-800"],[1,"mr-2"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-4","w-4","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(f,u){if(1&f&&(e.j41(0,"div",0)(1,"div",1)(2,"h2",2),e.EFF(3," Nouveau mot de passe "),e.k0s(),e.j41(4,"p",3),e.EFF(5," Veuillez saisir votre nouveau mot de passe ci-dessous. "),e.k0s()(),e.j41(6,"div",4)(7,"div",5)(8,"form",6),e.bIt("ngSubmit",function(){return u.onSubmit()}),e.j41(9,"div")(10,"label",7),e.EFF(11," Nouveau mot de passe "),e.k0s(),e.j41(12,"div",8),e.nrm(13,"input",9),e.k0s(),e.DNE(14,Ha,3,2,"div",10),e.k0s(),e.j41(15,"div")(16,"label",11),e.EFF(17," Confirmer le mot de passe "),e.k0s(),e.j41(18,"div",8),e.nrm(19,"input",12),e.k0s(),e.DNE(20,fa,2,0,"div",10),e.k0s(),e.DNE(21,vi,8,1,"div",13)(22,qa,8,1,"div",14),e.j41(23,"div")(24,"button",15),e.DNE(25,is,4,0,"span",16),e.EFF(26," Mettre \xe0 jour le mot de passe "),e.k0s()()()()()()),2&f){let O,ae;e.R7$(8),e.Y8G("formGroup",u.updatePasswordForm),e.R7$(6),e.Y8G("ngIf",(null==(O=u.updatePasswordForm.get("password"))?null:O.touched)&&(null==(O=u.updatePasswordForm.get("password"))?null:O.invalid)),e.R7$(6),e.Y8G("ngIf",u.updatePasswordForm.hasError("mismatch")&&(null==(ae=u.updatePasswordForm.get("confirmPassword"))?null:ae.touched)),e.R7$(),e.Y8G("ngIf",u.errorMessage),e.R7$(),e.Y8G("ngIf",u.successMessage),e.R7$(2),e.Y8G("disabled",u.updatePasswordForm.invalid||u.loading),e.R7$(),e.Y8G("ngIf",u.loading)}},dependencies:[A.MD,A.bT,C.X1,C.qT,C.me,C.BC,C.cb,C.YS,C.j4,C.JD,le.iI],encapsulation:2})}return c})();var Ni=D(5964),za=D(6697);const j=(c,T)=>({"bg-red-100 text-red-700":c,"bg-green-100 text-green-700":T});function x(c,T){if(1&c&&(e.j41(0,"div",21),e.EFF(1),e.k0s()),2&c){const s=e.XpG();e.Y8G("ngClass",e.l_i(2,j,!s.submissionStatus.success,s.submissionStatus.success)),e.R7$(),e.SpI(" ",s.submissionStatus.message," ")}}let P=(()=>{class c{fb;router;dbConnectService;platformId;accountForm;preneurData;submissionStatus=null;constructor(s,f,u,O){this.fb=s,this.router=f,this.dbConnectService=u,this.platformId=O,this.accountForm=this.fb.group({nom:[{value:"",disabled:!0},C.k0.required],prenom:[{value:"",disabled:!0},C.k0.required],email:[{value:"",disabled:!0},[C.k0.required,C.k0.email]],permis:[{value:"",disabled:!0},C.k0.required],password:["",[C.k0.required,C.k0.minLength(8)]]})}ngOnInit(){if((0,A.UE)(this.platformId)){const s=this.router.getCurrentNavigation();this.preneurData=s?.extras?.state?.preneurData,this.preneurData?this.accountForm.patchValue({nom:this.preneurData.nom,prenom:this.preneurData.prenom,email:this.preneurData.email,permis:this.preneurData.permis}):(console.warn("Aucune donn\xe9e de preneur re\xe7ue. Redirection vers le formulaire auto."),this.router.navigate(["/particulier/auto"]))}}onSubmit(){if(this.accountForm.invalid)return void(this.submissionStatus={success:!1,message:"Veuillez choisir un mot de passe valide."});const s=this.accountForm.getRawValue();this.dbConnectService.createUser({nom:s.nom,prenom:s.prenom,email:s.email,permis:s.permis,password:s.password,dateNaissance:this.preneurData.dateNaissance,telephone:this.preneurData.telephone,adresse:this.preneurData.adresse,codePostal:this.preneurData.codePostal,ville:this.preneurData.ville,genre:this.preneurData.genre,datePermis:this.preneurData.datePermis}).subscribe({next:u=>{this.submissionStatus={success:!0,message:"Votre compte a \xe9t\xe9 cr\xe9\xe9 avec succ\xe8s ! Vous allez \xeatre redirig\xe9."}},error:u=>{this.submissionStatus={success:!1,message:"Une erreur est survenue lors de la cr\xe9ation du compte."},console.error(u)}})}static \u0275fac=function(f){return new(f||c)(e.rXU(C.ok),e.rXU(le.Ix),e.rXU(xt.y),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:c,selectors:[["app-createuseraccount"]],standalone:!0,features:[e.aNF],decls:37,vars:3,consts:[[1,"max-w-4xl","mx-auto","p-6","bg-white","rounded-lg","shadow-md"],[1,"text-3xl","font-bold","text-gray-800","mb-6","border-b","pb-4"],[1,"mb-6","text-gray-600"],["class","p-4 mb-4 text-sm rounded-lg",3,"ngClass",4,"ngIf"],["novalidate","",3,"ngSubmit","formGroup"],[1,"mb-8","p-4","border","rounded-md"],[1,"text-xl","font-semibold","text-gray-700","px-2"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6","mt-4"],["for","nom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","nom","formControlName","nom",1,"mt-1","block","w-full","px-3","py-2","bg-gray-100","border","border-gray-300","rounded-md","shadow-sm","cursor-not-allowed"],["for","prenom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","prenom","formControlName","prenom",1,"mt-1","block","w-full","px-3","py-2","bg-gray-100","border","border-gray-300","rounded-md","shadow-sm","cursor-not-allowed"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","email","formControlName","email",1,"mt-1","block","w-full","px-3","py-2","bg-gray-100","border","border-gray-300","rounded-md","shadow-sm","cursor-not-allowed"],["for","permis",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","permis","formControlName","permis",1,"mt-1","block","w-full","px-3","py-2","bg-gray-100","border","border-gray-300","rounded-md","shadow-sm","cursor-not-allowed"],[1,"mt-4"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],["type","password","id","password","formControlName","password",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-blue-500","focus:border-blue-500"],[1,"flex","justify-end"],["type","submit",1,"inline-flex","justify-center","py-2","px-4","border","border-transparent","shadow-sm","text-sm","font-medium","rounded-md","text-white","bg-blue-600","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","disabled:bg-gray-400",3,"disabled"],[1,"p-4","mb-4","text-sm","rounded-lg",3,"ngClass"]],template:function(f,u){1&f&&(e.j41(0,"div",0)(1,"h1",1),e.EFF(2,"Cr\xe9ation de votre compte"),e.k0s(),e.j41(3,"p",2),e.EFF(4," Pour finaliser votre demande de devis et acc\xe9der \xe0 votre espace personnel, veuillez cr\xe9er un compte. Vos informations personnelles ont \xe9t\xe9 pr\xe9-remplies pour vous faciliter la t\xe2che. "),e.k0s(),e.DNE(5,x,2,5,"div",3),e.j41(6,"form",4),e.bIt("ngSubmit",function(){return u.onSubmit()}),e.j41(7,"fieldset",5)(8,"legend",6),e.EFF(9,"Informations personnelles"),e.k0s(),e.j41(10,"div",7)(11,"div")(12,"label",8),e.EFF(13,"Nom"),e.k0s(),e.nrm(14,"input",9),e.k0s(),e.j41(15,"div")(16,"label",10),e.EFF(17,"Pr\xe9nom"),e.k0s(),e.nrm(18,"input",11),e.k0s(),e.j41(19,"div")(20,"label",12),e.EFF(21,"Adresse e-mail"),e.k0s(),e.nrm(22,"input",13),e.k0s(),e.j41(23,"div")(24,"label",14),e.EFF(25,"Num\xe9ro de permis"),e.k0s(),e.nrm(26,"input",15),e.k0s()()(),e.j41(27,"fieldset",5)(28,"legend",6),e.EFF(29,"S\xe9curit\xe9 du compte"),e.k0s(),e.j41(30,"div",16)(31,"label",17),e.EFF(32,"Choisissez un mot de passe"),e.k0s(),e.nrm(33,"input",18),e.k0s()(),e.j41(34,"div",19)(35,"button",20),e.EFF(36," Cr\xe9er mon compte et voir mon devis "),e.k0s()()()()),2&f&&(e.R7$(5),e.Y8G("ngIf",u.submissionStatus),e.R7$(),e.Y8G("formGroup",u.accountForm),e.R7$(29),e.Y8G("disabled",u.accountForm.invalid))},dependencies:[A.MD,A.YU,A.bT,C.X1,C.qT,C.me,C.BC,C.cb,C.j4,C.JD],encapsulation:2})}return c})();var J=D(9172);const Re=()=>[1,2,3,4,5];function He(c,T){1&c&&e.nrm(0,"div",8)}function dt(c,T){1&c&&(e.j41(0,"div",6),e.DNE(1,He,1,0,"div",7),e.k0s()),2&c&&(e.R7$(),e.Y8G("ngForOf",e.lJ4(1,Re)))}function dn(c,T){if(1&c&&(e.j41(0,"div",9)(1,"p"),e.EFF(2,"\u274c Une erreur est survenue lors du chargement des devis."),e.k0s(),e.j41(3,"small"),e.EFF(4),e.k0s()()),2&c){const s=e.XpG().ngIf;e.R7$(4),e.JRh((null==s.error?null:s.error.message)||s.error)}}function Tn(c,T){1&c&&(e.j41(0,"div",10)(1,"p"),e.EFF(2,"Aucun devis disponible pour le moment."),e.k0s()())}function In(c,T){if(1&c){const s=e.RV6();e.j41(0,"div",14)(1,"div",15)(2,"div")(3,"h3"),e.EFF(4),e.k0s(),e.j41(5,"span"),e.nI1(6,"lowercase"),e.EFF(7),e.k0s()()(),e.j41(8,"div",16)(9,"p")(10,"strong"),e.EFF(11,"Preneur :"),e.k0s(),e.EFF(12),e.k0s(),e.j41(13,"p")(14,"strong"),e.EFF(15,"Date demande :"),e.k0s(),e.EFF(16),e.nI1(17,"date"),e.k0s()(),e.j41(18,"div",17)(19,"button",18),e.bIt("click",function(){const u=e.eBV(s).$implicit,O=e.XpG(3);return e.Njj(O.viewDetails(u.type,u.id))}),e.EFF(20,"Voir d\xe9tails"),e.k0s()()()}if(2&c){const s=T.$implicit;e.R7$(4),e.SpI("Devis Auto #",s.id,""),e.R7$(),e.ZvI("status status-",e.bMT(6,8,s.statut),""),e.R7$(2),e.SpI(" ",s.statut," "),e.R7$(5),e.Lme(" ",s.prenom," ",s.nom,""),e.R7$(4),e.SpI(" ",e.i5U(17,10,s.dateDemande,"dd/MM/yyyy \xe0 HH:mm"),"")}}function sn(c,T){if(1&c&&(e.j41(0,"div",11)(1,"h2",12),e.EFF(2,"\u{1f4c1} Derniers devis automobile"),e.k0s(),e.DNE(3,In,21,13,"div",13),e.k0s()),2&c){const s=e.XpG().ngIf;e.R7$(3),e.Y8G("ngForOf",s.data)}}function Rn(c,T){if(1&c&&(e.qex(0),e.DNE(1,dt,2,2,"div",2)(2,dn,5,1,"div",3)(3,Tn,3,0,"div",4)(4,sn,4,1,"div",5),e.bVm()),2&c){const s=T.ngIf;e.R7$(),e.Y8G("ngIf",s.loading),e.R7$(),e.Y8G("ngIf",s.error),e.R7$(),e.Y8G("ngIf",!(s.loading||s.error||s.data&&0!==s.data.length)),e.R7$(),e.Y8G("ngIf",s.data&&s.data.length>0)}}let gt=(()=>{class c{router=(0,e.WQX)(le.Ix);platformId=(0,e.WQX)(e.Agw);dbConnectService=(0,e.WQX)(xt.y);quotes$=(0,K.of)({data:null,loading:!0,error:null});ngOnInit(){if((0,A.UE)(this.platformId)){const O=this.dbConnectService.getAllAutoQuotes("",1,10);this.quotes$=this.fetchData(O).pipe((0,J.Z)({data:null,loading:!0,error:null}))}else this.quotes$=(0,K.of)({data:[],loading:!1,error:null})}fetchData(s){return s.pipe((0,he.T)(f=>(console.log("[DashboardComponent] fetchData rawData:",f.data),{data:f.data.map(u=>({id:u.id,nom:u.preneur?.nom??"N/A",prenom:u.preneur?.prenom??"",dateDemande:u.created_at,statut:u.statut||"Nouveau",type:"automobile"})),loading:!1,error:null})),(0,Q.W)(f=>(console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es pour le dashboard:",f),(0,K.of)({data:null,loading:!1,error:f}))))}viewDetails(s,f){s&&this.router.navigate([`/intranet/gestion-${s}`,f])}static \u0275fac=function(f){return new(f||c)};static \u0275cmp=e.VBU({type:c,selectors:[["app-dashboard"]],standalone:!0,features:[e.aNF],decls:3,vars:3,consts:[[1,"dashboard-container"],[4,"ngIf"],["class","loading-section",4,"ngIf"],["class","error-box",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","quotes-list",4,"ngIf"],[1,"loading-section"],["class","skeleton-card",4,"ngFor","ngForOf"],[1,"skeleton-card"],[1,"error-box"],[1,"empty-state"],[1,"quotes-list"],[1,"section-title"],["class","quote-card",4,"ngFor","ngForOf"],[1,"quote-card"],[1,"card-header"],[1,"card-body"],[1,"card-footer"],[3,"click"]],template:function(f,u){1&f&&(e.j41(0,"div",0),e.DNE(1,Rn,5,4,"ng-container",1),e.nI1(2,"async"),e.k0s()),2&f&&(e.R7$(),e.Y8G("ngIf",e.bMT(2,1,u.quotes$)))},dependencies:[A.MD,A.Sq,A.bT,A.Jj,A.GH,A.vh],styles:[".dashboard-container[_ngcontent-%COMP%]{padding:20px;max-width:900px;margin:auto;font-family:Arial,sans-serif}.section-title[_ngcontent-%COMP%]{margin-bottom:20px;font-size:22px;font-weight:700}.contracts-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.contract-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:10px;padding:15px;background:#fafafa;box-shadow:0 2px 4px #0000000d}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px}.status[_ngcontent-%COMP%]{padding:4px 8px;border-radius:6px;font-size:12px;margin-left:10px;color:#fff}.status.actif[_ngcontent-%COMP%]{background:#2ecc71}.status.expire[_ngcontent-%COMP%]{background:#e67e22}.status.annule[_ngcontent-%COMP%]{background:#e74c3c}.card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0}.card-footer[_ngcontent-%COMP%]{margin-top:10px}button[_ngcontent-%COMP%]{background:#3498db;border:none;padding:8px 14px;border-radius:6px;color:#fff;cursor:pointer}button[_ngcontent-%COMP%]:hover{background:#2980b9}.error-box[_ngcontent-%COMP%]{border:1px solid #e74c3c;background:#fdecea;padding:15px;border-radius:8px;color:#c0392b;margin-bottom:20px}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:30px;color:#666}.skeleton-card[_ngcontent-%COMP%]{height:90px;border-radius:8px;background:linear-gradient(90deg,#e0e0e0,#f5f5f5,#e0e0e0);background-size:200%;animation:_ngcontent-%COMP%_loading 1.2s infinite;margin-bottom:10px}@keyframes _ngcontent-%COMP%_loading{0%{background-position:200% 0}to{background-position:-200% 0}}"]})}return c})(),ze=(()=>{class c{dbConnectService;constructor(s){this.dbConnectService=s}getAutoRequests(s,f,u){return this.dbConnectService.getAllAutoQuotes(s,f,u).pipe((0,he.T)(O=>(console.log("[AutoManagementService] Donn\xe9es brutes re\xe7ues:",O.data),{data:O.data.map(ae=>this.transformToAutoRequest(ae)),count:O.count})),(0,Q.W)(O=>(console.error("[AutoManagementService] Erreur lors de la r\xe9cup\xe9ration des demandes auto:",O),(0,K.of)({data:[],count:0}))))}transformToAutoRequest(s){return{id:s.id,nom:s.preneur?.nom??"N/A",prenom:s.preneur?.prenom??"",dateDemande:s.created_at,statut:this.normalizeStatus(s.statut)}}normalizeStatus(s){return s&&["Nouveau","En cours","Trait\xe9"].includes(s)?s:"Nouveau"}static \u0275fac=function(f){return new(f||c)(e.KVO(xt.y))};static \u0275prov=e.jDH({token:c,factory:c.\u0275fac})}return c})();const vt=(c,T,s)=>({"bg-blue-100 text-blue-800":c,"bg-yellow-100 text-yellow-800":T,"bg-green-100 text-green-800":s});function mn(c,T){if(1&c){const s=e.RV6();e.j41(0,"tr",20)(1,"td",21),e.EFF(2),e.k0s(),e.j41(3,"td",22),e.EFF(4),e.k0s(),e.j41(5,"td",22),e.EFF(6),e.nI1(7,"date"),e.k0s(),e.j41(8,"td",23)(9,"span",24),e.EFF(10),e.k0s()(),e.j41(11,"td",25)(12,"button",26),e.bIt("click",function(){const u=e.eBV(s).$implicit,O=e.XpG();return e.Njj(O.viewDetails(u.id))}),e.EFF(13,"Voir / Modifier"),e.k0s()()()}if(2&c){const s=T.$implicit;e.R7$(2),e.JRh(s.id),e.R7$(2),e.Lme("",s.prenom," ",s.nom,""),e.R7$(2),e.JRh(e.i5U(7,6,s.dateDemande,"dd/MM/yyyy")),e.R7$(3),e.Y8G("ngClass",e.sMw(9,vt,"Nouveau"===s.statut,"En cours"===s.statut,"Trait\xe9"===s.statut)),e.R7$(),e.SpI(" ",s.statut," ")}}let vr=(()=>{class c{router;autoManagementService;paginatedRequests=[];currentPage=1;itemsPerPage=10;totalPages=1;totalItems=0;searchTerm="";constructor(s,f){this.router=s,this.autoManagementService=f}ngOnInit(){this.loadRequests()}loadRequests(){this.autoManagementService.getAutoRequests(this.searchTerm,this.currentPage,this.itemsPerPage).subscribe(s=>{this.paginatedRequests=s.data,this.totalItems=s.count||0,this.totalPages=s.count?Math.ceil(s.count/this.itemsPerPage):1})}setPage(s){s<1||s>this.totalPages||s===this.currentPage||(this.currentPage=s,this.loadRequests())}get pages(){return Array.from({length:this.totalPages},(s,f)=>f+1)}viewDetails(s){this.router.navigate(["/assurance_auto",s])}static \u0275fac=function(f){return new(f||c)(e.rXU(le.Ix),e.rXU(ze))};static \u0275cmp=e.VBU({type:c,selectors:[["app-auto-management"]],standalone:!0,features:[e.aNF],decls:42,vars:6,consts:[[1,"p-4","sm:p-8","bg-gray-50","min-h-screen"],[1,"flex","justify-between","items-center","mb-8"],[1,"text-2xl","sm:text-3xl","font-bold","text-gray-900"],["routerLink","/intranet/dashboard",1,"text-sm","font-semibold","text-indigo-600","hover:text-indigo-800"],[1,"bg-white","shadow-sm","rounded-lg","overflow-hidden"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],["scope","col",1,"relative","px-6","py-3"],[1,"sr-only"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-gray-50",4,"ngFor","ngForOf"],["aria-label","Pagination",1,"bg-white","px-4","py-3","flex","items-center","justify-between","border-t","border-gray-200","sm:px-6"],[1,"hidden","sm:block"],[1,"text-sm","text-gray-700"],[1,"font-medium"],[1,"flex-1","flex","justify-between","sm:justify-end"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","text-sm","font-medium","rounded-md","text-gray-700","bg-white","hover:bg-gray-50","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"ml-3","relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","text-sm","font-medium","rounded-md","text-gray-700","bg-white","hover:bg-gray-50","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"hover:bg-gray-50"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-500"],[1,"px-6","py-4","whitespace-nowrap","text-sm"],[1,"px-2","inline-flex","text-xs","leading-5","font-semibold","rounded-full",3,"ngClass"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium"],[1,"text-indigo-600","hover:text-indigo-900",3,"click"]],template:function(f,u){1&f&&(e.j41(0,"div",0)(1,"div",1)(2,"h1",2),e.EFF(3,"Gestion des Assurances Auto"),e.k0s(),e.j41(4,"a",3),e.EFF(5,"\u2190 Retour au tableau de bord"),e.k0s()(),e.j41(6,"div",4)(7,"div",5)(8,"table",6)(9,"thead",7)(10,"tr")(11,"th",8),e.EFF(12,"ID"),e.k0s(),e.j41(13,"th",8),e.EFF(14,"Nom Complet"),e.k0s(),e.j41(15,"th",8),e.EFF(16,"Date de la demande"),e.k0s(),e.j41(17,"th",8),e.EFF(18,"Statut"),e.k0s(),e.j41(19,"th",9)(20,"span",10),e.EFF(21,"Actions"),e.k0s()()()(),e.j41(22,"tbody",11),e.DNE(23,mn,14,13,"tr",12),e.k0s()()(),e.j41(24,"nav",13)(25,"div",14)(26,"p",15),e.EFF(27," Affichage de "),e.j41(28,"span",16),e.EFF(29),e.k0s(),e.EFF(30," \xe0 "),e.j41(31,"span",16),e.EFF(32),e.k0s(),e.EFF(33," sur "),e.j41(34,"span",16),e.EFF(35),e.k0s(),e.EFF(36," r\xe9sultats "),e.k0s()(),e.j41(37,"div",17)(38,"button",18),e.bIt("click",function(){return u.setPage(u.currentPage-1)}),e.EFF(39," Pr\xe9c\xe9dent "),e.k0s(),e.j41(40,"button",19),e.bIt("click",function(){return u.setPage(u.currentPage+1)}),e.EFF(41," Suivant "),e.k0s()()()()()),2&f&&(e.R7$(23),e.Y8G("ngForOf",u.paginatedRequests),e.R7$(6),e.JRh(u.paginatedRequests.length>0?(u.currentPage-1)*u.itemsPerPage+1:0),e.R7$(3),e.JRh((u.currentPage-1)*u.itemsPerPage+u.paginatedRequests.length),e.R7$(3),e.JRh(u.totalItems),e.R7$(3),e.Y8G("disabled",1===u.currentPage),e.R7$(2),e.Y8G("disabled",u.currentPage===u.totalPages))},dependencies:[A.MD,A.YU,A.Sq,A.vh,le.Wk,C.YN],encapsulation:2})}return c})();function Nn(c){if(!c)return"";let T=String(c).replace(/\D/g,"");T.startsWith("32")&&(T=T.substring(2)),T.startsWith("0")&&(T=T.substring(1));const s=T.substring(0,9);if(0===s.length)return"";let f="+32";return f+=" ",s.length>0&&(f+=s.substring(0,3)),s.length>3&&(f+=" ",f+=s.substring(3,5)),s.length>5&&(f+=" ",f+=s.substring(5,7)),s.length>7&&(f+=" ",f+=s.substring(7,9)),f}let ur=(()=>{class c{el;ngControl;constructor(s,f){this.el=s,this.ngControl=f}onInput(s){const f=s.target,O=Nn(f.value);f.value!==O&&(f.value=O,this.ngControl.control?.setValue(O,{emitEvent:!1}))}onBlur(){const s=this.el.nativeElement,f=Nn(s.value);"+32"===f||""===f?(s.value="",this.ngControl.control?.setValue("",{emitEvent:!1})):(s.value=f,this.ngControl.control?.setValue(f,{emitEvent:!1}))}static \u0275fac=function(f){return new(f||c)(e.rXU(e.aKT),e.rXU(C.vO))};static \u0275dir=e.FsC({type:c,selectors:[["","appPhoneNumberMask",""]],hostBindings:function(f,u){1&f&&e.bIt("input",function(ae){return u.onInput(ae)})("blur",function(){return u.onBlur()})},standalone:!0})}return c})();var ar=D(4412),_n=D(4572),Pn=D(980),Vr=D(253),At=D(1364);let Cs=(()=>{class c{platformId=(0,e.WQX)(e.Agw);db=(0,e.WQX)(xt.y);constructor(){}getAutoQuotesState(s,f,u){if((0,A.UE)(this.platformId)){const O=this.db.getAllAutoQuotes(s,f,u);return this.fetchAndMapAutoData(O)}return(0,K.of)({data:{quotes:[],totalItems:0},loading:!1,error:null})}getHabitationQuotesState(s,f,u){if((0,A.UE)(this.platformId)){const O=this.db.getAllHabitationQuotes(s,f,u);return this.fetchAndMapHabitationData(O)}return(0,K.of)({data:{quotes:[],totalItems:0},loading:!1,error:null})}getObsequesQuotesState(s,f,u){if((0,A.UE)(this.platformId)){const O=this.db.getAllObsequesQuotes(s,f,u);return this.fetchAndMapObsequesData(O)}return(0,K.of)({data:{quotes:[],totalItems:0},loading:!1,error:null})}getVoyageQuotesState(s,f,u){if((0,A.UE)(this.platformId)){const O=this.db.getAllVoyageQuotes().pipe((0,he.T)(ae=>({data:ae,count:ae.length})));return this.fetchAndMapVoyageData(O)}return(0,K.of)({data:{quotes:[],totalItems:0},loading:!1,error:null})}getRcQuotesState(s,f,u){return(0,A.UE)(this.platformId)?this.db.getAllRcQuotes().pipe((0,he.T)(O=>({data:{quotes:O.map(ae=>({preneur_id:ae.preneur_id,id:ae.id,nom:ae.preneur_nom??null,prenom:ae.preneur_prenom??null,dateDemande:ae.created_at,statut:ae.statut||"Nouveau",description:`Risque: ${ae.risque}`})),totalItems:O.length},loading:!1,error:null})),(0,J.Z)({data:null,loading:!0,error:null}),(0,Q.W)(O=>(console.warn("[ManagementService] Erreur 500 probable dans 'getRcQuotesState'.","Erreur API:",O),(0,K.of)({data:null,loading:!1,error:O})))):(0,K.of)({data:{quotes:[],totalItems:0},loading:!1,error:null})}getEmptyState(){return(0,K.of)({data:{quotes:[],totalItems:0},loading:!1,error:null})}fetchAndMapVoyageData(s){return s.pipe((0,he.T)(f=>({data:{quotes:f.data.map(u=>({preneur_id:u.preneur_id,id:u.id,nom:u.nom??null,prenom:u.prenom??null,dateDemande:u.date_created,statut:u.statut||"Nouveau",description:u.description||"Aucun message"})),totalItems:f.count??0},loading:!1,error:null})),(0,Q.W)(f=>(0,K.of)({data:null,loading:!1,error:f})),(0,J.Z)({data:null,loading:!0,error:null}))}fetchAndMapHabitationData(s){return s.pipe((0,he.T)(f=>({data:{quotes:f.data.map(u=>({preneur_id:u.preneur_id,id:u.id,nom:u.preneur?.nom??null,prenom:u.preneur?.prenom??null,uid:u.preneur?.uid??null,dateDemande:u.created_at,statut:u.statut||"Nouveau",description:`${u.batiment_type_maison} - ${u.batiment_adresse}`})),totalItems:f.count??0},loading:!1,error:null})),(0,Q.W)(f=>(0,K.of)({data:null,loading:!1,error:f})),(0,J.Z)({data:null,loading:!0,error:null}))}fetchAndMapAutoData(s){return s.pipe((0,he.T)(f=>(console.log("[ManagementService] Donn\xe9es brutes re\xe7ues de la DB:",f.data),{data:{quotes:f.data.map(u=>({id:u.id,preneur_id:u.preneur_id,conducteur_id:u.conducteur_id,nom:u.preneur?.nom??null,prenom:u.preneur?.prenom??null,uid:u.preneur?.uid??null,dateDemande:u.created_at,statut:u.statut||"Nouveau",typeVehicule:u.vehicules?.type??"",marqueVehicule:u.vehicules?.marque??"",modeleVehicule:`${u.vehicules?.modele??""} ${u.vehicules?.annee??""}`.trim()})),totalItems:f.count??0},loading:!1,error:null})),(0,Q.W)(f=>(console.error("Erreur lors de la r\xe9cup\xe9ration des devis dans ManagementService:",f),(0,K.of)({data:null,loading:!1,error:f}))),(0,J.Z)({data:null,loading:!0,error:null}))}fetchAndMapObsequesData(s){return s.pipe((0,he.T)(f=>({data:{quotes:f.data.map(u=>({preneur_id:u.preneur_id,id:u.id,nom:u.preneur?.nom??null,prenom:u.preneur?.prenom??null,uid:u.preneur?.uid??null,dateDemande:u.created_at,statut:u.statut||"Nouveau",description:`Devis pour ${u.nombre_assures} personne(s)`})),totalItems:f.count??0},loading:!1,error:null})),(0,Q.W)(f=>(0,K.of)({data:null,loading:!1,error:f})),(0,J.Z)({data:null,loading:!0,error:null}))}static \u0275fac=function(f){return new(f||c)};static \u0275prov=e.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();const pa=(c,T,s)=>({"bg-blue-100 text-blue-800":c,"bg-yellow-100 text-yellow-800":T,"bg-green-100 text-green-800":s}),ao=(c,T)=>["/management",c,T],Yn=(c,T,s)=>["/management/upload",c,T,s],ss=(c,T)=>["/messagerie",c,T];function ws(c,T){if(1&c){const s=e.RV6();e.j41(0,"button",17),e.nI1(1,"async"),e.bIt("click",function(){const u=e.eBV(s).$implicit,O=e.XpG();return e.Njj(O.setActiveTab(u.id))}),e.EFF(2),e.nI1(3,"titlecase"),e.k0s()}if(2&c){const s=T.$implicit,f=e.XpG();e.Y8G("ngClass",e.bMT(1,2,f.activeTab$)===s.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.SpI(" ",e.bMT(3,4,s.label)," ")}}function Pi(c,T){1&c&&(e.j41(0,"div",22)(1,"p",23),e.EFF(2,"Aucun devis trouv\xe9 pour cette cat\xe9gorie ou correspondant \xe0 votre recherche."),e.k0s()())}function Wi(c,T){1&c&&(e.qex(0),e.qSk(),e.j41(1,"svg",30),e.nrm(2,"path",40),e.k0s(),e.bVm())}function ha(c,T){1&c&&(e.qSk(),e.j41(0,"svg",53),e.nrm(1,"path",54),e.k0s())}function oi(c,T){if(1&c){const s=e.RV6();e.j41(0,"span",55),e.bIt("click",function(){e.eBV(s);const u=e.XpG().$implicit,O=e.XpG(3);return e.Njj(O.openEditModal(u,u.conducteur_id))}),e.EFF(1," (Conducteur principal) "),e.qSk(),e.j41(2,"svg",56),e.nrm(3,"path",46),e.k0s()()}}function Us(c,T){if(1&c&&(e.qex(0),e.EFF(1),e.nI1(2,"titlecase"),e.nI1(3,"titlecase"),e.nI1(4,"titlecase"),e.bVm()),2&c){const s=e.XpG().$implicit;e.R7$(),e.E5c(" ",e.bMT(2,3,s.typeVehicule)," ",e.bMT(3,5,s.marqueVehicule)," ",e.bMT(4,7,s.modeleVehicule)," ")}}function Oo(c,T){if(1&c&&(e.qex(0),e.EFF(1),e.bVm()),2&c){const s=e.XpG().$implicit;e.R7$(),e.SpI(" ",s.description," ")}}function bt(c,T){if(1&c){const s=e.RV6();e.j41(0,"tr",41)(1,"td",42),e.EFF(2),e.k0s(),e.j41(3,"td",43)(4,"div",29)(5,"div",44),e.bIt("click",function(){const u=e.eBV(s).$implicit,O=e.XpG(3);return e.Njj(O.openEditModal(u,u.preneur_id))}),e.qSk(),e.j41(6,"svg",45),e.nrm(7,"path",46),e.k0s(),e.DNE(8,ha,2,0,"svg",47),e.joV(),e.j41(9,"span"),e.EFF(10),e.nI1(11,"titlecase"),e.nI1(12,"titlecase"),e.k0s()(),e.DNE(13,oi,4,0,"span",48),e.k0s()(),e.j41(14,"td",49),e.DNE(15,Us,5,9,"ng-container",15)(16,Oo,2,1,"ng-container",15),e.k0s(),e.j41(17,"td",43),e.EFF(18),e.nI1(19,"date"),e.k0s(),e.j41(20,"td",43)(21,"span",50),e.EFF(22),e.k0s()(),e.j41(23,"td",51)(24,"a",52),e.nI1(25,"async"),e.EFF(26,"G\xe9rer"),e.k0s()(),e.j41(27,"td",51)(28,"a",52),e.nI1(29,"async"),e.EFF(30,"G\xe9rer"),e.k0s()(),e.j41(31,"td",51)(32,"a",52),e.nI1(33,"async"),e.EFF(34,"Acc\xe9der"),e.k0s()()()}if(2&c){const s=T.$implicit,f=e.XpG(3);e.R7$(2),e.SpI("#",s.id,""),e.R7$(6),e.Y8G("ngIf",s.uid),e.R7$(2),e.Lme("",e.bMT(11,13,s.prenom||"")," ",e.bMT(12,15,s.nom||""),""),e.R7$(3),e.Y8G("ngIf",f.isAutoQuote(s)&&s.preneur_id!==s.conducteur_id),e.R7$(2),e.Y8G("ngIf",f.isAutoQuote(s)),e.R7$(),e.Y8G("ngIf",f.isDescriptionQuote(s)),e.R7$(2),e.JRh(e.i5U(19,17,s.dateDemande,"dd/MM/yyyy HH:mm")),e.R7$(3),e.Y8G("ngClass",e.sMw(26,pa,"Nouveau"===s.statut,"En cours"===s.statut||"En attente"===s.statut,"Termin\xe9"===s.statut)),e.R7$(),e.SpI(" ",s.statut||"Nouveau"," "),e.R7$(2),e.Y8G("routerLink",e.l_i(30,ao,e.bMT(25,20,f.activeTab$),s.id)),e.R7$(4),e.Y8G("routerLink",e.sMw(33,Yn,e.bMT(29,22,f.activeTab$),s.id,s.preneur_id)),e.R7$(4),e.Y8G("routerLink",e.l_i(37,ss,e.bMT(33,24,f.activeTab$),s.id))}}function Bs(c,T){if(1&c&&(e.j41(0,"div",24)(1,"table",25)(2,"thead",26)(3,"tr",27)(4,"th",28),e.EFF(5,"ID"),e.k0s(),e.j41(6,"th",28)(7,"div",29),e.qSk(),e.j41(8,"svg",30),e.nrm(9,"path",31),e.k0s(),e.EFF(10," Preneur "),e.k0s()(),e.joV(),e.j41(11,"th",28)(12,"div",29),e.DNE(13,Wi,3,0,"ng-container",15),e.nI1(14,"async"),e.EFF(15),e.nI1(16,"async"),e.nI1(17,"titlecase"),e.k0s()(),e.j41(18,"th",28)(19,"div",29),e.qSk(),e.j41(20,"svg",30),e.nrm(21,"path",32),e.k0s(),e.EFF(22," Date "),e.k0s()(),e.joV(),e.j41(23,"th",28)(24,"div",29),e.qSk(),e.j41(25,"svg",30),e.nrm(26,"path",33)(27,"path",34),e.k0s(),e.EFF(28," Statut "),e.k0s()(),e.joV(),e.j41(29,"th",35)(30,"div",29),e.qSk(),e.j41(31,"svg",30),e.nrm(32,"path",36),e.k0s(),e.EFF(33," Offre "),e.k0s()(),e.joV(),e.j41(34,"th",35)(35,"div",29),e.qSk(),e.j41(36,"svg",30),e.nrm(37,"path",37),e.k0s(),e.EFF(38," Documents "),e.k0s()(),e.joV(),e.j41(39,"th",35)(40,"div",29),e.qSk(),e.j41(41,"svg",30),e.nrm(42,"path",38),e.k0s(),e.EFF(43," Interactions "),e.k0s()()()(),e.joV(),e.j41(44,"tbody"),e.DNE(45,bt,35,40,"tr",39),e.k0s()()()),2&c){const s=e.XpG().ngIf,f=e.XpG();e.R7$(13),e.Y8G("ngIf","auto"===e.bMT(14,3,f.activeTab$)),e.R7$(2),e.SpI(" ",e.bMT(17,7,"auto"===e.bMT(16,5,f.activeTab$)?"V\xe9hicule":"Description")," "),e.R7$(30),e.Y8G("ngForOf",s.state.data.quotes)}}function xs(c,T){if(1&c){const s=e.RV6();e.j41(0,"div",57)(1,"span",58),e.EFF(2," Page "),e.j41(3,"span",59),e.EFF(4),e.k0s(),e.EFF(5," sur "),e.j41(6,"span",59),e.EFF(7),e.k0s(),e.EFF(8),e.k0s(),e.j41(9,"div",60)(10,"button",61),e.bIt("click",function(){e.eBV(s);const u=e.XpG().ngIf,O=e.XpG();return e.Njj(O.goToPage(u.pagination.currentPage-1))}),e.EFF(11," Pr\xe9c\xe9dent "),e.k0s(),e.j41(12,"button",62),e.bIt("click",function(){e.eBV(s);const u=e.XpG().ngIf,O=e.XpG();return e.Njj(O.goToPage(u.pagination.currentPage+1))}),e.EFF(13," Suivant "),e.k0s()()()}if(2&c){const s=e.XpG().ngIf;e.R7$(4),e.JRh(s.pagination.currentPage),e.R7$(3),e.JRh(s.pagination.totalPages),e.R7$(),e.SpI(" (",s.pagination.totalItems," r\xe9sultats) "),e.R7$(2),e.Y8G("disabled",1===s.pagination.currentPage),e.R7$(2),e.Y8G("disabled",s.pagination.currentPage===s.pagination.totalPages)}}function _i(c,T){if(1&c&&(e.qex(0),e.j41(1,"app-state-container",18),e.DNE(2,Pi,3,0,"div",19)(3,Bs,46,9,"div",20)(4,xs,14,5,"div",21),e.k0s(),e.bVm()),2&c){const s=T.ngIf;e.R7$(),e.Y8G("state",s.state),e.R7$(),e.Y8G("ngIf",!s.state.data||0===s.state.data.quotes.length),e.R7$(),e.Y8G("ngIf",s.state.data&&s.state.data.quotes.length>0),e.R7$(),e.Y8G("ngIf",s.pagination&&s.pagination.totalPages>1)}}function ma(c,T){1&c&&(e.j41(0,"div",109),e.EFF(1," Le format du num\xe9ro national est invalide. "),e.k0s())}function Ds(c,T){1&c&&(e.j41(0,"div",109),e.EFF(1," La date de naissance ne correspond pas au num\xe9ro national. "),e.k0s())}function cr(c,T){if(1&c&&(e.j41(0,"option",110),e.EFF(1),e.k0s()),2&c){const s=T.$implicit;e.Y8G("value",s),e.R7$(),e.SpI(" ",s," ")}}function Gs(c,T){1&c&&(e.j41(0,"div",111),e.qSk(),e.j41(1,"svg",112),e.nrm(2,"circle",113)(3,"path",114),e.k0s()())}function Ar(c,T){if(1&c&&(e.j41(0,"option",110),e.EFF(1),e.k0s()),2&c){const s=T.$implicit;e.Y8G("value",s.id),e.R7$(),e.SpI(" ",s.nationality," ")}}function Ur(c,T){if(1&c&&(e.qex(0),e.DNE(1,Ar,2,2,"option",98),e.bVm()),2&c){const s=T.ngIf;e.R7$(),e.Y8G("ngForOf",s)}}function ga(c,T){1&c&&(e.j41(0,"div",111),e.qSk(),e.j41(1,"svg",112),e.nrm(2,"circle",113)(3,"path",114),e.k0s()())}function Yi(c,T){1&c&&(e.qex(0),e.j41(1,"div",85)(2,"div",74)(3,"label",115),e.EFF(4,"Num\xe9ro de permis"),e.k0s(),e.nrm(5,"input",116),e.k0s(),e.j41(6,"div",74)(7,"label",117),e.EFF(8,"Date d'obtention permis"),e.k0s(),e.nrm(9,"input",118),e.k0s()(),e.bVm())}function Hs(c,T){if(1&c){const s=e.RV6();e.j41(0,"div",63)(1,"div",64)(2,"button",65),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.closeEditModal())}),e.j41(3,"span",66),e.EFF(4,"Fermer"),e.k0s(),e.qSk(),e.j41(5,"svg",67),e.nrm(6,"path",68),e.k0s()(),e.joV(),e.j41(7,"div",69)(8,"h3",70),e.EFF(9),e.k0s(),e.j41(10,"div",71)(11,"form",72),e.bIt("ngSubmit",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.savePreneurChanges())}),e.j41(12,"div",73)(13,"div",74)(14,"label",75),e.EFF(15,"Pr\xe9nom"),e.k0s(),e.nrm(16,"input",76),e.k0s(),e.j41(17,"div",74)(18,"label",77),e.EFF(19,"Nom"),e.k0s(),e.nrm(20,"input",78),e.k0s()(),e.j41(21,"div",79)(22,"label",80),e.EFF(23,"Num\xe9ro National"),e.k0s(),e.nrm(24,"input",81),e.DNE(25,ma,2,0,"div",82),e.k0s(),e.j41(26,"div",79)(27,"label",83),e.EFF(28,"Email"),e.k0s(),e.nrm(29,"input",84),e.k0s(),e.j41(30,"div",85)(31,"div",74)(32,"label",86),e.EFF(33,"T\xe9l\xe9phone"),e.k0s(),e.nrm(34,"input",87),e.k0s(),e.j41(35,"div",74)(36,"label",88),e.EFF(37,"Date de naissance"),e.k0s(),e.nrm(38,"input",89),e.DNE(39,Ds,2,0,"div",82),e.k0s()(),e.j41(40,"div",79)(41,"label",90),e.EFF(42,"Adresse"),e.k0s(),e.nrm(43,"input",91),e.k0s(),e.j41(44,"div",85)(45,"div",74)(46,"label",92),e.EFF(47,"Code Postal"),e.k0s(),e.nrm(48,"input",93),e.k0s(),e.j41(49,"div",74)(50,"label",94),e.EFF(51,"Ville"),e.k0s(),e.j41(52,"div",95)(53,"select",96),e.nI1(54,"async"),e.nI1(55,"async"),e.j41(56,"option",97),e.EFF(57),e.nI1(58,"async"),e.k0s(),e.DNE(59,cr,2,2,"option",98),e.nI1(60,"async"),e.k0s(),e.DNE(61,Gs,4,0,"div",99),e.nI1(62,"async"),e.k0s()()(),e.j41(63,"div",79)(64,"label",100),e.EFF(65,"Nationalit\xe9"),e.k0s(),e.j41(66,"div",95)(67,"select",101),e.nI1(68,"async"),e.j41(69,"option",97),e.EFF(70),e.nI1(71,"async"),e.k0s(),e.DNE(72,Ur,2,1,"ng-container",15),e.nI1(73,"async"),e.k0s(),e.DNE(74,ga,4,0,"div",99),e.nI1(75,"async"),e.k0s()(),e.j41(76,"div",85)(77,"div",74)(78,"label",102),e.EFF(79,"N\xb0 carte d'identit\xe9"),e.k0s(),e.nrm(80,"input",103),e.k0s(),e.j41(81,"div",74)(82,"label",104),e.EFF(83,"Date de validit\xe9"),e.k0s(),e.nrm(84,"input",105),e.k0s()(),e.DNE(85,Yi,10,0,"ng-container",15),e.nI1(86,"async"),e.j41(87,"div",106)(88,"button",107),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.closeEditModal())}),e.EFF(89," Annuler "),e.k0s(),e.j41(90,"button",108),e.EFF(91," Enregistrer "),e.k0s()()()()()()()}if(2&c){let s,f,u;const O=e.XpG();e.R7$(9),e.JRh(O.editModalTitle),e.R7$(2),e.Y8G("formGroup",O.preneurForm),e.R7$(14),e.Y8G("ngIf",(null==(s=O.preneurForm.get("numero_national"))?null:s.hasError("belgianNationalNumber"))&&(null==(s=O.preneurForm.get("numero_national"))?null:s.touched)),e.R7$(14),e.Y8G("ngIf",(null==(f=O.preneurForm.get("date_naissance"))?null:f.hasError("birthDateMismatch"))&&(null==(f=O.preneurForm.get("date_naissance"))?null:f.touched)),e.R7$(14),e.Y8G("disabled",0===(null==(u=e.bMT(54,14,O.citiesForPostalCode$))?null:u.length)||!0===e.bMT(55,16,O.isCitiesLoading$)),e.R7$(4),e.SpI(" ",e.bMT(58,18,O.isCitiesLoading$)?"Chargement...":"S\xe9lectionnez une ville"," "),e.R7$(2),e.Y8G("ngForOf",e.bMT(60,20,O.citiesForPostalCode$)),e.R7$(2),e.Y8G("ngIf",e.bMT(62,22,O.isCitiesLoading$)),e.R7$(6),e.Y8G("disabled",!0===e.bMT(68,24,O.isNationalitiesLoading$)),e.R7$(3),e.SpI(" ",e.bMT(71,26,O.isNationalitiesLoading$)?"Chargement...":"S\xe9lectionnez une nationalit\xe9"," "),e.R7$(2),e.Y8G("ngIf",e.bMT(73,28,O.nationalities$)),e.R7$(2),e.Y8G("ngIf",e.bMT(75,30,O.isNationalitiesLoading$)),e.R7$(11),e.Y8G("ngIf","auto"===e.bMT(86,32,O.activeTab$)),e.R7$(5),e.Y8G("disabled",O.preneurForm.invalid)}}let Wa=(()=>{class c{managementService;router;dbConnectService;fb;platformId;constructor(s,f,u,O,ae){this.managementService=s,this.router=f,this.dbConnectService=u,this.fb=O,this.platformId=ae}searchControl=new C.MJ("");tabs=[{id:"auto",label:"Automobile"},{id:"habitation",label:"Habitation"},{id:"obseques",label:"Obs\xe8ques"},{id:"rc",label:"RC Familiale"},{id:"voyage",label:"Voyage"}];activeTab$=new ar.t("auto");itemsPerPage=20;currentPage$=new ar.t(1);vm$;destroy$=new se.B;isEditModalOpen=!1;editModalTitle="";selectedQuoteForEdit=null;preneurForm;citiesForPostalCode$=(0,K.of)([]);nationalities$=(0,K.of)([]);isCitiesLoading$=new ar.t(!1);isNationalitiesLoading$=new ar.t(!1);showNotificationPopup=!1;notificationPopupTitle="";notificationPopupMessage="";ngOnInit(){if(this.initPreneurForm(),this.isNationalitiesLoading$.next(!0),this.nationalities$=this.dbConnectService.getNationalities().pipe((0,Pn.j)(()=>this.isNationalitiesLoading$.next(!1)),(0,Vr.t)(1)),(0,A.UE)(this.platformId)){this.setupPostalCodeListener(),this.dbConnectService.initializeRealtimeSubscriptions(),this.dbConnectService.onNewQuote$.pipe((0,Qe.Q)(this.destroy$)).subscribe(f=>{const u=this.activeTab$.value;let O=!1;switch(f.table){case"devis_assurance":"auto"===u&&(O=!0);break;case"habitation_quotes":"habitation"===u&&(O=!0);break;case"obseques_quotes":"obseques"===u&&(O=!0);break;case"rc_familiale_quotes":"rc"===u&&(O=!0);break;case"assu_voyage":"voyage"===u&&(O=!0)}switch(O&&(console.log(`[ManagementComponent] Rafra\xeechissement de la vue suite \xe0 une nouvelle entr\xe9e dans ${f.table}`),this.refreshCurrentView()),this.notificationPopupTitle="Nouvelle demande re\xe7ue !",this.showNotificationPopup=!0,f.table){case"devis_assurance":this.notificationPopupMessage=`Nouvelle offre AUTO de ${f.data.prenom||"Client"} ${f.data.nom||""}`;break;case"habitation_quotes":this.notificationPopupMessage=`Nouvelle offre HABITATION pour ${f.data.batiment_ville||"une adresse"}`;break;case"obseques_quotes":this.notificationPopupMessage="Nouvelle demande OBS\xc8QUES re\xe7ue";break;default:this.notificationPopupMessage="Une nouvelle entr\xe9e a \xe9t\xe9 ajout\xe9e."}});const s=this.searchControl.valueChanges.pipe((0,J.Z)(""),Xe(300),(0,Ve.F)(),(0,_e.M)(()=>this.currentPage$.next(1)));this.vm$=(0,_n.z)([this.activeTab$,s,this.currentPage$]).pipe((0,Ye.n)(([f,u,O])=>{let ae;switch(console.log(`[ManagementComponent] Fetching data for tab: '${f}', search: '${u}', page: ${O}`),f){case"auto":ae=this.managementService.getAutoQuotesState(u||"",O,this.itemsPerPage);break;case"habitation":ae=this.managementService.getHabitationQuotesState(u||"",O,this.itemsPerPage);break;case"obseques":ae=this.managementService.getObsequesQuotesState(u||"",O,this.itemsPerPage);break;case"rc":ae=this.managementService.getRcQuotesState(u||"",O,this.itemsPerPage);break;case"voyage":ae=this.managementService.getVoyageQuotesState(u||"",O,this.itemsPerPage);break;default:ae=(0,K.of)({data:{quotes:[],totalItems:0},loading:!1,error:null})}return ae.pipe((0,he.T)(Fe=>{if(Fe.loading||Fe.error||!Fe.data)return{state:Fe,pagination:null};const it=Fe.data.totalItems,Ct=Math.ceil(it/this.itemsPerPage);return{state:Fe,pagination:{currentPage:O,totalPages:Ct,totalItems:it}}}))}),(0,Qe.Q)(this.destroy$))}else this.vm$=(0,K.of)({state:{data:{quotes:[],totalItems:0},loading:!0,error:null},pagination:null})}initPreneurForm(){this.preneurForm=this.fb.group({id:[null],prenom:["",C.k0.required],nom:["",C.k0.required],email:["",[C.k0.required,C.k0.email]],telephone:[""],date_naissance:[""],adresse:[""],code_postal:[""],ville:[""],nationality:[""],idcard_number:[""],idcard_validity:[""],numero_national:["",c=>{const T=c.value;if(!T)return null;const s=String(T).replace(/\D/g,"");if(11!==s.length)return{belgianNationalNumber:{invalidLength:!0}};const f=s.substring(0,9),u=parseInt(s.substring(9,11),10),O=97-parseInt(f,10)%97,ae=97-parseInt("2"+f,10)%97;return u===O||u===ae?null:{belgianNationalNumber:{invalidChecksum:!0}}}],permis_numero:[""],permis_date:[""]},{validators:c=>{if(!(c instanceof C.gE))return null;const T=c.get("numero_national"),s=c.get("date_naissance");if(!T||!s||!T.value||!s.value||T.errors)return null;const f=String(T.value).replace(/\D/g,""),u=s.value;if(11!==f.length)return null;const O=f.substring(0,9);return`${(parseInt(f.substring(9,11),10)===97-parseInt("2"+O,10)%97?"20":"19")+f.substring(0,2)}-${f.substring(2,4)}-${f.substring(4,6)}`!==u&&s.setErrors({...s.errors,birthDateMismatch:!0}),null}})}setupPostalCodeListener(){const s=this.preneurForm.get("code_postal");s&&(this.citiesForPostalCode$=s.valueChanges.pipe((0,J.Z)(s.value),Xe(300),(0,Ve.F)(),(0,Ye.n)(f=>f&&/^\d{4}$/.test(f)?(this.isCitiesLoading$.next(!0),this.dbConnectService.getCitiesByPostalCode(f).pipe((0,_e.M)(u=>{1===u.length&&this.preneurForm.get("ville")?.setValue(u[0]),this.isCitiesLoading$.next(!1)}))):(0,K.of)([])),(0,Vr.t)(1)))}logout(){this.router.navigate(["/"])}goToPage(s){this.currentPage$.next(s)}setActiveTab(s){console.log(`[ManagementComponent] Setting active tab to: '${s}'`),this.activeTab$.next(s)}viewDetails(s){const f=this.activeTab$.value;console.log(`[ManagementComponent] Navigating to details for ID: ${s} with type: '${f}' using new route.`),this.router.navigate(["/assurance-details",f,s])}openEditModal(s,f){this.editModalTitle=this.isAutoQuote(s)&&s.preneur_id!==s.conducteur_id&&f===s.conducteur_id?"Modifier le Conducteur Principal":"Modifier le Preneur",this.dbConnectService.getPersonById(f).subscribe({next:u=>{if(u){const O=ae=>{if(!ae)return null;try{return new Date(ae).toISOString().split("T")[0]}catch{return null}};this.preneurForm.patchValue({id:u.id,prenom:u.prenom,nom:u.nom,email:u.email,telephone:u.telephone,date_naissance:O(u.date_naissance),adresse:u.adresse,code_postal:u.code_postal,ville:u.ville,nationality:u.nationality,idcard_number:u.idcard_number,idcard_validity:O(u.idcard_validity),numero_national:u.numero_national,permis_numero:u.permis_numero,permis_date:O(u.permis_date)}),this.isEditModalOpen=!0}else console.error(`Impossible de trouver les informations pour la personne avec l'ID ${f}`)},error:u=>{console.error(`Erreur lors de la r\xe9cup\xe9ration de la personne avec l'ID ${f}`,u)}})}closeEditModal(){this.isEditModalOpen=!1,this.preneurForm.reset()}savePreneurChanges(){if(this.preneurForm.invalid)return this.preneurForm.markAllAsTouched(),void console.warn("Formulaire invalide. Impossible de sauvegarder.");const s=this.preneurForm.value,f=s.id;f?(console.log(`Sauvegarde des donn\xe9es pour le preneur ID: ${f}`,s),this.dbConnectService.updatePerson(f,s).subscribe({next:u=>{console.log("Preneur mis \xe0 jour avec succ\xe8s:",u.data),this.refreshCurrentView(),this.closeEditModal()},error:u=>{console.error("Erreur lors de la mise \xe0 jour du preneur:",u)}})):console.warn("savePreneurChanges a \xe9t\xe9 appel\xe9 sans ID de preneur dans le formulaire.")}isAutoQuote(s){return"typeVehicule"in s}isDescriptionQuote(s){return"description"in s}refreshCurrentView(){this.currentPage$.next(this.currentPage$.value)}closeNotificationPopup(){this.showNotificationPopup=!1}static \u0275fac=function(f){return new(f||c)(e.rXU(Cs),e.rXU(le.Ix),e.rXU(xt.y),e.rXU(C.ok),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:c,selectors:[["app-management"]],standalone:!0,features:[e.aNF],decls:26,vars:8,consts:[[1,"container","mx-auto","p-4","sm:p-6","lg:p-8"],[1,"text-2xl","sm:text-3xl","font-bold","text-gray-800","mb-6"],[1,"border-b","border-gray-200","mb-6","no-print"],["aria-label","Tabs",1,"-mb-px","flex","space-x-6","overflow-x-auto"],["class","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"flex","flex-wrap","justify-between","items-center","gap-4","mb-6","no-print"],["type","text","placeholder","Rechercher par nom, ID, description...",1,"w-full","max-w-md","mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"formControl"],[1,"flex","items-center","space-x-2"],["routerLink","/utilities/paiements",1,"px-3","py-2","text-sm","font-medium","text-white","bg-orange-500","rounded-md","shadow-sm","hover:bg-orange-600"],["routerLink","/utilities/statistiques",1,"px-3","py-2","text-sm","font-medium","text-white","bg-green-500","rounded-md","shadow-sm","hover:bg-green-600"],["routerLink","/utilities/prospects",1,"px-3","py-2","text-sm","font-medium","text-white","bg-blue-500","rounded-md","shadow-sm","hover:bg-blue-600"],["routerLink","/utilities/parametres",1,"px-3","py-2","text-sm","font-medium","text-white","bg-gray-800","rounded-md","shadow-sm","hover:bg-gray-900"],[1,"flex","items-center","px-3","py-2","text-sm","font-medium","text-white","bg-red-600","rounded-md","shadow-sm","hover:bg-red-700",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-4","h-4","mr-2"],["stroke-linecap","round","stroke-linejoin","round","d","M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9"],[4,"ngIf"],["class","fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center",4,"ngIf"],[1,"whitespace-nowrap","py-4","px-1","border-b-2","font-medium","text-sm",3,"click","ngClass"],["loadingMessage","Chargement des devis...","errorMessage","Une erreur est survenue lors du chargement des devis.",3,"state"],["class","text-center py-10 px-4 bg-gray-50 rounded-lg",4,"ngIf"],["class","shadow-md rounded-lg overflow-x-auto",4,"ngIf"],["class","flex items-center justify-between mt-6 no-print",4,"ngIf"],[1,"text-center","py-10","px-4","bg-gray-50","rounded-lg"],[1,"text-gray-500"],[1,"shadow-md","rounded-lg","overflow-x-auto"],[1,"w-full","text-sm","text-left","text-gray-600"],[1,"text-xs","text-gray-700","uppercase","bg-gray-100"],[1,"border-b"],["scope","col",1,"px-6","py-3"],[1,"flex","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-4","h-4","mr-1.5"],["stroke-linecap","round","stroke-linejoin","round","d","M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m-7.5-2.963A3.686 3.686 0 0110.5 9.59a3.686 3.686 0 013.686 3.686zM12 6.591A2.25 2.25 0 0114.25 8.84a2.25 2.25 0 01-4.5 0A2.25 2.25 0 0112 6.591zM12 21a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72M6.318 18.72a9.094 9.094 0 013.741-.479 3 3 0 01-4.682-2.72m-7.5-2.963A3.686 3.686 0 013.5 9.59a3.686 3.686 0 013.686 3.686zM3 6.591A2.25 2.25 0 015.25 8.84a2.25 2.25 0 01-4.5 0A2.25 2.25 0 013 6.591z"],["stroke-linecap","round","stroke-linejoin","round","d","M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke-linecap","round","stroke-linejoin","round","d","M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z"],["stroke-linecap","round","stroke-linejoin","round","d","M6 6h.008v.008H6V6z"],["scope","col",1,"px-6","py-3","no-print"],["stroke-linecap","round","stroke-linejoin","round","d","M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"],["stroke-linecap","round","stroke-linejoin","round","d","M2.25 12.75V12A2.25 2.25 0 014.5 9.75h15A2.25 2.25 0 0121.75 12v.75m-8.69-6.44l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z"],["stroke-linecap","round","stroke-linejoin","round","d","M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"],["class","bg-white border-b hover:bg-gray-50 transition-colors duration-200",4,"ngFor","ngForOf"],["stroke-linecap","round","stroke-linejoin","round","d","M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h1.125c.621 0 1.125-.504 1.125-1.125V14.25m-17.25 4.5h12.75m0 0v-4.125c0-.621-.504-1.125-1.125-1.125H11.25c-.621 0-1.125.504-1.125 1.125v4.125m0 0a2.25 2.25 0 100 4.5 2.25 2.25 0 000-4.5zm-10.875 0a2.25 2.25 0 100 4.5 2.25 2.25 0 000-4.5z"],[1,"bg-white","border-b","hover:bg-gray-50","transition-colors","duration-200"],[1,"px-6","py-4","font-semibold","text-gray-900","whitespace-nowrap"],[1,"px-6","py-4"],[1,"flex","items-center","cursor-pointer","group",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-4","h-4","mr-2","text-gray-400","group-hover:text-gray-600"],["stroke-linecap","round","stroke-linejoin","round","d","M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"],["class","w-4 h-4 mr-2 text-blue-500","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",4,"ngIf"],["class","ml-2 text-xs text-gray-500 font-normal flex items-center cursor-pointer group",3,"click",4,"ngIf"],[1,"px-6","py-4","truncate","max-w-xs"],[1,"px-2.5","py-0.5","rounded-full","text-xs","font-medium",3,"ngClass"],[1,"px-6","py-4","no-print"],[1,"text-blue-600","hover:text-blue-800","font-medium",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"w-4","h-4","mr-2","text-blue-500"],["fill-rule","evenodd","d","M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-5.5-2.5a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0zM10 12a5.99 5.99 0 00-4.793 2.39A6.483 6.483 0 0010 16.5a6.483 6.483 0 004.793-2.11A5.99 5.99 0 0010 12z","clip-rule","evenodd"],[1,"ml-2","text-xs","text-gray-500","font-normal","flex","items-center","cursor-pointer","group",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-3","h-3","ml-1","text-gray-400","group-hover:text-gray-600"],[1,"flex","items-center","justify-between","mt-6","no-print"],[1,"text-sm","text-gray-700"],[1,"font-semibold"],[1,"inline-flex","-space-x-px"],[1,"px-3","py-2","ml-0","leading-tight","text-gray-500","bg-white","border","border-gray-300","rounded-l-lg","hover:bg-gray-100","hover:text-gray-700","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"px-3","py-2","leading-tight","text-gray-500","bg-white","border","border-gray-300","rounded-r-lg","hover:bg-gray-100","hover:text-gray-700","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"fixed","inset-0","bg-gray-600","bg-opacity-50","overflow-y-auto","h-full","w-full","z-50","flex","items-center","justify-center"],[1,"relative","mx-auto","p-5","border","w-full","max-w-md","shadow-lg","rounded-md","bg-white"],["type","button",1,"absolute","top-3","right-3","text-gray-400","hover:text-gray-600","focus:outline-none","focus:ring-2","focus:ring-blue-500","rounded-full","p-1",3,"click"],[1,"sr-only"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor","aria-hidden","true",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","d","M6 18L18 6M6 6l12 12"],[1,"mt-3","text-center"],[1,"text-lg","leading-6","font-medium","text-gray-900","text-center"],[1,"mt-4","px-2","py-3","max-h-[70vh]","overflow-y-auto"],[3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4"],[1,"text-left"],["for","prenom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","prenom","formControlName","prenom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","nom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","nom","formControlName","nom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"mt-4","text-left"],["for","numero_national",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","numero_national","formControlName","numero_national",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["class","text-red-600 text-xs mt-1",4,"ngIf"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","email","formControlName","email",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"mt-4","grid","grid-cols-1","sm:grid-cols-2","gap-4"],["for","telephone",1,"block","text-sm","font-medium","text-gray-700"],["type","tel","id","telephone","formControlName","telephone","appPhoneNumberMask","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","date_naissance",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","date_naissance","formControlName","date_naissance",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","adresse",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","adresse","formControlName","adresse",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","code_postal",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","code_postal","formControlName","code_postal",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","ville",1,"block","text-sm","font-medium","text-gray-700"],[1,"relative","mt-1"],["id","ville","formControlName","ville",1,"focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","pl-3","pr-10","ring-1","ring-slate-200","shadow-sm","disabled:bg-gray-100",3,"disabled"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["class","absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",4,"ngIf"],["for","nationality",1,"block","text-sm","font-medium","text-gray-700"],["id","nationality","formControlName","nationality",1,"focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","pl-3","pr-10","ring-1","ring-slate-200","shadow-sm","disabled:bg-gray-100",3,"disabled"],["for","idcard_number",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","idcard_number","formControlName","idcard_number",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","idcard_validity",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","idcard_validity","formControlName","idcard_validity",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"mt-6","items-center","px-4","py-3","flex","justify-end","space-x-4","bg-gray-50","-mx-5","-mb-5","rounded-b-md"],["type","button",1,"px-4","py-2","bg-gray-200","text-gray-800","rounded-md","hover:bg-gray-300","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-gray-500",3,"click"],["type","submit",1,"px-4","py-2","bg-blue-600","text-white","rounded-md","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"text-red-600","text-xs","mt-1"],[3,"value"],[1,"absolute","inset-y-0","right-0","flex","items-center","pr-3","pointer-events-none"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5","text-gray-400"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],["for","permis_numero",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","permis_numero","formControlName","permis_numero",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","permis_date",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","permis_date","formControlName","permis_date",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"]],template:function(f,u){1&f&&(e.j41(0,"div",0)(1,"h1",1),e.EFF(2,"Gestion des offres"),e.k0s(),e.j41(3,"div",2)(4,"nav",3),e.DNE(5,ws,4,6,"button",4),e.k0s()(),e.j41(6,"div",5)(7,"div"),e.nrm(8,"input",6),e.k0s(),e.j41(9,"div",7)(10,"a",8),e.EFF(11,"Paiements"),e.k0s(),e.j41(12,"a",9),e.EFF(13,"Commissions"),e.k0s(),e.j41(14,"a",10),e.EFF(15,"Prospects"),e.k0s(),e.j41(16,"a",11),e.EFF(17,"Param\xe8tres"),e.k0s(),e.j41(18,"button",12),e.bIt("click",function(){return u.logout()}),e.qSk(),e.j41(19,"svg",13),e.nrm(20,"path",14),e.k0s(),e.EFF(21," D\xe9connexion "),e.k0s()()(),e.DNE(22,_i,5,4,"ng-container",15),e.nI1(23,"async"),e.DNE(24,Hs,92,34,"div",16),e.nI1(25,"async"),e.k0s()),2&f&&(e.R7$(5),e.Y8G("ngForOf",u.tabs),e.R7$(3),e.Y8G("formControl",u.searchControl),e.R7$(14),e.Y8G("ngIf",e.bMT(23,4,u.vm$)),e.R7$(2),e.Y8G("ngIf",u.isEditModalOpen&&e.bMT(25,6,u.nationalities$)))},dependencies:[A.MD,A.YU,A.Sq,A.bT,A.Jj,A.PV,A.vh,le.Wk,C.X1,C.qT,C.xH,C.y7,C.me,C.wz,C.BC,C.cb,C.l_,C.j4,C.JD,At.Y,C.YN,ur],styles:["@media print{.no-print[_ngcontent-%COMP%]{display:none!important}body[_ngcontent-%COMP%]{font-size:10pt;color:#000;background-color:#fff}table[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border-color:#ccc!important;color:#000!important}.bg-white[_ngcontent-%COMP%], .bg-gray-50[_ngcontent-%COMP%], .bg-gray-100[_ngcontent-%COMP%], .shadow-md[_ngcontent-%COMP%], .hover\\:bg-gray-50[_ngcontent-%COMP%]{background-color:transparent!important;box-shadow:none!important}.text-blue-800[_ngcontent-%COMP%], .text-yellow-800[_ngcontent-%COMP%], .text-green-800[_ngcontent-%COMP%]{color:#000!important}}"]})}return c})();var Jl=D(3583),qs=D(6649);const dc=(c,T)=>(c.push(T),c);function ff(c,T){1&c&&(e.j41(0,"div",4)(1,"h3",5),e.EFF(2,"Conducteur principal"),e.k0s(),e.nrm(3,"div",6),e.k0s())}function pf(c,T){1&c&&(e.j41(0,"div",31),e.qSk(),e.j41(1,"svg",32),e.nrm(2,"circle",33)(3,"path",34),e.k0s()())}function hf(c,T){if(1&c){const s=e.RV6();e.j41(0,"li",37),e.bIt("click",function(){const u=e.eBV(s).$implicit,O=e.XpG(3);return e.Njj(O.selectMarque(u))}),e.EFF(1),e.k0s()}if(2&c){const s=T.$implicit;e.R7$(),e.SpI(" ",s.nom," ")}}function mf(c,T){if(1&c&&(e.j41(0,"ul",35),e.DNE(1,hf,2,1,"li",36),e.nI1(2,"async"),e.k0s()),2&c){const s=e.XpG(2);e.R7$(),e.Y8G("ngForOf",e.bMT(2,1,s.filteredMarques$))}}function h(c,T){1&c&&(e.j41(0,"option",38),e.EFF(1," Aucun mod\xe8le trouv\xe9 "),e.k0s()),2&c&&e.Y8G("disabled",!0)}function b(c,T){if(1&c&&(e.j41(0,"option",39),e.EFF(1),e.k0s()),2&c){const s=T.$implicit;e.Y8G("value",s.nom),e.R7$(),e.SpI("",s.nom," ")}}function m(c,T){1&c&&(e.j41(0,"div",31),e.qSk(),e.j41(1,"svg",32),e.nrm(2,"circle",33)(3,"path",34),e.k0s()())}function E(c,T){if(1&c&&(e.j41(0,"option",39),e.EFF(1),e.k0s()),2&c){const s=T.$implicit;e.Y8G("value",s),e.R7$(),e.SpI(" ",s," ")}}function R(c,T){if(1&c&&(e.j41(0,"div",7)(1,"h3",5),e.EFF(2,"V\xe9hicule"),e.k0s(),e.j41(3,"div",6)(4,"div",8)(5,"label",9),e.EFF(6,"Marque"),e.k0s(),e.nrm(7,"input",10),e.DNE(8,pf,4,0,"div",11)(9,mf,3,3,"ul",12),e.nI1(10,"async"),e.k0s(),e.j41(11,"div")(12,"div",8)(13,"label",13),e.EFF(14,"Mod\xe8le"),e.k0s(),e.j41(15,"select",14)(16,"option",15),e.EFF(17,"S\xe9lectionnez un mod\xe8le"),e.k0s(),e.DNE(18,h,2,1,"option",16)(19,b,2,2,"option",17),e.k0s(),e.DNE(20,m,4,0,"div",11),e.k0s()(),e.j41(21,"div")(22,"label",18),e.EFF(23,"Ann\xe9e"),e.k0s(),e.j41(24,"select",19)(25,"option",20),e.EFF(26,"S\xe9lectionnez une ann\xe9e"),e.k0s(),e.DNE(27,E,2,2,"option",17),e.k0s()(),e.j41(28,"div")(29,"label",21),e.EFF(30,"Plaque"),e.k0s(),e.nrm(31,"input",22),e.k0s(),e.j41(32,"div")(33,"label",23),e.EFF(34,"Puissance (kW)"),e.k0s(),e.nrm(35,"input",24),e.k0s(),e.j41(36,"div")(37,"label",25),e.EFF(38,"Nombre de places"),e.k0s(),e.nrm(39,"input",26),e.k0s(),e.j41(40,"div")(41,"label",27),e.EFF(42,"Valeur (\u20ac)"),e.k0s(),e.nrm(43,"input",28),e.k0s(),e.j41(44,"div")(45,"label",29),e.EFF(46,"Date de 1\xe8re immatriculation"),e.k0s(),e.nrm(47,"input",30),e.k0s()()()),2&c){let s,f,u;const O=e.XpG();e.R7$(7),e.Y8G("formControl",O.marqueCtrl),e.R7$(),e.Y8G("ngIf",O.isMarqueLoading),e.R7$(),e.Y8G("ngIf",(null==(s=e.bMT(10,9,O.filteredMarques$))?null:s.length)&&(O.marqueCtrl.value||"").length>=2),e.R7$(6),e.Y8G("disabled",!(null!=(f=O.parentForm.get("vehicule.make"))&&f.value)||O.isModeleLoading),e.R7$(3),e.Y8G("ngIf",!O.isModeleLoading&&0===O.modelesForSelectedMarque.length&&(null==(u=O.parentForm.get("vehicule.make"))?null:u.value)),e.R7$(),e.Y8G("ngForOf",O.modelesForSelectedMarque),e.R7$(),e.Y8G("ngIf",O.isModeleLoading),e.R7$(5),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",O.vehicleYears)}}function q(c,T){if(1&c&&(e.j41(0,"option",39),e.EFF(1),e.k0s()),2&c){const s=T.$implicit;e.Y8G("value",s.statut),e.R7$(),e.JRh(s.statut)}}function ee(c,T){if(1&c&&(e.j41(0,"option",39),e.EFF(1),e.k0s()),2&c){const s=T.$implicit;e.Y8G("value",s.id),e.R7$(),e.SpI(" ",s.nom," ")}}function Ae(c,T){if(1&c&&(e.j41(0,"fieldset",40)(1,"legend",5),e.EFF(2,"Garanties et Contrat"),e.k0s(),e.j41(3,"div",6)(4,"div",41)(5,"label",42),e.EFF(6,"Date d'effet"),e.k0s(),e.nrm(7,"input",43),e.k0s(),e.j41(8,"div",41)(9,"label",44),e.EFF(10,"Niveau d'omnium"),e.k0s(),e.j41(11,"select",45)(12,"option",46),e.EFF(13,"Aucune"),e.k0s(),e.j41(14,"option",47),e.EFF(15,"Mini Omnium"),e.k0s(),e.j41(16,"option",48),e.EFF(17,"Omnium Compl\xe8te"),e.k0s()()(),e.j41(18,"div")(19,"label",49),e.EFF(20,"Statut de l'offre"),e.k0s(),e.j41(21,"select",50)(22,"option",20),e.EFF(23,"S\xe9lectionnez un statut"),e.k0s(),e.DNE(24,q,2,2,"option",17),e.nI1(25,"async"),e.k0s()(),e.j41(26,"div")(27,"label",51),e.EFF(28,"Compagnie d'assurance"),e.k0s(),e.j41(29,"select",52)(30,"option",20),e.EFF(31,"S\xe9lectionnez une compagnie"),e.k0s(),e.DNE(32,ee,2,2,"option",17),e.nI1(33,"async"),e.k0s()(),e.j41(34,"div",53),e.nrm(35,"input",54),e.j41(36,"label",55),e.EFF(37,"Garantie RC de base"),e.k0s()(),e.j41(38,"div",53),e.nrm(39,"input",56),e.j41(40,"label",57),e.EFF(41,"Garantie Conducteur"),e.k0s()(),e.j41(42,"div",53),e.nrm(43,"input",58),e.j41(44,"label",59),e.EFF(45,"Assistance"),e.k0s()()()()),2&c){const s=e.XpG();e.R7$(22),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",e.bMT(25,4,s.statuts$)),e.R7$(6),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",e.bMT(33,6,s.insuranceCompanies$))}}let xe=(()=>{class c{dbService;platformId;parentForm;showMainDriverSection=!1;marqueCtrl;filteredMarques$;isMarqueLoading=!1;isModeleLoading=!1;modelesForSelectedMarque=[];selectMarque;statuts$;insuranceCompanies$;vehicleYears=[];preneurCities$;nationalities$;maritalStatuses$;conducteurCities$;destroy$=new se.B;constructor(s,f){this.dbService=s,this.platformId=f}ngOnInit(){this.parentForm||console.warn("AutoFormComponent: [parentForm] input is missing."),this.statuts$=this.dbService.getAllStatuts(),this.insuranceCompanies$=this.dbService.getAllAssureurs(),this.nationalities$=this.dbService.getNationalities(),this.maritalStatuses$=this.dbService.getAllMaritalStatuses();for(let f=(new Date).getFullYear();f>=1940;f--)this.vehicleYears.push(f)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(f){return new(f||c)(e.rXU(xt.y),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:c,selectors:[["app-auto-form"]],inputs:{parentForm:"parentForm",showMainDriverSection:"showMainDriverSection",marqueCtrl:"marqueCtrl",filteredMarques$:"filteredMarques$",isMarqueLoading:"isMarqueLoading",isModeleLoading:"isModeleLoading",modelesForSelectedMarque:"modelesForSelectedMarque",selectMarque:"selectMarque",preneurCities$:"preneurCities$",conducteurCities$:"conducteurCities$"},standalone:!0,features:[e.aNF],decls:4,vars:4,consts:[[3,"formGroup"],["formGroupName","conducteurPrincipal",4,"ngIf"],["formGroupName","vehicule",4,"ngIf"],["formGroupName","garantie",4,"ngIf"],["formGroupName","conducteurPrincipal"],[1,"text-lg","font-semibold","text-gray-800","bg-gray-100","-mx-6","px-6","py-2","mb-4","border-y"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-x-6","gap-y-4"],["formGroupName","vehicule"],[1,"relative"],["for","make",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","make","placeholder","Rechercher une marque...",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"formControl"],["class","absolute inset-y-0 right-0 flex items-center pr-3 top-6",4,"ngIf"],["class","absolute z-20 w-full bg-white border border-gray-300 rounded-md mt-1 max-h-40 overflow-y-auto",4,"ngIf"],["for","model",1,"block","text-sm","font-medium","text-gray-700"],["id","model","formControlName","model",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm","disabled:bg-gray-100",3,"disabled"],["value","","disabled",""],[3,"disabled",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["for","year",1,"block","text-sm","font-medium","text-gray-700"],["id","year","formControlName","year",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["disabled","",3,"ngValue"],["for","licensePlate",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","licensePlate","formControlName","licensePlate","appLicensePlateFormat","","placeholder","1 ABC 123","maxlength","9",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","power",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","power","formControlName","power",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","seats",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","seats","formControlName","seats",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","value",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","value","formControlName","value",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","registrationDate",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","registrationDate","formControlName","registrationDate",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"absolute","inset-y-0","right-0","flex","items-center","pr-3","top-6"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5","text-gray-400"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"absolute","z-20","w-full","bg-white","border","border-gray-300","rounded-md","mt-1","max-h-40","overflow-y-auto"],["class","px-3 py-2 cursor-pointer hover:bg-gray-100",3,"click",4,"ngFor","ngForOf"],[1,"px-3","py-2","cursor-pointer","hover:bg-gray-100",3,"click"],[3,"disabled"],[3,"value"],["formGroupName","garantie"],[1,"sm:col-span-2"],["for","effectiveDate",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","effectiveDate","formControlName","effectiveDate",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","omniumLevel",1,"block","text-sm","font-medium","text-gray-700"],["id","omniumLevel","formControlName","omniumLevel",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["value","non"],["value","partiel"],["value","total"],["for","statut",1,"block","text-sm","font-medium","text-gray-700"],["id","statut","formControlName","statut",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","insuranceCompany",1,"block","text-sm","font-medium","text-gray-700"],["id","insuranceCompany","formControlName","insuranceCompany",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"flex","items-center"],["id","baseRC","type","checkbox","formControlName","baseRC",1,"form-checkbox","h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","baseRC",1,"ml-2","block","text-sm","text-gray-900"],["id","driverCoverage","type","checkbox","formControlName","driverCoverage",1,"form-checkbox","h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","driverCoverage",1,"ml-2","block","text-sm","text-gray-900"],["id","assistance","type","checkbox","formControlName","assistance",1,"form-checkbox","h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","assistance",1,"ml-2","block","text-sm","text-gray-900"]],template:function(f,u){1&f&&(e.qex(0,0),e.DNE(1,ff,4,0,"div",1)(2,R,48,11,"div",2)(3,Ae,46,8,"fieldset",3),e.bVm()),2&f&&(e.Y8G("formGroup",u.parentForm),e.R7$(),e.Y8G("ngIf",u.showMainDriverSection&&u.parentForm.get("conducteurPrincipal")),e.R7$(),e.Y8G("ngIf",u.parentForm.get("vehicule")),e.R7$(),e.Y8G("ngIf",u.parentForm.get("garantie")))},dependencies:[A.MD,A.Sq,A.bT,A.Jj,C.X1,C.xH,C.y7,C.me,C.Q0,C.Zm,C.wz,C.BC,C.cb,C.tU,C.l_,C.j4,C.JD,C.$R],encapsulation:2})}return c})();function nt(c,T){if(1&c&&(e.j41(0,"tbody",3)(1,"tr",4)(2,"th",5),e.EFF(3," Preneur d'assurance "),e.k0s()(),e.j41(4,"tr")(5,"td",6),e.EFF(6,"Pr\xe9nom & Nom"),e.k0s(),e.j41(7,"td",7),e.EFF(8),e.nI1(9,"titlecase"),e.nI1(10,"uppercase"),e.k0s()(),e.j41(11,"tr")(12,"td",8),e.EFF(13,"Date de naissance"),e.k0s(),e.j41(14,"td",7),e.EFF(15),e.nI1(16,"date"),e.k0s()(),e.j41(17,"tr")(18,"td",8),e.EFF(19,"Contact"),e.k0s(),e.j41(20,"td",7)(21,"div")(22,"span",9),e.EFF(23,"Email:"),e.k0s(),e.EFF(24),e.k0s(),e.j41(25,"div")(26,"span",9),e.EFF(27,"T\xe9l:"),e.k0s(),e.EFF(28),e.k0s()()(),e.j41(29,"tr")(30,"td",8),e.EFF(31,"Adresse"),e.k0s(),e.j41(32,"td",7),e.EFF(33),e.nrm(34,"br"),e.EFF(35),e.nI1(36,"titlecase"),e.k0s()(),e.j41(37,"tr")(38,"td",8),e.EFF(39,"Permis de conduire"),e.k0s(),e.j41(40,"td",7),e.EFF(41),e.nI1(42,"date"),e.k0s()(),e.j41(43,"tr")(44,"td",8),e.EFF(45,"Identit\xe9 nationale"),e.k0s(),e.j41(46,"td",7)(47,"div")(48,"span",9),e.EFF(49,"RN:"),e.k0s(),e.EFF(50),e.k0s(),e.j41(51,"div")(52,"span",9),e.EFF(53,"Carte Id:"),e.k0s(),e.EFF(54),e.nI1(55,"date"),e.k0s()()(),e.j41(56,"tr")(57,"td",8),e.EFF(58,"Infos persos"),e.k0s(),e.j41(59,"td",7),e.EFF(60),e.k0s()()()),2&c){const s=T.ngIf,f=e.XpG();e.R7$(8),e.Lme(" ",e.bMT(9,15,s.prenom)," ",e.bMT(10,17,s.nom)," "),e.R7$(7),e.SpI(" ",e.i5U(16,19,s.date_naissance,"dd/MM/yyyy")," "),e.R7$(9),e.SpI(" ",s.email,""),e.R7$(4),e.SpI(" ",s.telephone,""),e.R7$(5),e.SpI(" ",s.address,""),e.R7$(2),e.Lme(" ",s.code_postal," ",e.bMT(36,22,s.city)," "),e.R7$(6),e.Lme(" N\xb0 ",s.driverLicenseNumber," (Obtenu le ",e.i5U(42,24,s.driverLicenseDate,"dd/MM/yyyy"),") "),e.R7$(9),e.SpI(" ",s.nationalRegistryNumber,""),e.R7$(4),e.Lme(" ",s.idCardNumber," (Validit\xe9: ",e.i5U(55,27,s.idCardValidityDate,"dd/MM/yyyy"),")"),e.R7$(6),e.Lme(" ",s.nationality," \u2014 ",f.getMaritalStatusLabel(s.maritalStatus)," ")}}function Rt(c,T){if(1&c&&(e.j41(0,"tbody",10)(1,"tr",4)(2,"th",5),e.EFF(3," Conducteur Principal "),e.k0s()(),e.j41(4,"tr")(5,"td",6),e.EFF(6,"Pr\xe9nom & Nom"),e.k0s(),e.j41(7,"td",7),e.EFF(8),e.nI1(9,"titlecase"),e.nI1(10,"uppercase"),e.k0s()(),e.j41(11,"tr")(12,"td",8),e.EFF(13,"Date de naissance"),e.k0s(),e.j41(14,"td",7),e.EFF(15),e.nI1(16,"date"),e.k0s()(),e.j41(17,"tr")(18,"td",8),e.EFF(19,"Contact"),e.k0s(),e.j41(20,"td",7)(21,"div")(22,"span",9),e.EFF(23,"Email:"),e.k0s(),e.EFF(24),e.k0s(),e.j41(25,"div")(26,"span",9),e.EFF(27,"T\xe9l:"),e.k0s(),e.EFF(28),e.k0s()()(),e.j41(29,"tr")(30,"td",8),e.EFF(31,"Permis de conduire"),e.k0s(),e.j41(32,"td",7),e.EFF(33),e.nI1(34,"date"),e.k0s()(),e.j41(35,"tr")(36,"td",8),e.EFF(37,"Identit\xe9 nationale"),e.k0s(),e.j41(38,"td",7)(39,"div")(40,"span",9),e.EFF(41,"RN:"),e.k0s(),e.EFF(42),e.k0s(),e.j41(43,"div")(44,"span",9),e.EFF(45,"Carte Id:"),e.k0s(),e.EFF(46),e.nI1(47,"date"),e.k0s()()(),e.j41(48,"tr")(49,"td",8),e.EFF(50,"Infos persos"),e.k0s(),e.j41(51,"td",7),e.EFF(52),e.k0s()()()),2&c){const s=T.ngIf,f=e.XpG();e.R7$(8),e.Lme(" ",e.bMT(9,12,s.prenom)," ",e.bMT(10,14,s.nom)," "),e.R7$(7),e.SpI(" ",e.i5U(16,16,s.date_naissance,"dd/MM/yyyy")," "),e.R7$(9),e.SpI(" ",s.email,""),e.R7$(4),e.SpI(" ",s.telephone,""),e.R7$(5),e.Lme(" N\xb0 ",s.driverLicenseNumber," (Obtenu le ",e.i5U(34,19,s.driverLicenseDate,"dd/MM/yyyy"),") "),e.R7$(9),e.SpI(" ",s.nationalRegistryNumber,""),e.R7$(4),e.Lme(" ",s.idCardNumber," (Validit\xe9: ",e.i5U(47,22,s.idCardValidityDate,"dd/MM/yyyy"),")"),e.R7$(6),e.Lme(" ",s.nationality," \u2014 ",f.getMaritalStatusLabel(s.maritalStatus)," ")}}function Yt(c,T){if(1&c&&(e.j41(0,"tbody",10)(1,"tr",4)(2,"th",5),e.EFF(3," V\xe9hicule "),e.k0s()(),e.j41(4,"tr")(5,"td",8),e.EFF(6,"V\xe9hicule"),e.k0s(),e.j41(7,"td",7)(8,"span",11),e.EFF(9),e.k0s(),e.EFF(10),e.k0s()(),e.j41(11,"tr")(12,"td",8),e.EFF(13,"D\xe9tails"),e.k0s(),e.j41(14,"td",7),e.EFF(15),e.nrm(16,"br"),e.EFF(17," Plaque: "),e.j41(18,"span",12),e.EFF(19),e.k0s()()(),e.j41(20,"tr")(21,"td",8),e.EFF(22,"Sp\xe9cifications"),e.k0s(),e.j41(23,"td",7)(24,"div")(25,"span",9),e.EFF(26,"Puissance:"),e.k0s(),e.EFF(27),e.k0s(),e.j41(28,"div")(29,"span",9),e.EFF(30,"Places:"),e.k0s(),e.EFF(31),e.k0s(),e.j41(32,"div")(33,"span",9),e.EFF(34,"Valeur:"),e.k0s(),e.EFF(35),e.nI1(36,"currency"),e.k0s(),e.j41(37,"div")(38,"span",9),e.EFF(39,"1\xe8re immat.:"),e.k0s(),e.EFF(40),e.nI1(41,"date"),e.k0s()()()()),2&c){const s=T.ngIf;e.R7$(9),e.SpI("",s.make," "),e.R7$(),e.SpI(" ",s.modele," "),e.R7$(5),e.SpI(" Ann\xe9e: ",s.year,""),e.R7$(4),e.JRh(s.licensePlate),e.R7$(8),e.SpI(" ",s.power," kW"),e.R7$(4),e.SpI(" ",s.seats,""),e.R7$(4),e.SpI(" ",e.i5U(36,8,s.value,"EUR"),""),e.R7$(5),e.SpI(" ",e.i5U(41,11,s.registrationDate,"dd/MM/yyyy"),"")}}function Xn(c,T){if(1&c&&(e.j41(0,"tbody",10)(1,"tr",4)(2,"th",5),e.EFF(3," Garanties "),e.k0s()(),e.j41(4,"tr")(5,"td",8),e.EFF(6,"Statut"),e.k0s(),e.j41(7,"td",7)(8,"span",13),e.EFF(9),e.k0s()()(),e.j41(10,"tr")(11,"td",8),e.EFF(12,"G\xe9n\xe9ral"),e.k0s(),e.j41(13,"td",7)(14,"div")(15,"span",9),e.EFF(16,"Date d'effet:"),e.k0s(),e.EFF(17),e.nI1(18,"date"),e.k0s(),e.j41(19,"div")(20,"span",9),e.EFF(21,"Compagnie:"),e.k0s(),e.EFF(22),e.k0s()()(),e.j41(23,"tr")(24,"td",8),e.EFF(25,"Niveau d'omnium"),e.k0s(),e.j41(26,"td",7)(27,"span",14),e.EFF(28),e.nI1(29,"uppercase"),e.k0s()()(),e.j41(30,"tr")(31,"td",8),e.EFF(32,"Options souscrites"),e.k0s(),e.j41(33,"td",15)(34,"ul",16)(35,"li"),e.EFF(36,"RC de base: "),e.j41(37,"strong"),e.EFF(38),e.k0s()(),e.j41(39,"li"),e.EFF(40,"Garantie Conducteur: "),e.j41(41,"strong"),e.EFF(42),e.k0s()(),e.j41(43,"li"),e.EFF(44,"Assistance: "),e.j41(45,"strong"),e.EFF(46),e.k0s()()()()()()),2&c){const s=T.ngIf,f=e.XpG();e.R7$(8),e.Y8G("ngClass",f.getStatutClass(s.statut)),e.R7$(),e.JRh(s.statut),e.R7$(8),e.SpI(" ",e.i5U(18,8,s.effectiveDate,"dd/MM/yyyy"),""),e.R7$(5),e.SpI(" ",f.getCompanyName(s.insuranceCompany),""),e.R7$(6),e.SpI(" ",e.bMT(29,11,s.omniumLevel)," "),e.R7$(10),e.JRh(s.baseRC?"Oui":"Non"),e.R7$(4),e.JRh(s.driverCoverage?"Oui":"Non"),e.R7$(4),e.JRh(s.assistance?"Oui":"Non")}}let yi=(()=>{class c{dbService;formValue;showMainDriverSection=!1;destroy$=new se.B;insuranceCompanies=[];maritalStatuses=[];constructor(s){this.dbService=s}ngOnInit(){this.dbService.getAllAssureurs().pipe((0,Qe.Q)(this.destroy$)).subscribe(s=>{this.insuranceCompanies=s||[]}),this.dbService.getAllMaritalStatuses().pipe((0,Qe.Q)(this.destroy$)).subscribe(s=>{this.maritalStatuses=s||[]})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getCompanyName(s){if(!s||!this.insuranceCompanies||0===this.insuranceCompanies.length)return"N/A";const f=this.insuranceCompanies.find(u=>u.id===s);return f?f.nom:`Inconnue (ID: ${s})`}getMaritalStatusLabel(s){if(!s||!this.maritalStatuses||0===this.maritalStatuses.length)return"N/A";const f=this.maritalStatuses.find(u=>u.id===s);return f?f.label:`Inconnu (ID: ${s})`}getStatutClass(s){return s&&{Nouveau:{"bg-blue-100":!0,"text-blue-800":!0},"En cours":{"bg-yellow-100":!0,"text-yellow-800":!0},Termin\u00e9:{"bg-green-100":!0,"text-green-800":!0}}[s]||{"bg-gray-100":!0,"text-gray-800":!0}}static \u0275fac=function(f){return new(f||c)(e.rXU(xt.y))};static \u0275cmp=e.VBU({type:c,selectors:[["app-auto-details"]],inputs:{formValue:"formValue",showMainDriverSection:"showMainDriverSection"},standalone:!0,features:[e.aNF],decls:5,vars:4,consts:[[1,"min-w-full","divide-y","divide-gray-200"],["class","bg-white divide-y divide-gray-200",4,"ngIf"],["class","bg-white divide-y divide-gray-200 border-t-8 border-gray-50",4,"ngIf"],[1,"bg-white","divide-y","divide-gray-200"],[1,"bg-gray-100"],["colspan","2",1,"px-6","py-3","text-left","text-xs","font-bold","text-gray-500","uppercase","tracking-wider"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-700","bg-gray-50","w-1/3"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-700","bg-gray-50"],[1,"font-medium"],[1,"bg-white","divide-y","divide-gray-200","border-t-8","border-gray-50"],[1,"font-bold"],[1,"uppercase","font-mono","bg-gray-100","px-2","py-1","rounded"],[1,"px-2.5","py-0.5","rounded-full","text-xs","font-medium",3,"ngClass"],[1,"px-2","inline-flex","text-xs","leading-5","font-semibold","rounded-full","bg-blue-100","text-blue-800"],[1,"px-6","py-4","text-sm","text-gray-900"],[1,"list-disc","list-inside"]],template:function(f,u){1&f&&(e.j41(0,"table",0),e.DNE(1,nt,61,30,"tbody",1)(2,Rt,53,25,"tbody",2)(3,Yt,42,14,"tbody",2)(4,Xn,47,13,"tbody",2),e.k0s()),2&f&&(e.R7$(),e.Y8G("ngIf",null==u.formValue?null:u.formValue.preneurAssurance),e.R7$(),e.Y8G("ngIf",u.showMainDriverSection&&(null==u.formValue?null:u.formValue.conducteurPrincipal)),e.R7$(),e.Y8G("ngIf",null==u.formValue?null:u.formValue.vehicule),e.R7$(),e.Y8G("ngIf",null==u.formValue?null:u.formValue.garantie))},dependencies:[A.MD,A.YU,A.bT,A.Pc,A.PV,A.oe,A.vh],encapsulation:2})}return c})();const Br=c=>({"border-red-500 ring-red-500":c}),bi=()=>[];function Fo(c,T){if(1&c&&(e.j41(0,"option",62),e.EFF(1),e.k0s()),2&c){const s=T.$implicit;e.Y8G("value",s),e.R7$(),e.SpI(" ",s," ")}}function as(c,T){if(1&c&&(e.j41(0,"option",62),e.EFF(1),e.k0s()),2&c){const s=T.$implicit;e.Y8G("value",s.id),e.R7$(),e.JRh(s.nom)}}function Zl(c,T){if(1&c&&(e.j41(0,"option",62),e.EFF(1),e.k0s()),2&c){const s=T.$implicit;e.Y8G("value",s.statut),e.R7$(),e.JRh(s.statut)}}let zs=(()=>{class c{fb;dbService;platformId;parentForm;isReadOnly=!1;initialData;statuts$;insuranceCompanies$;batimentCities$;preneurCities$;destroy$=new se.B;constructor(s,f,u){this.fb=s,this.dbService=f,this.platformId=u,this.batimentCities$=(0,K.of)([])}ngOnInit(){if(this.parentForm){const s=this.parentForm.get("evaluation");s&&!s.contains("valeurLibreContenu")&&s.addControl("valeurLibreContenu",this.fb.control(null));const f=this.parentForm.get("garantiesHabitation");f&&!f.contains("compagnie_id")&&f.addControl("compagnie_id",this.fb.control(null))}else this.initializeForm();if(this.statuts$=this.dbService.getAllStatuts(),this.insuranceCompanies$=this.dbService.getAllAssureurs(),(0,A.UE)(this.platformId)){const s=this.parentForm.get("batiment.batiment_code_postal");s&&(s.valueChanges.pipe((0,Ve.F)(),(0,Qe.Q)(this.destroy$)).subscribe(()=>{this.parentForm.get("batiment.batiment_ville")?.setValue(null,{emitEvent:!1})}),this.batimentCities$=s.valueChanges.pipe((0,J.Z)(s.value||""),Xe(300),(0,Ve.F)(),(0,Ye.n)(u=>u&&u.length>=4?this.dbService.getCitiesByPostalCode(u).pipe((0,Q.W)(()=>(0,K.of)([]))):(0,K.of)([])),(0,he.T)(u=>{const O=this.parentForm.get("batiment.batiment_ville")?.value;return O&&!u.includes(O)?[O,...u]:u}),(0,Qe.Q)(this.destroy$)));const f=this.parentForm.get("preneurAssurance.code_postal");f&&(this.preneurCities$=f.valueChanges.pipe(Xe(300),(0,Ve.F)(),(0,Ye.n)(u=>u&&u.length>=4?this.dbService.getCitiesByPostalCode(u).pipe((0,Q.W)(()=>(0,K.of)([])),(0,Qe.Q)(this.destroy$)):(0,K.of)([])),(0,Qe.Q)(this.destroy$)))}}ngOnChanges(s){s.initialData&&this.initialData&&this.patchFormWithData(this.initialData)}initializeForm(){this.parentForm=this.fb.group({preneurAssurance:this.fb.group({prenom:[{value:"",disabled:!0}],nom:[{value:"",disabled:!0}],date_naissance:[{value:"",disabled:!0}],email:[{value:"",disabled:!0}],telephone:[{value:"",disabled:!0}],nationalRegistryNumber:[{value:"",disabled:!0}],idCardNumber:[{value:"",disabled:!0}],idCardValidityDate:[{value:"",disabled:!0}],adresse:[{value:"",disabled:!0}],code_postal:[{value:"",disabled:!0}],ville:[{value:"",disabled:!0}]}),batiment:this.fb.group({batiment_adresse:["",C.k0.required],batiment_code_postal:["",C.k0.required],batiment_ville:["",C.k0.required],batiment_type_maison:[""]}),evaluation:this.fb.group({superficie:[null],nombrePieces:[null],loyerMensuel:[null],typeValeurBatiment:[null],valeurExpertise:[null],dateExpertise:[null],typeValeurContenu:[null],valeurLibreContenu:[null]}),garantiesHabitation:this.fb.group({contenu:[!1],vol:[!1],pertesIndirectes:[!1],protectionJuridique:[!1],assistance:[!1],dateEffet:[null],compagnie_id:[null],statut:[null]})})}patchFormWithData(s){s&&this.parentForm&&this.parentForm.patchValue({preneurAssurance:{prenom:s.preneur?.prenom,nom:s.preneur?.nom,date_naissance:s.preneur?.date_naissance,email:s.preneur?.email,telephone:s.preneur?.telephone,nationalRegistryNumber:s.preneur?.numero_national,idCardNumber:s.preneur?.idcard_number,idCardValidityDate:s.preneur?.idcard_validity,adresse:s.preneur?.adresse,code_postal:s.preneur?.code_postal,ville:s.preneur?.ville},batiment:{batiment_adresse:s.batiment_adresse,batiment_code_postal:s.batiment_code_postal,batiment_ville:s.batiment_ville,batiment_type_maison:s.batiment_type_maison},evaluation:{superficie:s.evaluation_superficie,nombrePieces:s.evaluation_nombre_pieces,loyerMensuel:s.evaluation_loyer_mensuel,typeValeurBatiment:s.evaluation_type_valeur_batiment,valeurExpertise:s.evaluation_valeur_expertise,dateExpertise:s.evaluation_date_expertise,typeValeurContenu:s.evaluation_type_valeur_contenu,valeurLibreContenu:s.evaluation_valeur_libre_contenu},garantiesHabitation:{contenu:s.garantie_contenu,vol:s.garantie_vol,pertesIndirectes:s.garantie_pertes_indirectes,protectionJuridique:s.garantie_protection_juridique,assistance:s.garantie_assistance,dateEffet:s.date_effet,compagnie_id:s.compagnie_id,statut:s.statut}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}scrollToSection(s){const f=document.getElementById(s);f&&f.scrollIntoView({behavior:"smooth",block:"start"})}static \u0275fac=function(f){return new(f||c)(e.rXU(C.ok),e.rXU(xt.y),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:c,selectors:[["app-habitation-form"]],inputs:{parentForm:"parentForm",isReadOnly:"isReadOnly",initialData:"initialData"},standalone:!0,features:[e.OA$,e.aNF],decls:144,vars:31,consts:[[3,"formGroup"],["formGroupName","batiment",1,"mt-6"],[1,"text-lg","font-semibold","text-gray-700","border-b","pb-2","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","pt-4"],[1,"md:col-span-2"],["for","batiment_adresse",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","batiment_adresse","formControlName","batiment_adresse",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],[1,"relative"],["for","batiment_code_postal",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","batiment_code_postal","formControlName","batiment_code_postal",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","ville",1,"block","text-sm","font-medium","text-gray-700"],["id","ville","formControlName","batiment_ville",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["disabled","",3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["for","type-maison",1,"block","text-sm","font-medium","text-gray-700"],["id","type-maison","formControlName","batiment_type_maison",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["formGroupName","evaluation",1,"mt-6"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4","pt-4"],["for","superficie",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","superficie","formControlName","superficie",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"readOnly"],["for","nombre-pieces",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","nombre-pieces","formControlName","nombrePieces","placeholder","Salon + Cuisine = 1 pi\xe8ce",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"readOnly"],["for","loyer",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","loyer","formControlName","loyerMensuel","placeholder","\u20ac",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"readOnly"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4","pt-4","mt-4","border-t"],["for","type-valeur-batiment",1,"block","text-sm","font-medium","text-gray-700"],["id","type-valeur-batiment","formControlName","typeValeurBatiment",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm","capitalize"],[3,"ngValue"],["value","expertise"],["value","libre"],["for","valeur-expertise",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","valeur-expertise","formControlName","valeurExpertise","placeholder","\u20ac",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"readOnly"],["for","date-expertise",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","date-expertise","formControlName","dateExpertise",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"readOnly"],["for","type-valeur-contenu",1,"block","text-sm","font-medium","text-gray-700"],["id","type-valeur-contenu","formControlName","typeValeurContenu",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm","capitalize"],["value","courtier"],["value","client"],["for","valeur-libre-contenu",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","valeur-libre-contenu","formControlName","valeurLibreContenu","placeholder","\u20ac",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"readOnly"],["formGroupName","garantiesHabitation",1,"mt-6"],[1,"space-y-4","pt-4"],[1,"grid","grid-cols-2","md:grid-cols-3","gap-4"],[1,"flex","items-start"],[1,"flex","h-5","items-center"],["id","garantie-contenu","formControlName","contenu","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],[1,"ml-3","text-sm"],["for","garantie-contenu",1,"font-medium","text-gray-700"],["id","garantie-vol","formControlName","vol","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","garantie-vol",1,"font-medium","text-gray-700"],["id","garantie-pertes","formControlName","pertesIndirectes","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","garantie-pertes",1,"font-medium","text-gray-700"],["id","garantie-pj","formControlName","protectionJuridique","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","garantie-pj",1,"font-medium","text-gray-700"],["id","garantie-assistance","formControlName","assistance","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","garantie-assistance",1,"font-medium","text-gray-700"],["for","date_effet",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","date_effet","formControlName","dateEffet",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","garantie-insuranceCompany",1,"block","text-sm","font-medium","text-gray-700"],["id","garantie-insuranceCompany","formControlName","compagnie_id",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","garantie-statut",1,"block","text-sm","font-medium","text-gray-700"],["id","garantie-statut","formControlName","statut",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[3,"value"]],template:function(f,u){if(1&f&&(e.j41(0,"div",0)(1,"fieldset",1)(2,"legend",2),e.EFF(3,"B\xe2timent \xe0 assurer"),e.k0s(),e.j41(4,"div",3)(5,"div",4)(6,"label",5),e.EFF(7,"Rue et num\xe9ro"),e.k0s(),e.nrm(8,"input",6),e.k0s(),e.j41(9,"div")(10,"div",7)(11,"label",8),e.EFF(12,"Code Postal"),e.k0s(),e.nrm(13,"input",9),e.k0s()(),e.j41(14,"div")(15,"label",10),e.EFF(16,"Ville"),e.k0s(),e.j41(17,"select",11)(18,"option",12),e.EFF(19,"-- Entrez un code postal --"),e.k0s(),e.DNE(20,Fo,2,2,"option",13),e.nI1(21,"async"),e.k0s()(),e.j41(22,"div")(23,"label",14),e.EFF(24,"Type de maison"),e.k0s(),e.j41(25,"select",15)(26,"option"),e.EFF(27,"Maison 2 fa\xe7ades"),e.k0s(),e.j41(28,"option"),e.EFF(29,"Maison 3 fa\xe7ades"),e.k0s(),e.j41(30,"option"),e.EFF(31,"Maison 4 fa\xe7ades (villa)"),e.k0s(),e.j41(32,"option"),e.EFF(33,"Appartement"),e.k0s(),e.j41(34,"option"),e.EFF(35,"Studio"),e.k0s(),e.j41(36,"option"),e.EFF(37,"Autre"),e.k0s()()()()(),e.j41(38,"fieldset",16)(39,"legend",2),e.EFF(40,"\xc9valuation des biens"),e.k0s(),e.j41(41,"div",17)(42,"div")(43,"label",18),e.EFF(44,"Superficie (m\xb2)"),e.k0s(),e.nrm(45,"input",19),e.k0s(),e.j41(46,"div")(47,"label",20),e.EFF(48,"Nombre de pi\xe8ces"),e.k0s(),e.nrm(49,"input",21),e.k0s(),e.j41(50,"div")(51,"label",22),e.EFF(52,"Loyer mensuel (charges comprises)"),e.k0s(),e.nrm(53,"input",23),e.k0s()(),e.j41(54,"div",24)(55,"div")(56,"label",25),e.EFF(57,"Valeur b\xe2timent selon"),e.k0s(),e.j41(58,"select",26)(59,"option",27),e.EFF(60,"-- S\xe9lectionner --"),e.k0s(),e.j41(61,"option",28),e.EFF(62,"Expertise"),e.k0s(),e.j41(63,"option",29),e.EFF(64,"Librement exprim\xe9"),e.k0s()()(),e.j41(65,"div")(66,"label",30),e.EFF(67,"Valeur expertise b\xe2timent"),e.k0s(),e.nrm(68,"input",31),e.k0s(),e.j41(69,"div")(70,"label",32),e.EFF(71,"Date expertise b\xe2timent"),e.k0s(),e.nrm(72,"input",33),e.k0s()(),e.j41(73,"div",24)(74,"div")(75,"label",34),e.EFF(76,"Valeur contenu"),e.k0s(),e.j41(77,"select",35)(78,"option",27),e.EFF(79,"-- S\xe9lectionner --"),e.k0s(),e.j41(80,"option",36),e.EFF(81,"Courtier"),e.k0s(),e.j41(82,"option",37),e.EFF(83,"Client"),e.k0s()()(),e.j41(84,"div")(85,"label",38),e.EFF(86,"Valeur du contenu"),e.k0s(),e.nrm(87,"input",39),e.k0s()()(),e.j41(88,"fieldset",40)(89,"legend",2),e.EFF(90,"Garanties et contrat"),e.k0s(),e.j41(91,"div",41)(92,"div",42)(93,"div",43)(94,"div",44),e.nrm(95,"input",45),e.k0s(),e.j41(96,"div",46)(97,"label",47),e.EFF(98,"Contenu"),e.k0s()()(),e.j41(99,"div",43)(100,"div",44),e.nrm(101,"input",48),e.k0s(),e.j41(102,"div",46)(103,"label",49),e.EFF(104,"Vol"),e.k0s()()(),e.j41(105,"div",43)(106,"div",44),e.nrm(107,"input",50),e.k0s(),e.j41(108,"div",46)(109,"label",51),e.EFF(110,"Pertes indirectes"),e.k0s()()(),e.j41(111,"div",43)(112,"div",44),e.nrm(113,"input",52),e.k0s(),e.j41(114,"div",46)(115,"label",53),e.EFF(116,"Protection Juridique"),e.k0s()()(),e.j41(117,"div",43)(118,"div",44),e.nrm(119,"input",54),e.k0s(),e.j41(120,"div",46)(121,"label",55),e.EFF(122,"Assistance"),e.k0s()()()()(),e.j41(123,"div",17)(124,"div")(125,"label",56),e.EFF(126,"Date d'effet"),e.k0s(),e.nrm(127,"input",57),e.k0s(),e.j41(128,"div")(129,"label",58),e.EFF(130,"Compagnie"),e.k0s(),e.j41(131,"select",59)(132,"option",27),e.EFF(133,"-- S\xe9lectionner --"),e.k0s(),e.DNE(134,as,2,2,"option",13),e.nI1(135,"async"),e.k0s()(),e.j41(136,"div")(137,"label",60),e.EFF(138,"Statut"),e.k0s(),e.j41(139,"select",61)(140,"option",27),e.EFF(141,"-- S\xe9lectionner --"),e.k0s(),e.DNE(142,Zl,2,2,"option",13),e.nI1(143,"async"),e.k0s()()()()()),2&f){let O,ae,Fe;e.Y8G("formGroup",u.parentForm),e.R7$(8),e.Y8G("ngClass",e.eq3(24,Br,(null==(O=u.parentForm.get("batiment.batiment_adresse"))?null:O.invalid)&&(null==(O=u.parentForm.get("batiment.batiment_adresse"))?null:O.touched))),e.R7$(5),e.Y8G("ngClass",e.eq3(26,Br,(null==(ae=u.parentForm.get("batiment.batiment_code_postal"))?null:ae.invalid)&&(null==(ae=u.parentForm.get("batiment.batiment_code_postal"))?null:ae.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(28,Br,(null==(Fe=u.parentForm.get("batiment.batiment_ville"))?null:Fe.invalid)&&(null==(Fe=u.parentForm.get("batiment.batiment_ville"))?null:Fe.touched))),e.R7$(),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",e.bMT(21,18,u.batimentCities$)||e.lJ4(30,bi)),e.R7$(25),e.Y8G("readOnly",u.isReadOnly),e.R7$(4),e.Y8G("readOnly",u.isReadOnly),e.R7$(4),e.Y8G("readOnly",u.isReadOnly),e.R7$(6),e.Y8G("ngValue",null),e.R7$(9),e.Y8G("readOnly",u.isReadOnly),e.R7$(4),e.Y8G("readOnly",u.isReadOnly),e.R7$(6),e.Y8G("ngValue",null),e.R7$(9),e.Y8G("readOnly",u.isReadOnly),e.R7$(45),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",e.bMT(135,20,u.insuranceCompanies$)),e.R7$(6),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",e.bMT(143,22,u.statuts$))}},dependencies:[A.MD,A.YU,A.Sq,A.Jj,C.X1,C.xH,C.y7,C.me,C.Q0,C.Zm,C.wz,C.BC,C.cb,C.j4,C.JD,C.$R],encapsulation:2})}return c})();function Ka(c,T){if(!c||!T||0===T.length)return"Non sp\xe9cifi\xe9e";const s=T.find(f=>f.id===c);return s?s.nom:`Inconnue (ID: ${c})`}function Qa(c){if(!c)return{"bg-gray-100":!0,"text-gray-800":!0};switch(c){case"Nouveau":case"En cours de traitement":return{"bg-blue-100":!0,"text-blue-800":!0};case"En attente":case"En cours":return{"bg-yellow-100":!0,"text-yellow-800":!0};case"Termin\xe9":return{"bg-green-100":!0,"text-green-800":!0};case"Refus\xe9":case"Inactif":return{"bg-red-100":!0,"text-red-800":!0};default:return{"bg-gray-100":!0,"text-gray-800":!0}}}function gf(c,T){if(1&c&&(e.j41(0,"tbody",3)(1,"tr",4)(2,"th",5),e.EFF(3," Preneur d'assurance "),e.k0s()(),e.j41(4,"tr")(5,"td",6),e.EFF(6,"Pr\xe9nom & Nom"),e.k0s(),e.j41(7,"td",7),e.EFF(8),e.nI1(9,"titlecase"),e.nI1(10,"uppercase"),e.k0s()(),e.j41(11,"tr")(12,"td",8),e.EFF(13,"Date de naissance"),e.k0s(),e.j41(14,"td",7),e.EFF(15),e.nI1(16,"date"),e.k0s()(),e.j41(17,"tr")(18,"td",8),e.EFF(19,"Contact"),e.k0s(),e.j41(20,"td",7)(21,"div")(22,"span",9),e.EFF(23,"Email:"),e.k0s(),e.EFF(24),e.k0s(),e.j41(25,"div")(26,"span",9),e.EFF(27,"T\xe9l:"),e.k0s(),e.EFF(28),e.k0s()()(),e.j41(29,"tr")(30,"td",8),e.EFF(31,"Adresse"),e.k0s(),e.j41(32,"td",7),e.EFF(33),e.nrm(34,"br"),e.EFF(35),e.nI1(36,"titlecase"),e.k0s()(),e.j41(37,"tr")(38,"td",8),e.EFF(39,"Identit\xe9 nationale"),e.k0s(),e.j41(40,"td",7)(41,"div")(42,"span",9),e.EFF(43,"RN:"),e.k0s(),e.EFF(44),e.k0s(),e.j41(45,"div")(46,"span",9),e.EFF(47,"Carte Id:"),e.k0s(),e.EFF(48),e.nI1(49,"date"),e.k0s()()()()),2&c){const s=T.ngIf;e.R7$(8),e.Lme(" ",e.bMT(9,11,s.prenom)," ",e.bMT(10,13,s.nom)," "),e.R7$(7),e.SpI(" ",e.i5U(16,15,s.date_naissance,"dd/MM/yyyy")," "),e.R7$(9),e.SpI(" ",s.email,""),e.R7$(4),e.SpI(" ",s.telephone,""),e.R7$(5),e.SpI(" ",s.address,""),e.R7$(2),e.Lme(" ",s.code_postal," ",e.bMT(36,18,s.city)," "),e.R7$(9),e.SpI(" ",s.nationalRegistryNumber,""),e.R7$(4),e.Lme(" ",s.idCardNumber," (Validit\xe9: ",e.i5U(49,20,s.idCardValidityDate,"dd/MM/yyyy"),")")}}function eu(c,T){if(1&c&&(e.j41(0,"tbody",10)(1,"tr",4)(2,"th",5),e.EFF(3," B\xe2timent "),e.k0s()(),e.j41(4,"tr")(5,"td",8),e.EFF(6,"Adresse"),e.k0s(),e.j41(7,"td",7),e.EFF(8),e.nrm(9,"br"),e.EFF(10),e.nI1(11,"titlecase"),e.k0s()(),e.j41(12,"tr")(13,"td",8),e.EFF(14,"Type"),e.k0s(),e.j41(15,"td",7),e.EFF(16),e.k0s()()()),2&c){const s=T.ngIf;e.R7$(8),e.SpI(" ",s.batiment_adresse,""),e.R7$(2),e.Lme(" ",s.batiment_code_postal," ",e.bMT(11,4,s.batiment_ville)," "),e.R7$(6),e.SpI(" ",s.batiment_type_maison," ")}}function vf(c,T){if(1&c&&(e.j41(0,"div")(1,"span",9),e.EFF(2,"Loyer:"),e.k0s(),e.EFF(3),e.nI1(4,"currency"),e.k0s()),2&c){const s=e.XpG().ngIf;e.R7$(3),e.SpI(" ",e.i5U(4,1,s.loyerMensuel,"EUR"),"")}}function Oi(c,T){if(1&c&&(e.j41(0,"div")(1,"span",9),e.EFF(2,"Valeur expertise:"),e.k0s(),e.EFF(3),e.nI1(4,"currency"),e.nI1(5,"date"),e.k0s()),2&c){const s=e.XpG().ngIf;e.R7$(3),e.Lme(" ",e.i5U(4,2,s.valeurExpertise,"EUR")," (",e.i5U(5,5,s.dateExpertise,"dd/MM/yyyy"),")")}}function fc(c,T){if(1&c&&(e.j41(0,"div")(1,"span",9),e.EFF(2,"Valeur contenu:"),e.k0s(),e.EFF(3),e.nI1(4,"currency"),e.k0s()),2&c){const s=e.XpG().ngIf;e.R7$(3),e.SpI(" ",e.i5U(4,1,s.evaluation_valeur_libre_contenu,"EUR"),"")}}function pc(c,T){if(1&c&&(e.j41(0,"tbody",10)(1,"tr",4)(2,"th",5),e.EFF(3," \xc9valuation "),e.k0s()(),e.j41(4,"tr")(5,"td",8),e.EFF(6,"Dimensions"),e.k0s(),e.j41(7,"td",7)(8,"div")(9,"span",9),e.EFF(10,"Superficie:"),e.k0s(),e.EFF(11),e.k0s(),e.j41(12,"div")(13,"span",9),e.EFF(14,"Pi\xe8ces:"),e.k0s(),e.EFF(15),e.k0s(),e.DNE(16,vf,5,4,"div",11),e.k0s()(),e.j41(17,"tr")(18,"td",8),e.EFF(19,"Valeurs"),e.k0s(),e.j41(20,"td",7)(21,"div")(22,"span",9),e.EFF(23,"B\xe2timent:"),e.k0s(),e.EFF(24),e.k0s(),e.DNE(25,Oi,6,8,"div",11),e.j41(26,"div")(27,"span",9),e.EFF(28,"Contenu:"),e.k0s(),e.EFF(29),e.k0s(),e.DNE(30,fc,5,4,"div",11),e.k0s()()()),2&c){const s=T.ngIf;e.R7$(11),e.SpI(" ",s.superficie," m\xb2"),e.R7$(4),e.SpI(" ",s.nombrePieces,""),e.R7$(),e.Y8G("ngIf",s.loyerMensuel),e.R7$(8),e.SpI(" ",s.typeValeurBatiment,""),e.R7$(),e.Y8G("ngIf",s.valeurExpertise),e.R7$(4),e.SpI(" ",s.typeValeurContenu,""),e.R7$(),e.Y8G("ngIf",s.evaluation_valeur_libre_contenu)}}function En(c,T){if(1&c&&(e.j41(0,"tbody",10)(1,"tr",4)(2,"th",5),e.EFF(3," Garanties et Contrat "),e.k0s()(),e.j41(4,"tr")(5,"td",8),e.EFF(6,"Statut & Contrat"),e.k0s(),e.j41(7,"td",7)(8,"div")(9,"span",9),e.EFF(10,"Statut:"),e.k0s(),e.j41(11,"span",12),e.EFF(12),e.k0s()(),e.j41(13,"div")(14,"span",9),e.EFF(15,"Date d'effet:"),e.k0s(),e.EFF(16),e.nI1(17,"date"),e.k0s(),e.j41(18,"div")(19,"span",9),e.EFF(20,"Compagnie:"),e.k0s(),e.EFF(21),e.k0s()()(),e.j41(22,"tr")(23,"td",8),e.EFF(24,"Options souscrites"),e.k0s(),e.j41(25,"td",13)(26,"ul",14)(27,"li"),e.EFF(28,"Contenu: "),e.j41(29,"strong"),e.EFF(30),e.k0s()(),e.j41(31,"li"),e.EFF(32,"Vol: "),e.j41(33,"strong"),e.EFF(34),e.k0s()(),e.j41(35,"li"),e.EFF(36,"Pertes indirectes: "),e.j41(37,"strong"),e.EFF(38),e.k0s()(),e.j41(39,"li"),e.EFF(40,"Protection Juridique: "),e.j41(41,"strong"),e.EFF(42),e.k0s()(),e.j41(43,"li"),e.EFF(44,"Assistance: "),e.j41(45,"strong"),e.EFF(46),e.k0s()()()()()()),2&c){const s=T.ngIf,f=e.XpG();e.R7$(11),e.Y8G("ngClass",f.getStatutClass(s.statut)),e.R7$(),e.JRh(s.statut),e.R7$(4),e.SpI(" ",e.i5U(17,9,s.dateEffet,"dd/MM/yyyy"),""),e.R7$(5),e.SpI(" ",f.getCompanyName(s.insuranceCompany),""),e.R7$(9),e.JRh(s.contenu?"Oui":"Non"),e.R7$(4),e.JRh(s.vol?"Oui":"Non"),e.R7$(4),e.JRh(s.pertesIndirectes?"Oui":"Non"),e.R7$(4),e.JRh(s.protectionJuridique?"Oui":"Non"),e.R7$(4),e.JRh(s.assistance?"Oui":"Non")}}let tu=(()=>{class c{formValue;insuranceCompanies=[];getCompanyName(s){return Ka(s,this.insuranceCompanies)}getStatutClass(s){return Qa(s)}static \u0275fac=function(f){return new(f||c)};static \u0275cmp=e.VBU({type:c,selectors:[["app-habitation-details"]],inputs:{formValue:"formValue",insuranceCompanies:"insuranceCompanies"},standalone:!0,features:[e.aNF],decls:5,vars:4,consts:[[1,"min-w-full","divide-y","divide-gray-200"],["class","bg-white divide-y divide-gray-200",4,"ngIf"],["class","bg-white divide-y divide-gray-200 border-t-8 border-gray-50",4,"ngIf"],[1,"bg-white","divide-y","divide-gray-200"],[1,"bg-gray-100"],["colspan","2",1,"px-6","py-3","text-left","text-xs","font-bold","text-gray-500","uppercase","tracking-wider"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-700","bg-gray-50","w-1/3"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-700","bg-gray-50"],[1,"font-medium"],[1,"bg-white","divide-y","divide-gray-200","border-t-8","border-gray-50"],[4,"ngIf"],[1,"px-2.5","py-0.5","rounded-full","text-xs","font-medium",3,"ngClass"],[1,"px-6","py-4","text-sm","text-gray-900"],[1,"list-disc","list-inside"]],template:function(f,u){1&f&&(e.j41(0,"table",0),e.DNE(1,gf,50,23,"tbody",1)(2,eu,17,6,"tbody",2)(3,pc,31,7,"tbody",2)(4,En,47,12,"tbody",2),e.k0s()),2&f&&(e.R7$(),e.Y8G("ngIf",null==u.formValue?null:u.formValue.preneurAssurance),e.R7$(),e.Y8G("ngIf",null==u.formValue?null:u.formValue.batiment),e.R7$(),e.Y8G("ngIf",null==u.formValue?null:u.formValue.evaluation),e.R7$(),e.Y8G("ngIf",null==u.formValue?null:u.formValue.garantiesHabitation))},dependencies:[A.MD,A.YU,A.bT,A.Pc,A.PV,A.oe,A.vh],encapsulation:2})}return c})();const ls=c=>({"border-red-500 ring-red-500":c});function Io(c,T){if(1&c){const s=e.RV6();e.j41(0,"div",17)(1,"button",18),e.bIt("click",function(){const u=e.eBV(s).index,O=e.XpG();return e.Njj(O.removeAssure(u))}),e.qSk(),e.j41(2,"svg",19),e.nrm(3,"path",20),e.k0s()(),e.joV(),e.j41(4,"div",21)(5,"div")(6,"label",22),e.EFF(7,"Nom"),e.k0s(),e.nrm(8,"input",23),e.k0s(),e.j41(9,"div")(10,"label",22),e.EFF(11,"Pr\xe9nom"),e.k0s(),e.nrm(12,"input",24),e.k0s(),e.j41(13,"div")(14,"label",22),e.EFF(15,"Date de naissance"),e.k0s(),e.nrm(16,"input",25),e.k0s(),e.j41(17,"div")(18,"label",22),e.EFF(19,"Capital assur\xe9 (\u20ac)"),e.k0s(),e.nrm(20,"input",26),e.k0s()()()}if(2&c){let s,f,u,O;const ae=T.$implicit,Fe=T.index;e.Y8G("formGroupName",Fe),e.R7$(6),e.Y8G("for","assure-nom-"+Fe),e.R7$(2),e.Y8G("id","assure-nom-"+Fe)("ngClass",e.eq3(13,ls,(null==(s=ae.get("nom"))?null:s.invalid)&&(null==(s=ae.get("nom"))?null:s.touched))),e.R7$(2),e.Y8G("for","assure-prenom-"+Fe),e.R7$(2),e.Y8G("id","assure-prenom-"+Fe)("ngClass",e.eq3(15,ls,(null==(f=ae.get("prenom"))?null:f.invalid)&&(null==(f=ae.get("prenom"))?null:f.touched))),e.R7$(2),e.Y8G("for","assure-dateNaissance-"+Fe),e.R7$(2),e.Y8G("id","assure-dateNaissance-"+Fe)("ngClass",e.eq3(17,ls,(null==(u=ae.get("dateNaissance"))?null:u.invalid)&&(null==(u=ae.get("dateNaissance"))?null:u.touched))),e.R7$(2),e.Y8G("for","assure-capital-"+Fe),e.R7$(2),e.Y8G("id","assure-capital-"+Fe)("ngClass",e.eq3(19,ls,(null==(O=ae.get("capital"))?null:O.invalid)&&(null==(O=ae.get("capital"))?null:O.touched)))}}function _f(c,T){if(1&c&&(e.j41(0,"option",27),e.EFF(1),e.k0s()),2&c){const s=T.$implicit;e.Y8G("value",s.id),e.R7$(),e.JRh(s.nom)}}function va(c,T){if(1&c&&(e.j41(0,"option",27),e.EFF(1),e.k0s()),2&c){const s=T.$implicit;e.Y8G("value",s.statut),e.R7$(),e.JRh(s.statut)}}let Is=(()=>{class c{fb;dbService;platformId;parentForm;statuts$;insuranceCompanies$;obsequesCities$=new ar.t([]);destroy$=new se.B;constructor(s,f,u){this.fb=s,this.dbService=f,this.platformId=u}ngOnInit(){if(this.statuts$=this.dbService.getAllStatuts(),this.insuranceCompanies$=this.dbService.getAllAssureurs(),(0,A.UE)(this.platformId)){const s=this.parentForm.get("preneurObseques");if(!s)return;s.get("postalCode")?.valueChanges.pipe(Xe(300),(0,Ve.F)(),(0,Ye.n)(f=>f&&f.length>=4?this.dbService.getCitiesByPostalCode(f):(0,K.of)([])),(0,Qe.Q)(this.destroy$)).subscribe(f=>{this.obsequesCities$.next(f);const u=s.get("city");u?.setValue(1===f.length?f[0]:null)})}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}get assures(){return this.parentForm.get("assures.assures")}createAssureFormGroup(s={}){return this.fb.group({nom:[s.nom||""],prenom:[s.prenom||""],dateNaissance:[s.dateNaissance||""],capital:[s.capital||0]})}addAssure(){this.assures&&this.assures.push(this.createAssureFormGroup())}removeAssure(s){this.assures&&this.assures.removeAt(s)}static \u0275fac=function(f){return new(f||c)(e.rXU(C.ok),e.rXU(xt.y),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:c,selectors:[["app-obseques-form"]],inputs:{parentForm:"parentForm"},standalone:!0,features:[e.aNF],decls:31,vars:10,consts:[[3,"formGroup"],["formGroupName","assures",1,"mt-6"],[1,"text-lg","font-semibold","text-gray-800","bg-gray-100","-mx-6","px-6","py-2","mb-4","border-y"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-x-6","gap-y-4"],[1,"flex","items-center"],["id","preneurEstAssure","type","checkbox","formControlName","preneurEstAssure",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","preneurEstAssure",1,"ml-2","block","text-sm","text-gray-900"],["formArrayName","assures"],[1,"text-md","font-semibold","text-gray-600"],["class","p-4 border rounded-md mt-2 space-y-3 bg-gray-50 relative",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"mt-4","text-sm","font-medium","text-indigo-600","hover:text-indigo-500",3,"click"],["for","obs-insuranceCompany",1,"block","text-sm","font-medium","text-gray-700"],["id","obs-insuranceCompany","formControlName","insuranceCompany",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["for","obs-statut",1,"block","text-sm","font-medium","text-gray-700"],["id","obs-statut","formControlName","statut",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"p-4","border","rounded-md","mt-2","space-y-3","bg-gray-50","relative",3,"formGroupName"],["type","button",1,"absolute","top-2","right-2","text-red-500","hover:text-red-700",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"block","text-sm","font-medium","text-gray-700",3,"for"],["type","text","formControlName","nom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"id","ngClass"],["type","text","formControlName","prenom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"id","ngClass"],["type","date","formControlName","dateNaissance",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"id","ngClass"],["type","number","formControlName","capital",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"id","ngClass"],[3,"value"]],template:function(f,u){1&f&&(e.j41(0,"div",0)(1,"div",1)(2,"h3",2),e.EFF(3,"Assur\xe9s et contrat"),e.k0s(),e.j41(4,"div",3)(5,"div",4),e.nrm(6,"input",5),e.j41(7,"label",6),e.EFF(8,"Le preneur est aussi l'assur\xe9"),e.k0s()(),e.j41(9,"div",7)(10,"h4",8),e.EFF(11,"Liste des assur\xe9s"),e.k0s(),e.DNE(12,Io,21,21,"div",9),e.j41(13,"button",10),e.bIt("click",function(){return u.addAssure()}),e.EFF(14,"+ Ajouter un assur\xe9"),e.k0s()(),e.j41(15,"div")(16,"label",11),e.EFF(17,"Compagnie"),e.k0s(),e.j41(18,"select",12)(19,"option",13),e.EFF(20,"-- S\xe9lectionner --"),e.k0s(),e.DNE(21,_f,2,2,"option",14),e.nI1(22,"async"),e.k0s()(),e.j41(23,"div")(24,"label",15),e.EFF(25,"Statut"),e.k0s(),e.j41(26,"select",16)(27,"option",13),e.EFF(28,"-- S\xe9lectionner --"),e.k0s(),e.DNE(29,va,2,2,"option",14),e.nI1(30,"async"),e.k0s()()()()()),2&f&&(e.Y8G("formGroup",u.parentForm),e.R7$(12),e.Y8G("ngForOf",u.assures.controls),e.R7$(7),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",e.bMT(22,6,u.insuranceCompanies$)),e.R7$(6),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",e.bMT(30,8,u.statuts$)))},dependencies:[A.MD,A.YU,A.Sq,A.Jj,C.X1,C.xH,C.y7,C.me,C.Q0,C.Zm,C.wz,C.BC,C.cb,C.j4,C.JD,C.$R,C.v8],encapsulation:2})}return c})();function zo(c,T){if(1&c&&(e.j41(0,"tbody",5)(1,"tr",6)(2,"th",7),e.EFF(3,"Preneur d'assurance"),e.k0s()(),e.j41(4,"tr")(5,"td",8),e.EFF(6,"Nom"),e.k0s(),e.j41(7,"td",9),e.EFF(8),e.nI1(9,"uppercase"),e.nI1(10,"titlecase"),e.k0s()(),e.j41(11,"tr")(12,"td",10),e.EFF(13,"Date de naissance"),e.k0s(),e.j41(14,"td",9),e.EFF(15),e.nI1(16,"date"),e.k0s()(),e.j41(17,"tr")(18,"td",10),e.EFF(19,"Contact"),e.k0s(),e.j41(20,"td",9),e.EFF(21),e.k0s()(),e.j41(22,"tr")(23,"td",10),e.EFF(24,"Adresse"),e.k0s(),e.j41(25,"td",9),e.EFF(26),e.k0s()()()),2&c){const s=T.ngIf;e.R7$(8),e.Lme("",e.bMT(9,8,s.lastName)," ",e.bMT(10,10,s.firstName),""),e.R7$(7),e.JRh(e.i5U(16,12,s.dateNaissance,"dd/MM/yyyy")),e.R7$(6),e.Lme("",s.email," | ",s.phone,""),e.R7$(5),e.E5c("",s.address,", ",s.postalCode," ",s.city,"")}}function yf(c,T){if(1&c&&(e.j41(0,"li"),e.EFF(1),e.nI1(2,"titlecase"),e.nI1(3,"uppercase"),e.nI1(4,"date"),e.j41(5,"strong"),e.EFF(6),e.nI1(7,"currency"),e.k0s()()),2&c){const s=T.$implicit;e.R7$(),e.E5c(" ",e.bMT(2,4,s.prenom)," ",e.bMT(3,6,s.nom)," (",e.i5U(4,8,s.dateNaissance,"dd/MM/yyyy"),") - Capital: "),e.R7$(5),e.JRh(e.i5U(7,11,s.capital,"EUR"))}}function nu(c,T){if(1&c&&(e.j41(0,"tr")(1,"td",14),e.EFF(2,"Liste des assur\xe9s"),e.k0s(),e.j41(3,"td",15)(4,"ul",16),e.DNE(5,yf,8,14,"li",17),e.k0s()()()),2&c){const s=e.XpG().ngIf;e.R7$(5),e.Y8G("ngForOf",s.assures)}}function bf(c,T){if(1&c&&(e.j41(0,"tbody",11)(1,"tr",6)(2,"th",7),e.EFF(3,"Assur\xe9s et contrat"),e.k0s()(),e.j41(4,"tr")(5,"td",10),e.EFF(6,"D\xe9tails contrat"),e.k0s(),e.j41(7,"td",9)(8,"p"),e.EFF(9,"Le preneur est assur\xe9: "),e.j41(10,"strong"),e.EFF(11),e.k0s()(),e.j41(12,"p"),e.EFF(13),e.k0s(),e.j41(14,"p"),e.EFF(15,"Statut: "),e.j41(16,"span",12),e.EFF(17),e.k0s()()()(),e.DNE(18,nu,6,1,"tr",13),e.k0s()),2&c){const s=T.ngIf,f=e.XpG(2);e.R7$(11),e.JRh(s.preneurEstAssure?"Oui":"Non"),e.R7$(2),e.SpI("Compagnie: ",f.getCompanyName(s.insuranceCompany)||"Non sp\xe9cifi\xe9e",""),e.R7$(3),e.Y8G("ngClass",f.getStatutClass(s.statut)),e.R7$(),e.JRh(s.statut||"N/A"),e.R7$(),e.Y8G("ngIf",(null==s.assures?null:s.assures.length)>0)}}function ii(c,T){if(1&c&&(e.j41(0,"div")(1,"table",2),e.DNE(2,zo,27,15,"tbody",3)(3,bf,19,5,"tbody",4),e.k0s()()),2&c){const s=e.XpG();e.R7$(2),e.Y8G("ngIf",s.formValue.preneurObseques),e.R7$(),e.Y8G("ngIf",s.formValue.assures)}}function hc(c,T){1&c&&(e.j41(0,"div",18)(1,"p"),e.EFF(2,"Les informations du devis ne sont pas disponibles."),e.k0s()())}let mc=(()=>{class c{formValue;insuranceCompanies=[];getCompanyName(s){return Ka(s,this.insuranceCompanies)}getStatutClass(s){return Qa(s)}static \u0275fac=function(f){return new(f||c)};static \u0275cmp=e.VBU({type:c,selectors:[["app-obseques-details"]],inputs:{formValue:"formValue",insuranceCompanies:"insuranceCompanies"},standalone:!0,features:[e.aNF],decls:3,vars:2,consts:[["noData",""],[4,"ngIf","ngIfElse"],[1,"min-w-full","divide-y","divide-gray-200"],["class","bg-white divide-y divide-gray-200",4,"ngIf"],["class","bg-white divide-y divide-gray-200 border-t-8 border-transparent",4,"ngIf"],[1,"bg-white","divide-y","divide-gray-200"],[1,"bg-gray-50"],["colspan","2",1,"px-6","py-3","text-left","text-xs","font-bold","text-gray-500","uppercase","tracking-wider"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-700","bg-gray-50","w-1/3"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-700","bg-gray-50"],[1,"bg-white","divide-y","divide-gray-200","border-t-8","border-transparent"],[1,"font-medium","px-2.5","py-0.5","rounded-full","text-xs",3,"ngClass"],[4,"ngIf"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-700","bg-gray-50","align-top"],[1,"px-6","py-4","text-sm","text-gray-900"],[1,"list-disc","list-inside","space-y-1"],[4,"ngFor","ngForOf"],[1,"text-center","py-8","text-gray-500"]],template:function(f,u){if(1&f&&e.DNE(0,ii,4,2,"div",1)(1,hc,3,0,"ng-template",null,0,e.C5r),2&f){const O=e.sdS(2);e.Y8G("ngIf",u.formValue)("ngIfElse",O)}},dependencies:[A.MD,A.YU,A.Sq,A.bT,A.Pc,A.PV,A.oe,A.vh],encapsulation:2})}return c})();var gc=D(8264),Ja=D(324),ru=D(4125);const Za=(c,T)=>({"text-green-800":c,"text-red-800":T});function el(c,T){1&c&&(e.qSk(),e.j41(0,"svg",21),e.nrm(1,"path",22),e.k0s())}function ou(c,T){1&c&&(e.qSk(),e.j41(0,"svg",23),e.nrm(1,"path",24),e.k0s())}function Xi(c,T){if(1&c){const s=e.RV6();e.j41(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10),e.DNE(4,el,2,0,"svg",11)(5,ou,2,0,"svg",12),e.k0s(),e.j41(6,"div",13)(7,"p",14),e.EFF(8),e.k0s(),e.j41(9,"p",15),e.EFF(10),e.k0s()(),e.j41(11,"div",16)(12,"button",17),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.hideNotification())}),e.j41(13,"span",18),e.EFF(14,"Fermer"),e.k0s(),e.qSk(),e.j41(15,"svg",19),e.nrm(16,"path",20),e.k0s()()()()()()}if(2&c){const s=e.XpG();e.R7$(4),e.Y8G("ngIf","success"===s.popupType),e.R7$(),e.Y8G("ngIf","error"===s.popupType),e.R7$(2),e.Y8G("ngClass",e.l_i(5,Za,"success"===s.popupType,"error"===s.popupType)),e.R7$(),e.SpI(" ","success"===s.popupType?"Succ\xe8s":"Erreur"," "),e.R7$(2),e.JRh(s.popupMessage)}}function $t(c,T){if(1&c&&e.nrm(0,"app-auto-form",38),2&c){const s=e.XpG(3);e.Y8G("parentForm",s.quoteUpdateForm)("marqueCtrl",s.marqueCtrl)("filteredMarques$",s.filteredMarques$)("isMarqueLoading",s.isMarqueLoading)("isModeleLoading",s.isModeleLoading)("modelesForSelectedMarque",s.modelesForSelectedMarque)("selectMarque",s.selectMarque.bind(s))("preneurCities$",s.preneurCities$)("conducteurCities$",s.conducteurCities$)}}function tl(c,T){if(1&c&&e.nrm(0,"app-habitation-form",39),2&c){const s=e.XpG(3);e.Y8G("parentForm",s.quoteUpdateForm)}}function iu(c,T){if(1&c&&e.nrm(0,"app-obseques-form",39),2&c){const s=e.XpG(3);e.Y8G("parentForm",s.quoteUpdateForm)}}function vc(c,T){if(1&c){const s=e.RV6();e.qex(0),e.j41(1,"div",31)(2,"form",32),e.bIt("ngSubmit",function(){e.eBV(s);const u=e.XpG(2);return e.Njj(u.updateQuoteDetails())}),e.j41(3,"h2",33),e.EFF(4,"Mettre \xe0 jour l'offre"),e.k0s(),e.qex(5,29),e.DNE(6,$t,1,9,"app-auto-form",34)(7,tl,1,1,"app-habitation-form",35)(8,iu,1,1,"app-obseques-form",35),e.bVm(),e.j41(9,"div",36)(10,"button",37),e.EFF(11," Mettre \xe0 jour les informations "),e.k0s()()()(),e.bVm()}if(2&c){const s=e.XpG(2);e.R7$(2),e.Y8G("formGroup",s.quoteUpdateForm),e.R7$(3),e.Y8G("ngSwitch",s.quoteType),e.R7$(),e.Y8G("ngSwitchCase","auto"),e.R7$(),e.Y8G("ngSwitchCase","habitation"),e.R7$(),e.Y8G("ngSwitchCase","obseques"),e.R7$(2),e.Y8G("disabled",s.quoteUpdateForm.invalid||s.quoteUpdateForm.pristine)}}function Em(c,T){if(1&c&&e.nrm(0,"app-auto-details",49),2&c){const s=e.XpG(3);e.Y8G("formValue",s.quoteUpdateForm.value)}}function Ef(c,T){if(1&c&&e.nrm(0,"app-habitation-details",50),2&c){const s=e.XpG(3);e.Y8G("formValue",s.quoteUpdateForm.value)("insuranceCompanies",s.insuranceCompanies)}}function Cf(c,T){if(1&c&&e.nrm(0,"app-obseques-details",50),2&c){const s=e.XpG(3);e.Y8G("formValue",s.quoteUpdateForm.value)("insuranceCompanies",s.insuranceCompanies)}}function wf(c,T){if(1&c){const s=e.RV6();e.qex(0),e.j41(1,"div",40)(2,"div",41)(3,"h2",42),e.EFF(4,"R\xe9sum\xe9 de l'offre (Lecture seule)"),e.k0s(),e.j41(5,"button",43),e.bIt("click",function(){e.eBV(s);const u=e.XpG(2);return e.Njj(u.printQuote())}),e.qSk(),e.j41(6,"svg",44),e.nrm(7,"path",45),e.k0s(),e.EFF(8," Imprimer "),e.k0s()(),e.joV(),e.j41(9,"div",46),e.qex(10,29),e.DNE(11,Em,1,1,"app-auto-details",47)(12,Ef,1,2,"app-habitation-details",48)(13,Cf,1,2,"app-obseques-details",48),e.bVm(),e.k0s()(),e.bVm()}if(2&c){const s=e.XpG(2);e.R7$(10),e.Y8G("ngSwitch",s.quoteType),e.R7$(),e.Y8G("ngSwitchCase","auto"),e.R7$(),e.Y8G("ngSwitchCase","habitation"),e.R7$(),e.Y8G("ngSwitchCase","obseques")}}function _c(c,T){if(1&c){const s=e.RV6();e.j41(0,"div")(1,"h1",25),e.EFF(2),e.nI1(3,"titlecase"),e.k0s(),e.j41(4,"div",26)(5,"nav",27)(6,"button",28),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.activeTab="form")}),e.EFF(7," Formulaire "),e.k0s(),e.j41(8,"button",28),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.activeTab="text")}),e.EFF(9," Fiche "),e.k0s()()(),e.j41(10,"div",29),e.DNE(11,vc,12,6,"ng-container",30)(12,wf,14,4,"ng-container",30),e.k0s()()}if(2&c){const s=e.XpG();e.R7$(2),e.Lme("D\xe9tails de l'offre #",s.quoteId," - ",e.bMT(3,7,s.quoteType),""),e.R7$(4),e.Y8G("ngClass","form"===s.activeTab?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngClass","text"===s.activeTab?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngSwitch",s.activeTab),e.R7$(),e.Y8G("ngSwitchCase","form"),e.R7$(),e.Y8G("ngSwitchCase","text")}}function ks(c,T){1&c&&e.EFF(0,"Chargement des D\xe9tails de l'offre...")}let xf=(()=>{class c{route;dbService;fb;uploaderService;contractService;sendsmsService;platformId;quoteDetails$;quoteDetails;quoteType=null;quoteId=null;activeTab="form";csvData$=(0,K.of)([]);showPopup=!1;popupMessage="";popupType="success";popupTimeout;showMainDriverSection=!1;nationalities$;preneurCities$=new ar.t([]);statuts$;conducteurCities$=new ar.t([]);batimentCities$=new ar.t([]);obsequesCities$=new ar.t([]);marqueCtrl=new C.MJ("");filteredMarques$;isMarqueLoading=!1;isModeleLoading=!1;insuranceCompanies$;insuranceCompanies=[];destroy$=new se.B;modelesForSelectedMarque=[];selectedMarqueId=null;vehicleYears=[];contractForm;quoteUpdateForm;today;constructor(s,f,u,O,ae,Fe,it){this.route=s,this.dbService=f,this.fb=u,this.uploaderService=O,this.contractService=ae,this.sendsmsService=Fe,this.platformId=it;const Ct=new Date,on=Ct.getFullYear(),Xt=("0"+(Ct.getMonth()+1)).slice(-2),Qn=("0"+Ct.getDate()).slice(-2);this.today=`${on}-${Xt}-${Qn}`,this.contractForm=this.fb.group({date_contrat:["",C.k0.required],periodicite:["annuel",C.k0.required],compagnie_id:[null,C.k0.required],rappel:[!1],fichiers_contrat:new C.MJ(null)}),this.quoteUpdateForm=this.fb.group({preneurAssurance:this.fb.group({prenom:[""],nom:[""],date_naissance:[""],email:["",C.k0.email],telephone:[""],address:[""],postalCode:[""],city:[null],driverLicenseNumber:[""],driverLicenseDate:[""],nationalRegistryNumber:["",this.belgianNationalNumberValidator()],idCardNumber:[""],idCardValidityDate:[""],nationality:[""],maritalStatus:[""]}),preneurObseques:this.fb.group({prenom:[""],nom:[""],date_naissance:[""],email:["",C.k0.email],telephone:[""],address:[""],postalCode:[""],city:[null]}),conducteurPrincipal:this.fb.group({prenom:[""],nom:[""],date_naissance:[""],email:["",C.k0.email],telephone:[""],address:[""],postalCode:[""],city:[null],driverLicenseNumber:[""],driverLicenseDate:[""],nationalRegistryNumber:["",this.belgianNationalNumberValidator()],idCardNumber:[""],idCardValidityDate:[""],nationality:[""],maritalStatus:[""]}),vehicule:this.fb.group({make:[""],model:[""],year:[null],licensePlate:[""],power:[null],value:[null],seats:[null],registrationDate:[""]}),garantie:this.fb.group({baseRC:[!1],omniumLevel:[""],driverCoverage:[!1],assistance:[!1],effectiveDate:[""],insuranceCompany:[null],statut:[""]}),garantiesHabitation:this.fb.group({contenu:[!1],vol:[!1],pertesIndirectes:[!1],protectionJuridique:[!1],assistance:[!1],dateEffet:[""],statut:[""],insuranceCompany:[null]}),batiment:this.fb.group({batiment_adresse:[""],batiment_code_postal:[""],batiment_ville:[null],batiment_type_maison:[""]}),evaluation:this.fb.group({typeValeurBatiment:[""],superficie:[null],nombrePieces:[null],loyerMensuel:[null],typeValeurContenu:[""],valeurExpertise:[null],dateExpertise:[""]}),assures:this.fb.group({preneurEstAssure:[!1],assures:this.fb.array([]),statut:[""],insuranceCompany:[null]}),detailsVoyage:this.fb.group({description:[""],statut:[""]}),detailsRCFamiliale:this.fb.group({preneur_nom:[""],preneur_prenom:[""],preneur_genre:[""],preneur_telephone:[""],preneur_email:[""],preneur_adresse:[""],preneur_code_postal:[""],preneur_ville:[""],risque:[""],nationalRegistryNumber:["",this.belgianNationalNumberValidator()],statut:[""],idCardNumber:[""],description:[""]})})}ngOnInit(){for(let f=(new Date).getFullYear();f>=1940;f--)this.vehicleYears.push(f);if(this.quoteUpdateForm.get("preneurAssurance")?.setValidators(this.nationalNumberDateConsistencyValidator()),this.quoteUpdateForm.get("conducteurPrincipal")?.setValidators(this.nationalNumberDateConsistencyValidator()),this.subscribeToInsuranceCompanies(),this.nationalities$=this.dbService.getNationalities(),this.statuts$=this.dbService.getAllStatuts(),(0,A.UE)(this.platformId)){const f=this.quoteUpdateForm.get("preneurAssurance.postalCode");f&&f.valueChanges.pipe(Xe(300),(0,Ve.F)(),(0,Ye.n)(O=>O&&O.length>=4?this.dbService.getCitiesByPostalCode(O):(0,K.of)([]))).subscribe(O=>{this.preneurCities$.next(O);const ae=this.quoteUpdateForm.get("preneurAssurance.city"),Fe=ae?.value;Fe&&!O.includes(Fe)&&ae.reset()});const u=this.quoteUpdateForm.get("preneurObseques.postalCode");u&&u.valueChanges.pipe(Xe(300),(0,Ve.F)(),(0,Ye.n)(O=>O&&O.length>=4?this.dbService.getCitiesByPostalCode(O):(0,K.of)([]))).subscribe(O=>this.obsequesCities$.next(O))}this.filteredMarques$=this.marqueCtrl.valueChanges.pipe((0,J.Z)(""),Xe(300),(0,Ve.F)(),(0,_e.M)(f=>{const u="string"==typeof f?f:f?.nom||"";"string"==typeof f&&(this.quoteUpdateForm.get("vehicule.model")?.setValue(""),this.modelesForSelectedMarque=[],this.selectedMarqueId=null),this.isMarqueLoading=u.length>=2}),(0,Ye.n)(f=>{const u="string"==typeof f?f:f?.nom||"";return u.length>=2?this.dbService.searchMarques(u).pipe((0,Pn.j)(()=>this.isMarqueLoading=!1)):(this.isMarqueLoading=!1,(0,K.of)([]))})),this.marqueCtrl.valueChanges.pipe((0,Qe.Q)(this.destroy$)).subscribe(f=>{this.quoteUpdateForm.get("vehicule.make")?.setValue(f,{emitEvent:!1})}),this.quoteDetails$=this.getQuoteDetailsFromRoute(),this.csvData$=this.route.paramMap.pipe((0,Ye.n)(f=>{const u=f.get("type"),O=Number(f.get("id"));return u&&O?this.dbService.getCsvData(O,u):(0,K.of)([])}))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}patchFormValues(s){const f=this.quoteUpdateForm.get("preneurAssurance.postalCode")?.value;console.warn("[ManagementDetailComponent] patchFormValues - Vehicle brand:",s.vehicule?.marque);const u=this.quoteUpdateForm.get("batiment.codePostal")?.value,O=this.quoteUpdateForm.get("preneurObseques.postalCode")?.value,ae=s.vehicule?.marque,Fe=(0,A.UE)(this.platformId)&&f?this.dbService.getCitiesByPostalCode(f).pipe((0,_e.M)(Xt=>this.preneurCities$.next(Xt))):(0,K.of)(null),it=(0,A.UE)(this.platformId)&&u?this.dbService.getCitiesByPostalCode(u).pipe((0,_e.M)(Xt=>this.batimentCities$.next(Xt))):(0,K.of)([]),Ct=(0,A.UE)(this.platformId)&&O?this.dbService.getCitiesByPostalCode(O).pipe((0,_e.M)(Xt=>this.obsequesCities$.next(Xt))):(0,K.of)(null),on=(0,A.UE)(this.platformId)&&"auto"===this.quoteType&&ae?this.dbService.searchMarques(ae).pipe((0,Ye.n)(Xt=>Xt&&Xt.length>0?(this.selectedMarqueId=Xt[0].marque_id,this.isModeleLoading=!0,this.dbService.searchModeles(this.selectedMarqueId).pipe((0,_e.M)(er=>{this.modelesForSelectedMarque=er,console.warn("[ManagementDetailComponent] patchFormValues - Patching model with value:",s.vehicule.modele),this.quoteUpdateForm.get("vehicule.model")?.patchValue(s.vehicule.modele,{emitEvent:!1})}),(0,Pn.j)(()=>this.isModeleLoading=!1))):(0,K.of)(null))):(0,K.of)(null);return(0,K.of)(s).pipe((0,Ye.n)(()=>Promise.all([Fe,it,Ct,on])))}_patchCommonPreneur(s,f){const u=s.preneur||s;u&&(console.warn("[ManagementDetailComponent] Patching preneur form with date_naissance:",u.date_naissance),this.quoteUpdateForm.get("preneurAssurance")?.patchValue({prenom:u.prenom,nom:u.nom,date_naissance:f(u.date_naissance),email:u.email,telephone:u.telephone,address:u.adresse,postalCode:u.code_postal,city:u.ville,driverLicenseNumber:u.permis_numero,driverLicenseDate:f(u.permis_date),nationalRegistryNumber:u.numero_national,idCardNumber:u.idcard_number,idCardValidityDate:f(u.idcard_validity),nationality:u.nationality,maritalStatus:u.marital_status_id}))}_patchAuto(s,f){this._patchCommonPreneur(s,f),this.showMainDriverSection=s.preneur_id!==s.conducteur_id,this.showMainDriverSection&&s.conducteur&&this.quoteUpdateForm.get("conducteurPrincipal")?.patchValue({firstName:s.conducteur.prenom,lastName:s.conducteur.nom,date_naissance:f(s.conducteur.date_naissance),email:s.conducteur.email,telephone:s.conducteur.telephone,address:s.conducteur.adresse,postalCode:s.conducteur.code_postal,city:s.conducteur.ville,driverLicenseNumber:s.conducteur.permis_numero,driverLicenseDate:f(s.conducteur.permis_date),nationalRegistryNumber:s.conducteur.numero_national,idCardNumber:s.conducteur.idcard_number,idCardValidityDate:f(s.conducteur.idcard_validity),nationality:s.conducteur.nationality,maritalStatus:s.conducteur.marital_status_id}),s.vehicule&&(console.warn("[ManagementDetailComponent] Patching vehicle form with:",s),console.warn("[ManagementDetailComponent] Patching vehicle form with:",s.vehicule),this.quoteUpdateForm.get("vehicule")?.patchValue({make:s.vehicule.marque,model:s.vehicule.modele,year:s.vehicule.annee,licensePlate:s.vehicule.plaque,power:s.vehicule.puissance_kw,value:s.vehicule.valeur,seats:s.vehicule.places,registrationDate:f(s.vehicule.date_circulation)}),this.marqueCtrl.setValue(s.vehicule.marque||"",{emitEvent:!1})),this.quoteUpdateForm.get("garantie")?.patchValue({baseRC:s.garantie_base_rc,omniumLevel:s.garantie_omnium_niveau,driverCoverage:s.garantie_conducteur,assistance:s.garantie_assistance,effectiveDate:f(s.date_effet),insuranceCompany:s.compagnie_id,statut:s.statut})}_patchHabitation(s,f){this._patchCommonPreneur(s,f),this.quoteUpdateForm.get("batiment")?.patchValue({batiment_adresse:s.batiment_adresse,batiment_code_postal:s.batiment_code_postal,batiment_ville:s.batiment_ville,batiment_type_maison:s.batiment_type_maison}),this.quoteUpdateForm.get("evaluation")?.patchValue({typeValeurBatiment:s.evaluation_type_valeur_batiment,superficie:s.evaluation_superficie,nombrePieces:s.evaluation_nombre_pieces,loyerMensuel:s.evaluation_loyer_mensuel,typeValeurContenu:s.evaluation_type_valeur_contenu,valeurExpertise:s.evaluation_valeur_expertise,dateExpertise:f(s.evaluation_date_expertise)}),this.quoteUpdateForm.get("garantiesHabitation")?.patchValue({contenu:s.garantie_contenu,vol:s.garantie_vol,pertesIndirectes:s.garantie_pertes_indirectes,protectionJuridique:s.garantie_protection_juridique,assistance:s.garantie_assistance,dateEffet:f(s.date_effet),statut:s.statut,insuranceCompany:s.compagnie_id})}_patchObseques(s,f){const u=s.preneur||s;this.quoteUpdateForm.get("preneurObseques")?.patchValue({prenom:u.prenom,nom:u.nom,dateNaissance:f(u.date_naissance),email:u.email,phone:u.telephone,address:u.adresse,postalCode:u.code_postal,city:u.ville}),this.quoteUpdateForm.get("assures.preneurEstAssure")?.setValue(s.preneur_est_assure),this.quoteUpdateForm.get("assures.statut")?.setValue(s.statut),this.quoteUpdateForm.get("assures.insuranceCompany")?.setValue(s.compagnie_id);const O=s.assures||[],ae=this.quoteUpdateForm.get("assures.assures");ae.clear(),O.forEach(Fe=>{ae.push(this.fb.group({nom:[Fe.nom],prenom:[Fe.prenom],dateNaissance:[f(Fe.dateNaissance)],capital:[Fe.capital]}))})}getQuoteDetailsFromRoute(){return this.route.paramMap.pipe((0,Ye.n)(s=>(this.quoteType=s.get("type"),this.quoteId=Number(s.get("id")),this.quoteType&&this.quoteId?this.dbService.getQuoteDetails(this.quoteType,this.quoteId):(console.warn("[ManagementDetailComponent] Missing quote type or ID in route parameters."),(0,K.of)(null)))),(0,Ye.n)(s=>{if(s){this.quoteDetails=s,console.warn("[ManagementDetailComponent] Received details from DB:",JSON.parse(JSON.stringify(s)));const f=u=>u?this.formatDateForInput(u):null;switch(this.quoteType){case"auto":this._patchAuto(s,f);break;case"habitation":this._patchHabitation(s,f);break;case"obseques":this._patchObseques(s,f);break;case"voyage":this.quoteUpdateForm.get("detailsVoyage")?.patchValue({description:s.description,statut:s.statut});break;case"rc":this._patchCommonPreneur(s,f),this.quoteUpdateForm.get("detailsRCFamiliale")?.patchValue({...s,nationalRegistryNumber:s.numero_national})}return"habitation"===this.quoteType&&s.batiment_code_postal&&this.dbService.getCitiesByPostalCode(s.batiment_code_postal).subscribe(u=>{this.batimentCities$.next(u),this.quoteUpdateForm.get("batiment.batiment_ville")?.patchValue(s.batiment_ville)}),this.patchFormValues(s).pipe((0,he.T)(()=>s))}return(0,K.of)(null)}),(0,Q.W)(s=>(console.error("Erreur lors de la r\xe9cup\xe9ration des d\xe9tails du devis:",s),(0,K.of)(null))))}selectMarque(s){this.selectedMarqueId=s.marque_id,this.quoteUpdateForm.get("vehicule.make")?.setValue(s.nom,{emitEvent:!1}),this.marqueCtrl.setValue(s.nom),this.quoteUpdateForm.get("vehicule.model")?.reset(""),this.modelesForSelectedMarque=[],this.isModeleLoading=!0,null!==this.selectedMarqueId&&this.dbService.searchModeles(this.selectedMarqueId).pipe((0,Pn.j)(()=>this.isModeleLoading=!1)).subscribe(f=>{this.modelesForSelectedMarque=f}),this.filteredMarques$=(0,K.of)([])}formatAsTitle(s){if(!s)return"";const f=s.replace(/([A-Z])/g," $1");return f.charAt(0).toUpperCase()+f.slice(1)}formatDateForInput(s){return new Date(s).toISOString().split("T")[0]}onFileSelected(s){const f=s.target,u=f.files?Array.from(f.files):null;this.contractForm.patchValue({fichiers_contrat:u})}saveContract(){if(this.contractForm.invalid)return void console.log("Le formulaire est invalide.");if(!this.quoteId||!this.quoteType)return void console.error("L'ID ou le type de devis est manquant, impossible de sauvegarder le contrat.");const s=this.contractForm.value,f=s.fichiers_contrat;let u=[];if(f&&f.length>0){const ae=new Date,Fe=`${ae.getFullYear()}${(ae.getMonth()+1).toString().padStart(2,"0")}${ae.getDate().toString().padStart(2,"0")}`,it=`${this.quoteId}_${this.quoteType}_${Fe}`;u=f.map((Ct,on)=>{const Xt=Ct.name.split(".").pop();return new File([Ct],`${it}_${on+1}.${Xt}`,{type:Ct.type})})}(u.length>0?this.uploaderService.uploadContractFiles(u,this.quoteId,this.quoteType).pipe(function Xa(){return(0,Pe.N)((c,T)=>{(function Ya(c,T){return(0,Pe.N)((0,qs.S)(c,T,arguments.length>=2,!1,!0))})(dc,[])(c).subscribe(T)})}()):(0,K.of)([])).pipe((0,he.T)(ae=>ae.filter(Fe=>!!Fe&&"success"===Fe.status).map(Fe=>Fe.path)),(0,Ye.n)(ae=>{console.log("Fichiers t\xe9l\xe9vers\xe9s avec succ\xe8s:",ae);const Fe={quote_id:this.quoteId,quote_type:this.quoteType,compagnie_id:s.compagnie_id,date_contrat:s.date_contrat,periodicite:s.periodicite,rappel:s.rappel,document_paths:ae,uid:crypto.randomUUID()};return console.log("Donn\xe9es du contrat \xe0 sauvegarder:",Fe),this.contractService.saveContractData(Fe)}),(0,Q.W)(ae=>(console.error("Une erreur est survenue lors du t\xe9l\xe9versement ou de la sauvegarde:",ae),(0,K.of)({success:!1,error:ae})))).subscribe(ae=>{ae&&!ae.error?console.log("Contrat enregistr\xe9 avec succ\xe8s !"):console.error("\xc9chec de l'enregistrement du contrat.",ae?.error)})}printQuote(){const s=document.getElementById("printable-section");if(s){const f=window.open("","","left=0,top=0,width=900,height=900,toolbar=0,scrollbars=0,status=0");f&&(f.document.write("<html><head><title>Imprimer</title>\n          <style>\n            body { font-family: sans-serif; }\n            table { width: 100%; border-collapse: collapse; }\n            th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }\n            th { background-color: #f2f2f2; }\n            .bg-gray-100 { background-color: #f3f4f6; }\n            .font-bold { font-weight: 700; }\n            .uppercase { text-transform: uppercase; }\n          </style>\n        </head><body>"+s.innerHTML+"</body></html>"),f.document.close(),f.focus(),f.print(),f.close())}}updateQuoteDetails(){if(!this.quoteUpdateForm.valid)return console.error("Le formulaire de mise \xe0 jour est invalide."),void this.quoteUpdateForm.markAllAsTouched();const s=this.quoteUpdateForm.value;console.warn("[ManagementDetailComponent] Form value on update:",s);const f=s.garantie?.statut,u=this.quoteDetails?.statut,O=s.preneurAssurance?.phone;if("auto"===this.quoteType&&"Nouveau"===f&&"Nouveau"!==u&&O){const ae="AssurKin: Un nouveau document relatif \xe0 l'assurance automobile est disponible dans votre espace";console.log(`Envoi du SMS au ${O}`),this.sendsmsService.sendSms(O,ae).then(()=>console.log("SMS envoy\xe9 avec succ\xe8s.")).catch(Fe=>console.error("Erreur lors de l'envoi du SMS:",Fe))}if("auto"===this.quoteType){console.warn("[ManagementDetailComponent] Preneur data sent to payload:",s.preneurAssurance);const ae={p_preneur:s.preneurAssurance,p_vehicule:s.vehicule,p_devis:{garantie_base_rc:s.garantie?.baseRC??!1,garantie_omnium_niveau:s.garantie?.omniumLevel??"",garantie_conducteur:s.garantie?.driverCoverage??!1,garantie_assistance:s.garantie?.assistance??!1,date_effet:s.garantie?.effectiveDate?this.formatDateForInput(s.garantie.effectiveDate):"",compagnie_id:s.garantie?.insuranceCompany,statut:s.garantie?.statut}};this.showMainDriverSection&&(ae.p_conducteur=s.conducteurPrincipal),this.executeUpdate(this.dbService.updateAutoQuote(this.quoteId,ae))}else if("obseques"===this.quoteType){const ae=this.quoteUpdateForm.get("assures.assures").value.map(it=>({...it,dateNaissance:it.dateNaissance?this.formatDateForInput(it.dateNaissance):null})),Fe={preneur:{...s.preneurObseques,date_naissance:s.preneurObseques?.date_naissance?this.formatDateForInput(s.preneurObseques.date_naissance):null},devis:{preneur_est_assure:s.assures?.preneurEstAssure,assures:ae,nombre_assures:ae.length,statut:s.assures?.statut,compagnie_id:s.assures?.insuranceCompany}};this.executeUpdate(this.dbService.updateObsequesQuote(this.quoteId,Fe))}else if("habitation"===this.quoteType){const ae={p_preneur:s.preneurAssurance,p_devis:{batiment_adresse:s.batiment?.batiment_adresse,batiment_code_postal:s.batiment?.batiment_code_postal,batiment_ville:s.batiment?.batiment_ville,batiment_type_maison:s.batiment?.batiment_type_maison,evaluation_type_valeur_batiment:s.evaluation?.typeValeurBatiment,evaluation_superficie:s.evaluation?.superficie,evaluation_nombre_pieces:s.evaluation?.nombrePieces,evaluation_loyer_mensuel:s.evaluation?.loyerMensuel,evaluation_type_valeur_contenu:s.evaluation?.typeValeurContenu,evaluation_valeur_expertise:s.evaluation?.valeurExpertise,evaluation_date_expertise:s.evaluation?.dateExpertise?this.formatDateForInput(s.evaluation.dateExpertise):null,evaluation_valeur_libre_contenu:s.evaluation?.evaluation_valeur_libre_contenu,garantie_contenu:s.garantiesHabitation?.contenu,garantie_vol:s.garantiesHabitation?.vol,garantie_pertes_indirectes:s.garantiesHabitation?.pertesIndirectes,garantie_protection_juridique:s.garantiesHabitation?.protectionJuridique,garantie_assistance:s.garantiesHabitation?.assistance,date_effet:s.garantiesHabitation?.dateEffet?this.formatDateForInput(s.garantiesHabitation.dateEffet):null,statut:s.garantiesHabitation?.statut,compagnie_id:s.garantiesHabitation?.insuranceCompany}};this.executeUpdate(this.dbService.updateHabitationQuote(this.quoteId,ae))}else console.warn(`[ManagementDetailComponent] La mise \xe0 jour pour le type de devis '${this.quoteType}' n'est pas encore impl\xe9ment\xe9e.`)}showNotification(s,f){this.popupMessage=s,this.popupType=f,this.showPopup=!0,this.popupTimeout&&clearTimeout(this.popupTimeout),this.popupTimeout=setTimeout(()=>{this.hideNotification()},5e3)}hideNotification(){this.showPopup=!1,this.popupTimeout&&clearTimeout(this.popupTimeout)}executeUpdate(s){console.log("Envoi des donn\xe9es de mise \xe0 jour..."),s.pipe((0,Q.W)(f=>(console.error("Erreur lors de la mise \xe0 jour du devis:",f),this.showNotification("Erreur lors de la mise \xe0 jour du devis.","error"),(0,K.of)({success:!1,error:f})))).subscribe(f=>{f&&f.success?(console.log("Devis mis \xe0 jour avec succ\xe8s !",f),this.quoteUpdateForm.markAsPristine(),this.showNotification("Devis mis \xe0 jour avec succ\xe8s !","success")):(console.warn("[ManagementDetailComponent] Update failed. Response:",f),this.showNotification("La mise \xe0 jour du devis a \xe9chou\xe9. "+(f?.error?.message||""),"error"))})}nationalNumberDateConsistencyValidator(){return s=>{const f=s.get("dateNaissance"),u=s.get("nationalRegistryNumber");if(!f?.value||!u?.value||u.invalid){if(u?.hasError("dateMismatch")){const er={...u.errors};delete er.dateMismatch,u.setErrors(Object.keys(er).length>0?er:null)}return null}const O=new Date(f.value),ae=u.value.replace(/\D/g,""),Fe=parseInt(ae.substring(0,2),10),it=parseInt(ae.substring(2,4),10),Ct=parseInt(ae.substring(4,6),10),Xt=100*Math.floor(O.getFullYear()/100)+Fe,Qn=new Date(Xt,it-1,Ct);return O.setHours(0,0,0,0),Qn.setHours(0,0,0,0),O.getTime()!==Qn.getTime()?(u.setErrors({...u.errors,dateMismatch:!0}),{dateMismatch:!0}):null}}belgianNationalNumberValidator(){return s=>{if(!s.value)return null;const f=s.value.replace(/\D/g,"");if(11!==f.length)return{invalidFormat:!0};const u=parseInt(f.substring(0,2),10),O=parseInt(f.substring(2,4),10),ae=parseInt(f.substring(4,6),10),Fe=f.substring(0,9),it=parseInt(f.substring(9,11),10),Ct=new Date(1900+u,O-1,ae),on=new Date(2e3+u,O-1,ae),Xt=Ct.getFullYear()===1900+u&&Ct.getMonth()===O-1&&Ct.getDate()===ae,Qn=on.getFullYear()===2e3+u&&on.getMonth()===O-1&&on.getDate()===ae;if(!Xt&&!Qn)return{invalidDate:!0};const Ut=97-parseInt(Fe,10)%97,Li=97-parseInt("2"+Fe,10)%97;return it!==Ut&&it!==Li?{invalidChecksum:!0}:null}}subscribeToInsuranceCompanies(){this.insuranceCompanies$=this.dbService.getAllAssureurs(),this.insuranceCompanies$.pipe((0,Qe.Q)(this.destroy$)).subscribe(s=>{s&&(this.insuranceCompanies=s)})}getCompanyName=Ka;getStatutClass=Qa;getObjectKeys(s){return s?Object.keys(s):[]}static \u0275fac=function(f){return new(f||c)(e.rXU(le.nX),e.rXU(xt.y),e.rXU(C.ok),e.rXU(gc.U),e.rXU(Ja.y),e.rXU(ru.T),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:c,selectors:[["app-management-detail"]],standalone:!0,features:[e.aNF],decls:10,vars:5,consts:[["loadingTpl",""],["class","fixed top-5 right-5 max-w-sm w-full bg-white shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden z-50",4,"ngIf"],[1,"container","mx-auto","p-4"],["routerLink","/management",1,"inline-flex","items-center","text-indigo-600","hover:text-indigo-800","mb-4","group"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","mr-2","transition-transform","group-hover:-translate-x-1"],["fill-rule","evenodd","d","M9.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L7.414 9H15a1 1 0 110 2H7.414l2.293 2.293a1 1 0 010 1.414z","clip-rule","evenodd"],[4,"ngIf","ngIfElse"],[1,"fixed","top-5","right-5","max-w-sm","w-full","bg-white","shadow-lg","rounded-lg","pointer-events-auto","ring-1","ring-black","ring-opacity-5","overflow-hidden","z-50"],[1,"p-4"],[1,"flex","items-start"],[1,"flex-shrink-0"],["class","h-6 w-6 text-green-400","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","aria-hidden","true",4,"ngIf"],["class","h-6 w-6 text-red-400","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","aria-hidden","true",4,"ngIf"],[1,"ml-3","w-0","flex-1","pt-0.5"],[1,"text-sm","font-medium","text-gray-900",3,"ngClass"],[1,"mt-1","text-sm","text-gray-500"],[1,"ml-4","flex-shrink-0","flex"],[1,"bg-white","rounded-md","inline-flex","text-gray-400","hover:text-gray-500","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],[1,"sr-only"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5"],["fill-rule","evenodd","d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule","evenodd"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","aria-hidden","true",1,"h-6","w-6","text-green-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","aria-hidden","true",1,"h-6","w-6","text-red-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-2xl","font-bold","mb-4"],[1,"mb-6","border-b","border-gray-200"],["aria-label","Tabs",1,"-mb-px","flex","space-x-6"],[1,"whitespace-nowrap","py-4","px-1","border-b-2","font-medium","text-sm",3,"click","ngClass"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"bg-white","shadow-md","rounded-lg","p-6"],[1,"space-y-6","max-w-4xl","mx-auto",3,"ngSubmit","formGroup"],[1,"text-xl","font-semibold","border-b","pb-2"],[3,"parentForm","marqueCtrl","filteredMarques$","isMarqueLoading","isModeleLoading","modelesForSelectedMarque","selectMarque","preneurCities$","conducteurCities$",4,"ngSwitchCase"],[3,"parentForm",4,"ngSwitchCase"],[1,"pt-4"],["type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-blue-600","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","disabled:bg-gray-400",3,"disabled"],[3,"parentForm","marqueCtrl","filteredMarques$","isMarqueLoading","isModeleLoading","modelesForSelectedMarque","selectMarque","preneurCities$","conducteurCities$"],[3,"parentForm"],[1,"bg-white","shadow-md","rounded-lg","overflow-hidden"],[1,"px-6","py-4","border-b","border-gray-200","flex","justify-between","items-center"],[1,"text-xl","font-semibold","text-gray-800"],[1,"inline-flex","items-center","px-3","py-1.5","border","border-transparent","text-sm","leading-5","font-medium","rounded-md","text-white","bg-indigo-600","hover:bg-indigo-500","focus:outline-none","focus:border-indigo-700","focus:ring-indigo","active:bg-indigo-700","transition","ease-in-out","duration-150",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","mr-2"],["fill-rule","evenodd","d","M5 4v3H4a2 2 0 00-2 2v6a2 2 0 002 2h12a2 2 0 002-2V9a2 2 0 00-2-2h-1V4a2 2 0 00-2-2H7a2 2 0 00-2 2zm8 0H7v3h6V4zm-2 5a1 1 0 00-1 1v4a1 1 0 102 0v-4a1 1 0 00-1-1z","clip-rule","evenodd"],["id","printable-section",1,"p-4"],[3,"formValue",4,"ngSwitchCase"],[3,"formValue","insuranceCompanies",4,"ngSwitchCase"],[3,"formValue"],[3,"formValue","insuranceCompanies"]],template:function(f,u){if(1&f&&(e.DNE(0,Xi,17,8,"div",1),e.j41(1,"div",2)(2,"a",3),e.qSk(),e.j41(3,"svg",4),e.nrm(4,"path",5),e.k0s(),e.EFF(5," Retour \xe0 la liste "),e.k0s(),e.DNE(6,_c,13,9,"div",6),e.nI1(7,"async"),e.DNE(8,ks,1,0,"ng-template",null,0,e.C5r),e.k0s()),2&f){const O=e.sdS(9);e.Y8G("ngIf",u.showPopup),e.R7$(6),e.Y8G("ngIf",e.bMT(7,3,u.quoteDetails$))("ngIfElse",O)}},dependencies:[A.MD,A.YU,A.bT,A.ux,A.e1,A.Jj,A.PV,C.X1,C.qT,C.cb,C.j4,le.Wk,C.YN,xe,yi,zs,tu,Is,mc],encapsulation:2})}return c})(),Df=(()=>{class c{getWelcomeEmail(s,f,u){return`\n      <div style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; background-color: #f3f4f6; padding: 40px 0;">\n        <div style="max-width: 600px; margin: 0 auto; background-color: #ffffff; border-radius: 8px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); overflow: hidden;">\n          <div style="background-color: #4f46e5; padding: 24px; text-align: center;">\n            <h1 style="color: #ffffff; margin: 0; font-size: 24px; font-weight: bold;">Assurkin Corporate</h1>\n          </div>\n          <div style="padding: 32px;">\n            <h2 style="color: #1f2937; margin-top: 0; font-size: 20px;">Bienvenue ${s} ${f} !</h2>\n            <p style="color: #4b5563; line-height: 1.6; margin-bottom: 16px;">\n              Nous sommes ravis de vous confirmer la cr\xe9ation de votre compte Corporate.\n            </p>\n            <p style="color: #4b5563; line-height: 1.6; margin-bottom: 24px;">\n              Vous pouvez d\xe9sormais vous connecter \xe0 votre espace s\xe9curis\xe9 en utilisant votre adresse email et le mot de passe que vous avez d\xe9fini.\n            </p>\n            \n            <div style="text-align: center; margin: 32px 0;">\n              <a href="${u}" style="background-color: #4f46e5; color: #ffffff; padding: 12px 24px; text-decoration: none; border-radius: 6px; font-weight: bold; display: inline-block;">\n                Acc\xe9der \xe0 mon espace\n              </a>\n            </div>\n            \n            <p style="color: #6b7280; font-size: 14px; margin-top: 32px; border-top: 1px solid #e5e7eb; padding-top: 16px;">\n              Si le bouton ne fonctionne pas, vous pouvez copier et coller ce lien dans votre navigateur :<br>\n              <a href="${u}" style="color: #4f46e5;">${u}</a>\n            </p>\n          </div>\n          <div style="background-color: #f9fafb; padding: 16px; text-align: center; color: #9ca3af; font-size: 12px;">\n            &copy; ${(new Date).getFullYear()} Assurkin. Tous droits r\xe9serv\xe9s.\n          </div>\n        </div>\n      </div>\n    `}getConfirmationEmail(s){return`\n      <div style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; background-color: #f3f4f6; padding: 40px 0;">\n        <div style="max-width: 600px; margin: 0 auto; background-color: #ffffff; border-radius: 8px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); overflow: hidden;">\n          <div style="background-color: #4f46e5; padding: 24px; text-align: center;">\n            <h1 style="color: #ffffff; margin: 0; font-size: 24px; font-weight: bold;">Assurkin</h1>\n          </div>\n          <div style="padding: 32px;">\n            <h2 style="color: #1f2937; margin-top: 0; font-size: 20px;">Bienvenue parmi nous !</h2>\n            <p style="color: #4b5563; line-height: 1.6; margin-bottom: 16px;">\n              Merci pour votre inscription \u{1f60a}\n            </p>\n            <p style="color: #4b5563; line-height: 1.6; margin-bottom: 24px;">\n              Cliquez sur le lien ci-dessous pour confirmer votre adresse e-mail et activer votre compte :\n            </p>\n            \n            <div style="text-align: center; margin: 32px 0;">\n              <a href="${s}" style="background-color: #4f46e5; color: #ffffff; padding: 12px 24px; text-decoration: none; border-radius: 6px; font-weight: bold; display: inline-block;">\n                Confirmer mon adresse e-mail\n              </a>\n            </div>\n            \n            <p style="color: #4b5563; line-height: 1.6; margin-bottom: 24px;">\n              L'\xe9quipe de AssurKin\n            </p>\n            \n            <div style="border-top: 1px solid #e5e7eb; padding-top: 16px; margin-top: 32px;">\n              <p style="color: #9ca3af; font-size: 12px; line-height: 1.5; font-style: italic;">\n                Avertissement :<br>\n                Ce message et ses \xe9ventuelles pi\xe8ces jointes sont destin\xe9s uniquement au(x) destinataire(s) indiqu\xe9(s). S\u2019il vous a \xe9t\xe9 transmis par erreur, veuillez le supprimer imm\xe9diatement et en informer l\u2019exp\xe9diteur. Toute diffusion ou copie non autoris\xe9e est interdite.\n              </p>\n            </div>\n          </div>\n          <div style="background-color: #f9fafb; padding: 16px; text-align: center; color: #9ca3af; font-size: 12px;">\n            &copy; ${(new Date).getFullYear()} Assurkin. Tous droits r\xe9serv\xe9s.\n          </div>\n        </div>\n      </div>\n    `}getPasswordResetEmail(s){return`\n      <div style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; background-color: #f3f4f6; padding: 40px 0;">\n        <div style="max-width: 600px; margin: 0 auto; background-color: #ffffff; border-radius: 8px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); overflow: hidden;">\n          <div style="background-color: #4f46e5; padding: 24px; text-align: center;">\n            <h1 style="color: #ffffff; margin: 0; font-size: 24px; font-weight: bold;">Assurkin</h1>\n          </div>\n          <div style="padding: 32px;">\n            <h2 style="color: #1f2937; margin-top: 0; font-size: 20px;">R\xe9initialisation de mot de passe</h2>\n            <p style="color: #4b5563; line-height: 1.6; margin-bottom: 16px;">\n              Bonjour,\n            </p>\n            <p style="color: #4b5563; line-height: 1.6; margin-bottom: 16px;">\n              Vous avez demand\xe9 \xe0 r\xe9initialiser votre mot de passe pour votre compte Assurkin.\n            </p>\n            <p style="color: #4b5563; line-height: 1.6; margin-bottom: 24px;">\n              Veuillez cliquer sur le lien ci-dessous pour d\xe9finir un nouveau mot de passe :\n            </p>\n            \n            <div style="text-align: center; margin: 32px 0;">\n              <a href="${s}" style="background-color: #4f46e5; color: #ffffff; padding: 12px 24px; text-decoration: none; border-radius: 6px; font-weight: bold; display: inline-block;">\n                R\xe9initialiser mon mot de passe\n              </a>\n            </div>\n            \n            <p style="color: #4b5563; line-height: 1.6; margin-bottom: 24px;">\n              Si vous n'\xeates pas \xe0 l'origine de cette demande, vous pouvez ignorer cet email en toute s\xe9curit\xe9.\n            </p>\n            \n            <div style="border-top: 1px solid #e5e7eb; padding-top: 16px; margin-top: 32px;">\n              <p style="color: #6b7280; font-size: 14px; margin-bottom: 8px;">\n                Si le bouton ne fonctionne pas, copiez et collez ce lien dans votre navigateur :<br>\n                <a href="${s}" style="color: #4f46e5; word-break: break-all;">${s}</a>\n              </p>\n            </div>\n          </div>\n          <div style="background-color: #f9fafb; padding: 16px; text-align: center; color: #9ca3af; font-size: 12px;">\n            &copy; ${(new Date).getFullYear()} Assurkin. Tous droits r\xe9serv\xe9s.\n          </div>\n        </div>\n      </div>\n    `}static \u0275fac=function(f){return new(f||c)};static \u0275prov=e.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();function su(c){return T=>{const s=T.value;if(!s)return null;const f=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return new RegExp(`@${f}$`,"i").test(s)?null:{emailDomain:{requiredDomain:c}}}}const Ff=(c,T)=>({"bg-green-600":c,"bg-red-600":T});function If(c,T){if(1&c){const s=e.RV6();e.j41(0,"div",17)(1,"div",18)(2,"p",19),e.EFF(3),e.k0s(),e.j41(4,"button",20),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.hideNotification())}),e.EFF(5,"\xd7"),e.k0s()()()}if(2&c){const s=e.XpG();e.Y8G("ngClass",e.l_i(2,Ff,"success"===s.popupType,"error"===s.popupType)),e.R7$(3),e.JRh(s.popupMessage)}}function Le(c,T){1&c&&(e.j41(0,"div"),e.EFF(1,"L'adresse e-mail est requise."),e.k0s())}function un(c,T){1&c&&(e.j41(0,"div"),e.EFF(1,"Adresse e-mail invalide."),e.k0s())}function yc(c,T){if(1&c&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&c){const s=e.XpG(3);e.R7$(),e.SpI("Seul le nom de domaine @",s.appDomain," est utilisable.")}}function bc(c,T){if(1&c&&(e.j41(0,"div",28),e.DNE(1,Le,2,0,"div",29)(2,un,2,0,"div",29)(3,yc,2,1,"div",29),e.k0s()),2&c){let s,f,u;const O=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(s=O.loginForm.get("email"))||null==s.errors?null:s.errors.required),e.R7$(),e.Y8G("ngIf",null==(f=O.loginForm.get("email"))||null==f.errors?null:f.errors.email),e.R7$(),e.Y8G("ngIf",null==(u=O.loginForm.get("email"))||null==u.errors?null:u.errors.emailDomain)}}function On(c,T){1&c&&(e.j41(0,"div"),e.EFF(1,"Le mot de passe est requis."),e.k0s())}function Ec(c,T){if(1&c&&(e.j41(0,"div",28),e.DNE(1,On,2,0,"div",29),e.k0s()),2&c){let s;const f=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(s=f.loginForm.get("password"))||null==s.errors?null:s.errors.required)}}function _a(c,T){if(1&c){const s=e.RV6();e.j41(0,"div",21)(1,"h2",8),e.EFF(2,"S'authentifier"),e.k0s(),e.j41(3,"form",9),e.bIt("ngSubmit",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.onLoginSubmit())}),e.j41(4,"div")(5,"label",22),e.EFF(6,"Adresse e-mail"),e.k0s(),e.j41(7,"div",11),e.nrm(8,"input",23),e.DNE(9,bc,4,3,"div",13),e.k0s()(),e.j41(10,"div")(11,"label",24),e.EFF(12,"Mot de passe"),e.k0s(),e.j41(13,"div",11),e.nrm(14,"input",25),e.DNE(15,Ec,2,1,"div",13),e.k0s()(),e.j41(16,"div",26)(17,"div",27)(18,"a",16),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.toggleResetPasswordView(!0))}),e.EFF(19," Mot de passe oubli\xe9 ? "),e.k0s()()(),e.j41(20,"div")(21,"button",14),e.EFF(22," Se connecter "),e.k0s()()()()}if(2&c){let s,f;const u=e.XpG();e.R7$(3),e.Y8G("formGroup",u.loginForm),e.R7$(6),e.Y8G("ngIf",(null==(s=u.loginForm.get("email"))?null:s.invalid)&&((null==(s=u.loginForm.get("email"))?null:s.dirty)||(null==(s=u.loginForm.get("email"))?null:s.touched))),e.R7$(6),e.Y8G("ngIf",(null==(f=u.loginForm.get("password"))?null:f.invalid)&&((null==(f=u.loginForm.get("password"))?null:f.dirty)||(null==(f=u.loginForm.get("password"))?null:f.touched))),e.R7$(6),e.Y8G("disabled",u.loginForm.invalid)}}function Ei(c,T){1&c&&(e.j41(0,"div"),e.EFF(1,"Le nom est requis."),e.k0s())}function au(c,T){if(1&c&&(e.j41(0,"div",28),e.DNE(1,Ei,2,0,"div",29),e.k0s()),2&c){let s;const f=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(s=f.registerForm.get("nom"))||null==s.errors?null:s.errors.required)}}function lu(c,T){1&c&&(e.j41(0,"div"),e.EFF(1,"Le pr\xe9nom est requis."),e.k0s())}function Cc(c,T){if(1&c&&(e.j41(0,"div",28),e.DNE(1,lu,2,0,"div",29),e.k0s()),2&c){let s;const f=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(s=f.registerForm.get("prenom"))||null==s.errors?null:s.errors.required)}}function Cm(c,T){1&c&&(e.j41(0,"div"),e.EFF(1,"La fonction est requise."),e.k0s())}function wm(c,T){if(1&c&&(e.j41(0,"div",28),e.DNE(1,Cm,2,0,"div",29),e.k0s()),2&c){let s;const f=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(s=f.registerForm.get("fonction"))||null==s.errors?null:s.errors.required)}}function wc(c,T){1&c&&(e.j41(0,"div"),e.EFF(1,"L'adresse e-mail est requise."),e.k0s())}function xc(c,T){1&c&&(e.j41(0,"div"),e.EFF(1,"Adresse e-mail invalide."),e.k0s())}function Dc(c,T){if(1&c&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&c){const s=e.XpG(3);e.R7$(),e.SpI("Seul le nom de domaine @",s.appDomain," est utilisable.")}}function ko(c,T){if(1&c&&(e.j41(0,"div",28),e.DNE(1,wc,2,0,"div",29)(2,xc,2,0,"div",29)(3,Dc,2,1,"div",29),e.k0s()),2&c){let s,f,u;const O=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(s=O.registerForm.get("email"))||null==s.errors?null:s.errors.required),e.R7$(),e.Y8G("ngIf",null==(f=O.registerForm.get("email"))||null==f.errors?null:f.errors.email),e.R7$(),e.Y8G("ngIf",null==(u=O.registerForm.get("email"))||null==u.errors?null:u.errors.emailDomain)}}function Ki(c,T){1&c&&(e.j41(0,"div"),e.EFF(1,"Le mot de passe est requis."),e.k0s())}function Fc(c,T){1&c&&(e.j41(0,"div"),e.EFF(1,"Le mot de passe doit contenir au moins 6 caract\xe8res."),e.k0s())}function Ci(c,T){if(1&c&&(e.j41(0,"div",28),e.DNE(1,Ki,2,0,"div",29)(2,Fc,2,0,"div",29),e.k0s()),2&c){let s,f;const u=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(s=u.registerForm.get("password"))||null==s.errors?null:s.errors.required),e.R7$(),e.Y8G("ngIf",null==(f=u.registerForm.get("password"))||null==f.errors?null:f.errors.minlength)}}function Qi(c,T){1&c&&(e.j41(0,"div",28),e.EFF(1," Les mots de passe ne correspondent pas. "),e.k0s())}function kf(c,T){if(1&c){const s=e.RV6();e.j41(0,"div",21)(1,"h2",8),e.EFF(2,"Cr\xe9er un compte"),e.k0s(),e.j41(3,"form",9),e.bIt("ngSubmit",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.onRegisterSubmit())}),e.j41(4,"div",30)(5,"div")(6,"label",31),e.EFF(7,"Nom"),e.k0s(),e.nrm(8,"input",32),e.DNE(9,au,2,1,"div",13),e.k0s(),e.j41(10,"div")(11,"label",33),e.EFF(12,"Pr\xe9nom"),e.k0s(),e.nrm(13,"input",34),e.DNE(14,Cc,2,1,"div",13),e.k0s()(),e.j41(15,"div")(16,"label",35),e.EFF(17,"Fonction"),e.k0s(),e.nrm(18,"input",36),e.DNE(19,wm,2,1,"div",13),e.k0s(),e.j41(20,"div")(21,"label",37),e.EFF(22,"Adresse e-mail"),e.k0s(),e.nrm(23,"input",38),e.DNE(24,ko,4,3,"div",13),e.k0s(),e.j41(25,"div")(26,"label",39),e.EFF(27,"Mot de passe"),e.k0s(),e.nrm(28,"input",40),e.DNE(29,Ci,3,2,"div",13),e.k0s(),e.j41(30,"div")(31,"label",41),e.EFF(32,"Confirmer le mot de passe"),e.k0s(),e.nrm(33,"input",42),e.DNE(34,Qi,2,0,"div",13),e.k0s(),e.j41(35,"div")(36,"button",43),e.EFF(37," Cr\xe9er le compte "),e.k0s()()()()}if(2&c){let s,f,u,O,ae,Fe;const it=e.XpG();e.R7$(3),e.Y8G("formGroup",it.registerForm),e.R7$(6),e.Y8G("ngIf",(null==(s=it.registerForm.get("nom"))?null:s.invalid)&&((null==(s=it.registerForm.get("nom"))?null:s.dirty)||(null==(s=it.registerForm.get("nom"))?null:s.touched))),e.R7$(5),e.Y8G("ngIf",(null==(f=it.registerForm.get("prenom"))?null:f.invalid)&&((null==(f=it.registerForm.get("prenom"))?null:f.dirty)||(null==(f=it.registerForm.get("prenom"))?null:f.touched))),e.R7$(5),e.Y8G("ngIf",(null==(u=it.registerForm.get("fonction"))?null:u.invalid)&&((null==(u=it.registerForm.get("fonction"))?null:u.dirty)||(null==(u=it.registerForm.get("fonction"))?null:u.touched))),e.R7$(5),e.Y8G("ngIf",(null==(O=it.registerForm.get("email"))?null:O.invalid)&&((null==(O=it.registerForm.get("email"))?null:O.dirty)||(null==(O=it.registerForm.get("email"))?null:O.touched))),e.R7$(5),e.Y8G("ngIf",(null==(ae=it.registerForm.get("password"))?null:ae.invalid)&&((null==(ae=it.registerForm.get("password"))?null:ae.dirty)||(null==(ae=it.registerForm.get("password"))?null:ae.touched))),e.R7$(5),e.Y8G("ngIf",(null==it.registerForm.errors?null:it.registerForm.errors.passwordsMismatch)&&((null==(Fe=it.registerForm.get("passwordConfirm"))?null:Fe.dirty)||(null==(Fe=it.registerForm.get("passwordConfirm"))?null:Fe.touched))),e.R7$(2),e.Y8G("disabled",it.registerForm.invalid)}}function Ic(c,T){1&c&&(e.j41(0,"div"),e.EFF(1,"L'adresse e-mail est requise."),e.k0s())}function Mf(c,T){1&c&&(e.j41(0,"div"),e.EFF(1,"Adresse e-mail invalide."),e.k0s())}function Tf(c,T){if(1&c&&(e.j41(0,"div",28),e.DNE(1,Ic,2,0,"div",29)(2,Mf,2,0,"div",29),e.k0s()),2&c){let s,f;const u=e.XpG();e.R7$(),e.Y8G("ngIf",null==(s=u.resetPasswordForm.get("email"))||null==s.errors?null:s.errors.required),e.R7$(),e.Y8G("ngIf",null==(f=u.resetPasswordForm.get("email"))||null==f.errors?null:f.errors.email)}}function uu(c){const T=c.get("password"),s=c.get("passwordConfirm");return T&&s&&T.value!==s.value?{passwordsMismatch:!0}:null}const nl={providers:[(0,le.lh)([{path:"accueil",component:H},{path:"contact",component:lt},{path:"particulier/auto",component:ln},{path:"particulier/habitation",component:Er},{path:"particulier/rc-familale",component:Pr},{path:"particulier/obseques",component:Ko},{path:"particulier/protection-juridique",component:ie},{path:"particulier/annulation-voyage",component:qe},{path:"mentions",component:Dn},{path:"corporate",component:(()=>{class c{registerForm;loginForm;resetPasswordForm;isResettingPassword=!1;activeTab="login";appDomain=jt.c.appDomain;showPopup=!1;popupMessage="";popupType="success";popupTimeout;fb=(0,e.WQX)(C.ok);dbConnectService=(0,e.WQX)(xt.y);authService=(0,e.WQX)(Vn.u);mailService=(0,e.WQX)($e.t);emailTemplateService=(0,e.WQX)(Df);router=(0,e.WQX)(le.Ix);route=(0,e.WQX)(le.nX);constructor(){}ngOnInit(){this.loginForm=this.fb.group({email:["",[C.k0.required,C.k0.email,su(jt.c.appDomain)]],password:["",C.k0.required]}),this.resetPasswordForm=this.fb.group({email:["",[C.k0.required,C.k0.email,su(jt.c.appDomain)]]}),this.registerForm=this.fb.group({nom:["",C.k0.required],prenom:["",C.k0.required],fonction:[""],email:["",[C.k0.required,C.k0.email,su(jt.c.appDomain)]],password:["",[C.k0.required,C.k0.minLength(6)]],passwordConfirm:["",C.k0.required]},{validators:uu}),this.route.queryParams.subscribe(s=>{s.error&&setTimeout(()=>this.showNotification(s.error,"error"),500)})}onLoginSubmit(){this.loginForm.invalid?this.loginForm.markAllAsTouched():this.authService.signIn(this.loginForm.value).subscribe({next:s=>{s.error?this.showNotification(s.error.message,"error"):this.router.navigate(["/management"])},error:s=>{this.showNotification(`Erreur d'authentification: ${s.message}`,"error")}})}onRegisterSubmit(){if(this.registerForm.invalid)return void this.registerForm.markAllAsTouched();const{passwordConfirm:s,...f}=this.registerForm.value;this.dbConnectService.createCorporateAccount(f).subscribe({next:()=>{const u=`${window.location.origin}/corporate`,O=this.emailTemplateService.getWelcomeEmail(f.prenom,f.nom,u);this.mailService.sendEmail({to:f.email,subject:`Bienvenue sur ${jt.c.appName} Corporate`,htmlContent:O}).subscribe({error:ae=>console.error("Erreur lors de l'envoi de l'email de bienvenue:",ae)}),this.showNotification("Compte cr\xe9\xe9 avec succ\xe8s ! Veuillez consulter votre bo\xeete mail pour valider votre compte.","success"),this.registerForm.reset()},error:u=>{let O=`Erreur lors de la cr\xe9ation du compte: ${u.message}`;u.message?.includes("duplicate key value violates unique constraint")?O="Un compte avec cette adresse e-mail existe d\xe9j\xe0.":u.message?.includes("violates domain constraint")&&(O=`Seul le nom de domaine @${this.appDomain} est utilisable.`),this.showNotification(O,"error")}})}onResetPasswordSubmit(){this.resetPasswordForm.invalid?this.resetPasswordForm.markAllAsTouched():this.authService.sendPasswordResetEmail(this.resetPasswordForm.value.email).subscribe({next:({error:f})=>{f?this.showNotification(`Erreur : ${f.message}`,"error"):(this.showNotification("Si un compte existe pour cet e-mail, un lien de r\xe9initialisation a \xe9t\xe9 envoy\xe9.","success"),this.toggleResetPasswordView(!1))},error:f=>{this.showNotification(`Une erreur est survenue : ${f.message}`,"error")}})}toggleResetPasswordView(s){this.isResettingPassword=s}setActiveTab(s){this.activeTab=s}showNotification(s,f){this.popupMessage=s,this.popupType=f,this.showPopup=!0,this.popupTimeout&&clearTimeout(this.popupTimeout),this.popupTimeout=setTimeout(()=>{this.hideNotification()},5e3)}hideNotification(){this.showPopup=!1,this.popupTimeout&&clearTimeout(this.popupTimeout)}static \u0275fac=function(f){return new(f||c)};static \u0275cmp=e.VBU({type:c,selectors:[["app-corporate"]],standalone:!0,features:[e.aNF],decls:27,vars:10,consts:[[1,"bg-gray-50","min-h-screen","py-12","px-4","sm:px-6","lg:px-8"],["class","fixed top-20 right-5 z-50 p-4 rounded-lg shadow-xl text-white max-w-sm",3,"ngClass",4,"ngIf"],[1,"max-w-4xl","mx-auto",3,"hidden"],[1,"bg-white","rounded-t-lg","shadow-sm","border-b","border-gray-200","flex"],[1,"flex-1","py-4","px-1","text-center","border-b-2","font-medium","text-sm","transition-colors","duration-200","focus:outline-none",3,"click","ngClass"],["class","bg-white p-8 rounded-b-lg shadow-md",4,"ngIf"],[1,"max-w-md","mx-auto",3,"hidden"],[1,"bg-white","p-8","rounded-lg","shadow-md"],[1,"text-2xl","font-bold","text-gray-900","mb-6","text-center"],["novalidate","",1,"space-y-6",3,"ngSubmit","formGroup"],["for","reset-email",1,"block","text-sm","font-medium","text-gray-700"],[1,"mt-1"],["id","reset-email","type","email","formControlName","email","autocomplete","email",1,"appearance-none","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","placeholder-gray-400","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["class","text-red-600 text-xs mt-1",4,"ngIf"],["type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"text-sm","text-center"],[1,"font-medium","text-indigo-600","hover:text-indigo-500","cursor-pointer",3,"click"],[1,"fixed","top-20","right-5","z-50","p-4","rounded-lg","shadow-xl","text-white","max-w-sm",3,"ngClass"],[1,"flex","justify-between","items-start"],[1,"flex-grow"],[1,"ml-4","-mt-1","-mr-1","text-2xl","font-semibold","leading-none","hover:text-gray-200",3,"click"],[1,"bg-white","p-8","rounded-b-lg","shadow-md"],["for","login-email",1,"block","text-sm","font-medium","text-gray-700"],["id","login-email","type","email","formControlName","email","autocomplete","email",1,"appearance-none","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","placeholder-gray-400","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["for","login-password",1,"block","text-sm","font-medium","text-gray-700"],["id","login-password","type","password","formControlName","password","autocomplete","current-password",1,"appearance-none","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","placeholder-gray-400","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],[1,"flex","items-center","justify-between"],[1,"text-sm"],[1,"text-red-600","text-xs","mt-1"],[4,"ngIf"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4"],["for","register-nom",1,"block","text-sm","font-medium","text-gray-700"],["id","register-nom","type","text","formControlName","nom",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["for","register-prenom",1,"block","text-sm","font-medium","text-gray-700"],["id","register-prenom","type","text","formControlName","prenom",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["for","register-fonction",1,"block","text-sm","font-medium","text-gray-700"],["id","register-fonction","type","text","formControlName","fonction",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["for","register-email",1,"block","text-sm","font-medium","text-gray-700"],["id","register-email","type","email","formControlName","email",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["for","register-password",1,"block","text-sm","font-medium","text-gray-700"],["id","register-password","type","password","formControlName","password",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["for","register-password-confirm",1,"block","text-sm","font-medium","text-gray-700"],["id","register-password-confirm","type","password","formControlName","passwordConfirm",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-gray-800","hover:bg-gray-900","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-gray-700","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"]],template:function(f,u){if(1&f&&(e.j41(0,"div",0),e.DNE(1,If,6,5,"div",1),e.j41(2,"div",2)(3,"div",3)(4,"button",4),e.bIt("click",function(){return u.setActiveTab("login")}),e.EFF(5," S'authentifier "),e.k0s(),e.j41(6,"button",4),e.bIt("click",function(){return u.setActiveTab("register")}),e.EFF(7," Cr\xe9er un compte "),e.k0s()(),e.DNE(8,_a,23,4,"div",5)(9,kf,38,8,"div",5),e.k0s(),e.j41(10,"div",6)(11,"div",7)(12,"h2",8),e.EFF(13,"R\xe9initialiser le mot de passe"),e.k0s(),e.j41(14,"form",9),e.bIt("ngSubmit",function(){return u.onResetPasswordSubmit()}),e.j41(15,"div")(16,"label",10),e.EFF(17,"Adresse e-mail"),e.k0s(),e.j41(18,"div",11),e.nrm(19,"input",12),e.DNE(20,Tf,3,2,"div",13),e.k0s()(),e.j41(21,"div")(22,"button",14),e.EFF(23," Envoyer le lien de r\xe9initialisation "),e.k0s()(),e.j41(24,"div",15)(25,"a",16),e.bIt("click",function(){return u.toggleResetPasswordView(!1)}),e.EFF(26,"Retour \xe0 la connexion"),e.k0s()()()()()()),2&f){let O;e.R7$(),e.Y8G("ngIf",u.showPopup),e.R7$(),e.Y8G("hidden",u.isResettingPassword),e.R7$(2),e.Y8G("ngClass","login"===u.activeTab?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngClass","register"===u.activeTab?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngIf","login"===u.activeTab),e.R7$(),e.Y8G("ngIf","register"===u.activeTab),e.R7$(),e.Y8G("hidden",!u.isResettingPassword),e.R7$(4),e.Y8G("formGroup",u.resetPasswordForm),e.R7$(6),e.Y8G("ngIf",(null==(O=u.resetPasswordForm.get("email"))?null:O.invalid)&&((null==(O=u.resetPasswordForm.get("email"))?null:O.dirty)||(null==(O=u.resetPasswordForm.get("email"))?null:O.touched))),e.R7$(2),e.Y8G("disabled",u.resetPasswordForm.invalid)}},dependencies:[A.MD,A.YU,A.bT,C.X1,C.qT,C.me,C.BC,C.cb,C.j4,C.JD]})}return c})()},{path:"utilities/paiements",loadComponent:()=>D.e(199).then(D.bind(D,2199)).then(c=>c.PaymentComponent)},{path:"utilities/statistiques",loadComponent:()=>D.e(577).then(D.bind(D,3577)).then(c=>c.StatComponent)},{path:"utilities/prospects",loadComponent:()=>D.e(63).then(D.bind(D,2063)).then(c=>c.RsComponent)},{path:"utilities/parametres",loadComponent:()=>D.e(815).then(D.bind(D,8815)).then(c=>c.ParamsComponent)},{path:"account",component:ci},{path:"login",component:bo},{path:"create-account",component:ho},{path:"lost-password",component:Vs},{path:"reset-password",component:Ri},{path:"update-password",component:ri},{path:"mydata",component:Ba,canActivate:[(c,T)=>{const s=(0,e.WQX)(e.Agw),f=(0,e.WQX)(le.Ix),u=(0,e.WQX)(Vn.u);return!!(0,A.Vy)(s)||u.currentUser$.pipe((0,Ni.p)(O=>void 0!==O),(0,za.s)(1),(0,he.T)(O=>!!O||f.parseUrl("/login")))}]},{path:"createuseraccount",component:P},{path:"assurance_auto/:id",redirectTo:"assurance-details/auto/:id"},{path:"assurance_habitation/:id",redirectTo:"assurance-details/habitation/:id"},{path:"assurance_obseques/:id",redirectTo:"assurance-details/obseques/:id"},{path:"intranet/dashboard",component:gt},{path:"intranet/gestion-auto",component:vr},{path:"management",component:Wa},{path:"management/:type/:id",component:xf},{path:"management/upload/:type/:id/:preneurId",loadComponent:()=>D.e(53).then(D.bind(D,5053)).then(c=>c.UploaderComponent)},{path:"assurance-details/:type/:id",component:Jl.AssurancesDetailsComponent},{path:"messagerie/:type/:id",loadComponent:()=>D.e(659).then(D.bind(D,2659)).then(c=>c.MessagerieComponent)},{path:"management/assurance-details/:type/:id",loadComponent:()=>Promise.resolve().then(D.bind(D,3583)).then(c=>c.AssurancesDetailsComponent)},{path:"",redirectTo:"accueil",pathMatch:"full"},{path:"**",redirectTo:"accueil"}]),(0,L.$R)()]},Sf=["underline"],Mc=["scrollProgressBar"],du=["menuLink"],rl=()=>({exact:!0}),ol=(c,T)=>({"opacity-100 visible":c,"opacity-0 invisible":T}),fu=c=>({"rotate-180":c}),Tc=(c,T)=>({"max-h-[500px] opacity-100":c,"max-h-0 opacity-0":T}),pu=(c,T)=>({"max-h-48 opacity-100":c,"max-h-0 opacity-0":T});function Af(c,T){1&c&&(e.qSk(),e.j41(0,"svg",49),e.nrm(1,"path",50),e.k0s())}function lo(c,T){1&c&&(e.qSk(),e.j41(0,"svg",49),e.nrm(1,"path",51),e.k0s())}function Ms(c,T){if(1&c){const s=e.RV6();e.j41(0,"div",52)(1,"a",53),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.closeMenu())}),e.EFF(2,"Accueil"),e.k0s(),e.j41(3,"a",54),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.closeMenu())}),e.EFF(4,"Mentions l\xe9gales"),e.k0s(),e.j41(5,"div")(6,"button",55),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.particulierSubMenuOpen=!u.particulierSubMenuOpen)}),e.EFF(7," Particulier "),e.qSk(),e.j41(8,"svg",56),e.nrm(9,"path",15),e.k0s()(),e.joV(),e.j41(10,"div",57)(11,"div",58)(12,"a",59),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.closeMenu())}),e.EFF(13,"Auto"),e.k0s(),e.j41(14,"a",60),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.closeMenu())}),e.EFF(15,"Habitation"),e.k0s(),e.j41(16,"a",61),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.closeMenu())}),e.EFF(17,"RC familiale"),e.k0s(),e.j41(18,"a",62),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.closeMenu())}),e.EFF(19,"Annulation-voyage"),e.k0s(),e.j41(20,"a",63),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.closeMenu())}),e.EFF(21,"Protection juridique"),e.k0s(),e.j41(22,"a",64),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.closeMenu())}),e.EFF(23,"Vie et sant\xe9"),e.k0s(),e.j41(24,"a",65),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.closeMenu())}),e.EFF(25,"Obs\xe8ques"),e.k0s(),e.j41(26,"a",66),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.closeMenu())}),e.EFF(27,"Solde restant d\xfb"),e.k0s()()()(),e.j41(28,"div")(29,"button",67),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.professionelSubMenuOpen=!u.professionelSubMenuOpen)}),e.EFF(30," Professionel "),e.qSk(),e.j41(31,"svg",56),e.nrm(32,"path",15),e.k0s()(),e.joV(),e.j41(33,"div",57)(34,"div",58)(35,"a",68),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.closeMenu())}),e.EFF(36,"Auto"),e.k0s(),e.j41(37,"a",69),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.closeMenu())}),e.EFF(38,"Incendie"),e.k0s(),e.j41(39,"a",70),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.closeMenu())}),e.EFF(40,"Responsabilit\xe9 civile"),e.k0s()()()(),e.j41(41,"a",71),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.closeMenu())}),e.EFF(42,"News"),e.k0s(),e.j41(43,"a",72),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.closeMenu())}),e.EFF(44,"Contact"),e.k0s(),e.j41(45,"a",73),e.qSk(),e.j41(46,"svg",74),e.nrm(47,"path",40),e.k0s(),e.EFF(48," +32 (0)2 887 64 35 "),e.k0s(),e.joV(),e.j41(49,"div",75)(50,"a",76),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.closeMenu())}),e.qSk(),e.j41(51,"svg",74),e.nrm(52,"path",43),e.k0s(),e.EFF(53," Hello "),e.k0s(),e.joV(),e.j41(54,"a",77),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.closeMenu())}),e.qSk(),e.j41(55,"svg",74),e.nrm(56,"path",45),e.k0s(),e.EFF(57," Corporate "),e.k0s()()()}if(2&c){const s=e.XpG();e.AVh("opacity-100",s.showMenu)("opacity-0",!s.showMenu),e.R7$(),e.Y8G("routerLinkActiveOptions",e.lJ4(25,rl)),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(5),e.Y8G("ngClass",e.eq3(26,fu,s.particulierSubMenuOpen)),e.R7$(2),e.Y8G("ngClass",e.l_i(28,Tc,s.particulierSubMenuOpen,!s.particulierSubMenuOpen)),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(3),e.BMQ("aria-expanded",s.professionelSubMenuOpen),e.R7$(2),e.Y8G("ngClass",e.eq3(31,fu,s.professionelSubMenuOpen)),e.R7$(2),e.Y8G("ngClass",e.l_i(33,pu,s.professionelSubMenuOpen,!s.professionelSubMenuOpen)),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page")}}let Kn=(()=>{class c{router;cdr;platformId;underlineRef;scrollProgressBarRef;menuLinks;isMenuVisible=!1;showMenu=!1;showParticulierSubMenu=!1;showProfessionelSubMenu=!1;showMentionsLegalesSubMenu=!1;particulierSubMenuOpen=!1;professionelSubMenuOpen=!1;constructor(s,f,u){this.router=s,this.cdr=f,this.platformId=u}ngAfterViewInit(){this.router.events.pipe((0,Ni.p)(s=>s instanceof le.wF)).subscribe(()=>{(0,A.UE)(this.platformId)&&this.moveUnderlineToActiveLink(),this.closeMenu()})}onWindowScroll(){if((0,A.UE)(this.platformId)){const s=document.documentElement,f=document.body;this.scrollProgressBarRef.nativeElement.style.width=(s.scrollTop||f.scrollTop)/((s.scrollHeight||f.scrollHeight)-s.clientHeight)*100+"%"}}toggleMenu(){this.isMenuVisible?this.closeMenu():(this.isMenuVisible=!0,setTimeout(()=>{this.showMenu=!0},10))}closeMenu(){this.isMenuVisible&&(this.showMenu=!1,setTimeout(()=>{this.isMenuVisible=!1},300))}onLinkHover(s){(0,A.UE)(this.platformId)&&this.moveUnderline(s.currentTarget)}onMenuLeave(){(0,A.UE)(this.platformId)&&this.moveUnderlineToActiveLink()}moveUnderlineToActiveLink(){setTimeout(()=>{const s=this.menuLinks.find(f=>f.nativeElement.classList.contains("text-indigo-600"));s&&this.moveUnderline(s.nativeElement),this.cdr.detectChanges()},0)}moveUnderline(s){const f=this.underlineRef.nativeElement;f.style.width=`${s.offsetWidth}px`,f.style.transform=`translateX(${s.offsetLeft}px)`}static \u0275fac=function(f){return new(f||c)(e.rXU(le.Ix),e.rXU(e.gRc),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:c,selectors:[["app-navbar"]],viewQuery:function(f,u){if(1&f&&(e.GBs(Sf,5),e.GBs(Mc,5),e.GBs(du,5,e.aKT)),2&f){let O;e.mGM(O=e.lsd())&&(u.underlineRef=O.first),e.mGM(O=e.lsd())&&(u.scrollProgressBarRef=O.first),e.mGM(O=e.lsd())&&(u.menuLinks=O)}},hostBindings:function(f,u){1&f&&e.bIt("scroll",function(){return u.onWindowScroll()},!1,e.tSv)},standalone:!0,features:[e.aNF],decls:86,vars:35,consts:[["scrollProgressBar",""],["menuContainer",""],["menuLink",""],["underline",""],[1,"bg-white","border-b","border-gray-200","fixed","w-full","z-50","top-0","shadow-sm"],[1,"h-1","bg-indigo-600",2,"width","0%"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","h-16","items-center"],["routerLink","/",1,"text-2xl","font-bold","text-black-600","hover:text-indigo-700"],[1,"hidden","md:flex","flex-grow","items-center","justify-between"],[1,"relative","flex","items-center","space-x-8","ml-10",3,"mouseleave"],["routerLink","/accueil","routerLinkActive","text-indigo-600",1,"text-gray-700","hover:text-indigo-600","transition","h-16","inline-flex","items-center",3,"mouseenter","routerLinkActiveOptions"],[1,"relative",3,"mouseenter","mouseleave"],["routerLinkActive","text-indigo-600","aria-haspopup","true","aria-controls","mentions-legales-submenu",1,"text-gray-700","hover:text-indigo-600","transition","inline-flex","items-center","h-16","cursor-default",3,"mouseenter"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"ml-1","h-5","w-5"],["fill-rule","evenodd","d","M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule","evenodd"],["id","mentions-legales-submenu",1,"absolute","left-0","mt-2","w-56","rounded-md","shadow-lg","bg-white","ring-1","ring-black","ring-opacity-5","transition-all","duration-200","ease-in-out",3,"ngClass"],["routerLink","/mentions","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50",3,"routerLinkActiveOptions"],["routerLinkActive","text-indigo-600","routerLink","/particulier",1,"text-gray-700","hover:text-indigo-600","transition","inline-flex","items-center","h-16",3,"mouseenter"],["routerLink","/particulier",1,"text-gray-700","hover:text-indigo-600","transition","inline-flex","items-center","h-16"],["role","menu",1,"absolute","left-0","mt-2","w-56","rounded-md","shadow-lg","bg-white","ring-1","ring-black","ring-opacity-5","transition-all","duration-200","ease-in-out",3,"ngClass"],["routerLink","/particulier/auto","routerLinkActive","bg-indigo-50","role","menuitem",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/particulier/habitation","routerLinkActive","bg-indigo-50","role","menuitem",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/particulier/rc-familale","routerLinkActive","bg-indigo-50","role","menuitem",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/particulier/annulation-voyage","routerLinkActive","bg-indigo-50","role","menuitem",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/particulier/protection-juridique","routerLinkActive","bg-indigo-50","role","menuitem",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/particulier/vie-sante","routerLinkActive","bg-indigo-50","role","menuitem",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/particulier/obseques","routerLinkActive","bg-indigo-50","role","menuitem",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/particulier/solde-restant-du","routerLinkActive","bg-indigo-50","role","menuitem",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLinkActive","text-indigo-600","routerLink","/professionel",1,"text-gray-700","hover:text-indigo-600","transition","inline-flex","items-center","h-16",3,"mouseenter"],["routerLink","/professionel",1,"text-gray-700","hover:text-indigo-600","transition","inline-flex","items-center","h-16"],["routerLink","/professionel/auto","routerLinkActive","bg-indigo-50","role","menuitem",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/professionel/incendie","routerLinkActive","bg-indigo-50","role","menuitem",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/professionel/responsabilite-civile","routerLinkActive","bg-indigo-50","role","menuitem",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/news","routerLinkActive","text-indigo-600",1,"text-gray-700","hover:text-indigo-600","transition","h-16","inline-flex","items-center",3,"mouseenter"],["routerLink","/contact","routerLinkActive","text-indigo-600",1,"text-gray-700","hover:text-indigo-600","transition","h-16","inline-flex","items-center",3,"mouseenter"],[1,"absolute","bottom-0","h-0.5","bg-indigo-600","transition-all","duration-300","ease-in-out"],[1,"flex","items-center","space-x-4"],["href","tel:+3228876435",1,"inline-flex","items-center","text-gray-700","hover:text-indigo-600","transition"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"h-5","w-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","d","M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z"],[1,"flex","items-center","space-x-2"],["routerLink","/account",1,"inline-flex","items-center","bg-indigo-600","text-white","px-4","py-2","rounded-md","text-sm","font-semibold","hover:bg-indigo-700","transition"],["stroke-linecap","round","stroke-linejoin","round","d","M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"],["routerLink","/corporate",1,"inline-flex","items-center","bg-gray-800","text-white","px-4","py-2","rounded-md","text-sm","font-semibold","hover:bg-gray-900","transition"],["stroke-linecap","round","stroke-linejoin","round","d","M20.25 14.15v4.07a2.25 2.25 0 0 1-2.25 2.25H5.998a2.25 2.25 0 0 1-2.25-2.25v-4.07a2.25 2.25 0 0 1 .52-1.435l3.67-4.112a2.25 2.25 0 0 1 2.816 0l3.67 4.112a2.25 2.25 0 0 1 .52 1.435ZM16.5 8.25V4.5a2.25 2.25 0 0 0-2.25-2.25H9.75A2.25 2.25 0 0 0 7.5 4.5v3.75"],["aria-controls","mobile-menu",1,"md:hidden","text-gray-700","focus:outline-none",3,"click"],["xmlns","http://www.w3.org/2000/svg","class","h-6 w-6","fill","none","viewBox","0 0 24 24","stroke","currentColor",4,"ngIf"],["id","mobile-menu","class","md:hidden bg-white border-t border-gray-200 transition-opacity duration-300 ease-in-out max-h-[calc(100vh-4rem)] overflow-y-auto",3,"opacity-100","opacity-0",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16M4 18h16"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],["id","mobile-menu",1,"md:hidden","bg-white","border-t","border-gray-200","transition-opacity","duration-300","ease-in-out","max-h-[calc(100vh-4rem)]","overflow-y-auto"],["routerLink","/accueil","routerLinkActive","bg-indigo-50 text-indigo-600",1,"block","px-4","py-2","text-gray-700","hover:bg-indigo-50",3,"click","routerLinkActiveOptions"],["routerLink","/mentions","routerLinkActive","bg-indigo-50 text-indigo-600",1,"block","px-4","py-2","text-gray-700","hover:bg-indigo-50",3,"click"],[1,"w-full","text-left","px-4","py-2","text-gray-700","hover:bg-indigo-50","flex","justify-between","items-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","transform",3,"ngClass"],[1,"overflow-hidden","transition-all","duration-300","ease-in-out",3,"ngClass"],[1,"pl-4"],["routerLink","/particulier/auto","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50",3,"click"],["routerLink","/particulier/habitation","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50",3,"click"],["routerLink","/particulier/rc-familiale","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50",3,"click"],["routerLink","/particulier/annulation-voyage","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50",3,"click"],["routerLink","/particulier/protection-juridique","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50",3,"click"],["routerLink","/particulier/vie-sante","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50",3,"click"],["routerLink","/particulier/obseques","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50",3,"click"],["routerLink","/particulier/solde-restant-du","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50",3,"click"],["aria-haspopup","true",1,"w-full","text-left","px-4","py-2","text-gray-700","hover:bg-indigo-50","flex","justify-between","items-center",3,"click"],["routerLink","/professionel/auto","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50",3,"click"],["routerLink","/professionel/incendie","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50",3,"click"],["routerLink","/professionel/responsabilite-civile","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50",3,"click"],["routerLink","/news","routerLinkActive","bg-indigo-50 text-indigo-600",1,"block","px-4","py-2","text-gray-700","hover:bg-indigo-50",3,"click"],["routerLink","/contact","routerLinkActive","bg-indigo-50 text-indigo-600",1,"block","px-4","py-2","text-gray-700","hover:bg-indigo-50",3,"click"],["href","tel:+3228876435",1,"flex","items-center","px-4","py-2","text-gray-700","hover:bg-indigo-50"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"h-5","w-5","mr-3"],[1,"p-2","space-y-2"],["routerLink","/account",1,"flex","items-center","justify-center","bg-indigo-600","text-white","px-4","py-2","rounded-md","text-sm","font-semibold","hover:bg-indigo-700","transition","w-full",3,"click"],["routerLink","/corporate",1,"flex","items-center","justify-center","bg-gray-800","text-white","px-4","py-2","rounded-md","text-sm","font-semibold","hover:bg-gray-900","transition","w-full",3,"click"]],template:function(f,u){if(1&f){const O=e.RV6();e.j41(0,"nav",4),e.nrm(1,"div",5,0),e.j41(3,"div",6)(4,"div",7)(5,"a",8),e.EFF(6," AssurKin "),e.k0s(),e.j41(7,"div",9)(8,"div",10,1),e.bIt("mouseleave",function(){return e.eBV(O),e.Njj(u.onMenuLeave())}),e.j41(10,"a",11,2),e.bIt("mouseenter",function(Fe){return e.eBV(O),e.Njj(u.onLinkHover(Fe))}),e.EFF(12,"Accueil"),e.k0s(),e.j41(13,"div",12),e.bIt("mouseenter",function(){return e.eBV(O),e.Njj(u.showMentionsLegalesSubMenu=!0)})("mouseleave",function(){return e.eBV(O),e.Njj(u.showMentionsLegalesSubMenu=!1)}),e.j41(14,"button",13,2),e.bIt("mouseenter",function(Fe){return e.eBV(O),e.Njj(u.onLinkHover(Fe))}),e.EFF(16," Mentions l\xe9gales "),e.qSk(),e.j41(17,"svg",14),e.nrm(18,"path",15),e.k0s()(),e.joV(),e.j41(19,"div",16)(20,"a",17),e.EFF(21,"Vue d'ensemble"),e.k0s()()(),e.j41(22,"div",12),e.bIt("mouseenter",function(){return e.eBV(O),e.Njj(u.showParticulierSubMenu=!0)})("mouseleave",function(){return e.eBV(O),e.Njj(u.showParticulierSubMenu=!1)}),e.j41(23,"button",18,2),e.bIt("mouseenter",function(Fe){return e.eBV(O),e.Njj(u.onLinkHover(Fe))}),e.j41(25,"a",19),e.EFF(26,"Particulier"),e.k0s(),e.qSk(),e.j41(27,"svg",14),e.nrm(28,"path",15),e.k0s()(),e.joV(),e.j41(29,"div",20)(30,"a",21),e.EFF(31,"Auto"),e.k0s(),e.j41(32,"a",22),e.EFF(33,"Habitation"),e.k0s(),e.j41(34,"a",23),e.EFF(35,"RC familiale"),e.k0s(),e.j41(36,"a",24),e.EFF(37,"Annulation-voyage"),e.k0s(),e.j41(38,"a",25),e.EFF(39,"Protection juridique"),e.k0s(),e.j41(40,"a",26),e.EFF(41,"Vie et sant\xe9"),e.k0s(),e.j41(42,"a",27),e.EFF(43,"Obs\xe8ques"),e.k0s(),e.j41(44,"a",28),e.EFF(45,"Solde restant d\xfb"),e.k0s()()(),e.j41(46,"div",12),e.bIt("mouseenter",function(){return e.eBV(O),e.Njj(u.showProfessionelSubMenu=!0)})("mouseleave",function(){return e.eBV(O),e.Njj(u.showProfessionelSubMenu=!1)}),e.j41(47,"button",29,2),e.bIt("mouseenter",function(Fe){return e.eBV(O),e.Njj(u.onLinkHover(Fe))}),e.j41(49,"a",30),e.EFF(50,"Professionel"),e.k0s(),e.qSk(),e.j41(51,"svg",14),e.nrm(52,"path",15),e.k0s()(),e.joV(),e.j41(53,"div",20)(54,"a",31),e.EFF(55,"Auto"),e.k0s(),e.j41(56,"a",32),e.EFF(57,"Incendie"),e.k0s(),e.j41(58,"a",33),e.EFF(59,"Responsabilit\xe9 civile"),e.k0s()()(),e.j41(60,"a",34,2),e.bIt("mouseenter",function(Fe){return e.eBV(O),e.Njj(u.onLinkHover(Fe))}),e.EFF(62,"News"),e.k0s(),e.j41(63,"a",35,2),e.bIt("mouseenter",function(Fe){return e.eBV(O),e.Njj(u.onLinkHover(Fe))}),e.EFF(65,"Contact"),e.k0s(),e.nrm(66,"div",36,3),e.k0s(),e.j41(68,"div",37)(69,"a",38),e.qSk(),e.j41(70,"svg",39),e.nrm(71,"path",40),e.k0s(),e.EFF(72," +32 (0)2 887 64 35 "),e.k0s(),e.joV(),e.j41(73,"div",41)(74,"a",42),e.qSk(),e.j41(75,"svg",39),e.nrm(76,"path",43),e.k0s(),e.EFF(77," Hello "),e.k0s(),e.joV(),e.j41(78,"a",44),e.qSk(),e.j41(79,"svg",39),e.nrm(80,"path",45),e.k0s(),e.EFF(81," Corporate "),e.k0s()()()(),e.joV(),e.j41(82,"button",46),e.bIt("click",function(){return e.eBV(O),e.Njj(u.toggleMenu())}),e.DNE(83,Af,2,0,"svg",47)(84,lo,2,0,"svg",47),e.k0s()()(),e.DNE(85,Ms,58,36,"div",48),e.k0s()}2&f&&(e.R7$(10),e.Y8G("routerLinkActiveOptions",e.lJ4(24,rl)),e.BMQ("aria-current","page"),e.R7$(4),e.BMQ("aria-expanded",u.showMentionsLegalesSubMenu),e.R7$(5),e.Y8G("ngClass",e.l_i(25,ol,u.showMentionsLegalesSubMenu,!u.showMentionsLegalesSubMenu)),e.R7$(),e.Y8G("routerLinkActiveOptions",e.lJ4(28,rl)),e.R7$(9),e.Y8G("ngClass",e.l_i(29,ol,u.showParticulierSubMenu,!u.showParticulierSubMenu)),e.R7$(),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(9),e.Y8G("ngClass",e.l_i(32,ol,u.showProfessionelSubMenu,!u.showProfessionelSubMenu)),e.R7$(),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(3),e.BMQ("aria-current","page"),e.R7$(19),e.BMQ("aria-expanded",u.isMenuVisible),e.R7$(),e.Y8G("ngIf",!u.isMenuVisible),e.R7$(),e.Y8G("ngIf",u.isMenuVisible),e.R7$(),e.Y8G("ngIf",u.isMenuVisible))},dependencies:[A.MD,A.YU,A.bT,le.Wk,le.wQ],encapsulation:2})}return c})(),Sc=(()=>{class c{scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}static \u0275fac=function(f){return new(f||c)};static \u0275cmp=e.VBU({type:c,selectors:[["app-footer"]],standalone:!0,features:[e.aNF],decls:25,vars:0,consts:[[1,"footer"],[1,"container"],[1,"footer-nav"],["routerLink","/particulier"],["routerLink","/professionnel"],["routerLink","/contact"],[1,"social-icons"],["href","https://facebook.com","target","_blank","aria-label","Facebook"],[1,"fab","fa-facebook-f"],["href","https://instagram.com","target","_blank","aria-label","Instagram"],[1,"fab","fa-instagram"],["href","https://linkedin.com","target","_blank","aria-label","LinkedIn"],[1,"fab","fa-linkedin-in"],["href","https://wa.me/32487757115","target","_blank","aria-label","WhatsApp"],[1,"fab","fa-whatsapp"],["aria-label","Remonter en haut",1,"scroll-to-top",3,"click"],[1,"fas","fa-arrow-up"],[1,"copyright"]],template:function(f,u){1&f&&(e.j41(0,"footer",0)(1,"div",1)(2,"ul",2)(3,"li")(4,"a",3),e.EFF(5,"Particulier"),e.k0s()(),e.j41(6,"li")(7,"a",4),e.EFF(8,"Professionnel"),e.k0s()(),e.j41(9,"li")(10,"a",5),e.EFF(11,"Contact"),e.k0s()()(),e.j41(12,"div",6)(13,"a",7),e.nrm(14,"i",8),e.k0s(),e.j41(15,"a",9),e.nrm(16,"i",10),e.k0s(),e.j41(17,"a",11),e.nrm(18,"i",12),e.k0s(),e.j41(19,"a",13),e.nrm(20,"i",14),e.k0s()(),e.j41(21,"button",15),e.bIt("click",function(){return u.scrollToTop()}),e.nrm(22,"i",16),e.k0s(),e.j41(23,"p",17),e.EFF(24,"\xa9 2024 assurkin. Tous droits r\xe9serv\xe9s."),e.k0s()()())},dependencies:[le.iI,le.Wk],styles:[".footer[_ngcontent-%COMP%]{background-color:#343a40;color:#f8f9fa;padding:2rem 0;margin-top:2rem}.footer[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{text-align:center}.footer-nav[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;justify-content:center;gap:1.5rem;margin-bottom:1rem}.footer-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#f8f9fa;text-decoration:none;transition:color .2s}.footer-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#adb5bd}.social-icons[_ngcontent-%COMP%]{margin:1.5rem 0}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#f8f9fa;font-size:1.5rem;margin:0 .75rem;text-decoration:none;transition:color .2s;display:inline-block;width:40px;height:40px;line-height:40px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#adb5bd}.scroll-to-top[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;background-color:#4f46e5;color:#fff;border:none;border-radius:50%;width:45px;height:45px;cursor:pointer;display:flex;align-items:center;justify-content:center;z-index:1000;transition:background-color .3s ease}.scroll-to-top[_ngcontent-%COMP%]:hover{background-color:#6366f1}"]})}return c})();var Rf=D(7786),Ac=D(8750),Nf=D(1985),Rc=D(1397),Nc=D(7441),wi=D(8071),ji=D(6450);const Pf=["addListener","removeListener"],il=["addEventListener","removeEventListener"],sl=["on","off"];function Ts(c,T,s,f){if((0,wi.T)(s)&&(f=s,s=void 0),f)return Ts(c,T,s).pipe((0,ji.I)(f));const[u,O]=function Of(c){return(0,wi.T)(c.addEventListener)&&(0,wi.T)(c.removeEventListener)}(c)?il.map(ae=>Fe=>c[ae](T,Fe,s)):function Pc(c){return(0,wi.T)(c.addListener)&&(0,wi.T)(c.removeListener)}(c)?Pf.map(al(c,T)):function Oc(c){return(0,wi.T)(c.on)&&(0,wi.T)(c.off)}(c)?sl.map(al(c,T)):[];if(!u&&(0,Nc.X)(c))return(0,Rc.Z)(ae=>Ts(ae,T,s))((0,Ac.Tg)(c));if(!u)throw new TypeError("Invalid event target");return new Nf.c(ae=>{const Fe=(...it)=>ae.next(1<it.length?it:it[0]);return u(Fe),()=>O(Fe)})}function al(c,T){return s=>f=>c[s](T,f)}function Ws(c,T){if(1&c){const s=e.RV6();e.j41(0,"button",7),e.bIt("click",function(){e.eBV(s);const u=e.XpG(2);return e.Njj(u.closeBanner())}),e.nrm(1,"i",8),e.k0s()}}function ya(c,T){if(1&c&&(e.j41(0,"div",1)(1,"div",2)(2,"span",3),e.nrm(3,"i",4),e.k0s(),e.j41(4,"span",5),e.EFF(5),e.k0s(),e.DNE(6,Ws,2,0,"button",6),e.k0s()()),2&c){const s=e.XpG();e.Y8G("ngClass",s.isOnline?"bg-green-600":"bg-red-600"),e.R7$(3),e.Y8G("ngClass",s.isOnline?"fa-wifi":"fa-exclamation-triangle"),e.R7$(2),e.SpI(" ",s.isOnline?"La connexion internet est r\xe9tablie.":"Vous \xeates actuellement hors ligne. Certaines fonctionnalit\xe9s peuvent \xeatre limit\xe9es."," "),e.R7$(),e.Y8G("ngIf",!s.isOnline)}}let jf=(()=>{class c{ngZone;isOnline=!0;showBanner=!1;subscription=null;constructor(s){this.ngZone=s,typeof navigator<"u"&&(this.isOnline=navigator.onLine)}ngOnInit(){typeof window<"u"&&(this.subscription=(0,Rf.h)(Ts(window,"online").pipe((0,he.T)(()=>!0)),Ts(window,"offline").pipe((0,he.T)(()=>!1))).subscribe(s=>{this.ngZone.run(()=>{this.isOnline=s,s?(this.showBanner=!0,setTimeout(()=>{this.showBanner=!1},3e3)):this.showBanner=!0})}))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}closeBanner(){this.showBanner=!1}static \u0275fac=function(f){return new(f||c)(e.rXU(e.SKi))};static \u0275cmp=e.VBU({type:c,selectors:[["app-network-status"]],standalone:!0,features:[e.aNF],decls:1,vars:1,consts:[["class","fixed bottom-0 left-0 right-0 z-50 p-3 text-center text-white transition-all duration-500 ease-in-out shadow-lg",3,"ngClass",4,"ngIf"],[1,"fixed","bottom-0","left-0","right-0","z-50","p-3","text-center","text-white","transition-all","duration-500","ease-in-out","shadow-lg",3,"ngClass"],[1,"flex","items-center","justify-center"],[1,"mr-2"],[1,"fas",3,"ngClass"],[1,"font-medium"],["class","ml-4 focus:outline-none hover:text-gray-200","title","Fermer",3,"click",4,"ngIf"],["title","Fermer",1,"ml-4","focus:outline-none","hover:text-gray-200",3,"click"],[1,"fas","fa-times"]],template:function(f,u){1&f&&e.DNE(0,ya,7,4,"div",0),2&f&&e.Y8G("ngIf",u.showBanner)},dependencies:[A.MD,A.YU,A.bT],encapsulation:2})}return c})();(0,d.B8)((()=>{class c{title="Bienvenue chez Assurkin";static \u0275fac=function(f){return new(f||c)};static \u0275cmp=e.VBU({type:c,selectors:[["app-root"]],standalone:!0,features:[e.aNF],decls:5,vars:0,consts:[[1,"container","mx-auto","mt-20","px-4"]],template:function(f,u){1&f&&(e.nrm(0,"app-navbar"),e.j41(1,"main",0),e.nrm(2,"router-outlet"),e.k0s(),e.nrm(3,"app-footer")(4,"app-network-status"))},dependencies:[le.n3,Kn,Sc,jf],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-height:100vh}main[_ngcontent-%COMP%]{flex:1}"]})}return c})(),nl).catch(c=>console.error(c))},5286:(Je,ge,D)=>{"use strict";D.r(ge),D.d(ge,{Headers:()=>A,Request:()=>H,Response:()=>C,default:()=>e,fetch:()=>le});var L=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}();const le=L.fetch,e=L.fetch.bind(L),A=L.Headers,H=L.Request,C=L.Response},5958:function(Je,ge,D){"use strict";var d=D(9293).default,L=this&&this.__importDefault||function(H){return H&&H.__esModule?H:{default:H}};Object.defineProperty(ge,"__esModule",{value:!0});const le=L(D(5286)),e=L(D(4659));ge.default=class A{constructor(C){this.shouldThrowOnError=!1,this.method=C.method,this.url=C.url,this.headers=C.headers,this.schema=C.schema,this.body=C.body,this.shouldThrowOnError=C.shouldThrowOnError,this.signal=C.signal,this.isMaybeSingle=C.isMaybeSingle,this.fetch=C.fetch?C.fetch:typeof fetch>"u"?le.default:fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(C,K){var se=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let Q=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(function(){var _e=d(function*(De){var be,je,ne;let U=null,G=null,me=null,ue=De.status,Ee=De.statusText;if(De.ok){if("HEAD"!==se.method){const Xe=yield De.text();""===Xe||(G="text/csv"===se.headers.Accept||se.headers.Accept&&se.headers.Accept.includes("application/vnd.pgrst.plan+text")?Xe:JSON.parse(Xe))}const Pe=null===(be=se.headers.Prefer)||void 0===be?void 0:be.match(/count=(exact|planned|estimated)/),ot=null===(je=De.headers.get("content-range"))||void 0===je?void 0:je.split("/");Pe&&ot&&ot.length>1&&(me=parseInt(ot[1])),se.isMaybeSingle&&"GET"===se.method&&Array.isArray(G)&&(G.length>1?(U={code:"PGRST116",details:`Results contain ${G.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},G=null,me=null,ue=406,Ee="Not Acceptable"):G=1===G.length?G[0]:null)}else{const Pe=yield De.text();try{U=JSON.parse(Pe),Array.isArray(U)&&404===De.status&&(G=[],U=null,ue=200,Ee="OK")}catch{404===De.status&&""===Pe?(ue=204,Ee="No Content"):U={message:Pe}}if(U&&se.isMaybeSingle&&!(null===(ne=U?.details)||void 0===ne)&&ne.includes("0 rows")&&(U=null,ue=200,Ee="OK"),U&&se.shouldThrowOnError)throw new e.default(U)}return{error:U,data:G,count:me,status:ue,statusText:Ee}});return function(De){return _e.apply(this,arguments)}}());return this.shouldThrowOnError||(Q=Q.catch(_e=>{var De,be,je;return{error:{message:`${null!==(De=_e?.name)&&void 0!==De?De:"FetchError"}: ${_e?.message}`,details:`${null!==(be=_e?.stack)&&void 0!==be?be:""}`,hint:"",code:`${null!==(je=_e?.code)&&void 0!==je?je:""}`},data:null,count:null,status:0,statusText:""}})),Q.then(C,K)}}},3242:function(Je,ge,D){"use strict";var d=this&&this.__importDefault||function(H){return H&&H.__esModule?H:{default:H}};Object.defineProperty(ge,"__esModule",{value:!0});const L=d(D(8666)),le=d(D(3608)),e=D(3057);class A{constructor(C,{headers:K={},schema:se,fetch:he}={}){this.url=C,this.headers=Object.assign(Object.assign({},e.DEFAULT_HEADERS),K),this.schemaName=se,this.fetch=he}from(C){const K=new URL(`${this.url}/${C}`);return new L.default(K,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(C){return new A(this.url,{headers:this.headers,schema:C,fetch:this.fetch})}rpc(C,K={},{head:se=!1,get:he=!1,count:Q}={}){let _e;const De=new URL(`${this.url}/rpc/${C}`);let be;se||he?(_e=se?"HEAD":"GET",Object.entries(K).filter(([ne,U])=>void 0!==U).map(([ne,U])=>[ne,Array.isArray(U)?`{${U.join(",")}}`:`${U}`]).forEach(([ne,U])=>{De.searchParams.append(ne,U)})):(_e="POST",be=K);const je=Object.assign({},this.headers);return Q&&(je.Prefer=`count=${Q}`),new le.default({method:_e,url:De,headers:je,schema:this.schemaName,body:be,fetch:this.fetch,allowEmpty:!1})}}ge.default=A},4659:(Je,ge)=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0});class D extends Error{constructor(L){super(L.message),this.name="PostgrestError",this.details=L.details,this.hint=L.hint,this.code=L.code}}ge.default=D},3608:function(Je,ge,D){"use strict";var d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ge,"__esModule",{value:!0});const L=d(D(3342));ge.default=class le extends L.default{eq(A,H){return this.url.searchParams.append(A,`eq.${H}`),this}neq(A,H){return this.url.searchParams.append(A,`neq.${H}`),this}gt(A,H){return this.url.searchParams.append(A,`gt.${H}`),this}gte(A,H){return this.url.searchParams.append(A,`gte.${H}`),this}lt(A,H){return this.url.searchParams.append(A,`lt.${H}`),this}lte(A,H){return this.url.searchParams.append(A,`lte.${H}`),this}like(A,H){return this.url.searchParams.append(A,`like.${H}`),this}likeAllOf(A,H){return this.url.searchParams.append(A,`like(all).{${H.join(",")}}`),this}likeAnyOf(A,H){return this.url.searchParams.append(A,`like(any).{${H.join(",")}}`),this}ilike(A,H){return this.url.searchParams.append(A,`ilike.${H}`),this}ilikeAllOf(A,H){return this.url.searchParams.append(A,`ilike(all).{${H.join(",")}}`),this}ilikeAnyOf(A,H){return this.url.searchParams.append(A,`ilike(any).{${H.join(",")}}`),this}is(A,H){return this.url.searchParams.append(A,`is.${H}`),this}in(A,H){const C=Array.from(new Set(H)).map(K=>"string"==typeof K&&new RegExp("[,()]").test(K)?`"${K}"`:`${K}`).join(",");return this.url.searchParams.append(A,`in.(${C})`),this}contains(A,H){return"string"==typeof H?this.url.searchParams.append(A,`cs.${H}`):Array.isArray(H)?this.url.searchParams.append(A,`cs.{${H.join(",")}}`):this.url.searchParams.append(A,`cs.${JSON.stringify(H)}`),this}containedBy(A,H){return"string"==typeof H?this.url.searchParams.append(A,`cd.${H}`):Array.isArray(H)?this.url.searchParams.append(A,`cd.{${H.join(",")}}`):this.url.searchParams.append(A,`cd.${JSON.stringify(H)}`),this}rangeGt(A,H){return this.url.searchParams.append(A,`sr.${H}`),this}rangeGte(A,H){return this.url.searchParams.append(A,`nxl.${H}`),this}rangeLt(A,H){return this.url.searchParams.append(A,`sl.${H}`),this}rangeLte(A,H){return this.url.searchParams.append(A,`nxr.${H}`),this}rangeAdjacent(A,H){return this.url.searchParams.append(A,`adj.${H}`),this}overlaps(A,H){return this.url.searchParams.append(A,"string"==typeof H?`ov.${H}`:`ov.{${H.join(",")}}`),this}textSearch(A,H,{config:C,type:K}={}){let se="";return"plain"===K?se="pl":"phrase"===K?se="ph":"websearch"===K&&(se="w"),this.url.searchParams.append(A,`${se}fts${void 0===C?"":`(${C})`}.${H}`),this}match(A){return Object.entries(A).forEach(([H,C])=>{this.url.searchParams.append(H,`eq.${C}`)}),this}not(A,H,C){return this.url.searchParams.append(A,`not.${H}.${C}`),this}or(A,{foreignTable:H,referencedTable:C=H}={}){return this.url.searchParams.append(C?`${C}.or`:"or",`(${A})`),this}filter(A,H,C){return this.url.searchParams.append(A,`${H}.${C}`),this}}},8666:function(Je,ge,D){"use strict";var d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ge,"__esModule",{value:!0});const L=d(D(3608));ge.default=class le{constructor(A,{headers:H={},schema:C,fetch:K}){this.url=A,this.headers=H,this.schema=C,this.fetch=K}select(A,{head:H=!1,count:C}={}){const K=H?"HEAD":"GET";let se=!1;const he=(A??"*").split("").map(Q=>/\s/.test(Q)&&!se?"":('"'===Q&&(se=!se),Q)).join("");return this.url.searchParams.set("select",he),C&&(this.headers.Prefer=`count=${C}`),new L.default({method:K,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(A,{count:H,defaultToNull:C=!0}={}){const se=[];if(this.headers.Prefer&&se.push(this.headers.Prefer),H&&se.push(`count=${H}`),C||se.push("missing=default"),this.headers.Prefer=se.join(","),Array.isArray(A)){const he=A.reduce((Q,_e)=>Q.concat(Object.keys(_e)),[]);if(he.length>0){const Q=[...new Set(he)].map(_e=>`"${_e}"`);this.url.searchParams.set("columns",Q.join(","))}}return new L.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:A,fetch:this.fetch,allowEmpty:!1})}upsert(A,{onConflict:H,ignoreDuplicates:C=!1,count:K,defaultToNull:se=!0}={}){const Q=[`resolution=${C?"ignore":"merge"}-duplicates`];if(void 0!==H&&this.url.searchParams.set("on_conflict",H),this.headers.Prefer&&Q.push(this.headers.Prefer),K&&Q.push(`count=${K}`),se||Q.push("missing=default"),this.headers.Prefer=Q.join(","),Array.isArray(A)){const _e=A.reduce((De,be)=>De.concat(Object.keys(be)),[]);if(_e.length>0){const De=[...new Set(_e)].map(be=>`"${be}"`);this.url.searchParams.set("columns",De.join(","))}}return new L.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:A,fetch:this.fetch,allowEmpty:!1})}update(A,{count:H}={}){const K=[];return this.headers.Prefer&&K.push(this.headers.Prefer),H&&K.push(`count=${H}`),this.headers.Prefer=K.join(","),new L.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:A,fetch:this.fetch,allowEmpty:!1})}delete({count:A}={}){const C=[];return A&&C.push(`count=${A}`),this.headers.Prefer&&C.unshift(this.headers.Prefer),this.headers.Prefer=C.join(","),new L.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},3342:function(Je,ge,D){"use strict";var d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ge,"__esModule",{value:!0});const L=d(D(5958));ge.default=class le extends L.default{select(A){let H=!1;const C=(A??"*").split("").map(K=>/\s/.test(K)&&!H?"":('"'===K&&(H=!H),K)).join("");return this.url.searchParams.set("select",C),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(A,{ascending:H=!0,nullsFirst:C,foreignTable:K,referencedTable:se=K}={}){const he=se?`${se}.order`:"order",Q=this.url.searchParams.get(he);return this.url.searchParams.set(he,`${Q?`${Q},`:""}${A}.${H?"asc":"desc"}${void 0===C?"":C?".nullsfirst":".nullslast"}`),this}limit(A,{foreignTable:H,referencedTable:C=H}={}){return this.url.searchParams.set(typeof C>"u"?"limit":`${C}.limit`,`${A}`),this}range(A,H,{foreignTable:C,referencedTable:K=C}={}){const he=typeof K>"u"?"limit":`${K}.limit`;return this.url.searchParams.set(typeof K>"u"?"offset":`${K}.offset`,`${A}`),this.url.searchParams.set(he,""+(H-A+1)),this}abortSignal(A){return this.signal=A,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.headers.Accept="GET"===this.method?"application/json":"application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:A=!1,verbose:H=!1,settings:C=!1,buffers:K=!1,wal:se=!1,format:he="text"}={}){var Q;const _e=[A?"analyze":null,H?"verbose":null,C?"settings":null,K?"buffers":null,se?"wal":null].filter(Boolean).join("|"),De=null!==(Q=this.headers.Accept)&&void 0!==Q?Q:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${he}; for="${De}"; options=${_e};`,this}rollback(){var A;return(null!==(A=this.headers.Prefer)&&void 0!==A?A:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}},3057:(Je,ge,D)=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0}),ge.DEFAULT_HEADERS=void 0;const d=D(3056);ge.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${d.version}`}},4060:function(Je,ge,D){"use strict";var d=this&&this.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(ge,"__esModule",{value:!0}),ge.PostgrestBuilder=ge.PostgrestTransformBuilder=ge.PostgrestFilterBuilder=ge.PostgrestQueryBuilder=ge.PostgrestClient=void 0;const L=d(D(3242));ge.PostgrestClient=L.default;const le=d(D(8666));ge.PostgrestQueryBuilder=le.default;const e=d(D(3608));ge.PostgrestFilterBuilder=e.default;const A=d(D(3342));ge.PostgrestTransformBuilder=A.default;const H=d(D(5958));ge.PostgrestBuilder=H.default,ge.default={PostgrestClient:L.default,PostgrestQueryBuilder:le.default,PostgrestFilterBuilder:e.default,PostgrestTransformBuilder:A.default,PostgrestBuilder:H.default}},3056:(Je,ge)=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0}),ge.version=void 0,ge.version="0.0.0-automated"},7583:(Je,ge,D)=>{"use strict";D.d(ge,{UU:()=>Do});class L extends Error{constructor(I,g="FunctionsError",y){super(I),this.name=g,this.context=y}}class le extends L{constructor(I){super("Failed to send a request to the Edge Function","FunctionsFetchError",I)}}class e extends L{constructor(I){super("Relay Error invoking the Edge Function","FunctionsRelayError",I)}}class A extends L{constructor(I){super("Edge Function returned a non-2xx status code","FunctionsHttpError",I)}}var H=function(V){return V.Any="any",V.ApNortheast1="ap-northeast-1",V.ApNortheast2="ap-northeast-2",V.ApSouth1="ap-south-1",V.ApSoutheast1="ap-southeast-1",V.ApSoutheast2="ap-southeast-2",V.CaCentral1="ca-central-1",V.EuCentral1="eu-central-1",V.EuWest1="eu-west-1",V.EuWest2="eu-west-2",V.EuWest3="eu-west-3",V.SaEast1="sa-east-1",V.UsEast1="us-east-1",V.UsWest1="us-west-1",V.UsWest2="us-west-2",V}(H||{});class K{constructor(I,{headers:g={},customFetch:y,region:k=H.Any}={}){this.url=I,this.headers=g,this.region=k,this.fetch=(V=>{let I;return I=V||(typeof fetch>"u"?(...g)=>Promise.resolve().then(D.bind(D,5286)).then(({default:y})=>y(...g)):fetch),(...g)=>I(...g)})(y)}setAuth(I){this.headers.Authorization=`Bearer ${I}`}invoke(I,g={}){var y;return function(V,I,g,y){return new(g||(g=Promise))(function($,z){function X(oe){try{Ce(y.next(oe))}catch($e){z($e)}}function ce(oe){try{Ce(y.throw(oe))}catch($e){z($e)}}function Ce(oe){oe.done?$(oe.value):function k($){return $ instanceof g?$:new g(function(z){z($)})}(oe.value).then(X,ce)}Ce((y=y.apply(V,I||[])).next())})}(this,void 0,void 0,function*(){try{const{headers:k,method:$,body:z}=g;let Ce,X={},{region:ce}=g;ce||(ce=this.region),ce&&"any"!==ce&&(X["x-region"]=ce),z&&(k&&!Object.prototype.hasOwnProperty.call(k,"Content-Type")||!k)&&(typeof Blob<"u"&&z instanceof Blob||z instanceof ArrayBuffer?(X["Content-Type"]="application/octet-stream",Ce=z):"string"==typeof z?(X["Content-Type"]="text/plain",Ce=z):typeof FormData<"u"&&z instanceof FormData?Ce=z:(X["Content-Type"]="application/json",Ce=JSON.stringify(z)));const oe=yield this.fetch(`${this.url}/${I}`,{method:$||"POST",headers:Object.assign(Object.assign(Object.assign({},X),this.headers),k),body:Ce}).catch(_t=>{throw new le(_t)}),$e=oe.headers.get("x-relay-error");if($e&&"true"===$e)throw new e(oe);if(!oe.ok)throw new A(oe);let yt,ft=(null!==(y=oe.headers.get("Content-Type"))&&void 0!==y?y:"text/plain").split(";")[0].trim();return yt="application/json"===ft?yield oe.json():"application/octet-stream"===ft?yield oe.blob():"text/event-stream"===ft?oe:"multipart/form-data"===ft?yield oe.formData():yield oe.text(),{data:yt,error:null}}catch(k){return{data:null,error:k}}})}}var se=D(4060);const{PostgrestClient:he}=se;var ne=D(467);const G={"X-Client-Info":"realtime-js/2.10.2"};var ve=function(V){return V[V.connecting=0]="connecting",V[V.open=1]="open",V[V.closing=2]="closing",V[V.closed=3]="closed",V}(ve||{}),Pe=function(V){return V.closed="closed",V.errored="errored",V.joined="joined",V.joining="joining",V.leaving="leaving",V}(Pe||{}),ot=function(V){return V.close="phx_close",V.error="phx_error",V.join="phx_join",V.reply="phx_reply",V.leave="phx_leave",V.access_token="access_token",V}(ot||{}),Xe=function(V){return V.websocket="websocket",V}(Xe||{}),Ve=function(V){return V.Connecting="connecting",V.Open="open",V.Closing="closing",V.Closed="closed",V}(Ve||{});class Ye{constructor(){this.HEADER_LENGTH=1}decode(I,g){return I.constructor===ArrayBuffer?g(this._binaryDecode(I)):g("string"==typeof I?JSON.parse(I):{})}_binaryDecode(I){const g=new DataView(I),y=new TextDecoder;return this._decodeBroadcast(I,g,y)}_decodeBroadcast(I,g,y){const k=g.getUint8(1),$=g.getUint8(2);let z=this.HEADER_LENGTH+2;const X=y.decode(I.slice(z,z+k));z+=k;const ce=y.decode(I.slice(z,z+$));return z+=$,{ref:null,topic:X,event:ce,payload:JSON.parse(y.decode(I.slice(z,I.byteLength)))}}}class Qe{constructor(I,g){this.callback=I,this.timerCalc=g,this.timer=void 0,this.tries=0,this.callback=I,this.timerCalc=g}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var at=function(V){return V.abstime="abstime",V.bool="bool",V.date="date",V.daterange="daterange",V.float4="float4",V.float8="float8",V.int2="int2",V.int4="int4",V.int4range="int4range",V.int8="int8",V.int8range="int8range",V.json="json",V.jsonb="jsonb",V.money="money",V.numeric="numeric",V.oid="oid",V.reltime="reltime",V.text="text",V.time="time",V.timestamp="timestamp",V.timestamptz="timestamptz",V.timetz="timetz",V.tsrange="tsrange",V.tstzrange="tstzrange",V}(at||{});const Nt=(V,I,g={})=>{var y;const k=null!==(y=g.skipTypes)&&void 0!==y?y:[];return Object.keys(I).reduce(($,z)=>($[z]=xt(z,V,I,k),$),{})},xt=(V,I,g,y)=>{const k=I.find(X=>X.name===V),$=k?.type,z=g[V];return $&&!y.includes($)?qt($,z):tr(z)},qt=(V,I)=>{if("_"===V.charAt(0)){const g=V.slice(1,V.length);return To(I,g)}switch(V){case at.bool:return qn(I);case at.float4:case at.float8:case at.int2:case at.int4:case at.int8:case at.numeric:case at.oid:return yr(I);case at.json:case at.jsonb:return Rr(I);case at.timestamp:return Ie(I);default:return tr(I)}},tr=V=>V,qn=V=>{switch(V){case"t":return!0;case"f":return!1;default:return V}},yr=V=>{if("string"==typeof V){const I=parseFloat(V);if(!Number.isNaN(I))return I}return V},Rr=V=>{if("string"==typeof V)try{return JSON.parse(V)}catch(I){return console.log(`JSON parse error: ${I}`),V}return V},To=(V,I)=>{if("string"!=typeof V)return V;const g=V.length-1;if("{"===V[0]&&"}"===V[g]){let $;const z=V.slice(1,g);try{$=JSON.parse("["+z+"]")}catch{$=z?z.split(","):[]}return $.map(X=>qt(I,X))}return V},Ie=V=>"string"==typeof V?V.replace(" ","T"):V,Me=V=>{let I=V;return I=I.replace(/^ws/i,"http"),I=I.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),I.replace(/\/+$/,"")};class Ne{constructor(I,g,y={},k=1e4){this.channel=I,this.event=g,this.payload=y,this.timeout=k,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(I){this.timeout=I,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(I){this.payload=Object.assign(Object.assign({},this.payload),I)}receive(I,g){var y;return this._hasReceived(I)&&g(null===(y=this.receivedResp)||void 0===y?void 0:y.response),this.recHooks.push({status:I,callback:g}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},g=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=g,this._matchReceive(g)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(I,g){this.refEvent&&this.channel._trigger(this.refEvent,{status:I,response:g})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:I,response:g}){this.recHooks.filter(y=>y.status===I).forEach(y=>y.callback(g))}_hasReceived(I){return this.receivedResp&&this.receivedResp.status===I}}class Ke{constructor(I,g){this.channel=I,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const y=g?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(y.state,{},k=>{const{onJoin:$,onLeave:z,onSync:X}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ke.syncState(this.state,k,$,z),this.pendingDiffs.forEach(ce=>{this.state=Ke.syncDiff(this.state,ce,$,z)}),this.pendingDiffs=[],X()}),this.channel._on(y.diff,{},k=>{const{onJoin:$,onLeave:z,onSync:X}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(k):(this.state=Ke.syncDiff(this.state,k,$,z),X())}),this.onJoin((k,$,z)=>{this.channel._trigger("presence",{event:"join",key:k,currentPresences:$,newPresences:z})}),this.onLeave((k,$,z)=>{this.channel._trigger("presence",{event:"leave",key:k,currentPresences:$,leftPresences:z})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(I,g,y,k){const $=this.cloneDeep(I),z=this.transformState(g),X={},ce={};return this.map($,(Ce,oe)=>{z[Ce]||(ce[Ce]=oe)}),this.map(z,(Ce,oe)=>{const $e=$[Ce];if($e){const ft=oe.map(Wt=>Wt.presence_ref),yt=$e.map(Wt=>Wt.presence_ref),_t=oe.filter(Wt=>yt.indexOf(Wt.presence_ref)<0),fn=$e.filter(Wt=>ft.indexOf(Wt.presence_ref)<0);_t.length>0&&(X[Ce]=_t),fn.length>0&&(ce[Ce]=fn)}else X[Ce]=oe}),this.syncDiff($,{joins:X,leaves:ce},y,k)}static syncDiff(I,g,y,k){const{joins:$,leaves:z}={joins:this.transformState(g.joins),leaves:this.transformState(g.leaves)};return y||(y=()=>{}),k||(k=()=>{}),this.map($,(X,ce)=>{var Ce;const oe=null!==(Ce=I[X])&&void 0!==Ce?Ce:[];if(I[X]=this.cloneDeep(ce),oe.length>0){const $e=I[X].map(yt=>yt.presence_ref),ft=oe.filter(yt=>$e.indexOf(yt.presence_ref)<0);I[X].unshift(...ft)}y(X,oe,ce)}),this.map(z,(X,ce)=>{let Ce=I[X];if(!Ce)return;const oe=ce.map($e=>$e.presence_ref);Ce=Ce.filter($e=>oe.indexOf($e.presence_ref)<0),I[X]=Ce,k(X,Ce,ce),0===Ce.length&&delete I[X]}),I}static map(I,g){return Object.getOwnPropertyNames(I).map(y=>g(y,I[y]))}static transformState(I){return I=this.cloneDeep(I),Object.getOwnPropertyNames(I).reduce((g,y)=>{const k=I[y];return g[y]="metas"in k?k.metas.map($=>($.presence_ref=$.phx_ref,delete $.phx_ref,delete $.phx_ref_prev,$)):k,g},{})}static cloneDeep(I){return JSON.parse(JSON.stringify(I))}onJoin(I){this.caller.onJoin=I}onLeave(I){this.caller.onLeave=I}onSync(I){this.caller.onSync=I}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}class Dt{constructor(I,g={config:{}},y){this.topic=I,this.params=g,this.socket=y,this.bindings={},this.state=Pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=I.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},g.config),this.timeout=this.socket.timeout,this.joinPush=new Ne(this,ot.join,this.params,this.timeout),this.rejoinTimer=new Qe(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(k=>k.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pe.closed,this.socket._remove(this)}),this._onError(k=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,k),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ot.reply,{},(k,$)=>{this._trigger(this._replyEventName($),k)}),this.presence=new Ke(this),this.broadcastEndpointURL=Me(this.socket.endPoint)+"/api/broadcast"}subscribe(I,g=this.timeout){var y,k;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:$,presence:z,private:X}}=this.params;this._onError(oe=>I&&I("CHANNEL_ERROR",oe)),this._onClose(()=>I&&I("CLOSED"));const ce={},Ce={broadcast:$,presence:z,postgres_changes:null!==(k=null===(y=this.bindings.postgres_changes)||void 0===y?void 0:y.map(oe=>oe.filter))&&void 0!==k?k:[],private:X};this.socket.accessToken&&(ce.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:Ce},ce)),this.joinedOnce=!0,this._rejoin(g),this.joinPush.receive("ok",({postgres_changes:oe})=>{var $e;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),void 0!==oe){const ft=this.bindings.postgres_changes,yt=null!==($e=ft?.length)&&void 0!==$e?$e:0,_t=[];for(let fn=0;fn<yt;fn++){const Wt=ft[fn],{filter:{event:$r,schema:eo,table:mo,filter:ir}}=Wt,Hn=oe&&oe[fn];if(!Hn||Hn.event!==$r||Hn.schema!==eo||Hn.table!==mo||Hn.filter!==ir)return this.unsubscribe(),void(I&&I("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes")));_t.push(Object.assign(Object.assign({},Wt),{id:Hn.id}))}return this.bindings.postgres_changes=_t,void(I&&I("SUBSCRIBED"))}I&&I("SUBSCRIBED")}).receive("error",oe=>{I&&I("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(oe).join(", ")||"error")))}).receive("timeout",()=>{I&&I("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(I){var g=this;return(0,ne.A)(function*(y,k={}){return yield g.send({type:"presence",event:"track",payload:y},k.timeout||g.timeout)}).apply(this,arguments)}untrack(){var I=this;return(0,ne.A)(function*(g={}){return yield I.send({type:"presence",event:"untrack"},g)}).apply(this,arguments)}on(I,g,y){return this._on(I,g,y)}send(I){var g=this;return(0,ne.A)(function*(y,k={}){var $,z;if(g._canPush()||"broadcast"!==y.type)return new Promise(X=>{var ce,Ce,oe;const $e=g._push(y.type,y,k.timeout||g.timeout);"broadcast"===y.type&&!(null!==(oe=null===(Ce=null===(ce=g.params)||void 0===ce?void 0:ce.config)||void 0===Ce?void 0:Ce.broadcast)&&void 0!==oe&&oe.ack)&&X("ok"),$e.receive("ok",()=>X("ok")),$e.receive("error",()=>X("error")),$e.receive("timeout",()=>X("timed out"))});{const{event:X,payload:ce}=y,Ce={method:"POST",headers:{Authorization:g.socket.accessToken?`Bearer ${g.socket.accessToken}`:"",apikey:g.socket.apiKey?g.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:g.subTopic,event:X,payload:ce}]})};try{const oe=yield g._fetchWithTimeout(g.broadcastEndpointURL,Ce,null!==($=k.timeout)&&void 0!==$?$:g.timeout);return yield null===(z=oe.body)||void 0===z?void 0:z.cancel(),oe.ok?"ok":"error"}catch(oe){return"AbortError"===oe.name?"timed out":"error"}}}).apply(this,arguments)}updateJoinPayload(I){this.joinPush.updatePayload(I)}unsubscribe(I=this.timeout){this.state=Pe.leaving;const g=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ot.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(y=>{const k=new Ne(this,ot.leave,{},I);k.receive("ok",()=>{g(),y("ok")}).receive("timeout",()=>{g(),y("timed out")}).receive("error",()=>{y("error")}),k.send(),this._canPush()||k.trigger("ok",{})})}_fetchWithTimeout(I,g,y){var k=this;return(0,ne.A)(function*(){const $=new AbortController,z=setTimeout(()=>$.abort(),y),X=yield k.socket.fetch(I,Object.assign(Object.assign({},g),{signal:$.signal}));return clearTimeout(z),X})()}_push(I,g,y=this.timeout){if(!this.joinedOnce)throw`tried to push '${I}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let k=new Ne(this,I,g,y);return this._canPush()?k.send():(k.startTimeout(),this.pushBuffer.push(k)),k}_onMessage(I,g,y){return g}_isMember(I){return this.topic===I}_joinRef(){return this.joinPush.ref}_trigger(I,g,y){var k,$;const z=I.toLocaleLowerCase(),{close:X,error:ce,leave:Ce,join:oe}=ot;if(y&&[X,ce,Ce,oe].indexOf(z)>=0&&y!==this._joinRef())return;let ft=this._onMessage(z,g,y);if(g&&!ft)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(z)?null===(k=this.bindings.postgres_changes)||void 0===k||k.filter(yt=>{var _t,fn,Wt;return"*"===(null===(_t=yt.filter)||void 0===_t?void 0:_t.event)||(null===(Wt=null===(fn=yt.filter)||void 0===fn?void 0:fn.event)||void 0===Wt?void 0:Wt.toLocaleLowerCase())===z}).map(yt=>yt.callback(ft,y)):null===($=this.bindings[z])||void 0===$||$.filter(yt=>{var _t,fn,Wt,$r,eo,mo;if(["broadcast","presence","postgres_changes"].includes(z)){if("id"in yt){const ir=yt.id,Hn=null===(_t=yt.filter)||void 0===_t?void 0:_t.event;return ir&&(null===(fn=g.ids)||void 0===fn?void 0:fn.includes(ir))&&("*"===Hn||Hn?.toLocaleLowerCase()===(null===(Wt=g.data)||void 0===Wt?void 0:Wt.type.toLocaleLowerCase()))}{const ir=null===(eo=null===($r=yt?.filter)||void 0===$r?void 0:$r.event)||void 0===eo?void 0:eo.toLocaleLowerCase();return"*"===ir||ir===(null===(mo=g?.event)||void 0===mo?void 0:mo.toLocaleLowerCase())}}return yt.type.toLocaleLowerCase()===z}).map(yt=>{if("object"==typeof ft&&"ids"in ft){const _t=ft.data,{schema:fn,table:Wt,commit_timestamp:$r,type:eo,errors:mo}=_t;ft=Object.assign(Object.assign({},{schema:fn,table:Wt,commit_timestamp:$r,eventType:eo,new:{},old:{},errors:mo}),this._getPayloadRecords(_t))}yt.callback(ft,y)})}_isClosed(){return this.state===Pe.closed}_isJoined(){return this.state===Pe.joined}_isJoining(){return this.state===Pe.joining}_isLeaving(){return this.state===Pe.leaving}_replyEventName(I){return`chan_reply_${I}`}_on(I,g,y){const k=I.toLocaleLowerCase(),$={type:k,filter:g,callback:y};return this.bindings[k]?this.bindings[k].push($):this.bindings[k]=[$],this}_off(I,g){const y=I.toLocaleLowerCase();return this.bindings[y]=this.bindings[y].filter(k=>{var $;return!((null===($=k.type)||void 0===$?void 0:$.toLocaleLowerCase())===y&&Dt.isEqual(k.filter,g))}),this}static isEqual(I,g){if(Object.keys(I).length!==Object.keys(g).length)return!1;for(const y in I)if(I[y]!==g[y])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(I){this._on(ot.close,{},I)}_onError(I){this._on(ot.error,{},g=>I(g))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(I=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pe.joining,this.joinPush.resend(I))}_getPayloadRecords(I){const g={new:{},old:{}};return("INSERT"===I.type||"UPDATE"===I.type)&&(g.new=Nt(I.columns,I.record)),("UPDATE"===I.type||"DELETE"===I.type)&&(g.old=Nt(I.columns,I.old_record)),g}}const pn=()=>{},kt=typeof WebSocket<"u";class kn{constructor(I,g){var k,y=this;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=G,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=pn,this.conn=null,this.sendBuffer=[],this.serializer=new Ye,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=z=>{let X;return X=z||(typeof fetch>"u"?(...ce)=>Promise.resolve().then(D.bind(D,5286)).then(({default:Ce})=>Ce(...ce)):fetch),(...ce)=>X(...ce)},this.endPoint=`${I}/${Xe.websocket}`,this.httpEndpoint=Me(I),this.transport=g?.transport?g.transport:null,g?.params&&(this.params=g.params),g?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),g.headers)),g?.timeout&&(this.timeout=g.timeout),g?.logger&&(this.logger=g.logger),g?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=g.heartbeatIntervalMs);const $=null===(k=g?.params)||void 0===k?void 0:k.apikey;$&&(this.accessToken=$,this.apiKey=$),this.reconnectAfterMs=g?.reconnectAfterMs?g.reconnectAfterMs:z=>[1e3,2e3,5e3,1e4][z-1]||1e4,this.encode=g?.encode?g.encode:(z,X)=>X(JSON.stringify(z)),this.decode=g?.decode?g.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Qe((0,ne.A)(function*(){y.disconnect(),y.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(g?.fetch)}connect(){if(!this.conn){if(this.transport)return void(this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers}));if(kt)return this.conn=new WebSocket(this._endPointURL()),void this.setupConnection();this.conn=new an(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),D.e(806).then(D.t.bind(D,3806,23)).then(({default:I})=>{this.conn=new I(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(I,g){this.conn&&(this.conn.onclose=function(){},I?this.conn.close(I,g??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(I){var g=this;return(0,ne.A)(function*(){const y=yield I.unsubscribe();return 0===g.channels.length&&g.disconnect(),y})()}removeAllChannels(){var I=this;return(0,ne.A)(function*(){const g=yield Promise.all(I.channels.map(y=>y.unsubscribe()));return I.disconnect(),g})()}log(I,g,y){this.logger(I,g,y)}connectionState(){switch(this.conn&&this.conn.readyState){case ve.connecting:return Ve.Connecting;case ve.open:return Ve.Open;case ve.closing:return Ve.Closing;default:return Ve.Closed}}isConnected(){return this.connectionState()===Ve.Open}channel(I,g={config:{}}){const y=new Dt(`realtime:${I}`,g,this);return this.channels.push(y),y}push(I){const{topic:g,event:y,payload:k,ref:$}=I,z=()=>{this.encode(I,X=>{var ce;null===(ce=this.conn)||void 0===ce||ce.send(X)})};this.log("push",`${g} ${y} (${$})`,k),this.isConnected()?z():this.sendBuffer.push(z)}setAuth(I){this.accessToken=I,this.channels.forEach(g=>{I&&g.updateJoinPayload({access_token:I}),g.joinedOnce&&g._isJoined()&&g._push(ot.access_token,{access_token:I})})}_makeRef(){let I=this.ref+1;return this.ref=I===this.ref?0:I,this.ref.toString()}_leaveOpenTopic(I){let g=this.channels.find(y=>y.topic===I&&(y._isJoined()||y._isJoining()));g&&(this.log("transport",`leaving duplicate topic "${I}"`),g.unsubscribe())}_remove(I){this.channels=this.channels.filter(g=>g._joinRef()!==I._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=I=>this._onConnError(I),this.conn.onmessage=I=>this._onConnMessage(I),this.conn.onclose=I=>this._onConnClose(I))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}_onConnMessage(I){this.decode(I.data,g=>{let{topic:y,event:k,payload:$,ref:z}=g;(z&&z===this.pendingHeartbeatRef||k===$?.type)&&(this.pendingHeartbeatRef=null),this.log("receive",`${$.status||""} ${y} ${k} ${z&&"("+z+")"||""}`,$),this.channels.filter(X=>X._isMember(y)).forEach(X=>X._trigger(k,$,z)),this.stateChangeCallbacks.message.forEach(X=>X(g))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(I=>I())}_onConnClose(I){this.log("transport","close",I),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(g=>g(I))}_onConnError(I){this.log("transport",I.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(g=>g(I))}_triggerChanError(){this.channels.forEach(I=>I._trigger(ot.error))}_appendParams(I,g){if(0===Object.keys(g).length)return I;const y=I.match(/\?/)?"&":"?";return`${I}${y}${new URLSearchParams(g)}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(I=>I()),this.sendBuffer=[])}_sendHeartbeat(){var I;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(I=this.conn)||void 0===I||I.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class an{constructor(I,g,y){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ve.connecting,this.send=()=>{},this.url=null,this.url=I,this.close=y.close}}class Jt extends Error{constructor(I){super(I),this.__isStorageError=!0,this.name="StorageError"}}function Pt(V){return"object"==typeof V&&null!==V&&"__isStorageError"in V}class jn extends Jt{constructor(I,g){super(I),this.name="StorageApiError",this.status=g}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ze extends Jt{constructor(I,g){super(I),this.name="StorageUnknownError",this.originalError=g}}const xr=V=>{let I;return I=V||(typeof fetch>"u"?(...g)=>Promise.resolve().then(D.bind(D,5286)).then(({default:y})=>y(...g)):fetch),(...g)=>I(...g)};var to=function(V,I,g,y){return new(g||(g=Promise))(function($,z){function X(oe){try{Ce(y.next(oe))}catch($e){z($e)}}function ce(oe){try{Ce(y.throw(oe))}catch($e){z($e)}}function Ce(oe){oe.done?$(oe.value):function k($){return $ instanceof g?$:new g(function(z){z($)})}(oe.value).then(X,ce)}Ce((y=y.apply(V,I||[])).next())})};const br=V=>V.msg||V.message||V.error_description||V.error||JSON.stringify(V),Zt=(V,I)=>to(void 0,void 0,void 0,function*(){const g=yield function(V,I,g,y){return new(g||(g=Promise))(function($,z){function X(oe){try{Ce(y.next(oe))}catch($e){z($e)}}function ce(oe){try{Ce(y.throw(oe))}catch($e){z($e)}}function Ce(oe){oe.done?$(oe.value):function k($){return $ instanceof g?$:new g(function(z){z($)})}(oe.value).then(X,ce)}Ce((y=y.apply(V,I||[])).next())})}(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Promise.resolve().then(D.bind(D,5286))).Response:Response});V instanceof g?V.json().then(y=>{I(new jn(br(y),V.status||500))}).catch(y=>{I(new Ze(br(y),y))}):I(new Ze(br(V),V))}),Mt=(V,I,g,y)=>{const k={method:V,headers:I?.headers||{}};return"GET"===V?k:(k.headers=Object.assign({"Content-Type":"application/json"},I?.headers),k.body=JSON.stringify(y),Object.assign(Object.assign({},k),g))};function nr(V,I,g,y,k,$){return to(this,void 0,void 0,function*(){return new Promise((z,X)=>{V(g,Mt(I,y,k,$)).then(ce=>{if(!ce.ok)throw ce;return y?.noResolveJson?ce:ce.json()}).then(ce=>z(ce)).catch(ce=>Zt(ce,X))})})}function Vt(V,I,g,y){return to(this,void 0,void 0,function*(){return nr(V,"GET",I,g,y)})}function gn(V,I,g,y,k){return to(this,void 0,void 0,function*(){return nr(V,"POST",I,y,k,g)})}function vo(V,I,g,y,k){return to(this,void 0,void 0,function*(){return nr(V,"PUT",I,y,k,g)})}function xn(V,I,g,y,k){return to(this,void 0,void 0,function*(){return nr(V,"DELETE",I,y,k,g)})}var Sn=function(V,I,g,y){return new(g||(g=Promise))(function($,z){function X(oe){try{Ce(y.next(oe))}catch($e){z($e)}}function ce(oe){try{Ce(y.throw(oe))}catch($e){z($e)}}function Ce(oe){oe.done?$(oe.value):function k($){return $ instanceof g?$:new g(function(z){z($)})}(oe.value).then(X,ce)}Ce((y=y.apply(V,I||[])).next())})};const vn={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},rn={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class cn{constructor(I,g={},y,k){this.url=I,this.headers=g,this.bucketId=y,this.fetch=xr(k)}uploadOrUpdate(I,g,y,k){return Sn(this,void 0,void 0,function*(){try{let $;const z=Object.assign(Object.assign({},rn),k),X=Object.assign(Object.assign({},this.headers),"POST"===I&&{"x-upsert":String(z.upsert)});typeof Blob<"u"&&y instanceof Blob?($=new FormData,$.append("cacheControl",z.cacheControl),$.append("",y)):typeof FormData<"u"&&y instanceof FormData?($=y,$.append("cacheControl",z.cacheControl)):($=y,X["cache-control"]=`max-age=${z.cacheControl}`,X["content-type"]=z.contentType);const ce=this._removeEmptyFolders(g),Ce=this._getFinalPath(ce),oe=yield this.fetch(`${this.url}/object/${Ce}`,Object.assign({method:I,body:$,headers:X},z?.duplex?{duplex:z.duplex}:{})),$e=yield oe.json();return oe.ok?{data:{path:ce,id:$e.Id,fullPath:$e.Key},error:null}:{data:null,error:$e}}catch($){if(Pt($))return{data:null,error:$};throw $}})}upload(I,g,y){return Sn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",I,g,y)})}uploadToSignedUrl(I,g,y,k){return Sn(this,void 0,void 0,function*(){const $=this._removeEmptyFolders(I),z=this._getFinalPath($),X=new URL(this.url+`/object/upload/sign/${z}`);X.searchParams.set("token",g);try{let ce;const Ce=Object.assign({upsert:rn.upsert},k),oe=Object.assign(Object.assign({},this.headers),{"x-upsert":String(Ce.upsert)});typeof Blob<"u"&&y instanceof Blob?(ce=new FormData,ce.append("cacheControl",Ce.cacheControl),ce.append("",y)):typeof FormData<"u"&&y instanceof FormData?(ce=y,ce.append("cacheControl",Ce.cacheControl)):(ce=y,oe["cache-control"]=`max-age=${Ce.cacheControl}`,oe["content-type"]=Ce.contentType);const $e=yield this.fetch(X.toString(),{method:"PUT",body:ce,headers:oe}),ft=yield $e.json();return $e.ok?{data:{path:$,fullPath:ft.Key},error:null}:{data:null,error:ft}}catch(ce){if(Pt(ce))return{data:null,error:ce};throw ce}})}createSignedUploadUrl(I,g){return Sn(this,void 0,void 0,function*(){try{let y=this._getFinalPath(I);const k=Object.assign({},this.headers);g?.upsert&&(k["x-upsert"]="true");const $=yield gn(this.fetch,`${this.url}/object/upload/sign/${y}`,{},{headers:k}),z=new URL(this.url+$.url),X=z.searchParams.get("token");if(!X)throw new Jt("No token returned by API");return{data:{signedUrl:z.toString(),path:I,token:X},error:null}}catch(y){if(Pt(y))return{data:null,error:y};throw y}})}update(I,g,y){return Sn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",I,g,y)})}move(I,g,y){return Sn(this,void 0,void 0,function*(){try{return{data:yield gn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:I,destinationKey:g,destinationBucket:y?.destinationBucket},{headers:this.headers}),error:null}}catch(k){if(Pt(k))return{data:null,error:k};throw k}})}copy(I,g,y){return Sn(this,void 0,void 0,function*(){try{return{data:{path:(yield gn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:I,destinationKey:g,destinationBucket:y?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(k){if(Pt(k))return{data:null,error:k};throw k}})}createSignedUrl(I,g,y){return Sn(this,void 0,void 0,function*(){try{let k=this._getFinalPath(I),$=yield gn(this.fetch,`${this.url}/object/sign/${k}`,Object.assign({expiresIn:g},y?.transform?{transform:y.transform}:{}),{headers:this.headers});const z=y?.download?`&download=${!0===y.download?"":y.download}`:"";return $={signedUrl:encodeURI(`${this.url}${$.signedURL}${z}`)},{data:$,error:null}}catch(k){if(Pt(k))return{data:null,error:k};throw k}})}createSignedUrls(I,g,y){return Sn(this,void 0,void 0,function*(){try{const k=yield gn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:g,paths:I},{headers:this.headers}),$=y?.download?`&download=${!0===y.download?"":y.download}`:"";return{data:k.map(z=>Object.assign(Object.assign({},z),{signedUrl:z.signedURL?encodeURI(`${this.url}${z.signedURL}${$}`):null})),error:null}}catch(k){if(Pt(k))return{data:null,error:k};throw k}})}download(I,g){return Sn(this,void 0,void 0,function*(){const k=typeof g?.transform<"u"?"render/image/authenticated":"object",$=this.transformOptsToQueryString(g?.transform||{}),z=$?`?${$}`:"";try{const X=this._getFinalPath(I);return{data:yield(yield Vt(this.fetch,`${this.url}/${k}/${X}${z}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(X){if(Pt(X))return{data:null,error:X};throw X}})}getPublicUrl(I,g){const y=this._getFinalPath(I),k=[],$=g?.download?`download=${!0===g.download?"":g.download}`:"";""!==$&&k.push($);const X=typeof g?.transform<"u"?"render/image":"object",ce=this.transformOptsToQueryString(g?.transform||{});""!==ce&&k.push(ce);let Ce=k.join("&");return""!==Ce&&(Ce=`?${Ce}`),{data:{publicUrl:encodeURI(`${this.url}/${X}/public/${y}${Ce}`)}}}remove(I){return Sn(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:I},{headers:this.headers}),error:null}}catch(g){if(Pt(g))return{data:null,error:g};throw g}})}list(I,g,y){return Sn(this,void 0,void 0,function*(){try{const k=Object.assign(Object.assign(Object.assign({},vn),g),{prefix:I||""});return{data:yield gn(this.fetch,`${this.url}/object/list/${this.bucketId}`,k,{headers:this.headers},y),error:null}}catch(k){if(Pt(k))return{data:null,error:k};throw k}})}_getFinalPath(I){return`${this.bucketId}/${I}`}_removeEmptyFolders(I){return I.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(I){const g=[];return I.width&&g.push(`width=${I.width}`),I.height&&g.push(`height=${I.height}`),I.resize&&g.push(`resize=${I.resize}`),I.format&&g.push(`format=${I.format}`),I.quality&&g.push(`quality=${I.quality}`),g.join("&")}}const Ot={"X-Client-Info":"storage-js/2.6.0"};var fr=function(V,I,g,y){return new(g||(g=Promise))(function($,z){function X(oe){try{Ce(y.next(oe))}catch($e){z($e)}}function ce(oe){try{Ce(y.throw(oe))}catch($e){z($e)}}function Ce(oe){oe.done?$(oe.value):function k($){return $ instanceof g?$:new g(function(z){z($)})}(oe.value).then(X,ce)}Ce((y=y.apply(V,I||[])).next())})};class ln{constructor(I,g={},y){this.url=I,this.headers=Object.assign(Object.assign({},Ot),g),this.fetch=xr(y)}listBuckets(){return fr(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(I){if(Pt(I))return{data:null,error:I};throw I}})}getBucket(I){return fr(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/bucket/${I}`,{headers:this.headers}),error:null}}catch(g){if(Pt(g))return{data:null,error:g};throw g}})}createBucket(I,g={public:!1}){return fr(this,void 0,void 0,function*(){try{return{data:yield gn(this.fetch,`${this.url}/bucket`,{id:I,name:I,public:g.public,file_size_limit:g.fileSizeLimit,allowed_mime_types:g.allowedMimeTypes},{headers:this.headers}),error:null}}catch(y){if(Pt(y))return{data:null,error:y};throw y}})}updateBucket(I,g){return fr(this,void 0,void 0,function*(){try{return{data:yield vo(this.fetch,`${this.url}/bucket/${I}`,{id:I,name:I,public:g.public,file_size_limit:g.fileSizeLimit,allowed_mime_types:g.allowedMimeTypes},{headers:this.headers}),error:null}}catch(y){if(Pt(y))return{data:null,error:y};throw y}})}emptyBucket(I){return fr(this,void 0,void 0,function*(){try{return{data:yield gn(this.fetch,`${this.url}/bucket/${I}/empty`,{},{headers:this.headers}),error:null}}catch(g){if(Pt(g))return{data:null,error:g};throw g}})}deleteBucket(I){return fr(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/bucket/${I}`,{},{headers:this.headers}),error:null}}catch(g){if(Pt(g))return{data:null,error:g};throw g}})}}class Mn extends ln{constructor(I,g={},y){super(I,g,y)}from(I){return new cn(this.url,this.headers,I,this.fetch)}}let Bn="";Bn=typeof Deno<"u"?"deno":typeof document<"u"?"web":typeof navigator<"u"&&"ReactNative"===navigator.product?"react-native":"node";const ye={headers:{"X-Client-Info":`supabase-js-${Bn}/2.44.4`}},te={schema:"public"},fe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Be={};var st=D(5286);const rr=(V,I,g)=>{const y=(V=>{let I;return I=V||(typeof fetch>"u"?st.default:fetch),(...g)=>I(...g)})(g),k=typeof Headers>"u"?st.Headers:Headers;return($,z)=>function(V,I,g,y){return new(g||(g=Promise))(function($,z){function X(oe){try{Ce(y.next(oe))}catch($e){z($e)}}function ce(oe){try{Ce(y.throw(oe))}catch($e){z($e)}}function Ce(oe){oe.done?$(oe.value):function k($){return $ instanceof g?$:new g(function(z){z($)})}(oe.value).then(X,ce)}Ce((y=y.apply(V,I||[])).next())})}(void 0,void 0,void 0,function*(){var X;const ce=null!==(X=yield I())&&void 0!==X?X:V;let Ce=new k(z?.headers);return Ce.has("apikey")||Ce.set("apikey",V),Ce.has("Authorization")||Ce.set("Authorization",`Bearer ${ce}`),y($,Object.assign(Object.assign({},z),{headers:Ce}))})},Cr="X-Supabase-Api-Version",Pr={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Gn=()=>typeof document<"u",Zn={tested:!1,writable:!1},Or=()=>{if(!Gn())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch{return!1}if(Zn.tested)return Zn.writable;const V=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(V,V),globalThis.localStorage.removeItem(V),Zn.tested=!0,Zn.writable=!0}catch{Zn.tested=!0,Zn.writable=!1}return Zn.writable};function Qr(V){const I={},g=new URL(V);if(g.hash&&"#"===g.hash[0])try{new URLSearchParams(g.hash.substring(1)).forEach((k,$)=>{I[$]=k})}catch{}return g.searchParams.forEach((y,k)=>{I[k]=y}),I}const Vo=V=>{let I;return I=V||(typeof fetch>"u"?(...g)=>Promise.resolve().then(D.bind(D,5286)).then(({default:y})=>y(...g)):fetch),(...g)=>I(...g)},yo=V=>"object"==typeof V&&null!==V&&"status"in V&&"ok"in V&&"json"in V&&"function"==typeof V.json,Ir=function(){var V=(0,ne.A)(function*(I,g,y){yield I.setItem(g,JSON.stringify(y))});return function(g,y,k){return V.apply(this,arguments)}}(),no=function(){var V=(0,ne.A)(function*(I,g){const y=yield I.getItem(g);if(!y)return null;try{return JSON.parse(y)}catch{return y}});return function(g,y){return V.apply(this,arguments)}}(),ro=function(){var V=(0,ne.A)(function*(I,g){yield I.removeItem(g)});return function(g,y){return V.apply(this,arguments)}}();class It{constructor(){this.promise=new It.promiseConstructor((I,g)=>{this.resolve=I,this.reject=g})}}function Y(V){const g=V.split(".");if(3!==g.length)throw new Error("JWT is not valid: not a JWT structure");if(!/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i.test(g[1]))throw new Error("JWT is not valid: payload is not in base64url format");return JSON.parse(function Ko(V){const I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let y,k,$,z,X,ce,Ce,g="",oe=0;for(V=V.replace("-","+").replace("_","/");oe<V.length;)z=I.indexOf(V.charAt(oe++)),X=I.indexOf(V.charAt(oe++)),ce=I.indexOf(V.charAt(oe++)),Ce=I.indexOf(V.charAt(oe++)),y=z<<2|X>>4,k=(15&X)<<4|ce>>2,$=(3&ce)<<6|Ce,g+=String.fromCharCode(y),64!=ce&&0!=k&&(g+=String.fromCharCode(k)),64!=Ce&&0!=$&&(g+=String.fromCharCode($));return g}(g[1]))}function Z(){return(Z=(0,ne.A)(function*(V){return yield new Promise(I=>{setTimeout(()=>I(null),V)})})).apply(this,arguments)}function qe(V){return("0"+V.toString(16)).substr(-2)}function Ft(){return(Ft=(0,ne.A)(function*(V){const g=(new TextEncoder).encode(V),y=yield crypto.subtle.digest("SHA-256",g),k=new Uint8Array(y);return Array.from(k).map($=>String.fromCharCode($)).join("")})).apply(this,arguments)}function bn(){return bn=(0,ne.A)(function*(V){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),V;const g=yield function et(V){return Ft.apply(this,arguments)}(V);return function ht(V){return btoa(V).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}(g)}),bn.apply(this,arguments)}function zt(V,I){return wn.apply(this,arguments)}function wn(){return wn=(0,ne.A)(function*(V,I,g=!1){const y=function We(){const I=new Uint32Array(56);if(typeof crypto>"u"){const g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",y=g.length;let k="";for(let $=0;$<56;$++)k+=g.charAt(Math.floor(Math.random()*y));return k}return crypto.getRandomValues(I),Array.from(I,qe).join("")}();let k=y;g&&(k+="/PASSWORD_RECOVERY"),yield Ir(V,`${I}-code-verifier`,k);const $=yield function jt(V){return bn.apply(this,arguments)}(y);return[$,y===$?"plain":"s256"]}),wn.apply(this,arguments)}It.promiseConstructor=Promise;const Dn=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;class St extends Error{constructor(I,g,y){super(I),this.__isAuthError=!0,this.name="AuthError",this.status=g,this.code=y}}function lt(V){return"object"==typeof V&&null!==V&&"__isAuthError"in V}class Vn extends St{constructor(I,g,y){super(I,g,y),this.name="AuthApiError",this.status=g,this.code=y}}class ct extends St{constructor(I,g){super(I),this.name="AuthUnknownError",this.originalError=g}}class pr extends St{constructor(I,g,y,k){super(I,y,k),this.name=g,this.status=y}}class Jr extends pr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class jr extends pr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class oo extends pr{constructor(I){super(I,"AuthInvalidCredentialsError",400,void 0)}}class kr extends pr{constructor(I,g=null){super(I,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=g}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Qo extends pr{constructor(I,g=null){super(I,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=g}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Lt extends pr{constructor(I,g){super(I,"AuthRetryableFetchError",g,void 0)}}function bo(V){return lt(V)&&"AuthRetryableFetchError"===V.name}class Jo extends pr{constructor(I,g,y){super(I,"AuthWeakPasswordError",g,"weak_password"),this.reasons=y}}const Ao=V=>V.msg||V.message||V.error_description||V.error||JSON.stringify(V),ms=[502,503,504];function Eo(V){return hr.apply(this,arguments)}function hr(){return(hr=(0,ne.A)(function*(V){var I;if(!yo(V))throw new Lt(Ao(V),0);if(ms.includes(V.status))throw new Lt(Ao(V),V.status);let g,y;try{g=yield V.json()}catch($){throw new ct(Ao($),$)}const k=function $n(V){const I=V.headers.get(Cr);if(!I||!I.match(Dn))return null;try{return new Date(`${I}T00:00:00.0Z`)}catch{return null}}(V);if(k&&k.getTime()>=Pr["2024-01-01"].timestamp&&"object"==typeof g&&g&&"string"==typeof g.code?y=g.code:"object"==typeof g&&g&&"string"==typeof g.error_code&&(y=g.error_code),y){if("weak_password"===y)throw new Jo(Ao(g),V.status,(null===(I=g.weak_password)||void 0===I?void 0:I.reasons)||[])}else if("object"==typeof g&&g&&"object"==typeof g.weak_password&&g.weak_password&&Array.isArray(g.weak_password.reasons)&&g.weak_password.reasons.length&&g.weak_password.reasons.reduce(($,z)=>$&&"string"==typeof z,!0))throw new Jo(Ao(g),V.status,g.weak_password.reasons);throw new Vn(Ao(g),V.status||500,y)})).apply(this,arguments)}const mr=(V,I,g,y)=>{const k={method:V,headers:I?.headers||{}};return"GET"===V?k:(k.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},I?.headers),k.body=JSON.stringify(y),Object.assign(Object.assign({},k),g))};function Kt(V,I,g,y){return io.apply(this,arguments)}function io(){return io=(0,ne.A)(function*(V,I,g,y){var k;const $=Object.assign({},y?.headers);$[Cr]||($[Cr]=Pr["2024-01-01"].name),y?.jwt&&($.Authorization=`Bearer ${y.jwt}`);const z=null!==(k=y?.query)&&void 0!==k?k:{};y?.redirectTo&&(z.redirect_to=y.redirectTo);const X=Object.keys(z).length?"?"+new URLSearchParams(z).toString():"",ce=yield function Vi(V,I,g,y,k,$){return Lr.apply(this,arguments)}(V,I,g+X,{headers:$,noResolveJson:y?.noResolveJson},{},y?.body);return y?.xform?y?.xform(ce):{data:Object.assign({},ce),error:null}}),io.apply(this,arguments)}function Lr(){return(Lr=(0,ne.A)(function*(V,I,g,y,k,$){const z=mr(I,y,k,$);let X;try{X=yield V(g,Object.assign({},z))}catch(ce){throw console.error(ce),new Lt(Ao(ce),0)}if(X.ok||(yield Eo(X)),y?.noResolveJson)return X;try{return yield X.json()}catch(ce){yield Eo(ce)}})).apply(this,arguments)}function gr(V){var I;let g=null;return function mt(V){return V.access_token&&V.refresh_token&&V.expires_in}(V)&&(g=Object.assign({},V),V.expires_at||(g.expires_at=function en(V){return Math.round(Date.now()/1e3)+V}(V.expires_in))),{data:{session:g,user:null!==(I=V.user)&&void 0!==I?I:V},error:null}}function Co(V){const I=gr(V);return!I.error&&V.weak_password&&"object"==typeof V.weak_password&&Array.isArray(V.weak_password.reasons)&&V.weak_password.reasons.length&&V.weak_password.message&&"string"==typeof V.weak_password.message&&V.weak_password.reasons.reduce((g,y)=>g&&"string"==typeof y,!0)&&(I.data.weak_password=V.weak_password),I}function zn(V){var I;return{data:{user:null!==(I=V.user)&&void 0!==I?I:V},error:null}}function or(V){return{data:V,error:null}}function Fn(V){const{action_link:I,email_otp:g,hashed_token:y,redirect_to:k,verification_type:$}=V,z=function(V,I){var g={};for(var y in V)Object.prototype.hasOwnProperty.call(V,y)&&I.indexOf(y)<0&&(g[y]=V[y]);if(null!=V&&"function"==typeof Object.getOwnPropertySymbols){var k=0;for(y=Object.getOwnPropertySymbols(V);k<y.length;k++)I.indexOf(y[k])<0&&Object.prototype.propertyIsEnumerable.call(V,y[k])&&(g[y[k]]=V[y[k]])}return g}(V,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:I,email_otp:g,hashed_token:y,redirect_to:k,verification_type:$},user:Object.assign({},z)},error:null}}function Uo(V){return V}class Tr{constructor({url:I="",headers:g={},fetch:y}){this.url=I,this.headers=g,this.fetch=Vo(y),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(I){var g=this;return(0,ne.A)(function*(y,k="global"){try{return yield Kt(g.fetch,"POST",`${g.url}/logout?scope=${k}`,{headers:g.headers,jwt:y,noResolveJson:!0}),{data:null,error:null}}catch($){if(lt($))return{data:null,error:$};throw $}}).apply(this,arguments)}inviteUserByEmail(I){var g=this;return(0,ne.A)(function*(y,k={}){try{return yield Kt(g.fetch,"POST",`${g.url}/invite`,{body:{email:y,data:k.data},headers:g.headers,redirectTo:k.redirectTo,xform:zn})}catch($){if(lt($))return{data:{user:null},error:$};throw $}}).apply(this,arguments)}generateLink(I){var g=this;return(0,ne.A)(function*(){try{const{options:y}=I,k=function(V,I){var g={};for(var y in V)Object.prototype.hasOwnProperty.call(V,y)&&I.indexOf(y)<0&&(g[y]=V[y]);if(null!=V&&"function"==typeof Object.getOwnPropertySymbols){var k=0;for(y=Object.getOwnPropertySymbols(V);k<y.length;k++)I.indexOf(y[k])<0&&Object.prototype.propertyIsEnumerable.call(V,y[k])&&(g[y[k]]=V[y[k]])}return g}(I,["options"]),$=Object.assign(Object.assign({},k),y);return"newEmail"in k&&($.new_email=k?.newEmail,delete $.newEmail),yield Kt(g.fetch,"POST",`${g.url}/admin/generate_link`,{body:$,headers:g.headers,xform:Fn,redirectTo:y?.redirectTo})}catch(y){if(lt(y))return{data:{properties:null,user:null},error:y};throw y}})()}createUser(I){var g=this;return(0,ne.A)(function*(){try{return yield Kt(g.fetch,"POST",`${g.url}/admin/users`,{body:I,headers:g.headers,xform:zn})}catch(y){if(lt(y))return{data:{user:null},error:y};throw y}})()}listUsers(I){var g=this;return(0,ne.A)(function*(){var y,k,$,z,X,ce,Ce;try{const oe={nextPage:null,lastPage:0,total:0},$e=yield Kt(g.fetch,"GET",`${g.url}/admin/users`,{headers:g.headers,noResolveJson:!0,query:{page:null!==(k=null===(y=I?.page)||void 0===y?void 0:y.toString())&&void 0!==k?k:"",per_page:null!==(z=null===($=I?.perPage)||void 0===$?void 0:$.toString())&&void 0!==z?z:""},xform:Uo});if($e.error)throw $e.error;const ft=yield $e.json(),yt=null!==(X=$e.headers.get("x-total-count"))&&void 0!==X?X:0,_t=null!==(Ce=null===(ce=$e.headers.get("link"))||void 0===ce?void 0:ce.split(","))&&void 0!==Ce?Ce:[];return _t.length>0&&(_t.forEach(fn=>{const Wt=parseInt(fn.split(";")[0].split("=")[1].substring(0,1)),$r=JSON.parse(fn.split(";")[1].split("=")[1]);oe[`${$r}Page`]=Wt}),oe.total=parseInt(yt)),{data:Object.assign(Object.assign({},ft),oe),error:null}}catch(oe){if(lt(oe))return{data:{users:[]},error:oe};throw oe}})()}getUserById(I){var g=this;return(0,ne.A)(function*(){try{return yield Kt(g.fetch,"GET",`${g.url}/admin/users/${I}`,{headers:g.headers,xform:zn})}catch(y){if(lt(y))return{data:{user:null},error:y};throw y}})()}updateUserById(I,g){var y=this;return(0,ne.A)(function*(){try{return yield Kt(y.fetch,"PUT",`${y.url}/admin/users/${I}`,{body:g,headers:y.headers,xform:zn})}catch(k){if(lt(k))return{data:{user:null},error:k};throw k}})()}deleteUser(I){var g=this;return(0,ne.A)(function*(y,k=!1){try{return yield Kt(g.fetch,"DELETE",`${g.url}/admin/users/${y}`,{headers:g.headers,body:{should_soft_delete:k},xform:zn})}catch($){if(lt($))return{data:{user:null},error:$};throw $}}).apply(this,arguments)}_listFactors(I){var g=this;return(0,ne.A)(function*(){try{const{data:y,error:k}=yield Kt(g.fetch,"GET",`${g.url}/admin/users/${I.userId}/factors`,{headers:g.headers,xform:$=>({data:{factors:$},error:null})});return{data:y,error:k}}catch(y){if(lt(y))return{data:null,error:y};throw y}})()}_deleteFactor(I){var g=this;return(0,ne.A)(function*(){try{return{data:yield Kt(g.fetch,"DELETE",`${g.url}/admin/users/${I.userId}/factors/${I.id}`,{headers:g.headers}),error:null}}catch(y){if(lt(y))return{data:null,error:y};throw y}})()}}const po={getItem:V=>Or()?globalThis.localStorage.getItem(V):null,setItem:(V,I)=>{Or()&&globalThis.localStorage.setItem(V,I)},removeItem:V=>{Or()&&globalThis.localStorage.removeItem(V)}};function wo(V={}){return{getItem:I=>V[I]||null,setItem:(I,g)=>{V[I]=g},removeItem:I=>{delete V[I]}}}const Zr={debug:!!(globalThis&&Or()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"))};class ei extends Error{constructor(I){super(I),this.isAcquireTimeout=!0}}class Ro extends ei{}function ti(V,I,g){return xo.apply(this,arguments)}function xo(){return xo=(0,ne.A)(function*(V,I,g){Zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",V,I);const y=new globalThis.AbortController;return I>0&&setTimeout(()=>{y.abort(),Zr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",V)},I),yield globalThis.navigator.locks.request(V,0===I?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:y.signal},function(){var k=(0,ne.A)(function*($){if(!$){if(0===I)throw Zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",V),new Ro(`Acquiring an exclusive Navigator LockManager lock "${V}" immediately failed`);if(Zr.debug)try{const z=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(z,null,"  "))}catch(z){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",z)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield g()}Zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",V,$.name);try{return yield g()}finally{Zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",V,$.name)}});return function($){return k.apply(this,arguments)}}())}),xo.apply(this,arguments)}!function Mi(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}();const Ti={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:{"X-Client-Info":"gotrue-js/2.64.4"},flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Wn=3e4;function An(V,I,g){return ho.apply(this,arguments)}function ho(){return(ho=(0,ne.A)(function*(V,I,g){return yield g()})).apply(this,arguments)}const di=(()=>{class V{constructor(g){var k,$,y=this;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=V.nextInstanceID,V.nextInstanceID+=1,this.instanceID>0&&Gn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const z=Object.assign(Object.assign({},Ti),g);if(this.logDebugMessages=!!z.debug,"function"==typeof z.debug&&(this.logger=z.debug),this.persistSession=z.persistSession,this.storageKey=z.storageKey,this.autoRefreshToken=z.autoRefreshToken,this.admin=new Tr({url:z.url,headers:z.headers,fetch:z.fetch}),this.url=z.url,this.headers=z.headers,this.fetch=Vo(z.fetch),this.lock=z.lock||An,this.detectSessionInUrl=z.detectSessionInUrl,this.flowType=z.flowType,this.hasCustomAuthorizationHeader=z.hasCustomAuthorizationHeader,this.lock=z.lock?z.lock:Gn()&&null!==(k=globalThis?.navigator)&&void 0!==k&&k.locks?ti:An,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?z.storage?this.storage=z.storage:Or()?this.storage=po:(this.memoryStorage={},this.storage=wo(this.memoryStorage)):(this.memoryStorage={},this.storage=wo(this.memoryStorage)),Gn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(X){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",X)}null===($=this.broadcastChannel)||void 0===$||$.addEventListener("message",function(){var X=(0,ne.A)(function*(ce){y._debug("received broadcast notification from other tab or client",ce),yield y._notifyAllSubscribers(ce.data.event,ce.data.session,!1)});return function(ce){return X.apply(this,arguments)}}())}this.initialize()}_debug(...g){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (2.64.4) ${(new Date).toISOString()}`,...g),this}initialize(){var g=this;return(0,ne.A)(function*(){return g.initializePromise||(g.initializePromise=(0,ne.A)(function*(){return yield g._acquireLock(-1,(0,ne.A)(function*(){return yield g._initialize()}))})()),yield g.initializePromise})()}_initialize(){var g=this;return(0,ne.A)(function*(){try{const y=!!Gn()&&(yield g._isPKCEFlow());if(g._debug("#_initialize()","begin","is PKCE flow",y),y||g.detectSessionInUrl&&g._isImplicitGrantFlow()){const{data:k,error:$}=yield g._getSessionFromURL(y);if($)return g._debug("#_initialize()","error detecting session from URL",$),"Identity is already linked"===$?.message||"Identity is already linked to another user"===$?.message||(yield g._removeSession()),{error:$};const{session:z,redirectType:X}=k;return g._debug("#_initialize()","detected session in URL",z,"redirect type",X),yield g._saveSession(z),setTimeout((0,ne.A)(function*(){"recovery"===X?yield g._notifyAllSubscribers("PASSWORD_RECOVERY",z):yield g._notifyAllSubscribers("SIGNED_IN",z)}),0),{error:null}}return yield g._recoverAndRefresh(),{error:null}}catch(y){return lt(y)?{error:y}:{error:new ct("Unexpected error during initialization",y)}}finally{yield g._handleVisibilityChange(),g._debug("#_initialize()","end")}})()}signInAnonymously(g){var y=this;return(0,ne.A)(function*(){var k,$,z;try{const X=yield Kt(y.fetch,"POST",`${y.url}/signup`,{headers:y.headers,body:{data:null!==($=null===(k=g?.options)||void 0===k?void 0:k.data)&&void 0!==$?$:{},gotrue_meta_security:{captcha_token:null===(z=g?.options)||void 0===z?void 0:z.captchaToken}},xform:gr}),{data:ce,error:Ce}=X;if(Ce||!ce)return{data:{user:null,session:null},error:Ce};const oe=ce.session,$e=ce.user;return ce.session&&(yield y._saveSession(ce.session),yield y._notifyAllSubscribers("SIGNED_IN",oe)),{data:{user:$e,session:oe},error:null}}catch(X){if(lt(X))return{data:{user:null,session:null},error:X};throw X}})()}signUp(g){var y=this;return(0,ne.A)(function*(){var k,$,z;try{let X;if("email"in g){const{email:ft,password:yt,options:_t}=g;let fn=null,Wt=null;"pkce"===y.flowType&&([fn,Wt]=yield zt(y.storage,y.storageKey)),X=yield Kt(y.fetch,"POST",`${y.url}/signup`,{headers:y.headers,redirectTo:_t?.emailRedirectTo,body:{email:ft,password:yt,data:null!==(k=_t?.data)&&void 0!==k?k:{},gotrue_meta_security:{captcha_token:_t?.captchaToken},code_challenge:fn,code_challenge_method:Wt},xform:gr})}else{if(!("phone"in g))throw new oo("You must provide either an email or phone number and a password");{const{phone:ft,password:yt,options:_t}=g;X=yield Kt(y.fetch,"POST",`${y.url}/signup`,{headers:y.headers,body:{phone:ft,password:yt,data:null!==($=_t?.data)&&void 0!==$?$:{},channel:null!==(z=_t?.channel)&&void 0!==z?z:"sms",gotrue_meta_security:{captcha_token:_t?.captchaToken}},xform:gr})}}const{data:ce,error:Ce}=X;if(Ce||!ce)return{data:{user:null,session:null},error:Ce};const oe=ce.session,$e=ce.user;return ce.session&&(yield y._saveSession(ce.session),yield y._notifyAllSubscribers("SIGNED_IN",oe)),{data:{user:$e,session:oe},error:null}}catch(X){if(lt(X))return{data:{user:null,session:null},error:X};throw X}})()}signInWithPassword(g){var y=this;return(0,ne.A)(function*(){try{let k;if("email"in g){const{email:X,password:ce,options:Ce}=g;k=yield Kt(y.fetch,"POST",`${y.url}/token?grant_type=password`,{headers:y.headers,body:{email:X,password:ce,gotrue_meta_security:{captcha_token:Ce?.captchaToken}},xform:Co})}else{if(!("phone"in g))throw new oo("You must provide either an email or phone number and a password");{const{phone:X,password:ce,options:Ce}=g;k=yield Kt(y.fetch,"POST",`${y.url}/token?grant_type=password`,{headers:y.headers,body:{phone:X,password:ce,gotrue_meta_security:{captcha_token:Ce?.captchaToken}},xform:Co})}}const{data:$,error:z}=k;return z?{data:{user:null,session:null},error:z}:$&&$.session&&$.user?($.session&&(yield y._saveSession($.session),yield y._notifyAllSubscribers("SIGNED_IN",$.session)),{data:Object.assign({user:$.user,session:$.session},$.weak_password?{weakPassword:$.weak_password}:null),error:z}):{data:{user:null,session:null},error:new jr}}catch(k){if(lt(k))return{data:{user:null,session:null},error:k};throw k}})()}signInWithOAuth(g){var y=this;return(0,ne.A)(function*(){var k,$,z,X;return yield y._handleProviderSignIn(g.provider,{redirectTo:null===(k=g.options)||void 0===k?void 0:k.redirectTo,scopes:null===($=g.options)||void 0===$?void 0:$.scopes,queryParams:null===(z=g.options)||void 0===z?void 0:z.queryParams,skipBrowserRedirect:null===(X=g.options)||void 0===X?void 0:X.skipBrowserRedirect})})()}exchangeCodeForSession(g){var y=this;return(0,ne.A)(function*(){return yield y.initializePromise,y._acquireLock(-1,(0,ne.A)(function*(){return y._exchangeCodeForSession(g)}))})()}_exchangeCodeForSession(g){var y=this;return(0,ne.A)(function*(){const k=yield no(y.storage,`${y.storageKey}-code-verifier`),[$,z]=(k??"").split("/"),{data:X,error:ce}=yield Kt(y.fetch,"POST",`${y.url}/token?grant_type=pkce`,{headers:y.headers,body:{auth_code:g,code_verifier:$},xform:gr});return yield ro(y.storage,`${y.storageKey}-code-verifier`),ce?{data:{user:null,session:null,redirectType:null},error:ce}:X&&X.session&&X.user?(X.session&&(yield y._saveSession(X.session),yield y._notifyAllSubscribers("SIGNED_IN",X.session)),{data:Object.assign(Object.assign({},X),{redirectType:z??null}),error:ce}):{data:{user:null,session:null,redirectType:null},error:new jr}})()}signInWithIdToken(g){var y=this;return(0,ne.A)(function*(){try{const{options:k,provider:$,token:z,access_token:X,nonce:ce}=g,Ce=yield Kt(y.fetch,"POST",`${y.url}/token?grant_type=id_token`,{headers:y.headers,body:{provider:$,id_token:z,access_token:X,nonce:ce,gotrue_meta_security:{captcha_token:k?.captchaToken}},xform:gr}),{data:oe,error:$e}=Ce;return $e?{data:{user:null,session:null},error:$e}:oe&&oe.session&&oe.user?(oe.session&&(yield y._saveSession(oe.session),yield y._notifyAllSubscribers("SIGNED_IN",oe.session)),{data:oe,error:$e}):{data:{user:null,session:null},error:new jr}}catch(k){if(lt(k))return{data:{user:null,session:null},error:k};throw k}})()}signInWithOtp(g){var y=this;return(0,ne.A)(function*(){var k,$,z,X,ce;try{if("email"in g){const{email:Ce,options:oe}=g;let $e=null,ft=null;"pkce"===y.flowType&&([$e,ft]=yield zt(y.storage,y.storageKey));const{error:yt}=yield Kt(y.fetch,"POST",`${y.url}/otp`,{headers:y.headers,body:{email:Ce,data:null!==(k=oe?.data)&&void 0!==k?k:{},create_user:null===($=oe?.shouldCreateUser)||void 0===$||$,gotrue_meta_security:{captcha_token:oe?.captchaToken},code_challenge:$e,code_challenge_method:ft},redirectTo:oe?.emailRedirectTo});return{data:{user:null,session:null},error:yt}}if("phone"in g){const{phone:Ce,options:oe}=g,{data:$e,error:ft}=yield Kt(y.fetch,"POST",`${y.url}/otp`,{headers:y.headers,body:{phone:Ce,data:null!==(z=oe?.data)&&void 0!==z?z:{},create_user:null===(X=oe?.shouldCreateUser)||void 0===X||X,gotrue_meta_security:{captcha_token:oe?.captchaToken},channel:null!==(ce=oe?.channel)&&void 0!==ce?ce:"sms"}});return{data:{user:null,session:null,messageId:$e?.message_id},error:ft}}throw new oo("You must provide either an email or phone number.")}catch(Ce){if(lt(Ce))return{data:{user:null,session:null},error:Ce};throw Ce}})()}verifyOtp(g){var y=this;return(0,ne.A)(function*(){var k,$;try{let z,X;"options"in g&&(z=null===(k=g.options)||void 0===k?void 0:k.redirectTo,X=null===($=g.options)||void 0===$?void 0:$.captchaToken);const{data:ce,error:Ce}=yield Kt(y.fetch,"POST",`${y.url}/verify`,{headers:y.headers,body:Object.assign(Object.assign({},g),{gotrue_meta_security:{captcha_token:X}}),redirectTo:z,xform:gr});if(Ce)throw Ce;if(!ce)throw new Error("An error occurred on token verification.");const oe=ce.session,$e=ce.user;return oe?.access_token&&(yield y._saveSession(oe),yield y._notifyAllSubscribers("recovery"==g.type?"PASSWORD_RECOVERY":"SIGNED_IN",oe)),{data:{user:$e,session:oe},error:null}}catch(z){if(lt(z))return{data:{user:null,session:null},error:z};throw z}})()}signInWithSSO(g){var y=this;return(0,ne.A)(function*(){var k,$,z;try{let X=null,ce=null;return"pkce"===y.flowType&&([X,ce]=yield zt(y.storage,y.storageKey)),yield Kt(y.fetch,"POST",`${y.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in g?{provider_id:g.providerId}:null),"domain"in g?{domain:g.domain}:null),{redirect_to:null!==($=null===(k=g.options)||void 0===k?void 0:k.redirectTo)&&void 0!==$?$:void 0}),null!==(z=g?.options)&&void 0!==z&&z.captchaToken?{gotrue_meta_security:{captcha_token:g.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:X,code_challenge_method:ce}),headers:y.headers,xform:or})}catch(X){if(lt(X))return{data:null,error:X};throw X}})()}reauthenticate(){var g=this;return(0,ne.A)(function*(){return yield g.initializePromise,yield g._acquireLock(-1,(0,ne.A)(function*(){return yield g._reauthenticate()}))})()}_reauthenticate(){var g=this;return(0,ne.A)(function*(){try{return yield g._useSession(function(){var y=(0,ne.A)(function*(k){const{data:{session:$},error:z}=k;if(z)throw z;if(!$)throw new Jr;const{error:X}=yield Kt(g.fetch,"GET",`${g.url}/reauthenticate`,{headers:g.headers,jwt:$.access_token});return{data:{user:null,session:null},error:X}});return function(k){return y.apply(this,arguments)}}())}catch(y){if(lt(y))return{data:{user:null,session:null},error:y};throw y}})()}resend(g){var y=this;return(0,ne.A)(function*(){try{const k=`${y.url}/resend`;if("email"in g){const{email:$,type:z,options:X}=g,{error:ce}=yield Kt(y.fetch,"POST",k,{headers:y.headers,body:{email:$,type:z,gotrue_meta_security:{captcha_token:X?.captchaToken}},redirectTo:X?.emailRedirectTo});return{data:{user:null,session:null},error:ce}}if("phone"in g){const{phone:$,type:z,options:X}=g,{data:ce,error:Ce}=yield Kt(y.fetch,"POST",k,{headers:y.headers,body:{phone:$,type:z,gotrue_meta_security:{captcha_token:X?.captchaToken}}});return{data:{user:null,session:null,messageId:ce?.message_id},error:Ce}}throw new oo("You must provide either an email or phone number and a type")}catch(k){if(lt(k))return{data:{user:null,session:null},error:k};throw k}})()}getSession(){var g=this;return(0,ne.A)(function*(){return yield g.initializePromise,yield g._acquireLock(-1,(0,ne.A)(function*(){return g._useSession(function(){var k=(0,ne.A)(function*($){return $});return function($){return k.apply(this,arguments)}}())}))})()}_acquireLock(g,y){var k=this;return(0,ne.A)(function*(){k._debug("#_acquireLock","begin",g);try{if(k.lockAcquired){const $=k.pendingInLock.length?k.pendingInLock[k.pendingInLock.length-1]:Promise.resolve(),z=(0,ne.A)(function*(){return yield $,yield y()})();return k.pendingInLock.push((0,ne.A)(function*(){try{yield z}catch{}})()),z}return yield k.lock(`lock:${k.storageKey}`,g,(0,ne.A)(function*(){k._debug("#_acquireLock","lock acquired for storage key",k.storageKey);try{k.lockAcquired=!0;const $=y();for(k.pendingInLock.push((0,ne.A)(function*(){try{yield $}catch{}})()),yield $;k.pendingInLock.length;){const z=[...k.pendingInLock];yield Promise.all(z),k.pendingInLock.splice(0,z.length)}return yield $}finally{k._debug("#_acquireLock","lock released for storage key",k.storageKey),k.lockAcquired=!1}}))}finally{k._debug("#_acquireLock","end")}})()}_useSession(g){var y=this;return(0,ne.A)(function*(){y._debug("#_useSession","begin");try{const k=yield y.__loadSession();return yield g(k)}finally{y._debug("#_useSession","end")}})()}__loadSession(){var g=this;return(0,ne.A)(function*(){g._debug("#__loadSession()","begin"),g.lockAcquired||g._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let y=null;const k=yield no(g.storage,g.storageKey);if(g._debug("#getSession()","session from storage",k),null!==k&&(g._isValidSession(k)?y=k:(g._debug("#getSession()","session from storage is not valid"),yield g._removeSession())),!y)return{data:{session:null},error:null};const $=!!y.expires_at&&y.expires_at<=Date.now()/1e3;if(g._debug("#__loadSession()",`session has${$?"":" not"} expired`,"expires_at",y.expires_at),!$){if(g.storage.isServer){let ce=g.suppressGetSessionWarning;y=new Proxy(y,{get:(oe,$e,ft)=>(!ce&&"user"===$e&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),ce=!0,g.suppressGetSessionWarning=!0),Reflect.get(oe,$e,ft))})}return{data:{session:y},error:null}}const{session:z,error:X}=yield g._callRefreshToken(y.refresh_token);return X?{data:{session:null},error:X}:{data:{session:z},error:null}}finally{g._debug("#__loadSession()","end")}})()}getUser(g){var y=this;return(0,ne.A)(function*(){return g?yield y._getUser(g):(yield y.initializePromise,yield y._acquireLock(-1,(0,ne.A)(function*(){return yield y._getUser()})))})()}_getUser(g){var y=this;return(0,ne.A)(function*(){try{return g?yield Kt(y.fetch,"GET",`${y.url}/user`,{headers:y.headers,jwt:g,xform:zn}):yield y._useSession(function(){var k=(0,ne.A)(function*($){var z,X,ce;const{data:Ce,error:oe}=$;if(oe)throw oe;return null!==(z=Ce.session)&&void 0!==z&&z.access_token||y.hasCustomAuthorizationHeader?yield Kt(y.fetch,"GET",`${y.url}/user`,{headers:y.headers,jwt:null!==(ce=null===(X=Ce.session)||void 0===X?void 0:X.access_token)&&void 0!==ce?ce:void 0,xform:zn}):{data:{user:null},error:new Jr}});return function($){return k.apply(this,arguments)}}())}catch(k){if(lt(k))return{data:{user:null},error:k};throw k}})()}updateUser(g){var y=this;return(0,ne.A)(function*(k,$={}){return yield y.initializePromise,yield y._acquireLock(-1,(0,ne.A)(function*(){return yield y._updateUser(k,$)}))}).apply(this,arguments)}_updateUser(g){var y=this;return(0,ne.A)(function*(k,$={}){try{return yield y._useSession(function(){var z=(0,ne.A)(function*(X){const{data:ce,error:Ce}=X;if(Ce)throw Ce;if(!ce.session)throw new Jr;const oe=ce.session;let $e=null,ft=null;"pkce"===y.flowType&&null!=k.email&&([$e,ft]=yield zt(y.storage,y.storageKey));const{data:yt,error:_t}=yield Kt(y.fetch,"PUT",`${y.url}/user`,{headers:y.headers,redirectTo:$?.emailRedirectTo,body:Object.assign(Object.assign({},k),{code_challenge:$e,code_challenge_method:ft}),jwt:oe.access_token,xform:zn});if(_t)throw _t;return oe.user=yt.user,yield y._saveSession(oe),yield y._notifyAllSubscribers("USER_UPDATED",oe),{data:{user:oe.user},error:null}});return function(X){return z.apply(this,arguments)}}())}catch(z){if(lt(z))return{data:{user:null},error:z};throw z}}).apply(this,arguments)}_decodeJWT(g){return Y(g)}setSession(g){var y=this;return(0,ne.A)(function*(){return yield y.initializePromise,yield y._acquireLock(-1,(0,ne.A)(function*(){return yield y._setSession(g)}))})()}_setSession(g){var y=this;return(0,ne.A)(function*(){try{if(!g.access_token||!g.refresh_token)throw new Jr;const k=Date.now()/1e3;let $=k,z=!0,X=null;const ce=Y(g.access_token);if(ce.exp&&($=ce.exp,z=$<=k),z){const{session:Ce,error:oe}=yield y._callRefreshToken(g.refresh_token);if(oe)return{data:{user:null,session:null},error:oe};if(!Ce)return{data:{user:null,session:null},error:null};X=Ce}else{const{data:Ce,error:oe}=yield y._getUser(g.access_token);if(oe)throw oe;X={access_token:g.access_token,refresh_token:g.refresh_token,user:Ce.user,token_type:"bearer",expires_in:$-k,expires_at:$},yield y._saveSession(X),yield y._notifyAllSubscribers("SIGNED_IN",X)}return{data:{user:X.user,session:X},error:null}}catch(k){if(lt(k))return{data:{session:null,user:null},error:k};throw k}})()}refreshSession(g){var y=this;return(0,ne.A)(function*(){return yield y.initializePromise,yield y._acquireLock(-1,(0,ne.A)(function*(){return yield y._refreshSession(g)}))})()}_refreshSession(g){var y=this;return(0,ne.A)(function*(){try{return yield y._useSession(function(){var k=(0,ne.A)(function*($){var z;if(!g){const{data:Ce,error:oe}=$;if(oe)throw oe;g=null!==(z=Ce.session)&&void 0!==z?z:void 0}if(!g?.refresh_token)throw new Jr;const{session:X,error:ce}=yield y._callRefreshToken(g.refresh_token);return ce?{data:{user:null,session:null},error:ce}:X?{data:{user:X.user,session:X},error:null}:{data:{user:null,session:null},error:null}});return function($){return k.apply(this,arguments)}}())}catch(k){if(lt(k))return{data:{user:null,session:null},error:k};throw k}})()}_getSessionFromURL(g){var y=this;return(0,ne.A)(function*(){try{if(!Gn())throw new kr("No browser detected.");if("implicit"===y.flowType&&!y._isImplicitGrantFlow())throw new kr("Not a valid implicit grant flow url.");if("pkce"==y.flowType&&!g)throw new Qo("Not a valid PKCE flow url.");const k=Qr(window.location.href);if(g){if(!k.code)throw new Qo("No code detected.");const{data:ir,error:Hn}=yield y._exchangeCodeForSession(k.code);if(Hn)throw Hn;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:ir.session,redirectType:null},error:null}}if(k.error||k.error_description||k.error_code)throw new kr(k.error_description||"Error in URL with unspecified error_description",{error:k.error||"unspecified_error",code:k.error_code||"unspecified_code"});const{provider_token:$,provider_refresh_token:z,access_token:X,refresh_token:ce,expires_in:Ce,expires_at:oe,token_type:$e}=k;if(!(X&&Ce&&ce&&$e))throw new kr("No session defined in URL");const ft=Math.round(Date.now()/1e3),yt=parseInt(Ce);let _t=ft+yt;oe&&(_t=parseInt(oe));const fn=_t-ft;1e3*fn<=Wn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${fn}s, should have been closer to ${yt}s`);const Wt=_t-yt;ft-Wt>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",Wt,_t,ft):ft-Wt<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",Wt,_t,ft);const{data:$r,error:eo}=yield y._getUser(X);if(eo)throw eo;const mo={provider_token:$,provider_refresh_token:z,access_token:X,expires_in:yt,expires_at:_t,refresh_token:ce,token_type:$e,user:$r.user};return window.location.hash="",y._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:mo,redirectType:k.type},error:null}}catch(k){if(lt(k))return{data:{session:null,redirectType:null},error:k};throw k}})()}_isImplicitGrantFlow(){const g=Qr(window.location.href);return!(!Gn()||!g.access_token&&!g.error_description)}_isPKCEFlow(){var g=this;return(0,ne.A)(function*(){const y=Qr(window.location.href),k=yield no(g.storage,`${g.storageKey}-code-verifier`);return!(!y.code||!k)})()}signOut(){var g=this;return(0,ne.A)(function*(y={scope:"global"}){return yield g.initializePromise,yield g._acquireLock(-1,(0,ne.A)(function*(){return yield g._signOut(y)}))}).apply(this,arguments)}_signOut(){var g=this;return(0,ne.A)(function*({scope:y}={scope:"global"}){return yield g._useSession(function(){var k=(0,ne.A)(function*($){var z;const{data:X,error:ce}=$;if(ce)return{error:ce};const Ce=null===(z=X.session)||void 0===z?void 0:z.access_token;if(Ce){const{error:oe}=yield g.admin.signOut(Ce,y);if(oe&&(!function Et(V){return lt(V)&&"AuthApiError"===V.name}(oe)||404!==oe.status&&401!==oe.status&&403!==oe.status))return{error:oe}}return"others"!==y&&(yield g._removeSession(),yield ro(g.storage,`${g.storageKey}-code-verifier`),yield g._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}});return function($){return k.apply(this,arguments)}}())}).apply(this,arguments)}onAuthStateChange(g){var y=this;const k=function Kr(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(V){const I=16*Math.random()|0;return("x"==V?I:3&I|8).toString(16)})}(),$={id:k,callback:g,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",k),this.stateChangeEmitters.delete(k)}};return this._debug("#onAuthStateChange()","registered callback with id",k),this.stateChangeEmitters.set(k,$),(0,ne.A)(function*(){yield y.initializePromise,yield y._acquireLock(-1,(0,ne.A)(function*(){y._emitInitialSession(k)}))})(),{data:{subscription:$}}}_emitInitialSession(g){var y=this;return(0,ne.A)(function*(){return yield y._useSession(function(){var k=(0,ne.A)(function*($){var z,X;try{const{data:{session:ce},error:Ce}=$;if(Ce)throw Ce;yield null===(z=y.stateChangeEmitters.get(g))||void 0===z?void 0:z.callback("INITIAL_SESSION",ce),y._debug("INITIAL_SESSION","callback id",g,"session",ce)}catch(ce){yield null===(X=y.stateChangeEmitters.get(g))||void 0===X?void 0:X.callback("INITIAL_SESSION",null),y._debug("INITIAL_SESSION","callback id",g,"error",ce),console.error(ce)}});return function($){return k.apply(this,arguments)}}())})()}resetPasswordForEmail(g){var y=this;return(0,ne.A)(function*(k,$={}){let z=null,X=null;"pkce"===y.flowType&&([z,X]=yield zt(y.storage,y.storageKey,!0));try{return yield Kt(y.fetch,"POST",`${y.url}/recover`,{body:{email:k,code_challenge:z,code_challenge_method:X,gotrue_meta_security:{captcha_token:$.captchaToken}},headers:y.headers,redirectTo:$.redirectTo})}catch(ce){if(lt(ce))return{data:null,error:ce};throw ce}}).apply(this,arguments)}getUserIdentities(){var g=this;return(0,ne.A)(function*(){var y;try{const{data:k,error:$}=yield g.getUser();if($)throw $;return{data:{identities:null!==(y=k.user.identities)&&void 0!==y?y:[]},error:null}}catch(k){if(lt(k))return{data:null,error:k};throw k}})()}linkIdentity(g){var y=this;return(0,ne.A)(function*(){var k;try{const{data:$,error:z}=yield y._useSession(function(){var X=(0,ne.A)(function*(ce){var Ce,oe,$e,ft,yt;const{data:_t,error:fn}=ce;if(fn)throw fn;const Wt=yield y._getUrlForProvider(`${y.url}/user/identities/authorize`,g.provider,{redirectTo:null===(Ce=g.options)||void 0===Ce?void 0:Ce.redirectTo,scopes:null===(oe=g.options)||void 0===oe?void 0:oe.scopes,queryParams:null===($e=g.options)||void 0===$e?void 0:$e.queryParams,skipBrowserRedirect:!0});return yield Kt(y.fetch,"GET",Wt,{headers:y.headers,jwt:null!==(yt=null===(ft=_t.session)||void 0===ft?void 0:ft.access_token)&&void 0!==yt?yt:void 0})});return function(ce){return X.apply(this,arguments)}}());if(z)throw z;return Gn()&&!(null!==(k=g.options)&&void 0!==k&&k.skipBrowserRedirect)&&window.location.assign($?.url),{data:{provider:g.provider,url:$?.url},error:null}}catch($){if(lt($))return{data:{provider:g.provider,url:null},error:$};throw $}})()}unlinkIdentity(g){var y=this;return(0,ne.A)(function*(){try{return yield y._useSession(function(){var k=(0,ne.A)(function*($){var z,X;const{data:ce,error:Ce}=$;if(Ce)throw Ce;return yield Kt(y.fetch,"DELETE",`${y.url}/user/identities/${g.identity_id}`,{headers:y.headers,jwt:null!==(X=null===(z=ce.session)||void 0===z?void 0:z.access_token)&&void 0!==X?X:void 0})});return function($){return k.apply(this,arguments)}}())}catch(k){if(lt(k))return{data:null,error:k};throw k}})()}_refreshAccessToken(g){var y=this;return(0,ne.A)(function*(){const k=`#_refreshAccessToken(${g.substring(0,5)}...)`;y._debug(k,"begin");try{const $=Date.now();return yield function ke(V,I){return new Promise((y,k)=>{(0,ne.A)(function*(){for(let $=0;$<1/0;$++)try{const z=yield V($);if(!I($,null,z))return void y(z)}catch(z){if(!I($,z))return void k(z)}})()})}(function(){var z=(0,ne.A)(function*(X){return X>0&&(yield function ie(V){return Z.apply(this,arguments)}(200*Math.pow(2,X-1))),y._debug(k,"refreshing attempt",X),yield Kt(y.fetch,"POST",`${y.url}/token?grant_type=refresh_token`,{body:{refresh_token:g},headers:y.headers,xform:gr})});return function(X){return z.apply(this,arguments)}}(),(z,X)=>{const ce=200*Math.pow(2,z);return X&&bo(X)&&Date.now()+ce-$<Wn})}catch($){if(y._debug(k,"error",$),lt($))return{data:{session:null,user:null},error:$};throw $}finally{y._debug(k,"end")}})()}_isValidSession(g){return"object"==typeof g&&null!==g&&"access_token"in g&&"refresh_token"in g&&"expires_at"in g}_handleProviderSignIn(g,y){var k=this;return(0,ne.A)(function*(){const $=yield k._getUrlForProvider(`${k.url}/authorize`,g,{redirectTo:y.redirectTo,scopes:y.scopes,queryParams:y.queryParams});return k._debug("#_handleProviderSignIn()","provider",g,"options",y,"url",$),Gn()&&!y.skipBrowserRedirect&&window.location.assign($),{data:{provider:g,url:$},error:null}})()}_recoverAndRefresh(){var g=this;return(0,ne.A)(function*(){var y;const k="#_recoverAndRefresh()";g._debug(k,"begin");try{const $=yield no(g.storage,g.storageKey);if(g._debug(k,"session from storage",$),!g._isValidSession($))return g._debug(k,"session is not valid"),void(null!==$&&(yield g._removeSession()));const z=Math.round(Date.now()/1e3),X=(null!==(y=$.expires_at)&&void 0!==y?y:1/0)<z+10;if(g._debug(k,`session has${X?"":" not"} expired with margin of 10s`),X){if(g.autoRefreshToken&&$.refresh_token){const{error:ce}=yield g._callRefreshToken($.refresh_token);ce&&(console.error(ce),bo(ce)||(g._debug(k,"refresh failed with a non-retryable error, removing the session",ce),yield g._removeSession()))}}else yield g._notifyAllSubscribers("SIGNED_IN",$)}catch($){return g._debug(k,"error",$),void console.error($)}finally{g._debug(k,"end")}})()}_callRefreshToken(g){var y=this;return(0,ne.A)(function*(){var k,$;if(!g)throw new Jr;if(y.refreshingDeferred)return y.refreshingDeferred.promise;const z=`#_callRefreshToken(${g.substring(0,5)}...)`;y._debug(z,"begin");try{y.refreshingDeferred=new It;const{data:X,error:ce}=yield y._refreshAccessToken(g);if(ce)throw ce;if(!X.session)throw new Jr;yield y._saveSession(X.session),yield y._notifyAllSubscribers("TOKEN_REFRESHED",X.session);const Ce={session:X.session,error:null};return y.refreshingDeferred.resolve(Ce),Ce}catch(X){if(y._debug(z,"error",X),lt(X)){const ce={session:null,error:X};return bo(X)||(yield y._removeSession(),yield y._notifyAllSubscribers("SIGNED_OUT",null)),null===(k=y.refreshingDeferred)||void 0===k||k.resolve(ce),ce}throw null===($=y.refreshingDeferred)||void 0===$||$.reject(X),X}finally{y.refreshingDeferred=null,y._debug(z,"end")}})()}_notifyAllSubscribers(g,y){var k=this;return(0,ne.A)(function*($,z,X=!0){const ce=`#_notifyAllSubscribers(${$})`;k._debug(ce,"begin",z,`broadcast = ${X}`);try{k.broadcastChannel&&X&&k.broadcastChannel.postMessage({event:$,session:z});const Ce=[],oe=Array.from(k.stateChangeEmitters.values()).map(function(){var $e=(0,ne.A)(function*(ft){try{yield ft.callback($,z)}catch(yt){Ce.push(yt)}});return function(ft){return $e.apply(this,arguments)}}());if(yield Promise.all(oe),Ce.length>0){for(let $e=0;$e<Ce.length;$e+=1)console.error(Ce[$e]);throw Ce[0]}}finally{k._debug(ce,"end")}}).apply(this,arguments)}_saveSession(g){var y=this;return(0,ne.A)(function*(){y._debug("#_saveSession()",g),y.suppressGetSessionWarning=!0,yield Ir(y.storage,y.storageKey,g)})()}_removeSession(){var g=this;return(0,ne.A)(function*(){g._debug("#_removeSession()"),yield ro(g.storage,g.storageKey)})()}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const g=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{g&&Gn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",g)}catch(y){console.error("removing visibilitychange callback failed",y)}}_startAutoRefresh(){var g=this;return(0,ne.A)(function*(){yield g._stopAutoRefresh(),g._debug("#_startAutoRefresh()");const y=setInterval(()=>g._autoRefreshTokenTick(),Wn);g.autoRefreshTicker=y,y&&"object"==typeof y&&"function"==typeof y.unref?y.unref():typeof Deno<"u"&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(y),setTimeout((0,ne.A)(function*(){yield g.initializePromise,yield g._autoRefreshTokenTick()}),0)})()}_stopAutoRefresh(){var g=this;return(0,ne.A)(function*(){g._debug("#_stopAutoRefresh()");const y=g.autoRefreshTicker;g.autoRefreshTicker=null,y&&clearInterval(y)})()}startAutoRefresh(){var g=this;return(0,ne.A)(function*(){g._removeVisibilityChangedCallback(),yield g._startAutoRefresh()})()}stopAutoRefresh(){var g=this;return(0,ne.A)(function*(){g._removeVisibilityChangedCallback(),yield g._stopAutoRefresh()})()}_autoRefreshTokenTick(){var g=this;return(0,ne.A)(function*(){g._debug("#_autoRefreshTokenTick()","begin");try{yield g._acquireLock(0,(0,ne.A)(function*(){try{const y=Date.now();try{return yield g._useSession(function(){var k=(0,ne.A)(function*($){const{data:{session:z}}=$;if(!z||!z.refresh_token||!z.expires_at)return void g._debug("#_autoRefreshTokenTick()","no session");const X=Math.floor((1e3*z.expires_at-y)/Wn);g._debug("#_autoRefreshTokenTick()",`access token expires in ${X} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),X<=3&&(yield g._callRefreshToken(z.refresh_token))});return function($){return k.apply(this,arguments)}}())}catch(k){console.error("Auto refresh tick failed with error. This is likely a transient error.",k)}}finally{g._debug("#_autoRefreshTokenTick()","end")}}))}catch(y){if(!(y.isAcquireTimeout||y instanceof ei))throw y;g._debug("auto refresh token tick lock not available")}})()}_handleVisibilityChange(){var g=this;return(0,ne.A)(function*(){if(g._debug("#_handleVisibilityChange()"),!Gn()||!window?.addEventListener)return g.autoRefreshToken&&g.startAutoRefresh(),!1;try{g.visibilityChangedCallback=(0,ne.A)(function*(){return yield g._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",g.visibilityChangedCallback),yield g._onVisibilityChanged(!0)}catch(y){console.error("_handleVisibilityChange",y)}})()}_onVisibilityChanged(g){var y=this;return(0,ne.A)(function*(){const k=`#_onVisibilityChanged(${g})`;y._debug(k,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(y.autoRefreshToken&&y._startAutoRefresh(),g||(yield y.initializePromise,yield y._acquireLock(-1,(0,ne.A)(function*(){"visible"===document.visibilityState?yield y._recoverAndRefresh():y._debug(k,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&y.autoRefreshToken&&y._stopAutoRefresh()})()}_getUrlForProvider(g,y,k){var $=this;return(0,ne.A)(function*(){const z=[`provider=${encodeURIComponent(y)}`];if(k?.redirectTo&&z.push(`redirect_to=${encodeURIComponent(k.redirectTo)}`),k?.scopes&&z.push(`scopes=${encodeURIComponent(k.scopes)}`),"pkce"===$.flowType){const[X,ce]=yield zt($.storage,$.storageKey),Ce=new URLSearchParams({code_challenge:`${encodeURIComponent(X)}`,code_challenge_method:`${encodeURIComponent(ce)}`});z.push(Ce.toString())}if(k?.queryParams){const X=new URLSearchParams(k.queryParams);z.push(X.toString())}return k?.skipBrowserRedirect&&z.push(`skip_http_redirect=${k.skipBrowserRedirect}`),`${g}?${z.join("&")}`})()}_unenroll(g){var y=this;return(0,ne.A)(function*(){try{return yield y._useSession(function(){var k=(0,ne.A)(function*($){var z;const{data:X,error:ce}=$;return ce?{data:null,error:ce}:yield Kt(y.fetch,"DELETE",`${y.url}/factors/${g.factorId}`,{headers:y.headers,jwt:null===(z=X?.session)||void 0===z?void 0:z.access_token})});return function($){return k.apply(this,arguments)}}())}catch(k){if(lt(k))return{data:null,error:k};throw k}})()}_enroll(g){var y=this;return(0,ne.A)(function*(){try{return yield y._useSession(function(){var k=(0,ne.A)(function*($){var z,X;const{data:ce,error:Ce}=$;if(Ce)return{data:null,error:Ce};const{data:oe,error:$e}=yield Kt(y.fetch,"POST",`${y.url}/factors`,{body:{friendly_name:g.friendlyName,factor_type:g.factorType,issuer:g.issuer},headers:y.headers,jwt:null===(z=ce?.session)||void 0===z?void 0:z.access_token});return $e?{data:null,error:$e}:(!(null===(X=oe?.totp)||void 0===X)&&X.qr_code&&(oe.totp.qr_code=`data:image/svg+xml;utf-8,${oe.totp.qr_code}`),{data:oe,error:null})});return function($){return k.apply(this,arguments)}}())}catch(k){if(lt(k))return{data:null,error:k};throw k}})()}_verify(g){var y=this;return(0,ne.A)(function*(){return y._acquireLock(-1,(0,ne.A)(function*(){try{return yield y._useSession(function(){var k=(0,ne.A)(function*($){var z;const{data:X,error:ce}=$;if(ce)return{data:null,error:ce};const{data:Ce,error:oe}=yield Kt(y.fetch,"POST",`${y.url}/factors/${g.factorId}/verify`,{body:{code:g.code,challenge_id:g.challengeId},headers:y.headers,jwt:null===(z=X?.session)||void 0===z?void 0:z.access_token});return oe?{data:null,error:oe}:(yield y._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+Ce.expires_in},Ce)),yield y._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",Ce),{data:Ce,error:oe})});return function($){return k.apply(this,arguments)}}())}catch(k){if(lt(k))return{data:null,error:k};throw k}}))})()}_challenge(g){var y=this;return(0,ne.A)(function*(){return y._acquireLock(-1,(0,ne.A)(function*(){try{return yield y._useSession(function(){var k=(0,ne.A)(function*($){var z;const{data:X,error:ce}=$;return ce?{data:null,error:ce}:yield Kt(y.fetch,"POST",`${y.url}/factors/${g.factorId}/challenge`,{headers:y.headers,jwt:null===(z=X?.session)||void 0===z?void 0:z.access_token})});return function($){return k.apply(this,arguments)}}())}catch(k){if(lt(k))return{data:null,error:k};throw k}}))})()}_challengeAndVerify(g){var y=this;return(0,ne.A)(function*(){const{data:k,error:$}=yield y._challenge({factorId:g.factorId});return $?{data:null,error:$}:yield y._verify({factorId:g.factorId,challengeId:k.id,code:g.code})})()}_listFactors(){var g=this;return(0,ne.A)(function*(){const{data:{user:y},error:k}=yield g.getUser();if(k)return{data:null,error:k};const $=y?.factors||[],z=$.filter(X=>"totp"===X.factor_type&&"verified"===X.status);return{data:{all:$,totp:z},error:null}})()}_getAuthenticatorAssuranceLevel(){var g=this;return(0,ne.A)(function*(){return g._acquireLock(-1,(0,ne.A)(function*(){return yield g._useSession(function(){var y=(0,ne.A)(function*(k){var $,z;const{data:{session:X},error:ce}=k;if(ce)return{data:null,error:ce};if(!X)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const Ce=g._decodeJWT(X.access_token);let oe=null;Ce.aal&&(oe=Ce.aal);let $e=oe;return(null!==(z=null===($=X.user.factors)||void 0===$?void 0:$.filter(_t=>"verified"===_t.status))&&void 0!==z?z:[]).length>0&&($e="aal2"),{data:{currentLevel:oe,nextLevel:$e,currentAuthenticationMethods:Ce.amr||[]},error:null}});return function(k){return y.apply(this,arguments)}}())}))})()}}return V.nextInstanceID=0,V})();class Ho extends di{constructor(I){super(I)}}class Un{constructor(I,g,y){var k,$,z;if(this.supabaseUrl=I,this.supabaseKey=g,!I)throw new Error("supabaseUrl is required.");if(!g)throw new Error("supabaseKey is required.");const X=function Er(V){return V.replace(/\/$/,"")}(I);this.realtimeUrl=`${X}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${X}/auth/v1`,this.storageUrl=`${X}/storage/v1`,this.functionsUrl=`${X}/functions/v1`;const ce=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,oe=function Yr(V,I){const{db:g,auth:y,realtime:k,global:$}=V,{db:z,auth:X,realtime:ce,global:Ce}=I;return{db:Object.assign(Object.assign({},z),g),auth:Object.assign(Object.assign({},X),y),realtime:Object.assign(Object.assign({},ce),k),global:Object.assign(Object.assign({},Ce),$)}}(y??{},{db:te,realtime:Be,auth:Object.assign(Object.assign({},fe),{storageKey:ce}),global:ye});this.storageKey=null!==(k=oe.auth.storageKey)&&void 0!==k?k:"",this.headers=null!==($=oe.global.headers)&&void 0!==$?$:{},this.auth=this._initSupabaseAuthClient(null!==(z=oe.auth)&&void 0!==z?z:{},this.headers,oe.global.fetch),this.fetch=rr(g,this._getAccessToken.bind(this),oe.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},oe.realtime)),this.rest=new he(`${X}/rest/v1`,{headers:this.headers,schema:oe.db.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new K(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Mn(this.storageUrl,this.headers,this.fetch)}from(I){return this.rest.from(I)}schema(I){return this.rest.schema(I)}rpc(I,g={},y={}){return this.rest.rpc(I,g,y)}channel(I,g={config:{}}){return this.realtime.channel(I,g)}getChannels(){return this.realtime.getChannels()}removeChannel(I){return this.realtime.removeChannel(I)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var I,g;return function(V,I,g,y){return new(g||(g=Promise))(function($,z){function X(oe){try{Ce(y.next(oe))}catch($e){z($e)}}function ce(oe){try{Ce(y.throw(oe))}catch($e){z($e)}}function Ce(oe){oe.done?$(oe.value):function k($){return $ instanceof g?$:new g(function(z){z($)})}(oe.value).then(X,ce)}Ce((y=y.apply(V,I||[])).next())})}(this,void 0,void 0,function*(){const{data:y}=yield this.auth.getSession();return null!==(g=null===(I=y.session)||void 0===I?void 0:I.access_token)&&void 0!==g?g:null})}_initSupabaseAuthClient({autoRefreshToken:I,persistSession:g,detectSessionInUrl:y,storage:k,storageKey:$,flowType:z,debug:X},ce,Ce){var oe;return new Ho({url:this.authUrl,headers:Object.assign(Object.assign({},{Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`}),ce),storageKey:$,autoRefreshToken:I,persistSession:g,detectSessionInUrl:y,storage:k,flowType:z,debug:X,fetch:Ce,hasCustomAuthorizationHeader:null!==(oe="Authorization"in this.headers)&&void 0!==oe&&oe})}_initRealtimeClient(I){return new kn(this.realtimeUrl,Object.assign(Object.assign({},I),{params:Object.assign({apikey:this.supabaseKey},I?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((g,y)=>{this._handleTokenChanged(g,"CLIENT",y?.access_token)})}_handleTokenChanged(I,g,y){"TOKEN_REFRESHED"!==I&&"SIGNED_IN"!==I||this.changedAccessToken===y?"SIGNED_OUT"===I&&(this.realtime.setAuth(this.supabaseKey),"STORAGE"==g&&this.auth.signOut(),this.changedAccessToken=void 0):(this.realtime.setAuth(y??null),this.changedAccessToken=y)}}const Do=(V,I,g)=>new Un(V,I,g)},4412:(Je,ge,D)=>{"use strict";D.d(ge,{t:()=>L});var d=D(1413);class L extends d.B{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const A=super._subscribe(e);return!A.closed&&e.next(this._value),A}getValue(){const{hasError:e,thrownError:A,_value:H}=this;if(e)throw A;return this._throwIfClosed(),H}next(e){super.next(this._value=e)}}},1985:(Je,ge,D)=>{"use strict";D.d(ge,{c:()=>K});var d=D(7707),L=D(8359),le=D(3494),e=D(1203),A=D(1026),H=D(8071),C=D(9786);let K=(()=>{class _e{constructor(be){be&&(this._subscribe=be)}lift(be){const je=new _e;return je.source=this,je.operator=be,je}subscribe(be,je,ne){const U=function Q(_e){return _e&&_e instanceof d.vU||function he(_e){return _e&&(0,H.T)(_e.next)&&(0,H.T)(_e.error)&&(0,H.T)(_e.complete)}(_e)&&(0,L.Uv)(_e)}(be)?be:new d.Ms(be,je,ne);return(0,C.Y)(()=>{const{operator:G,source:me}=this;U.add(G?G.call(U,me):me?this._subscribe(U):this._trySubscribe(U))}),U}_trySubscribe(be){try{return this._subscribe(be)}catch(je){be.error(je)}}forEach(be,je){return new(je=se(je))((ne,U)=>{const G=new d.Ms({next:me=>{try{be(me)}catch(ue){U(ue),G.unsubscribe()}},error:U,complete:ne});this.subscribe(G)})}_subscribe(be){var je;return null===(je=this.source)||void 0===je?void 0:je.subscribe(be)}[le.s](){return this}pipe(...be){return(0,e.m)(be)(this)}toPromise(be){return new(be=se(be))((je,ne)=>{let U;this.subscribe(G=>U=G,G=>ne(G),()=>je(U))})}}return _e.create=De=>new _e(De),_e})();function se(_e){var De;return null!==(De=_e??A.$.Promise)&&void 0!==De?De:Promise}},1413:(Je,ge,D)=>{"use strict";D.d(ge,{B:()=>C});var d=D(1985),L=D(8359);const e=(0,D(1853).L)(se=>function(){se(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var A=D(7908),H=D(9786);let C=(()=>{class se extends d.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Q){const _e=new K(this,this);return _e.operator=Q,_e}_throwIfClosed(){if(this.closed)throw new e}next(Q){(0,H.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const _e of this.currentObservers)_e.next(Q)}})}error(Q){(0,H.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Q;const{observers:_e}=this;for(;_e.length;)_e.shift().error(Q)}})}complete(){(0,H.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Q}=this;for(;Q.length;)Q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Q;return(null===(Q=this.observers)||void 0===Q?void 0:Q.length)>0}_trySubscribe(Q){return this._throwIfClosed(),super._trySubscribe(Q)}_subscribe(Q){return this._throwIfClosed(),this._checkFinalizedStatuses(Q),this._innerSubscribe(Q)}_innerSubscribe(Q){const{hasError:_e,isStopped:De,observers:be}=this;return _e||De?L.Kn:(this.currentObservers=null,be.push(Q),new L.yU(()=>{this.currentObservers=null,(0,A.o)(be,Q)}))}_checkFinalizedStatuses(Q){const{hasError:_e,thrownError:De,isStopped:be}=this;_e?Q.error(De):be&&Q.complete()}asObservable(){const Q=new d.c;return Q.source=this,Q}}return se.create=(he,Q)=>new K(he,Q),se})();class K extends C{constructor(he,Q){super(),this.destination=he,this.source=Q}next(he){var Q,_e;null===(_e=null===(Q=this.destination)||void 0===Q?void 0:Q.next)||void 0===_e||_e.call(Q,he)}error(he){var Q,_e;null===(_e=null===(Q=this.destination)||void 0===Q?void 0:Q.error)||void 0===_e||_e.call(Q,he)}complete(){var he,Q;null===(Q=null===(he=this.destination)||void 0===he?void 0:he.complete)||void 0===Q||Q.call(he)}_subscribe(he){var Q,_e;return null!==(_e=null===(Q=this.source)||void 0===Q?void 0:Q.subscribe(he))&&void 0!==_e?_e:L.Kn}}},7707:(Je,ge,D)=>{"use strict";D.d(ge,{Ms:()=>ne,vU:()=>_e});var d=D(8071),L=D(8359),le=D(1026),e=D(5334),A=D(5343);const H=se("C",void 0,void 0);function se(Ee,ve,Pe){return{kind:Ee,value:ve,error:Pe}}var he=D(9270),Q=D(9786);class _e extends L.yU{constructor(ve){super(),this.isStopped=!1,ve?(this.destination=ve,(0,L.Uv)(ve)&&ve.add(this)):this.destination=ue}static create(ve,Pe,ot){return new ne(ve,Pe,ot)}next(ve){this.isStopped?me(function K(Ee){return se("N",Ee,void 0)}(ve),this):this._next(ve)}error(ve){this.isStopped?me(function C(Ee){return se("E",void 0,Ee)}(ve),this):(this.isStopped=!0,this._error(ve))}complete(){this.isStopped?me(H,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ve){this.destination.next(ve)}_error(ve){try{this.destination.error(ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const De=Function.prototype.bind;function be(Ee,ve){return De.call(Ee,ve)}class je{constructor(ve){this.partialObserver=ve}next(ve){const{partialObserver:Pe}=this;if(Pe.next)try{Pe.next(ve)}catch(ot){U(ot)}}error(ve){const{partialObserver:Pe}=this;if(Pe.error)try{Pe.error(ve)}catch(ot){U(ot)}else U(ve)}complete(){const{partialObserver:ve}=this;if(ve.complete)try{ve.complete()}catch(Pe){U(Pe)}}}class ne extends _e{constructor(ve,Pe,ot){let Xe;if(super(),(0,d.T)(ve)||!ve)Xe={next:ve??void 0,error:Pe??void 0,complete:ot??void 0};else{let Ve;this&&le.$.useDeprecatedNextContext?(Ve=Object.create(ve),Ve.unsubscribe=()=>this.unsubscribe(),Xe={next:ve.next&&be(ve.next,Ve),error:ve.error&&be(ve.error,Ve),complete:ve.complete&&be(ve.complete,Ve)}):Xe=ve}this.destination=new je(Xe)}}function U(Ee){le.$.useDeprecatedSynchronousErrorHandling?(0,Q.l)(Ee):(0,e.m)(Ee)}function me(Ee,ve){const{onStoppedNotification:Pe}=le.$;Pe&&he.f.setTimeout(()=>Pe(Ee,ve))}const ue={closed:!0,next:A.l,error:function G(Ee){throw Ee},complete:A.l}},8359:(Je,ge,D)=>{"use strict";D.d(ge,{Kn:()=>H,yU:()=>A,Uv:()=>C});var d=D(8071);const le=(0,D(1853).L)(se=>function(Q){se(this),this.message=Q?`${Q.length} errors occurred during unsubscription:\n${Q.map((_e,De)=>`${De+1}) ${_e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Q});var e=D(7908);class A{constructor(he){this.initialTeardown=he,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let he;if(!this.closed){this.closed=!0;const{_parentage:Q}=this;if(Q)if(this._parentage=null,Array.isArray(Q))for(const be of Q)be.remove(this);else Q.remove(this);const{initialTeardown:_e}=this;if((0,d.T)(_e))try{_e()}catch(be){he=be instanceof le?be.errors:[be]}const{_finalizers:De}=this;if(De){this._finalizers=null;for(const be of De)try{K(be)}catch(je){he=he??[],je instanceof le?he=[...he,...je.errors]:he.push(je)}}if(he)throw new le(he)}}add(he){var Q;if(he&&he!==this)if(this.closed)K(he);else{if(he instanceof A){if(he.closed||he._hasParent(this))return;he._addParent(this)}(this._finalizers=null!==(Q=this._finalizers)&&void 0!==Q?Q:[]).push(he)}}_hasParent(he){const{_parentage:Q}=this;return Q===he||Array.isArray(Q)&&Q.includes(he)}_addParent(he){const{_parentage:Q}=this;this._parentage=Array.isArray(Q)?(Q.push(he),Q):Q?[Q,he]:he}_removeParent(he){const{_parentage:Q}=this;Q===he?this._parentage=null:Array.isArray(Q)&&(0,e.o)(Q,he)}remove(he){const{_finalizers:Q}=this;Q&&(0,e.o)(Q,he),he instanceof A&&he._removeParent(this)}}A.EMPTY=(()=>{const se=new A;return se.closed=!0,se})();const H=A.EMPTY;function C(se){return se instanceof A||se&&"closed"in se&&(0,d.T)(se.remove)&&(0,d.T)(se.add)&&(0,d.T)(se.unsubscribe)}function K(se){(0,d.T)(se)?se():se.unsubscribe()}},1026:(Je,ge,D)=>{"use strict";D.d(ge,{$:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3207:(Je,ge,D)=>{"use strict";D.d(ge,{s:()=>L});var d=D(9350);function L(le,e){const A="object"==typeof e;return new Promise((H,C)=>{let se,K=!1;le.subscribe({next:he=>{se=he,K=!0},error:C,complete:()=>{K?H(se):A?H(e.defaultValue):C(new d.G)}})})}},4572:(Je,ge,D)=>{"use strict";D.d(ge,{z:()=>he});var d=D(1985),L=D(3073),le=D(6648),e=D(3669),A=D(6450),H=D(3794),C=D(8496),K=D(4360),se=D(5225);function he(...De){const be=(0,H.lI)(De),je=(0,H.ms)(De),{args:ne,keys:U}=(0,L.D)(De);if(0===ne.length)return(0,le.H)([],be);const G=new d.c(function Q(De,be,je=e.D){return ne=>{_e(be,()=>{const{length:U}=De,G=new Array(U);let me=U,ue=U;for(let Ee=0;Ee<U;Ee++)_e(be,()=>{const ve=(0,le.H)(De[Ee],be);let Pe=!1;ve.subscribe((0,K._)(ne,ot=>{G[Ee]=ot,Pe||(Pe=!0,ue--),ue||ne.next(je(G.slice()))},()=>{--me||ne.complete()}))},ne)},ne)}}(ne,be,U?me=>(0,C.e)(U,me):e.D));return je?G.pipe((0,A.I)(je)):G}function _e(De,be,je){De?(0,se.N)(je,De,be):be()}},8793:(Je,ge,D)=>{"use strict";D.d(ge,{x:()=>A});var d=D(6365),le=D(3794),e=D(6648);function A(...H){return function L(){return(0,d.U)(1)}()((0,e.H)(H,(0,le.lI)(H)))}},9030:(Je,ge,D)=>{"use strict";D.d(ge,{v:()=>le});var d=D(1985),L=D(8750);function le(e){return new d.c(A=>{(0,L.Tg)(e()).subscribe(A)})}},983:(Je,ge,D)=>{"use strict";D.d(ge,{w:()=>L});const L=new(D(1985).c)(A=>A.complete())},7468:(Je,ge,D)=>{"use strict";D.d(ge,{p:()=>K});var d=D(1985),L=D(3073),le=D(8750),e=D(3794),A=D(4360),H=D(6450),C=D(8496);function K(...se){const he=(0,e.ms)(se),{args:Q,keys:_e}=(0,L.D)(se),De=new d.c(be=>{const{length:je}=Q;if(!je)return void be.complete();const ne=new Array(je);let U=je,G=je;for(let me=0;me<je;me++){let ue=!1;(0,le.Tg)(Q[me]).subscribe((0,A._)(be,Ee=>{ue||(ue=!0,G--),ne[me]=Ee},()=>U--,void 0,()=>{(!U||!ue)&&(G||be.next(_e?(0,C.e)(_e,ne):ne),be.complete())}))}});return he?De.pipe((0,H.I)(he)):De}},6648:(Je,ge,D)=>{"use strict";D.d(ge,{H:()=>ot});var d=D(8750),L=D(5225),le=D(9974),e=D(4360);function A(Xe,Ve=0){return(0,le.N)((Ye,Qe)=>{Ye.subscribe((0,e._)(Qe,at=>(0,L.N)(Qe,Xe,()=>Qe.next(at),Ve),()=>(0,L.N)(Qe,Xe,()=>Qe.complete(),Ve),at=>(0,L.N)(Qe,Xe,()=>Qe.error(at),Ve)))})}function H(Xe,Ve=0){return(0,le.N)((Ye,Qe)=>{Qe.add(Xe.schedule(()=>Ye.subscribe(Qe),Ve))})}var se=D(1985),Q=D(4761),_e=D(8071);function be(Xe,Ve){if(!Xe)throw new Error("Iterable cannot be null");return new se.c(Ye=>{(0,L.N)(Ye,Ve,()=>{const Qe=Xe[Symbol.asyncIterator]();(0,L.N)(Ye,Ve,()=>{Qe.next().then(at=>{at.done?Ye.complete():Ye.next(at.value)})},0,!0)})})}var je=D(5055),ne=D(9858),U=D(7441),G=D(5397),me=D(7953),ue=D(591),Ee=D(5196);function ot(Xe,Ve){return Ve?function Pe(Xe,Ve){if(null!=Xe){if((0,je.l)(Xe))return function C(Xe,Ve){return(0,d.Tg)(Xe).pipe(H(Ve),A(Ve))}(Xe,Ve);if((0,U.X)(Xe))return function he(Xe,Ve){return new se.c(Ye=>{let Qe=0;return Ve.schedule(function(){Qe===Xe.length?Ye.complete():(Ye.next(Xe[Qe++]),Ye.closed||this.schedule())})})}(Xe,Ve);if((0,ne.y)(Xe))return function K(Xe,Ve){return(0,d.Tg)(Xe).pipe(H(Ve),A(Ve))}(Xe,Ve);if((0,me.T)(Xe))return be(Xe,Ve);if((0,G.x)(Xe))return function De(Xe,Ve){return new se.c(Ye=>{let Qe;return(0,L.N)(Ye,Ve,()=>{Qe=Xe[Q.l](),(0,L.N)(Ye,Ve,()=>{let at,Nt;try{({value:at,done:Nt}=Qe.next())}catch(xt){return void Ye.error(xt)}Nt?Ye.complete():Ye.next(at)},0,!0)}),()=>(0,_e.T)(Qe?.return)&&Qe.return()})}(Xe,Ve);if((0,Ee.U)(Xe))return function ve(Xe,Ve){return be((0,Ee.C)(Xe),Ve)}(Xe,Ve)}throw(0,ue.L)(Xe)}(Xe,Ve):(0,d.Tg)(Xe)}},8750:(Je,ge,D)=>{"use strict";D.d(ge,{Tg:()=>De});var d=D(1635),L=D(7441),le=D(9858),e=D(1985),A=D(5055),H=D(7953),C=D(591),K=D(5397),se=D(5196),he=D(8071),Q=D(5334),_e=D(3494);function De(Ee){if(Ee instanceof e.c)return Ee;if(null!=Ee){if((0,A.l)(Ee))return function be(Ee){return new e.c(ve=>{const Pe=Ee[_e.s]();if((0,he.T)(Pe.subscribe))return Pe.subscribe(ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ee);if((0,L.X)(Ee))return function je(Ee){return new e.c(ve=>{for(let Pe=0;Pe<Ee.length&&!ve.closed;Pe++)ve.next(Ee[Pe]);ve.complete()})}(Ee);if((0,le.y)(Ee))return function ne(Ee){return new e.c(ve=>{Ee.then(Pe=>{ve.closed||(ve.next(Pe),ve.complete())},Pe=>ve.error(Pe)).then(null,Q.m)})}(Ee);if((0,H.T)(Ee))return G(Ee);if((0,K.x)(Ee))return function U(Ee){return new e.c(ve=>{for(const Pe of Ee)if(ve.next(Pe),ve.closed)return;ve.complete()})}(Ee);if((0,se.U)(Ee))return function me(Ee){return G((0,se.C)(Ee))}(Ee)}throw(0,C.L)(Ee)}function G(Ee){return new e.c(ve=>{(function ue(Ee,ve){var Pe,ot,Xe,Ve;return(0,d.sH)(this,void 0,void 0,function*(){try{for(Pe=(0,d.xN)(Ee);!(ot=yield Pe.next()).done;)if(ve.next(ot.value),ve.closed)return}catch(Ye){Xe={error:Ye}}finally{try{ot&&!ot.done&&(Ve=Pe.return)&&(yield Ve.call(Pe))}finally{if(Xe)throw Xe.error}}ve.complete()})})(Ee,ve).catch(Pe=>ve.error(Pe))})}},7786:(Je,ge,D)=>{"use strict";D.d(ge,{h:()=>H});var d=D(6365),L=D(8750),le=D(983),e=D(3794),A=D(6648);function H(...C){const K=(0,e.lI)(C),se=(0,e.R0)(C,1/0),he=C;return he.length?1===he.length?(0,L.Tg)(he[0]):(0,d.U)(se)((0,A.H)(he,K)):le.w}},7673:(Je,ge,D)=>{"use strict";D.d(ge,{of:()=>le});var d=D(3794),L=D(6648);function le(...e){const A=(0,d.lI)(e);return(0,L.H)(e,A)}},8810:(Je,ge,D)=>{"use strict";D.d(ge,{$:()=>le});var d=D(1985),L=D(8071);function le(e,A){const H=(0,L.T)(e)?e:()=>e,C=K=>K.error(H());return new d.c(A?K=>A.schedule(C,0,K):C)}},4360:(Je,ge,D)=>{"use strict";D.d(ge,{_:()=>L});var d=D(7707);function L(e,A,H,C,K){return new le(e,A,H,C,K)}class le extends d.vU{constructor(A,H,C,K,se,he){super(A),this.onFinalize=se,this.shouldUnsubscribe=he,this._next=H?function(Q){try{H(Q)}catch(_e){A.error(_e)}}:super._next,this._error=K?function(Q){try{K(Q)}catch(_e){A.error(_e)}finally{this.unsubscribe()}}:super._error,this._complete=C?function(){try{C()}catch(Q){A.error(Q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var A;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:H}=this;super.unsubscribe(),!H&&(null===(A=this.onFinalize)||void 0===A||A.call(this))}}}},9437:(Je,ge,D)=>{"use strict";D.d(ge,{W:()=>e});var d=D(8750),L=D(4360),le=D(9974);function e(A){return(0,le.N)((H,C)=>{let he,K=null,se=!1;K=H.subscribe((0,L._)(C,void 0,void 0,Q=>{he=(0,d.Tg)(A(Q,e(A)(H))),K?(K.unsubscribe(),K=null,he.subscribe(C)):se=!0})),se&&(K.unsubscribe(),K=null,he.subscribe(C))})}},274:(Je,ge,D)=>{"use strict";D.d(ge,{H:()=>le});var d=D(1397),L=D(8071);function le(e,A){return(0,L.T)(A)?(0,d.Z)(e,A,1):(0,d.Z)(e,1)}},9901:(Je,ge,D)=>{"use strict";D.d(ge,{U:()=>le});var d=D(9974),L=D(4360);function le(e){return(0,d.N)((A,H)=>{let C=!1;A.subscribe((0,L._)(H,K=>{C=!0,H.next(K)},()=>{C||H.next(e),H.complete()}))})}},3294:(Je,ge,D)=>{"use strict";D.d(ge,{F:()=>e});var d=D(3669),L=D(9974),le=D(4360);function e(H,C=d.D){return H=H??A,(0,L.N)((K,se)=>{let he,Q=!0;K.subscribe((0,le._)(se,_e=>{const De=C(_e);(Q||!H(he,De))&&(Q=!1,he=De,se.next(_e))}))})}function A(H,C){return H===C}},5964:(Je,ge,D)=>{"use strict";D.d(ge,{p:()=>le});var d=D(9974),L=D(4360);function le(e,A){return(0,d.N)((H,C)=>{let K=0;H.subscribe((0,L._)(C,se=>e.call(A,se,K++)&&C.next(se)))})}},980:(Je,ge,D)=>{"use strict";D.d(ge,{j:()=>L});var d=D(9974);function L(le){return(0,d.N)((e,A)=>{try{e.subscribe(A)}finally{A.add(le)}})}},1594:(Je,ge,D)=>{"use strict";D.d(ge,{$:()=>C});var d=D(9350),L=D(5964),le=D(6697),e=D(9901),A=D(3774),H=D(3669);function C(K,se){const he=arguments.length>=2;return Q=>Q.pipe(K?(0,L.p)((_e,De)=>K(_e,De,Q)):H.D,(0,le.s)(1),he?(0,e.U)(se):(0,A.v)(()=>new d.G))}},6354:(Je,ge,D)=>{"use strict";D.d(ge,{T:()=>le});var d=D(9974),L=D(4360);function le(e,A){return(0,d.N)((H,C)=>{let K=0;H.subscribe((0,L._)(C,se=>{C.next(e.call(A,se,K++))}))})}},6365:(Je,ge,D)=>{"use strict";D.d(ge,{U:()=>le});var d=D(1397),L=D(3669);function le(e=1/0){return(0,d.Z)(L.D,e)}},1397:(Je,ge,D)=>{"use strict";D.d(ge,{Z:()=>K});var d=D(6354),L=D(8750),le=D(9974),e=D(5225),A=D(4360),C=D(8071);function K(se,he,Q=1/0){return(0,C.T)(he)?K((_e,De)=>(0,d.T)((be,je)=>he(_e,be,De,je))((0,L.Tg)(se(_e,De))),Q):("number"==typeof he&&(Q=he),(0,le.N)((_e,De)=>function H(se,he,Q,_e,De,be,je,ne){const U=[];let G=0,me=0,ue=!1;const Ee=()=>{ue&&!U.length&&!G&&he.complete()},ve=ot=>G<_e?Pe(ot):U.push(ot),Pe=ot=>{be&&he.next(ot),G++;let Xe=!1;(0,L.Tg)(Q(ot,me++)).subscribe((0,A._)(he,Ve=>{De?.(Ve),be?ve(Ve):he.next(Ve)},()=>{Xe=!0},void 0,()=>{if(Xe)try{for(G--;U.length&&G<_e;){const Ve=U.shift();je?(0,e.N)(he,je,()=>Pe(Ve)):Pe(Ve)}Ee()}catch(Ve){he.error(Ve)}}))};return se.subscribe((0,A._)(he,ve,()=>{ue=!0,Ee()})),()=>{ne?.()}}(_e,De,se,Q)))}},1943:(Je,ge,D)=>{"use strict";D.d(ge,{S:()=>le});var d=D(9974),L=D(6649);function le(e,A){return(0,d.N)((0,L.S)(e,A,arguments.length>=2,!0))}},6649:(Je,ge,D)=>{"use strict";D.d(ge,{S:()=>L});var d=D(4360);function L(le,e,A,H,C){return(K,se)=>{let he=A,Q=e,_e=0;K.subscribe((0,d._)(se,De=>{const be=_e++;Q=he?le(Q,De,be):(he=!0,De),H&&se.next(Q)},C&&(()=>{he&&se.next(Q),se.complete()})))}}},253:(Je,ge,D)=>{"use strict";D.d(ge,{t:()=>se});var d=D(1413),L=D(6129);class le extends d.B{constructor(Q=1/0,_e=1/0,De=L.U){super(),this._bufferSize=Q,this._windowTime=_e,this._timestampProvider=De,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=_e===1/0,this._bufferSize=Math.max(1,Q),this._windowTime=Math.max(1,_e)}next(Q){const{isStopped:_e,_buffer:De,_infiniteTimeWindow:be,_timestampProvider:je,_windowTime:ne}=this;_e||(De.push(Q),!be&&De.push(je.now()+ne)),this._trimBuffer(),super.next(Q)}_subscribe(Q){this._throwIfClosed(),this._trimBuffer();const _e=this._innerSubscribe(Q),{_infiniteTimeWindow:De,_buffer:be}=this,je=be.slice();for(let ne=0;ne<je.length&&!Q.closed;ne+=De?1:2)Q.next(je[ne]);return this._checkFinalizedStatuses(Q),_e}_trimBuffer(){const{_bufferSize:Q,_timestampProvider:_e,_buffer:De,_infiniteTimeWindow:be}=this,je=(be?1:2)*Q;if(Q<1/0&&je<De.length&&De.splice(0,De.length-je),!be){const ne=_e.now();let U=0;for(let G=1;G<De.length&&De[G]<=ne;G+=2)U=G;U&&De.splice(0,U+1)}}}var e=D(8750),A=D(7707),H=D(9974);function K(he,Q,..._e){if(!0===Q)return void he();if(!1===Q)return;const De=new A.Ms({next:()=>{De.unsubscribe(),he()}});return(0,e.Tg)(Q(..._e)).subscribe(De)}function se(he,Q,_e){let De,be=!1;return he&&"object"==typeof he?({bufferSize:De=1/0,windowTime:Q=1/0,refCount:be=!1,scheduler:_e}=he):De=he??1/0,function C(he={}){const{connector:Q=()=>new d.B,resetOnError:_e=!0,resetOnComplete:De=!0,resetOnRefCountZero:be=!0}=he;return je=>{let ne,U,G,me=0,ue=!1,Ee=!1;const ve=()=>{U?.unsubscribe(),U=void 0},Pe=()=>{ve(),ne=G=void 0,ue=Ee=!1},ot=()=>{const Xe=ne;Pe(),Xe?.unsubscribe()};return(0,H.N)((Xe,Ve)=>{me++,!Ee&&!ue&&ve();const Ye=G=G??Q();Ve.add(()=>{me--,0===me&&!Ee&&!ue&&(U=K(ot,be))}),Ye.subscribe(Ve),!ne&&me>0&&(ne=new A.Ms({next:Qe=>Ye.next(Qe),error:Qe=>{Ee=!0,ve(),U=K(Pe,_e,Qe),Ye.error(Qe)},complete:()=>{ue=!0,ve(),U=K(Pe,De),Ye.complete()}}),(0,e.Tg)(Xe).subscribe(ne))})(je)}}({connector:()=>new le(De,Q,_e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:be})}},9172:(Je,ge,D)=>{"use strict";D.d(ge,{Z:()=>e});var d=D(8793),L=D(3794),le=D(9974);function e(...A){const H=(0,L.lI)(A);return(0,le.N)((C,K)=>{(H?(0,d.x)(A,C,H):(0,d.x)(A,C)).subscribe(K)})}},5558:(Je,ge,D)=>{"use strict";D.d(ge,{n:()=>e});var d=D(8750),L=D(9974),le=D(4360);function e(A,H){return(0,L.N)((C,K)=>{let se=null,he=0,Q=!1;const _e=()=>Q&&!se&&K.complete();C.subscribe((0,le._)(K,De=>{se?.unsubscribe();let be=0;const je=he++;(0,d.Tg)(A(De,je)).subscribe(se=(0,le._)(K,ne=>K.next(H?H(De,ne,je,be++):ne),()=>{se=null,_e()}))},()=>{Q=!0,_e()}))})}},6697:(Je,ge,D)=>{"use strict";D.d(ge,{s:()=>e});var d=D(983),L=D(9974),le=D(4360);function e(A){return A<=0?()=>d.w:(0,L.N)((H,C)=>{let K=0;H.subscribe((0,le._)(C,se=>{++K<=A&&(C.next(se),A<=K&&C.complete())}))})}},6977:(Je,ge,D)=>{"use strict";D.d(ge,{Q:()=>A});var d=D(9974),L=D(4360),le=D(8750),e=D(5343);function A(H){return(0,d.N)((C,K)=>{(0,le.Tg)(H).subscribe((0,L._)(K,()=>K.complete(),e.l)),!K.closed&&C.subscribe(K)})}},8141:(Je,ge,D)=>{"use strict";D.d(ge,{M:()=>A});var d=D(8071),L=D(9974),le=D(4360),e=D(3669);function A(H,C,K){const se=(0,d.T)(H)||C||K?{next:H,error:C,complete:K}:H;return se?(0,L.N)((he,Q)=>{var _e;null===(_e=se.subscribe)||void 0===_e||_e.call(se);let De=!0;he.subscribe((0,le._)(Q,be=>{var je;null===(je=se.next)||void 0===je||je.call(se,be),Q.next(be)},()=>{var be;De=!1,null===(be=se.complete)||void 0===be||be.call(se),Q.complete()},be=>{var je;De=!1,null===(je=se.error)||void 0===je||je.call(se,be),Q.error(be)},()=>{var be,je;De&&(null===(be=se.unsubscribe)||void 0===be||be.call(se)),null===(je=se.finalize)||void 0===je||je.call(se)}))}):e.D}},3774:(Je,ge,D)=>{"use strict";D.d(ge,{v:()=>e});var d=D(9350),L=D(9974),le=D(4360);function e(H=A){return(0,L.N)((C,K)=>{let se=!1;C.subscribe((0,le._)(K,he=>{se=!0,K.next(he)},()=>se?K.complete():K.error(H())))})}function A(){return new d.G}},6129:(Je,ge,D)=>{"use strict";D.d(ge,{U:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},9270:(Je,ge,D)=>{"use strict";D.d(ge,{f:()=>d});const d={setTimeout(L,le,...e){const{delegate:A}=d;return A?.setTimeout?A.setTimeout(L,le,...e):setTimeout(L,le,...e)},clearTimeout(L){const{delegate:le}=d;return(le?.clearTimeout||clearTimeout)(L)},delegate:void 0}},4761:(Je,ge,D)=>{"use strict";D.d(ge,{l:()=>L});const L=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Je,ge,D)=>{"use strict";D.d(ge,{s:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(Je,ge,D)=>{"use strict";D.d(ge,{G:()=>L});const L=(0,D(1853).L)(le=>function(){le(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(Je,ge,D)=>{"use strict";D.d(ge,{R0:()=>H,ms:()=>e,lI:()=>A});var d=D(8071);function le(C){return C[C.length-1]}function e(C){return(0,d.T)(le(C))?C.pop():void 0}function A(C){return function L(C){return C&&(0,d.T)(C.schedule)}(le(C))?C.pop():void 0}function H(C,K){return"number"==typeof le(C)?C.pop():K}},3073:(Je,ge,D)=>{"use strict";D.d(ge,{D:()=>A});const{isArray:d}=Array,{getPrototypeOf:L,prototype:le,keys:e}=Object;function A(C){if(1===C.length){const K=C[0];if(d(K))return{args:K,keys:null};if(function H(C){return C&&"object"==typeof C&&L(C)===le}(K)){const se=e(K);return{args:se.map(he=>K[he]),keys:se}}}return{args:C,keys:null}}},7908:(Je,ge,D)=>{"use strict";function d(L,le){if(L){const e=L.indexOf(le);0<=e&&L.splice(e,1)}}D.d(ge,{o:()=>d})},1853:(Je,ge,D)=>{"use strict";function d(L){const e=L(A=>{Error.call(A),A.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}D.d(ge,{L:()=>d})},8496:(Je,ge,D)=>{"use strict";function d(L,le){return L.reduce((e,A,H)=>(e[A]=le[H],e),{})}D.d(ge,{e:()=>d})},9786:(Je,ge,D)=>{"use strict";D.d(ge,{Y:()=>le,l:()=>e});var d=D(1026);let L=null;function le(A){if(d.$.useDeprecatedSynchronousErrorHandling){const H=!L;if(H&&(L={errorThrown:!1,error:null}),A(),H){const{errorThrown:C,error:K}=L;if(L=null,C)throw K}}else A()}function e(A){d.$.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=A)}},5225:(Je,ge,D)=>{"use strict";function d(L,le,e,A=0,H=!1){const C=le.schedule(function(){e(),H?L.add(this.schedule(null,A)):this.unsubscribe()},A);if(L.add(C),!H)return C}D.d(ge,{N:()=>d})},3669:(Je,ge,D)=>{"use strict";function d(L){return L}D.d(ge,{D:()=>d})},7441:(Je,ge,D)=>{"use strict";D.d(ge,{X:()=>d});const d=L=>L&&"number"==typeof L.length&&"function"!=typeof L},7953:(Je,ge,D)=>{"use strict";D.d(ge,{T:()=>L});var d=D(8071);function L(le){return Symbol.asyncIterator&&(0,d.T)(le?.[Symbol.asyncIterator])}},8071:(Je,ge,D)=>{"use strict";function d(L){return"function"==typeof L}D.d(ge,{T:()=>d})},5055:(Je,ge,D)=>{"use strict";D.d(ge,{l:()=>le});var d=D(3494),L=D(8071);function le(e){return(0,L.T)(e[d.s])}},5397:(Je,ge,D)=>{"use strict";D.d(ge,{x:()=>le});var d=D(4761),L=D(8071);function le(e){return(0,L.T)(e?.[d.l])}},9858:(Je,ge,D)=>{"use strict";D.d(ge,{y:()=>L});var d=D(8071);function L(le){return(0,d.T)(le?.then)}},5196:(Je,ge,D)=>{"use strict";D.d(ge,{C:()=>le,U:()=>e});var d=D(1635),L=D(8071);function le(A){return(0,d.AQ)(this,arguments,function*(){const C=A.getReader();try{for(;;){const{value:K,done:se}=yield(0,d.N3)(C.read());if(se)return yield(0,d.N3)(void 0);yield yield(0,d.N3)(K)}}finally{C.releaseLock()}})}function e(A){return(0,L.T)(A?.getReader)}},9974:(Je,ge,D)=>{"use strict";D.d(ge,{N:()=>le,S:()=>L});var d=D(8071);function L(e){return(0,d.T)(e?.lift)}function le(e){return A=>{if(L(A))return A.lift(function(H){try{return e(H,this)}catch(C){this.error(C)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Je,ge,D)=>{"use strict";D.d(ge,{I:()=>e});var d=D(6354);const{isArray:L}=Array;function e(A){return(0,d.T)(H=>function le(A,H){return L(H)?A(...H):A(H)}(A,H))}},5343:(Je,ge,D)=>{"use strict";function d(){}D.d(ge,{l:()=>d})},1203:(Je,ge,D)=>{"use strict";D.d(ge,{F:()=>L,m:()=>le});var d=D(3669);function L(...e){return le(e)}function le(e){return 0===e.length?d.D:1===e.length?e[0]:function(H){return e.reduce((C,K)=>K(C),H)}}},5334:(Je,ge,D)=>{"use strict";D.d(ge,{m:()=>le});var d=D(1026),L=D(9270);function le(e){L.f.setTimeout(()=>{const{onUnhandledError:A}=d.$;if(!A)throw e;A(e)})}},591:(Je,ge,D)=>{"use strict";function d(L){return new TypeError(`You provided ${null!==L&&"object"==typeof L?"an invalid object":`'${L}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}D.d(ge,{L:()=>d})},9293:Je=>{function ge(d,L,le,e,A,H,C){try{var K=d[H](C),se=K.value}catch(he){return void le(he)}K.done?L(se):Promise.resolve(se).then(e,A)}Je.exports=function D(d){return function(){var L=this,le=arguments;return new Promise(function(e,A){var H=d.apply(L,le);function C(se){ge(H,e,A,C,K,"next",se)}function K(se){ge(H,e,A,C,K,"throw",se)}C(void 0)})}},Je.exports.__esModule=!0,Je.exports.default=Je.exports},177:(Je,ge,D)=>{"use strict";D.d(ge,{AJ:()=>Tr,EO:()=>yo,GH:()=>Qo,Jj:()=>kr,MD:()=>Zo,N0:()=>Ti,PV:()=>bo,Pc:()=>Jo,QT:()=>le,Sm:()=>ne,Sq:()=>Z,UE:()=>wo,VF:()=>A,Vy:()=>Mi,Xr:()=>ei,YU:()=>Ko,ZD:()=>e,_b:()=>Ir,aZ:()=>G,bT:()=>We,e1:()=>bn,fG:()=>zt,fw:()=>U,hb:()=>be,hj:()=>se,oe:()=>zn,qQ:()=>C,ux:()=>jt,vh:()=>ms});var d=D(4438);let L=null;function le(){return L}function e(_){L??=_}class A{}const C=new d.nKC("");let K=(()=>{class _{historyGo(x){throw new Error("")}static{this.\u0275fac=function(P){return new(P||_)}}static{this.\u0275prov=d.jDH({token:_,factory:()=>(0,d.WQX)(he),providedIn:"platform"})}}return _})();const se=new d.nKC("");let he=(()=>{class _ extends K{constructor(){super(),this._doc=(0,d.WQX)(C),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return le().getBaseHref(this._doc)}onPopState(x){const P=le().getGlobalEventTarget(this._doc,"window");return P.addEventListener("popstate",x,!1),()=>P.removeEventListener("popstate",x)}onHashChange(x){const P=le().getGlobalEventTarget(this._doc,"window");return P.addEventListener("hashchange",x,!1),()=>P.removeEventListener("hashchange",x)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(x){this._location.pathname=x}pushState(x,P,J){this._history.pushState(x,P,J)}replaceState(x,P,J){this._history.replaceState(x,P,J)}forward(){this._history.forward()}back(){this._history.back()}historyGo(x=0){this._history.go(x)}getState(){return this._history.state}static{this.\u0275fac=function(P){return new(P||_)}}static{this.\u0275prov=d.jDH({token:_,factory:()=>new _,providedIn:"platform"})}}return _})();function Q(_,j){if(0==_.length)return j;if(0==j.length)return _;let x=0;return _.endsWith("/")&&x++,j.startsWith("/")&&x++,2==x?_+j.substring(1):1==x?_+j:_+"/"+j}function _e(_){const j=_.match(/#|\?|$/),x=j&&j.index||_.length;return _.slice(0,x-("/"===_[x-1]?1:0))+_.slice(x)}function De(_){return _&&"?"!==_[0]?"?"+_:_}let be=(()=>{class _{historyGo(x){throw new Error("")}static{this.\u0275fac=function(P){return new(P||_)}}static{this.\u0275prov=d.jDH({token:_,factory:()=>(0,d.WQX)(ne),providedIn:"root"})}}return _})();const je=new d.nKC("");let ne=(()=>{class _ extends be{constructor(x,P){super(),this._platformLocation=x,this._removeListenerFns=[],this._baseHref=P??this._platformLocation.getBaseHrefFromDOM()??(0,d.WQX)(C).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}prepareExternalUrl(x){return Q(this._baseHref,x)}path(x=!1){const P=this._platformLocation.pathname+De(this._platformLocation.search),J=this._platformLocation.hash;return J&&x?`${P}${J}`:P}pushState(x,P,J,Re){const He=this.prepareExternalUrl(J+De(Re));this._platformLocation.pushState(x,P,He)}replaceState(x,P,J,Re){const He=this.prepareExternalUrl(J+De(Re));this._platformLocation.replaceState(x,P,He)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(x=0){this._platformLocation.historyGo?.(x)}static{this.\u0275fac=function(P){return new(P||_)(d.KVO(K),d.KVO(je,8))}}static{this.\u0275prov=d.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})(),U=(()=>{class _ extends be{constructor(x,P){super(),this._platformLocation=x,this._baseHref="",this._removeListenerFns=[],null!=P&&(this._baseHref=P)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}path(x=!1){const P=this._platformLocation.hash??"#";return P.length>0?P.substring(1):P}prepareExternalUrl(x){const P=Q(this._baseHref,x);return P.length>0?"#"+P:P}pushState(x,P,J,Re){let He=this.prepareExternalUrl(J+De(Re));0==He.length&&(He=this._platformLocation.pathname),this._platformLocation.pushState(x,P,He)}replaceState(x,P,J,Re){let He=this.prepareExternalUrl(J+De(Re));0==He.length&&(He=this._platformLocation.pathname),this._platformLocation.replaceState(x,P,He)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(x=0){this._platformLocation.historyGo?.(x)}static{this.\u0275fac=function(P){return new(P||_)(d.KVO(K),d.KVO(je,8))}}static{this.\u0275prov=d.jDH({token:_,factory:_.\u0275fac})}}return _})(),G=(()=>{class _{constructor(x){this._subject=new d.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=x;const P=this._locationStrategy.getBaseHref();this._basePath=function ve(_){if(new RegExp("^(https?:)?//").test(_)){const[,x]=_.split(/\/\/[^\/]+/);return x}return _}(_e(Ee(P))),this._locationStrategy.onPopState(J=>{this._subject.emit({url:this.path(!0),pop:!0,state:J.state,type:J.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(x=!1){return this.normalize(this._locationStrategy.path(x))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(x,P=""){return this.path()==this.normalize(x+De(P))}normalize(x){return _.stripTrailingSlash(function ue(_,j){if(!_||!j.startsWith(_))return j;const x=j.substring(_.length);return""===x||["/",";","?","#"].includes(x[0])?x:j}(this._basePath,Ee(x)))}prepareExternalUrl(x){return x&&"/"!==x[0]&&(x="/"+x),this._locationStrategy.prepareExternalUrl(x)}go(x,P="",J=null){this._locationStrategy.pushState(J,"",x,P),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+De(P)),J)}replaceState(x,P="",J=null){this._locationStrategy.replaceState(J,"",x,P),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+De(P)),J)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(x=0){this._locationStrategy.historyGo?.(x)}onUrlChange(x){return this._urlChangeListeners.push(x),this._urlChangeSubscription??=this.subscribe(P=>{this._notifyUrlChangeListeners(P.url,P.state)}),()=>{const P=this._urlChangeListeners.indexOf(x);this._urlChangeListeners.splice(P,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(x="",P){this._urlChangeListeners.forEach(J=>J(x,P))}subscribe(x,P,J){return this._subject.subscribe({next:x,error:P,complete:J})}static{this.normalizeQueryParams=De}static{this.joinWithSlash=Q}static{this.stripTrailingSlash=_e}static{this.\u0275fac=function(P){return new(P||_)(d.KVO(be))}}static{this.\u0275prov=d.jDH({token:_,factory:()=>function me(){return new G((0,d.KVO)(be))}(),providedIn:"root"})}}return _})();function Ee(_){return _.replace(/\/index.html$/,"")}const Pe={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var ot=function(_){return _[_.Decimal=0]="Decimal",_[_.Percent=1]="Percent",_[_.Currency=2]="Currency",_[_.Scientific=3]="Scientific",_}(ot||{}),Ve=function(_){return _[_.Format=0]="Format",_[_.Standalone=1]="Standalone",_}(Ve||{}),Ye=function(_){return _[_.Narrow=0]="Narrow",_[_.Abbreviated=1]="Abbreviated",_[_.Wide=2]="Wide",_[_.Short=3]="Short",_}(Ye||{}),Qe=function(_){return _[_.Short=0]="Short",_[_.Medium=1]="Medium",_[_.Long=2]="Long",_[_.Full=3]="Full",_}(Qe||{});const at={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Ie(_,j){return Jt((0,d.H5H)(_)[d.KH2.DateFormat],j)}function Me(_,j){return Jt((0,d.H5H)(_)[d.KH2.TimeFormat],j)}function Ne(_,j){return Jt((0,d.H5H)(_)[d.KH2.DateTimeFormat],j)}function Te(_,j){const x=(0,d.H5H)(_),P=x[d.KH2.NumberSymbols][j];if(typeof P>"u"){if(j===at.CurrencyDecimal)return x[d.KH2.NumberSymbols][at.Decimal];if(j===at.CurrencyGroup)return x[d.KH2.NumberSymbols][at.Group]}return P}function pn(_){if(!_[d.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${_[d.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Jt(_,j){for(let x=j;x>-1;x--)if(typeof _[x]<"u")return _[x];throw new Error("Locale data API: locale data undefined")}function Pt(_){const[j,x]=_.split(":");return{hours:+j,minutes:+x}}const xr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Wr={},to=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var br=function(_){return _[_.Short=0]="Short",_[_.ShortGMT=1]="ShortGMT",_[_.Long=2]="Long",_[_.Extended=3]="Extended",_}(br||{}),Zt=function(_){return _[_.FullYear=0]="FullYear",_[_.Month=1]="Month",_[_.Date=2]="Date",_[_.Hours=3]="Hours",_[_.Minutes=4]="Minutes",_[_.Seconds=5]="Seconds",_[_.FractionalSeconds=6]="FractionalSeconds",_[_.Day=7]="Day",_}(Zt||{}),Mt=function(_){return _[_.DayPeriods=0]="DayPeriods",_[_.Days=1]="Days",_[_.Months=2]="Months",_[_.Eras=3]="Eras",_}(Mt||{});function nr(_,j,x,P){let J=function Tt(_){if(Cn(_))return _;if("number"==typeof _&&!isNaN(_))return new Date(_);if("string"==typeof _){if(_=_.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(_)){const[J,Re=1,He=1]=_.split("-").map(dt=>+dt);return Vt(J,Re-1,He)}const x=parseFloat(_);if(!isNaN(_-x))return new Date(x);let P;if(P=_.match(xr))return function Bt(_){const j=new Date(0);let x=0,P=0;const J=_[8]?j.setUTCFullYear:j.setFullYear,Re=_[8]?j.setUTCHours:j.setHours;_[9]&&(x=Number(_[9]+_[10]),P=Number(_[9]+_[11])),J.call(j,Number(_[1]),Number(_[2])-1,Number(_[3]));const He=Number(_[4]||0)-x,dt=Number(_[5]||0)-P,dn=Number(_[6]||0),Tn=Math.floor(1e3*parseFloat("0."+(_[7]||0)));return Re.call(j,He,dt,dn,Tn),j}(P)}const j=new Date(_);if(!Cn(j))throw new Error(`Unable to convert "${_}" into a date`);return j}(_);j=gn(x,j)||j;let dt,He=[];for(;j;){if(dt=to.exec(j),!dt){He.push(j);break}{He=He.concat(dt.slice(1));const In=He.pop();if(!In)break;j=In}}let dn=J.getTimezoneOffset();P&&(dn=fe(P,dn),J=function st(_,j,x){const P=x?-1:1,J=_.getTimezoneOffset();return function Be(_,j){return(_=new Date(_.getTime())).setMinutes(_.getMinutes()+j),_}(_,P*(fe(j,J)-J))}(J,P,!0));let Tn="";return He.forEach(In=>{const sn=function te(_){if(ye[_])return ye[_];let j;switch(_){case"G":case"GG":case"GGG":j=cn(Mt.Eras,Ye.Abbreviated);break;case"GGGG":j=cn(Mt.Eras,Ye.Wide);break;case"GGGGG":j=cn(Mt.Eras,Ye.Narrow);break;case"y":j=vn(Zt.FullYear,1,0,!1,!0);break;case"yy":j=vn(Zt.FullYear,2,0,!0,!0);break;case"yyy":j=vn(Zt.FullYear,3,0,!1,!0);break;case"yyyy":j=vn(Zt.FullYear,4,0,!1,!0);break;case"Y":j=Se(1);break;case"YY":j=Se(2,!0);break;case"YYY":j=Se(3);break;case"YYYY":j=Se(4);break;case"M":case"L":j=vn(Zt.Month,1,1);break;case"MM":case"LL":j=vn(Zt.Month,2,1);break;case"MMM":j=cn(Mt.Months,Ye.Abbreviated);break;case"MMMM":j=cn(Mt.Months,Ye.Wide);break;case"MMMMM":j=cn(Mt.Months,Ye.Narrow);break;case"LLL":j=cn(Mt.Months,Ye.Abbreviated,Ve.Standalone);break;case"LLLL":j=cn(Mt.Months,Ye.Wide,Ve.Standalone);break;case"LLLLL":j=cn(Mt.Months,Ye.Narrow,Ve.Standalone);break;case"w":j=Bn(1);break;case"ww":j=Bn(2);break;case"W":j=Bn(1,!0);break;case"d":j=vn(Zt.Date,1);break;case"dd":j=vn(Zt.Date,2);break;case"c":case"cc":j=vn(Zt.Day,1);break;case"ccc":j=cn(Mt.Days,Ye.Abbreviated,Ve.Standalone);break;case"cccc":j=cn(Mt.Days,Ye.Wide,Ve.Standalone);break;case"ccccc":j=cn(Mt.Days,Ye.Narrow,Ve.Standalone);break;case"cccccc":j=cn(Mt.Days,Ye.Short,Ve.Standalone);break;case"E":case"EE":case"EEE":j=cn(Mt.Days,Ye.Abbreviated);break;case"EEEE":j=cn(Mt.Days,Ye.Wide);break;case"EEEEE":j=cn(Mt.Days,Ye.Narrow);break;case"EEEEEE":j=cn(Mt.Days,Ye.Short);break;case"a":case"aa":case"aaa":j=cn(Mt.DayPeriods,Ye.Abbreviated);break;case"aaaa":j=cn(Mt.DayPeriods,Ye.Wide);break;case"aaaaa":j=cn(Mt.DayPeriods,Ye.Narrow);break;case"b":case"bb":case"bbb":j=cn(Mt.DayPeriods,Ye.Abbreviated,Ve.Standalone,!0);break;case"bbbb":j=cn(Mt.DayPeriods,Ye.Wide,Ve.Standalone,!0);break;case"bbbbb":j=cn(Mt.DayPeriods,Ye.Narrow,Ve.Standalone,!0);break;case"B":case"BB":case"BBB":j=cn(Mt.DayPeriods,Ye.Abbreviated,Ve.Format,!0);break;case"BBBB":j=cn(Mt.DayPeriods,Ye.Wide,Ve.Format,!0);break;case"BBBBB":j=cn(Mt.DayPeriods,Ye.Narrow,Ve.Format,!0);break;case"h":j=vn(Zt.Hours,1,-12);break;case"hh":j=vn(Zt.Hours,2,-12);break;case"H":j=vn(Zt.Hours,1);break;case"HH":j=vn(Zt.Hours,2);break;case"m":j=vn(Zt.Minutes,1);break;case"mm":j=vn(Zt.Minutes,2);break;case"s":j=vn(Zt.Seconds,1);break;case"ss":j=vn(Zt.Seconds,2);break;case"S":j=vn(Zt.FractionalSeconds,1);break;case"SS":j=vn(Zt.FractionalSeconds,2);break;case"SSS":j=vn(Zt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":j=Ot(br.Short);break;case"ZZZZZ":j=Ot(br.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":j=Ot(br.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":j=Ot(br.Long);break;default:return null}return ye[_]=j,j}(In);Tn+=sn?sn(J,x,dn):"''"===In?"'":In.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Tn}function Vt(_,j,x){const P=new Date(0);return P.setFullYear(_,j,x),P.setHours(0,0,0),P}function gn(_,j){const x=function xt(_){return(0,d.H5H)(_)[d.KH2.LocaleId]}(_);if(Wr[x]??={},Wr[x][j])return Wr[x][j];let P="";switch(j){case"shortDate":P=Ie(_,Qe.Short);break;case"mediumDate":P=Ie(_,Qe.Medium);break;case"longDate":P=Ie(_,Qe.Long);break;case"fullDate":P=Ie(_,Qe.Full);break;case"shortTime":P=Me(_,Qe.Short);break;case"mediumTime":P=Me(_,Qe.Medium);break;case"longTime":P=Me(_,Qe.Long);break;case"fullTime":P=Me(_,Qe.Full);break;case"short":const J=gn(_,"shortTime"),Re=gn(_,"shortDate");P=vo(Ne(_,Qe.Short),[J,Re]);break;case"medium":const He=gn(_,"mediumTime"),dt=gn(_,"mediumDate");P=vo(Ne(_,Qe.Medium),[He,dt]);break;case"long":const dn=gn(_,"longTime"),Tn=gn(_,"longDate");P=vo(Ne(_,Qe.Long),[dn,Tn]);break;case"full":const In=gn(_,"fullTime"),sn=gn(_,"fullDate");P=vo(Ne(_,Qe.Full),[In,sn])}return P&&(Wr[x][j]=P),P}function vo(_,j){return j&&(_=_.replace(/\{([^}]+)}/g,function(x,P){return null!=j&&P in j?j[P]:x})),_}function xn(_,j,x="-",P,J){let Re="";(_<0||J&&_<=0)&&(J?_=1-_:(_=-_,Re=x));let He=String(_);for(;He.length<j;)He="0"+He;return P&&(He=He.slice(He.length-j)),Re+He}function vn(_,j,x=0,P=!1,J=!1){return function(Re,He){let dt=function rn(_,j){switch(_){case Zt.FullYear:return j.getFullYear();case Zt.Month:return j.getMonth();case Zt.Date:return j.getDate();case Zt.Hours:return j.getHours();case Zt.Minutes:return j.getMinutes();case Zt.Seconds:return j.getSeconds();case Zt.FractionalSeconds:return j.getMilliseconds();case Zt.Day:return j.getDay();default:throw new Error(`Unknown DateType value "${_}".`)}}(_,Re);if((x>0||dt>-x)&&(dt+=x),_===Zt.Hours)0===dt&&-12===x&&(dt=12);else if(_===Zt.FractionalSeconds)return function Sn(_,j){return xn(_,3).substring(0,j)}(dt,j);const dn=Te(He,at.MinusSign);return xn(dt,j,dn,P,J)}}function cn(_,j,x=Ve.Format,P=!1){return function(J,Re){return function $o(_,j,x,P,J,Re){switch(x){case Mt.Months:return function qn(_,j,x){const P=(0,d.H5H)(_),Re=Jt([P[d.KH2.MonthsFormat],P[d.KH2.MonthsStandalone]],j);return Jt(Re,x)}(j,J,P)[_.getMonth()];case Mt.Days:return function tr(_,j,x){const P=(0,d.H5H)(_),Re=Jt([P[d.KH2.DaysFormat],P[d.KH2.DaysStandalone]],j);return Jt(Re,x)}(j,J,P)[_.getDay()];case Mt.DayPeriods:const He=_.getHours(),dt=_.getMinutes();if(Re){const Tn=function kt(_){const j=(0,d.H5H)(_);return pn(j),(j[d.KH2.ExtraData][2]||[]).map(P=>"string"==typeof P?Pt(P):[Pt(P[0]),Pt(P[1])])}(j),In=function kn(_,j,x){const P=(0,d.H5H)(_);pn(P);const Re=Jt([P[d.KH2.ExtraData][0],P[d.KH2.ExtraData][1]],j)||[];return Jt(Re,x)||[]}(j,J,P),sn=Tn.findIndex(Rn=>{if(Array.isArray(Rn)){const[gt,ze]=Rn,vt=He>=gt.hours&&dt>=gt.minutes,mn=He<ze.hours||He===ze.hours&&dt<ze.minutes;if(gt.hours<ze.hours){if(vt&&mn)return!0}else if(vt||mn)return!0}else if(Rn.hours===He&&Rn.minutes===dt)return!0;return!1});if(-1!==sn)return In[sn]}return function qt(_,j,x){const P=(0,d.H5H)(_),Re=Jt([P[d.KH2.DayPeriodsFormat],P[d.KH2.DayPeriodsStandalone]],j);return Jt(Re,x)}(j,J,P)[He<12?0:1];case Mt.Eras:return function yr(_,j){return Jt((0,d.H5H)(_)[d.KH2.Eras],j)}(j,P)[_.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${x}`)}}(J,Re,_,j,x,P)}}function Ot(_){return function(j,x,P){const J=-1*P,Re=Te(x,at.MinusSign),He=J>0?Math.floor(J/60):Math.ceil(J/60);switch(_){case br.Short:return(J>=0?"+":"")+xn(He,2,Re)+xn(Math.abs(J%60),2,Re);case br.ShortGMT:return"GMT"+(J>=0?"+":"")+xn(He,1,Re);case br.Long:return"GMT"+(J>=0?"+":"")+xn(He,2,Re)+":"+xn(Math.abs(J%60),2,Re);case br.Extended:return 0===P?"Z":(J>=0?"+":"")+xn(He,2,Re)+":"+xn(Math.abs(J%60),2,Re);default:throw new Error(`Unknown zone width "${_}"`)}}}const fr=0,ln=4;function Dr(_){const j=_.getDay(),x=0===j?-3:ln-j;return Vt(_.getFullYear(),_.getMonth(),_.getDate()+x)}function Bn(_,j=!1){return function(x,P){let J;if(j){const Re=new Date(x.getFullYear(),x.getMonth(),1).getDay()-1,He=x.getDate();J=1+Math.floor((He+Re)/7)}else{const Re=Dr(x),He=function Mn(_){const j=Vt(_,fr,1).getDay();return Vt(_,0,1+(j<=ln?ln:ln+7)-j)}(Re.getFullYear()),dt=Re.getTime()-He.getTime();J=1+Math.round(dt/6048e5)}return xn(J,_,Te(P,at.MinusSign))}}function Se(_,j=!1){return function(x,P){return xn(Dr(x).getFullYear(),_,Te(P,at.MinusSign),j)}}const ye={};function fe(_,j){_=_.replace(/:/g,"");const x=Date.parse("Jan 01, 1970 00:00:00 "+_)/6e4;return isNaN(x)?j:x}function Cn(_){return _ instanceof Date&&!isNaN(_.valueOf())}const rr=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Fr=22,Er=".",So="0",Yr=";",Xr=",",ki="#";function Xo(_,j,x,P,J){const He=function Pr(_,j="-"){const x={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},P=_.split(Yr),J=P[0],Re=P[1],He=-1!==J.indexOf(Er)?J.split(Er):[J.substring(0,J.lastIndexOf(So)+1),J.substring(J.lastIndexOf(So)+1)],dt=He[0],dn=He[1]||"";x.posPre=dt.substring(0,dt.indexOf(ki));for(let In=0;In<dn.length;In++){const sn=dn.charAt(In);sn===So?x.minFrac=x.maxFrac=In+1:sn===ki?x.maxFrac=In+1:x.posSuf+=sn}const Tn=dt.split(Xr);if(x.gSize=Tn[1]?Tn[1].length:0,x.lgSize=Tn[2]||Tn[1]?(Tn[2]||Tn[1]).length:0,Re){const In=J.length-x.posPre.length-x.posSuf.length,sn=Re.indexOf(ki);x.negPre=Re.substring(0,sn).replace(/'/g,""),x.negSuf=Re.slice(sn+In).replace(/'/g,"")}else x.negPre=j+x.posPre,x.negSuf=x.posSuf;return x}(function Ke(_,j){return(0,d.H5H)(_)[d.KH2.NumberFormats][j]}(j,ot.Currency),Te(j,at.MinusSign));return He.minFrac=function dr(_){let j;const x=Pe[_];return x&&(j=x[2]),"number"==typeof j?j:2}(P),He.maxFrac=He.minFrac,function _o(_,j,x,P,J,Re,He=!1){let dt="",dn=!1;if(isFinite(_)){let Tn=function Kr(_){let P,J,Re,He,dt,j=Math.abs(_)+"",x=0;for((J=j.indexOf(Er))>-1&&(j=j.replace(Er,"")),(Re=j.search(/e/i))>0?(J<0&&(J=Re),J+=+j.slice(Re+1),j=j.substring(0,Re)):J<0&&(J=j.length),Re=0;j.charAt(Re)===So;Re++);if(Re===(dt=j.length))P=[0],J=1;else{for(dt--;j.charAt(dt)===So;)dt--;for(J-=Re,P=[],He=0;Re<=dt;Re++,He++)P[He]=Number(j.charAt(Re))}return J>Fr&&(P=P.splice(0,Fr-1),x=J-1,J=1),{digits:P,exponent:x,integerLen:J}}(_);He&&(Tn=function en(_){if(0===_.digits[0])return _;const j=_.digits.length-_.integerLen;return _.exponent?_.exponent+=2:(0===j?_.digits.push(0,0):1===j&&_.digits.push(0),_.integerLen+=2),_}(Tn));let In=j.minInt,sn=j.minFrac,Rn=j.maxFrac;if(Re){const Nn=Re.match(rr);if(null===Nn)throw new Error(`${Re} is not a valid digit info`);const ur=Nn[1],ar=Nn[3],_n=Nn[5];null!=ur&&(In=Zn(ur)),null!=ar&&(sn=Zn(ar)),null!=_n?Rn=Zn(_n):null!=ar&&sn>Rn&&(Rn=sn)}!function Gn(_,j,x){if(j>x)throw new Error(`The minimum number of digits after fraction (${j}) is higher than the maximum (${x}).`);let P=_.digits,J=P.length-_.integerLen;const Re=Math.min(Math.max(j,J),x);let He=Re+_.integerLen,dt=P[He];if(He>0){P.splice(Math.max(_.integerLen,He));for(let sn=He;sn<P.length;sn++)P[sn]=0}else{J=Math.max(0,J),_.integerLen=1,P.length=Math.max(1,He=Re+1),P[0]=0;for(let sn=1;sn<He;sn++)P[sn]=0}if(dt>=5)if(He-1<0){for(let sn=0;sn>He;sn--)P.unshift(0),_.integerLen++;P.unshift(1),_.integerLen++}else P[He-1]++;for(;J<Math.max(0,Re);J++)P.push(0);let dn=0!==Re;const Tn=j+_.integerLen,In=P.reduceRight(function(sn,Rn,gt,ze){return ze[gt]=(Rn+=sn)<10?Rn:Rn-10,dn&&(0===ze[gt]&&gt>=Tn?ze.pop():dn=!1),Rn>=10?1:0},0);In&&(P.unshift(In),_.integerLen++)}(Tn,sn,Rn);let gt=Tn.digits,ze=Tn.integerLen;const vt=Tn.exponent;let mn=[];for(dn=gt.every(Nn=>!Nn);ze<In;ze++)gt.unshift(0);for(;ze<0;ze++)gt.unshift(0);ze>0?mn=gt.splice(ze,gt.length):(mn=gt,gt=[0]);const vr=[];for(gt.length>=j.lgSize&&vr.unshift(gt.splice(-j.lgSize,gt.length).join(""));gt.length>j.gSize;)vr.unshift(gt.splice(-j.gSize,gt.length).join(""));gt.length&&vr.unshift(gt.join("")),dt=vr.join(Te(x,P)),mn.length&&(dt+=Te(x,J)+mn.join("")),vt&&(dt+=Te(x,at.Exponential)+"+"+vt)}else dt=Te(x,at.Infinity);return dt=_<0&&!dn?j.negPre+dt+j.negSuf:j.posPre+dt+j.posSuf,dt}(_,He,j,at.CurrencyGroup,at.CurrencyDecimal,J).replace("\xa4",x).replace("\xa4","").trim()}function Zn(_){const j=parseInt(_);if(isNaN(j))throw new Error("Invalid integer literal when parsing "+_);return j}function yo(_,j,x){return(0,d.XSP)(_,j,x)}function Ir(_,j){j=encodeURIComponent(j);for(const x of _.split(";")){const P=x.indexOf("="),[J,Re]=-1==P?[x,""]:[x.slice(0,P),x.slice(P+1)];if(J.trim()===j)return decodeURIComponent(Re)}return null}const no=/\s+/,ro=[];let Ko=(()=>{class _{constructor(x,P){this._ngEl=x,this._renderer=P,this.initialClasses=ro,this.stateMap=new Map}set klass(x){this.initialClasses=null!=x?x.trim().split(no):ro}set ngClass(x){this.rawClass="string"==typeof x?x.trim().split(no):x}ngDoCheck(){for(const P of this.initialClasses)this._updateState(P,!0);const x=this.rawClass;if(Array.isArray(x)||x instanceof Set)for(const P of x)this._updateState(P,!0);else if(null!=x)for(const P of Object.keys(x))this._updateState(P,!!x[P]);this._applyStateDiff()}_updateState(x,P){const J=this.stateMap.get(x);void 0!==J?(J.enabled!==P&&(J.changed=!0,J.enabled=P),J.touched=!0):this.stateMap.set(x,{enabled:P,changed:!0,touched:!0})}_applyStateDiff(){for(const x of this.stateMap){const P=x[0],J=x[1];J.changed?(this._toggleClass(P,J.enabled),J.changed=!1):J.touched||(J.enabled&&this._toggleClass(P,!1),this.stateMap.delete(P)),J.touched=!1}}_toggleClass(x,P){(x=x.trim()).length>0&&x.split(no).forEach(J=>{P?this._renderer.addClass(this._ngEl.nativeElement,J):this._renderer.removeClass(this._ngEl.nativeElement,J)})}static{this.\u0275fac=function(P){return new(P||_)(d.rXU(d.aKT),d.rXU(d.sFG))}}static{this.\u0275dir=d.FsC({type:_,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return _})();class ie{constructor(j,x,P,J){this.$implicit=j,this.ngForOf=x,this.index=P,this.count=J}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Z=(()=>{class _{set ngForOf(x){this._ngForOf=x,this._ngForOfDirty=!0}set ngForTrackBy(x){this._trackByFn=x}get ngForTrackBy(){return this._trackByFn}constructor(x,P,J){this._viewContainer=x,this._template=P,this._differs=J,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(x){x&&(this._template=x)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const x=this._ngForOf;!this._differ&&x&&(this._differ=this._differs.find(x).create(this.ngForTrackBy))}if(this._differ){const x=this._differ.diff(this._ngForOf);x&&this._applyChanges(x)}}_applyChanges(x){const P=this._viewContainer;x.forEachOperation((J,Re,He)=>{if(null==J.previousIndex)P.createEmbeddedView(this._template,new ie(J.item,this._ngForOf,-1,-1),null===He?void 0:He);else if(null==He)P.remove(null===Re?void 0:Re);else if(null!==Re){const dt=P.get(Re);P.move(dt,He),ke(dt,J)}});for(let J=0,Re=P.length;J<Re;J++){const dt=P.get(J).context;dt.index=J,dt.count=Re,dt.ngForOf=this._ngForOf}x.forEachIdentityChange(J=>{ke(P.get(J.currentIndex),J)})}static ngTemplateContextGuard(x,P){return!0}static{this.\u0275fac=function(P){return new(P||_)(d.rXU(d.c1b),d.rXU(d.C4Q),d.rXU(d._q3))}}static{this.\u0275dir=d.FsC({type:_,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return _})();function ke(_,j){_.context.$implicit=j.item}let We=(()=>{class _{constructor(x,P){this._viewContainer=x,this._context=new et,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=P}set ngIf(x){this._context.$implicit=this._context.ngIf=x,this._updateView()}set ngIfThen(x){Ft("ngIfThen",x),this._thenTemplateRef=x,this._thenViewRef=null,this._updateView()}set ngIfElse(x){Ft("ngIfElse",x),this._elseTemplateRef=x,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(x,P){return!0}static{this.\u0275fac=function(P){return new(P||_)(d.rXU(d.c1b),d.rXU(d.C4Q))}}static{this.\u0275dir=d.FsC({type:_,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return _})();class et{constructor(){this.$implicit=null,this.ngIf=null}}function Ft(_,j){if(j&&!j.createEmbeddedView)throw new Error(`${_} must be a TemplateRef, but received '${(0,d.Tbb)(j)}'.`)}class ht{constructor(j,x){this._viewContainerRef=j,this._templateRef=x,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(j){j&&!this._created?this.create():!j&&this._created&&this.destroy()}}let jt=(()=>{class _{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(x){this._ngSwitch=x,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(x){this._defaultViews.push(x)}_matchCase(x){const P=x===this._ngSwitch;return this._lastCasesMatched||=P,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),P}_updateDefaultCases(x){if(this._defaultViews.length>0&&x!==this._defaultUsed){this._defaultUsed=x;for(const P of this._defaultViews)P.enforceState(x)}}static{this.\u0275fac=function(P){return new(P||_)}}static{this.\u0275dir=d.FsC({type:_,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return _})(),bn=(()=>{class _{constructor(x,P,J){this.ngSwitch=J,J._addCase(),this._view=new ht(x,P)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(P){return new(P||_)(d.rXU(d.c1b),d.rXU(d.C4Q),d.rXU(jt,9))}}static{this.\u0275dir=d.FsC({type:_,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return _})(),zt=(()=>{class _{constructor(x,P,J){J._addDefault(new ht(x,P))}static{this.\u0275fac=function(P){return new(P||_)(d.rXU(d.c1b),d.rXU(d.C4Q),d.rXU(jt,9))}}static{this.\u0275dir=d.FsC({type:_,selectors:[["","ngSwitchDefault",""]],standalone:!0})}}return _})();function ct(_,j){return new d.wOt(2100,!1)}class pr{createSubscription(j,x){return(0,d.O8t)(()=>j.subscribe({next:x,error:P=>{throw P}}))}dispose(j){(0,d.O8t)(()=>j.unsubscribe())}}class Jr{createSubscription(j,x){return j.then(x,P=>{throw P})}dispose(j){}}const jr=new Jr,oo=new pr;let kr=(()=>{class _{constructor(x){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=x}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(x){if(!this._obj){if(x)try{this.markForCheckOnValueUpdate=!1,this._subscribe(x)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return x!==this._obj?(this._dispose(),this.transform(x)):this._latestValue}_subscribe(x){this._obj=x,this._strategy=this._selectStrategy(x),this._subscription=this._strategy.createSubscription(x,P=>this._updateLatestValue(x,P))}_selectStrategy(x){if((0,d.jNT)(x))return jr;if((0,d.zjR)(x))return oo;throw ct()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(x,P){x===this._obj&&(this._latestValue=P,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(P){return new(P||_)(d.rXU(d.gRc,16))}}static{this.\u0275pipe=d.EJ8({name:"async",type:_,pure:!1,standalone:!0})}}return _})(),Qo=(()=>{class _{transform(x){if(null==x)return null;if("string"!=typeof x)throw ct();return x.toLowerCase()}static{this.\u0275fac=function(P){return new(P||_)}}static{this.\u0275pipe=d.EJ8({name:"lowercase",type:_,pure:!0,standalone:!0})}}return _})();const Lt=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let bo=(()=>{class _{transform(x){if(null==x)return null;if("string"!=typeof x)throw ct();return x.replace(Lt,P=>P[0].toUpperCase()+P.slice(1).toLowerCase())}static{this.\u0275fac=function(P){return new(P||_)}}static{this.\u0275pipe=d.EJ8({name:"titlecase",type:_,pure:!0,standalone:!0})}}return _})(),Jo=(()=>{class _{transform(x){if(null==x)return null;if("string"!=typeof x)throw ct();return x.toUpperCase()}static{this.\u0275fac=function(P){return new(P||_)}}static{this.\u0275pipe=d.EJ8({name:"uppercase",type:_,pure:!0,standalone:!0})}}return _})();const ci=new d.nKC(""),Ao=new d.nKC("");let ms=(()=>{class _{constructor(x,P,J){this.locale=x,this.defaultTimezone=P,this.defaultOptions=J}transform(x,P,J,Re){if(null==x||""===x||x!=x)return null;try{return nr(x,P??this.defaultOptions?.dateFormat??"mediumDate",Re||this.locale,J??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(He){throw ct()}}static{this.\u0275fac=function(P){return new(P||_)(d.rXU(d.xe9,16),d.rXU(ci,24),d.rXU(Ao,24))}}static{this.\u0275pipe=d.EJ8({name:"date",type:_,pure:!0,standalone:!0})}}return _})(),zn=(()=>{class _{constructor(x,P="USD"){this._locale=x,this._defaultCurrencyCode=P}transform(x,P=this._defaultCurrencyCode,J="symbol",Re,He){if(!function or(_){return!(null==_||""===_||_!=_)}(x))return null;He||=this._locale,"boolean"==typeof J&&(J=J?"symbol":"code");let dt=P||this._defaultCurrencyCode;"code"!==J&&(dt="symbol"===J||"symbol-narrow"===J?function jn(_,j,x="en"){const P=function hn(_){return(0,d.H5H)(_)[d.KH2.Currencies]}(x)[_]||Pe[_]||[],J=P[1];return"narrow"===j&&"string"==typeof J?J:P[0]||_}(dt,"symbol"===J?"wide":"narrow",He):J);try{return Xo(function Fn(_){if("string"==typeof _&&!isNaN(Number(_)-parseFloat(_)))return Number(_);if("number"!=typeof _)throw new Error(`${_} is not a number`);return _}(x),He,dt,P,Re)}catch(dn){throw ct()}}static{this.\u0275fac=function(P){return new(P||_)(d.rXU(d.xe9,16),d.rXU(d.Ocv,16))}}static{this.\u0275pipe=d.EJ8({name:"currency",type:_,pure:!0,standalone:!0})}}return _})();let Zo=(()=>{class _{static{this.\u0275fac=function(P){return new(P||_)}}static{this.\u0275mod=d.$C({type:_})}static{this.\u0275inj=d.G2t({})}}return _})();const Tr="browser",po="server";function wo(_){return _===Tr}function Mi(_){return _===po}let ei=(()=>{class _{static{this.\u0275prov=(0,d.jDH)({token:_,providedIn:"root",factory:()=>wo((0,d.WQX)(d.Agw))?new Ro((0,d.WQX)(C),window):new xo})}}return _})();class Ro{constructor(j,x){this.document=j,this.window=x,this.offset=()=>[0,0]}setOffset(j){this.offset=Array.isArray(j)?()=>j:j}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(j){this.window.scrollTo(j[0],j[1])}scrollToAnchor(j){const x=function ti(_,j){const x=_.getElementById(j)||_.getElementsByName(j)[0];if(x)return x;if("function"==typeof _.createTreeWalker&&_.body&&"function"==typeof _.body.attachShadow){const P=_.createTreeWalker(_.body,NodeFilter.SHOW_ELEMENT);let J=P.currentNode;for(;J;){const Re=J.shadowRoot;if(Re){const He=Re.getElementById(j)||Re.querySelector(`[name="${j}"]`);if(He)return He}J=P.nextNode()}}return null}(this.document,j);x&&(this.scrollToElement(x),x.focus())}setHistoryScrollRestoration(j){this.window.history.scrollRestoration=j}scrollToElement(j){const x=j.getBoundingClientRect(),P=x.left+this.window.pageXOffset,J=x.top+this.window.pageYOffset,Re=this.offset();this.window.scrollTo(P-Re[0],J-Re[1])}}class xo{setOffset(j){}getScrollPosition(){return[0,0]}scrollToPosition(j){}scrollToAnchor(j){}setHistoryScrollRestoration(j){}}class Ti{}},1626:(Je,ge,D)=>{"use strict";D.d(ge,{$R:()=>st,Lr:()=>be,Qq:()=>Ne,hv:()=>xt,yz:()=>yr});var d=D(467),L=D(4438),le=D(7673),e=D(1985),A=D(6648),H=D(274),C=D(5964),K=D(6354),se=D(980),he=D(5558),Q=D(177);class _e{}class De{}class be{constructor(ie){this.normalizedNames=new Map,this.lazyUpdate=null,ie?"string"==typeof ie?this.lazyInit=()=>{this.headers=new Map,ie.split("\n").forEach(Z=>{const ke=Z.indexOf(":");if(ke>0){const qe=Z.slice(0,ke),We=qe.toLowerCase(),et=Z.slice(ke+1).trim();this.maybeSetNormalizedName(qe,We),this.headers.has(We)?this.headers.get(We).push(et):this.headers.set(We,[et])}})}:typeof Headers<"u"&&ie instanceof Headers?(this.headers=new Map,ie.forEach((Z,ke)=>{this.setHeaderEntries(ke,Z)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(ie).forEach(([Z,ke])=>{this.setHeaderEntries(Z,ke)})}:this.headers=new Map}has(ie){return this.init(),this.headers.has(ie.toLowerCase())}get(ie){this.init();const Z=this.headers.get(ie.toLowerCase());return Z&&Z.length>0?Z[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ie){return this.init(),this.headers.get(ie.toLowerCase())||null}append(ie,Z){return this.clone({name:ie,value:Z,op:"a"})}set(ie,Z){return this.clone({name:ie,value:Z,op:"s"})}delete(ie,Z){return this.clone({name:ie,value:Z,op:"d"})}maybeSetNormalizedName(ie,Z){this.normalizedNames.has(Z)||this.normalizedNames.set(Z,ie)}init(){this.lazyInit&&(this.lazyInit instanceof be?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ie=>this.applyUpdate(ie)),this.lazyUpdate=null))}copyFrom(ie){ie.init(),Array.from(ie.headers.keys()).forEach(Z=>{this.headers.set(Z,ie.headers.get(Z)),this.normalizedNames.set(Z,ie.normalizedNames.get(Z))})}clone(ie){const Z=new be;return Z.lazyInit=this.lazyInit&&this.lazyInit instanceof be?this.lazyInit:this,Z.lazyUpdate=(this.lazyUpdate||[]).concat([ie]),Z}applyUpdate(ie){const Z=ie.name.toLowerCase();switch(ie.op){case"a":case"s":let ke=ie.value;if("string"==typeof ke&&(ke=[ke]),0===ke.length)return;this.maybeSetNormalizedName(ie.name,Z);const qe=("a"===ie.op?this.headers.get(Z):void 0)||[];qe.push(...ke),this.headers.set(Z,qe);break;case"d":const We=ie.value;if(We){let et=this.headers.get(Z);if(!et)return;et=et.filter(Ft=>-1===We.indexOf(Ft)),0===et.length?(this.headers.delete(Z),this.normalizedNames.delete(Z)):this.headers.set(Z,et)}else this.headers.delete(Z),this.normalizedNames.delete(Z)}}setHeaderEntries(ie,Z){const ke=(Array.isArray(Z)?Z:[Z]).map(We=>We.toString()),qe=ie.toLowerCase();this.headers.set(qe,ke),this.maybeSetNormalizedName(ie,qe)}forEach(ie){this.init(),Array.from(this.normalizedNames.keys()).forEach(Z=>ie(this.normalizedNames.get(Z),this.headers.get(Z)))}}class ne{encodeKey(ie){return ue(ie)}encodeValue(ie){return ue(ie)}decodeKey(ie){return decodeURIComponent(ie)}decodeValue(ie){return decodeURIComponent(ie)}}const G=/%(\d[a-f0-9])/gi,me={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ue(Y){return encodeURIComponent(Y).replace(G,(ie,Z)=>me[Z]??ie)}function Ee(Y){return`${Y}`}class ve{constructor(ie={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ie.encoder||new ne,ie.fromString){if(ie.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function U(Y,ie){const Z=new Map;return Y.length>0&&Y.replace(/^\?/,"").split("&").forEach(qe=>{const We=qe.indexOf("="),[et,Ft]=-1==We?[ie.decodeKey(qe),""]:[ie.decodeKey(qe.slice(0,We)),ie.decodeValue(qe.slice(We+1))],ht=Z.get(et)||[];ht.push(Ft),Z.set(et,ht)}),Z}(ie.fromString,this.encoder)}else ie.fromObject?(this.map=new Map,Object.keys(ie.fromObject).forEach(Z=>{const ke=ie.fromObject[Z],qe=Array.isArray(ke)?ke.map(Ee):[Ee(ke)];this.map.set(Z,qe)})):this.map=null}has(ie){return this.init(),this.map.has(ie)}get(ie){this.init();const Z=this.map.get(ie);return Z?Z[0]:null}getAll(ie){return this.init(),this.map.get(ie)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ie,Z){return this.clone({param:ie,value:Z,op:"a"})}appendAll(ie){const Z=[];return Object.keys(ie).forEach(ke=>{const qe=ie[ke];Array.isArray(qe)?qe.forEach(We=>{Z.push({param:ke,value:We,op:"a"})}):Z.push({param:ke,value:qe,op:"a"})}),this.clone(Z)}set(ie,Z){return this.clone({param:ie,value:Z,op:"s"})}delete(ie,Z){return this.clone({param:ie,value:Z,op:"d"})}toString(){return this.init(),this.keys().map(ie=>{const Z=this.encoder.encodeKey(ie);return this.map.get(ie).map(ke=>Z+"="+this.encoder.encodeValue(ke)).join("&")}).filter(ie=>""!==ie).join("&")}clone(ie){const Z=new ve({encoder:this.encoder});return Z.cloneFrom=this.cloneFrom||this,Z.updates=(this.updates||[]).concat(ie),Z}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ie=>this.map.set(ie,this.cloneFrom.map.get(ie))),this.updates.forEach(ie=>{switch(ie.op){case"a":case"s":const Z=("a"===ie.op?this.map.get(ie.param):void 0)||[];Z.push(Ee(ie.value)),this.map.set(ie.param,Z);break;case"d":if(void 0===ie.value){this.map.delete(ie.param);break}{let ke=this.map.get(ie.param)||[];const qe=ke.indexOf(Ee(ie.value));-1!==qe&&ke.splice(qe,1),ke.length>0?this.map.set(ie.param,ke):this.map.delete(ie.param)}}}),this.cloneFrom=this.updates=null)}}class ot{constructor(){this.map=new Map}set(ie,Z){return this.map.set(ie,Z),this}get(ie){return this.map.has(ie)||this.map.set(ie,ie.defaultValue()),this.map.get(ie)}delete(ie){return this.map.delete(ie),this}has(ie){return this.map.has(ie)}keys(){return this.map.keys()}}function Ve(Y){return typeof ArrayBuffer<"u"&&Y instanceof ArrayBuffer}function Ye(Y){return typeof Blob<"u"&&Y instanceof Blob}function Qe(Y){return typeof FormData<"u"&&Y instanceof FormData}class Nt{constructor(ie,Z,ke,qe){let We;if(this.url=Z,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ie.toUpperCase(),function Xe(Y){switch(Y){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||qe?(this.body=void 0!==ke?ke:null,We=qe):We=ke,We&&(this.reportProgress=!!We.reportProgress,this.withCredentials=!!We.withCredentials,We.responseType&&(this.responseType=We.responseType),We.headers&&(this.headers=We.headers),We.context&&(this.context=We.context),We.params&&(this.params=We.params),this.transferCache=We.transferCache),this.headers??=new be,this.context??=new ot,this.params){const et=this.params.toString();if(0===et.length)this.urlWithParams=Z;else{const Ft=Z.indexOf("?");this.urlWithParams=Z+(-1===Ft?"?":Ft<Z.length-1?"&":"")+et}}else this.params=new ve,this.urlWithParams=Z}serializeBody(){return null===this.body?null:"string"==typeof this.body||Ve(this.body)||Ye(this.body)||Qe(this.body)||function at(Y){return typeof URLSearchParams<"u"&&Y instanceof URLSearchParams}(this.body)?this.body:this.body instanceof ve?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Qe(this.body)?null:Ye(this.body)?this.body.type||null:Ve(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ve?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ie={}){const Z=ie.method||this.method,ke=ie.url||this.url,qe=ie.responseType||this.responseType,We=ie.transferCache??this.transferCache,et=void 0!==ie.body?ie.body:this.body,Ft=ie.withCredentials??this.withCredentials,ht=ie.reportProgress??this.reportProgress;let jt=ie.headers||this.headers,bn=ie.params||this.params;const zt=ie.context??this.context;return void 0!==ie.setHeaders&&(jt=Object.keys(ie.setHeaders).reduce((wn,Dn)=>wn.set(Dn,ie.setHeaders[Dn]),jt)),ie.setParams&&(bn=Object.keys(ie.setParams).reduce((wn,Dn)=>wn.set(Dn,ie.setParams[Dn]),bn)),new Nt(Z,ke,et,{params:bn,headers:jt,context:zt,reportProgress:ht,responseType:qe,withCredentials:Ft,transferCache:We})}}var xt=function(Y){return Y[Y.Sent=0]="Sent",Y[Y.UploadProgress=1]="UploadProgress",Y[Y.ResponseHeader=2]="ResponseHeader",Y[Y.DownloadProgress=3]="DownloadProgress",Y[Y.Response=4]="Response",Y[Y.User=5]="User",Y}(xt||{});class qt{constructor(ie,Z=200,ke="OK"){this.headers=ie.headers||new be,this.status=void 0!==ie.status?ie.status:Z,this.statusText=ie.statusText||ke,this.url=ie.url||null,this.ok=this.status>=200&&this.status<300}}class tr extends qt{constructor(ie={}){super(ie),this.type=xt.ResponseHeader}clone(ie={}){return new tr({headers:ie.headers||this.headers,status:void 0!==ie.status?ie.status:this.status,statusText:ie.statusText||this.statusText,url:ie.url||this.url||void 0})}}class qn extends qt{constructor(ie={}){super(ie),this.type=xt.Response,this.body=void 0!==ie.body?ie.body:null}clone(ie={}){return new qn({body:void 0!==ie.body?ie.body:this.body,headers:ie.headers||this.headers,status:void 0!==ie.status?ie.status:this.status,statusText:ie.statusText||this.statusText,url:ie.url||this.url||void 0})}}class yr extends qt{constructor(ie){super(ie,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ie.url||"(unknown url)"}`:`Http failure response for ${ie.url||"(unknown url)"}: ${ie.status} ${ie.statusText}`,this.error=ie.error||null}}function Me(Y,ie){return{body:ie,headers:Y.headers,context:Y.context,observe:Y.observe,params:Y.params,reportProgress:Y.reportProgress,responseType:Y.responseType,withCredentials:Y.withCredentials,transferCache:Y.transferCache}}let Ne=(()=>{class Y{constructor(Z){this.handler=Z}request(Z,ke,qe={}){let We;if(Z instanceof Nt)We=Z;else{let ht,jt;ht=qe.headers instanceof be?qe.headers:new be(qe.headers),qe.params&&(jt=qe.params instanceof ve?qe.params:new ve({fromObject:qe.params})),We=new Nt(Z,ke,void 0!==qe.body?qe.body:null,{headers:ht,context:qe.context,params:jt,reportProgress:qe.reportProgress,responseType:qe.responseType||"json",withCredentials:qe.withCredentials,transferCache:qe.transferCache})}const et=(0,le.of)(We).pipe((0,H.H)(ht=>this.handler.handle(ht)));if(Z instanceof Nt||"events"===qe.observe)return et;const Ft=et.pipe((0,C.p)(ht=>ht instanceof qn));switch(qe.observe||"body"){case"body":switch(We.responseType){case"arraybuffer":return Ft.pipe((0,K.T)(ht=>{if(null!==ht.body&&!(ht.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ht.body}));case"blob":return Ft.pipe((0,K.T)(ht=>{if(null!==ht.body&&!(ht.body instanceof Blob))throw new Error("Response is not a Blob.");return ht.body}));case"text":return Ft.pipe((0,K.T)(ht=>{if(null!==ht.body&&"string"!=typeof ht.body)throw new Error("Response is not a string.");return ht.body}));default:return Ft.pipe((0,K.T)(ht=>ht.body))}case"response":return Ft;default:throw new Error(`Unreachable: unhandled observe type ${qe.observe}}`)}}delete(Z,ke={}){return this.request("DELETE",Z,ke)}get(Z,ke={}){return this.request("GET",Z,ke)}head(Z,ke={}){return this.request("HEAD",Z,ke)}jsonp(Z,ke){return this.request("JSONP",Z,{params:(new ve).append(ke,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Z,ke={}){return this.request("OPTIONS",Z,ke)}patch(Z,ke,qe={}){return this.request("PATCH",Z,Me(qe,ke))}post(Z,ke,qe={}){return this.request("POST",Z,Me(qe,ke))}put(Z,ke,qe={}){return this.request("PUT",Z,Me(qe,ke))}static{this.\u0275fac=function(ke){return new(ke||Y)(L.KVO(_e))}}static{this.\u0275prov=L.jDH({token:Y,factory:Y.\u0275fac})}}return Y})();const Te=/^\)\]\}',?\n/;function Oe(Y){if(Y.url)return Y.url;const ie="X-Request-URL".toLocaleLowerCase();return Y.headers.get(ie)}let ut=(()=>{class Y{constructor(){this.fetchImpl=(0,L.WQX)(nn,{optional:!0})?.fetch??((...Z)=>globalThis.fetch(...Z)),this.ngZone=(0,L.WQX)(L.SKi)}handle(Z){return new e.c(ke=>{const qe=new AbortController;return this.doRequest(Z,qe.signal,ke).then(hn,We=>ke.error(new yr({error:We}))),()=>qe.abort()})}doRequest(Z,ke,qe){var We=this;return(0,d.A)(function*(){const et=We.createRequestInit(Z);let Ft;try{const $n=We.ngZone.runOutsideAngular(()=>We.fetchImpl(Z.urlWithParams,{signal:ke,...et}));(function Dt(Y){Y.then(hn,hn)})($n),qe.next({type:xt.Sent}),Ft=yield $n}catch($n){return void qe.error(new yr({error:$n,status:$n.status??0,statusText:$n.statusText,url:Z.urlWithParams,headers:$n.headers}))}const ht=new be(Ft.headers),jt=Ft.statusText,bn=Oe(Ft)??Z.urlWithParams;let zt=Ft.status,wn=null;if(Z.reportProgress&&qe.next(new tr({headers:ht,status:zt,statusText:jt,url:bn})),Ft.body){const $n=Ft.headers.get("content-length"),St=[],lt=Ft.body.getReader();let Et,ct,Vn=0;const pr=typeof Zone<"u"&&Zone.current;yield We.ngZone.runOutsideAngular((0,d.A)(function*(){for(;;){const{done:jr,value:oo}=yield lt.read();if(jr)break;if(St.push(oo),Vn+=oo.length,Z.reportProgress){ct="text"===Z.responseType?(ct??"")+(Et??=new TextDecoder).decode(oo,{stream:!0}):void 0;const kr=()=>qe.next({type:xt.DownloadProgress,total:$n?+$n:void 0,loaded:Vn,partialText:ct});pr?pr.run(kr):kr()}}}));const Jr=We.concatChunks(St,Vn);try{const jr=Ft.headers.get("Content-Type")??"";wn=We.parseBody(Z,Jr,jr)}catch(jr){return void qe.error(new yr({error:jr,headers:new be(Ft.headers),status:Ft.status,statusText:Ft.statusText,url:Oe(Ft)??Z.urlWithParams}))}}0===zt&&(zt=wn?200:0),zt>=200&&zt<300?(qe.next(new qn({body:wn,headers:ht,status:zt,statusText:jt,url:bn})),qe.complete()):qe.error(new yr({error:wn,headers:ht,status:zt,statusText:jt,url:bn}))})()}parseBody(Z,ke,qe){switch(Z.responseType){case"json":const We=(new TextDecoder).decode(ke).replace(Te,"");return""===We?null:JSON.parse(We);case"text":return(new TextDecoder).decode(ke);case"blob":return new Blob([ke],{type:qe});case"arraybuffer":return ke.buffer}}createRequestInit(Z){const ke={},qe=Z.withCredentials?"include":void 0;if(Z.headers.forEach((We,et)=>ke[We]=et.join(",")),Z.headers.has("Accept")||(ke.Accept="application/json, text/plain, */*"),!Z.headers.has("Content-Type")){const We=Z.detectContentTypeHeader();null!==We&&(ke["Content-Type"]=We)}return{body:Z.serializeBody(),method:Z.method,headers:ke,credentials:qe}}concatChunks(Z,ke){const qe=new Uint8Array(ke);let We=0;for(const et of Z)qe.set(et,We),We+=et.length;return qe}static{this.\u0275fac=function(ke){return new(ke||Y)}}static{this.\u0275prov=L.jDH({token:Y,factory:Y.\u0275fac})}}return Y})();class nn{}function hn(){}function pn(Y,ie){return ie(Y)}const Jt=new L.nKC(""),Pt=new L.nKC(""),jn=new L.nKC("",{providedIn:"root",factory:()=>!0});let Wr=(()=>{class Y extends _e{constructor(Z,ke){super(),this.backend=Z,this.injector=ke,this.chain=null,this.pendingTasks=(0,L.WQX)(L.TgB),this.contributeToStability=(0,L.WQX)(jn)}handle(Z){if(null===this.chain){const ke=Array.from(new Set([...this.injector.get(Jt),...this.injector.get(Pt,[])]));this.chain=ke.reduceRight((qe,We)=>function kn(Y,ie,Z){return(ke,qe)=>(0,L.N4e)(Z,()=>ie(ke,We=>Y(We,qe)))}(qe,We,this.injector),pn)}if(this.contributeToStability){const ke=this.pendingTasks.add();return this.chain(Z,qe=>this.backend.handle(qe)).pipe((0,se.j)(()=>this.pendingTasks.remove(ke)))}return this.chain(Z,ke=>this.backend.handle(ke))}static{this.\u0275fac=function(ke){return new(ke||Y)(L.KVO(De),L.KVO(L.uvJ))}}static{this.\u0275prov=L.jDH({token:Y,factory:Y.\u0275fac})}}return Y})();const rn=/^\)\]\}',?\n/;let $o=(()=>{class Y{constructor(Z){this.xhrFactory=Z}handle(Z){if("JSONP"===Z.method)throw new L.wOt(-2800,!1);const ke=this.xhrFactory;return(ke.\u0275loadImpl?(0,A.H)(ke.\u0275loadImpl()):(0,le.of)(null)).pipe((0,he.n)(()=>new e.c(We=>{const et=ke.build();if(et.open(Z.method,Z.urlWithParams),Z.withCredentials&&(et.withCredentials=!0),Z.headers.forEach((St,lt)=>et.setRequestHeader(St,lt.join(","))),Z.headers.has("Accept")||et.setRequestHeader("Accept","application/json, text/plain, */*"),!Z.headers.has("Content-Type")){const St=Z.detectContentTypeHeader();null!==St&&et.setRequestHeader("Content-Type",St)}if(Z.responseType){const St=Z.responseType.toLowerCase();et.responseType="json"!==St?St:"text"}const Ft=Z.serializeBody();let ht=null;const jt=()=>{if(null!==ht)return ht;const St=et.statusText||"OK",lt=new be(et.getAllResponseHeaders()),Vn=function cn(Y){return"responseURL"in Y&&Y.responseURL?Y.responseURL:/^X-Request-URL:/m.test(Y.getAllResponseHeaders())?Y.getResponseHeader("X-Request-URL"):null}(et)||Z.url;return ht=new tr({headers:lt,status:et.status,statusText:St,url:Vn}),ht},bn=()=>{let{headers:St,status:lt,statusText:Vn,url:Et}=jt(),ct=null;204!==lt&&(ct=typeof et.response>"u"?et.responseText:et.response),0===lt&&(lt=ct?200:0);let pr=lt>=200&&lt<300;if("json"===Z.responseType&&"string"==typeof ct){const Jr=ct;ct=ct.replace(rn,"");try{ct=""!==ct?JSON.parse(ct):null}catch(jr){ct=Jr,pr&&(pr=!1,ct={error:jr,text:ct})}}pr?(We.next(new qn({body:ct,headers:St,status:lt,statusText:Vn,url:Et||void 0})),We.complete()):We.error(new yr({error:ct,headers:St,status:lt,statusText:Vn,url:Et||void 0}))},zt=St=>{const{url:lt}=jt(),Vn=new yr({error:St,status:et.status||0,statusText:et.statusText||"Unknown Error",url:lt||void 0});We.error(Vn)};let wn=!1;const Dn=St=>{wn||(We.next(jt()),wn=!0);let lt={type:xt.DownloadProgress,loaded:St.loaded};St.lengthComputable&&(lt.total=St.total),"text"===Z.responseType&&et.responseText&&(lt.partialText=et.responseText),We.next(lt)},$n=St=>{let lt={type:xt.UploadProgress,loaded:St.loaded};St.lengthComputable&&(lt.total=St.total),We.next(lt)};return et.addEventListener("load",bn),et.addEventListener("error",zt),et.addEventListener("timeout",zt),et.addEventListener("abort",zt),Z.reportProgress&&(et.addEventListener("progress",Dn),null!==Ft&&et.upload&&et.upload.addEventListener("progress",$n)),et.send(Ft),We.next({type:xt.Sent}),()=>{et.removeEventListener("error",zt),et.removeEventListener("abort",zt),et.removeEventListener("load",bn),et.removeEventListener("timeout",zt),Z.reportProgress&&(et.removeEventListener("progress",Dn),null!==Ft&&et.upload&&et.upload.removeEventListener("progress",$n)),et.readyState!==et.DONE&&et.abort()}})))}static{this.\u0275fac=function(ke){return new(ke||Y)(L.KVO(Q.N0))}}static{this.\u0275prov=L.jDH({token:Y,factory:Y.\u0275fac})}}return Y})();const Ot=new L.nKC(""),ln=new L.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Dr=new L.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Bn{}let Se=(()=>{class Y{constructor(Z,ke,qe){this.doc=Z,this.platform=ke,this.cookieName=qe,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Z=this.doc.cookie||"";return Z!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,Q._b)(Z,this.cookieName),this.lastCookieString=Z),this.lastToken}static{this.\u0275fac=function(ke){return new(ke||Y)(L.KVO(Q.qQ),L.KVO(L.Agw),L.KVO(ln))}}static{this.\u0275prov=L.jDH({token:Y,factory:Y.\u0275fac})}}return Y})();function ye(Y,ie){const Z=Y.url.toLowerCase();if(!(0,L.WQX)(Ot)||"GET"===Y.method||"HEAD"===Y.method||Z.startsWith("http://")||Z.startsWith("https://"))return ie(Y);const ke=(0,L.WQX)(Bn).getToken(),qe=(0,L.WQX)(Dr);return null!=ke&&!Y.headers.has(qe)&&(Y=Y.clone({headers:Y.headers.set(qe,ke)})),ie(Y)}function st(...Y){const ie=[Ne,$o,Wr,{provide:_e,useExisting:Wr},{provide:De,useFactory:()=>(0,L.WQX)(ut,{optional:!0})??(0,L.WQX)($o)},{provide:Jt,useValue:ye,multi:!0},{provide:Ot,useValue:!0},{provide:Bn,useClass:Se}];for(const Z of Y)ie.push(...Z.\u0275providers);return(0,L.EmA)(ie)}},4438:(Je,ge,D)=>{"use strict";function d(t,n){return Object.is(t,n)}D.d(ge,{iLQ:()=>Kd,sZ2:()=>qc,hnV:()=>zy,o8S:()=>hs,BIS:()=>SE,gRc:()=>sb,Ql9:()=>w4,Ocv:()=>T4,abz:()=>fl,Z63:()=>$,aKT:()=>mu,uvJ:()=>go,zcH:()=>Ns,bkB:()=>us,$GK:()=>Lt,nKC:()=>It,zZn:()=>jo,_q3:()=>vm,MKu:()=>_m,xe9:()=>fm,Co$:()=>$v,Vns:()=>Na,SKi:()=>_r,Xx1:()=>Ro,Agw:()=>zc,PLl:()=>ug,sFG:()=>x2,_9s:()=>Qp,czy:()=>id,WPN:()=>Ia,kdw:()=>xo,C4Q:()=>Au,NYb:()=>g4,giA:()=>Hy,RxE:()=>Oy,c1b:()=>wd,gXe:()=>oe,mal:()=>Sd,Af3:()=>ri,tdH:()=>Dx,L39:()=>Mk,EWP:()=>Sk,Ol2:()=>hh,w6W:()=>mx,Rfq:()=>Se,WQX:()=>mt,QuC:()=>pi,EmA:()=>Po,HJs:()=>Lk,N4e:()=>qa,vPA:()=>bv,O8t:()=>Ak,H3F:()=>jy,H8p:()=>os,KH2:()=>zl,TgB:()=>xa,wOt:()=>Ze,WHO:()=>By,e01:()=>Gy,lNU:()=>jn,h9k:()=>Ag,$MX:()=>td,ZF7:()=>_l,Kcf:()=>QE,e5t:()=>tC,UyX:()=>ZE,cWb:()=>JE,osQ:()=>eC,H5H:()=>$h,Zy3:()=>dr,mq5:()=>W1,JZv:()=>rn,TL3:()=>uk,LfX:()=>Or,plB:()=>Js,jNT:()=>lm,zjR:()=>qy,XSP:()=>tF,TL$:()=>ME,Tbb:()=>ln,rcV:()=>Ps,Vt3:()=>ch,GFd:()=>Lv,OA$:()=>Fo,Jv_:()=>ty,aNF:()=>ny,R7$:()=>a0,BMQ:()=>Ih,ZvI:()=>O1,AVh:()=>Rh,vxM:()=>V1,wni:()=>M_,VBU:()=>Bi,FsC:()=>oa,jDH:()=>en,G2t:()=>Gn,$C:()=>ns,EJ8:()=>ia,rXU:()=>El,nrm:()=>Lh,bVm:()=>Vd,qex:()=>$d,k0s:()=>Ld,j41:()=>jd,RV6:()=>H1,xGo:()=>Im,KVO:()=>Fn,kS0:()=>$c,QTQ:()=>u0,bIt:()=>Bh,lsd:()=>A_,joV:()=>Ac,qSk:()=>Sc,XpG:()=>__,nI1:()=>hy,bMT:()=>my,i5U:()=>gy,brH:()=>vy,ii3:()=>_y,iJd:()=>yy,SdG:()=>b_,NAR:()=>y_,Y8G:()=>Sh,FS9:()=>Hh,lJ4:()=>iy,eq3:()=>sy,l_i:()=>ay,sMw:()=>ly,mGM:()=>S_,sdS:()=>R_,Njj:()=>bc,tSv:()=>Vg,eBV:()=>yc,npT:()=>Rg,B4B:()=>pp,n$t:()=>Pg,DNE:()=>gh,C5r:()=>by,EFF:()=>G_,JRh:()=>Wh,SpI:()=>qd,Lme:()=>Yh,E5c:()=>Xh,DH7:()=>Q_,mxI:()=>Qh,R50:()=>Kh,GBs:()=>T_});let L=null,le=!1,e=1;const A=Symbol("SIGNAL");function H(t){const n=L;return L=t,n}function C(){return L}const he={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Q(t){if(le)throw new Error("");if(null===L)return;L.consumerOnSignalRead(t);const n=L.nextProducerIndex++;ot(L),n<L.producerNode.length&&L.producerNode[n]!==t&&Pe(L)&&ve(L.producerNode[n],L.producerIndexOfThis[n]),L.producerNode[n]!==t&&(L.producerNode[n]=t,L.producerIndexOfThis[n]=Pe(L)?Ee(t,L,n):0),L.producerLastReadVersion[n]=t.version}function De(t){if((!Pe(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==e)){if(!t.producerMustRecompute(t)&&!me(t))return t.dirty=!1,void(t.lastCleanEpoch=e);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=e}}function be(t){if(void 0===t.liveConsumerNode)return;const n=le;le=!0;try{for(const r of t.liveConsumerNode)r.dirty||ne(r)}finally{le=n}}function je(){return!1!==L?.consumerAllowSignalWrites}function ne(t){t.dirty=!0,be(t),t.consumerMarkedDirty?.(t)}function U(t){return t&&(t.nextProducerIndex=0),H(t)}function G(t,n){if(H(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Pe(t))for(let r=t.nextProducerIndex;r<t.producerNode.length;r++)ve(t.producerNode[r],t.producerIndexOfThis[r]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function me(t){ot(t);for(let n=0;n<t.producerNode.length;n++){const r=t.producerNode[n],o=t.producerLastReadVersion[n];if(o!==r.version||(De(r),o!==r.version))return!0}return!1}function ue(t){if(ot(t),Pe(t))for(let n=0;n<t.producerNode.length;n++)ve(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ee(t,n,r){if(Xe(t),0===t.liveConsumerNode.length&&Ve(t))for(let o=0;o<t.producerNode.length;o++)t.producerIndexOfThis[o]=Ee(t.producerNode[o],t,o);return t.liveConsumerIndexOfThis.push(r),t.liveConsumerNode.push(n)-1}function ve(t,n){if(Xe(t),1===t.liveConsumerNode.length&&Ve(t))for(let o=0;o<t.producerNode.length;o++)ve(t.producerNode[o],t.producerIndexOfThis[o]);const r=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[r],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[r],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const o=t.liveConsumerIndexOfThis[n],i=t.liveConsumerNode[n];ot(i),i.producerIndexOfThis[o]=n}}function Pe(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ot(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Xe(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Ve(t){return void 0!==t.producerNode}const Qe=Symbol("UNSET"),at=Symbol("COMPUTING"),Nt=Symbol("ERRORED"),xt={...he,value:Qe,dirty:!0,error:null,equal:d,producerMustRecompute:t=>t.value===Qe||t.value===at,producerRecomputeValue(t){if(t.value===at)throw new Error("Detected cycle in computations.");const n=t.value;t.value=at;const r=U(t);let o;try{o=t.computation()}catch(i){o=Nt,t.error=i}finally{G(t,r)}n!==Qe&&n!==Nt&&o!==Nt&&t.equal(n,o)?t.value=n:(t.value=o,t.version++)}};let tr=function qt(){throw new Error};function qn(){tr()}let Rr=null;function Ne(t,n){je()||qn(),t.equal(t.value,n)||(t.value=n,function ut(t){t.version++,function _e(){e++}(),be(t),Rr?.()}(t))}const Oe={...he,equal:d,value:void 0};var kt=D(4412),kn=D(1413),an=D(8359),Jt=D(6354);const jn="https://g.co/ng/security#xss";class Ze extends Error{constructor(n,r){super(dr(n,r)),this.code=n}}function dr(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}function Mt(t){return{toString:t}.toString()}const Vt="__parameters__";function Sn(t,n,r){return Mt(()=>{const o=function xn(t){return function(...r){if(t){const o=t(...r);for(const i in o)this[i]=o[i]}}}(n);function i(...a){if(this instanceof i)return o.apply(this,a),this;const l=new i(...a);return p.annotation=l,p;function p(v,F,N){const W=v.hasOwnProperty(Vt)?v[Vt]:Object.defineProperty(v,Vt,{value:[]})[Vt];for(;W.length<=N;)W.push(null);return(W[N]=W[N]||[]).push(l),v}}return r&&(i.prototype=Object.create(r.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const rn=globalThis;function Ot(t){for(let n in t)if(t[n]===Ot)return n;throw Error("Could not find renamed property on target object.")}function fr(t,n){for(const r in n)n.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&(t[r]=n[r])}function ln(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ln).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const r=n.indexOf("\n");return-1===r?n:n.substring(0,r)}function Mn(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Bn=Ot({__forward_ref__:Ot});function Se(t){return t.__forward_ref__=Se,t.toString=function(){return ln(this())},t}function ye(t){return te(t)?t():t}function te(t){return"function"==typeof t&&t.hasOwnProperty(Bn)&&t.__forward_ref__===Se}function en(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Gn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Zn(t){return Qr(t,Ir)||Qr(t,ro)}function Or(t){return null!==Zn(t)}function Qr(t,n){return t.hasOwnProperty(n)?t[n]:null}function yo(t){return t&&(t.hasOwnProperty(no)||t.hasOwnProperty(Ko))?t[no]:null}const Ir=Ot({\u0275prov:Ot}),no=Ot({\u0275inj:Ot}),ro=Ot({ngInjectableDef:Ot}),Ko=Ot({ngInjectorDef:Ot});class It{constructor(n,r){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=en({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function bn(t){return t&&!!t.\u0275providers}const zt=Ot({\u0275cmp:Ot}),wn=Ot({\u0275dir:Ot}),Dn=Ot({\u0275pipe:Ot}),$n=Ot({\u0275mod:Ot}),St=Ot({\u0275fac:Ot}),lt=Ot({__NG_ELEMENT_ID__:Ot}),Vn=Ot({__NG_ENV_ID__:Ot});function Et(t){return"string"==typeof t?t:null==t?"":String(t)}function Qo(t,n){throw new Ze(-201,!1)}var Lt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Lt||{});let bo;function Jo(){return bo}function Mr(t){const n=bo;return bo=t,n}function ci(t,n,r){const o=Zn(t);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&Lt.Optional?null:void 0!==n?n:void Qo()}const Eo={},hr="__NG_DI_FLAG__",mr="ngTempTokenPath",io=/\n/gm,Lr="__source";let gr;function zn(t){const n=gr;return gr=t,n}function or(t,n=Lt.Default){if(void 0===gr)throw new Ze(-203,!1);return null===gr?ci(t,void 0,n):gr.get(t,n&Lt.Optional?null:void 0,n)}function Fn(t,n=Lt.Default){return(Jo()||or)(ye(t),n)}function mt(t,n=Lt.Default){return Fn(t,Zo(n))}function Zo(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Tr(t){const n=[];for(let r=0;r<t.length;r++){const o=ye(t[r]);if(Array.isArray(o)){if(0===o.length)throw new Ze(900,!1);let i,a=Lt.Default;for(let l=0;l<o.length;l++){const p=o[l],v=wo(p);"number"==typeof v?-1===v?i=p.token:a|=v:i=p}n.push(Fn(i,a))}else n.push(Fn(o))}return n}function po(t,n){return t[hr]=n,t.prototype[hr]=n,t}function wo(t){return t[hr]}const Ro=po(Sn("Optional"),8),xo=po(Sn("SkipSelf"),4);function Wn(t,n){return t.hasOwnProperty(St)?t[St]:null}function ho(t,n){t.forEach(r=>Array.isArray(r)?ho(r,n):n(r))}function lr(t,n,r){n>=t.length?t.push(r):t.splice(n,0,r)}function ni(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Un(t,n,r){let o=V(t,n);return o>=0?t[1|o]=r:(o=~o,function Ho(t,n,r,o){let i=t.length;if(i==n)t.push(r,o);else if(1===i)t.push(o,t[0]),t[0]=r;else{for(i--,t.push(t[i-1],t[i]);i>n;)t[i]=t[i-2],i--;t[n]=r,t[n+1]=o}}(t,o,n,r)),o}function Do(t,n){const r=V(t,n);if(r>=0)return t[1|r]}function V(t,n){return function g(t,n,r){let o=0,i=t.length>>r;for(;i!==o;){const a=o+(i-o>>1),l=t[a<<r];if(n===l)return a<<r;l>n?i=a:o=a+1}return~(i<<r)}(t,n,1)}const y={},k=[],$=new It(""),z=new It("",-1),X=new It("");class ce{get(n,r=Eo){if(r===Eo){const o=new Error(`NullInjectorError: No provider for ${ln(n)}!`);throw o.name="NullInjectorError",o}return r}}var Ce=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Ce||{}),oe=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(oe||{}),$e=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}($e||{});function ft(t,n,r){let o=t.length;for(;;){const i=t.indexOf(n,r);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const a=n.length;if(i+a===o||t.charCodeAt(i+a)<=32)return i}r=i+1}}function yt(t,n,r){let o=0;for(;o<r.length;){const i=r[o];if("number"==typeof i){if(0!==i)break;o++;const a=r[o++],l=r[o++],p=r[o++];t.setAttribute(n,l,p,a)}else{const a=i,l=r[++o];fn(a)?t.setProperty(n,a,l):t.setAttribute(n,a,l),o++}}return o}function _t(t){return 3===t||4===t||6===t}function fn(t){return 64===t.charCodeAt(0)}function Wt(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let r=-1;for(let o=0;o<n.length;o++){const i=n[o];"number"==typeof i?r=i:0===r||$r(t,r,i,null,-1===r||2===r?n[++o]:null)}}return t}function $r(t,n,r,o,i){let a=0,l=t.length;if(-1===n)l=-1;else for(;a<t.length;){const p=t[a++];if("number"==typeof p){if(p===n){l=-1;break}if(p>n){l=a-1;break}}}for(;a<t.length;){const p=t[a];if("number"==typeof p)break;if(p===r){if(null===o)return void(null!==i&&(t[a+1]=i));if(o===t[a+1])return void(t[a+2]=i)}a++,null!==o&&a++,null!==i&&a++}-1!==l&&(t.splice(l,0,n),a=l+1),t.splice(a++,0,r),null!==o&&t.splice(a++,0,o),null!==i&&t.splice(a++,0,i)}const eo="ng-template";function mo(t,n,r,o){let i=0;if(o){for(;i<n.length&&"string"==typeof n[i];i+=2)if("class"===n[i]&&-1!==ft(n[i+1].toLowerCase(),r,0))return!0}else if(ir(t))return!1;if(i=n.indexOf(1,i),i>-1){let a;for(;++i<n.length&&"string"==typeof(a=n[i]);)if(a.toLowerCase()===r)return!0}return!1}function ir(t){return 4===t.type&&t.value!==eo}function Hn(t,n,r){return n===(4!==t.type||r?t.value:eo)}function M(t,n,r){let o=4;const i=t.attrs,a=null!==i?function pt(t){for(let n=0;n<t.length;n++)if(_t(t[n]))return n;return t.length}(i):0;let l=!1;for(let p=0;p<n.length;p++){const v=n[p];if("number"!=typeof v){if(!l)if(4&o){if(o=2|1&o,""!==v&&!Hn(t,v,r)||""===v&&1===n.length){if(S(o))return!1;l=!0}}else if(8&o){if(null===i||!mo(t,i,v,r)){if(S(o))return!1;l=!0}}else{const F=n[++p],N=w(v,i,ir(t),r);if(-1===N){if(S(o))return!1;l=!0;continue}if(""!==F){let W;if(W=N>a?"":i[N+1].toLowerCase(),2&o&&F!==W){if(S(o))return!1;l=!0}}}}else{if(!l&&!S(o)&&!S(v))return!1;if(l&&S(v))continue;l=!1,o=v|1&o}}return S(o)||l}function S(t){return!(1&t)}function w(t,n,r,o){if(null===n)return-1;let i=0;if(o||!r){let a=!1;for(;i<n.length;){const l=n[i];if(l===t)return i;if(3===l||6===l)a=!0;else{if(1===l||2===l){let p=n[++i];for(;"string"==typeof p;)p=n[++i];continue}if(4===l)break;if(0===l){i+=4;continue}}i+=a?1:2}return-1}return function Qt(t,n){let r=t.indexOf(4);if(r>-1)for(r++;r<t.length;){const o=t[r];if("number"==typeof o)return-1;if(o===n)return r;r++}return-1}(n,t)}function B(t,n,r=!1){for(let o=0;o<n.length;o++)if(M(t,n[o],r))return!0;return!1}function No(t,n){e:for(let r=0;r<n.length;r++){const o=n[r];if(t.length===o.length){for(let i=0;i<t.length;i++)if(t[i]!==o[i])continue e;return!0}}return!1}function fi(t,n){return t?":not("+n.trim()+")":n}function es(t){let n=t[0],r=1,o=2,i="",a=!1;for(;r<t.length;){let l=t[r];if("string"==typeof l)if(2&o){const p=t[++r];i+="["+l+(p.length>0?'="'+p+'"':"")+"]"}else 8&o?i+="."+l:4&o&&(i+=" "+l);else""!==i&&!S(l)&&(n+=fi(a,i),i=""),o=l,a=a||!S(o);r++}return""!==i&&(n+=fi(a,i)),n}function Bi(t){return Mt(()=>{const n=rs(t),r={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ce.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||oe.Emulated,styles:t.styles||k,_:null,schemas:t.schemas||null,tView:null,id:""};gs(r);const o=t.dependencies;return r.directiveDefs=Gi(o,!1),r.pipeDefs=Gi(o,!0),r.id=function Hi(t){let n=0;const r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of r)n=Math.imul(31,n)+i.charCodeAt(0)|0;return n+=2147483648,"c"+n}(r),r})}function ts(t){return Gt(t)||sr(t)}function Si(t){return null!==t}function ns(t){return Mt(()=>({type:t.type,bootstrap:t.bootstrap||k,declarations:t.declarations||k,imports:t.imports||k,exports:t.exports||k,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ai(t,n){if(null==t)return y;const r={};for(const o in t)if(t.hasOwnProperty(o)){const i=t[o];let a,l,p=$e.None;Array.isArray(i)?(p=i[0],a=i[1],l=i[2]??a):(a=i,l=i),n?(r[a]=p!==$e.None?[o,p]:o,n[a]=l):r[a]=o}return r}function oa(t){return Mt(()=>{const n=rs(t);return gs(n),n})}function ia(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Gt(t){return t[zt]||null}function sr(t){return t[wn]||null}function wr(t){return t[Dn]||null}function pi(t){const n=Gt(t)||sr(t)||wr(t);return null!==n&&n.standalone}function Sr(t,n){const r=t[$n]||null;if(!r&&!0===n)throw new Error(`Type ${ln(t)} does not have '\u0275mod' property.`);return r}function rs(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||y,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||k,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ai(t.inputs,n),outputs:Ai(t.outputs),debugInfo:null}}function gs(t){t.features?.forEach(n=>n(t))}function Gi(t,n){if(!t)return null;const r=n?wr:ts;return()=>("function"==typeof t?t():t).map(o=>r(o)).filter(Si)}function Po(t){return{\u0275providers:t}}function Ua(...t){return{\u0275providers:Ls(0,t),\u0275fromNgModule:!0}}function Ls(t,...n){const r=[],o=new Set;let i;const a=l=>{r.push(l)};return ho(n,l=>{const p=l;vs(p,a,[],o)&&(i||=[],i.push(p))}),void 0!==i&&aa(i,a),r}function aa(t,n){for(let r=0;r<t.length;r++){const{ngModule:o,providers:i}=t[r];$s(i,a=>{n(a,o)})}}function vs(t,n,r,o){if(!(t=ye(t)))return!1;let i=null,a=yo(t);const l=!a&&Gt(t);if(a||l){if(l&&!l.standalone)return!1;i=t}else{const v=t.ngModule;if(a=yo(v),!a)return!1;i=v}const p=o.has(i);if(l){if(p)return!1;if(o.add(i),l.dependencies){const v="function"==typeof l.dependencies?l.dependencies():l.dependencies;for(const F of v)vs(F,n,r,o)}}else{if(!a)return!1;{if(null!=a.imports&&!p){let F;o.add(i);try{ho(a.imports,N=>{vs(N,n,r,o)&&(F||=[],F.push(N))})}finally{}void 0!==F&&aa(F,n)}if(!p){const F=Wn(i)||(()=>new i);n({provide:i,useFactory:F,deps:k},i),n({provide:X,useValue:i,multi:!0},i),n({provide:$,useValue:()=>Fn(i),multi:!0},i)}const v=a.providers;if(null!=v&&!p){const F=t;$s(v,N=>{n(N,F)})}}}return i!==t&&void 0!==t.providers}function $s(t,n){for(let r of t)bn(r)&&(r=r.\u0275providers),Array.isArray(r)?$s(r,n):n(r)}const la=Ot({provide:String,useValue:Ot});function ua(t){return null!==t&&"object"==typeof t&&la in t}function hi(t){return"function"==typeof t}const os=new It(""),bs={},ca={};let Es;function qi(){return void 0===Es&&(Es=new ce),Es}class go{}class zi extends go{get destroyed(){return this._destroyed}constructor(n,r,o,i){super(),this.parent=r,this.source=o,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,vi(n,l=>this.processProvider(l)),this.records.set(z,gi(void 0,this)),i.has("environment")&&this.records.set(go,gi(void 0,this));const a=this.records.get(os);null!=a&&"string"==typeof a.value&&this.scopes.add(a.value),this.injectorDefTypes=new Set(this.get(X,k,Lt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=H(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),H(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const r=zn(this),o=Mr(void 0);try{return n()}finally{zn(r),Mr(o)}}get(n,r=Eo,o=Lt.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Vn))return n[Vn](this);o=Zo(o);const a=zn(this),l=Mr(void 0);try{if(!(o&Lt.SkipSelf)){let v=this.records.get(n);if(void 0===v){const F=function fa(t){return"function"==typeof t||"object"==typeof t&&t instanceof It}(n)&&Zn(n);v=F&&this.injectableDefInScope(F)?gi(mi(n),bs):null,this.records.set(n,v)}if(null!=v)return this.hydrate(n,v)}return(o&Lt.Self?qi():this.parent).get(n,r=o&Lt.Optional&&r===Eo?null:r)}catch(p){if("NullInjectorError"===p.name){if((p[mr]=p[mr]||[]).unshift(ln(n)),a)throw p;return function Mi(t,n,r,o){const i=t[mr];throw n[Lr]&&i.unshift(n[Lr]),t.message=function Zr(t,n,r,o=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=ln(n);if(Array.isArray(n))i=n.map(ln).join(" -> ");else if("object"==typeof n){let a=[];for(let l in n)if(n.hasOwnProperty(l)){let p=n[l];a.push(l+":"+("string"==typeof p?JSON.stringify(p):ln(p)))}i=`{${a.join(", ")}}`}return`${r}${o?"("+o+")":""}[${i}]: ${t.replace(io,"\n  ")}`}("\n"+t.message,i,r,o),t.ngTokenPath=i,t[mr]=null,t}(p,n,"R3InjectorError",this.source)}throw p}finally{Mr(l),zn(a)}}resolveInjectorInitializers(){const n=H(null),r=zn(this),o=Mr(void 0);try{const a=this.get($,k,Lt.Self);for(const l of a)l()}finally{zn(r),Mr(o),H(n)}}toString(){const n=[],r=this.records;for(const o of r.keys())n.push(ln(o));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ze(205,!1)}processProvider(n){let r=hi(n=ye(n))?n:ye(n&&n.provide);const o=function Vs(t){return ua(t)?gi(void 0,t.useValue):gi(Ri(t),bs)}(n);if(!hi(n)&&!0===n.multi){let i=this.records.get(r);i||(i=gi(void 0,bs,!0),i.factory=()=>Tr(i.multi),this.records.set(r,i)),r=n,i.multi.push(n)}this.records.set(r,o)}hydrate(n,r){const o=H(null);try{return r.value===bs&&(r.value=ca,r.value=r.factory()),"object"==typeof r.value&&r.value&&function Ha(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{H(o)}}injectableDefInScope(n){if(!n.providedIn)return!1;const r=ye(n.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(n){const r=this._onDestroyHooks.indexOf(n);-1!==r&&this._onDestroyHooks.splice(r,1)}}function mi(t){const n=Zn(t),r=null!==n?n.factory:Wn(t);if(null!==r)return r;if(t instanceof It)throw new Ze(204,!1);if(t instanceof Function)return function da(t){if(t.length>0)throw new Ze(204,!1);const r=function Vo(t){return t&&(t[Ir]||t[ro])||null}(t);return null!==r?()=>r.factory(t):()=>new t}(t);throw new Ze(204,!1)}function Ri(t,n,r){let o;if(hi(t)){const i=ye(t);return Wn(i)||mi(i)}if(ua(t))o=()=>ye(t.useValue);else if(function ys(t){return!(!t||!t.useFactory)}(t))o=()=>t.useFactory(...Tr(t.deps||[]));else if(function _s(t){return!(!t||!t.useExisting)}(t))o=()=>Fn(ye(t.useExisting));else{const i=ye(t&&(t.useClass||t.provide));if(!function Ga(t){return!!t.deps}(t))return Wn(i)||mi(i);o=()=>new i(...Tr(t.deps))}return o}function gi(t,n,r=!1){return{factory:t,value:n,multi:r?[]:void 0}}function vi(t,n){for(const r of t)Array.isArray(r)?vi(r,n):r&&bn(r)?vi(r.\u0275providers,n):n(r)}function qa(t,n){t instanceof zi&&t.assertNotDestroyed();const o=zn(t),i=Mr(void 0);try{return n()}finally{zn(o),Mr(i)}}function is(){return void 0!==Jo()||null!=function Co(){return gr}()}function ri(t){if(!is())throw new Ze(-203,!1)}const gt=0,ze=1,vt=2,mn=3,vr=4,Nn=5,ur=6,ar=7,_n=8,Pn=9,Vr=10,At=11,Cs=12,pa=13,ao=14,Yn=15,ss=16,ws=17,Pi=18,Wi=19,ha=20,oi=21,Us=22,Oo=23,bt=25,Bs=1,_i=7,Ds=9,cr=10;var Gs=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Gs||{});function Ar(t){return Array.isArray(t)&&"object"==typeof t[Bs]}function Ur(t){return Array.isArray(t)&&!0===t[Bs]}function ga(t){return!!(4&t.flags)}function Yi(t){return t.componentOffset>-1}function Hs(t){return!(1&~t.flags)}function qo(t){return!!t.template}function Fs(t){return!!(512&t[vt])}class Br{constructor(n,r,o){this.previousValue=n,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}}function bi(t,n,r,o){null!==n?n.applyValueToInputSignal(n,o):t[r]=o}function Fo(){return as}function as(t){return t.type.prototype.ngOnChanges&&(t.setInput=zs),Zl}function Zl(){const t=Qa(this),n=t?.current;if(n){const r=t.previous;if(r===y)t.previous=n;else for(let o in n)r[o]=n[o];t.current=null,this.ngOnChanges(n)}}function zs(t,n,r,o,i){const a=this.declaredInputs[o],l=Qa(t)||function gf(t,n){return t[Ka]=n}(t,{previous:y,current:null}),p=l.current||(l.current={}),v=l.previous,F=v[a];p[a]=new Br(F&&F.currentValue,r,v===y),bi(t,n,i,r)}Fo.ngInherit=!0;const Ka="__ngSimpleChanges__";function Qa(t){return t[Ka]||null}const Oi=function(t,n,r){},fc="svg";function En(t){for(;Array.isArray(t);)t=t[gt];return t}function ls(t,n){return En(n[t])}function Io(t,n){return En(n[t.index])}function va(t,n){return t.data[n]}function Is(t,n){return t[n]}function zo(t,n){const r=n[t];return Ar(r)?r:r[gt]}function nu(t){return!(128&~t[vt])}function ii(t,n){return null==n?null:t[n]}function hc(t){t[ws]=0}function mc(t){1024&t[vt]||(t[vt]|=1024,nu(t)&&Za(t))}function Ja(t){return!!(9216&t[vt]||t[Oo]?.dirty)}function ru(t){t[Vr].changeDetectionScheduler?.notify(8),64&t[vt]&&(t[vt]|=1024),Ja(t)&&Za(t)}function Za(t){t[Vr].changeDetectionScheduler?.notify(0);let n=Xi(t);for(;null!==n&&!(8192&n[vt])&&(n[vt]|=8192,nu(n));)n=Xi(n)}function el(t,n){if(!(256&~t[vt]))throw new Ze(911,!1);null===t[oi]&&(t[oi]=[]),t[oi].push(n)}function Xi(t){const n=t[mn];return Ur(n)?n[mn]:n}const $t={lFrame:ol(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let vc=!1;function _c(){return $t.bindingsEnabled}function ks(){return null!==$t.skipHydrationRootTNode}function Le(){return $t.lFrame.lView}function un(){return $t.lFrame.tView}function yc(t){return $t.lFrame.contextLView=t,t[_n]}function bc(t){return $t.lFrame.contextLView=null,t}function On(){let t=Ec();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ec(){return $t.lFrame.currentTNode}function Ei(t,n){const r=$t.lFrame;r.currentTNode=t,r.isParent=n}function au(){return $t.lFrame.isParent}function lu(){$t.lFrame.isParent=!1}function xc(){return vc}function Dc(t){vc=t}function ko(){const t=$t.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Ki(){return $t.lFrame.bindingIndex}function Ci(){return $t.lFrame.bindingIndex++}function Qi(t){const n=$t.lFrame,r=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,r}function Mf(t,n){const r=$t.lFrame;r.bindingIndex=r.bindingRootIndex=t,uu(n)}function uu(t){$t.lFrame.currentDirectiveIndex=t}function cu(){return $t.lFrame.currentQueryIndex}function nl(t){$t.lFrame.currentQueryIndex=t}function Sf(t){const n=t[ze];return 2===n.type?n.declTNode:1===n.type?t[Nn]:null}function Mc(t,n,r){if(r&Lt.SkipSelf){let i=n,a=t;for(;!(i=i.parent,null!==i||r&Lt.Host||(i=Sf(a),null===i||(a=a[ao],10&i.type))););if(null===i)return!1;n=i,t=a}const o=$t.lFrame=rl();return o.currentTNode=n,o.lView=t,!0}function du(t){const n=rl(),r=t[ze];$t.lFrame=n,n.currentTNode=r.firstChild,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex,n.inI18n=!1}function rl(){const t=$t.lFrame,n=null===t?null:t.child;return null===n?ol(t):n}function ol(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function fu(){const t=$t.lFrame;return $t.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Tc=fu;function pu(){const t=fu();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function lo(){return $t.lFrame.selectedIndex}function Ms(t){$t.lFrame.selectedIndex=t}function Kn(){const t=$t.lFrame;return va(t.tView,t.selectedIndex)}function Sc(){$t.lFrame.currentNamespace=fc}function Ac(){!function Nf(){$t.lFrame.currentNamespace=null}()}let Nc=!0;function wi(){return Nc}function ji(t){Nc=t}function il(t,n){for(let r=n.directiveStart,o=n.directiveEnd;r<o;r++){const a=t.data[r].type.prototype,{ngAfterContentInit:l,ngAfterContentChecked:p,ngAfterViewInit:v,ngAfterViewChecked:F,ngOnDestroy:N}=a;l&&(t.contentHooks??=[]).push(-r,l),p&&((t.contentHooks??=[]).push(r,p),(t.contentCheckHooks??=[]).push(r,p)),v&&(t.viewHooks??=[]).push(-r,v),F&&((t.viewHooks??=[]).push(r,F),(t.viewCheckHooks??=[]).push(r,F)),null!=N&&(t.destroyHooks??=[]).push(r,N)}}function sl(t,n,r){Pc(t,n,3,r)}function Ts(t,n,r,o){(3&t[vt])===r&&Pc(t,n,r,o)}function al(t,n){let r=t[vt];(3&r)===n&&(r&=16383,r+=1,t[vt]=r)}function Pc(t,n,r,o){const a=o??-1,l=n.length-1;let p=0;for(let v=void 0!==o?65535&t[ws]:0;v<l;v++)if("number"==typeof n[v+1]){if(p=n[v],null!=o&&p>=o)break}else n[v]<0&&(t[ws]+=65536),(p<a||-1==a)&&(Of(t,r,n,v),t[ws]=(4294901760&t[ws])+v+2),v++}function Oc(t,n){Oi(4,t,n);const r=H(null);try{n.call(t)}finally{H(r),Oi(5,t,n)}}function Of(t,n,r,o){const i=r[o]<0,a=r[o+1],p=t[i?-r[o]:r[o]];i?t[vt]>>14<t[ws]>>16&&(3&t[vt])===n&&(t[vt]+=16384,Oc(p,a)):Oc(p,a)}const Ws=-1;class ya{constructor(n,r,o){this.factory=n,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=o}}const ae={};class Fe{constructor(n,r){this.injector=n,this.parentInjector=r}get(n,r,o){o=Zo(o);const i=this.injector.get(n,ae,o);return i!==ae||r===ae?i:this.parentInjector.get(n,r,o)}}function it(t){return t!==Ws}function Ct(t){return 32767&t}function Xt(t,n){let r=function on(t){return t>>16}(t),o=n;for(;r>0;)o=o[ao],r--;return o}let er=!0;function Ut(t){const n=er;return er=t,n}const Li=255,Ys=5;let ll=0;const Mo={};function Ss(t,n){const r=ba(t,n);if(-1!==r)return r;const o=n[ze];o.firstCreatePass&&(t.injectorIndex=n.length,Xs(o.data,t),Xs(n,null),Xs(o.blueprint,null));const i=As(t,n),a=t.injectorIndex;if(it(i)){const l=Ct(i),p=Xt(i,n),v=p[ze].data;for(let F=0;F<8;F++)n[a+F]=p[l+F]|v[l+F]}return n[a+8]=i,a}function Xs(t,n){t.push(0,0,0,0,0,0,0,0,n)}function ba(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function As(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let r=0,o=null,i=n;for(;null!==i;){if(o=km(i),null===o)return Ws;if(r++,i=i[ao],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return Ws}function Ks(t,n,r){!function jc(t,n,r){let o;"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(lt)&&(o=r[lt]),null==o&&(o=r[lt]=ll++);const i=o&Li;n.data[t+(i>>Ys)]|=1<<i}(t,n,r)}function Rs(t,n,r){if(r&Lt.Optional||void 0!==t)return t;Qo()}function Ea(t,n,r,o){if(r&Lt.Optional&&void 0===o&&(o=null),!(r&(Lt.Self|Lt.Host))){const i=t[Pn],a=Mr(void 0);try{return i?i.get(n,o,r&Lt.Optional):ci(n,o,r&Lt.Optional)}finally{Mr(a)}}return Rs(o,0,r)}function Ca(t,n,r,o=Lt.Default,i){if(null!==t){if(2048&n[vt]&&!(o&Lt.Self)){const l=function Bb(t,n,r,o,i){let a=t,l=n;for(;null!==a&&null!==l&&2048&l[vt]&&!(512&l[vt]);){const p=xm(a,l,r,o|Lt.Self,Mo);if(p!==Mo)return p;let v=a.parent;if(!v){const F=l[ha];if(F){const N=F.get(r,Mo,o);if(N!==Mo)return N}v=km(l),l=l[ao]}a=v}return i}(t,n,r,o,Mo);if(l!==Mo)return l}const a=xm(t,n,r,o,Mo);if(a!==Mo)return a}return Ea(n,r,o,i)}function xm(t,n,r,o,i){const a=function Vb(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(lt)?t[lt]:void 0;return"number"==typeof n?n>=0?n&Li:Ub:n}(r);if("function"==typeof a){if(!Mc(n,t,o))return o&Lt.Host?Rs(i,0,o):Ea(n,r,o,i);try{let l;if(l=a(o),null!=l||o&Lt.Optional)return l;Qo()}finally{Tc()}}else if("number"==typeof a){let l=null,p=ba(t,n),v=Ws,F=o&Lt.Host?n[Yn][Nn]:null;for((-1===p||o&Lt.SkipSelf)&&(v=-1===p?As(t,n):n[p+8],v!==Ws&&Fm(o,!1)?(l=n[ze],p=Ct(v),n=Xt(v,n)):p=-1);-1!==p;){const N=n[ze];if(Dm(a,p,N.data)){const W=$b(p,n,r,l,o,F);if(W!==Mo)return W}v=n[p+8],v!==Ws&&Fm(o,n[ze].data[p+8]===F)&&Dm(a,p,n)?(l=N,p=Ct(v),n=Xt(v,n)):p=-1}}return i}function $b(t,n,r,o,i,a){const l=n[ze],p=l.data[t+8],N=Lc(p,l,r,null==o?Yi(p)&&er:o!=l&&!!(3&p.type),i&Lt.Host&&a===p);return null!==N?wa(n,l,N,p):Mo}function Lc(t,n,r,o,i){const a=t.providerIndexes,l=n.data,p=1048575&a,v=t.directiveStart,N=a>>20,re=i?p+N:t.directiveEnd;for(let pe=o?p:p+N;pe<re;pe++){const we=l[pe];if(pe<v&&r===we||pe>=v&&we.type===r)return pe}if(i){const pe=l[v];if(pe&&qo(pe)&&pe.type===r)return v}return null}function wa(t,n,r,o){let i=t[r];const a=n.data;if(function jf(t){return t instanceof ya}(i)){const l=i;l.resolving&&function jr(t,n){throw n&&n.join(" > "),new Ze(-200,t)}(function ct(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Et(t)}(a[r]));const p=Ut(l.canSeeViewProviders);l.resolving=!0;const F=l.injectImpl?Mr(l.injectImpl):null;Mc(t,o,Lt.Default);try{i=t[r]=l.factory(void 0,a,t,o),n.firstCreatePass&&r>=o.directiveStart&&function Pf(t,n,r){const{ngOnChanges:o,ngOnInit:i,ngDoCheck:a}=n.type.prototype;if(o){const l=as(n);(r.preOrderHooks??=[]).push(t,l),(r.preOrderCheckHooks??=[]).push(t,l)}i&&(r.preOrderHooks??=[]).push(0-t,i),a&&((r.preOrderHooks??=[]).push(t,a),(r.preOrderCheckHooks??=[]).push(t,a))}(r,a[r],n)}finally{null!==F&&Mr(F),Ut(p),l.resolving=!1,Tc()}}return i}function Dm(t,n,r){return!!(r[n+(t>>Ys)]&1<<t)}function Fm(t,n){return!(t&Lt.Self||t&Lt.Host&&n)}class uo{constructor(n,r){this._tNode=n,this._lView=r}get(n,r,o){return Ca(this._tNode,this._lView,n,Zo(o),r)}}function Ub(){return new uo(On(),Le())}function Im(t){return Mt(()=>{const n=t.prototype.constructor,r=n[St]||Lf(n),o=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==o;){const a=i[St]||Lf(i);if(a&&a!==r)return a;i=Object.getPrototypeOf(i)}return a=>new a})}function Lf(t){return te(t)?()=>{const n=Lf(ye(t));return n&&n()}:Wn(t)}function km(t){const n=t[ze],r=n.type;return 2===r?n.declTNode:1===r?t[Nn]:null}function $c(t){return function ul(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const r=t.attrs;if(r){const o=r.length;let i=0;for(;i<o;){const a=r[i];if(_t(a))break;if(0===a)i+=2;else if("number"==typeof a)for(i++;i<o&&"string"==typeof r[i];)i++;else{if(a===n)return r[i+1];i+=2}}}return null}(On(),t)}function Rm(t,n=null,r=null,o){const i=Nm(t,n,r,o);return i.resolveInjectorInitializers(),i}function Nm(t,n=null,r=null,o,i=new Set){const a=[r||k,Ua(t)];return o=o||("object"==typeof t?void 0:ln(t)),new zi(a,n||qi(),o||null,i)}class jo{static{this.THROW_IF_NOT_FOUND=Eo}static{this.NULL=new ce}static create(n,r){if(Array.isArray(n))return Rm({name:""},r,n,"");{const o=n.name??"";return Rm({name:o},n.parent,n.providers,o)}}static{this.\u0275prov=en({token:jo,providedIn:"any",factory:()=>Fn(z)})}static{this.__NG_ELEMENT_ID__=-1}}new It("").__NG_ELEMENT_ID__=t=>{const n=On();if(null===n)throw new Ze(204,!1);if(2&n.type)return n.value;if(t&Lt.Optional)return null;throw new Ze(204,!1)};function Vf(t){return t.ngOriginalError}const Om=!0;let fl=(()=>{class t{static{this.__NG_ELEMENT_ID__=Jb}static{this.__NG_ENV_ID__=r=>r}}return t})();class Qb extends fl{constructor(n){super(),this._lView=n}onDestroy(n){return el(this._lView,n),()=>function ou(t,n){if(null===t[oi])return;const r=t[oi].indexOf(n);-1!==r&&t[oi].splice(r,1)}(this._lView,n)}}function Jb(){return new Qb(Le())}let xa=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new kt.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=en({token:t,providedIn:"root",factory:()=>new t})}}return t})();const us=class Zb extends kn.B{constructor(n=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=n,is()&&(this.destroyRef=mt(fl,{optional:!0})??void 0,this.pendingTasks=mt(xa,{optional:!0})??void 0)}emit(n){const r=H(null);try{super.next(n)}finally{H(r)}}subscribe(n,r,o){let i=n,a=r||(()=>null),l=o;if(n&&"object"==typeof n){const v=n;i=v.next?.bind(v),a=v.error?.bind(v),l=v.complete?.bind(v)}this.__isAsync&&(a=this.wrapInTimeout(a),i&&(i=this.wrapInTimeout(i)),l&&(l=this.wrapInTimeout(l)));const p=super.subscribe({next:i,error:a,complete:l});return n instanceof an.yU&&n.add(p),p}wrapInTimeout(n){return r=>{const o=this.pendingTasks?.add();setTimeout(()=>{n(r),void 0!==o&&this.pendingTasks?.remove(o)})}}};function Uc(...t){}function jm(t){let n,r;function o(){t=Uc;try{void 0!==r&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(r),void 0!==n&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{t(),o()}),"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(()=>{t(),o()})),()=>o()}function Lm(t){return queueMicrotask(()=>t()),()=>{t=Uc}}const Uf="isAngularZone",Bc=Uf+"_ID";let eE=0;class _r{constructor(n){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new us(!1),this.onMicrotaskEmpty=new us(!1),this.onStable=new us(!1),this.onError=new us(!1);const{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:a=Om}=n;if(typeof Zone>"u")throw new Ze(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!i&&o,l.shouldCoalesceRunChangeDetection=i,l.callbackScheduled=!1,l.scheduleInRootZone=a,function rE(t){const n=()=>{!function nE(t){function n(){jm(()=>{t.callbackScheduled=!1,Gf(t),t.isCheckStableRunning=!0,Bf(t),t.isCheckStableRunning=!1})}t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,t.scheduleInRootZone?Zone.root.run(()=>{n()}):t._outer.run(()=>{n()}),Gf(t))}(t)},r=eE++;t._inner=t._inner.fork({name:"angular",properties:{[Uf]:!0,[Bc]:r,[Bc+r]:!0},onInvokeTask:(o,i,a,l,p,v)=>{if(function oE(t){return Um(t,"__ignore_ng_zone__")}(v))return o.invokeTask(a,l,p,v);try{return $m(t),o.invokeTask(a,l,p,v)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===l.type||t.shouldCoalesceRunChangeDetection)&&n(),Vm(t)}},onInvoke:(o,i,a,l,p,v,F)=>{try{return $m(t),o.invoke(a,l,p,v,F)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!function iE(t){return Um(t,"__scheduler_tick__")}(v)&&n(),Vm(t)}},onHasTask:(o,i,a,l)=>{o.hasTask(a,l),i===a&&("microTask"==l.change?(t._hasPendingMicrotasks=l.microTask,Gf(t),Bf(t)):"macroTask"==l.change&&(t.hasPendingMacrotasks=l.macroTask))},onHandleError:(o,i,a,l)=>(o.handleError(a,l),t.runOutsideAngular(()=>t.onError.emit(l)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Uf)}static assertInAngularZone(){if(!_r.isInAngularZone())throw new Ze(909,!1)}static assertNotInAngularZone(){if(_r.isInAngularZone())throw new Ze(909,!1)}run(n,r,o){return this._inner.run(n,r,o)}runTask(n,r,o,i){const a=this._inner,l=a.scheduleEventTask("NgZoneEvent: "+i,n,tE,Uc,Uc);try{return a.runTask(l,r,o)}finally{a.cancelTask(l)}}runGuarded(n,r,o){return this._inner.runGuarded(n,r,o)}runOutsideAngular(n){return this._outer.run(n)}}const tE={};function Bf(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Gf(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&!0===t.callbackScheduled)}function $m(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Vm(t){t._nesting--,Bf(t)}class Hf{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new us,this.onMicrotaskEmpty=new us,this.onStable=new us,this.onError=new us}run(n,r,o){return n.apply(r,o)}runGuarded(n,r,o){return n.apply(r,o)}runOutsideAngular(n){return n()}runTask(n,r,o,i){return n.apply(r,o)}}function Um(t,n){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0]?.data?.[n]}class Ns{constructor(){this._console=console}handleError(n){const r=this._findOriginalError(n);this._console.error("ERROR",n),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(n){let r=n&&Vf(n);for(;r&&Vf(r);)r=Vf(r);return r||null}}const aE=new It("",{providedIn:"root",factory:()=>{const t=mt(_r),n=mt(Ns);return r=>t.runOutsideAngular(()=>n.handleError(r))}});function lE(){return pl(On(),Le())}function pl(t,n){return new mu(Io(t,n))}let mu=(()=>{class t{constructor(r){this.nativeElement=r}static{this.__NG_ELEMENT_ID__=lE}}return t})();function Gm(t){return t instanceof mu?t.nativeElement:t}function uE(){return this._results[Symbol.iterator]()}class qf{get changes(){return this._changes??=new us}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=qf.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=uE)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,r){return this._results.reduce(n,r)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,r){this.dirty=!1;const o=function An(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Bo(t,n,r){if(t.length!==n.length)return!1;for(let o=0;o<t.length;o++){let i=t[o],a=n[o];if(r&&(i=r(i),a=r(a)),a!==i)return!1}return!0}(this._results,o,r))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function vu(t){return!(128&~t.flags)}const Wf=new Map;let dE=0;function Yf(t){Wf.delete(t[Wi])}const Gc="__ngContext__";function Lo(t,n){Ar(n)?(t[Gc]=n[Wi],function pE(t){Wf.set(t[Wi],t)}(n)):t[Gc]=n}function Zm(t){return tg(t[Cs])}function eg(t){return tg(t[vr])}function tg(t){for(;null!==t&&!Ur(t);)t=t[vr];return t}let Kf;function ME(t){Kf=t}function Qs(){if(void 0!==Kf)return Kf;if(typeof document<"u")return document;throw new Ze(210,!1)}const qc=new It("",{providedIn:"root",factory:()=>TE}),TE="ng",ug=new It(""),zc=new It("",{providedIn:"platform",factory:()=>"unknown"}),SE=new It("",{providedIn:"root",factory:()=>Qs().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let cg=()=>null;function rp(t,n,r=!1){return cg(t,n,r)}const _g=new It("",{providedIn:"root",factory:()=>!1});let Zc,ed;function vl(t){return function lp(){if(void 0===Zc&&(Zc=null,rn.trustedTypes))try{Zc=rn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Zc}()?.createHTML(t)||t}function up(){if(void 0===ed&&(ed=null,rn.trustedTypes))try{ed=rn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ed}function Eg(t){return up()?.createHTML(t)||t}function wg(t){return up()?.createScriptURL(t)||t}class Fa{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${jn})`}}class qE extends Fa{getTypeName(){return"HTML"}}class zE extends Fa{getTypeName(){return"Style"}}class WE extends Fa{getTypeName(){return"Script"}}class YE extends Fa{getTypeName(){return"URL"}}class XE extends Fa{getTypeName(){return"ResourceURL"}}function Ps(t){return t instanceof Fa?t.changingThisBreaksApplicationSecurity:t}function _l(t,n){const r=function KE(t){return t instanceof Fa&&t.getTypeName()||null}(t);if(null!=r&&r!==n){if("ResourceURL"===r&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${r} (see ${jn})`)}return r===n}function QE(t){return new qE(t)}function JE(t){return new zE(t)}function ZE(t){return new WE(t)}function eC(t){return new YE(t)}function tC(t){return new XE(t)}class nC{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const r=(new window.DOMParser).parseFromString(vl(n),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(n):(r.firstChild?.remove(),r)}catch{return null}}}class rC{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const r=this.inertDocument.createElement("template");return r.innerHTML=vl(n),r}}const iC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function td(t){return(t=String(t)).match(iC)?t:"unsafe:"+t}function Os(t){const n={};for(const r of t.split(","))n[r]=!0;return n}function xu(...t){const n={};for(const r of t)for(const o in r)r.hasOwnProperty(o)&&(n[o]=!0);return n}const Dg=Os("area,br,col,hr,img,wbr"),Fg=Os("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ig=Os("rp,rt"),cp=xu(Dg,xu(Fg,Os("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),xu(Ig,Os("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),xu(Ig,Fg)),dp=Os("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),kg=xu(dp,Os("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Os("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),sC=Os("script,style,template");class aC{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let r=n.firstChild,o=!0,i=[];for(;r;)if(r.nodeType===Node.ELEMENT_NODE?o=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,o&&r.firstChild)i.push(r),r=cC(r);else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let a=uC(r);if(a){r=a;break}r=i.pop()}return this.buf.join("")}startElement(n){const r=Mg(n).toLowerCase();if(!cp.hasOwnProperty(r))return this.sanitizedSomething=!0,!sC.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const o=n.attributes;for(let i=0;i<o.length;i++){const a=o.item(i),l=a.name,p=l.toLowerCase();if(!kg.hasOwnProperty(p)){this.sanitizedSomething=!0;continue}let v=a.value;dp[p]&&(v=td(v)),this.buf.push(" ",l,'="',Sg(v),'"')}return this.buf.push(">"),!0}endElement(n){const r=Mg(n).toLowerCase();cp.hasOwnProperty(r)&&!Dg.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(n){this.buf.push(Sg(n))}}function uC(t){const n=t.nextSibling;if(n&&t!==n.previousSibling)throw Tg(n);return n}function cC(t){const n=t.firstChild;if(n&&function lC(t,n){return(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(t,n))throw Tg(n);return n}function Mg(t){const n=t.nodeName;return"string"==typeof n?n:"FORM"}function Tg(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}const dC=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fC=/([^\#-~ |!])/g;function Sg(t){return t.replace(/&/g,"&amp;").replace(dC,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(fC,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let nd;function Ag(t,n){let r=null;try{nd=nd||function xg(t){const n=new rC(t);return function oC(){try{return!!(new window.DOMParser).parseFromString(vl(""),"text/html")}catch{return!1}}()?new nC(n):n}(t);let o=n?String(n):"";r=nd.getInertBodyElement(o);let i=5,a=o;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,o=a,a=r.innerHTML,r=nd.getInertBodyElement(o)}while(o!==a);return vl((new aC).sanitizeChildren(fp(r)||r))}finally{if(r){const o=fp(r)||r;for(;o.firstChild;)o.firstChild.remove()}}}function fp(t){return"content"in t&&function pC(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Ia=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ia||{});function Rg(t){const n=Du();return n?Eg(n.sanitize(Ia.HTML,t)||""):_l(t,"HTML")?Eg(Ps(t)):Ag(Qs(),Et(t))}function pp(t){const n=Du();return n?n.sanitize(Ia.URL,t)||"":_l(t,"URL")?Ps(t):td(Et(t))}function Ng(t){const n=Du();if(n)return wg(n.sanitize(Ia.RESOURCE_URL,t)||"");if(_l(t,"ResourceURL"))return wg(Ps(t));throw new Ze(904,!1)}function Pg(t,n,r){return function _C(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?Ng:pp}(n,r)(t)}function Du(){const t=Le();return t&&t[Vr].sanitizer}const yC=/^>|^->|<!--|-->|--!>|<!-$/g,bC=/(<|>)/g,EC="\u200b$1\u200b";function Vg(t){return t.ownerDocument.defaultView}function Di(t){return t instanceof Function?t():t}var id=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(id||{});let gp;function vp(t,n){return gp(t,n)}function bl(t,n,r,o,i){if(null!=o){let a,l=!1;Ur(o)?a=o:Ar(o)&&(l=!0,o=o[gt]);const p=En(o);0===t&&null!==r?null==i?Xg(n,r,p):ka(n,r,p,i||null,!0):1===t&&null!==r?ka(n,r,p,i||null,!0):2===t?function Iu(t,n,r){t.removeChild(null,n,r)}(n,p,l):3===t&&n.destroyNode(p),null!=a&&function VC(t,n,r,o,i){const a=r[_i];a!==En(r)&&bl(n,t,o,a,i);for(let p=cr;p<r.length;p++){const v=r[p];ud(v[ze],v,t,n,o,a)}}(n,t,a,r,i)}}function yp(t,n){return t.createComment(function Og(t){return t.replace(yC,n=>n.replace(bC,EC))}(n))}function sd(t,n,r){return t.createElement(n,r)}function zg(t,n){n[Vr].changeDetectionScheduler?.notify(9),ud(t,n,n[At],2,null,null)}function Wg(t,n){const r=t[Ds],o=n[mn];(Ar(o)||n[Yn]!==o[mn][Yn])&&(t[vt]|=Gs.HasTransplantedViews),null===r?t[Ds]=[n]:r.push(n)}function bp(t,n){const r=t[Ds],o=r.indexOf(n);r.splice(o,1)}function Fu(t,n){if(t.length<=cr)return;const r=cr+n,o=t[r];if(o){const i=o[ss];null!==i&&i!==t&&bp(i,o),n>0&&(t[r-1][vr]=o[vr]);const a=ni(t,cr+n);!function AC(t,n){zg(t,n),n[gt]=null,n[Nn]=null}(o[ze],o);const l=a[Pi];null!==l&&l.detachView(a[ze]),o[mn]=null,o[vr]=null,o[vt]&=-129}return o}function ad(t,n){if(!(256&n[vt])){const r=n[At];r.destroyNode&&ud(t,n,r,3,null,null),function NC(t){let n=t[Cs];if(!n)return Ep(t[ze],t);for(;n;){let r=null;if(Ar(n))r=n[Cs];else{const o=n[cr];o&&(r=o)}if(!r){for(;n&&!n[vr]&&n!==t;)Ar(n)&&Ep(n[ze],n),n=n[mn];null===n&&(n=t),Ar(n)&&Ep(n[ze],n),r=n&&n[vr]}n=r}}(n)}}function Ep(t,n){if(256&n[vt])return;const r=H(null);try{n[vt]&=-129,n[vt]|=256,n[Oo]&&ue(n[Oo]),function jC(t,n){let r;if(null!=t&&null!=(r=t.destroyHooks))for(let o=0;o<r.length;o+=2){const i=n[r[o]];if(!(i instanceof ya)){const a=r[o+1];if(Array.isArray(a))for(let l=0;l<a.length;l+=2){const p=i[a[l]],v=a[l+1];Oi(4,p,v);try{v.call(p)}finally{Oi(5,p,v)}}else{Oi(4,i,a);try{a.call(i)}finally{Oi(5,i,a)}}}}}(t,n),function OC(t,n){const r=t.cleanup,o=n[ar];if(null!==r)for(let a=0;a<r.length-1;a+=2)if("string"==typeof r[a]){const l=r[a+3];l>=0?o[l]():o[-l].unsubscribe(),a+=2}else r[a].call(o[r[a+1]]);null!==o&&(n[ar]=null);const i=n[oi];if(null!==i){n[oi]=null;for(let a=0;a<i.length;a++)(0,i[a])()}}(t,n),1===n[ze].type&&n[At].destroy();const o=n[ss];if(null!==o&&Ur(n[mn])){o!==n[mn]&&bp(o,n);const i=n[Pi];null!==i&&i.detachView(t)}Yf(n)}finally{H(r)}}function Cp(t,n,r){return function Yg(t,n,r){let o=n;for(;null!==o&&168&o.type;)o=(n=o).parent;if(null===o)return r[gt];{const{componentOffset:i}=o;if(i>-1){const{encapsulation:a}=t.data[o.directiveStart+i];if(a===oe.None||a===oe.Emulated)return null}return Io(o,r)}}(t,n.parent,r)}function ka(t,n,r,o,i){t.insertBefore(n,r,o,i)}function Xg(t,n,r){t.appendChild(n,r)}function Kg(t,n,r,o,i){null!==o?ka(t,n,r,o,i):Xg(t,n,r)}function wp(t,n){return t.parentNode(n)}function Qg(t,n,r){return Zg(t,n,r)}let xp,Zg=function Jg(t,n,r){return 40&t.type?Io(t,r):null};function ld(t,n,r,o){const i=Cp(t,o,n),a=n[At],p=Qg(o.parent||n[Nn],o,n);if(null!=i)if(Array.isArray(r))for(let v=0;v<r.length;v++)Kg(a,i,r[v],p,!1);else Kg(a,i,r,p,!1);void 0!==xp&&xp(a,o,n,r,i)}function Ma(t,n){if(null!==n){const r=n.type;if(3&r)return Io(n,t);if(4&r)return Dp(-1,t[n.index]);if(8&r){const o=n.child;if(null!==o)return Ma(t,o);{const i=t[n.index];return Ur(i)?Dp(-1,i):En(i)}}if(128&r)return Ma(t,n.next);if(32&r)return vp(n,t)()||En(t[n.index]);{const o=t0(t,n);return null!==o?Array.isArray(o)?o[0]:Ma(Xi(t[Yn]),o):Ma(t,n.next)}}return null}function t0(t,n){return null!==n?t[Yn][Nn].projection[n.projection]:null}function Dp(t,n){const r=cr+t+1;if(r<n.length){const o=n[r],i=o[ze].firstChild;if(null!==i)return Ma(o,i)}return n[_i]}function Fp(t,n,r,o,i,a,l){for(;null!=r;){if(128===r.type){r=r.next;continue}const p=o[r.index],v=r.type;if(l&&0===n&&(p&&Lo(En(p),o),r.flags|=2),32&~r.flags)if(8&v)Fp(t,n,r.child,o,i,a,!1),bl(n,t,i,p,a);else if(32&v){const F=vp(r,o);let N;for(;N=F();)bl(n,t,i,N,a);bl(n,t,i,p,a)}else 16&v?r0(t,n,o,r,i,a):bl(n,t,i,p,a);r=l?r.projectionNext:r.next}}function ud(t,n,r,o,i,a){Fp(r,o,t.firstChild,n,i,a,!1)}function r0(t,n,r,o,i,a){const l=r[Yn],v=l[Nn].projection[o.projection];if(Array.isArray(v))for(let F=0;F<v.length;F++)bl(n,t,i,v[F],a);else{let F=v;const N=l[mn];vu(o)&&(F.flags|=128),Fp(t,n,F,N,i,a,!0)}}function o0(t,n,r){""===r?t.removeAttribute(n,"class"):t.setAttribute(n,"class",r)}function s0(t,n,r){const{mergedAttrs:o,classes:i,styles:a}=r;null!==o&&yt(t,n,o),null!==i&&o0(t,n,i),null!==a&&function BC(t,n,r){t.setAttribute(n,"style",r)}(t,n,a)}const tn={};function a0(t=1){l0(un(),Le(),lo()+t,!1)}function l0(t,n,r,o){if(!o)if(3&~n[vt]){const a=t.preOrderHooks;null!==a&&Ts(n,a,0,r)}else{const a=t.preOrderCheckHooks;null!==a&&sl(n,a,r)}Ms(r)}function El(t,n=Lt.Default){const r=Le();return null===r?Fn(t,n):Ca(On(),r,ye(t),n)}function u0(){throw new Error("invalid")}function c0(t,n,r,o,i,a){const l=H(null);try{let p=null;i&$e.SignalBased&&(p=n[o][A]),null!==p&&void 0!==p.transformFn&&(a=p.transformFn(a)),i&$e.HasDecoratorInputTransform&&(a=t.inputTransforms[o].call(n,a)),null!==t.setInput?t.setInput(n,p,a,r,o):bi(n,p,o,a)}finally{H(l)}}function cd(t,n,r,o,i,a,l,p,v,F,N){const W=n.blueprint.slice();return W[gt]=i,W[vt]=204|o,(null!==F||t&&2048&t[vt])&&(W[vt]|=2048),hc(W),W[mn]=W[ao]=t,W[_n]=r,W[Vr]=l||t&&t[Vr],W[At]=p||t&&t[At],W[Pn]=v||t&&t[Pn]||null,W[Nn]=a,W[Wi]=function fE(){return dE++}(),W[ur]=N,W[ha]=F,W[Yn]=2==n.type?t[Yn]:W,W}function Ta(t,n,r,o,i){let a=t.data[n];if(null===a)a=function Ip(t,n,r,o,i){const a=Ec(),l=au(),v=t.data[n]=function KC(t,n,r,o,i,a){let l=n?n.injectorIndex:-1,p=0;return ks()&&(p|=128),{type:r,index:o,insertBeforeIndex:null,injectorIndex:l,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:p,providerIndexes:0,value:i,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,l?a:a&&a.parent,r,n,o,i);return null===t.firstChild&&(t.firstChild=v),null!==a&&(l?null==a.child&&null!==v.parent&&(a.child=v):null===a.next&&(a.next=v,v.prev=a)),v}(t,n,r,o,i),function kf(){return $t.lFrame.inI18n}()&&(a.flags|=32);else if(64&a.type){a.type=r,a.value=o,a.attrs=i;const l=function _a(){const t=$t.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();a.injectorIndex=null===l?-1:l.injectorIndex}return Ei(a,!0),a}function ku(t,n,r,o){if(0===r)return-1;const i=n.length;for(let a=0;a<r;a++)n.push(o),t.blueprint.push(o),t.data.push(null);return i}function d0(t,n,r,o,i){const a=lo(),l=2&o;try{Ms(-1),l&&n.length>bt&&l0(t,n,bt,!1),Oi(l?2:0,i),r(o,i)}finally{Ms(a),Oi(l?3:1,i)}}function kp(t,n,r){if(ga(n)){const o=H(null);try{const a=n.directiveEnd;for(let l=n.directiveStart;l<a;l++){const p=t.data[l];p.contentQueries&&p.contentQueries(1,r[l],l)}}finally{H(o)}}}function Mp(t,n,r){_c()&&(function rw(t,n,r,o){const i=r.directiveStart,a=r.directiveEnd;Yi(r)&&function cw(t,n,r){const o=Io(n,t),i=f0(r);let l=16;r.signals?l=4096:r.onPush&&(l=64);const p=dd(t,cd(t,i,null,l,o,n,null,t[Vr].rendererFactory.createRenderer(o,r),null,null,null));t[n.index]=p}(n,r,t.data[i+r.componentOffset]),t.firstCreatePass||Ss(r,n),Lo(o,n);const l=r.initialInputs;for(let p=i;p<a;p++){const v=t.data[p],F=wa(n,t,p,r);Lo(F,n),null!==l&&dw(0,p-i,F,v,0,l),qo(v)&&(zo(r.index,n)[_n]=wa(n,t,p,r))}}(t,n,r,Io(r,n)),!(64&~r.flags)&&v0(t,n,r))}function Tp(t,n,r=Io){const o=n.localNames;if(null!==o){let i=n.index+1;for(let a=0;a<o.length;a+=2){const l=o[a+1],p=-1===l?r(n,t):t[l];t[i++]=p}}}function f0(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Sp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Sp(t,n,r,o,i,a,l,p,v,F,N){const W=bt+o,re=W+i,pe=function HC(t,n){const r=[];for(let o=0;o<n;o++)r.push(o<t?null:tn);return r}(W,re),we="function"==typeof F?F():F;return pe[ze]={type:t,blueprint:pe,template:r,queries:null,viewQuery:p,declTNode:n,data:pe.slice().fill(null,W),bindingStartIndex:W,expandoStartIndex:re,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof l?l():l,firstChild:null,schemas:v,consts:we,incompleteFirstPass:!1,ssrId:N}}let p0=()=>null;function h0(t,n,r,o,i){for(let a in n){if(!n.hasOwnProperty(a))continue;const l=n[a];if(void 0===l)continue;o??={};let p,v=$e.None;Array.isArray(l)?(p=l[0],v=l[1]):p=l;let F=a;if(null!==i){if(!i.hasOwnProperty(a))continue;F=i[a]}0===t?m0(o,r,F,p,v):m0(o,r,F,p)}return o}function m0(t,n,r,o,i){let a;t.hasOwnProperty(r)?(a=t[r]).push(n,o):a=t[r]=[n,o],void 0!==i&&a.push(i)}function ai(t,n,r,o,i,a,l,p){const v=Io(n,r);let N,F=n.inputs;!p&&null!=F&&(N=F[o])?(Op(t,r,N,o,i),Yi(n)&&function ZC(t,n){const r=zo(n,t);16&r[vt]||(r[vt]|=64)}(r,n.index)):3&n.type&&(o=function JC(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(o),i=null!=l?l(i,n.value||"",o):i,a.setProperty(v,o,i))}function Ap(t,n,r,o){if(_c()){const i=null===o?null:{"":-1},a=function iw(t,n){const r=t.directiveRegistry;let o=null,i=null;if(r)for(let a=0;a<r.length;a++){const l=r[a];if(B(n,l.selectors,!1))if(o||(o=[]),qo(l))if(null!==l.findHostDirectiveDefs){const p=[];i=i||new Map,l.findHostDirectiveDefs(l,p,i),o.unshift(...p,l),Rp(t,n,p.length)}else o.unshift(l),Rp(t,n,0);else i=i||new Map,l.findHostDirectiveDefs?.(l,o,i),o.push(l)}return null===o?null:[o,i]}(t,r);let l,p;null===a?l=p=null:[l,p]=a,null!==l&&g0(t,n,r,l,i,p),i&&function sw(t,n,r){if(n){const o=t.localNames=[];for(let i=0;i<n.length;i+=2){const a=r[n[i+1]];if(null==a)throw new Ze(-301,!1);o.push(n[i],a)}}}(r,o,i)}r.mergedAttrs=Wt(r.mergedAttrs,r.attrs)}function g0(t,n,r,o,i,a){for(let F=0;F<o.length;F++)Ks(Ss(r,n),t,o[F].type);!function lw(t,n,r){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+r,t.providerIndexes=n}(r,t.data.length,o.length);for(let F=0;F<o.length;F++){const N=o[F];N.providersResolver&&N.providersResolver(N)}let l=!1,p=!1,v=ku(t,n,o.length,null);for(let F=0;F<o.length;F++){const N=o[F];r.mergedAttrs=Wt(r.mergedAttrs,N.hostAttrs),uw(t,r,n,v,N),aw(v,N,i),null!==N.contentQueries&&(r.flags|=4),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(r.flags|=64);const W=N.type.prototype;!l&&(W.ngOnChanges||W.ngOnInit||W.ngDoCheck)&&((t.preOrderHooks??=[]).push(r.index),l=!0),!p&&(W.ngOnChanges||W.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(r.index),p=!0),v++}!function QC(t,n,r){const i=n.directiveEnd,a=t.data,l=n.attrs,p=[];let v=null,F=null;for(let N=n.directiveStart;N<i;N++){const W=a[N],re=r?r.get(W):null,we=re?re.outputs:null;v=h0(0,W.inputs,N,v,re?re.inputs:null),F=h0(1,W.outputs,N,F,we);const Ge=null===v||null===l||ir(n)?null:fw(v,N,l);p.push(Ge)}null!==v&&(v.hasOwnProperty("class")&&(n.flags|=8),v.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=p,n.inputs=v,n.outputs=F}(t,r,a)}function v0(t,n,r){const o=r.directiveStart,i=r.directiveEnd,a=r.index,l=function Tf(){return $t.lFrame.currentDirectiveIndex}();try{Ms(a);for(let p=o;p<i;p++){const v=t.data[p],F=n[p];uu(p),(null!==v.hostBindings||0!==v.hostVars||null!==v.hostAttrs)&&ow(v,F)}}finally{Ms(-1),uu(l)}}function ow(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Rp(t,n,r){n.componentOffset=r,(t.components??=[]).push(n.index)}function aw(t,n,r){if(r){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)r[n.exportAs[o]]=t;qo(n)&&(r[""]=t)}}function uw(t,n,r,o,i){t.data[o]=i;const a=i.factory||(i.factory=Wn(i.type)),l=new ya(a,qo(i),El);t.blueprint[o]=l,r[o]=l,function tw(t,n,r,o,i){const a=i.hostBindings;if(a){let l=t.hostBindingOpCodes;null===l&&(l=t.hostBindingOpCodes=[]);const p=~n.index;(function nw(t){let n=t.length;for(;n>0;){const r=t[--n];if("number"==typeof r&&r<0)return r}return 0})(l)!=p&&l.push(p),l.push(r,o,a)}}(t,n,o,ku(t,r,i.hostVars,tn),i)}function cs(t,n,r,o,i,a){const l=Io(t,n);!function Np(t,n,r,o,i,a,l){if(null==a)t.removeAttribute(n,i,r);else{const p=null==l?Et(a):l(a,o||"",i);t.setAttribute(n,i,p,r)}}(n[At],l,a,t.value,r,o,i)}function dw(t,n,r,o,i,a){const l=a[n];if(null!==l)for(let p=0;p<l.length;)c0(o,r,l[p++],l[p++],l[p++],l[p++])}function fw(t,n,r){let o=null,i=0;for(;i<r.length;){const a=r[i];if(0!==a)if(5!==a){if("number"==typeof a)break;if(t.hasOwnProperty(a)){null===o&&(o=[]);const l=t[a];for(let p=0;p<l.length;p+=3)if(l[p]===n){o.push(a,l[p+1],l[p+2],r[i+1]);break}}i+=2}else i+=2;else i+=4}return o}function _0(t,n,r,o){return[t,!0,0,n,null,o,null,r,null,null]}function y0(t,n){const r=t.contentQueries;if(null!==r){const o=H(null);try{for(let i=0;i<r.length;i+=2){const l=r[i+1];if(-1!==l){const p=t.data[l];nl(r[i]),p.contentQueries(2,n[l],l)}}}finally{H(o)}}}function dd(t,n){return t[Cs]?t[pa][vr]=n:t[Cs]=n,t[pa]=n,n}function Pp(t,n,r){nl(0);const o=H(null);try{n(t,r)}finally{H(o)}}function b0(t){return t[ar]??=[]}function E0(t){return t.cleanup??=[]}function fd(t,n){const r=t[Pn],o=r?r.get(Ns,null):null;o&&o.handleError(n)}function Op(t,n,r,o,i){for(let a=0;a<r.length;){const l=r[a++],p=r[a++],v=r[a++];c0(t.data[l],n[l],o,p,v,i)}}function js(t,n,r){const o=ls(n,t);!function qg(t,n,r){t.setValue(n,r)}(t[At],o,r)}function pw(t,n){const r=zo(n,t),o=r[ze];!function hw(t,n){for(let r=n.length;r<t.blueprint.length;r++)n.push(t.blueprint[r])}(o,r);const i=r[gt];null!==i&&null===r[ur]&&(r[ur]=rp(i,r[Pn])),jp(o,r,r[_n])}function jp(t,n,r){du(n);try{const o=t.viewQuery;null!==o&&Pp(1,o,r);const i=t.template;null!==i&&d0(t,n,i,1,r),t.firstCreatePass&&(t.firstCreatePass=!1),n[Pi]?.finishViewCreation(t),t.staticContentQueries&&y0(t,n),t.staticViewQueries&&Pp(2,t.viewQuery,r);const a=t.components;null!==a&&function mw(t,n){for(let r=0;r<n.length;r++)pw(t,n[r])}(n,a)}catch(o){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),o}finally{n[vt]&=-5,pu()}}function Cl(t,n,r,o){const i=H(null);try{const a=n.tView,v=cd(t,a,r,4096&t[vt]?4096:16,null,n,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null);v[ss]=t[n.index];const N=t[Pi];return null!==N&&(v[Pi]=N.createEmbeddedView(a)),jp(a,v,r),v}finally{H(i)}}function Sa(t,n){return!n||null===n.firstChild||vu(t)}function wl(t,n,r,o=!0){const i=n[ze];if(function PC(t,n,r,o){const i=cr+o,a=r.length;o>0&&(r[i-1][vr]=n),o<a-cr?(n[vr]=r[i],lr(r,cr+o,n)):(r.push(n),n[vr]=null),n[mn]=r;const l=n[ss];null!==l&&r!==l&&Wg(l,n);const p=n[Pi];null!==p&&p.insertView(t),ru(n),n[vt]|=128}(i,n,t,r),o){const l=Dp(r,t),p=n[At],v=wp(p,t[_i]);null!==v&&function RC(t,n,r,o,i,a){o[gt]=i,o[Nn]=n,ud(t,o,r,1,i,a)}(i,t[Nn],p,n,v,l)}const a=n[ur];null!==a&&null!==a.firstChild&&(a.firstChild=null)}function Mu(t,n,r,o,i=!1){for(;null!==r;){if(128===r.type){r=i?r.projectionNext:r.next;continue}const a=n[r.index];null!==a&&o.push(En(a)),Ur(a)&&x0(a,o);const l=r.type;if(8&l)Mu(t,n,r.child,o);else if(32&l){const p=vp(r,n);let v;for(;v=p();)o.push(v)}else if(16&l){const p=t0(n,r);if(Array.isArray(p))o.push(...p);else{const v=Xi(n[Yn]);Mu(v[ze],v,p,o,!0)}}r=i?r.projectionNext:r.next}return o}function x0(t,n){for(let r=cr;r<t.length;r++){const o=t[r],i=o[ze].firstChild;null!==i&&Mu(o[ze],o,i,n)}t[_i]!==t[gt]&&n.push(t[_i])}let D0=[];const yw={...he,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Za(t.lView)},consumerOnSignalRead(){this.lView[Oo]=this}},Ew={...he,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let n=Xi(t.lView);for(;n&&!F0(n[ze]);)n=Xi(n);n&&mc(n)},consumerOnSignalRead(){this.lView[Oo]=this}};function F0(t){return 2!==t.type}const Cw=100;function pd(t,n=!0,r=0){const o=t[Vr],i=o.rendererFactory;i.begin?.();try{!function ww(t,n){const r=xc();try{Dc(!0),$p(t,n);let o=0;for(;Ja(t);){if(o===Cw)throw new Ze(103,!1);o++,$p(t,1)}}finally{Dc(r)}}(t,r)}catch(l){throw n&&fd(t,l),l}finally{i.end?.(),o.inlineEffectRunner?.flush()}}function xw(t,n,r,o){const i=n[vt];if(!(256&~i))return;n[Vr].inlineEffectRunner?.flush(),du(n);let p=!0,v=null,F=null;F0(t)?(F=function gw(t){return t[Oo]??function vw(t){const n=D0.pop()??Object.create(yw);return n.lView=t,n}(t)}(n),v=U(F)):null===C()?(p=!1,F=function bw(t){const n=t[Oo]??Object.create(Ew);return n.lView=t,n}(n),v=U(F)):n[Oo]&&(ue(n[Oo]),n[Oo]=null);try{hc(n),function Fc(t){return $t.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==r&&d0(t,n,r,2,o);const N=!(3&~i);if(N){const pe=t.preOrderCheckHooks;null!==pe&&sl(n,pe,null)}else{const pe=t.preOrderHooks;null!==pe&&Ts(n,pe,0,null),al(n,0)}if(function Dw(t){for(let n=Zm(t);null!==n;n=eg(n)){if(!(n[vt]&Gs.HasTransplantedViews))continue;const r=n[Ds];for(let o=0;o<r.length;o++)mc(r[o])}}(n),k0(n,0),null!==t.contentQueries&&y0(t,n),N){const pe=t.contentCheckHooks;null!==pe&&sl(n,pe)}else{const pe=t.contentHooks;null!==pe&&Ts(n,pe,1),al(n,1)}!function GC(t,n){const r=t.hostBindingOpCodes;if(null!==r)try{for(let o=0;o<r.length;o++){const i=r[o];if(i<0)Ms(~i);else{const a=i,l=r[++o],p=r[++o];Mf(l,a),p(2,n[a])}}}finally{Ms(-1)}}(t,n);const W=t.components;null!==W&&T0(n,W,0);const re=t.viewQuery;if(null!==re&&Pp(2,re,o),N){const pe=t.viewCheckHooks;null!==pe&&sl(n,pe)}else{const pe=t.viewHooks;null!==pe&&Ts(n,pe,2),al(n,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Us]){for(const pe of n[Us])pe();n[Us]=null}n[vt]&=-73}catch(N){throw Za(n),N}finally{null!==F&&(G(F,v),p&&function _w(t){t.lView[Oo]!==t&&(t.lView=null,D0.push(t))}(F)),pu()}}function k0(t,n){for(let r=Zm(t);null!==r;r=eg(r))for(let o=cr;o<r.length;o++)M0(r[o],n)}function Fw(t,n,r){M0(zo(n,t),r)}function M0(t,n){nu(t)&&$p(t,n)}function $p(t,n){const o=t[ze],i=t[vt],a=t[Oo];let l=!!(0===n&&16&i);if(l||=!!(64&i&&0===n),l||=!!(1024&i),l||=!(!a?.dirty||!me(a)),l||=!1,a&&(a.dirty=!1),t[vt]&=-9217,l)xw(o,t,o.template,t[_n]);else if(8192&i){k0(t,1);const p=o.components;null!==p&&T0(t,p,1)}}function T0(t,n,r){for(let o=0;o<n.length;o++)Fw(t,n[o],r)}function Tu(t,n){const r=xc()?64:1088;for(t[Vr].changeDetectionScheduler?.notify(n);t;){t[vt]|=r;const o=Xi(t);if(Fs(t)&&!o)return t;t=o}return null}class Su{get rootNodes(){const n=this._lView,r=n[ze];return Mu(r,n,r.firstChild,[])}constructor(n,r,o=!0){this._lView=n,this._cdRefInjectingView=r,this.notifyErrorHandler=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[_n]}set context(n){this._lView[_n]=n}get destroyed(){return!(256&~this._lView[vt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[mn];if(Ur(n)){const r=n[8],o=r?r.indexOf(this):-1;o>-1&&(Fu(n,o),ni(r,o))}this._attachedToViewContainer=!1}ad(this._lView[ze],this._lView)}onDestroy(n){el(this._lView,n)}markForCheck(){Tu(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[vt]&=-129}reattach(){ru(this._lView),this._lView[vt]|=128}detectChanges(){this._lView[vt]|=1024,pd(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ze(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=Fs(this._lView),r=this._lView[ss];null!==r&&!n&&bp(r,this._lView),zg(this._lView[ze],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Ze(902,!1);this._appRef=n;const r=Fs(this._lView),o=this._lView[ss];null!==o&&!r&&Wg(o,this._lView),ru(this._lView)}}let Au=(()=>{class t{static{this.__NG_ELEMENT_ID__=Mw}}return t})();const Iw=Au,kw=class extends Iw{constructor(n,r,o){super(),this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,o){const i=Cl(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:o});return new Su(i)}};function Mw(){return hd(On(),Le())}function hd(t,n){return 4&t.type?new kw(n,t,pl(t,n)):null}let Q0=()=>null;function Ra(t,n){return Q0(t,n)}class Dl{}const Vu=new It("",{providedIn:"root",factory:()=>!1}),J0=new It(""),Kp=new It("");class E2{}class Z0{}class w2{resolveComponentFactory(n){throw function C2(t){const n=Error(`No component factory found for ${ln(t)}.`);return n.ngComponent=t,n}(n)}}class bd{static{this.NULL=new w2}}class Qp{}let x2=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function D2(){const t=Le(),r=zo(On().index,t);return(Ar(r)?r:t)[At]}()}}return t})(),F2=(()=>{class t{static{this.\u0275prov=en({token:t,providedIn:"root",factory:()=>null})}}return t})();function Js(t){return!!Sr(t)}function Cd(t,n,r){let o=r?t.styles:null,i=r?t.classes:null,a=0;if(null!==n)for(let l=0;l<n.length;l++){const p=n[l];"number"==typeof p?a=p:1==a?i=Mn(i,p):2==a&&(o=Mn(o,p+": "+n[++l]+";"))}r?t.styles=o:t.stylesWithoutHost=o,r?t.classes=i:t.classesWithoutHost=i}class rv extends bd{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const r=Gt(n);return new Gu(r,this.ngModule)}}function ov(t,n){const r=[];for(const o in t){if(!t.hasOwnProperty(o))continue;const i=t[o];if(void 0===i)continue;const a=Array.isArray(i),l=a?i[0]:i;r.push(n?{propName:l,templateName:o,isSignal:!!((a?i[1]:$e.None)&$e.SignalBased)}:{propName:l,templateName:o})}return r}class Gu extends Z0{get inputs(){const n=this.componentDef,r=n.inputTransforms,o=ov(n.inputs,!0);if(null!==r)for(const i of o)r.hasOwnProperty(i.propName)&&(i.transform=r[i.propName]);return o}get outputs(){return ov(this.componentDef.outputs,!1)}constructor(n,r){super(),this.componentDef=n,this.ngModule=r,this.componentType=n.type,this.selector=function ra(t){return t.map(es).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!r}create(n,r,o,i){const a=H(null);try{let l=(i=i||this.ngModule)instanceof go?i:i?.injector;l&&null!==this.componentDef.getStandaloneInjector&&(l=this.componentDef.getStandaloneInjector(l)||l);const p=l?new Fe(n,l):n,v=p.get(Qp,null);if(null===v)throw new Ze(407,!1);const W={rendererFactory:v,sanitizer:p.get(F2,null),inlineEffectRunner:null,changeDetectionScheduler:p.get(Dl,null)},re=v.createRenderer(null,this.componentDef),pe=this.componentDef.selectors[0][0]||"div",we=o?function qC(t,n,r,o){const a=o.get(_g,!1)||r===oe.ShadowDom,l=t.selectRootElement(n,a);return function zC(t){p0(t)}(l),l}(re,o,this.componentDef.encapsulation,p):sd(re,pe,function M2(t){const n=t.toLowerCase();return"svg"===n?fc:"math"===n?"math":null}(pe));let Ge=512;this.componentDef.signals?Ge|=4096:this.componentDef.onPush||(Ge|=16);let tt=null;null!==we&&(tt=rp(we,p,!0));const rt=Sp(0,null,null,1,0,null,null,null,null,null,null),Ue=cd(null,rt,null,Ge,null,null,W,re,p,null,tt);du(Ue);let Ht,yn,Jn=null;try{const zr=this.componentDef;let ui,Kl=null;zr.findHostDirectiveDefs?(ui=[],Kl=new Map,zr.findHostDirectiveDefs(zr,ui,Kl),ui.push(zr)):ui=[zr];const Lb=function S2(t,n){const r=t[ze],o=bt;return t[o]=n,Ta(r,o,2,"#host",null)}(Ue,we);Jn=function A2(t,n,r,o,i,a,l){const p=i[ze];!function R2(t,n,r,o){for(const i of t)n.mergedAttrs=Wt(n.mergedAttrs,i.hostAttrs);null!==n.mergedAttrs&&(Cd(n,n.mergedAttrs,!0),null!==r&&s0(o,r,n))}(o,t,n,l);let v=null;null!==n&&(v=rp(n,i[Pn]));const F=a.rendererFactory.createRenderer(n,r);let N=16;r.signals?N=4096:r.onPush&&(N=64);const W=cd(i,f0(r),null,N,i[t.index],t,a,F,null,null,v);return p.firstCreatePass&&Rp(p,t,o.length-1),dd(i,W),i[t.index]=W}(Lb,we,zr,ui,Ue,W,re),yn=va(rt,bt),we&&function P2(t,n,r,o){if(o)yt(t,r,["ng-version","18.2.14"]);else{const{attrs:i,classes:a}=function Va(t){const n=[],r=[];let o=1,i=2;for(;o<t.length;){let a=t[o];if("string"==typeof a)2===i?""!==a&&n.push(a,t[++o]):8===i&&r.push(a);else{if(!S(i))break;i=a}o++}return{attrs:n,classes:r}}(n.selectors[0]);i&&yt(t,r,i),a&&a.length>0&&o0(t,r,a.join(" "))}}(re,zr,we,o),void 0!==r&&function O2(t,n,r){const o=t.projection=[];for(let i=0;i<n.length;i++){const a=r[i];o.push(null!=a?Array.from(a):null)}}(yn,this.ngContentSelectors,r),Ht=function N2(t,n,r,o,i,a){const l=On(),p=i[ze],v=Io(l,i);g0(p,i,l,r,null,o);for(let N=0;N<r.length;N++)Lo(wa(i,p,l.directiveStart+N,l),i);v0(p,i,l),v&&Lo(v,i);const F=wa(i,p,l.directiveStart+l.componentOffset,l);if(t[_n]=i[_n]=F,null!==a)for(const N of a)N(F,n);return kp(p,l,i),F}(Jn,zr,ui,Kl,Ue,[j2]),jp(rt,Ue,null)}catch(zr){throw null!==Jn&&Yf(Jn),Yf(Ue),zr}finally{pu()}return new T2(this.componentType,Ht,pl(yn,Ue),Ue,yn)}finally{H(a)}}}class T2 extends E2{constructor(n,r,o,i,a){super(),this.location=o,this._rootLView=i,this._tNode=a,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new Su(i,void 0,!1),this.componentType=n}setInput(n,r){const o=this._tNode.inputs;let i;if(null!==o&&(i=o[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),r))return;const a=this._rootLView;Op(a[ze],a,i,n,r),this.previousInputValues.set(n,r),Tu(zo(this._tNode.index,a),1)}}get injector(){return new uo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function j2(){const t=On();il(Le()[ze],t)}let wd=(()=>{class t{static{this.__NG_ELEMENT_ID__=L2}}return t})();function L2(){return av(On(),Le())}const $2=wd,iv=class extends $2{constructor(n,r,o){super(),this._lContainer=n,this._hostTNode=r,this._hostLView=o}get element(){return pl(this._hostTNode,this._hostLView)}get injector(){return new uo(this._hostTNode,this._hostLView)}get parentInjector(){const n=As(this._hostTNode,this._hostLView);if(it(n)){const r=Xt(n,this._hostLView),o=Ct(n);return new uo(r[ze].data[o+8],r)}return new uo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const r=sv(this._lContainer);return null!==r&&r[n]||null}get length(){return this._lContainer.length-cr}createEmbeddedView(n,r,o){let i,a;"number"==typeof o?i=o:null!=o&&(i=o.index,a=o.injector);const l=Ra(this._lContainer,n.ssrId),p=n.createEmbeddedViewImpl(r||{},a,l);return this.insertImpl(p,i,Sa(this._hostTNode,l)),p}createComponent(n,r,o,i,a){const l=n&&!function J(t){return"function"==typeof t}(n);let p;if(l)p=r;else{const we=r||{};p=we.index,o=we.injector,i=we.projectableNodes,a=we.environmentInjector||we.ngModuleRef}const v=l?n:new Gu(Gt(n)),F=o||this.parentInjector;if(!a&&null==v.ngModule){const Ge=(l?F:this.parentInjector).get(go,null);Ge&&(a=Ge)}const N=Gt(v.componentType??{}),W=Ra(this._lContainer,N?.id??null),pe=v.create(F,i,W?.firstChild??null,a);return this.insertImpl(pe.hostView,p,Sa(this._hostTNode,W)),pe}insert(n,r){return this.insertImpl(n,r,!0)}insertImpl(n,r,o){const i=n._lView;if(function bf(t){return Ur(t[mn])}(i)){const p=this.indexOf(n);if(-1!==p)this.detach(p);else{const v=i[mn],F=new iv(v,v[Nn],v[mn]);F.detach(F.indexOf(n))}}const a=this._adjustIndex(r),l=this._lContainer;return wl(l,i,a,o),n.attachToViewContainerRef(),lr(eh(l),a,n),n}move(n,r){return this.insert(n,r)}indexOf(n){const r=sv(this._lContainer);return null!==r?r.indexOf(n):-1}remove(n){const r=this._adjustIndex(n,-1),o=Fu(this._lContainer,r);o&&(ni(eh(this._lContainer),r),ad(o[ze],o))}detach(n){const r=this._adjustIndex(n,-1),o=Fu(this._lContainer,r);return o&&null!=ni(eh(this._lContainer),r)?new Su(o):null}_adjustIndex(n,r=0){return n??this.length+r}};function sv(t){return t[8]}function eh(t){return t[8]||(t[8]=[])}function av(t,n){let r;const o=n[t.index];return Ur(o)?r=o:(r=_0(o,n,null,t),n[t.index]=r,dd(n,r)),lv(r,n,t,o),new iv(r,t,n)}let lv=function cv(t,n,r,o){if(t[_i])return;let i;i=8&r.type?En(o):function V2(t,n){const r=t[At],o=r.createComment(""),i=Io(n,t);return ka(r,wp(r,i),o,function LC(t,n){return t.nextSibling(n)}(r,i),!1),o}(n,r),t[_i]=i},th=()=>!1;class nh{constructor(n){this.queryList=n,this.matches=null}clone(){return new nh(this.queryList)}setDirty(){this.queryList.setDirty()}}class rh{constructor(n=[]){this.queries=n}createEmbeddedView(n){const r=n.queries;if(null!==r){const o=null!==n.contentQueries?n.contentQueries[0]:r.length,i=[];for(let a=0;a<o;a++){const l=r.getByIndex(a);i.push(this.queries[l.indexInDeclarationView].clone())}return new rh(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let r=0;r<this.queries.length;r++)null!==lh(n,r).matches&&this.queries[r].setDirty()}}class dv{constructor(n,r,o=null){this.flags=r,this.read=o,this.predicate="string"==typeof n?function Y2(t){return t.split(",").map(n=>n.trim())}(n):n}}class oh{constructor(n=[]){this.queries=n}elementStart(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,r)}elementEnd(n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(n)}embeddedTView(n){let r=null;for(let o=0;o<this.length;o++){const i=null!==r?r.length:0,a=this.getByIndex(o).embeddedTView(n,i);a&&(a.indexInDeclarationView=o,null!==r?r.push(a):r=[a])}return null!==r?new oh(r):null}template(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,r)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class ih{constructor(n,r=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(n,r){this.isApplyingToNode(r)&&this.matchTNode(n,r)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,r){this.elementStart(n,r)}embeddedTView(n,r){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,r),new ih(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==r;)o=o.parent;return r===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,r){const o=this.metadata.predicate;if(Array.isArray(o))for(let i=0;i<o.length;i++){const a=o[i];this.matchTNodeWithReadOption(n,r,H2(r,a)),this.matchTNodeWithReadOption(n,r,Lc(r,n,a,!1,!1))}else o===Au?4&r.type&&this.matchTNodeWithReadOption(n,r,-1):this.matchTNodeWithReadOption(n,r,Lc(r,n,o,!1,!1))}matchTNodeWithReadOption(n,r,o){if(null!==o){const i=this.metadata.read;if(null!==i)if(i===mu||i===wd||i===Au&&4&r.type)this.addMatch(r.index,-2);else{const a=Lc(r,n,i,!1,!1);null!==a&&this.addMatch(r.index,a)}else this.addMatch(r.index,o)}}addMatch(n,r){null===this.matches?this.matches=[n,r]:this.matches.push(n,r)}}function H2(t,n){const r=t.localNames;if(null!==r)for(let o=0;o<r.length;o+=2)if(r[o]===n)return r[o+1];return null}function z2(t,n,r,o){return-1===r?function q2(t,n){return 11&t.type?pl(t,n):4&t.type?hd(t,n):null}(n,t):-2===r?function W2(t,n,r){return r===mu?pl(n,t):r===Au?hd(n,t):r===wd?av(n,t):void 0}(t,n,o):wa(t,t[ze],r,n)}function fv(t,n,r,o){const i=n[Pi].queries[o];if(null===i.matches){const a=t.data,l=r.matches,p=[];for(let v=0;null!==l&&v<l.length;v+=2){const F=l[v];p.push(F<0?null:z2(n,a[F],l[v+1],r.metadata.read))}i.matches=p}return i.matches}function sh(t,n,r,o){const i=t.queries.getByIndex(r),a=i.matches;if(null!==a){const l=fv(t,n,i,r);for(let p=0;p<a.length;p+=2){const v=a[p];if(v>0)o.push(l[p/2]);else{const F=a[p+1],N=n[-v];for(let W=cr;W<N.length;W++){const re=N[W];re[ss]===re[mn]&&sh(re[ze],re,F,o)}if(null!==N[Ds]){const W=N[Ds];for(let re=0;re<W.length;re++){const pe=W[re];sh(pe[ze],pe,F,o)}}}}}return o}function pv(t,n,r){const o=new qf(!(4&~r));return function XC(t,n,r,o){const i=b0(n);i.push(r),t.firstCreatePass&&E0(t).push(o,i.length-1)}(t,n,o,o.destroy),(n[Pi]??=new rh).queries.push(new nh(o))-1}function gv(t,n,r){null===t.queries&&(t.queries=new oh),t.queries.track(new ih(n,r))}function lh(t,n){return t.queries.getByIndex(n)}function vv(t,n){const r=t[ze],o=lh(r,n);return o.crossesNgTemplate?sh(r,t,n,[]):fv(r,t,o,n)}const _v=new Set;function Wo(t){_v.has(t)||(_v.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function bv(t,n){Wo("NgSignals");const r=function To(t){const n=Object.create(Oe);n.value=t;const r=()=>(Q(n),n.value);return r[A]=n,r}(t),o=r[A];return n?.equal&&(o.equal=n.equal),r.set=i=>Ne(o,i),r.update=i=>function Te(t,n){je()||qn(),Ne(t,n(t.value))}(o,i),r.asReadonly=Ev.bind(r),r}function Ev(){const t=this[A];if(void 0===t.readonlyFn){const n=()=>this();n[A]=t,t.readonlyFn=n}return t.readonlyFn}function Cv(t){return function yv(t){return"function"==typeof t&&void 0!==t[A]}(t)&&"function"==typeof t.set}function ch(t){let n=function Rv(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),r=!0;const o=[t];for(;n;){let i;if(qo(t))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Ze(903,!1);i=n.\u0275dir}if(i){if(r){o.push(i);const l=t;l.inputs=Dd(t.inputs),l.inputTransforms=Dd(t.inputTransforms),l.declaredInputs=Dd(t.declaredInputs),l.outputs=Dd(t.outputs);const p=i.hostBindings;p&&ux(t,p);const v=i.viewQuery,F=i.contentQueries;if(v&&ax(t,v),F&&lx(t,F),ix(t,i),fr(t.outputs,i.outputs),qo(i)&&i.data.animation){const N=t.data;N.animation=(N.animation||[]).concat(i.data.animation)}}const a=i.features;if(a)for(let l=0;l<a.length;l++){const p=a[l];p&&p.ngInherit&&p(t),p===ch&&(r=!1)}}n=Object.getPrototypeOf(n)}!function sx(t){let n=0,r=null;for(let o=t.length-1;o>=0;o--){const i=t[o];i.hostVars=n+=i.hostVars,i.hostAttrs=Wt(i.hostAttrs,r=Wt(r,i.hostAttrs))}}(o)}function ix(t,n){for(const r in n.inputs){if(!n.inputs.hasOwnProperty(r)||t.inputs.hasOwnProperty(r))continue;const o=n.inputs[r];if(void 0!==o&&(t.inputs[r]=o,t.declaredInputs[r]=n.declaredInputs[r],null!==n.inputTransforms)){const i=Array.isArray(o)?o[0]:o;if(!n.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=n.inputTransforms[i]}}}function Dd(t){return t===y?{}:t===k?[]:t}function ax(t,n){const r=t.viewQuery;t.viewQuery=r?(o,i)=>{n(o,i),r(o,i)}:n}function lx(t,n){const r=t.contentQueries;t.contentQueries=r?(o,i,a)=>{n(o,i,a),r(o,i,a)}:n}function ux(t,n){const r=t.hostBindings;t.hostBindings=r?(o,i)=>{n(o,i),r(o,i)}:n}function Lv(t){const n=t.inputConfig,r={};for(const o in n)if(n.hasOwnProperty(o)){const i=n[o];Array.isArray(i)&&i[3]&&(r[o]=i[3])}t.inputTransforms=r}class Na{}class $v{}function mx(t,n){return new fh(t,n??null,[])}class fh extends Na{constructor(n,r,o,i=!0){super(),this.ngModuleType=n,this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new rv(this);const a=Sr(n);this._bootstrapComponents=Di(a.bootstrap),this._r3Injector=Nm(n,r,[{provide:Na,useValue:this},{provide:bd,useValue:this.componentFactoryResolver},...o],ln(n),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class ph extends $v{constructor(n){super(),this.moduleType=n}create(n){return new fh(this.moduleType,n,[])}}class Vv extends Na{constructor(n){super(),this.componentFactoryResolver=new rv(this),this.instance=null;const r=new zi([...n.providers,{provide:Na,useValue:this},{provide:bd,useValue:this.componentFactoryResolver}],n.parent||qi(),n.debugName,new Set(["environment"]));this.injector=r,n.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function hh(t,n,r=null){return new Vv({providers:t,parent:n,debugName:r,runEnvironmentInitializers:!0}).injector}function Fd(t){return!!mh(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function mh(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ds(t,n,r){return t[n]=r}function Gr(t,n,r){return!Object.is(t[n],r)&&(t[n]=r,!0)}function Pa(t,n,r,o){const i=Gr(t,n,r);return Gr(t,n+1,o)||i}function Id(t,n,r,o,i){const a=Pa(t,n,r,o);return Gr(t,n+2,i)||a}function zu(t,n,r,o,i,a,l,p,v,F){const N=r+bt,W=n.firstCreatePass?function Ex(t,n,r,o,i,a,l,p,v){const F=n.consts,N=Ta(n,t,4,l||null,p||null);Ap(n,r,N,ii(F,v)),il(n,N);const W=N.tView=Sp(2,N,o,i,a,n.directiveRegistry,n.pipeRegistry,null,n.schemas,F,null);return null!==n.queries&&(n.queries.template(n,N),W.queries=n.queries.embeddedTView(N)),N}(N,n,t,o,i,a,l,p,v):n.data[N];Ei(W,!1);const re=Uv(n,t,W,r);wi()&&ld(n,t,re,W),Lo(re,t);const pe=_0(re,t,re,W);return t[N]=pe,dd(t,pe),function uv(t,n,r){return th(t,n,r)}(pe,W,t),Hs(W)&&Mp(n,t,W),null!=v&&Tp(t,W,F),W}function gh(t,n,r,o,i,a,l,p){const v=Le(),F=un();return zu(v,F,t,n,r,o,i,ii(F.consts,a),l,p),gh}let Uv=function Bv(t,n,r,o){return ji(!0),n[At].createComment("")};function Dx(t,n){if(null!==C())throw new Ze(-602,!1)}var Ml=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ml||{});let Yv=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=en({token:t,providedIn:"root",factory:()=>new t})}}return t})();class Xu{constructor(){this.ngZone=mt(_r),this.scheduler=mt(Dl),this.errorHandler=mt(Ns,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Ml.EarlyRead,Ml.Write,Ml.MixedReadWrite,Ml.Read]}execute(){this.executing=!0;for(const n of Xu.PHASES)for(const r of this.sequences)if(!r.erroredOrDestroyed&&r.hooks[n])try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>r.hooks[n](r.pipelinedValue))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(const n of this.sequences)n.afterRun(),n.once&&(this.sequences.delete(n),n.destroy());for(const n of this.deferredRegistrations)this.sequences.add(n);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(6))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}static{this.\u0275prov=en({token:Xu,providedIn:"root",factory:()=>new Xu})}}class Fx{constructor(n,r,o,i){this.impl=n,this.hooks=r,this.once=o,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}}function Sd(t,n){!n?.injector&&ri();const r=n?.injector??mt(jo);return function Fi(t){return"browser"===(t??mt(jo)).get(zc)}(r)?(Wo("NgAfterNextRender"),function Xv(t,n,r,o){const i=n.get(Yv);i.impl??=n.get(Xu);const a=r?.phase??Ml.MixedReadWrite,l=!0!==r?.manualCleanup?n.get(fl):null,p=new Fx(i.impl,function kx(t,n){if(t instanceof Function){const r=[void 0,void 0,void 0,void 0];return r[n]=t,r}return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}(t,a),o,l);return i.impl.register(p),p}(t,r,n,!0)):Kv}const Kv={destroy(){}};function Ih(t,n,r,o){const i=Le();return Gr(i,Ci(),n)&&(un(),cs(Kn(),i,t,n,r,o)),Ih}function Ol(t,n,r,o){return Gr(t,Ci(),r)?n+Et(r)+o:tn}function Nd(t,n){return t<<17|n<<2}function ta(t){return t>>17&32767}function kh(t){return 2|t}function ja(t){return(131068&t)>>2}function Mh(t,n){return-131069&t|n<<2}function Th(t){return 1|t}function C1(t,n,r,o){const i=t[r+1],a=null===n;let l=o?ta(i):ja(i),p=!1;for(;0!==l&&(!1===p||a);){const F=t[l+1];cD(t[l],n)&&(p=!0,t[l+1]=o?Th(F):kh(F)),l=o?ta(F):ja(F)}p&&(t[r+1]=o?kh(i):Th(i))}function cD(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&V(t,n)>=0}const co={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function w1(t){return t.substring(co.key,co.keyEnd)}function x1(t,n){const r=co.textEnd;return r===n?-1:(n=co.keyEnd=function hD(t,n,r){for(;n<r&&t.charCodeAt(n)>32;)n++;return n}(t,co.key=n,r),Hl(t,n,r))}function Hl(t,n,r){for(;n<r&&t.charCodeAt(n)<=32;)n++;return n}function Sh(t,n,r){const o=Le();return Gr(o,Ci(),n)&&ai(un(),Kn(),o,t,n,o[At],r,!1),Sh}function Ah(t,n,r,o,i){const l=i?"class":"style";Op(t,r,n.inputs[l],l,o)}function Rh(t,n){return function Ji(t,n,r,o){const i=Le(),a=un(),l=Qi(2);a.firstUpdatePass&&S1(a,t,l,o),n!==tn&&Gr(i,l,n)&&R1(a,a.data[lo()],i,i[At],t,i[l+1]=function FD(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=ln(Ps(t)))),t}(n,r),o,l)}(t,n,null,!0),Rh}function ps(t,n){for(let r=function fD(t){return function F1(t){co.key=0,co.keyEnd=0,co.value=0,co.valueEnd=0,co.textEnd=t.length}(t),x1(t,Hl(t,0,co.textEnd))}(n);r>=0;r=x1(n,r))Un(t,w1(n),!0)}function T1(t,n){return n>=t.expandoStartIndex}function S1(t,n,r,o){const i=t.data;if(null===i[r+1]){const a=i[lo()],l=T1(t,r);P1(a,o)&&null===n&&!l&&(n=!1),n=function yD(t,n,r,o){const i=function kc(t){const n=$t.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let a=o?n.residualClasses:n.residualStyles;if(null===i)0===(o?n.classBindings:n.styleBindings)&&(r=Qu(r=Nh(null,t,n,r,o),n.attrs,o),a=null);else{const l=n.directiveStylingLast;if(-1===l||t[l]!==i)if(r=Nh(i,t,n,r,o),null===a){let v=function bD(t,n,r){const o=r?n.classBindings:n.styleBindings;if(0!==ja(o))return t[ta(o)]}(t,n,o);void 0!==v&&Array.isArray(v)&&(v=Nh(null,t,n,v[1],o),v=Qu(v,n.attrs,o),function ED(t,n,r,o){t[ta(r?n.classBindings:n.styleBindings)]=o}(t,n,o,v))}else a=function CD(t,n,r){let o;const i=n.directiveEnd;for(let a=1+n.directiveStylingLast;a<i;a++)o=Qu(o,t[a].hostAttrs,r);return Qu(o,n.attrs,r)}(t,n,o)}return void 0!==a&&(o?n.residualClasses=a:n.residualStyles=a),r}(i,a,n,o),function lD(t,n,r,o,i,a){let l=a?n.classBindings:n.styleBindings,p=ta(l),v=ja(l);t[o]=r;let N,F=!1;if(Array.isArray(r)?(N=r[1],(null===N||V(r,N)>0)&&(F=!0)):N=r,i)if(0!==v){const re=ta(t[p+1]);t[o+1]=Nd(re,p),0!==re&&(t[re+1]=Mh(t[re+1],o)),t[p+1]=function sD(t,n){return 131071&t|n<<17}(t[p+1],o)}else t[o+1]=Nd(p,0),0!==p&&(t[p+1]=Mh(t[p+1],o)),p=o;else t[o+1]=Nd(v,0),0===p?p=o:t[v+1]=Mh(t[v+1],o),v=o;F&&(t[o+1]=kh(t[o+1])),C1(t,N,o,!0),C1(t,N,o,!1),function uD(t,n,r,o,i){const a=i?t.residualClasses:t.residualStyles;null!=a&&"string"==typeof n&&V(a,n)>=0&&(r[o+1]=Th(r[o+1]))}(n,N,t,o,a),l=Nd(p,v),a?n.classBindings=l:n.styleBindings=l}(i,a,n,r,l,o)}}function Nh(t,n,r,o,i){let a=null;const l=r.directiveEnd;let p=r.directiveStylingLast;for(-1===p?p=r.directiveStart:p++;p<l&&(a=n[p],o=Qu(o,a.hostAttrs,i),a!==t);)p++;return null!==t&&(r.directiveStylingLast=p),o}function Qu(t,n,r){const o=r?1:2;let i=-1;if(null!==n)for(let a=0;a<n.length;a++){const l=n[a];"number"==typeof l?i=l:i===o&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Un(t,l,!!r||n[++a]))}return void 0===t?null:t}function R1(t,n,r,o,i,a,l,p){if(!(3&n.type))return;const v=t.data,F=v[p+1],N=function aD(t){return!(1&~t)}(F)?N1(v,n,r,i,ja(F),l):void 0;Pd(N)||(Pd(a)||function iD(t){return!(2&~t)}(F)&&(a=N1(v,null,r,i,p,l)),function UC(t,n,r,o,i){if(n)i?t.addClass(r,o):t.removeClass(r,o);else{let a=-1===o.indexOf("-")?void 0:id.DashCase;null==i?t.removeStyle(r,o,a):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),a|=id.Important),t.setStyle(r,o,i,a))}}(o,l,ls(lo(),r),i,a))}function N1(t,n,r,o,i,a){const l=null===n;let p;for(;i>0;){const v=t[i],F=Array.isArray(v),N=F?v[1]:v,W=null===N;let re=r[i+1];re===tn&&(re=W?k:void 0);let pe=W?Do(re,o):N===o?re:void 0;if(F&&!Pd(pe)&&(pe=Do(v,o)),Pd(pe)&&(p=pe,l))return p;const we=t[i+1];i=l?ta(we):ja(we)}if(null!==n){let v=a?n.residualClasses:n.residualStyles;null!=v&&(p=Do(v,o))}return p}function Pd(t){return void 0!==t}function P1(t,n){return!!(t.flags&(n?8:16))}function O1(t,n,r){!function Zi(t,n,r,o){const i=un(),a=Qi(2);i.firstUpdatePass&&S1(i,null,a,o);const l=Le();if(r!==tn&&Gr(l,a,r)){const p=i.data[lo()];if(P1(p,o)&&!T1(i,a)){let v=o?p.classesWithoutHost:p.stylesWithoutHost;null!==v&&(r=Mn(v,r||"")),Ah(i,p,l,r,o)}else!function DD(t,n,r,o,i,a,l,p){i===tn&&(i=k);let v=0,F=0,N=0<i.length?i[0]:null,W=0<a.length?a[0]:null;for(;null!==N||null!==W;){const re=v<i.length?i[v+1]:void 0,pe=F<a.length?a[F+1]:void 0;let Ge,we=null;N===W?(v+=2,F+=2,re!==pe&&(we=W,Ge=pe)):null===W||null!==N&&N<W?(v+=2,we=N):(F+=2,we=W,Ge=pe),null!==we&&R1(t,n,r,o,we,Ge,l,p),N=v<i.length?i[v]:null,W=F<a.length?a[F]:null}}(i,p,l,l[At],l[a+1],l[a+1]=function wD(t,n,r){if(null==r||""===r)return k;const o=[],i=Ps(r);if(Array.isArray(i))for(let a=0;a<i.length;a++)t(o,i[a],!0);else if("object"==typeof i)for(const a in i)i.hasOwnProperty(a)&&t(o,a,i[a]);else"string"==typeof i&&n(o,i);return o}(t,n,r),o,a)}}(Un,ps,Ol(Le(),t,n,r),!0)}function V1(t,n){Wo("NgControlFlow");const r=Le(),o=Ci(),i=r[o]!==tn?r[o]:-1,a=-1!==i?Od(r,bt+i):void 0;if(Gr(r,o,t)){const p=H(null);try{if(void 0!==a&&function Lp(t,n){const r=Fu(t,n);return void 0!==r&&ad(r[ze],r),r}(a,0),-1!==t){const v=bt+t,F=Od(r,v),N=function jh(t,n){return va(t,n)}(r[ze],v),W=Ra(F,N.tView.ssrId);wl(F,Cl(r,N,n,{dehydratedView:W}),0,Sa(N,W))}}finally{H(p)}}else if(void 0!==a){const p=function w0(t,n){const r=cr+n;if(r<t.length)return t[r]}(a,0);void 0!==p&&(p[_n]=n)}}function Od(t,n){return t[n]}function jd(t,n,r,o){const i=Le(),a=un(),l=bt+t,p=i[At],v=a.firstCreatePass?function WD(t,n,r,o,i,a){const l=n.consts,v=Ta(n,t,2,o,ii(l,i));return Ap(n,r,v,ii(l,a)),null!==v.attrs&&Cd(v,v.attrs,!1),null!==v.mergedAttrs&&Cd(v,v.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,v),v}(l,a,i,n,r,o):a.data[l],F=U1(a,i,v,p,n,t);i[l]=F;const N=Hs(v);return Ei(v,!0),s0(p,F,v),!function Il(t){return!(32&~t.flags)}(v)&&wi()&&ld(a,i,F,v),0===function Ef(){return $t.lFrame.elementDepthCount}()&&Lo(F,i),function Cf(){$t.lFrame.elementDepthCount++}(),N&&(Mp(a,i,v),kp(a,v,i)),null!==o&&Tp(i,v),jd}function Ld(){let t=On();au()?lu():(t=t.parent,Ei(t,!1));const n=t;(function xf(t){return $t.skipHydrationRootTNode===t})(n)&&function If(){$t.skipHydrationRootTNode=null}(),function wf(){$t.lFrame.elementDepthCount--}();const r=un();return r.firstCreatePass&&(il(r,t),ga(t)&&r.queries.elementEnd(t)),null!=n.classesWithoutHost&&function s(t){return!!(8&t.flags)}(n)&&Ah(r,n,Le(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function f(t){return!!(16&t.flags)}(n)&&Ah(r,n,Le(),n.stylesWithoutHost,!1),Ld}function Lh(t,n,r,o){return jd(t,n,r,o),Ld(),Lh}let U1=(t,n,r,o,i,a)=>(ji(!0),sd(o,i,function Rc(){return $t.lFrame.currentNamespace}()));function $d(t,n,r){const o=Le(),i=un(),a=t+bt,l=i.firstCreatePass?function KD(t,n,r,o,i){const a=n.consts,l=ii(a,o),p=Ta(n,t,8,"ng-container",l);return null!==l&&Cd(p,l,!0),Ap(n,r,p,ii(a,i)),null!==n.queries&&n.queries.elementStart(n,p),p}(a,i,o,n,r):i.data[a];Ei(l,!0);const p=G1(i,o,l,t);return o[a]=p,wi()&&ld(i,o,p,l),Lo(p,o),Hs(l)&&(Mp(i,o,l),kp(i,l,o)),null!=r&&Tp(o,l),$d}function Vd(){let t=On();const n=un();return au()?lu():(t=t.parent,Ei(t,!1)),n.firstCreatePass&&(il(n,t),ga(t)&&n.queries.elementEnd(t)),Vd}let G1=(t,n,r,o)=>(ji(!0),yp(n[At],""));function H1(){return Le()}const La=void 0;var eF=["en",[["a","p"],["AM","PM"],La],[["AM","PM"],La,La],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],La,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],La,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",La,"{1} 'at' {0}",La],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ZD(t){const r=Math.floor(Math.abs(t)),o=t.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===o?1:5}];let ql={};function tF(t,n,r){"string"!=typeof n&&(r=n,n=t[zl.LocaleId]),n=n.toLowerCase().replace(/_/g,"-"),ql[n]=t,r&&(ql[n][zl.ExtraData]=r)}function $h(t){const n=function nF(t){return t.toLowerCase().replace(/_/g,"-")}(t);let r=Y1(n);if(r)return r;const o=n.split("-")[0];if(r=Y1(o),r)return r;if("en"===o)return eF;throw new Ze(701,!1)}function W1(t){return $h(t)[zl.PluralCase]}function Y1(t){return t in ql||(ql[t]=rn.ng&&rn.ng.common&&rn.ng.common.locales&&rn.ng.common.locales[t]),ql[t]}var zl=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(zl||{});const Ud="en-US";let X1=Ud,p_=(t,n,r)=>{};function Bh(t,n,r,o){const i=Le(),a=un(),l=On();return Gh(a,i,i[At],l,t,n,o),Bh}function Gh(t,n,r,o,i,a,l){const p=Hs(o),F=t.firstCreatePass&&E0(t),N=n[_n],W=b0(n);let re=!0;if(3&o.type||l){const Ge=Io(o,n),tt=l?l(Ge):Ge,rt=W.length,Ue=l?yn=>l(En(yn[o.index])):o.index;let Ht=null;if(!l&&p&&(Ht=function HF(t,n,r,o){const i=t.cleanup;if(null!=i)for(let a=0;a<i.length-1;a+=2){const l=i[a];if(l===r&&i[a+1]===o){const p=n[ar],v=i[a+2];return p.length>v?p[v]:null}"string"==typeof l&&(a+=2)}return null}(t,n,i,o.index)),null!==Ht)(Ht.__ngLastListenerFn__||Ht).__ngNextListenerFn__=a,Ht.__ngLastListenerFn__=a,re=!1;else{a=v_(o,n,N,a),p_(Ge,i,a);const yn=r.listen(tt,i,a);W.push(a,yn),F&&F.push(i,Ue,rt,rt+1)}}else a=v_(o,n,N,a);const pe=o.outputs;let we;if(re&&null!==pe&&(we=pe[i])){const Ge=we.length;if(Ge)for(let tt=0;tt<Ge;tt+=2){const Jn=n[we[tt]][we[tt+1]].subscribe(a),zr=W.length;W.push(a,Jn),F&&F.push(i,o.index,zr,-(zr+1))}}}function g_(t,n,r,o){const i=H(null);try{return Oi(6,n,r),!1!==r(o)}catch(a){return fd(t,a),!1}finally{Oi(7,n,r),H(i)}}function v_(t,n,r,o){return function i(a){if(a===Function)return o;Tu(t.componentOffset>-1?zo(t.index,n):n,5);let p=g_(n,r,o,a),v=i.__ngNextListenerFn__;for(;v;)p=g_(n,r,v,a)&&p,v=v.__ngNextListenerFn__;return p}}function __(t=1){return function Af(t){return($t.lFrame.contextLView=function gc(t,n){for(;t>0;)n=n[ao],t--;return n}(t,$t.lFrame.contextLView))[_n]}(t)}function qF(t,n){let r=null;const o=function de(t){const n=t.attrs;if(null!=n){const r=n.indexOf(5);if(!(1&r))return n[r+1]}return null}(t);for(let i=0;i<n.length;i++){const a=n[i];if("*"!==a){if(null===o?B(t,a,!0):No(o,a))return i}else r=i}return r}function y_(t){const n=Le()[Yn][Nn];if(!n.projection){const o=n.projection=function Go(t,n){const r=[];for(let o=0;o<t;o++)r.push(n);return r}(t?t.length:1,null),i=o.slice();let a=n.child;for(;null!==a;){if(128!==a.type){const l=t?qF(a,t):0;null!==l&&(i[l]?i[l].projectionNext=a:o[l]=a,i[l]=a)}a=a.next}}}function b_(t,n=0,r,o,i,a){const l=Le(),p=un(),v=o?t+1:null;null!==v&&zu(l,p,v,o,i,a,null,r);const F=Ta(p,bt+t,16,null,r||null);null===F.projection&&(F.projection=n),lu();const W=!l[ur]||ks();null===l[Yn][Nn].projection[F.projection]&&null!==v?function zF(t,n,r){const o=bt+r,i=n.data[o],a=t[o],l=Ra(a,i.tView.ssrId);wl(a,Cl(t,i,void 0,{dehydratedView:l}),0,Sa(i,l))}(l,p,v):W&&32&~F.flags&&function $C(t,n,r){r0(n[At],0,n,r,Cp(t,r,n),Qg(r.parent||n[Nn],r,n))}(p,l,F)}function Hh(t,n,r){return qh(t,"",n,"",r),Hh}function qh(t,n,r,o,i){const a=Le(),l=Ol(a,n,r,o);return l!==tn&&ai(un(),Kn(),a,t,l,a[At],i,!1),qh}function M_(t,n,r,o){!function mv(t,n,r,o){const i=un();if(i.firstCreatePass){const a=On();gv(i,new dv(n,r,o),a.index),function X2(t,n){const r=t.contentQueries||(t.contentQueries=[]);n!==(r.length?r[r.length-1]:-1)&&r.push(t.queries.length-1,n)}(i,t),!(2&~r)&&(i.staticContentQueries=!0)}return pv(i,Le(),r)}(t,n,r,o)}function T_(t,n,r){!function hv(t,n,r){const o=un();return o.firstCreatePass&&(gv(o,new dv(t,n,r),-1),!(2&~n)&&(o.staticViewQueries=!0)),pv(o,Le(),n)}(t,n,r)}function S_(t){const n=Le(),r=un(),o=cu();nl(o+1);const i=lh(r,o);if(t.dirty&&function yf(t){return!(4&~t[vt])}(n)===!(2&~i.metadata.flags)){if(null===i.matches)t.reset([]);else{const a=vv(n,o);t.reset(a,Gm),t.notifyOnChanges()}return!0}return!1}function A_(){return function ah(t,n){return t[Pi].queries[n].queryList}(Le(),cu())}function R_(t){return Is(function Cc(){return $t.lFrame.contextLView}(),bt+t)}function G_(t,n=""){const r=Le(),o=un(),i=t+bt,a=o.firstCreatePass?Ta(o,i,1,n,null):o.data[i],l=H_(o,r,a,n,t);r[i]=l,wi()&&ld(o,r,l,a),Ei(a,!1)}let H_=(t,n,r,o,i)=>(ji(!0),function _p(t,n){return t.createText(n)}(n[At],o));function Wh(t){return qd("",t,""),Wh}function qd(t,n,r){const o=Le(),i=Ol(o,t,n,r);return i!==tn&&js(o,lo(),i),qd}function Yh(t,n,r,o,i){const a=Le(),l=function jl(t,n,r,o,i,a){const p=Pa(t,Ki(),r,i);return Qi(2),p?n+Et(r)+o+Et(i)+a:tn}(a,t,n,r,o,i);return l!==tn&&js(a,lo(),l),Yh}function Xh(t,n,r,o,i,a,l){const p=Le(),v=function Ll(t,n,r,o,i,a,l,p){const F=Id(t,Ki(),r,i,l);return Qi(3),F?n+Et(r)+o+Et(i)+a+Et(l)+p:tn}(p,t,n,r,o,i,a,l);return v!==tn&&js(p,lo(),v),Xh}function Kh(t,n,r){Cv(n)&&(n=n());const o=Le();return Gr(o,Ci(),n)&&ai(un(),Kn(),o,t,n,o[At],r,!1),Kh}function Q_(t,n){const r=Cv(t);return r&&t.set(n),r}function Qh(t,n){const r=Le(),o=un(),i=On();return Gh(o,r,r[At],i,t,n),Qh}function Jh(t,n,r,o,i){if(t=ye(t),Array.isArray(t))for(let a=0;a<t.length;a++)Jh(t[a],n,r,o,i);else{const a=un(),l=Le(),p=On();let v=hi(t)?t:ye(t.provide);const F=Ri(t),N=1048575&p.providerIndexes,W=p.directiveStart,re=p.providerIndexes>>20;if(hi(t)||!t.multi){const pe=new ya(F,i,El),we=em(v,n,i?N:N+re,W);-1===we?(Ks(Ss(p,l),a,v),Zh(a,t,n.length),n.push(v),p.directiveStart++,p.directiveEnd++,i&&(p.providerIndexes+=1048576),r.push(pe),l.push(pe)):(r[we]=pe,l[we]=pe)}else{const pe=em(v,n,N+re,W),we=em(v,n,N,N+re),tt=we>=0&&r[we];if(i&&!tt||!i&&!(pe>=0&&r[pe])){Ks(Ss(p,l),a,v);const rt=function fI(t,n,r,o,i){const a=new ya(t,r,El);return a.multi=[],a.index=n,a.componentProviders=0,ey(a,i,o&&!r),a}(i?dI:cI,r.length,i,o,F);!i&&tt&&(r[we].providerFactory=rt),Zh(a,t,n.length,0),n.push(v),p.directiveStart++,p.directiveEnd++,i&&(p.providerIndexes+=1048576),r.push(rt),l.push(rt)}else Zh(a,t,pe>-1?pe:we,ey(r[i?we:pe],F,!i&&o));!i&&o&&tt&&r[we].componentProviders++}}}function Zh(t,n,r,o){const i=hi(n),a=function Ba(t){return!!t.useClass}(n);if(i||a){const v=(a?ye(n.useClass):n).prototype.ngOnDestroy;if(v){const F=t.destroyHooks||(t.destroyHooks=[]);if(!i&&n.multi){const N=F.indexOf(r);-1===N?F.push(r,[o,v]):F[N+1].push(o,v)}else F.push(r,v)}}}function ey(t,n,r){return r&&t.componentProviders++,t.multi.push(n)-1}function em(t,n,r,o){for(let i=r;i<o;i++)if(n[i]===t)return i;return-1}function cI(t,n,r,o){return tm(this.multi,[])}function dI(t,n,r,o){const i=this.multi;let a;if(this.providerFactory){const l=this.providerFactory.componentProviders,p=wa(r,r[ze],this.providerFactory.index,o);a=p.slice(0,l),tm(i,a);for(let v=l;v<p.length;v++)a.push(p[v])}else a=[],tm(i,a);return a}function tm(t,n){for(let r=0;r<t.length;r++)n.push((0,t[r])());return n}function ty(t,n=[]){return r=>{r.providersResolver=(o,i)=>function uI(t,n,r){const o=un();if(o.firstCreatePass){const i=qo(t);Jh(r,o.data,o.blueprint,i,!0),Jh(n,o.data,o.blueprint,i,!1)}}(o,i?i(t):t,n)}}let pI=(()=>{class t{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const o=Ls(0,r.type),i=o.length>0?hh([o],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,i)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=en({token:t,providedIn:"environment",factory:()=>new t(Fn(go))})}}return t})();function ny(t){Wo("NgStandalone"),t.getStandaloneInjector=n=>n.get(pI).getOrCreateStandaloneInjector(t)}function iy(t,n,r){const o=ko()+t,i=Le();return i[o]===tn?ds(i,o,r?n.call(r):n()):function qu(t,n){return t[n]}(i,o)}function sy(t,n,r,o){return uy(Le(),ko(),t,n,r,o)}function ay(t,n,r,o,i){return cy(Le(),ko(),t,n,r,o,i)}function ly(t,n,r,o,i,a){return dy(Le(),ko(),t,n,r,o,i,a)}function rc(t,n){const r=t[n];return r===tn?void 0:r}function uy(t,n,r,o,i,a){const l=n+r;return Gr(t,l,i)?ds(t,l+1,a?o.call(a,i):o(i)):rc(t,l+1)}function cy(t,n,r,o,i,a,l){const p=n+r;return Pa(t,p,i,a)?ds(t,p+2,l?o.call(l,i,a):o(i,a)):rc(t,p+2)}function dy(t,n,r,o,i,a,l,p){const v=n+r;return Id(t,v,i,a,l)?ds(t,v+3,p?o.call(p,i,a,l):o(i,a,l)):rc(t,v+3)}function fy(t,n,r,o,i,a,l,p,v){const F=n+r;return function $i(t,n,r,o,i,a){const l=Pa(t,n,r,o);return Pa(t,n+2,i,a)||l}(t,F,i,a,l,p)?ds(t,F+4,v?o.call(v,i,a,l,p):o(i,a,l,p)):rc(t,F+4)}function hy(t,n){const r=un();let o;const i=t+bt;r.firstCreatePass?(o=function wI(t,n){if(n)for(let r=n.length-1;r>=0;r--){const o=n[r];if(t===o.name)return o}}(n,r.pipeRegistry),r.data[i]=o,o.onDestroy&&(r.destroyHooks??=[]).push(i,o.onDestroy)):o=r.data[i];const a=o.factory||(o.factory=Wn(o.type)),p=Mr(El);try{const v=Ut(!1),F=a();return Ut(v),function zh(t,n,r,o){r>=t.data.length&&(t.data[r]=null,t.blueprint[r]=null),n[r]=o}(r,Le(),i,F),F}finally{Mr(p)}}function my(t,n,r){const o=t+bt,i=Le(),a=Is(i,o);return oc(i,o)?uy(i,ko(),n,a.transform,r,a):a.transform(r)}function gy(t,n,r,o){const i=t+bt,a=Le(),l=Is(a,i);return oc(a,i)?cy(a,ko(),n,l.transform,r,o,l):l.transform(r,o)}function vy(t,n,r,o,i){const a=t+bt,l=Le(),p=Is(l,a);return oc(l,a)?dy(l,ko(),n,p.transform,r,o,i,p):p.transform(r,o,i)}function _y(t,n,r,o,i,a){const l=t+bt,p=Le(),v=Is(p,l);return oc(p,l)?fy(p,ko(),n,v.transform,r,o,i,a,v):v.transform(r,o,i,a)}function yy(t,n,r){const o=t+bt,i=Le(),a=Is(i,o);return oc(i,o)?function py(t,n,r,o,i,a){let l=n+r,p=!1;for(let v=0;v<i.length;v++)Gr(t,l++,i[v])&&(p=!0);return p?ds(t,l,o.apply(a,i)):rc(t,l)}(i,ko(),n,a.transform,r,a):a.transform.apply(a,r)}function oc(t,n){return t[ze].data[n].pure}function by(t,n){return hd(t,n)}class Oy{constructor(n){this.full=n;const r=n.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}let jy=(()=>{class t{log(r){console.log(r)}warn(r){console.warn(r)}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=en({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const By=new It(""),Gy=new It("");let am,g4=(()=>{class t{constructor(r,o,i){this._ngZone=r,this.registry=o,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,am||(function v4(t){am=t}(i),i.addToWindow(o)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_r.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(r)||(clearTimeout(o.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,o,i){let a=-1;o&&o>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(l=>l.timeoutId!==a),r()},o)),this._callbacks.push({doneCb:r,timeoutId:a,updateCb:i})}whenStable(r,o,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,o,i),this._runCallbacksIfReady()}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,o,i){return[]}static{this.\u0275fac=function(o){return new(o||t)(Fn(_r),Fn(Hy),Fn(Gy))}}static{this.\u0275prov=en({token:t,factory:t.\u0275fac})}}return t})(),Hy=(()=>{class t{constructor(){this._applications=new Map}registerApplication(r,o){this._applications.set(r,o)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,o=!0){return am?.findTestabilityInTree(this,r,o)??null}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=en({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function lm(t){return!!t&&"function"==typeof t.then}function qy(t){return!!t&&"function"==typeof t.subscribe}const zy=new It("");let Wy=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o}),this.appInits=mt(zy,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const i of this.appInits){const a=i();if(lm(a))r.push(a);else if(qy(a)){const l=new Promise((p,v)=>{a.subscribe({complete:p,error:v})});r.push(l)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{o()}).catch(i=>{this.reject(i)}),0===r.length&&o(),this.initialized=!0}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=en({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const Kd=new It("");let hs=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=mt(aE),this.afterRenderManager=mt(Yv),this.zonelessEnabled=mt(Vu),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new kn.B,this.afterTick=new kn.B,this.componentTypes=[],this.components=[],this.isStable=mt(xa).hasPendingTasks.pipe((0,Jt.T)(r=>!r)),this._injector=mt(go)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(o=>{r=this.isStable.subscribe({next:i=>{i&&o()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,o){const i=r instanceof Z0;if(!this._injector.get(Wy).done)throw!i&&pi(r),new Ze(405,!1);let l;l=i?r:this._injector.get(bd).resolveComponentFactory(r),this.componentTypes.push(l.componentType);const p=function _4(t){return t.isBoundToModule}(l)?void 0:this._injector.get(Na),F=l.create(jo.NULL,[],o||l.selector,p),N=F.location.nativeElement,W=F.injector.get(By,null);return W?.registerApplication(N),F.onDestroy(()=>{this.detachView(F.hostView),Qd(this.components,F),W?.unregisterApplication(N)}),this._loadComponent(F),F}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Ze(101,!1);const r=H(null);try{this._runningTick=!0,this.synchronize()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,H(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(Qp,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let o=0;for(;0!==this.dirtyFlags&&o++<10;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const o=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(o);for(let{_lView:i,notifyErrorHandler:a}of this._views)E4(i,a,o,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else r?.begin?.(),r?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:r})=>Ja(r))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(r){const o=r;this._views.push(o),o.attachToAppRef(this)}detachView(r){const o=r;Qd(this._views,o),o.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const o=this._injector.get(Kd,[]);[...this._bootstrapListeners,...o].forEach(i=>i(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Qd(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new Ze(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=en({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Qd(t,n){const r=t.indexOf(n);r>-1&&t.splice(r,1)}function E4(t,n,r,o){(r||Ja(t))&&pd(t,n,r&&!o?0:1)}class C4{constructor(n,r){this.ngModuleFactory=n,this.componentFactories=r}}let w4=(()=>{class t{compileModuleSync(r){return new ph(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const o=this.compileModuleSync(r),a=Di(Sr(r).declarations).reduce((l,p)=>{const v=Gt(p);return v&&l.push(new Gu(v)),l},[]);return new C4(o,a)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=en({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),F4=(()=>{class t{constructor(){this.zone=mt(_r),this.changeDetectionScheduler=mt(Dl),this.applicationRef=mt(hs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=en({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function um({ngZoneFactory:t,ignoreChangesOutsideZone:n,scheduleInRootZone:r}){return t??=()=>new _r({...cm(),scheduleInRootZone:r}),[{provide:_r,useFactory:t},{provide:$,multi:!0,useFactory:()=>{const o=mt(F4,{optional:!0});return()=>o.initialize()}},{provide:$,multi:!0,useFactory:()=>{const o=mt(k4);return()=>{o.initialize()}}},!0===n?{provide:J0,useValue:!0}:[],{provide:Kp,useValue:r??Om}]}function cm(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}let k4=(()=>{class t{constructor(){this.subscription=new an.yU,this.initialized=!1,this.zone=mt(_r),this.pendingTasks=mt(xa)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{_r.assertNotInAngularZone(),queueMicrotask(()=>{null!==r&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{_r.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=en({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ac=(()=>{class t{constructor(){this.appRef=mt(hs),this.taskService=mt(xa),this.ngZone=mt(_r),this.zonelessEnabled=mt(Vu),this.disableScheduling=mt(J0,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new an.yU,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Bc):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(mt(Kp,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Hf||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&5===r)return;switch(r){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const o=this.useMicrotaskScheduler?Lm:jm;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>o(()=>this.tick())):this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Bc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(r),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Lm(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=en({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const fm=new It("",{providedIn:"root",factory:()=>mt(fm,Lt.Optional|Lt.SkipSelf)||function M4(){return typeof $localize<"u"&&$localize.locale||Ud}()}),T4=new It("",{providedIn:"root",factory:()=>"USD"}),Zd=new It("");function ef(t){return!t.moduleRef}let na=null;const Xl=new It("");let sb=(()=>{class t{static{this.__NG_ELEMENT_ID__=$4}}return t})();function $4(t){return function V4(t,n,r){if(Yi(t)&&!r){const o=zo(t.index,n);return new Su(o,o)}return 175&t.type?new Su(n[Yn],n):null}(On(),Le(),!(16&~t))}class cb{constructor(){}supports(n){return Fd(n)}create(n){return new q4(n)}}const H4=(t,n)=>n;class q4{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||H4}forEachItem(n){let r;for(r=this._itHead;null!==r;r=r._next)n(r)}forEachOperation(n){let r=this._itHead,o=this._removalsHead,i=0,a=null;for(;r||o;){const l=!o||r&&r.currentIndex<fb(o,i,a)?r:o,p=fb(l,i,a),v=l.currentIndex;if(l===o)i--,o=o._nextRemoved;else if(r=r._next,null==l.previousIndex)i++;else{a||(a=[]);const F=p-i,N=v-i;if(F!=N){for(let re=0;re<F;re++){const pe=re<a.length?a[re]:a[re]=0,we=pe+re;N<=we&&we<F&&(a[re]=pe+1)}a[l.previousIndex]=N-F}}p!==v&&n(l,p,v)}}forEachPreviousItem(n){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachMovedItem(n){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}forEachIdentityChange(n){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)n(r)}diff(n){if(null==n&&(n=[]),!Fd(n))throw new Ze(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,a,l,r=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let p=0;p<this.length;p++)a=n[p],l=this._trackByFn(p,a),null!==r&&Object.is(r.trackById,l)?(o&&(r=this._verifyReinsertion(r,a,l,p)),Object.is(r.item,a)||this._addIdentityChange(r,a)):(r=this._mismatch(r,a,l,p),o=!0),r=r._next}else i=0,function yx(t,n){if(Array.isArray(t))for(let r=0;r<t.length;r++)n(t[r]);else{const r=t[Symbol.iterator]();let o;for(;!(o=r.next()).done;)n(o.value)}}(n,p=>{l=this._trackByFn(i,p),null!==r&&Object.is(r.trackById,l)?(o&&(r=this._verifyReinsertion(r,p,l,i)),Object.is(r.item,p)||this._addIdentityChange(r,p)):(r=this._mismatch(r,p,l,i),o=!0),r=r._next,i++}),this.length=i;return this._truncate(r),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,r,o,i){let a;return null===n?a=this._itTail:(a=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._reinsertAfter(n,a,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,i))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._moveAfter(n,a,i)):n=this._addAfter(new z4(r,o),a,i),n}_verifyReinsertion(n,r,o,i){let a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==a?n=this._reinsertAfter(a,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const r=n._next;this._addToRemovals(this._unlink(n)),n=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,r,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,a=n._nextRemoved;return null===i?this._removalsHead=a:i._nextRemoved=a,null===a?this._removalsTail=i:a._prevRemoved=i,this._insertAfter(n,r,o),this._addToMoves(n,o),n}_moveAfter(n,r,o){return this._unlink(n),this._insertAfter(n,r,o),this._addToMoves(n,o),n}_addAfter(n,r,o){return this._insertAfter(n,r,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,r,o){const i=null===r?this._itHead:r._next;return n._next=i,n._prev=r,null===i?this._itTail=n:i._prev=n,null===r?this._itHead=n:r._next=n,null===this._linkedRecords&&(this._linkedRecords=new db),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const r=n._prev,o=n._next;return null===r?this._itHead=o:r._next=o,null===o?this._itTail=r:o._prev=r,n}_addToMoves(n,r){return n.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new db),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,r){return n.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class z4{constructor(n,r){this.item=n,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class W4{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,r){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===r||r<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const r=n._prevDup,o=n._nextDup;return null===r?this._head=o:r._nextDup=o,null===o?this._tail=r:o._prevDup=r,null===this._head}}class db{constructor(){this.map=new Map}put(n){const r=n.trackById;let o=this.map.get(r);o||(o=new W4,this.map.set(r,o)),o.add(n)}get(n,r){const i=this.map.get(n);return i?i.get(n,r):null}remove(n){const r=n.trackById;return this.map.get(r).remove(n)&&this.map.delete(r),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fb(t,n,r){const o=t.previousIndex;if(null===o)return o;let i=0;return r&&o<r.length&&(i=r[o]),o+n+i}class pb{constructor(){}supports(n){return n instanceof Map||mh(n)}create(){return new Y4}}class Y4{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let r;for(r=this._mapHead;null!==r;r=r._next)n(r)}forEachPreviousItem(n){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)n(r)}forEachChangedItem(n){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}diff(n){if(n){if(!(n instanceof Map||mh(n)))throw new Ze(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,i)=>{if(r&&r.key===i)this._maybeAddToChanges(r,o),this._appendAfter=r,r=r._next;else{const a=this._getOrCreateRecordForKey(i,o);r=this._insertBeforeOrAppend(r,a)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let o=r;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,r){if(n){const o=n._prev;return r._next=n,r._prev=o,n._prev=r,o&&(o._next=r),n===this._mapHead&&(this._mapHead=r),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(n,r){if(this._records.has(n)){const i=this._records.get(n);this._maybeAddToChanges(i,r);const a=i._prev,l=i._next;return a&&(a._next=l),l&&(l._prev=a),i._next=null,i._prev=null,i}const o=new X4(n);return this._records.set(n,o),o.currentValue=r,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,r){Object.is(r,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=r,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,r){n instanceof Map?n.forEach(r):Object.keys(n).forEach(o=>r(n[o],o))}}class X4{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function hb(){return new vm([new cb])}let vm=(()=>{class t{static{this.\u0275prov=en({token:t,providedIn:"root",factory:hb})}constructor(r){this.factories=r}static create(r,o){if(null!=o){const i=o.factories.slice();r=r.concat(i)}return new t(r)}static extend(r){return{provide:t,useFactory:o=>t.create(r,o||hb()),deps:[[t,new xo,new Ro]]}}find(r){const o=this.factories.find(i=>i.supports(r));if(null!=o)return o;throw new Ze(901,!1)}}return t})();function mb(){return new _m([new pb])}let _m=(()=>{class t{static{this.\u0275prov=en({token:t,providedIn:"root",factory:mb})}constructor(r){this.factories=r}static create(r,o){if(o){const i=o.factories.slice();r=r.concat(i)}return new t(r)}static extend(r){return{provide:t,useFactory:o=>t.create(r,o||mb()),deps:[[t,new xo,new Ro]]}}find(r){const o=this.factories.find(i=>i.supports(r));if(o)return o;throw new Ze(901,!1)}}return t})();function uk(t){const{rootComponent:n,appProviders:r,platformProviders:o,platformRef:i}=t;try{const a=i?.injector??function L4(t=[]){if(na)return na;const n=function rb(t=[],n){return jo.create({name:n,providers:[{provide:os,useValue:"platform"},{provide:Zd,useValue:new Set([()=>na=null])},...t]})}(t);return n.get(Xl,!1)||(na=n),function Yy(){!function yr(t){tr=t}(()=>{throw new Ze(600,!1)})}(),function ob(t){t.get(ug,null)?.forEach(r=>r())}(n),n}(o);if(!0===a.get(Xl,!1)&&!t.platformRef)throw new Ze(401,!1);const l=[um({}),{provide:Dl,useExisting:ac},...r||[]];return function tb(t){const n=ef(t)?t.r3Injector:t.moduleRef.injector,r=n.get(_r);return r.run(()=>{ef(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();const o=n.get(Ns,null);let i;if(r.runOutsideAngular(()=>{i=r.onError.subscribe({next:a=>{o.handleError(a)}})}),ef(t)){const a=()=>n.destroy(),l=t.platformInjector.get(Zd);l.add(a),n.onDestroy(()=>{i.unsubscribe(),l.delete(a)})}else{const a=()=>t.moduleRef.destroy(),l=t.platformInjector.get(Zd);l.add(a),t.moduleRef.onDestroy(()=>{Qd(t.allPlatformModules,t.moduleRef),i.unsubscribe(),l.delete(a)})}return function b4(t,n,r){try{const o=r();return lm(o)?o.catch(i=>{throw n.runOutsideAngular(()=>t.handleError(i)),i}):o}catch(o){throw n.runOutsideAngular(()=>t.handleError(o)),o}}(o,r,()=>{const a=n.get(Wy);return a.runInitializers(),a.donePromise.then(()=>{if(function sF(t){"string"==typeof t&&(X1=t.toLowerCase().replace(/_/g,"-"))}(n.get(fm,Ud)||Ud),ef(t)){const p=n.get(hs);return void 0!==t.rootComponent&&p.bootstrap(t.rootComponent),p}return function P4(t,n){const r=t.injector.get(hs);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!t.instance.ngDoBootstrap)throw new Ze(-403,!1);t.instance.ngDoBootstrap(r)}n.push(t)}(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}({r3Injector:new Vv({providers:l,parent:a,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:a,rootComponent:n})}catch(a){return Promise.reject(a)}}function Mk(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function Sk(t,n){Wo("NgSignals");const r=function Ye(t){const n=Object.create(xt);n.computation=t;const r=()=>{if(De(n),Q(n),n.value===Nt)throw n.error;return n.value};return r[A]=n,r}(t);return n?.equal&&(r[A].equal=n.equal),r}function Ak(t){const n=H(null);try{return t()}finally{H(n)}}function Lk(t){const n=Gt(t);if(!n)return null;const r=new Gu(n);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},9417:(Je,ge,D)=>{"use strict";D.d(ge,{$R:()=>or,BC:()=>jn,Fm:()=>hr,JD:()=>Tr,MJ:()=>St,Q0:()=>ci,X1:()=>Hn,YN:()=>ir,YS:()=>Un,Zm:()=>Q,cb:()=>Ze,gE:()=>Xr,j4:()=>Co,k0:()=>Ee,kq:()=>se,l_:()=>Lr,me:()=>je,ok:()=>Wt,qT:()=>Jo,tU:()=>$,v8:()=>Uo,vO:()=>kn,vS:()=>bo,wz:()=>Zr,xH:()=>ei,y7:()=>Bo,zX:()=>Go});var d=D(4438),L=D(177),le=D(6648),e=D(7468),A=D(1413),H=D(6354);let C=(()=>{class M{constructor(w,B){this._renderer=w,this._elementRef=B,this.onChange=de=>{},this.onTouched=()=>{}}setProperty(w,B){this._renderer.setProperty(this._elementRef.nativeElement,w,B)}registerOnTouched(w){this.onTouched=w}registerOnChange(w){this.onChange=w}setDisabledState(w){this.setProperty("disabled",w)}static{this.\u0275fac=function(B){return new(B||M)(d.rXU(d.sFG),d.rXU(d.aKT))}}static{this.\u0275dir=d.FsC({type:M})}}return M})(),K=(()=>{class M extends C{static{this.\u0275fac=(()=>{let w;return function(de){return(w||(w=d.xGo(M)))(de||M)}})()}static{this.\u0275dir=d.FsC({type:M,features:[d.Vt3]})}}return M})();const se=new d.nKC(""),he={provide:se,useExisting:(0,d.Rfq)(()=>Q),multi:!0};let Q=(()=>{class M extends K{writeValue(w){this.setProperty("checked",w)}static{this.\u0275fac=(()=>{let w;return function(de){return(w||(w=d.xGo(M)))(de||M)}})()}static{this.\u0275dir=d.FsC({type:M,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(B,de){1&B&&d.bIt("change",function(Qt){return de.onChange(Qt.target.checked)})("blur",function(){return de.onTouched()})},features:[d.Jv_([he]),d.Vt3]})}}return M})();const _e={provide:se,useExisting:(0,d.Rfq)(()=>je),multi:!0},be=new d.nKC("");let je=(()=>{class M extends C{constructor(w,B,de){super(w,B),this._compositionMode=de,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function De(){const M=(0,L.QT)()?(0,L.QT)().getUserAgent():"";return/android (\d+)/.test(M.toLowerCase())}())}writeValue(w){this.setProperty("value",w??"")}_handleInput(w){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(w)}_compositionStart(){this._composing=!0}_compositionEnd(w){this._composing=!1,this._compositionMode&&this.onChange(w)}static{this.\u0275fac=function(B){return new(B||M)(d.rXU(d.sFG),d.rXU(d.aKT),d.rXU(be,8))}}static{this.\u0275dir=d.FsC({type:M,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(B,de){1&B&&d.bIt("input",function(Qt){return de._handleInput(Qt.target.value)})("blur",function(){return de.onTouched()})("compositionstart",function(){return de._compositionStart()})("compositionend",function(Qt){return de._compositionEnd(Qt.target.value)})},features:[d.Jv_([_e]),d.Vt3]})}}return M})();function ne(M){return null==M||("string"==typeof M||Array.isArray(M))&&0===M.length}function U(M){return null!=M&&"number"==typeof M.length}const G=new d.nKC(""),me=new d.nKC(""),ue=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ee{static min(S){return function ve(M){return S=>{if(ne(S.value)||ne(M))return null;const w=parseFloat(S.value);return!isNaN(w)&&w<M?{min:{min:M,actual:S.value}}:null}}(S)}static max(S){return Pe(S)}static required(S){return ot(S)}static requiredTrue(S){return function Xe(M){return!0===M.value?null:{required:!0}}(S)}static email(S){return function Ve(M){return ne(M.value)||ue.test(M.value)?null:{email:!0}}(S)}static minLength(S){return function Ye(M){return S=>ne(S.value)||!U(S.value)?null:S.value.length<M?{minlength:{requiredLength:M,actualLength:S.value.length}}:null}(S)}static maxLength(S){return Qe(S)}static pattern(S){return function at(M){if(!M)return Nt;let S,w;return"string"==typeof M?(w="","^"!==M.charAt(0)&&(w+="^"),w+=M,"$"!==M.charAt(M.length-1)&&(w+="$"),S=new RegExp(w)):(w=M.toString(),S=M),B=>{if(ne(B.value))return null;const de=B.value;return S.test(de)?null:{pattern:{requiredPattern:w,actualValue:de}}}}(S)}static nullValidator(S){return null}static compose(S){return To(S)}static composeAsync(S){return Me(S)}}function Pe(M){return S=>{if(ne(S.value)||ne(M))return null;const w=parseFloat(S.value);return!isNaN(w)&&w>M?{max:{max:M,actual:S.value}}:null}}function ot(M){return ne(M.value)?{required:!0}:null}function Qe(M){return S=>U(S.value)&&S.value.length>M?{maxlength:{requiredLength:M,actualLength:S.value.length}}:null}function Nt(M){return null}function xt(M){return null!=M}function qt(M){return(0,d.jNT)(M)?(0,le.H)(M):M}function tr(M){let S={};return M.forEach(w=>{S=null!=w?{...S,...w}:S}),0===Object.keys(S).length?null:S}function qn(M,S){return S.map(w=>w(M))}function Rr(M){return M.map(S=>function yr(M){return!M.validate}(S)?S:w=>S.validate(w))}function To(M){if(!M)return null;const S=M.filter(xt);return 0==S.length?null:function(w){return tr(qn(w,S))}}function Ie(M){return null!=M?To(Rr(M)):null}function Me(M){if(!M)return null;const S=M.filter(xt);return 0==S.length?null:function(w){const B=qn(w,S).map(qt);return(0,e.p)(B).pipe((0,H.T)(tr))}}function Ne(M){return null!=M?Me(Rr(M)):null}function Te(M,S){return null===M?[S]:Array.isArray(M)?[...M,S]:[M,S]}function Ke(M){return M._rawValidators}function Oe(M){return M._rawAsyncValidators}function ut(M){return M?Array.isArray(M)?M:[M]:[]}function nn(M,S){return Array.isArray(M)?M.includes(S):M===S}function hn(M,S){const w=ut(S);return ut(M).forEach(de=>{nn(w,de)||w.push(de)}),w}function Dt(M,S){return ut(S).filter(w=>!nn(M,w))}class pn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(S){this._rawValidators=S||[],this._composedValidatorFn=Ie(this._rawValidators)}_setAsyncValidators(S){this._rawAsyncValidators=S||[],this._composedAsyncValidatorFn=Ne(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(S){this._onDestroyCallbacks.push(S)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(S=>S()),this._onDestroyCallbacks=[]}reset(S=void 0){this.control&&this.control.reset(S)}hasError(S,w){return!!this.control&&this.control.hasError(S,w)}getError(S,w){return this.control?this.control.getError(S,w):null}}class kt extends pn{get formDirective(){return null}get path(){return null}}class kn extends pn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class an{constructor(S){this._cd=S}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let jn=(()=>{class M extends an{constructor(w){super(w)}static{this.\u0275fac=function(B){return new(B||M)(d.rXU(kn,2))}}static{this.\u0275dir=d.FsC({type:M,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(B,de){2&B&&d.AVh("ng-untouched",de.isUntouched)("ng-touched",de.isTouched)("ng-pristine",de.isPristine)("ng-dirty",de.isDirty)("ng-valid",de.isValid)("ng-invalid",de.isInvalid)("ng-pending",de.isPending)},features:[d.Vt3]})}}return M})(),Ze=(()=>{class M extends an{constructor(w){super(w)}static{this.\u0275fac=function(B){return new(B||M)(d.rXU(kt,10))}}static{this.\u0275dir=d.FsC({type:M,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(B,de){2&B&&d.AVh("ng-untouched",de.isUntouched)("ng-touched",de.isTouched)("ng-pristine",de.isPristine)("ng-dirty",de.isDirty)("ng-valid",de.isValid)("ng-invalid",de.isInvalid)("ng-pending",de.isPending)("ng-submitted",de.isSubmitted)},features:[d.Vt3]})}}return M})();const fr="VALID",ln="INVALID",Mn="PENDING",Dr="DISABLED";class Bn{}class Se extends Bn{constructor(S,w){super(),this.value=S,this.source=w}}class ye extends Bn{constructor(S,w){super(),this.pristine=S,this.source=w}}class te extends Bn{constructor(S,w){super(),this.touched=S,this.source=w}}class fe extends Bn{constructor(S,w){super(),this.status=S,this.source=w}}class Be extends Bn{constructor(S){super(),this.source=S}}class st extends Bn{constructor(S){super(),this.source=S}}function Tt(M){return(Fr(M)?M.validators:M)||null}function Cn(M,S){return(Fr(S)?S.asyncValidators:M)||null}function Fr(M){return null!=M&&!Array.isArray(M)&&"object"==typeof M}function Er(M,S,w){const B=M.controls;if(!(S?Object.keys(B):B).length)throw new d.wOt(1e3,"");if(!B[w])throw new d.wOt(1001,"")}function So(M,S,w){M._forEachChild((B,de)=>{if(void 0===w[de])throw new d.wOt(1002,"")})}class Yr{constructor(S,w){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,d.EWP)(()=>this.statusReactive()),this.statusReactive=(0,d.vPA)(void 0),this._pristine=(0,d.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,d.vPA)(!0),this._touched=(0,d.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,d.vPA)(!1),this._events=new A.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(S),this._assignAsyncValidators(w)}get validator(){return this._composedValidatorFn}set validator(S){this._rawValidators=this._composedValidatorFn=S}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(S){this._rawAsyncValidators=this._composedAsyncValidatorFn=S}get parent(){return this._parent}get status(){return(0,d.O8t)(this.statusReactive)}set status(S){(0,d.O8t)(()=>this.statusReactive.set(S))}get valid(){return this.status===fr}get invalid(){return this.status===ln}get pending(){return this.status==Mn}get disabled(){return this.status===Dr}get enabled(){return this.status!==Dr}get pristine(){return(0,d.O8t)(this.pristineReactive)}set pristine(S){(0,d.O8t)(()=>this.pristineReactive.set(S))}get dirty(){return!this.pristine}get touched(){return(0,d.O8t)(this.touchedReactive)}set touched(S){(0,d.O8t)(()=>this.touchedReactive.set(S))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(S){this._assignValidators(S)}setAsyncValidators(S){this._assignAsyncValidators(S)}addValidators(S){this.setValidators(hn(S,this._rawValidators))}addAsyncValidators(S){this.setAsyncValidators(hn(S,this._rawAsyncValidators))}removeValidators(S){this.setValidators(Dt(S,this._rawValidators))}removeAsyncValidators(S){this.setAsyncValidators(Dt(S,this._rawAsyncValidators))}hasValidator(S){return nn(this._rawValidators,S)}hasAsyncValidator(S){return nn(this._rawAsyncValidators,S)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(S={}){const w=!1===this.touched;this.touched=!0;const B=S.sourceControl??this;this._parent&&!S.onlySelf&&this._parent.markAsTouched({...S,sourceControl:B}),w&&!1!==S.emitEvent&&this._events.next(new te(!0,B))}markAllAsTouched(S={}){this.markAsTouched({onlySelf:!0,emitEvent:S.emitEvent,sourceControl:this}),this._forEachChild(w=>w.markAllAsTouched(S))}markAsUntouched(S={}){const w=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const B=S.sourceControl??this;this._forEachChild(de=>{de.markAsUntouched({onlySelf:!0,emitEvent:S.emitEvent,sourceControl:B})}),this._parent&&!S.onlySelf&&this._parent._updateTouched(S,B),w&&!1!==S.emitEvent&&this._events.next(new te(!1,B))}markAsDirty(S={}){const w=!0===this.pristine;this.pristine=!1;const B=S.sourceControl??this;this._parent&&!S.onlySelf&&this._parent.markAsDirty({...S,sourceControl:B}),w&&!1!==S.emitEvent&&this._events.next(new ye(!1,B))}markAsPristine(S={}){const w=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const B=S.sourceControl??this;this._forEachChild(de=>{de.markAsPristine({onlySelf:!0,emitEvent:S.emitEvent})}),this._parent&&!S.onlySelf&&this._parent._updatePristine(S,B),w&&!1!==S.emitEvent&&this._events.next(new ye(!0,B))}markAsPending(S={}){this.status=Mn;const w=S.sourceControl??this;!1!==S.emitEvent&&(this._events.next(new fe(this.status,w)),this.statusChanges.emit(this.status)),this._parent&&!S.onlySelf&&this._parent.markAsPending({...S,sourceControl:w})}disable(S={}){const w=this._parentMarkedDirty(S.onlySelf);this.status=Dr,this.errors=null,this._forEachChild(de=>{de.disable({...S,onlySelf:!0})}),this._updateValue();const B=S.sourceControl??this;!1!==S.emitEvent&&(this._events.next(new Se(this.value,B)),this._events.next(new fe(this.status,B)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...S,skipPristineCheck:w},this),this._onDisabledChange.forEach(de=>de(!0))}enable(S={}){const w=this._parentMarkedDirty(S.onlySelf);this.status=fr,this._forEachChild(B=>{B.enable({...S,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:S.emitEvent}),this._updateAncestors({...S,skipPristineCheck:w},this),this._onDisabledChange.forEach(B=>B(!1))}_updateAncestors(S,w){this._parent&&!S.onlySelf&&(this._parent.updateValueAndValidity(S),S.skipPristineCheck||this._parent._updatePristine({},w),this._parent._updateTouched({},w))}setParent(S){this._parent=S}getRawValue(){return this.value}updateValueAndValidity(S={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const B=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fr||this.status===Mn)&&this._runAsyncValidator(B,S.emitEvent)}const w=S.sourceControl??this;!1!==S.emitEvent&&(this._events.next(new Se(this.value,w)),this._events.next(new fe(this.status,w)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!S.onlySelf&&this._parent.updateValueAndValidity({...S,sourceControl:w})}_updateTreeValidity(S={emitEvent:!0}){this._forEachChild(w=>w._updateTreeValidity(S)),this.updateValueAndValidity({onlySelf:!0,emitEvent:S.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Dr:fr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(S,w){if(this.asyncValidator){this.status=Mn,this._hasOwnPendingAsyncValidator={emitEvent:!1!==w};const B=qt(this.asyncValidator(this));this._asyncValidationSubscription=B.subscribe(de=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(de,{emitEvent:w,shouldHaveEmitted:S})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const S=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,S}return!1}setErrors(S,w={}){this.errors=S,this._updateControlsErrors(!1!==w.emitEvent,this,w.shouldHaveEmitted)}get(S){let w=S;return null==w||(Array.isArray(w)||(w=w.split(".")),0===w.length)?null:w.reduce((B,de)=>B&&B._find(de),this)}getError(S,w){const B=w?this.get(w):this;return B&&B.errors?B.errors[S]:null}hasError(S,w){return!!this.getError(S,w)}get root(){let S=this;for(;S._parent;)S=S._parent;return S}_updateControlsErrors(S,w,B){this.status=this._calculateStatus(),S&&this.statusChanges.emit(this.status),(S||B)&&this._events.next(new fe(this.status,w)),this._parent&&this._parent._updateControlsErrors(S,w,B)}_initObservables(){this.valueChanges=new d.bkB,this.statusChanges=new d.bkB}_calculateStatus(){return this._allControlsDisabled()?Dr:this.errors?ln:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Mn)?Mn:this._anyControlsHaveStatus(ln)?ln:fr}_anyControlsHaveStatus(S){return this._anyControls(w=>w.status===S)}_anyControlsDirty(){return this._anyControls(S=>S.dirty)}_anyControlsTouched(){return this._anyControls(S=>S.touched)}_updatePristine(S,w){const B=!this._anyControlsDirty(),de=this.pristine!==B;this.pristine=B,this._parent&&!S.onlySelf&&this._parent._updatePristine(S,w),de&&this._events.next(new ye(this.pristine,w))}_updateTouched(S={},w){this.touched=this._anyControlsTouched(),this._events.next(new te(this.touched,w)),this._parent&&!S.onlySelf&&this._parent._updateTouched(S,w)}_registerOnCollectionChange(S){this._onCollectionChange=S}_setUpdateStrategy(S){Fr(S)&&null!=S.updateOn&&(this._updateOn=S.updateOn)}_parentMarkedDirty(S){return!S&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(S){return null}_assignValidators(S){this._rawValidators=Array.isArray(S)?S.slice():S,this._composedValidatorFn=function Bt(M){return Array.isArray(M)?Ie(M):M||null}(this._rawValidators)}_assignAsyncValidators(S){this._rawAsyncValidators=Array.isArray(S)?S.slice():S,this._composedAsyncValidatorFn=function rr(M){return Array.isArray(M)?Ne(M):M||null}(this._rawAsyncValidators)}}class Xr extends Yr{constructor(S,w,B){super(Tt(w),Cn(B,w)),this.controls=S,this._initObservables(),this._setUpdateStrategy(w),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(S,w){return this.controls[S]?this.controls[S]:(this.controls[S]=w,w.setParent(this),w._registerOnCollectionChange(this._onCollectionChange),w)}addControl(S,w,B={}){this.registerControl(S,w),this.updateValueAndValidity({emitEvent:B.emitEvent}),this._onCollectionChange()}removeControl(S,w={}){this.controls[S]&&this.controls[S]._registerOnCollectionChange(()=>{}),delete this.controls[S],this.updateValueAndValidity({emitEvent:w.emitEvent}),this._onCollectionChange()}setControl(S,w,B={}){this.controls[S]&&this.controls[S]._registerOnCollectionChange(()=>{}),delete this.controls[S],w&&this.registerControl(S,w),this.updateValueAndValidity({emitEvent:B.emitEvent}),this._onCollectionChange()}contains(S){return this.controls.hasOwnProperty(S)&&this.controls[S].enabled}setValue(S,w={}){So(this,0,S),Object.keys(S).forEach(B=>{Er(this,!0,B),this.controls[B].setValue(S[B],{onlySelf:!0,emitEvent:w.emitEvent})}),this.updateValueAndValidity(w)}patchValue(S,w={}){null!=S&&(Object.keys(S).forEach(B=>{const de=this.controls[B];de&&de.patchValue(S[B],{onlySelf:!0,emitEvent:w.emitEvent})}),this.updateValueAndValidity(w))}reset(S={},w={}){this._forEachChild((B,de)=>{B.reset(S?S[de]:null,{onlySelf:!0,emitEvent:w.emitEvent})}),this._updatePristine(w,this),this._updateTouched(w,this),this.updateValueAndValidity(w)}getRawValue(){return this._reduceChildren({},(S,w,B)=>(S[B]=w.getRawValue(),S))}_syncPendingControls(){let S=this._reduceChildren(!1,(w,B)=>!!B._syncPendingControls()||w);return S&&this.updateValueAndValidity({onlySelf:!0}),S}_forEachChild(S){Object.keys(this.controls).forEach(w=>{const B=this.controls[w];B&&S(B,w)})}_setUpControls(){this._forEachChild(S=>{S.setParent(this),S._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(S){for(const[w,B]of Object.entries(this.controls))if(this.contains(w)&&S(B))return!0;return!1}_reduceValue(){return this._reduceChildren({},(w,B,de)=>((B.enabled||this.disabled)&&(w[de]=B.value),w))}_reduceChildren(S,w){let B=S;return this._forEachChild((de,pt)=>{B=w(B,de,pt)}),B}_allControlsDisabled(){for(const S of Object.keys(this.controls))if(this.controls[S].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(S){return this.controls.hasOwnProperty(S)?this.controls[S]:null}}class _o extends Xr{}const Nr=new d.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Cr}),Cr="always";function Pr(M,S){return[...S.path,M]}function en(M,S,w=Cr){Or(M,S),S.valueAccessor.writeValue(M.value),(M.disabled||"always"===w)&&S.valueAccessor.setDisabledState?.(M.disabled),function Vo(M,S){S.valueAccessor.registerOnChange(w=>{M._pendingValue=w,M._pendingChange=!0,M._pendingDirty=!0,"change"===M.updateOn&&Ir(M,S)})}(M,S),function no(M,S){const w=(B,de)=>{S.valueAccessor.writeValue(B),de&&S.viewToModelUpdate(B)};M.registerOnChange(w),S._registerOnDestroy(()=>{M._unregisterOnChange(w)})}(M,S),function yo(M,S){S.valueAccessor.registerOnTouched(()=>{M._pendingTouched=!0,"blur"===M.updateOn&&M._pendingChange&&Ir(M,S),"submit"!==M.updateOn&&M.markAsTouched()})}(M,S),function Zn(M,S){if(S.valueAccessor.setDisabledState){const w=B=>{S.valueAccessor.setDisabledState(B)};M.registerOnDisabledChange(w),S._registerOnDestroy(()=>{M._unregisterOnDisabledChange(w)})}}(M,S)}function Kr(M,S,w=!0){const B=()=>{};S.valueAccessor&&(S.valueAccessor.registerOnChange(B),S.valueAccessor.registerOnTouched(B)),Qr(M,S),M&&(S._invokeOnDestroyCallbacks(),M._registerOnCollectionChange(()=>{}))}function Gn(M,S){M.forEach(w=>{w.registerOnValidatorChange&&w.registerOnValidatorChange(S)})}function Or(M,S){const w=Ke(M);null!==S.validator?M.setValidators(Te(w,S.validator)):"function"==typeof w&&M.setValidators([w]);const B=Oe(M);null!==S.asyncValidator?M.setAsyncValidators(Te(B,S.asyncValidator)):"function"==typeof B&&M.setAsyncValidators([B]);const de=()=>M.updateValueAndValidity();Gn(S._rawValidators,de),Gn(S._rawAsyncValidators,de)}function Qr(M,S){let w=!1;if(null!==M){if(null!==S.validator){const de=Ke(M);if(Array.isArray(de)&&de.length>0){const pt=de.filter(Qt=>Qt!==S.validator);pt.length!==de.length&&(w=!0,M.setValidators(pt))}}if(null!==S.asyncValidator){const de=Oe(M);if(Array.isArray(de)&&de.length>0){const pt=de.filter(Qt=>Qt!==S.asyncValidator);pt.length!==de.length&&(w=!0,M.setAsyncValidators(pt))}}}const B=()=>{};return Gn(S._rawValidators,B),Gn(S._rawAsyncValidators,B),w}function Ir(M,S){M._pendingDirty&&M.markAsDirty(),M.setValue(M._pendingValue,{emitModelToViewChange:!1}),S.viewToModelUpdate(M._pendingValue),M._pendingChange=!1}function qe(M,S){if(!M.hasOwnProperty("model"))return!1;const w=M.model;return!!w.isFirstChange()||!Object.is(S,w.currentValue)}function Ft(M,S){if(!S)return null;let w,B,de;return Array.isArray(S),S.forEach(pt=>{pt.constructor===je?w=pt:function We(M){return Object.getPrototypeOf(M.constructor)===K}(pt)?B=pt:de=pt}),de||B||w||null}function Dn(M,S){const w=M.indexOf(S);w>-1&&M.splice(w,1)}function $n(M){return"object"==typeof M&&null!==M&&2===Object.keys(M).length&&"value"in M&&"disabled"in M}Promise.resolve();const St=class extends Yr{constructor(S=null,w,B){super(Tt(w),Cn(B,w)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(S),this._setUpdateStrategy(w),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Fr(w)&&(w.nonNullable||w.initialValueIsDefault)&&(this.defaultValue=$n(S)?S.value:S)}setValue(S,w={}){this.value=this._pendingValue=S,this._onChange.length&&!1!==w.emitModelToViewChange&&this._onChange.forEach(B=>B(this.value,!1!==w.emitViewToModelChange)),this.updateValueAndValidity(w)}patchValue(S,w={}){this.setValue(S,w)}reset(S=this.defaultValue,w={}){this._applyFormState(S),this.markAsPristine(w),this.markAsUntouched(w),this.setValue(this.value,w),this._pendingChange=!1}_updateValue(){}_anyControls(S){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(S){this._onChange.push(S)}_unregisterOnChange(S){Dn(this._onChange,S)}registerOnDisabledChange(S){this._onDisabledChange.push(S)}_unregisterOnDisabledChange(S){Dn(this._onDisabledChange,S)}_forEachChild(S){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(S){$n(S)?(this.value=this._pendingValue=S.value,S.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=S}};let Et=(()=>{class M extends kt{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Pr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let w;return function(de){return(w||(w=d.xGo(M)))(de||M)}})()}static{this.\u0275dir=d.FsC({type:M,features:[d.Vt3]})}}return M})();const Qo={provide:kn,useExisting:(0,d.Rfq)(()=>bo)},Lt=Promise.resolve();let bo=(()=>{class M extends kn{constructor(w,B,de,pt,Qt,No){super(),this._changeDetectorRef=Qt,this.callSetDisabledState=No,this.control=new St,this._registered=!1,this.name="",this.update=new d.bkB,this._parent=w,this._setValidators(B),this._setAsyncValidators(de),this.valueAccessor=Ft(0,pt)}ngOnChanges(w){if(this._checkForErrors(),!this._registered||"name"in w){if(this._registered&&(this._checkName(),this.formDirective)){const B=w.name.previousValue;this.formDirective.removeControl({name:B,path:this._getPath(B)})}this._setUpControl()}"isDisabled"in w&&this._updateDisabled(w),qe(w,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(w){this.viewModel=w,this.update.emit(w)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){en(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(w){Lt.then(()=>{this.control.setValue(w,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(w){const B=w.isDisabled.currentValue,de=0!==B&&(0,d.L39)(B);Lt.then(()=>{de&&!this.control.disabled?this.control.disable():!de&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(w){return this._parent?Pr(w,this._parent):[w]}static{this.\u0275fac=function(B){return new(B||M)(d.rXU(kt,9),d.rXU(G,10),d.rXU(me,10),d.rXU(se,10),d.rXU(d.gRc,8),d.rXU(Nr,8))}}static{this.\u0275dir=d.FsC({type:M,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d.Jv_([Qo]),d.Vt3,d.OA$]})}}return M})(),Jo=(()=>{class M{static{this.\u0275fac=function(B){return new(B||M)}}static{this.\u0275dir=d.FsC({type:M,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return M})();const Mr={provide:se,useExisting:(0,d.Rfq)(()=>ci),multi:!0};let ci=(()=>{class M extends K{writeValue(w){this.setProperty("value",w??"")}registerOnChange(w){this.onChange=B=>{w(""==B?null:parseFloat(B))}}static{this.\u0275fac=(()=>{let w;return function(de){return(w||(w=d.xGo(M)))(de||M)}})()}static{this.\u0275dir=d.FsC({type:M,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(B,de){1&B&&d.bIt("input",function(Qt){return de.onChange(Qt.target.value)})("blur",function(){return de.onTouched()})},features:[d.Jv_([Mr]),d.Vt3]})}}return M})();const Ao={provide:se,useExisting:(0,d.Rfq)(()=>hr),multi:!0};let Eo=(()=>{class M{constructor(){this._accessors=[]}add(w,B){this._accessors.push([w,B])}remove(w){for(let B=this._accessors.length-1;B>=0;--B)if(this._accessors[B][1]===w)return void this._accessors.splice(B,1)}select(w){this._accessors.forEach(B=>{this._isSameGroup(B,w)&&B[1]!==w&&B[1].fireUncheck(w.value)})}_isSameGroup(w,B){return!!w[0].control&&w[0]._parent===B._control._parent&&w[1].name===B.name}static{this.\u0275fac=function(B){return new(B||M)}}static{this.\u0275prov=d.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})(),hr=(()=>{class M extends K{constructor(w,B,de,pt){super(w,B),this._registry=de,this._injector=pt,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,d.WQX)(Nr,{optional:!0})??Cr}ngOnInit(){this._control=this._injector.get(kn),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(w){this._state=w===this.value,this.setProperty("checked",this._state)}registerOnChange(w){this._fn=w,this.onChange=()=>{w(this.value),this._registry.select(this)}}setDisabledState(w){(this.setDisabledStateFired||w||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",w),this.setDisabledStateFired=!0}fireUncheck(w){this.writeValue(w)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(B){return new(B||M)(d.rXU(d.sFG),d.rXU(d.aKT),d.rXU(Eo),d.rXU(d.zZn))}}static{this.\u0275dir=d.FsC({type:M,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(B,de){1&B&&d.bIt("change",function(){return de.onChange()})("blur",function(){return de.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[d.Jv_([Ao]),d.Vt3]})}}return M})();const io=new d.nKC(""),Vi={provide:kn,useExisting:(0,d.Rfq)(()=>Lr)};let Lr=(()=>{class M extends kn{set isDisabled(w){}static{this._ngModelWarningSentOnce=!1}constructor(w,B,de,pt,Qt){super(),this._ngModelWarningConfig=pt,this.callSetDisabledState=Qt,this.update=new d.bkB,this._ngModelWarningSent=!1,this._setValidators(w),this._setAsyncValidators(B),this.valueAccessor=Ft(0,de)}ngOnChanges(w){if(this._isControlChanged(w)){const B=w.form.previousValue;B&&Kr(B,this,!1),en(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}qe(w,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Kr(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(w){this.viewModel=w,this.update.emit(w)}_isControlChanged(w){return w.hasOwnProperty("form")}static{this.\u0275fac=function(B){return new(B||M)(d.rXU(G,10),d.rXU(me,10),d.rXU(se,10),d.rXU(io,8),d.rXU(Nr,8))}}static{this.\u0275dir=d.FsC({type:M,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[d.Jv_([Vi]),d.Vt3,d.OA$]})}}return M})();const gr={provide:kt,useExisting:(0,d.Rfq)(()=>Co)};let Co=(()=>{class M extends kt{get submitted(){return(0,d.O8t)(this._submittedReactive)}set submitted(w){this._submittedReactive.set(w)}constructor(w,B,de){super(),this.callSetDisabledState=de,this._submitted=(0,d.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,d.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.bkB,this._setValidators(w),this._setAsyncValidators(B)}ngOnChanges(w){this._checkFormPresent(),w.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Qr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(w){const B=this.form.get(w.path);return en(B,w,this.callSetDisabledState),B.updateValueAndValidity({emitEvent:!1}),this.directives.push(w),B}getControl(w){return this.form.get(w.path)}removeControl(w){Kr(w.control||null,w,!1),function ht(M,S){const w=M.indexOf(S);w>-1&&M.splice(w,1)}(this.directives,w)}addFormGroup(w){this._setUpFormContainer(w)}removeFormGroup(w){this._cleanUpFormContainer(w)}getFormGroup(w){return this.form.get(w.path)}addFormArray(w){this._setUpFormContainer(w)}removeFormArray(w){this._cleanUpFormContainer(w)}getFormArray(w){return this.form.get(w.path)}updateModel(w,B){this.form.get(w.path).setValue(B)}onSubmit(w){return this._submittedReactive.set(!0),function et(M,S){M._syncPendingControls(),S.forEach(w=>{const B=w.control;"submit"===B.updateOn&&B._pendingChange&&(w.viewToModelUpdate(B._pendingValue),B._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(w),this.form._events.next(new Be(this.control)),"dialog"===w?.target?.method}onReset(){this.resetForm()}resetForm(w=void 0){this.form.reset(w),this._submittedReactive.set(!1),this.form._events.next(new st(this.form))}_updateDomValue(){this.directives.forEach(w=>{const B=w.control,de=this.form.get(w.path);B!==de&&(Kr(B||null,w),(M=>M instanceof St)(de)&&(en(de,w,this.callSetDisabledState),w.control=de))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(w){const B=this.form.get(w.path);(function ro(M,S){Or(M,S)})(B,w),B.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(w){if(this.form){const B=this.form.get(w.path);B&&function Ko(M,S){return Qr(M,S)}(B,w)&&B.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Or(this.form,this),this._oldForm&&Qr(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(B){return new(B||M)(d.rXU(G,10),d.rXU(me,10),d.rXU(Nr,8))}}static{this.\u0275dir=d.FsC({type:M,selectors:[["","formGroup",""]],hostBindings:function(B,de){1&B&&d.bIt("submit",function(Qt){return de.onSubmit(Qt)})("reset",function(){return de.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d.Jv_([gr]),d.Vt3,d.OA$]})}}return M})();const zn={provide:kt,useExisting:(0,d.Rfq)(()=>or)};let or=(()=>{class M extends Et{constructor(w,B,de){super(),this.name=null,this._parent=w,this._setValidators(B),this._setAsyncValidators(de)}_checkParentType(){mt(this._parent)}static{this.\u0275fac=function(B){return new(B||M)(d.rXU(kt,13),d.rXU(G,10),d.rXU(me,10))}}static{this.\u0275dir=d.FsC({type:M,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[d.Jv_([zn]),d.Vt3]})}}return M})();const Fn={provide:kt,useExisting:(0,d.Rfq)(()=>Uo)};let Uo=(()=>{class M extends kt{constructor(w,B,de){super(),this.name=null,this._parent=w,this._setValidators(B),this._setAsyncValidators(de)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Pr(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){mt(this._parent)}static{this.\u0275fac=function(B){return new(B||M)(d.rXU(kt,13),d.rXU(G,10),d.rXU(me,10))}}static{this.\u0275dir=d.FsC({type:M,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[d.Jv_([Fn]),d.Vt3]})}}return M})();function mt(M){return!(M instanceof or||M instanceof Co||M instanceof Uo)}const Zo={provide:kn,useExisting:(0,d.Rfq)(()=>Tr)};let Tr=(()=>{class M extends kn{set isDisabled(w){}static{this._ngModelWarningSentOnce=!1}constructor(w,B,de,pt,Qt){super(),this._ngModelWarningConfig=Qt,this._added=!1,this.name=null,this.update=new d.bkB,this._ngModelWarningSent=!1,this._parent=w,this._setValidators(B),this._setAsyncValidators(de),this.valueAccessor=Ft(0,pt)}ngOnChanges(w){this._added||this._setUpControl(),qe(w,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(w){this.viewModel=w,this.update.emit(w)}get path(){return Pr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(B){return new(B||M)(d.rXU(kt,13),d.rXU(G,10),d.rXU(me,10),d.rXU(se,10),d.rXU(io,8))}}static{this.\u0275dir=d.FsC({type:M,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[d.Jv_([Zo]),d.Vt3,d.OA$]})}}return M})();const po={provide:se,useExisting:(0,d.Rfq)(()=>Zr),multi:!0};function wo(M,S){return null==M?`${S}`:(S&&"object"==typeof S&&(S="Object"),`${M}: ${S}`.slice(0,50))}let Zr=(()=>{class M extends K{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(w){this._compareWith=w}writeValue(w){this.value=w;const de=wo(this._getOptionId(w),w);this.setProperty("value",de)}registerOnChange(w){this.onChange=B=>{this.value=this._getOptionValue(B),w(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(w){for(const B of this._optionMap.keys())if(this._compareWith(this._optionMap.get(B),w))return B;return null}_getOptionValue(w){const B=function Mi(M){return M.split(":")[0]}(w);return this._optionMap.has(B)?this._optionMap.get(B):w}static{this.\u0275fac=(()=>{let w;return function(de){return(w||(w=d.xGo(M)))(de||M)}})()}static{this.\u0275dir=d.FsC({type:M,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(B,de){1&B&&d.bIt("change",function(Qt){return de.onChange(Qt.target.value)})("blur",function(){return de.onTouched()})},inputs:{compareWith:"compareWith"},features:[d.Jv_([po]),d.Vt3]})}}return M})(),ei=(()=>{class M{constructor(w,B,de){this._element=w,this._renderer=B,this._select=de,this._select&&(this.id=this._select._registerOption())}set ngValue(w){null!=this._select&&(this._select._optionMap.set(this.id,w),this._setElementValue(wo(this.id,w)),this._select.writeValue(this._select.value))}set value(w){this._setElementValue(w),this._select&&this._select.writeValue(this._select.value)}_setElementValue(w){this._renderer.setProperty(this._element.nativeElement,"value",w)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(B){return new(B||M)(d.rXU(d.aKT),d.rXU(d.sFG),d.rXU(Zr,9))}}static{this.\u0275dir=d.FsC({type:M,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return M})();const Ro={provide:se,useExisting:(0,d.Rfq)(()=>Wn),multi:!0};function ti(M,S){return null==M?`${S}`:("string"==typeof S&&(S=`'${S}'`),S&&"object"==typeof S&&(S="Object"),`${M}: ${S}`.slice(0,50))}let Wn=(()=>{class M extends K{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(w){this._compareWith=w}writeValue(w){let B;if(this.value=w,Array.isArray(w)){const de=w.map(pt=>this._getOptionId(pt));B=(pt,Qt)=>{pt._setSelected(de.indexOf(Qt.toString())>-1)}}else B=(de,pt)=>{de._setSelected(!1)};this._optionMap.forEach(B)}registerOnChange(w){this.onChange=B=>{const de=[],pt=B.selectedOptions;if(void 0!==pt){const Qt=pt;for(let No=0;No<Qt.length;No++){const es=this._getOptionValue(Qt[No].value);de.push(es)}}else{const Qt=B.options;for(let No=0;No<Qt.length;No++){const fi=Qt[No];if(fi.selected){const es=this._getOptionValue(fi.value);de.push(es)}}}this.value=de,w(de)}}_registerOption(w){const B=(this._idCounter++).toString();return this._optionMap.set(B,w),B}_getOptionId(w){for(const B of this._optionMap.keys())if(this._compareWith(this._optionMap.get(B)._value,w))return B;return null}_getOptionValue(w){const B=function xo(M){return M.split(":")[0]}(w);return this._optionMap.has(B)?this._optionMap.get(B)._value:w}static{this.\u0275fac=(()=>{let w;return function(de){return(w||(w=d.xGo(M)))(de||M)}})()}static{this.\u0275dir=d.FsC({type:M,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(B,de){1&B&&d.bIt("change",function(Qt){return de.onChange(Qt.target)})("blur",function(){return de.onTouched()})},inputs:{compareWith:"compareWith"},features:[d.Jv_([Ro]),d.Vt3]})}}return M})(),Bo=(()=>{class M{constructor(w,B,de){this._element=w,this._renderer=B,this._select=de,this._select&&(this.id=this._select._registerOption(this))}set ngValue(w){null!=this._select&&(this._value=w,this._setElementValue(ti(this.id,w)),this._select.writeValue(this._select.value))}set value(w){this._select?(this._value=w,this._setElementValue(ti(this.id,w)),this._select.writeValue(this._select.value)):this._setElementValue(w)}_setElementValue(w){this._renderer.setProperty(this._element.nativeElement,"value",w)}_setSelected(w){this._renderer.setProperty(this._element.nativeElement,"selected",w)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(B){return new(B||M)(d.rXU(d.aKT),d.rXU(d.sFG),d.rXU(Wn,9))}}static{this.\u0275dir=d.FsC({type:M,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return M})();let lr=(()=>{class M{constructor(){this._validator=Nt}ngOnChanges(w){if(this.inputName in w){const B=this.normalizeInput(w[this.inputName].currentValue);this._enabled=this.enabled(B),this._validator=this._enabled?this.createValidator(B):Nt,this._onChange&&this._onChange()}}validate(w){return this._validator(w)}registerOnValidatorChange(w){this._onChange=w}enabled(w){return null!=w}static{this.\u0275fac=function(B){return new(B||M)}}static{this.\u0275dir=d.FsC({type:M,features:[d.OA$]})}}return M})();const ni={provide:G,useExisting:(0,d.Rfq)(()=>Go),multi:!0};let Go=(()=>{class M extends lr{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=w=>function ho(M){return"number"==typeof M?M:parseFloat(M)}(w),this.createValidator=w=>Pe(w)}static{this.\u0275fac=(()=>{let w;return function(de){return(w||(w=d.xGo(M)))(de||M)}})()}static{this.\u0275dir=d.FsC({type:M,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(B,de){2&B&&d.BMQ("max",de._enabled?de.max:null)},inputs:{max:"max"},features:[d.Jv_([ni]),d.Vt3]})}}return M})();const Ho={provide:G,useExisting:(0,d.Rfq)(()=>Un),multi:!0};let Un=(()=>{class M extends lr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=d.L39,this.createValidator=w=>ot}enabled(w){return w}static{this.\u0275fac=(()=>{let w;return function(de){return(w||(w=d.xGo(M)))(de||M)}})()}static{this.\u0275dir=d.FsC({type:M,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(B,de){2&B&&d.BMQ("required",de._enabled?"":null)},inputs:{required:"required"},features:[d.Jv_([Ho]),d.Vt3]})}}return M})();const k={provide:G,useExisting:(0,d.Rfq)(()=>$),multi:!0};let $=(()=>{class M extends lr{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=w=>function An(M){return"number"==typeof M?M:parseInt(M,10)}(w),this.createValidator=w=>Qe(w)}static{this.\u0275fac=(()=>{let w;return function(de){return(w||(w=d.xGo(M)))(de||M)}})()}static{this.\u0275dir=d.FsC({type:M,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(B,de){2&B&&d.BMQ("maxlength",de._enabled?de.maxlength:null)},inputs:{maxlength:"maxlength"},features:[d.Jv_([k]),d.Vt3]})}}return M})(),$e=(()=>{class M{static{this.\u0275fac=function(B){return new(B||M)}}static{this.\u0275mod=d.$C({type:M})}static{this.\u0275inj=d.G2t({})}}return M})();class ft extends Yr{constructor(S,w,B){super(Tt(w),Cn(B,w)),this.controls=S,this._initObservables(),this._setUpdateStrategy(w),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(S){return this.controls[this._adjustIndex(S)]}push(S,w={}){this.controls.push(S),this._registerControl(S),this.updateValueAndValidity({emitEvent:w.emitEvent}),this._onCollectionChange()}insert(S,w,B={}){this.controls.splice(S,0,w),this._registerControl(w),this.updateValueAndValidity({emitEvent:B.emitEvent})}removeAt(S,w={}){let B=this._adjustIndex(S);B<0&&(B=0),this.controls[B]&&this.controls[B]._registerOnCollectionChange(()=>{}),this.controls.splice(B,1),this.updateValueAndValidity({emitEvent:w.emitEvent})}setControl(S,w,B={}){let de=this._adjustIndex(S);de<0&&(de=0),this.controls[de]&&this.controls[de]._registerOnCollectionChange(()=>{}),this.controls.splice(de,1),w&&(this.controls.splice(de,0,w),this._registerControl(w)),this.updateValueAndValidity({emitEvent:B.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(S,w={}){So(this,0,S),S.forEach((B,de)=>{Er(this,!1,de),this.at(de).setValue(B,{onlySelf:!0,emitEvent:w.emitEvent})}),this.updateValueAndValidity(w)}patchValue(S,w={}){null!=S&&(S.forEach((B,de)=>{this.at(de)&&this.at(de).patchValue(B,{onlySelf:!0,emitEvent:w.emitEvent})}),this.updateValueAndValidity(w))}reset(S=[],w={}){this._forEachChild((B,de)=>{B.reset(S[de],{onlySelf:!0,emitEvent:w.emitEvent})}),this._updatePristine(w,this),this._updateTouched(w,this),this.updateValueAndValidity(w)}getRawValue(){return this.controls.map(S=>S.getRawValue())}clear(S={}){this.controls.length<1||(this._forEachChild(w=>w._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:S.emitEvent}))}_adjustIndex(S){return S<0?S+this.length:S}_syncPendingControls(){let S=this.controls.reduce((w,B)=>!!B._syncPendingControls()||w,!1);return S&&this.updateValueAndValidity({onlySelf:!0}),S}_forEachChild(S){this.controls.forEach((w,B)=>{S(w,B)})}_updateValue(){this.value=this.controls.filter(S=>S.enabled||this.disabled).map(S=>S.value)}_anyControls(S){return this.controls.some(w=>w.enabled&&S(w))}_setUpControls(){this._forEachChild(S=>this._registerControl(S))}_allControlsDisabled(){for(const S of this.controls)if(S.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(S){S.setParent(this),S._registerOnCollectionChange(this._onCollectionChange)}_find(S){return this.at(S)??null}}function fn(M){return!!M&&(void 0!==M.asyncValidators||void 0!==M.validators||void 0!==M.updateOn)}let Wt=(()=>{class M{constructor(){this.useNonNullable=!1}get nonNullable(){const w=new M;return w.useNonNullable=!0,w}group(w,B=null){const de=this._reduceControls(w);let pt={};return fn(B)?pt=B:null!==B&&(pt.validators=B.validator,pt.asyncValidators=B.asyncValidator),new Xr(de,pt)}record(w,B=null){const de=this._reduceControls(w);return new _o(de,B)}control(w,B,de){let pt={};return this.useNonNullable?(fn(B)?pt=B:(pt.validators=B,pt.asyncValidators=de),new St(w,{...pt,nonNullable:!0})):new St(w,B,de)}array(w,B,de){const pt=w.map(Qt=>this._createControl(Qt));return new ft(pt,B,de)}_reduceControls(w){const B={};return Object.keys(w).forEach(de=>{B[de]=this._createControl(w[de])}),B}_createControl(w){return w instanceof St||w instanceof Yr?w:Array.isArray(w)?this.control(w[0],w.length>1?w[1]:null,w.length>2?w[2]:null):this.control(w)}static{this.\u0275fac=function(B){return new(B||M)}}static{this.\u0275prov=d.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})(),ir=(()=>{class M{static withConfig(w){return{ngModule:M,providers:[{provide:Nr,useValue:w.callSetDisabledState??Cr}]}}static{this.\u0275fac=function(B){return new(B||M)}}static{this.\u0275mod=d.$C({type:M})}static{this.\u0275inj=d.G2t({imports:[$e]})}}return M})(),Hn=(()=>{class M{static withConfig(w){return{ngModule:M,providers:[{provide:io,useValue:w.warnOnNgModelWithFormControl??"always"},{provide:Nr,useValue:w.callSetDisabledState??Cr}]}}static{this.\u0275fac=function(B){return new(B||M)}}static{this.\u0275mod=d.$C({type:M})}static{this.\u0275inj=d.G2t({imports:[$e]})}}return M})()},345:(Je,ge,D)=>{"use strict";D.d(ge,{B8:()=>Ie,hE:()=>Pt,up:()=>Sn});var d=D(177),L=D(4438);class le extends d.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class e extends le{static makeCurrent(){(0,d.ZD)(new e)}onAndCancel(ye,te,fe){return ye.addEventListener(te,fe),()=>{ye.removeEventListener(te,fe)}}dispatchEvent(ye,te){ye.dispatchEvent(te)}remove(ye){ye.remove()}createElement(ye,te){return(te=te||this.getDefaultDocument()).createElement(ye)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ye){return ye.nodeType===Node.ELEMENT_NODE}isShadowRoot(ye){return ye instanceof DocumentFragment}getGlobalEventTarget(ye,te){return"window"===te?window:"document"===te?ye:"body"===te?ye.body:null}getBaseHref(ye){const te=function H(){return A=A||document.querySelector("base"),A?A.getAttribute("href"):null}();return null==te?null:function C(Se){return new URL(Se,document.baseURI).pathname}(te)}resetBaseElement(){A=null}getUserAgent(){return window.navigator.userAgent}getCookie(ye){return(0,d._b)(document.cookie,ye)}}let A=null,se=(()=>{class Se{build(){return new XMLHttpRequest}static{this.\u0275fac=function(fe){return new(fe||Se)}}static{this.\u0275prov=L.jDH({token:Se,factory:Se.\u0275fac})}}return Se})();const he=new L.nKC("");let Q=(()=>{class Se{constructor(te,fe){this._zone=fe,this._eventNameToPlugin=new Map,te.forEach(Be=>{Be.manager=this}),this._plugins=te.slice().reverse()}addEventListener(te,fe,Be){return this._findPluginFor(fe).addEventListener(te,fe,Be)}getZone(){return this._zone}_findPluginFor(te){let fe=this._eventNameToPlugin.get(te);if(fe)return fe;if(fe=this._plugins.find(st=>st.supports(te)),!fe)throw new L.wOt(5101,!1);return this._eventNameToPlugin.set(te,fe),fe}static{this.\u0275fac=function(fe){return new(fe||Se)(L.KVO(he),L.KVO(L.SKi))}}static{this.\u0275prov=L.jDH({token:Se,factory:Se.\u0275fac})}}return Se})();class _e{constructor(ye){this._doc=ye}}const De="ng-app-id";let be=(()=>{class Se{constructor(te,fe,Be,st={}){this.doc=te,this.appId=fe,this.nonce=Be,this.platformId=st,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,d.Vy)(st),this.resetHostNodes()}addStyles(te){for(const fe of te)1===this.changeUsageCount(fe,1)&&this.onStyleAdded(fe)}removeStyles(te){for(const fe of te)this.changeUsageCount(fe,-1)<=0&&this.onStyleRemoved(fe)}ngOnDestroy(){const te=this.styleNodesInDOM;te&&(te.forEach(fe=>fe.remove()),te.clear());for(const fe of this.getAllStyles())this.onStyleRemoved(fe);this.resetHostNodes()}addHost(te){this.hostNodes.add(te);for(const fe of this.getAllStyles())this.addStyleToHost(te,fe)}removeHost(te){this.hostNodes.delete(te)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(te){for(const fe of this.hostNodes)this.addStyleToHost(fe,te)}onStyleRemoved(te){const fe=this.styleRef;fe.get(te)?.elements?.forEach(Be=>Be.remove()),fe.delete(te)}collectServerRenderedStyles(){const te=this.doc.head?.querySelectorAll(`style[${De}="${this.appId}"]`);if(te?.length){const fe=new Map;return te.forEach(Be=>{null!=Be.textContent&&fe.set(Be.textContent,Be)}),fe}return null}changeUsageCount(te,fe){const Be=this.styleRef;if(Be.has(te)){const st=Be.get(te);return st.usage+=fe,st.usage}return Be.set(te,{usage:fe,elements:[]}),fe}getStyleElement(te,fe){const Be=this.styleNodesInDOM,st=Be?.get(fe);if(st?.parentNode===te)return Be.delete(fe),st.removeAttribute(De),st;{const Tt=this.doc.createElement("style");return this.nonce&&Tt.setAttribute("nonce",this.nonce),Tt.textContent=fe,this.platformIsServer&&Tt.setAttribute(De,this.appId),te.appendChild(Tt),Tt}}addStyleToHost(te,fe){const Be=this.getStyleElement(te,fe),st=this.styleRef,Tt=st.get(fe)?.elements;Tt?Tt.push(Be):st.set(fe,{elements:[Be],usage:1})}resetHostNodes(){const te=this.hostNodes;te.clear(),te.add(this.doc.head)}static{this.\u0275fac=function(fe){return new(fe||Se)(L.KVO(d.qQ),L.KVO(L.sZ2),L.KVO(L.BIS,8),L.KVO(L.Agw))}}static{this.\u0275prov=L.jDH({token:Se,factory:Se.\u0275fac})}}return Se})();const je={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ne=/%COMP%/g,U="%COMP%",G=`_nghost-${U}`,me=`_ngcontent-${U}`,Ee=new L.nKC("",{providedIn:"root",factory:()=>!0});function ot(Se,ye){return ye.map(te=>te.replace(ne,Se))}let Xe=(()=>{class Se{constructor(te,fe,Be,st,Tt,Bt,Cn,rr=null){this.eventManager=te,this.sharedStylesHost=fe,this.appId=Be,this.removeStylesOnCompDestroy=st,this.doc=Tt,this.platformId=Bt,this.ngZone=Cn,this.nonce=rr,this.rendererByCompId=new Map,this.platformIsServer=(0,d.Vy)(Bt),this.defaultRenderer=new Ve(te,Tt,Cn,this.platformIsServer)}createRenderer(te,fe){if(!te||!fe)return this.defaultRenderer;this.platformIsServer&&fe.encapsulation===L.gXe.ShadowDom&&(fe={...fe,encapsulation:L.gXe.Emulated});const Be=this.getOrCreateRenderer(te,fe);return Be instanceof qt?Be.applyToHost(te):Be instanceof xt&&Be.applyStyles(),Be}getOrCreateRenderer(te,fe){const Be=this.rendererByCompId;let st=Be.get(fe.id);if(!st){const Tt=this.doc,Bt=this.ngZone,Cn=this.eventManager,rr=this.sharedStylesHost,Fr=this.removeStylesOnCompDestroy,Er=this.platformIsServer;switch(fe.encapsulation){case L.gXe.Emulated:st=new qt(Cn,rr,fe,this.appId,Fr,Tt,Bt,Er);break;case L.gXe.ShadowDom:return new Nt(Cn,rr,te,fe,Tt,Bt,this.nonce,Er);default:st=new xt(Cn,rr,fe,Fr,Tt,Bt,Er)}Be.set(fe.id,st)}return st}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(fe){return new(fe||Se)(L.KVO(Q),L.KVO(be),L.KVO(L.sZ2),L.KVO(Ee),L.KVO(d.qQ),L.KVO(L.Agw),L.KVO(L.SKi),L.KVO(L.BIS))}}static{this.\u0275prov=L.jDH({token:Se,factory:Se.\u0275fac})}}return Se})();class Ve{constructor(ye,te,fe,Be){this.eventManager=ye,this.doc=te,this.ngZone=fe,this.platformIsServer=Be,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(ye,te){return te?this.doc.createElementNS(je[te]||te,ye):this.doc.createElement(ye)}createComment(ye){return this.doc.createComment(ye)}createText(ye){return this.doc.createTextNode(ye)}appendChild(ye,te){(at(ye)?ye.content:ye).appendChild(te)}insertBefore(ye,te,fe){ye&&(at(ye)?ye.content:ye).insertBefore(te,fe)}removeChild(ye,te){te.remove()}selectRootElement(ye,te){let fe="string"==typeof ye?this.doc.querySelector(ye):ye;if(!fe)throw new L.wOt(-5104,!1);return te||(fe.textContent=""),fe}parentNode(ye){return ye.parentNode}nextSibling(ye){return ye.nextSibling}setAttribute(ye,te,fe,Be){if(Be){te=Be+":"+te;const st=je[Be];st?ye.setAttributeNS(st,te,fe):ye.setAttribute(te,fe)}else ye.setAttribute(te,fe)}removeAttribute(ye,te,fe){if(fe){const Be=je[fe];Be?ye.removeAttributeNS(Be,te):ye.removeAttribute(`${fe}:${te}`)}else ye.removeAttribute(te)}addClass(ye,te){ye.classList.add(te)}removeClass(ye,te){ye.classList.remove(te)}setStyle(ye,te,fe,Be){Be&(L.czy.DashCase|L.czy.Important)?ye.style.setProperty(te,fe,Be&L.czy.Important?"important":""):ye.style[te]=fe}removeStyle(ye,te,fe){fe&L.czy.DashCase?ye.style.removeProperty(te):ye.style[te]=""}setProperty(ye,te,fe){null!=ye&&(ye[te]=fe)}setValue(ye,te){ye.nodeValue=te}listen(ye,te,fe){if("string"==typeof ye&&!(ye=(0,d.QT)().getGlobalEventTarget(this.doc,ye)))throw new Error(`Unsupported event target ${ye} for event ${te}`);return this.eventManager.addEventListener(ye,te,this.decoratePreventDefault(fe))}decoratePreventDefault(ye){return te=>{if("__ngUnwrap__"===te)return ye;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>ye(te)):ye(te))&&te.preventDefault()}}}function at(Se){return"TEMPLATE"===Se.tagName&&void 0!==Se.content}class Nt extends Ve{constructor(ye,te,fe,Be,st,Tt,Bt,Cn){super(ye,st,Tt,Cn),this.sharedStylesHost=te,this.hostEl=fe,this.shadowRoot=fe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const rr=ot(Be.id,Be.styles);for(const Fr of rr){const Er=document.createElement("style");Bt&&Er.setAttribute("nonce",Bt),Er.textContent=Fr,this.shadowRoot.appendChild(Er)}}nodeOrShadowRoot(ye){return ye===this.hostEl?this.shadowRoot:ye}appendChild(ye,te){return super.appendChild(this.nodeOrShadowRoot(ye),te)}insertBefore(ye,te,fe){return super.insertBefore(this.nodeOrShadowRoot(ye),te,fe)}removeChild(ye,te){return super.removeChild(null,te)}parentNode(ye){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ye)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class xt extends Ve{constructor(ye,te,fe,Be,st,Tt,Bt,Cn){super(ye,st,Tt,Bt),this.sharedStylesHost=te,this.removeStylesOnCompDestroy=Be,this.styles=Cn?ot(Cn,fe.styles):fe.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class qt extends xt{constructor(ye,te,fe,Be,st,Tt,Bt,Cn){const rr=Be+"-"+fe.id;super(ye,te,fe,st,Tt,Bt,Cn,rr),this.contentAttr=function ve(Se){return me.replace(ne,Se)}(rr),this.hostAttr=function Pe(Se){return G.replace(ne,Se)}(rr)}applyToHost(ye){this.applyStyles(),this.setAttribute(ye,this.hostAttr,"")}createElement(ye,te){const fe=super.createElement(ye,te);return super.setAttribute(fe,this.contentAttr,""),fe}}let tr=(()=>{class Se extends _e{constructor(te){super(te)}supports(te){return!0}addEventListener(te,fe,Be){return te.addEventListener(fe,Be,!1),()=>this.removeEventListener(te,fe,Be)}removeEventListener(te,fe,Be){return te.removeEventListener(fe,Be)}static{this.\u0275fac=function(fe){return new(fe||Se)(L.KVO(d.qQ))}}static{this.\u0275prov=L.jDH({token:Se,factory:Se.\u0275fac})}}return Se})();const qn=["alt","control","meta","shift"],yr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Rr={alt:Se=>Se.altKey,control:Se=>Se.ctrlKey,meta:Se=>Se.metaKey,shift:Se=>Se.shiftKey};let To=(()=>{class Se extends _e{constructor(te){super(te)}supports(te){return null!=Se.parseEventName(te)}addEventListener(te,fe,Be){const st=Se.parseEventName(fe),Tt=Se.eventCallback(st.fullKey,Be,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,d.QT)().onAndCancel(te,st.domEventName,Tt))}static parseEventName(te){const fe=te.toLowerCase().split("."),Be=fe.shift();if(0===fe.length||"keydown"!==Be&&"keyup"!==Be)return null;const st=Se._normalizeKey(fe.pop());let Tt="",Bt=fe.indexOf("code");if(Bt>-1&&(fe.splice(Bt,1),Tt="code."),qn.forEach(rr=>{const Fr=fe.indexOf(rr);Fr>-1&&(fe.splice(Fr,1),Tt+=rr+".")}),Tt+=st,0!=fe.length||0===st.length)return null;const Cn={};return Cn.domEventName=Be,Cn.fullKey=Tt,Cn}static matchEventFullKeyCode(te,fe){let Be=yr[te.key]||te.key,st="";return fe.indexOf("code.")>-1&&(Be=te.code,st="code."),!(null==Be||!Be)&&(Be=Be.toLowerCase()," "===Be?Be="space":"."===Be&&(Be="dot"),qn.forEach(Tt=>{Tt!==Be&&(0,Rr[Tt])(te)&&(st+=Tt+".")}),st+=Be,st===fe)}static eventCallback(te,fe,Be){return st=>{Se.matchEventFullKeyCode(st,te)&&Be.runGuarded(()=>fe(st))}}static _normalizeKey(te){return"esc"===te?"escape":te}static{this.\u0275fac=function(fe){return new(fe||Se)(L.KVO(d.qQ))}}static{this.\u0275prov=L.jDH({token:Se,factory:Se.\u0275fac})}}return Se})();function Ie(Se,ye,te){return(0,L.TL3)({rootComponent:Se,platformRef:te?.platformRef,...Ne(ye)})}function Ne(Se){return{appProviders:[...kt,...Se?.providers??[]],platformProviders:nn}}const nn=[{provide:L.Agw,useValue:d.AJ},{provide:L.PLl,useValue:function Ke(){e.makeCurrent()},multi:!0},{provide:d.qQ,useFactory:function ut(){return(0,L.TL$)(document),document},deps:[]}],kt=[{provide:L.H8p,useValue:"root"},{provide:L.zcH,useFactory:function Oe(){return new L.zcH},deps:[]},{provide:he,useClass:tr,multi:!0,deps:[d.qQ,L.SKi,L.Agw]},{provide:he,useClass:To,multi:!0,deps:[d.qQ]},Xe,be,Q,{provide:L._9s,useExisting:Xe},{provide:d.N0,useClass:se,deps:[]},[]];let Pt=(()=>{class Se{constructor(te){this._doc=te}getTitle(){return this._doc.title}setTitle(te){this._doc.title=te||""}static{this.\u0275fac=function(fe){return new(fe||Se)(L.KVO(d.qQ))}}static{this.\u0275prov=L.jDH({token:Se,factory:Se.\u0275fac,providedIn:"root"})}}return Se})(),Sn=(()=>{class Se{static{this.\u0275fac=function(fe){return new(fe||Se)}}static{this.\u0275prov=L.jDH({token:Se,factory:function(fe){let Be=null;return Be=fe?new(fe||Se):L.KVO(vn),Be},providedIn:"root"})}}return Se})(),vn=(()=>{class Se extends Sn{constructor(te){super(),this._doc=te}sanitize(te,fe){if(null==fe)return null;switch(te){case L.WPN.NONE:return fe;case L.WPN.HTML:return(0,L.ZF7)(fe,"HTML")?(0,L.rcV)(fe):(0,L.h9k)(this._doc,String(fe)).toString();case L.WPN.STYLE:return(0,L.ZF7)(fe,"Style")?(0,L.rcV)(fe):fe;case L.WPN.SCRIPT:if((0,L.ZF7)(fe,"Script"))return(0,L.rcV)(fe);throw new L.wOt(5200,!1);case L.WPN.URL:return(0,L.ZF7)(fe,"URL")?(0,L.rcV)(fe):(0,L.$MX)(String(fe));case L.WPN.RESOURCE_URL:if((0,L.ZF7)(fe,"ResourceURL"))return(0,L.rcV)(fe);throw new L.wOt(5201,!1);default:throw new L.wOt(5202,!1)}}bypassSecurityTrustHtml(te){return(0,L.Kcf)(te)}bypassSecurityTrustStyle(te){return(0,L.cWb)(te)}bypassSecurityTrustScript(te){return(0,L.UyX)(te)}bypassSecurityTrustUrl(te){return(0,L.osQ)(te)}bypassSecurityTrustResourceUrl(te){return(0,L.e5t)(te)}static{this.\u0275fac=function(fe){return new(fe||Se)(L.KVO(d.qQ))}}static{this.\u0275prov=L.jDH({token:Se,factory:Se.\u0275fac,providedIn:"root"})}}return Se})()},9981:(Je,ge,D)=>{"use strict";D.d(ge,{nX:()=>Tr,wF:()=>We,Ix:()=>gt,Wk:()=>mn,wQ:()=>vr,iI:()=>Yi,n3:()=>Ti,lh:()=>Cs});var d=D(4438),L=D(1985),le=D(8071),A=D(6648),H=D(7673),C=D(4412),K=D(4572),se=D(9350),he=D(8793),Q=D(9030),_e=D(1203),De=D(8810),be=D(983),je=D(8359),ne=D(9974),U=D(4360);function G(){return(0,ne.N)((h,b)=>{let m=null;h._refCount++;const E=(0,U._)(b,void 0,void 0,void 0,()=>{if(!h||h._refCount<=0||0<--h._refCount)return void(m=null);const R=h._connection,q=m;m=null,R&&(!q||R===q)&&R.unsubscribe(),b.unsubscribe()});h.subscribe(E),E.closed||(m=h.connect())})}class me extends L.c{constructor(b,m){super(),this.source=b,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,ne.S)(b)&&(this.lift=b.lift)}_subscribe(b){return this.getSubject().subscribe(b)}getSubject(){const b=this._subject;return(!b||b.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:b}=this;this._subject=this._connection=null,b?.unsubscribe()}connect(){let b=this._connection;if(!b){b=this._connection=new je.yU;const m=this.getSubject();b.add(this.source.subscribe((0,U._)(m,void 0,()=>{this._teardown(),m.complete()},E=>{this._teardown(),m.error(E)},()=>this._teardown()))),b.closed&&(this._connection=null,b=je.yU.EMPTY)}return b}refCount(){return G()(this)}}var ue=D(1413),Ee=D(177),ve=D(6354),Pe=D(5558),ot=D(6697),Xe=D(9172),Ve=D(5964),Ye=D(1397),Qe=D(1594),at=D(274),Nt=D(8141),xt=D(9437),qt=D(1943),tr=D(9901);function qn(h){return h<=0?()=>be.w:(0,ne.N)((b,m)=>{let E=[];b.subscribe((0,U._)(m,R=>{E.push(R),h<E.length&&E.shift()},()=>{for(const R of E)m.next(R);m.complete()},void 0,()=>{E=null}))})}var yr=D(3774),Rr=D(3669),Me=D(980),Ne=D(6977),Te=D(6365),Ke=D(345);const Oe="primary",ut=Symbol("RouteTitle");class nn{constructor(b){this.params=b||{}}has(b){return Object.prototype.hasOwnProperty.call(this.params,b)}get(b){if(this.has(b)){const m=this.params[b];return Array.isArray(m)?m[0]:m}return null}getAll(b){if(this.has(b)){const m=this.params[b];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function hn(h){return new nn(h)}function Dt(h,b,m){const E=m.path.split("/");if(E.length>h.length||"full"===m.pathMatch&&(b.hasChildren()||E.length<h.length))return null;const R={};for(let q=0;q<E.length;q++){const ee=E[q],Ae=h[q];if(":"===ee[0])R[ee.substring(1)]=Ae;else if(ee!==Ae.path)return null}return{consumed:h.slice(0,E.length),posParams:R}}function kt(h,b){const m=h?kn(h):void 0,E=b?kn(b):void 0;if(!m||!E||m.length!=E.length)return!1;let R;for(let q=0;q<m.length;q++)if(R=m[q],!an(h[R],b[R]))return!1;return!0}function kn(h){return[...Object.keys(h),...Object.getOwnPropertySymbols(h)]}function an(h,b){if(Array.isArray(h)&&Array.isArray(b)){if(h.length!==b.length)return!1;const m=[...h].sort(),E=[...b].sort();return m.every((R,q)=>E[q]===R)}return h===b}function Jt(h){return h.length>0?h[h.length-1]:null}function Pt(h){return function e(h){return!!h&&(h instanceof L.c||(0,le.T)(h.lift)&&(0,le.T)(h.subscribe))}(h)?h:(0,d.jNT)(h)?(0,A.H)(Promise.resolve(h)):(0,H.of)(h)}const jn={exact:function Wr(h,b,m){if(!xn(h.segments,b.segments)||!Mt(h.segments,b.segments,m)||h.numberOfChildren!==b.numberOfChildren)return!1;for(const E in b.children)if(!h.children[E]||!Wr(h.children[E],b.children[E],m))return!1;return!0},subset:br},Ze={exact:function xr(h,b){return kt(h,b)},subset:function to(h,b){return Object.keys(b).length<=Object.keys(h).length&&Object.keys(b).every(m=>an(h[m],b[m]))},ignored:()=>!0};function dr(h,b,m){return jn[m.paths](h.root,b.root,m.matrixParams)&&Ze[m.queryParams](h.queryParams,b.queryParams)&&!("exact"===m.fragment&&h.fragment!==b.fragment)}function br(h,b,m){return Zt(h,b,b.segments,m)}function Zt(h,b,m,E){if(h.segments.length>m.length){const R=h.segments.slice(0,m.length);return!(!xn(R,m)||b.hasChildren()||!Mt(R,m,E))}if(h.segments.length===m.length){if(!xn(h.segments,m)||!Mt(h.segments,m,E))return!1;for(const R in b.children)if(!h.children[R]||!br(h.children[R],b.children[R],E))return!1;return!0}{const R=m.slice(0,h.segments.length),q=m.slice(h.segments.length);return!!(xn(h.segments,R)&&Mt(h.segments,R,E)&&h.children[Oe])&&Zt(h.children[Oe],b,q,E)}}function Mt(h,b,m){return b.every((E,R)=>Ze[m](h[R].parameters,E.parameters))}class nr{constructor(b=new Vt([],{}),m={},E=null){this.root=b,this.queryParams=m,this.fragment=E}get queryParamMap(){return this._queryParamMap??=hn(this.queryParams),this._queryParamMap}toString(){return cn.serialize(this)}}class Vt{constructor(b,m){this.segments=b,this.children=m,this.parent=null,Object.values(m).forEach(E=>E.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $o(this)}}class gn{constructor(b,m){this.path=b,this.parameters=m}get parameterMap(){return this._parameterMap??=hn(this.parameters),this._parameterMap}toString(){return ye(this)}}function xn(h,b){return h.length===b.length&&h.every((m,E)=>m.path===b[E].path)}let vn=(()=>{class h{static{this.\u0275fac=function(E){return new(E||h)}}static{this.\u0275prov=d.jDH({token:h,factory:()=>new rn,providedIn:"root"})}}return h})();class rn{parse(b){const m=new So(b);return new nr(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(b){const m=`/${Ot(b.root,!0)}`,E=function fe(h){const b=Object.entries(h).map(([m,E])=>Array.isArray(E)?E.map(R=>`${ln(m)}=${ln(R)}`).join("&"):`${ln(m)}=${ln(E)}`).filter(m=>m);return b.length?`?${b.join("&")}`:""}(b.queryParams);return`${m}${E}${"string"==typeof b.fragment?`#${function Mn(h){return encodeURI(h)}(b.fragment)}`:""}`}}const cn=new rn;function $o(h){return h.segments.map(b=>ye(b)).join("/")}function Ot(h,b){if(!h.hasChildren())return $o(h);if(b){const m=h.children[Oe]?Ot(h.children[Oe],!1):"",E=[];return Object.entries(h.children).forEach(([R,q])=>{R!==Oe&&E.push(`${R}:${Ot(q,!1)}`)}),E.length>0?`${m}(${E.join("//")})`:m}{const m=function Sn(h,b){let m=[];return Object.entries(h.children).forEach(([E,R])=>{E===Oe&&(m=m.concat(b(R,E)))}),Object.entries(h.children).forEach(([E,R])=>{E!==Oe&&(m=m.concat(b(R,E)))}),m}(h,(E,R)=>R===Oe?[Ot(h.children[Oe],!1)]:[`${R}:${Ot(E,!1)}`]);return 1===Object.keys(h.children).length&&null!=h.children[Oe]?`${$o(h)}/${m[0]}`:`${$o(h)}/(${m.join("//")})`}}function fr(h){return encodeURIComponent(h).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ln(h){return fr(h).replace(/%3B/gi,";")}function Dr(h){return fr(h).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bn(h){return decodeURIComponent(h)}function Se(h){return Bn(h.replace(/\+/g,"%20"))}function ye(h){return`${Dr(h.path)}${function te(h){return Object.entries(h).map(([b,m])=>`;${Dr(b)}=${Dr(m)}`).join("")}(h.parameters)}`}const Be=/^[^\/()?;#]+/;function st(h){const b=h.match(Be);return b?b[0]:""}const Tt=/^[^\/()?;=#]+/,Cn=/^[^=?&#]+/,Fr=/^[^&#]+/;class So{constructor(b){this.url=b,this.remaining=b}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Vt([],{}):new Vt([],this.parseChildren())}parseQueryParams(){const b={};if(this.consumeOptional("?"))do{this.parseQueryParam(b)}while(this.consumeOptional("&"));return b}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const b=[];for(this.peekStartsWith("(")||b.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),b.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let E={};return this.peekStartsWith("(")&&(E=this.parseParens(!1)),(b.length>0||Object.keys(m).length>0)&&(E[Oe]=new Vt(b,m)),E}parseSegment(){const b=st(this.remaining);if(""===b&&this.peekStartsWith(";"))throw new d.wOt(4009,!1);return this.capture(b),new gn(Bn(b),this.parseMatrixParams())}parseMatrixParams(){const b={};for(;this.consumeOptional(";");)this.parseParam(b);return b}parseParam(b){const m=function Bt(h){const b=h.match(Tt);return b?b[0]:""}(this.remaining);if(!m)return;this.capture(m);let E="";if(this.consumeOptional("=")){const R=st(this.remaining);R&&(E=R,this.capture(E))}b[Bn(m)]=Bn(E)}parseQueryParam(b){const m=function rr(h){const b=h.match(Cn);return b?b[0]:""}(this.remaining);if(!m)return;this.capture(m);let E="";if(this.consumeOptional("=")){const ee=function Er(h){const b=h.match(Fr);return b?b[0]:""}(this.remaining);ee&&(E=ee,this.capture(E))}const R=Se(m),q=Se(E);if(b.hasOwnProperty(R)){let ee=b[R];Array.isArray(ee)||(ee=[ee],b[R]=ee),ee.push(q)}else b[R]=q}parseParens(b){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const E=st(this.remaining),R=this.remaining[E.length];if("/"!==R&&")"!==R&&";"!==R)throw new d.wOt(4010,!1);let q;E.indexOf(":")>-1?(q=E.slice(0,E.indexOf(":")),this.capture(q),this.capture(":")):b&&(q=Oe);const ee=this.parseChildren();m[q]=1===Object.keys(ee).length?ee[Oe]:new Vt([],ee),this.consumeOptional("//")}return m}peekStartsWith(b){return this.remaining.startsWith(b)}consumeOptional(b){return!!this.peekStartsWith(b)&&(this.remaining=this.remaining.substring(b.length),!0)}capture(b){if(!this.consumeOptional(b))throw new d.wOt(4011,!1)}}function Yr(h){return h.segments.length>0?new Vt([],{[Oe]:h}):h}function Xr(h){const b={};for(const[E,R]of Object.entries(h.children)){const q=Xr(R);if(E===Oe&&0===q.segments.length&&q.hasChildren())for(const[ee,Ae]of Object.entries(q.children))b[ee]=Ae;else(q.segments.length>0||q.hasChildren())&&(b[E]=q)}return function ki(h){if(1===h.numberOfChildren&&h.children[Oe]){const b=h.children[Oe];return new Vt(h.segments.concat(b.segments),b.children)}return h}(new Vt(h.segments,b))}function Ln(h){return h instanceof nr}function _o(h){let b;const R=Yr(function m(q){const ee={};for(const xe of q.children){const nt=m(xe);ee[xe.outlet]=nt}const Ae=new Vt(q.url,ee);return q===h&&(b=Ae),Ae}(h.root));return b??R}function Xo(h,b,m,E){let R=h;for(;R.parent;)R=R.parent;if(0===b.length)return Pr(R,R,R,m,E);const q=function Gn(h){if("string"==typeof h[0]&&1===h.length&&"/"===h[0])return new Kr(!0,0,h);let b=0,m=!1;const E=h.reduce((R,q,ee)=>{if("object"==typeof q&&null!=q){if(q.outlets){const Ae={};return Object.entries(q.outlets).forEach(([xe,nt])=>{Ae[xe]="string"==typeof nt?nt.split("/"):nt}),[...R,{outlets:Ae}]}if(q.segmentPath)return[...R,q.segmentPath]}return"string"!=typeof q?[...R,q]:0===ee?(q.split("/").forEach((Ae,xe)=>{0==xe&&"."===Ae||(0==xe&&""===Ae?m=!0:".."===Ae?b++:""!=Ae&&R.push(Ae))}),R):[...R,q]},[]);return new Kr(m,b,E)}(b);if(q.toRoot())return Pr(R,R,new Vt([],{}),m,E);const ee=function Or(h,b,m){if(h.isAbsolute)return new Zn(b,!0,0);if(!m)return new Zn(b,!1,NaN);if(null===m.parent)return new Zn(m,!0,0);const E=Nr(h.commands[0])?0:1;return function Qr(h,b,m){let E=h,R=b,q=m;for(;q>R;){if(q-=R,E=E.parent,!E)throw new d.wOt(4005,!1);R=E.segments.length}return new Zn(E,!1,R-q)}(m,m.segments.length-1+E,h.numberOfDoubleDots)}(q,R,h),Ae=ee.processChildren?Ir(ee.segmentGroup,ee.index,q.commands):yo(ee.segmentGroup,ee.index,q.commands);return Pr(R,ee.segmentGroup,Ae,m,E)}function Nr(h){return"object"==typeof h&&null!=h&&!h.outlets&&!h.segmentPath}function Cr(h){return"object"==typeof h&&null!=h&&h.outlets}function Pr(h,b,m,E,R){let ee,q={};E&&Object.entries(E).forEach(([xe,nt])=>{q[xe]=Array.isArray(nt)?nt.map(Rt=>`${Rt}`):`${nt}`}),ee=h===b?m:en(h,b,m);const Ae=Yr(Xr(ee));return new nr(Ae,q,R)}function en(h,b,m){const E={};return Object.entries(h.children).forEach(([R,q])=>{E[R]=q===b?m:en(q,b,m)}),new Vt(h.segments,E)}class Kr{constructor(b,m,E){if(this.isAbsolute=b,this.numberOfDoubleDots=m,this.commands=E,b&&E.length>0&&Nr(E[0]))throw new d.wOt(4003,!1);const R=E.find(Cr);if(R&&R!==Jt(E))throw new d.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Zn{constructor(b,m,E){this.segmentGroup=b,this.processChildren=m,this.index=E}}function yo(h,b,m){if(h??=new Vt([],{}),0===h.segments.length&&h.hasChildren())return Ir(h,b,m);const E=function no(h,b,m){let E=0,R=b;const q={match:!1,pathIndex:0,commandIndex:0};for(;R<h.segments.length;){if(E>=m.length)return q;const ee=h.segments[R],Ae=m[E];if(Cr(Ae))break;const xe=`${Ae}`,nt=E<m.length-1?m[E+1]:null;if(R>0&&void 0===xe)break;if(xe&&nt&&"object"==typeof nt&&void 0===nt.outlets){if(!Y(xe,nt,ee))return q;E+=2}else{if(!Y(xe,{},ee))return q;E++}R++}return{match:!0,pathIndex:R,commandIndex:E}}(h,b,m),R=m.slice(E.commandIndex);if(E.match&&E.pathIndex<h.segments.length){const q=new Vt(h.segments.slice(0,E.pathIndex),{});return q.children[Oe]=new Vt(h.segments.slice(E.pathIndex),h.children),Ir(q,0,R)}return E.match&&0===R.length?new Vt(h.segments,{}):E.match&&!h.hasChildren()?ro(h,b,m):E.match?Ir(h,0,R):ro(h,b,m)}function Ir(h,b,m){if(0===m.length)return new Vt(h.segments,{});{const E=function Vo(h){return Cr(h[0])?h[0].outlets:{[Oe]:h}}(m),R={};if(Object.keys(E).some(q=>q!==Oe)&&h.children[Oe]&&1===h.numberOfChildren&&0===h.children[Oe].segments.length){const q=Ir(h.children[Oe],b,m);return new Vt(h.segments,q.children)}return Object.entries(E).forEach(([q,ee])=>{"string"==typeof ee&&(ee=[ee]),null!==ee&&(R[q]=yo(h.children[q],b,ee))}),Object.entries(h.children).forEach(([q,ee])=>{void 0===E[q]&&(R[q]=ee)}),new Vt(h.segments,R)}}function ro(h,b,m){const E=h.segments.slice(0,b);let R=0;for(;R<m.length;){const q=m[R];if(Cr(q)){const xe=Ko(q.outlets);return new Vt(E,xe)}if(0===R&&Nr(m[0])){E.push(new gn(h.segments[b].path,It(m[0]))),R++;continue}const ee=Cr(q)?q.outlets[Oe]:`${q}`,Ae=R<m.length-1?m[R+1]:null;ee&&Ae&&Nr(Ae)?(E.push(new gn(ee,It(Ae))),R+=2):(E.push(new gn(ee,{})),R++)}return new Vt(E,{})}function Ko(h){const b={};return Object.entries(h).forEach(([m,E])=>{"string"==typeof E&&(E=[E]),null!==E&&(b[m]=ro(new Vt([],{}),0,E))}),b}function It(h){const b={};return Object.entries(h).forEach(([m,E])=>b[m]=`${E}`),b}function Y(h,b,m){return h==m.path&&kt(b,m.parameters)}const ie="imperative";var Z=function(h){return h[h.NavigationStart=0]="NavigationStart",h[h.NavigationEnd=1]="NavigationEnd",h[h.NavigationCancel=2]="NavigationCancel",h[h.NavigationError=3]="NavigationError",h[h.RoutesRecognized=4]="RoutesRecognized",h[h.ResolveStart=5]="ResolveStart",h[h.ResolveEnd=6]="ResolveEnd",h[h.GuardsCheckStart=7]="GuardsCheckStart",h[h.GuardsCheckEnd=8]="GuardsCheckEnd",h[h.RouteConfigLoadStart=9]="RouteConfigLoadStart",h[h.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",h[h.ChildActivationStart=11]="ChildActivationStart",h[h.ChildActivationEnd=12]="ChildActivationEnd",h[h.ActivationStart=13]="ActivationStart",h[h.ActivationEnd=14]="ActivationEnd",h[h.Scroll=15]="Scroll",h[h.NavigationSkipped=16]="NavigationSkipped",h}(Z||{});class ke{constructor(b,m){this.id=b,this.url=m}}class qe extends ke{constructor(b,m,E="imperative",R=null){super(b,m),this.type=Z.NavigationStart,this.navigationTrigger=E,this.restoredState=R}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class We extends ke{constructor(b,m,E){super(b,m),this.urlAfterRedirects=E,this.type=Z.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var et=function(h){return h[h.Redirect=0]="Redirect",h[h.SupersededByNewNavigation=1]="SupersededByNewNavigation",h[h.NoDataFromResolver=2]="NoDataFromResolver",h[h.GuardRejected=3]="GuardRejected",h}(et||{}),Ft=function(h){return h[h.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",h[h.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",h}(Ft||{});class ht extends ke{constructor(b,m,E,R){super(b,m),this.reason=E,this.code=R,this.type=Z.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class jt extends ke{constructor(b,m,E,R){super(b,m),this.reason=E,this.code=R,this.type=Z.NavigationSkipped}}class bn extends ke{constructor(b,m,E,R){super(b,m),this.error=E,this.target=R,this.type=Z.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class zt extends ke{constructor(b,m,E,R){super(b,m),this.urlAfterRedirects=E,this.state=R,this.type=Z.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wn extends ke{constructor(b,m,E,R){super(b,m),this.urlAfterRedirects=E,this.state=R,this.type=Z.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dn extends ke{constructor(b,m,E,R,q){super(b,m),this.urlAfterRedirects=E,this.state=R,this.shouldActivate=q,this.type=Z.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $n extends ke{constructor(b,m,E,R){super(b,m),this.urlAfterRedirects=E,this.state=R,this.type=Z.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class St extends ke{constructor(b,m,E,R){super(b,m),this.urlAfterRedirects=E,this.state=R,this.type=Z.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lt{constructor(b){this.route=b,this.type=Z.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Vn{constructor(b){this.route=b,this.type=Z.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Et{constructor(b){this.snapshot=b,this.type=Z.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ct{constructor(b){this.snapshot=b,this.type=Z.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pr{constructor(b){this.snapshot=b,this.type=Z.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jr{constructor(b){this.snapshot=b,this.type=Z.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jr{constructor(b,m,E){this.routerEvent=b,this.position=m,this.anchor=E,this.type=Z.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class oo{}class kr{constructor(b,m){this.url=b,this.navigationBehaviorOptions=m}}function mr(h){return h.outlet||Oe}function io(h){if(!h)return null;if(h.routeConfig?._injector)return h.routeConfig._injector;for(let b=h.parent;b;b=b.parent){const m=b.routeConfig;if(m?._loadedInjector)return m._loadedInjector;if(m?._injector)return m._injector}return null}class Vi{get injector(){return io(this.route?.snapshot)??this.rootInjector}set injector(b){}constructor(b){this.rootInjector=b,this.outlet=null,this.route=null,this.children=new Lr(this.rootInjector),this.attachRef=null}}let Lr=(()=>{class h{constructor(m){this.rootInjector=m,this.contexts=new Map}onChildOutletCreated(m,E){const R=this.getOrCreateContext(m);R.outlet=E,this.contexts.set(m,R)}onChildOutletDestroyed(m){const E=this.getContext(m);E&&(E.outlet=null,E.attachRef=null)}onOutletDeactivated(){const m=this.contexts;return this.contexts=new Map,m}onOutletReAttached(m){this.contexts=m}getOrCreateContext(m){let E=this.getContext(m);return E||(E=new Vi(this.rootInjector),this.contexts.set(m,E)),E}getContext(m){return this.contexts.get(m)||null}static{this.\u0275fac=function(E){return new(E||h)(d.KVO(d.uvJ))}}static{this.\u0275prov=d.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})();class gr{constructor(b){this._root=b}get root(){return this._root.value}parent(b){const m=this.pathFromRoot(b);return m.length>1?m[m.length-2]:null}children(b){const m=Co(b,this._root);return m?m.children.map(E=>E.value):[]}firstChild(b){const m=Co(b,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(b){const m=zn(b,this._root);return m.length<2?[]:m[m.length-2].children.map(R=>R.value).filter(R=>R!==b)}pathFromRoot(b){return zn(b,this._root).map(m=>m.value)}}function Co(h,b){if(h===b.value)return b;for(const m of b.children){const E=Co(h,m);if(E)return E}return null}function zn(h,b){if(h===b.value)return[b];for(const m of b.children){const E=zn(h,m);if(E.length)return E.unshift(b),E}return[]}class or{constructor(b,m){this.value=b,this.children=m}toString(){return`TreeNode(${this.value})`}}function Fn(h){const b={};return h&&h.children.forEach(m=>b[m.value.outlet]=m),b}class Uo extends gr{constructor(b,m){super(b),this.snapshot=m,Zr(this,b)}toString(){return this.snapshot.toString()}}function mt(h){const b=function Zo(h){const q=new wo([],{},{},"",{},Oe,h,null,{});return new Mi("",new or(q,[]))}(h),m=new C.t([new gn("",{})]),E=new C.t({}),R=new C.t({}),q=new C.t({}),ee=new C.t(""),Ae=new Tr(m,E,q,ee,R,Oe,h,b.root);return Ae.snapshot=b.root,new Uo(new or(Ae,[]),b)}class Tr{constructor(b,m,E,R,q,ee,Ae,xe){this.urlSubject=b,this.paramsSubject=m,this.queryParamsSubject=E,this.fragmentSubject=R,this.dataSubject=q,this.outlet=ee,this.component=Ae,this._futureSnapshot=xe,this.title=this.dataSubject?.pipe((0,ve.T)(nt=>nt[ut]))??(0,H.of)(void 0),this.url=b,this.params=m,this.queryParams=E,this.fragment=R,this.data=q}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,ve.T)(b=>hn(b))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,ve.T)(b=>hn(b))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function po(h,b,m="emptyOnly"){let E;const{routeConfig:R}=h;return E=null===b||"always"!==m&&""!==R?.path&&(b.component||b.routeConfig?.loadComponent)?{params:{...h.params},data:{...h.data},resolve:{...h.data,...h._resolvedData??{}}}:{params:{...b.params,...h.params},data:{...b.data,...h.data},resolve:{...h.data,...b.data,...R?.data,...h._resolvedData}},R&&xo(R)&&(E.resolve[ut]=R.title),E}class wo{get title(){return this.data?.[ut]}constructor(b,m,E,R,q,ee,Ae,xe,nt){this.url=b,this.params=m,this.queryParams=E,this.fragment=R,this.data=q,this.outlet=ee,this.component=Ae,this.routeConfig=xe,this._resolve=nt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=hn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=hn(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(E=>E.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Mi extends gr{constructor(b,m){super(m),this.url=b,Zr(this,m)}toString(){return ei(this._root)}}function Zr(h,b){b.value._routerState=h,b.children.forEach(m=>Zr(h,m))}function ei(h){const b=h.children.length>0?` { ${h.children.map(ei).join(", ")} } `:"";return`${h.value}${b}`}function Ro(h){if(h.snapshot){const b=h.snapshot,m=h._futureSnapshot;h.snapshot=m,kt(b.queryParams,m.queryParams)||h.queryParamsSubject.next(m.queryParams),b.fragment!==m.fragment&&h.fragmentSubject.next(m.fragment),kt(b.params,m.params)||h.paramsSubject.next(m.params),function pn(h,b){if(h.length!==b.length)return!1;for(let m=0;m<h.length;++m)if(!kt(h[m],b[m]))return!1;return!0}(b.url,m.url)||h.urlSubject.next(m.url),kt(b.data,m.data)||h.dataSubject.next(m.data)}else h.snapshot=h._futureSnapshot,h.dataSubject.next(h._futureSnapshot.data)}function ti(h,b){const m=kt(h.params,b.params)&&function vo(h,b){return xn(h,b)&&h.every((m,E)=>kt(m.parameters,b[E].parameters))}(h.url,b.url);return m&&!(!h.parent!=!b.parent)&&(!h.parent||ti(h.parent,b.parent))}function xo(h){return"string"==typeof h.title||null===h.title}let Ti=(()=>{class h{constructor(){this.activated=null,this._activatedRoute=null,this.name=Oe,this.activateEvents=new d.bkB,this.deactivateEvents=new d.bkB,this.attachEvents=new d.bkB,this.detachEvents=new d.bkB,this.parentContexts=(0,d.WQX)(Lr),this.location=(0,d.WQX)(d.c1b),this.changeDetector=(0,d.WQX)(d.gRc),this.inputBinder=(0,d.WQX)(Bo,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(m){if(m.name){const{firstChange:E,previousValue:R}=m.name;if(E)return;this.isTrackedInParentContexts(R)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(R)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(m){return this.parentContexts.getContext(m)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const m=this.parentContexts.getContext(this.name);m?.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.wOt(4012,!1);this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,E){this.activated=m,this._activatedRoute=E,this.location.insert(m.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,E){if(this.isActivated)throw new d.wOt(4013,!1);this._activatedRoute=m;const R=this.location,ee=m.snapshot.component,Ae=this.parentContexts.getOrCreateContext(this.name).children,xe=new Wn(m,Ae,R.injector);this.activated=R.createComponent(ee,{index:R.length,injector:xe,environmentInjector:E}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(E){return new(E||h)}}static{this.\u0275dir=d.FsC({type:h,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.OA$]})}}return h})();class Wn{__ngOutletInjector(b){return new Wn(this.route,this.childContexts,b)}constructor(b,m,E){this.route=b,this.childContexts=m,this.parent=E}get(b,m){return b===Tr?this.route:b===Lr?this.childContexts:this.parent.get(b,m)}}const Bo=new d.nKC("");let An=(()=>{class h{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(m){this.unsubscribeFromRouteData(m),this.subscribeToRouteData(m)}unsubscribeFromRouteData(m){this.outletDataSubscriptions.get(m)?.unsubscribe(),this.outletDataSubscriptions.delete(m)}subscribeToRouteData(m){const{activatedRoute:E}=m,R=(0,K.z)([E.queryParams,E.params,E.data]).pipe((0,Pe.n)(([q,ee,Ae],xe)=>(Ae={...q,...ee,...Ae},0===xe?(0,H.of)(Ae):Promise.resolve(Ae)))).subscribe(q=>{if(!m.isActivated||!m.activatedComponentRef||m.activatedRoute!==E||null===E.component)return void this.unsubscribeFromRouteData(m);const ee=(0,d.HJs)(E.component);if(ee)for(const{templateName:Ae}of ee.inputs)m.activatedComponentRef.setInput(Ae,q[Ae]);else this.unsubscribeFromRouteData(m)});this.outletDataSubscriptions.set(m,R)}static{this.\u0275fac=function(E){return new(E||h)}}static{this.\u0275prov=d.jDH({token:h,factory:h.\u0275fac})}}return h})();function lr(h,b,m){if(m&&h.shouldReuseRoute(b.value,m.value.snapshot)){const E=m.value;E._futureSnapshot=b.value;const R=function ni(h,b,m){return b.children.map(E=>{for(const R of m.children)if(h.shouldReuseRoute(E.value,R.value.snapshot))return lr(h,E,R);return lr(h,E)})}(h,b,m);return new or(E,R)}{if(h.shouldAttach(b.value)){const q=h.retrieve(b.value);if(null!==q){const ee=q.route;return ee.value._futureSnapshot=b.value,ee.children=b.children.map(Ae=>lr(h,Ae)),ee}}const E=function Go(h){return new Tr(new C.t(h.url),new C.t(h.params),new C.t(h.queryParams),new C.t(h.fragment),new C.t(h.data),h.outlet,h.component,h)}(b.value),R=b.children.map(q=>lr(h,q));return new or(E,R)}}class so{constructor(b,m){this.redirectTo=b,this.navigationBehaviorOptions=m}}const di="ngNavigationCancelingError";function Ho(h,b){const{redirectTo:m,navigationBehaviorOptions:E}=Ln(b)?{redirectTo:b,navigationBehaviorOptions:void 0}:b,R=Ui(!1,et.Redirect);return R.url=m,R.navigationBehaviorOptions=E,R}function Ui(h,b){const m=new Error(`NavigationCancelingError: ${h||""}`);return m[di]=!0,m.cancellationCode=b,m}function Do(h){return!!h&&h[di]}class g{constructor(b,m,E,R,q){this.routeReuseStrategy=b,this.futureState=m,this.currState=E,this.forwardEvent=R,this.inputBindingEnabled=q}activate(b){const m=this.futureState._root,E=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,E,b),Ro(this.futureState.root),this.activateChildRoutes(m,E,b)}deactivateChildRoutes(b,m,E){const R=Fn(m);b.children.forEach(q=>{const ee=q.value.outlet;this.deactivateRoutes(q,R[ee],E),delete R[ee]}),Object.values(R).forEach(q=>{this.deactivateRouteAndItsChildren(q,E)})}deactivateRoutes(b,m,E){const R=b.value,q=m?m.value:null;if(R===q)if(R.component){const ee=E.getContext(R.outlet);ee&&this.deactivateChildRoutes(b,m,ee.children)}else this.deactivateChildRoutes(b,m,E);else q&&this.deactivateRouteAndItsChildren(m,E)}deactivateRouteAndItsChildren(b,m){b.value.component&&this.routeReuseStrategy.shouldDetach(b.value.snapshot)?this.detachAndStoreRouteSubtree(b,m):this.deactivateRouteAndOutlet(b,m)}detachAndStoreRouteSubtree(b,m){const E=m.getContext(b.value.outlet),R=E&&b.value.component?E.children:m,q=Fn(b);for(const ee of Object.values(q))this.deactivateRouteAndItsChildren(ee,R);if(E&&E.outlet){const ee=E.outlet.detach(),Ae=E.children.onOutletDeactivated();this.routeReuseStrategy.store(b.value.snapshot,{componentRef:ee,route:b,contexts:Ae})}}deactivateRouteAndOutlet(b,m){const E=m.getContext(b.value.outlet),R=E&&b.value.component?E.children:m,q=Fn(b);for(const ee of Object.values(q))this.deactivateRouteAndItsChildren(ee,R);E&&(E.outlet&&(E.outlet.deactivate(),E.children.onOutletDeactivated()),E.attachRef=null,E.route=null)}activateChildRoutes(b,m,E){const R=Fn(m);b.children.forEach(q=>{this.activateRoutes(q,R[q.value.outlet],E),this.forwardEvent(new Jr(q.value.snapshot))}),b.children.length&&this.forwardEvent(new ct(b.value.snapshot))}activateRoutes(b,m,E){const R=b.value,q=m?m.value:null;if(Ro(R),R===q)if(R.component){const ee=E.getOrCreateContext(R.outlet);this.activateChildRoutes(b,m,ee.children)}else this.activateChildRoutes(b,m,E);else if(R.component){const ee=E.getOrCreateContext(R.outlet);if(this.routeReuseStrategy.shouldAttach(R.snapshot)){const Ae=this.routeReuseStrategy.retrieve(R.snapshot);this.routeReuseStrategy.store(R.snapshot,null),ee.children.onOutletReAttached(Ae.contexts),ee.attachRef=Ae.componentRef,ee.route=Ae.route.value,ee.outlet&&ee.outlet.attach(Ae.componentRef,Ae.route.value),Ro(Ae.route.value),this.activateChildRoutes(b,null,ee.children)}else ee.attachRef=null,ee.route=R,ee.outlet&&ee.outlet.activateWith(R,ee.injector),this.activateChildRoutes(b,null,ee.children)}else this.activateChildRoutes(b,null,E)}}class y{constructor(b){this.path=b,this.route=this.path[this.path.length-1]}}class k{constructor(b,m){this.component=b,this.route=m}}function $(h,b,m){const E=h._root;return ce(E,b?b._root:null,m,[E.value])}function X(h,b){const m=Symbol(),E=b.get(h,m);return E===m?"function"!=typeof h||(0,d.LfX)(h)?b.get(h):h:E}function ce(h,b,m,E,R={canDeactivateChecks:[],canActivateChecks:[]}){const q=Fn(b);return h.children.forEach(ee=>{(function Ce(h,b,m,E,R={canDeactivateChecks:[],canActivateChecks:[]}){const q=h.value,ee=b?b.value:null,Ae=m?m.getContext(h.value.outlet):null;if(ee&&q.routeConfig===ee.routeConfig){const xe=function oe(h,b,m){if("function"==typeof m)return m(h,b);switch(m){case"pathParamsChange":return!xn(h.url,b.url);case"pathParamsOrQueryParamsChange":return!xn(h.url,b.url)||!kt(h.queryParams,b.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ti(h,b)||!kt(h.queryParams,b.queryParams);default:return!ti(h,b)}}(ee,q,q.routeConfig.runGuardsAndResolvers);xe?R.canActivateChecks.push(new y(E)):(q.data=ee.data,q._resolvedData=ee._resolvedData),ce(h,b,q.component?Ae?Ae.children:null:m,E,R),xe&&Ae&&Ae.outlet&&Ae.outlet.isActivated&&R.canDeactivateChecks.push(new k(Ae.outlet.component,ee))}else ee&&$e(b,Ae,R),R.canActivateChecks.push(new y(E)),ce(h,null,q.component?Ae?Ae.children:null:m,E,R)})(ee,q[ee.value.outlet],m,E.concat([ee.value]),R),delete q[ee.value.outlet]}),Object.entries(q).forEach(([ee,Ae])=>$e(Ae,m.getContext(ee),R)),R}function $e(h,b,m){const E=Fn(h),R=h.value;Object.entries(E).forEach(([q,ee])=>{$e(ee,R.component?b?b.children.getContext(q):null:b,m)}),m.canDeactivateChecks.push(new k(R.component&&b&&b.outlet&&b.outlet.isActivated?b.outlet.component:null,R))}function ft(h){return"function"==typeof h}function mo(h){return h instanceof se.G||"EmptyError"===h?.name}const ir=Symbol("INITIAL_VALUE");function Hn(){return(0,Pe.n)(h=>(0,K.z)(h.map(b=>b.pipe((0,ot.s)(1),(0,Xe.Z)(ir)))).pipe((0,ve.T)(b=>{for(const m of b)if(!0!==m){if(m===ir)return ir;if(!1===m||M(m))return m}return!0}),(0,Ve.p)(b=>b!==ir),(0,ot.s)(1)))}function M(h){return Ln(h)||h instanceof so}function ra(h){return(0,_e.F)((0,Nt.M)(b=>{if("boolean"!=typeof b)throw Ho(0,b)}),(0,ve.T)(b=>!0===b))}class Bi{constructor(b){this.segmentGroup=b||null}}class ts extends Error{constructor(b){super(),this.urlTree=b}}function Si(h){return(0,De.$)(new Bi(h))}class ia{constructor(b,m){this.urlSerializer=b,this.urlTree=m}lineralizeSegments(b,m){let E=[],R=m.root;for(;;){if(E=E.concat(R.segments),0===R.numberOfChildren)return(0,H.of)(E);if(R.numberOfChildren>1||!R.children[Oe])return(0,De.$)(new d.wOt(4e3,!1));R=R.children[Oe]}}applyRedirectCommands(b,m,E,R,q){if("string"!=typeof m){const Ae=m,{queryParams:xe,fragment:nt,routeConfig:Rt,url:Yt,outlet:Xn,params:yi,data:Br,title:bi}=R,Fo=(0,d.N4e)(q,()=>Ae({params:yi,data:Br,queryParams:xe,fragment:nt,routeConfig:Rt,url:Yt,outlet:Xn,title:bi}));if(Fo instanceof nr)throw new ts(Fo);m=Fo}const ee=this.applyRedirectCreateUrlTree(m,this.urlSerializer.parse(m),b,E);if("/"===m[0])throw new ts(ee);return ee}applyRedirectCreateUrlTree(b,m,E,R){const q=this.createSegmentGroup(b,m.root,E,R);return new nr(q,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(b,m){const E={};return Object.entries(b).forEach(([R,q])=>{if("string"==typeof q&&":"===q[0]){const Ae=q.substring(1);E[R]=m[Ae]}else E[R]=q}),E}createSegmentGroup(b,m,E,R){const q=this.createSegments(b,m.segments,E,R);let ee={};return Object.entries(m.children).forEach(([Ae,xe])=>{ee[Ae]=this.createSegmentGroup(b,xe,E,R)}),new Vt(q,ee)}createSegments(b,m,E,R){return m.map(q=>":"===q.path[0]?this.findPosParam(b,q,R):this.findOrReturn(q,E))}findPosParam(b,m,E){const R=E[m.path.substring(1)];if(!R)throw new d.wOt(4001,!1);return R}findOrReturn(b,m){let E=0;for(const R of m){if(R.path===b.path)return m.splice(E),R;E++}return b}}const Gt={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function sr(h,b,m,E,R){const q=wr(h,b,m);return q.matched?(E=function Lt(h,b){return h.providers&&!h._injector&&(h._injector=(0,d.Ol2)(h.providers,b,`Route: ${h.path}`)),h._injector??b}(b,E),function Va(h,b,m,E){const R=b.canMatch;if(!R||0===R.length)return(0,H.of)(!0);const q=R.map(ee=>{const Ae=X(ee,h);return Pt(function eo(h){return h&&ft(h.canMatch)}(Ae)?Ae.canMatch(b,m):(0,d.N4e)(h,()=>Ae(b,m)))});return(0,H.of)(q).pipe(Hn(),ra())}(E,b,m).pipe((0,ve.T)(ee=>!0===ee?q:{...Gt}))):(0,H.of)(q)}function wr(h,b,m){if("**"===b.path)return function pi(h){return{matched:!0,parameters:h.length>0?Jt(h).parameters:{},consumedSegments:h,remainingSegments:[],positionalParamSegments:{}}}(m);if(""===b.path)return"full"===b.pathMatch&&(h.hasChildren()||m.length>0)?{...Gt}:{matched:!0,consumedSegments:[],remainingSegments:m,parameters:{},positionalParamSegments:{}};const R=(b.matcher||Dt)(m,h,b);if(!R)return{...Gt};const q={};Object.entries(R.posParams??{}).forEach(([Ae,xe])=>{q[Ae]=xe.path});const ee=R.consumed.length>0?{...q,...R.consumed[R.consumed.length-1].parameters}:q;return{matched:!0,consumedSegments:R.consumed,remainingSegments:m.slice(R.consumed.length),parameters:ee,positionalParamSegments:R.posParams??{}}}function Sr(h,b,m,E){return m.length>0&&function Gi(h,b,m){return m.some(E=>Hi(h,b,E)&&mr(E)!==Oe)}(h,m,E)?{segmentGroup:new Vt(b,gs(E,new Vt(m,h.children))),slicedSegments:[]}:0===m.length&&function sa(h,b,m){return m.some(E=>Hi(h,b,E))}(h,m,E)?{segmentGroup:new Vt(h.segments,rs(h,m,E,h.children)),slicedSegments:m}:{segmentGroup:new Vt(h.segments,h.children),slicedSegments:m}}function rs(h,b,m,E){const R={};for(const q of m)if(Hi(h,b,q)&&!E[mr(q)]){const ee=new Vt([],{});R[mr(q)]=ee}return{...E,...R}}function gs(h,b){const m={};m[Oe]=b;for(const E of h)if(""===E.path&&mr(E)!==Oe){const R=new Vt([],{});m[mr(E)]=R}return m}function Hi(h,b,m){return(!(h.hasChildren()||b.length>0)||"full"!==m.pathMatch)&&""===m.path}class Ua{}class vs{constructor(b,m,E,R,q,ee,Ae){this.injector=b,this.configLoader=m,this.rootComponentType=E,this.config=R,this.urlTree=q,this.paramsInheritanceStrategy=ee,this.urlSerializer=Ae,this.applyRedirects=new ia(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(b){return new d.wOt(4002,`'${b.segmentGroup}'`)}recognize(){const b=Sr(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(b).pipe((0,ve.T)(({children:m,rootSnapshot:E})=>{const R=new or(E,m),q=new Mi("",R),ee=function wt(h,b,m=null,E=null){return Xo(_o(h),b,m,E)}(E,[],this.urlTree.queryParams,this.urlTree.fragment);return ee.queryParams=this.urlTree.queryParams,q.url=this.urlSerializer.serialize(ee),{state:q,tree:ee}}))}match(b){const m=new wo([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Oe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,b,Oe,m).pipe((0,ve.T)(E=>({children:E,rootSnapshot:m})),(0,xt.W)(E=>{if(E instanceof ts)return this.urlTree=E.urlTree,this.match(E.urlTree.root);throw E instanceof Bi?this.noMatchError(E):E}))}processSegmentGroup(b,m,E,R,q){return 0===E.segments.length&&E.hasChildren()?this.processChildren(b,m,E,q):this.processSegment(b,m,E,E.segments,R,!0,q).pipe((0,ve.T)(ee=>ee instanceof or?[ee]:[]))}processChildren(b,m,E,R){const q=[];for(const ee of Object.keys(E.children))"primary"===ee?q.unshift(ee):q.push(ee);return(0,A.H)(q).pipe((0,at.H)(ee=>{const Ae=E.children[ee],xe=function Kt(h,b){const m=h.filter(E=>mr(E)===b);return m.push(...h.filter(E=>mr(E)!==b)),m}(m,ee);return this.processSegmentGroup(b,xe,Ae,ee,R)}),(0,qt.S)((ee,Ae)=>(ee.push(...Ae),ee)),(0,tr.U)(null),function To(h,b){const m=arguments.length>=2;return E=>E.pipe(h?(0,Ve.p)((R,q)=>h(R,q,E)):Rr.D,qn(1),m?(0,tr.U)(b):(0,yr.v)(()=>new se.G))}(),(0,Ye.Z)(ee=>{if(null===ee)return Si(E);const Ae=la(ee);return function Ql(h){h.sort((b,m)=>b.value.outlet===Oe?-1:m.value.outlet===Oe?1:b.value.outlet.localeCompare(m.value.outlet))}(Ae),(0,H.of)(Ae)}))}processSegment(b,m,E,R,q,ee,Ae){return(0,A.H)(m).pipe((0,at.H)(xe=>this.processSegmentAgainstRoute(xe._injector??b,m,xe,E,R,q,ee,Ae).pipe((0,xt.W)(nt=>{if(nt instanceof Bi)return(0,H.of)(null);throw nt}))),(0,Qe.$)(xe=>!!xe),(0,xt.W)(xe=>{if(mo(xe))return function Po(h,b,m){return 0===b.length&&!h.children[m]}(E,R,q)?(0,H.of)(new Ua):Si(E);throw xe}))}processSegmentAgainstRoute(b,m,E,R,q,ee,Ae,xe){return mr(E)===ee||ee!==Oe&&Hi(R,q,E)?void 0===E.redirectTo?this.matchSegmentAgainstRoute(b,R,E,q,ee,xe):this.allowRedirects&&Ae?this.expandSegmentAgainstRouteUsingRedirect(b,R,m,E,q,ee,xe):Si(R):Si(R)}expandSegmentAgainstRouteUsingRedirect(b,m,E,R,q,ee,Ae){const{matched:xe,parameters:nt,consumedSegments:Rt,positionalParamSegments:Yt,remainingSegments:Xn}=wr(m,R,q);if(!xe)return Si(m);"string"==typeof R.redirectTo&&"/"===R.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const yi=new wo(q,nt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_s(R),mr(R),R.component??R._loadedComponent??null,R,ys(R)),Br=po(yi,Ae,this.paramsInheritanceStrategy);yi.params=Object.freeze(Br.params),yi.data=Object.freeze(Br.data);const bi=this.applyRedirects.applyRedirectCommands(Rt,R.redirectTo,Yt,yi,b);return this.applyRedirects.lineralizeSegments(R,bi).pipe((0,Ye.Z)(Fo=>this.processSegment(b,E,m,Fo.concat(Xn),ee,!1,Ae)))}matchSegmentAgainstRoute(b,m,E,R,q,ee){const Ae=sr(m,E,R,b);return"**"===E.path&&(m.children={}),Ae.pipe((0,Pe.n)(xe=>xe.matched?this.getChildConfig(b=E._injector??b,E,R).pipe((0,Pe.n)(({routes:nt})=>{const Rt=E._loadedInjector??b,{parameters:Yt,consumedSegments:Xn,remainingSegments:yi}=xe,Br=new wo(Xn,Yt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_s(E),mr(E),E.component??E._loadedComponent??null,E,ys(E)),bi=po(Br,ee,this.paramsInheritanceStrategy);Br.params=Object.freeze(bi.params),Br.data=Object.freeze(bi.data);const{segmentGroup:Fo,slicedSegments:as}=Sr(m,Xn,yi,nt);if(0===as.length&&Fo.hasChildren())return this.processChildren(Rt,nt,Fo,Br).pipe((0,ve.T)(zs=>new or(Br,zs)));if(0===nt.length&&0===as.length)return(0,H.of)(new or(Br,[]));const Zl=mr(E)===q;return this.processSegment(Rt,nt,Fo,as,Zl?Oe:q,!0,Br).pipe((0,ve.T)(zs=>new or(Br,zs instanceof or?[zs]:[])))})):Si(m)))}getChildConfig(b,m,E){return m.children?(0,H.of)({routes:m.children,injector:b}):m.loadChildren?void 0!==m._loadedRoutes?(0,H.of)({routes:m._loadedRoutes,injector:m._loadedInjector}):function es(h,b,m,E){const R=b.canLoad;if(void 0===R||0===R.length)return(0,H.of)(!0);const q=R.map(ee=>{const Ae=X(ee,h);return Pt(function _t(h){return h&&ft(h.canLoad)}(Ae)?Ae.canLoad(b,m):(0,d.N4e)(h,()=>Ae(b,m)))});return(0,H.of)(q).pipe(Hn(),ra())}(b,m,E).pipe((0,Ye.Z)(R=>R?this.configLoader.loadChildren(b,m).pipe((0,Nt.M)(q=>{m._loadedRoutes=q.routes,m._loadedInjector=q.injector})):function oa(){return(0,De.$)(Ui(!1,et.GuardRejected))}())):(0,H.of)({routes:[],injector:b})}}function $s(h){const b=h.value.routeConfig;return b&&""===b.path}function la(h){const b=[],m=new Set;for(const E of h){if(!$s(E)){b.push(E);continue}const R=b.find(q=>E.value.routeConfig===q.value.routeConfig);void 0!==R?(R.children.push(...E.children),m.add(R)):b.push(E)}for(const E of m){const R=la(E.children);b.push(new or(E.value,R))}return b.filter(E=>!m.has(E))}function _s(h){return h.data||{}}function ys(h){return h.resolve||{}}function os(h){const b=h.children.map(m=>os(m)).flat();return[h,...b]}function qi(h){return(0,Pe.n)(b=>{const m=h(b);return m?(0,A.H)(m).pipe((0,ve.T)(()=>b)):(0,H.of)(b)})}let go=(()=>{class h{buildTitle(m){let E,R=m.root;for(;void 0!==R;)E=this.getResolvedTitleForRoute(R)??E,R=R.children.find(q=>q.outlet===Oe);return E}getResolvedTitleForRoute(m){return m.data[ut]}static{this.\u0275fac=function(E){return new(E||h)}}static{this.\u0275prov=d.jDH({token:h,factory:()=>(0,d.WQX)(zi),providedIn:"root"})}}return h})(),zi=(()=>{class h extends go{constructor(m){super(),this.title=m}updateTitle(m){const E=this.buildTitle(m);void 0!==E&&this.title.setTitle(E)}static{this.\u0275fac=function(E){return new(E||h)(d.KVO(Ke.hE))}}static{this.\u0275prov=d.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})();const mi=new d.nKC("",{providedIn:"root",factory:()=>({})});let da=(()=>{class h{static{this.\u0275fac=function(E){return new(E||h)}}static{this.\u0275cmp=d.VBU({type:h,selectors:[["ng-component"]],standalone:!0,features:[d.aNF],decls:1,vars:0,template:function(E,R){1&E&&d.nrm(0,"router-outlet")},dependencies:[Ti],encapsulation:2})}}return h})();function Vs(h){const b=h.children&&h.children.map(Vs),m=b?{...h,children:b}:{...h};return!m.component&&!m.loadComponent&&(b||m.loadChildren)&&m.outlet&&m.outlet!==Oe&&(m.component=da),m}const Ri=new d.nKC("");let gi=(()=>{class h{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.WQX)(d.Ql9)}loadComponent(m){if(this.componentLoaders.get(m))return this.componentLoaders.get(m);if(m._loadedComponent)return(0,H.of)(m._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(m);const E=Pt(m.loadComponent()).pipe((0,ve.T)(fa),(0,Nt.M)(q=>{this.onLoadEndListener&&this.onLoadEndListener(m),m._loadedComponent=q}),(0,Me.j)(()=>{this.componentLoaders.delete(m)})),R=new me(E,()=>new ue.B).pipe(G());return this.componentLoaders.set(m,R),R}loadChildren(m,E){if(this.childrenLoaders.get(E))return this.childrenLoaders.get(E);if(E._loadedRoutes)return(0,H.of)({routes:E._loadedRoutes,injector:E._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(E);const q=function Ga(h,b,m,E){return Pt(h.loadChildren()).pipe((0,ve.T)(fa),(0,Ye.Z)(R=>R instanceof d.Co$||Array.isArray(R)?(0,H.of)(R):(0,A.H)(b.compileModuleAsync(R))),(0,ve.T)(R=>{E&&E(h);let q,ee,Ae=!1;return Array.isArray(R)?(ee=R,!0):(q=R.create(m).injector,ee=q.get(Ri,[],{optional:!0,self:!0}).flat()),{routes:ee.map(Vs),injector:q}}))}(E,this.compiler,m,this.onLoadEndListener).pipe((0,Me.j)(()=>{this.childrenLoaders.delete(E)})),ee=new me(q,()=>new ue.B).pipe(G());return this.childrenLoaders.set(E,ee),ee}static{this.\u0275fac=function(E){return new(E||h)}}static{this.\u0275prov=d.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})();function fa(h){return function Ha(h){return h&&"object"==typeof h&&"default"in h}(h)?h.default:h}let vi=(()=>{class h{static{this.\u0275fac=function(E){return new(E||h)}}static{this.\u0275prov=d.jDH({token:h,factory:()=>(0,d.WQX)(qa),providedIn:"root"})}}return h})(),qa=(()=>{class h{shouldProcessUrl(m){return!0}extract(m){return m}merge(m,E){return m}static{this.\u0275fac=function(E){return new(E||h)}}static{this.\u0275prov=d.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})();const is=new d.nKC(""),ri=new d.nKC("");function Ni(h,b,m){const E=h.get(ri),R=h.get(Ee.qQ);return h.get(d.SKi).runOutsideAngular(()=>{if(!R.startViewTransition||E.skipNextTransition)return E.skipNextTransition=!1,new Promise(nt=>setTimeout(nt));let q;const ee=new Promise(nt=>{q=nt}),Ae=R.startViewTransition(()=>(q(),function za(h){return new Promise(b=>{(0,d.mal)({read:()=>setTimeout(b)},{injector:h})})}(h))),{onViewTransitionCreated:xe}=E;return xe&&(0,d.N4e)(h,()=>xe({transition:Ae,from:b,to:m})),ee})}const _=new d.nKC("");let j=(()=>{class h{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ue.B,this.transitionAbortSubject=new ue.B,this.configLoader=(0,d.WQX)(gi),this.environmentInjector=(0,d.WQX)(d.uvJ),this.urlSerializer=(0,d.WQX)(vn),this.rootContexts=(0,d.WQX)(Lr),this.location=(0,d.WQX)(Ee.aZ),this.inputBindingEnabled=null!==(0,d.WQX)(Bo,{optional:!0}),this.titleStrategy=(0,d.WQX)(go),this.options=(0,d.WQX)(mi,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,d.WQX)(vi),this.createViewTransition=(0,d.WQX)(is,{optional:!0}),this.navigationErrorHandler=(0,d.WQX)(_,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,H.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=R=>this.events.next(new Vn(R)),this.configLoader.onLoadStartListener=R=>this.events.next(new lt(R))}complete(){this.transitions?.complete()}handleNavigationRequest(m){const E=++this.navigationId;this.transitions?.next({...this.transitions.value,...m,id:E})}setupNavigations(m,E,R){return this.transitions=new C.t({id:0,currentUrlTree:E,currentRawUrl:E,extractedUrl:this.urlHandlingStrategy.extract(E),urlAfterRedirects:this.urlHandlingStrategy.extract(E),rawUrl:E,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ie,restoredState:null,currentSnapshot:R.snapshot,targetSnapshot:null,currentRouterState:R,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ve.p)(q=>0!==q.id),(0,ve.T)(q=>({...q,extractedUrl:this.urlHandlingStrategy.extract(q.rawUrl)})),(0,Pe.n)(q=>{let ee=!1,Ae=!1;return(0,H.of)(q).pipe((0,Pe.n)(xe=>{if(this.navigationId>q.id)return this.cancelNavigationTransition(q,"",et.SupersededByNewNavigation),be.w;this.currentTransition=q,this.currentNavigation={id:xe.id,initialUrl:xe.rawUrl,extractedUrl:xe.extractedUrl,targetBrowserUrl:"string"==typeof xe.extras.browserUrl?this.urlSerializer.parse(xe.extras.browserUrl):xe.extras.browserUrl,trigger:xe.source,extras:xe.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const nt=!m.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!nt&&"reload"!==(xe.extras.onSameUrlNavigation??m.onSameUrlNavigation)){const Yt="";return this.events.next(new jt(xe.id,this.urlSerializer.serialize(xe.rawUrl),Yt,Ft.IgnoredSameUrlNavigation)),xe.resolve(!1),be.w}if(this.urlHandlingStrategy.shouldProcessUrl(xe.rawUrl))return(0,H.of)(xe).pipe((0,Pe.n)(Yt=>{const Xn=this.transitions?.getValue();return this.events.next(new qe(Yt.id,this.urlSerializer.serialize(Yt.extractedUrl),Yt.source,Yt.restoredState)),Xn!==this.transitions?.getValue()?be.w:Promise.resolve(Yt)}),function hi(h,b,m,E,R,q){return(0,Ye.Z)(ee=>function Ls(h,b,m,E,R,q,ee="emptyOnly"){return new vs(h,b,m,E,R,ee,q).recognize()}(h,b,m,E,ee.extractedUrl,R,q).pipe((0,ve.T)(({state:Ae,tree:xe})=>({...ee,targetSnapshot:Ae,urlAfterRedirects:xe}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,m.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,Nt.M)(Yt=>{q.targetSnapshot=Yt.targetSnapshot,q.urlAfterRedirects=Yt.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Yt.urlAfterRedirects};const Xn=new zt(Yt.id,this.urlSerializer.serialize(Yt.extractedUrl),this.urlSerializer.serialize(Yt.urlAfterRedirects),Yt.targetSnapshot);this.events.next(Xn)}));if(nt&&this.urlHandlingStrategy.shouldProcessUrl(xe.currentRawUrl)){const{id:Yt,extractedUrl:Xn,source:yi,restoredState:Br,extras:bi}=xe,Fo=new qe(Yt,this.urlSerializer.serialize(Xn),yi,Br);this.events.next(Fo);const as=mt(this.rootComponentType).snapshot;return this.currentTransition=q={...xe,targetSnapshot:as,urlAfterRedirects:Xn,extras:{...bi,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Xn,(0,H.of)(q)}{const Yt="";return this.events.next(new jt(xe.id,this.urlSerializer.serialize(xe.extractedUrl),Yt,Ft.IgnoredByUrlHandlingStrategy)),xe.resolve(!1),be.w}}),(0,Nt.M)(xe=>{const nt=new wn(xe.id,this.urlSerializer.serialize(xe.extractedUrl),this.urlSerializer.serialize(xe.urlAfterRedirects),xe.targetSnapshot);this.events.next(nt)}),(0,ve.T)(xe=>(this.currentTransition=q={...xe,guards:$(xe.targetSnapshot,xe.currentSnapshot,this.rootContexts)},q)),function S(h,b){return(0,Ye.Z)(m=>{const{targetSnapshot:E,currentSnapshot:R,guards:{canActivateChecks:q,canDeactivateChecks:ee}}=m;return 0===ee.length&&0===q.length?(0,H.of)({...m,guardsResult:!0}):function w(h,b,m,E){return(0,A.H)(h).pipe((0,Ye.Z)(R=>function fi(h,b,m,E,R){const q=b&&b.routeConfig?b.routeConfig.canDeactivate:null;if(!q||0===q.length)return(0,H.of)(!0);const ee=q.map(Ae=>{const xe=io(b)??R,nt=X(Ae,xe);return Pt(function $r(h){return h&&ft(h.canDeactivate)}(nt)?nt.canDeactivate(h,b,m,E):(0,d.N4e)(xe,()=>nt(h,b,m,E))).pipe((0,Qe.$)())});return(0,H.of)(ee).pipe(Hn())}(R.component,R.route,m,b,E)),(0,Qe.$)(R=>!0!==R,!0))}(ee,E,R,h).pipe((0,Ye.Z)(Ae=>Ae&&function yt(h){return"boolean"==typeof h}(Ae)?function B(h,b,m,E){return(0,A.H)(b).pipe((0,at.H)(R=>(0,he.x)(function pt(h,b){return null!==h&&b&&b(new Et(h)),(0,H.of)(!0)}(R.route.parent,E),function de(h,b){return null!==h&&b&&b(new pr(h)),(0,H.of)(!0)}(R.route,E),function No(h,b,m){const E=b[b.length-1],q=b.slice(0,b.length-1).reverse().map(ee=>function z(h){const b=h.routeConfig?h.routeConfig.canActivateChild:null;return b&&0!==b.length?{node:h,guards:b}:null}(ee)).filter(ee=>null!==ee).map(ee=>(0,Q.v)(()=>{const Ae=ee.guards.map(xe=>{const nt=io(ee.node)??m,Rt=X(xe,nt);return Pt(function Wt(h){return h&&ft(h.canActivateChild)}(Rt)?Rt.canActivateChild(E,h):(0,d.N4e)(nt,()=>Rt(E,h))).pipe((0,Qe.$)())});return(0,H.of)(Ae).pipe(Hn())}));return(0,H.of)(q).pipe(Hn())}(h,R.path,m),function Qt(h,b,m){const E=b.routeConfig?b.routeConfig.canActivate:null;if(!E||0===E.length)return(0,H.of)(!0);const R=E.map(q=>(0,Q.v)(()=>{const ee=io(b)??m,Ae=X(q,ee);return Pt(function fn(h){return h&&ft(h.canActivate)}(Ae)?Ae.canActivate(b,h):(0,d.N4e)(ee,()=>Ae(b,h))).pipe((0,Qe.$)())}));return(0,H.of)(R).pipe(Hn())}(h,R.route,m))),(0,Qe.$)(R=>!0!==R,!0))}(E,q,h,b):(0,H.of)(Ae)),(0,ve.T)(Ae=>({...m,guardsResult:Ae})))})}(this.environmentInjector,xe=>this.events.next(xe)),(0,Nt.M)(xe=>{if(q.guardsResult=xe.guardsResult,xe.guardsResult&&"boolean"!=typeof xe.guardsResult)throw Ho(0,xe.guardsResult);const nt=new Dn(xe.id,this.urlSerializer.serialize(xe.extractedUrl),this.urlSerializer.serialize(xe.urlAfterRedirects),xe.targetSnapshot,!!xe.guardsResult);this.events.next(nt)}),(0,Ve.p)(xe=>!!xe.guardsResult||(this.cancelNavigationTransition(xe,"",et.GuardRejected),!1)),qi(xe=>{if(xe.guards.canActivateChecks.length)return(0,H.of)(xe).pipe((0,Nt.M)(nt=>{const Rt=new $n(nt.id,this.urlSerializer.serialize(nt.extractedUrl),this.urlSerializer.serialize(nt.urlAfterRedirects),nt.targetSnapshot);this.events.next(Rt)}),(0,Pe.n)(nt=>{let Rt=!1;return(0,H.of)(nt).pipe(function Ba(h,b){return(0,Ye.Z)(m=>{const{targetSnapshot:E,guards:{canActivateChecks:R}}=m;if(!R.length)return(0,H.of)(m);const q=new Set(R.map(xe=>xe.route)),ee=new Set;for(const xe of q)if(!ee.has(xe))for(const nt of os(xe))ee.add(nt);let Ae=0;return(0,A.H)(ee).pipe((0,at.H)(xe=>q.has(xe)?function bs(h,b,m,E){const R=h.routeConfig,q=h._resolve;return void 0!==R?.title&&!xo(R)&&(q[ut]=R.title),function ca(h,b,m,E){const R=kn(h);if(0===R.length)return(0,H.of)({});const q={};return(0,A.H)(R).pipe((0,Ye.Z)(ee=>function Es(h,b,m,E){const R=io(b)??E,q=X(h,R);return Pt(q.resolve?q.resolve(b,m):(0,d.N4e)(R,()=>q(b,m)))}(h[ee],b,m,E).pipe((0,Qe.$)(),(0,Nt.M)(Ae=>{if(Ae instanceof so)throw Ho(new rn,Ae);q[ee]=Ae}))),qn(1),function Ie(h){return(0,ve.T)(()=>h)}(q),(0,xt.W)(ee=>mo(ee)?be.w:(0,De.$)(ee)))}(q,h,b,E).pipe((0,ve.T)(ee=>(h._resolvedData=ee,h.data=po(h,h.parent,m).resolve,null)))}(xe,E,h,b):(xe.data=po(xe,xe.parent,h).resolve,(0,H.of)(void 0))),(0,Nt.M)(()=>Ae++),qn(1),(0,Ye.Z)(xe=>Ae===ee.size?(0,H.of)(m):be.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,Nt.M)({next:()=>Rt=!0,complete:()=>{Rt||this.cancelNavigationTransition(nt,"",et.NoDataFromResolver)}}))}),(0,Nt.M)(nt=>{const Rt=new St(nt.id,this.urlSerializer.serialize(nt.extractedUrl),this.urlSerializer.serialize(nt.urlAfterRedirects),nt.targetSnapshot);this.events.next(Rt)}))}),qi(xe=>{const nt=Rt=>{const Yt=[];Rt.routeConfig?.loadComponent&&!Rt.routeConfig._loadedComponent&&Yt.push(this.configLoader.loadComponent(Rt.routeConfig).pipe((0,Nt.M)(Xn=>{Rt.component=Xn}),(0,ve.T)(()=>{})));for(const Xn of Rt.children)Yt.push(...nt(Xn));return Yt};return(0,K.z)(nt(xe.targetSnapshot.root)).pipe((0,tr.U)(null),(0,ot.s)(1))}),qi(()=>this.afterPreactivation()),(0,Pe.n)(()=>{const{currentSnapshot:xe,targetSnapshot:nt}=q,Rt=this.createViewTransition?.(this.environmentInjector,xe.root,nt.root);return Rt?(0,A.H)(Rt).pipe((0,ve.T)(()=>q)):(0,H.of)(q)}),(0,ve.T)(xe=>{const nt=function ho(h,b,m){const E=lr(h,b._root,m?m._root:void 0);return new Uo(E,b)}(m.routeReuseStrategy,xe.targetSnapshot,xe.currentRouterState);return this.currentTransition=q={...xe,targetRouterState:nt},this.currentNavigation.targetRouterState=nt,q}),(0,Nt.M)(()=>{this.events.next(new oo)}),((h,b,m,E)=>(0,ve.T)(R=>(new g(b,R.targetRouterState,R.currentRouterState,m,E).activate(h),R)))(this.rootContexts,m.routeReuseStrategy,xe=>this.events.next(xe),this.inputBindingEnabled),(0,ot.s)(1),(0,Nt.M)({next:xe=>{ee=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new We(xe.id,this.urlSerializer.serialize(xe.extractedUrl),this.urlSerializer.serialize(xe.urlAfterRedirects))),this.titleStrategy?.updateTitle(xe.targetRouterState.snapshot),xe.resolve(!0)},complete:()=>{ee=!0}}),(0,Ne.Q)(this.transitionAbortSubject.pipe((0,Nt.M)(xe=>{throw xe}))),(0,Me.j)(()=>{!ee&&!Ae&&this.cancelNavigationTransition(q,"",et.SupersededByNewNavigation),this.currentTransition?.id===q.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,xt.W)(xe=>{if(Ae=!0,Do(xe))this.events.next(new ht(q.id,this.urlSerializer.serialize(q.extractedUrl),xe.message,xe.cancellationCode)),function Un(h){return Do(h)&&Ln(h.url)}(xe)?this.events.next(new kr(xe.url,xe.navigationBehaviorOptions)):q.resolve(!1);else{const nt=new bn(q.id,this.urlSerializer.serialize(q.extractedUrl),xe,q.targetSnapshot??void 0);try{const Rt=(0,d.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(nt));if(Rt instanceof so){const{message:Yt,cancellationCode:Xn}=Ho(0,Rt);this.events.next(new ht(q.id,this.urlSerializer.serialize(q.extractedUrl),Yt,Xn)),this.events.next(new kr(Rt.redirectTo,Rt.navigationBehaviorOptions))}else{this.events.next(nt);const Yt=m.errorHandler(xe);q.resolve(!!Yt)}}catch(Rt){this.options.resolveNavigationPromiseOnError?q.resolve(!1):q.reject(Rt)}}return be.w}))}))}cancelNavigationTransition(m,E,R){const q=new ht(m.id,this.urlSerializer.serialize(m.extractedUrl),E,R);this.events.next(q),m.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const m=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),E=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return m.toString()!==E?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(E){return new(E||h)}}static{this.\u0275prov=d.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})();function x(h){return h!==ie}let P=(()=>{class h{static{this.\u0275fac=function(E){return new(E||h)}}static{this.\u0275prov=d.jDH({token:h,factory:()=>(0,d.WQX)(Re),providedIn:"root"})}}return h})();class J{shouldDetach(b){return!1}store(b,m){}shouldAttach(b){return!1}retrieve(b){return null}shouldReuseRoute(b,m){return b.routeConfig===m.routeConfig}}let Re=(()=>{class h extends J{static{this.\u0275fac=(()=>{let m;return function(R){return(m||(m=d.xGo(h)))(R||h)}})()}static{this.\u0275prov=d.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})(),He=(()=>{class h{static{this.\u0275fac=function(E){return new(E||h)}}static{this.\u0275prov=d.jDH({token:h,factory:()=>(0,d.WQX)(dt),providedIn:"root"})}}return h})(),dt=(()=>{class h extends He{constructor(){super(...arguments),this.location=(0,d.WQX)(Ee.aZ),this.urlSerializer=(0,d.WQX)(vn),this.options=(0,d.WQX)(mi,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,d.WQX)(vi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new nr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=mt(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(m){return this.location.subscribe(E=>{"popstate"===E.type&&m(E.url,E.state)})}handleRouterEvent(m,E){if(m instanceof qe)this.stateMemento=this.createStateMemento();else if(m instanceof jt)this.rawUrlTree=E.initialUrl;else if(m instanceof zt){if("eager"===this.urlUpdateStrategy&&!E.extras.skipLocationChange){const R=this.urlHandlingStrategy.merge(E.finalUrl,E.initialUrl);this.setBrowserUrl(E.targetBrowserUrl??R,E)}}else m instanceof oo?(this.currentUrlTree=E.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(E.finalUrl,E.initialUrl),this.routerState=E.targetRouterState,"deferred"===this.urlUpdateStrategy&&!E.extras.skipLocationChange&&this.setBrowserUrl(E.targetBrowserUrl??this.rawUrlTree,E)):m instanceof ht&&(m.code===et.GuardRejected||m.code===et.NoDataFromResolver)?this.restoreHistory(E):m instanceof bn?this.restoreHistory(E,!0):m instanceof We&&(this.lastSuccessfulId=m.id,this.currentPageId=this.browserPageId)}setBrowserUrl(m,E){const R=m instanceof nr?this.urlSerializer.serialize(m):m;if(this.location.isCurrentPathEqualTo(R)||E.extras.replaceUrl){const ee={...E.extras.state,...this.generateNgRouterState(E.id,this.browserPageId)};this.location.replaceState(R,"",ee)}else{const q={...E.extras.state,...this.generateNgRouterState(E.id,this.browserPageId+1)};this.location.go(R,"",q)}}restoreHistory(m,E=!1){if("computed"===this.canceledNavigationResolution){const q=this.currentPageId-this.browserPageId;0!==q?this.location.historyGo(q):this.currentUrlTree===m.finalUrl&&0===q&&(this.resetState(m),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(E&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(m,E){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:E}:{navigationId:m}}static{this.\u0275fac=(()=>{let m;return function(R){return(m||(m=d.xGo(h)))(R||h)}})()}static{this.\u0275prov=d.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})();var dn=function(h){return h[h.COMPLETE=0]="COMPLETE",h[h.FAILED=1]="FAILED",h[h.REDIRECTING=2]="REDIRECTING",h}(dn||{});function Tn(h,b){h.events.pipe((0,Ve.p)(m=>m instanceof We||m instanceof ht||m instanceof bn||m instanceof jt),(0,ve.T)(m=>m instanceof We||m instanceof jt?dn.COMPLETE:m instanceof ht&&(m.code===et.Redirect||m.code===et.SupersededByNewNavigation)?dn.REDIRECTING:dn.FAILED),(0,Ve.p)(m=>m!==dn.REDIRECTING),(0,ot.s)(1)).subscribe(()=>{b()})}function In(h){throw h}const sn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Rn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let gt=(()=>{class h{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,d.WQX)(d.H3F),this.stateManager=(0,d.WQX)(He),this.options=(0,d.WQX)(mi,{optional:!0})||{},this.pendingTasks=(0,d.WQX)(d.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,d.WQX)(j),this.urlSerializer=(0,d.WQX)(vn),this.location=(0,d.WQX)(Ee.aZ),this.urlHandlingStrategy=(0,d.WQX)(vi),this._events=new ue.B,this.errorHandler=this.options.errorHandler||In,this.navigated=!1,this.routeReuseStrategy=(0,d.WQX)(P),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,d.WQX)(Ri,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,d.WQX)(Bo,{optional:!0}),this.eventsSubscription=new je.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:m=>{this.console.warn(m)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const m=this.navigationTransitions.events.subscribe(E=>{try{const R=this.navigationTransitions.currentTransition,q=this.navigationTransitions.currentNavigation;if(null!==R&&null!==q)if(this.stateManager.handleRouterEvent(E,q),E instanceof ht&&E.code!==et.Redirect&&E.code!==et.SupersededByNewNavigation)this.navigated=!0;else if(E instanceof We)this.navigated=!0;else if(E instanceof kr){const ee=E.navigationBehaviorOptions,Ae=this.urlHandlingStrategy.merge(E.url,R.currentRawUrl),xe={browserUrl:R.extras.browserUrl,info:R.extras.info,skipLocationChange:R.extras.skipLocationChange,replaceUrl:R.extras.replaceUrl||"eager"===this.urlUpdateStrategy||x(R.source),...ee};this.scheduleNavigation(Ae,ie,null,xe,{resolve:R.resolve,reject:R.reject,promise:R.promise})}(function vt(h){return!(h instanceof oo||h instanceof kr)})(E)&&this._events.next(E)}catch(R){this.navigationTransitions.transitionAbortSubject.next(R)}});this.eventsSubscription.add(m)}resetRootComponentType(m){this.routerState.root.component=m,this.navigationTransitions.rootComponentType=m}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ie,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((m,E)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(m,"popstate",E)},0)})}navigateToSyncWithBrowser(m,E,R){const q={replaceUrl:!0},ee=R?.navigationId?R:null;if(R){const xe={...R};delete xe.navigationId,delete xe.\u0275routerPageId,0!==Object.keys(xe).length&&(q.state=xe)}const Ae=this.parseUrl(m);this.scheduleNavigation(Ae,E,ee,q)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(m){this.config=m.map(Vs),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(m,E={}){const{relativeTo:R,queryParams:q,fragment:ee,queryParamsHandling:Ae,preserveFragment:xe}=E,nt=xe?this.currentUrlTree.fragment:ee;let Yt,Rt=null;switch(Ae??this.options.defaultQueryParamsHandling){case"merge":Rt={...this.currentUrlTree.queryParams,...q};break;case"preserve":Rt=this.currentUrlTree.queryParams;break;default:Rt=q||null}null!==Rt&&(Rt=this.removeEmptyProps(Rt));try{Yt=_o(R?R.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof m[0]||"/"!==m[0][0])&&(m=[]),Yt=this.currentUrlTree.root}return Xo(Yt,m,Rt,nt??null)}navigateByUrl(m,E={skipLocationChange:!1}){const R=Ln(m)?m:this.parseUrl(m),q=this.urlHandlingStrategy.merge(R,this.rawUrlTree);return this.scheduleNavigation(q,ie,null,E)}navigate(m,E={skipLocationChange:!1}){return function ze(h){for(let b=0;b<h.length;b++)if(null==h[b])throw new d.wOt(4008,!1)}(m),this.navigateByUrl(this.createUrlTree(m,E),E)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){try{return this.urlSerializer.parse(m)}catch{return this.urlSerializer.parse("/")}}isActive(m,E){let R;if(R=!0===E?{...sn}:!1===E?{...Rn}:E,Ln(m))return dr(this.currentUrlTree,m,R);const q=this.parseUrl(m);return dr(this.currentUrlTree,q,R)}removeEmptyProps(m){return Object.entries(m).reduce((E,[R,q])=>(null!=q&&(E[R]=q),E),{})}scheduleNavigation(m,E,R,q,ee){if(this.disposed)return Promise.resolve(!1);let Ae,xe,nt;ee?(Ae=ee.resolve,xe=ee.reject,nt=ee.promise):nt=new Promise((Yt,Xn)=>{Ae=Yt,xe=Xn});const Rt=this.pendingTasks.add();return Tn(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Rt))}),this.navigationTransitions.handleNavigationRequest({source:E,restoredState:R,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:m,extras:q,resolve:Ae,reject:xe,promise:nt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),nt.catch(Yt=>Promise.reject(Yt))}static{this.\u0275fac=function(E){return new(E||h)}}static{this.\u0275prov=d.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})(),mn=(()=>{class h{constructor(m,E,R,q,ee,Ae){this.router=m,this.route=E,this.tabIndexAttribute=R,this.renderer=q,this.el=ee,this.locationStrategy=Ae,this.href=null,this.onChanges=new ue.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const xe=ee.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===xe||"area"===xe,this.isAnchorElement?this.subscription=m.events.subscribe(nt=>{nt instanceof We&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(m){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",m)}ngOnChanges(m){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(m){null==m?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=Ln(m)||Array.isArray(m)?m:[m],this.setTabIndexIfNotOnNativeEl("0"))}onClick(m,E,R,q,ee){const Ae=this.urlTree;return!!(null===Ae||this.isAnchorElement&&(0!==m||E||R||q||ee||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(Ae,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const m=this.urlTree;this.href=null!==m&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(m)):null;const E=null===this.href?null:(0,d.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",E)}applyAttributeValue(m,E){const R=this.renderer,q=this.el.nativeElement;null!==E?R.setAttribute(q,m,E):R.removeAttribute(q,m)}get urlTree(){return null===this.routerLinkInput?null:Ln(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(E){return new(E||h)(d.rXU(gt),d.rXU(Tr),d.kS0("tabindex"),d.rXU(d.sFG),d.rXU(d.aKT),d.rXU(Ee.hb))}}static{this.\u0275dir=d.FsC({type:h,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(E,R){1&E&&d.bIt("click",function(ee){return R.onClick(ee.button,ee.ctrlKey,ee.shiftKey,ee.altKey,ee.metaKey)}),2&E&&d.BMQ("target",R.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",d.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",d.L39],replaceUrl:[2,"replaceUrl","replaceUrl",d.L39],routerLink:"routerLink"},standalone:!0,features:[d.GFd,d.OA$]})}}return h})(),vr=(()=>{class h{get isActive(){return this._isActive}constructor(m,E,R,q,ee){this.router=m,this.element=E,this.renderer=R,this.cdr=q,this.link=ee,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new d.bkB,this.routerEventsSubscription=m.events.subscribe(Ae=>{Ae instanceof We&&this.update()})}ngAfterContentInit(){(0,H.of)(this.links.changes,(0,H.of)(null)).pipe((0,Te.U)()).subscribe(m=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const m=[...this.links.toArray(),this.link].filter(E=>!!E).map(E=>E.onChanges);this.linkInputChangesSubscription=(0,A.H)(m).pipe((0,Te.U)()).subscribe(E=>{this._isActive!==this.isLinkActive(this.router)(E)&&this.update()})}set routerLinkActive(m){const E=Array.isArray(m)?m:m.split(" ");this.classes=E.filter(R=>!!R)}ngOnChanges(m){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const m=this.hasActiveLinks();this.classes.forEach(E=>{m?this.renderer.addClass(this.element.nativeElement,E):this.renderer.removeClass(this.element.nativeElement,E)}),m&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==m&&(this._isActive=m,this.cdr.markForCheck(),this.isActiveChange.emit(m))})}isLinkActive(m){const E=function Nn(h){return!!h.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return R=>{const q=R.urlTree;return!!q&&m.isActive(q,E)}}hasActiveLinks(){const m=this.isLinkActive(this.router);return this.link&&m(this.link)||this.links.some(m)}static{this.\u0275fac=function(E){return new(E||h)(d.rXU(gt),d.rXU(d.aKT),d.rXU(d.sFG),d.rXU(d.gRc),d.rXU(mn,8))}}static{this.\u0275dir=d.FsC({type:h,selectors:[["","routerLinkActive",""]],contentQueries:function(E,R,q){if(1&E&&d.wni(q,mn,5),2&E){let ee;d.mGM(ee=d.lsd())&&(R.links=ee)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[d.OA$]})}}return h})();class ur{}let Pn=(()=>{class h{constructor(m,E,R,q,ee){this.router=m,this.injector=R,this.preloadingStrategy=q,this.loader=ee}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ve.p)(m=>m instanceof We),(0,at.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,E){const R=[];for(const q of E){q.providers&&!q._injector&&(q._injector=(0,d.Ol2)(q.providers,m,`Route: ${q.path}`));const ee=q._injector??m,Ae=q._loadedInjector??ee;(q.loadChildren&&!q._loadedRoutes&&void 0===q.canLoad||q.loadComponent&&!q._loadedComponent)&&R.push(this.preloadConfig(ee,q)),(q.children||q._loadedRoutes)&&R.push(this.processRoutes(Ae,q.children??q._loadedRoutes))}return(0,A.H)(R).pipe((0,Te.U)())}preloadConfig(m,E){return this.preloadingStrategy.preload(E,()=>{let R;R=E.loadChildren&&void 0===E.canLoad?this.loader.loadChildren(m,E):(0,H.of)(null);const q=R.pipe((0,Ye.Z)(ee=>null===ee?(0,H.of)(void 0):(E._loadedRoutes=ee.routes,E._loadedInjector=ee.injector,this.processRoutes(ee.injector??m,ee.routes))));if(E.loadComponent&&!E._loadedComponent){const ee=this.loader.loadComponent(E);return(0,A.H)([q,ee]).pipe((0,Te.U)())}return q})}static{this.\u0275fac=function(E){return new(E||h)(d.KVO(gt),d.KVO(d.Ql9),d.KVO(d.uvJ),d.KVO(ur),d.KVO(gi))}}static{this.\u0275prov=d.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})();const Vr=new d.nKC("");let At=(()=>{class h{constructor(m,E,R,q,ee={}){this.urlSerializer=m,this.transitions=E,this.viewportScroller=R,this.zone=q,this.options=ee,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ee.scrollPositionRestoration||="disabled",ee.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof qe?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof We?(this.lastId=m.id,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.urlAfterRedirects).fragment)):m instanceof jt&&m.code===Ft.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof jr&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,E){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new jr(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,E))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(E){d.QTQ()}}static{this.\u0275prov=d.jDH({token:h,factory:h.\u0275fac})}}return h})();function Cs(h,...b){return(0,d.EmA)([{provide:Ri,multi:!0,useValue:h},[],{provide:Tr,useFactory:pa,deps:[gt]},{provide:d.iLQ,multi:!0,useFactory:Wi},b.map(m=>m.\u0275providers)])}function pa(h){return h.routerState.root}function ao(h,b){return{\u0275kind:h,\u0275providers:b}}function Wi(){const h=(0,d.WQX)(d.zZn);return b=>{const m=h.get(d.o8S);if(b!==m.components[0])return;const E=h.get(gt),R=h.get(ha);1===h.get(oi)&&E.initialNavigation(),h.get(Bs,null,d.$GK.Optional)?.setUpPreloading(),h.get(Vr,null,d.$GK.Optional)?.init(),E.resetRootComponentType(m.componentTypes[0]),R.closed||(R.next(),R.complete(),R.unsubscribe())}}const ha=new d.nKC("",{factory:()=>new ue.B}),oi=new d.nKC("",{providedIn:"root",factory:()=>1}),Bs=new d.nKC("");function xs(h){return ao(0,[{provide:Bs,useExisting:Pn},{provide:ur,useExisting:h}])}function Gs(h){return ao(9,[{provide:is,useValue:Ni},{provide:ri,useValue:{skipNextTransition:!!h?.skipInitialTransition,...h}}])}const Ur=new d.nKC("ROUTER_FORROOT_GUARD"),ga=[Ee.aZ,{provide:vn,useClass:rn},gt,Lr,{provide:Tr,useFactory:pa,deps:[gt]},gi,[]];let Yi=(()=>{class h{constructor(m){}static forRoot(m,E){return{ngModule:h,providers:[ga,[],{provide:Ri,multi:!0,useValue:m},{provide:Ur,useFactory:Wa,deps:[[gt,new d.Xx1,new d.kdw]]},{provide:mi,useValue:E||{}},E?.useHash?{provide:Ee.hb,useClass:Ee.fw}:{provide:Ee.hb,useClass:Ee.Sm},{provide:Vr,useFactory:()=>{const h=(0,d.WQX)(Ee.Xr),b=(0,d.WQX)(d.SKi),m=(0,d.WQX)(mi),E=(0,d.WQX)(j),R=(0,d.WQX)(vn);return m.scrollOffset&&h.setOffset(m.scrollOffset),new At(R,E,h,b,m)}},E?.preloadingStrategy?xs(E.preloadingStrategy).\u0275providers:[],E?.initialNavigation?Jl(E):[],E?.bindToComponentInputs?ao(8,[An,{provide:Bo,useExisting:An}]).\u0275providers:[],E?.enableViewTransitions?Gs().\u0275providers:[],[{provide:qs,useFactory:Wi},{provide:d.iLQ,multi:!0,useExisting:qs}]]}}static forChild(m){return{ngModule:h,providers:[{provide:Ri,multi:!0,useValue:m}]}}static{this.\u0275fac=function(E){return new(E||h)(d.KVO(Ur,8))}}static{this.\u0275mod=d.$C({type:h})}static{this.\u0275inj=d.G2t({})}}return h})();function Wa(h){return"guarded"}function Jl(h){return["disabled"===h.initialNavigation?ao(3,[{provide:d.hnV,multi:!0,useFactory:()=>{const b=(0,d.WQX)(gt);return()=>{b.setUpLocationChangeListener()}}},{provide:oi,useValue:2}]).\u0275providers:[],"enabledBlocking"===h.initialNavigation?ao(2,[{provide:oi,useValue:0},{provide:d.hnV,multi:!0,deps:[d.zZn],useFactory:b=>{const m=b.get(Ee.hj,Promise.resolve());return()=>m.then(()=>new Promise(E=>{const R=b.get(gt),q=b.get(ha);Tn(R,()=>{E(!0)}),b.get(j).afterPreactivation=()=>(E(!0),q.closed?(0,H.of)(void 0):q),R.initialNavigation()}))}}]).\u0275providers:[]]}const qs=new d.nKC("")},467:(Je,ge,D)=>{"use strict";function d(le,e,A,H,C,K,se){try{var he=le[K](se),Q=he.value}catch(_e){return void A(_e)}he.done?e(Q):Promise.resolve(Q).then(H,C)}function L(le){return function(){var e=this,A=arguments;return new Promise(function(H,C){var K=le.apply(e,A);function se(Q){d(K,H,C,se,he,"next",Q)}function he(Q){d(K,H,C,se,he,"throw",Q)}se(void 0)})}}D.d(ge,{A:()=>L})},1635:(Je,ge,D)=>{"use strict";function _e(Ie,Me,Ne,Te){return new(Ne||(Ne=Promise))(function(Oe,ut){function nn(pn){try{Dt(Te.next(pn))}catch(kt){ut(kt)}}function hn(pn){try{Dt(Te.throw(pn))}catch(kt){ut(kt)}}function Dt(pn){pn.done?Oe(pn.value):function Ke(Oe){return Oe instanceof Ne?Oe:new Ne(function(ut){ut(Oe)})}(pn.value).then(nn,hn)}Dt((Te=Te.apply(Ie,Me||[])).next())})}function Ee(Ie){return this instanceof Ee?(this.v=Ie,this):new Ee(Ie)}function ve(Ie,Me,Ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ke,Te=Ne.apply(Ie,Me||[]),Oe=[];return Ke=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),nn("next"),nn("throw"),nn("return",function ut(an){return function(Jt){return Promise.resolve(Jt).then(an,kt)}}),Ke[Symbol.asyncIterator]=function(){return this},Ke;function nn(an,Jt){Te[an]&&(Ke[an]=function(Pt){return new Promise(function(jn,Ze){Oe.push([an,Pt,jn,Ze])>1||hn(an,Pt)})},Jt&&(Ke[an]=Jt(Ke[an])))}function hn(an,Jt){try{!function Dt(an){an.value instanceof Ee?Promise.resolve(an.value.v).then(pn,kt):kn(Oe[0][2],an)}(Te[an](Jt))}catch(Pt){kn(Oe[0][3],Pt)}}function pn(an){hn("next",an)}function kt(an){hn("throw",an)}function kn(an,Jt){an(Jt),Oe.shift(),Oe.length&&hn(Oe[0][0],Oe[0][1])}}function ot(Ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ne,Me=Ie[Symbol.asyncIterator];return Me?Me.call(Ie):(Ie=function ne(Ie){var Me="function"==typeof Symbol&&Symbol.iterator,Ne=Me&&Ie[Me],Te=0;if(Ne)return Ne.call(Ie);if(Ie&&"number"==typeof Ie.length)return{next:function(){return Ie&&Te>=Ie.length&&(Ie=void 0),{value:Ie&&Ie[Te++],done:!Ie}}};throw new TypeError(Me?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ie),Ne={},Te("next"),Te("throw"),Te("return"),Ne[Symbol.asyncIterator]=function(){return this},Ne);function Te(Oe){Ne[Oe]=Ie[Oe]&&function(ut){return new Promise(function(nn,hn){!function Ke(Oe,ut,nn,hn){Promise.resolve(hn).then(function(Dt){Oe({value:Dt,done:nn})},ut)}(nn,hn,(ut=Ie[Oe](ut)).done,ut.value)})}}}D.d(ge,{AQ:()=>ve,N3:()=>Ee,sH:()=>_e,xN:()=>ot}),"function"==typeof SuppressedError&&SuppressedError}},Je=>{Je(Je.s=4765)}]);