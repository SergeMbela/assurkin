(self.webpackChunkassurkin=self.webpackChunkassurkin||[]).push([[792],{3583:(at,ye,R)=>{"use strict";R.r(ye),R.d(ye,{AssurancesDetailsComponent:()=>ce});var f=R(4438),O=R(177),de=R(9981),e=R(9172),P=R(7673),W=R(5558),F=R(6354),Z=R(9437),he=R(1807),fe=R(1364);const te=()=>["/management"],ve=()=>({loading:!0}),Fe=(me,Ve,Ee)=>({"text-green-600":me,"text-yellow-600":Ve,"text-red-600":Ee});function De(me,Ve){if(1&me&&(f.j41(0,"div",9)(1,"div",10)(2,"h2",11),f.EFF(3,"Informations G\xe9n\xe9rales"),f.k0s(),f.j41(4,"p")(5,"strong"),f.EFF(6,"ID du Devis :"),f.k0s(),f.EFF(7),f.k0s(),f.j41(8,"p")(9,"strong"),f.EFF(10,"Compagnie :"),f.k0s(),f.EFF(11),f.k0s(),f.j41(12,"p")(13,"strong"),f.EFF(14,"Date de cr\xe9ation :"),f.k0s(),f.EFF(15),f.nI1(16,"date"),f.k0s(),f.j41(17,"p")(18,"strong"),f.EFF(19,"Date d'effet :"),f.k0s(),f.EFF(20),f.nI1(21,"date"),f.k0s(),f.j41(22,"p")(23,"strong"),f.EFF(24,"Statut :"),f.k0s(),f.j41(25,"span",12),f.EFF(26),f.k0s()()(),f.j41(27,"div",10)(28,"h2",11),f.EFF(29,"Preneur d'assurance"),f.k0s(),f.j41(30,"p")(31,"strong"),f.EFF(32,"Nom :"),f.k0s(),f.EFF(33),f.k0s(),f.j41(34,"p")(35,"strong"),f.EFF(36,"Email :"),f.k0s(),f.EFF(37),f.k0s(),f.j41(38,"p")(39,"strong"),f.EFF(40,"T\xe9l\xe9phone :"),f.k0s(),f.EFF(41),f.k0s(),f.j41(42,"p")(43,"strong"),f.EFF(44,"Adresse :"),f.k0s(),f.EFF(45),f.k0s()(),f.j41(46,"div",10)(47,"h2",11),f.EFF(48,"V\xe9hicule"),f.k0s(),f.j41(49,"p")(50,"strong"),f.EFF(51,"Type :"),f.k0s(),f.EFF(52),f.k0s(),f.j41(53,"p")(54,"strong"),f.EFF(55,"Marque :"),f.k0s(),f.EFF(56),f.k0s(),f.j41(57,"p")(58,"strong"),f.EFF(59,"Mod\xe8le :"),f.k0s(),f.EFF(60),f.k0s(),f.j41(61,"p")(62,"strong"),f.EFF(63,"Ann\xe9e :"),f.k0s(),f.EFF(64),f.k0s(),f.j41(65,"p")(66,"strong"),f.EFF(67,"Plaque :"),f.k0s(),f.EFF(68),f.k0s(),f.j41(69,"p")(70,"strong"),f.EFF(71,"Valeur :"),f.k0s(),f.EFF(72),f.nI1(73,"currency"),f.k0s()(),f.j41(74,"div",10)(75,"h2",11),f.EFF(76,"Couverture d'assurance"),f.k0s(),f.j41(77,"p")(78,"strong"),f.EFF(79,"Type :"),f.k0s(),f.EFF(80),f.k0s(),f.j41(81,"p")(82,"strong"),f.EFF(83,"RC de base :"),f.k0s(),f.EFF(84),f.k0s(),f.j41(85,"p")(86,"strong"),f.EFF(87,"Assistance :"),f.k0s(),f.EFF(88),f.k0s(),f.j41(89,"p")(90,"strong"),f.EFF(91,"Protection du conducteur :"),f.k0s(),f.EFF(92),f.k0s(),f.j41(93,"p")(94,"strong"),f.EFF(95,"Omnium :"),f.k0s(),f.EFF(96),f.k0s()()()),2&me){const Ee=Ve.ngIf;f.R7$(7),f.SpI(" ",null==Ee.details?null:Ee.details.id,""),f.R7$(4),f.SpI(" ",Ee.compagnie_nom,""),f.R7$(4),f.SpI(" ",f.i5U(16,24,null==Ee.details?null:Ee.details.created_at,"dd/MM/yyyy HH:mm"),""),f.R7$(5),f.SpI(" ",f.i5U(21,27,null==Ee.details?null:Ee.details.date_effet,"dd/MM/yyyy"),""),f.R7$(5),f.Y8G("ngClass",f.sMw(34,Fe,"Accept\xe9"===(null==Ee.details?null:Ee.details.statut),"En cours de traitement"===(null==Ee.details?null:Ee.details.statut),"Refus\xe9"===(null==Ee.details?null:Ee.details.statut))),f.R7$(),f.JRh(null==Ee.details?null:Ee.details.statut),f.R7$(7),f.Lme(" ",null==Ee.preneur?null:Ee.preneur.prenom," ",null==Ee.preneur?null:Ee.preneur.nom,""),f.R7$(4),f.SpI(" ",null==Ee.preneur?null:Ee.preneur.email,""),f.R7$(4),f.SpI(" ",null==Ee.preneur?null:Ee.preneur.telephone,""),f.R7$(4),f.E5c(" ",null==Ee.preneur?null:Ee.preneur.adresse,", ",null==Ee.preneur?null:Ee.preneur.code_postal," ",null==Ee.preneur?null:Ee.preneur.ville,""),f.R7$(7),f.SpI(" ",null==Ee.vehicule?null:Ee.vehicule.type,""),f.R7$(4),f.SpI(" ",null==Ee.vehicule?null:Ee.vehicule.marque,""),f.R7$(4),f.SpI(" ",null==Ee.vehicule?null:Ee.vehicule.modele,""),f.R7$(4),f.SpI(" ",null==Ee.vehicule?null:Ee.vehicule.annee,""),f.R7$(4),f.SpI(" ",null==Ee.vehicule?null:Ee.vehicule.plaque,""),f.R7$(4),f.SpI(" ",f.brH(73,30,null==Ee.vehicule?null:Ee.vehicule.valeur,"EUR","symbol"),""),f.R7$(8),f.SpI(" ",Ee.type,""),f.R7$(4),f.SpI(" ",null!=Ee.details&&Ee.details.garantie_base_rc?"Oui":"Non",""),f.R7$(4),f.SpI(" ",null!=Ee.details&&Ee.details.garantie_assistance?"Oui":"Non",""),f.R7$(4),f.SpI(" ",null!=Ee.details&&Ee.details.garantie_conducteur?"Oui":"Non",""),f.R7$(4),f.SpI(" ",(null==Ee.details?null:Ee.details.garantie_omnium_niveau)||"Aucune","")}}function H(me,Ve){1&me&&(f.j41(0,"div",13),f.EFF(1," Aucun d\xe9tail trouv\xe9 pour ce devis. "),f.k0s())}function Q(me,Ve){if(1&me&&(f.j41(0,"div",6),f.DNE(1,De,97,38,"div",7)(2,H,2,0,"div",8),f.k0s()),2&me){const Ee=Ve.$implicit;f.R7$(),f.Y8G("ngIf",Ee.data),f.R7$(),f.Y8G("ngIf",!Ee.data)}}let ce=(()=>{class me{route=(0,f.WQX)(de.nX);dbConnectService=(0,f.WQX)(he.y);devisState$;ngOnInit(){this.devisState$=this.route.paramMap.pipe((0,W.n)(Ee=>this.getDevisData(Ee)),(0,F.T)(Ee=>{const Oe=Array.isArray(Ee)?Ee[0]:Ee;return console.log("[AssurancesDetailsComponent] Donn\xe9es du devis re\xe7ues et extraites:",Oe),{loading:!1,data:Oe}}),(0,e.Z)({loading:!0}),(0,Z.W)(Ee=>{console.error("[AssurancesDetailsComponent] Erreur dans le chargement des d\xe9tails du devis:",Ee);const Oe=Ee instanceof Error?Ee.message:"Une erreur inconnue est survenue.";return(0,P.of)({loading:!1,error:Oe})}))}getDevisData(Ee){const Oe=Number(Ee.get("id"));if(isNaN(Oe))throw new Error("ID de devis invalide.");return console.log(`[AssurancesDetailsComponent] Calling Supabase function for devisId: ${Oe}`),this.dbConnectService.getFullQuoteDetails(Oe)}static \u0275fac=function(Oe){return new(Oe||me)};static \u0275cmp=f.VBU({type:me,selectors:[["app-assurances-details"]],standalone:!0,features:[f.aNF],decls:10,vars:6,consts:[["dataTemplate",""],[1,"container","mx-auto","p-4"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-3xl","font-bold","text-gray-800"],[1,"bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded","transition","duration-300",3,"routerLink"],[3,"state"],[1,"bg-white","shadow-lg","rounded-lg","p-6"],["class","grid grid-cols-1 md:grid-cols-2 gap-6",4,"ngIf"],["class","text-center text-gray-500 mt-8",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"p-4","border","rounded-lg"],[1,"text-xl","font-semibold","text-gray-700","mb-4"],[1,"font-medium",3,"ngClass"],[1,"text-center","text-gray-500","mt-8"]],template:function(Oe,Le){1&Oe&&(f.j41(0,"div",1)(1,"div",2)(2,"h1",3),f.EFF(3,"D\xe9tails du Devis"),f.k0s(),f.j41(4,"a",4),f.EFF(5," Retour \xe0 la liste "),f.k0s()(),f.j41(6,"app-state-container",5),f.nI1(7,"async"),f.DNE(8,Q,3,2,"ng-template",null,0,f.C5r),f.k0s()()),2&Oe&&(f.R7$(4),f.Y8G("routerLink",f.lJ4(4,te)),f.R7$(2),f.Y8G("state",f.bMT(7,2,Le.devisState$)||f.lJ4(5,ve)))},dependencies:[O.MD,O.YU,O.bT,O.Jj,O.oe,O.vh,de.Wk,fe.Y]})}return me})()},324:(at,ye,R)=>{"use strict";R.d(ye,{y:()=>P});var f=R(4438),O=R(9692),de=R(6648),e=R(6354);let P=(()=>{class W{supabase=(0,f.WQX)(O.w);saveContractData(Z){return console.log("Envoi des donn\xe9es du contrat \xe0 Supabase:",Z),(0,de.H)(this.supabase.supabase.from("contrats").insert([Z]).select().single())}getQuoteTypeId(Z){return{auto:1,habitation:2,obseques:3,rc:4,voyage:5}[Z.toLowerCase()]||0}getContractFiles(Z,he){return(0,de.H)(this.supabase.supabase.from("uploaded_files").select("path, file_name, raisons,date_created").eq("id_quote",Z).eq("id_type",this.getQuoteTypeId(he))).pipe((0,e.T)(fe=>fe.error?(console.error("Erreur lors de la r\xe9cup\xe9ration des fichiers:",fe.error),[]):fe.data||[]))}addContractFile(Z,he,fe,te,ve,Fe){const De={id_quote:Z,id_type:this.getQuoteTypeId(he),user_id:Fe,path:fe,file_name:te,raisons:ve};return(0,de.H)(this.supabase.supabase.from("uploaded_files").insert(De)).pipe((0,e.T)(H=>{if(H&&H.error)throw console.error("Erreur lors de l'insertion de la r\xe9f\xe9rence du fichier:",H.error),H.error}))}static \u0275fac=function(he){return new(he||W)};static \u0275prov=f.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})()},1807:(at,ye,R)=>{"use strict";R.d(ye,{y:()=>ve});var f=R(467),O=R(6648),de=R(9030),e=R(7673),P=R(6354),W=R(9437),F=R(5558),Z=R(253),he=R(5312),fe=R(4438),te=R(9692);let ve=(()=>{class Fe{supabase;nationalities$=null;constructor(H){this.supabase=H}saveContactForm(H){return(0,O.H)(this.supabase.insertData("contact_submissions",H))}saveMessage(H){var Q=this;return(0,f.A)(function*(){const{error:ce}=yield Q.supabase.supabase.from("messages").insert([H]);ce&&console.error("Erreur lors de la sauvegarde du message:",ce)})()}createFullDevis(H){var Q=this;return console.log("[createFullDevis] Donn\xe9es du formulaire re\xe7ues :",H),(0,de.v)((0,f.A)(function*(){console.log("[createFullDevis] \xc9tape 1: Recherche ou cr\xe9ation du preneur...");const ce=yield Q.findOrCreatePerson(H.preneur);console.log("[createFullDevis] R\xe9sultat pour le preneur :",ce),console.log("[createFullDevis] \xc9tape 2: Traitement du conducteur...");let me=null;if(H.conducteurDifferent){const{data:nt,error:ht}=yield Q.supabase.supabase.from("personnes").insert(H.conducteur).select().single();if(ht)throw console.error("[createFullDevis] Erreur lors de l'insertion du conducteur :",ht),ht;me=nt}else console.log("[createFullDevis] Le conducteur est le m\xeame que le preneur."),me=ce;console.log("[createFullDevis] R\xe9sultat pour le conducteur :",me),console.log("[createFullDevis] \xc9tape 3: Insertion du v\xe9hicule...");const{data:Ve,error:Ee}=yield Q.supabase.supabase.from("vehicules").insert({type:H.vehicule.type,marque:H.vehicule.marque,modele:H.vehicule.modele,puissance_kw:H.vehicule.puissance,places:H.vehicule.places,date_circulation:H.vehicule.dateCirculation,valeur:H.vehicule.valeur}).select().single();if(Ee)throw console.error("[createFullDevis] Erreur lors de l'insertion du v\xe9hicule :",Ee),Ee;if(console.log("[createFullDevis] V\xe9hicule ins\xe9r\xe9 :",Ve),!me||!Ve)throw new Error("Could not create driver or vehicle.");console.log("[createFullDevis] \xc9tape 4: Insertion du devis...");const{data:Oe,error:Le}=yield Q.supabase.supabase.from("devis_assurance").insert({preneur_id:ce.id,conducteur_id:me.id,vehicule_id:Ve.id,garantie_base_rc:H.garanties.base,garantie_omnium_niveau:H.garanties.omnium,garantie_conducteur:H.garanties.conducteur,garantie_assistance:H.garanties.assistance,date_effet:H.dateEffet}).select().single();if(Le)throw console.error("[createFullDevis] Erreur lors de l'insertion du devis :",Le),Le;return console.log("Devis cr\xe9\xe9 avec succ\xe8s:",Oe),Oe}))}createCorporateAccount(H){const Q={user_email:H.email,user_password:H.password,user_nom:H.nom,user_prenom:H.prenom,user_fonction:H.fonction};console.log("[DbConnectService] Appel de la fonction RPC handle_new_corporate_user avec:",Q);const ce=this.supabase.supabase.rpc("handle_new_corporate_user",Q).then(({data:me,error:Ve})=>{if(Ve)throw console.error("Erreur lors de l'appel RPC handle_new_corporate_user:",Ve),Ve;return me});return(0,O.H)(ce)}saveHabitationForm(H){return(0,O.H)(this.supabase.insertData("habitation_quotes",H))}createHabitationQuote(H){var Q=this;return(0,de.v)((0,f.A)(function*(){const me={preneur_id:(yield Q.findOrCreatePerson({...H.preneur,adresse:H.batiment.adresse,code_postal:H.batiment.codePostal,ville:H.batiment.ville})).id,batiment_adresse:H.batiment.adresse,batiment_code_postal:H.batiment.codePostal,batiment_ville:H.batiment.ville,batiment_type_maison:H.batiment.typeMaison,evaluation_type_valeur_batiment:H.evaluation.valeurBatiment,evaluation_superficie:H.evaluation.superficie,evaluation_nombre_pieces:H.evaluation.nombrePieces,evaluation_loyer_mensuel:H.evaluation.loyer,evaluation_type_valeur_contenu:H.evaluation.valeurContenu,evaluation_valeur_expertise:H.evaluation.valeurExpertise,evaluation_date_expertise:H.evaluation.dateExpertise?`${H.evaluation.dateExpertise}-01`:null,evaluation_valeur_libre_contenu:H.evaluation.evaluation_valeur_libre_contenu,garantie_contenu:H.garanties.contenu,garantie_vol:H.garanties.vol,garantie_pertes_indirectes:H.garanties.pertesIndirectes,garantie_protection_juridique:H.garanties.protectionJuridique,garantie_assistance:H.garanties.assistance,date_effet:H.dateEffet},{data:Ve,error:Ee}=yield Q.supabase.insertData("habitation_quotes",me);if(Ee)throw Ee;return Ve}))}saveRcForm(H){return(0,O.H)(this.supabase.insertData("rc_familiale_quotes",H))}saveVoyageForm(H){return(0,O.H)(this.supabase.insertData("assu_voyage",H))}saveObsequesForm(H){return this.createObsequesQuote(H)}createObsequesQuote(H){var Q=this;return(0,de.v)((0,f.A)(function*(){const me={preneur_id:(yield Q.findOrCreatePerson({...H.preneur,date_naissance:H.preneur.dateNaissance,code_postal:H.preneur.codePostal})).id,nombre_assures:H.nombreAssures,preneur_est_assure:H.preneurEstAssure,assures:H.assures},{data:Ve,error:Ee}=yield Q.supabase.insertData("obseques_quotes",me);if(Ee)throw Ee;return Ve}))}saveInfoRequestForm(H,Q){return(0,O.H)(this.supabase.insertData("voyage"===Q?"info_requests":"juridique_form",H))}getPostalCodes(H){const Q=this.supabase.supabase.from("code_postal_belge").select("postal, name").like("postal",`${H}%`).limit(10);return(0,O.H)(Q).pipe((0,P.T)(ce=>(ce.data||[]).map(me=>({postalCode:me.postal,city:me.name}))))}getVilles(H){const Q=this.supabase.supabase.from("code_postal_belge").select("postal, name").ilike("name",`${H}%`).limit(10);return(0,O.H)(Q).pipe((0,P.T)(ce=>(ce.data||[]).map(Ve=>({postalCode:Ve.postal,city:Ve.name}))))}getCitiesByPostalCode(H){return(0,O.H)(this.supabase.supabase.from("code_postal_belge").select("name").eq("postal",H)).pipe((0,P.T)(Q=>{if(Q.error)throw Q.error;return(Q.data||[]).map(me=>me.name)}),(0,W.W)(Q=>(console.error("Erreur lors de la r\xe9cup\xe9ration des villes par code postal:",Q),(0,e.of)([]))))}searchMarques(H){return(0,O.H)(this.supabase.supabase.from("marques").select("marque_id:id, nom").ilike("nom",`${H}%`).limit(10)).pipe((0,P.T)(Q=>(Q.data||[]).map(me=>({marque_id:me.marque_id,nom:me.nom}))))}searchModeles(H,Q){let ce=this.supabase.supabase.from("modeles").select("marque_id, nom").eq("marque_id",H).order("nom",{ascending:!0});return Q&&(ce=ce.ilike("nom",`${Q}%`).limit(10)),(0,O.H)(ce).pipe((0,P.T)(me=>(me.data||[]).map(Ee=>({marque_id:Ee.marque_id,nom:Ee.nom}))))}searchAssureurs(H){return(0,O.H)(this.supabase.supabase.from("assureurs_belges").select("id, nom_assureur").ilike("nom_assureur",`${H}%`).order("nom_assureur",{ascending:!0}).limit(10)).pipe((0,P.T)(Q=>(console.log("Compagnies d'assurance re\xe7ues:",Q.data),(Q.data||[]).map(me=>({id:me.id,nom:me.nom_assureur})))))}getInsurerById(H){return(0,O.H)(this.supabase.supabase.from("assureurs_belges").select("id, nom_assureur").eq("id",H).single()).pipe((0,P.T)(Q=>{if(Q.error||!Q.data)throw console.error(`Erreur lors de la r\xe9cup\xe9ration de l'assureur avec l'ID ${H}:`,Q.error),Q.error||new Error(`Aucun assureur trouv\xe9 pour l'ID ${H}`);return{id:Q.data.id,nom:Q.data.nom_assureur}}))}getAllAssureurs(){return(0,O.H)(this.supabase.supabase.from("assureurs_belges").select("id, nom_assureur").order("nom_assureur",{ascending:!0})).pipe((0,P.T)(H=>(H.data||[]).map(ce=>({id:ce.id,nom:ce.nom_assureur}))))}getAllStatuts(){return(0,O.H)(this.supabase.supabase.from("statut").select("id, statut").order("statut",{ascending:!0})).pipe((0,P.T)(H=>{if(H.error)throw console.error("Erreur lors de la r\xe9cup\xe9ration des statuts:",H.error),H.error;return console.log("Statuts r\xe9cup\xe9r\xe9s depuis Supabase:",H.data),H.data||[]}))}getAllMaritalStatuses(){return(0,O.H)(this.supabase.supabase.from("marital_statut").select("id, label").order("id",{ascending:!0})).pipe((0,P.T)(H=>{if(H.error)throw console.error("Erreur lors de la r\xe9cup\xe9ration des statuts matrimoniaux:",H.error),H.error;return console.log("Statuts matrimoniaux r\xe9cup\xe9r\xe9s depuis Supabase:",H.data),H.data||[]}))}getContracts(H,Q){return"auto"===Q?(0,O.H)(this.supabase.supabase.from("devis_assurance").select("\n            id,\n            date_effet,\n            statut,\n            vehicules ( marque, modele )\n          ").eq("preneur_id",H)).pipe((0,P.T)(ce=>{if(ce.error)throw ce.error;return(ce.data||[]).map(me=>({id:me.id,categorie:"Auto",denomination:`${me.vehicules.marque} ${me.vehicules.modele}`,date_contract:me.date_effet,date_validite:me.date_effet,date_terme:"",statut:me.statut||"Devis en attente"}))})):"habitation"===Q?(0,O.H)(this.supabase.supabase.from("habitation_quotes").select("\n            id,\n            date_effet,\n            statut,\n            batiment_type_maison, \n            batiment_adresse\n          ").eq("preneur_id",H)).pipe((0,P.T)(ce=>{if(ce.error)throw ce.error;return console.log("Donn\xe9es brutes des devis habitation:",ce.data),(ce.data||[]).map(me=>({id:me.id,categorie:"Habitation",denomination:me.batiment_adresse?`${me.batiment_type_maison} - ${me.batiment_adresse}`:me.batiment_type_maison,date_contract:me.date_effet,date_validite:me.date_effet,date_terme:"",statut:me.statut||"Devis en attente"}))})):"obseques"===Q?(0,O.H)(this.supabase.supabase.from("obseques_quotes").select("\n            id,\n            created_at,\n            nombre_assures\n          ").eq("preneur_id",H)).pipe((0,P.T)(ce=>{if(ce.error)throw ce.error;return(ce.data||[]).map(me=>({id:me.id,categorie:"Obs\xe8ques",denomination:`Devis pour ${me.nombre_assures} personne(s)`,date_contract:me.created_at,date_validite:me.created_at,date_terme:"",statut:"Devis en attente"}))})):(0,O.H)(this.supabase.supabase.from("contracts").select("*").eq("preneur_id",H).eq("categorie",Q)).pipe((0,P.T)(ce=>ce.data||[]))}getUploadedFiles(H){return(0,O.H)(this.supabase.supabase.from("uploaded_files").select("*").eq("user_id",H).order("date_created",{ascending:!1})).pipe((0,P.T)(Q=>{if(Q.error)throw console.error("Erreur lors de la r\xe9cup\xe9ration des documents :",Q.error),Q.error;return Q.data||[]}))}checkEmailExists(H){return(0,O.H)(this.supabase.supabase.from("personnes").select("id",{count:"exact",head:!0}).eq("email",H)).pipe((0,P.T)(Q=>(Q.count??0)>0),(0,W.W)(Q=>{throw console.error("Critical DB Error checking email:",Q),Q}))}checkPermisExists(H){return(0,O.H)(this.supabase.supabase.from("personnes").select("permis_numero",{count:"exact",head:!0}).eq("permis_numero",H)).pipe((0,P.T)(Q=>(Q.count??0)>0),(0,W.W)(Q=>(console.error("Erreur lors de la v\xe9rification du permis:",Q),(0,e.of)(!1))))}createUser(H){return(0,O.H)(this.supabase.supabase.auth.signUp({email:H.email,password:H.password})).pipe((0,F.n)(({data:Q,error:ce})=>{if(ce)throw ce;if(!Q.user)throw new Error("La cr\xe9ation de l'utilisateur a \xe9chou\xe9, aucun utilisateur retourn\xe9.");const me={user_id:Q.user.id,nom:H.nom,prenom:H.prenom,email:H.email,telephone:H.telephone,adresse:H.adresse,code_postal:H.codePostal,ville:H.ville,date_naissance:H.dateNaissance,permis_numero:H.permis,permis_date:H.datePermis,genre:H.genre};return(0,O.H)(this.supabase.supabase.from("personnes").insert(me).select().single()).pipe((0,F.n)(Ve=>{if(Ve.error)throw Ve.error;return this.createUserStorageFolder(Q.user.id).pipe((0,P.T)(()=>Ve))}))}))}getPersonByUserId(H){return(0,O.H)(this.supabase.supabase.from("personnes").select("*").eq("user_id",H).single()).pipe((0,P.T)(Q=>Q.data))}getDevisAuto(H){return console.log(`[getDevisAuto] R\xe9cup\xe9ration des devis pour l'ID utilisateur: ${H}`),(0,O.H)(this.supabase.supabase.from("devis_assurance").select("\n            id,\n            date_effet,\n            vehicules ( marque, modele ),\n            personnes!inner (\n              user_id\n            )\n          ").eq("personnes.user_id",H)).pipe((0,P.T)(ce=>{if(ce.error)throw console.error("Erreur lors de la r\xe9cup\xe9ration des devis auto:",ce.error),ce.error;return console.log("[getDevisAuto] Donn\xe9es brutes re\xe7ues de Supabase:",ce.data),ce.data}),(0,W.W)(ce=>(console.error("Erreur dans le pipe de getDevisAuto:",ce),(0,e.of)([]))))}getPersonByEmail(H){return(0,O.H)(this.supabase.supabase.from("personnes").select("*").eq("email",H).single()).pipe((0,P.T)(Q=>(Q.error&&"PGRST116"!==Q.error.code&&console.error("Erreur lors de la r\xe9cup\xe9ration de la personne par email:",Q.error),Q.data)))}linkUserToPerson(H,Q){return this.getPersonByEmail(Q).pipe((0,F.n)(ce=>{if(!ce)return(0,e.of)(null);const me=ce.user_id!==H?this.supabase.supabase.from("personnes").update({user_id:H}).eq("id",ce.id):Promise.resolve();return(0,O.H)(me).pipe((0,F.n)(()=>!0===ce.folder_id?(0,e.of)({status:"folder_exists"}):this.createUserStorageFolder(H).pipe((0,F.n)(()=>(0,O.H)(this.supabase.supabase.from("personnes").update({folder_id:!0}).eq("id",ce.id))))))}))}getDevisDetails(H){return console.log(`[DbConnectService] R\xe9cup\xe9ration des d\xe9tails du devis auto pour l'ID: ${H}`),(0,O.H)(this.supabase.supabase.from("devis_assurance").select("\n          *,\n          preneur:personnes!devis_assurance_preneur_id_fkey(*),\n          conducteur:personnes!devis_assurance_conducteur_id_fkey(*),\n          vehicule:vehicules(*)\n        ").eq("id",H).single()).pipe((0,P.T)(Q=>{if(Q.error)throw Q.error;return Q.data}))}getHabitationQuoteDetails(H){return console.log(`[DbConnectService] R\xe9cup\xe9ration des d\xe9tails du devis habitation pour l'ID: ${H}`),(0,O.H)(this.supabase.supabase.from("habitation_quotes").select("\n          *, \n          preneur:personnes!habitation_quotes_preneur_id_fkey(*)\n        ").eq("id",H).single()).pipe((0,P.T)(Q=>{if(Q.error)throw Q.error;return Q.data}))}getObsequesQuoteDetails(H){return console.log(`[DbConnectService] R\xe9cup\xe9ration des d\xe9tails du devis obs\xe8ques pour l'ID: ${H}`),(0,O.H)(this.supabase.supabase.from("obseques_quotes").select("\n          *,\n          preneur:personnes!obseques_quotes_preneur_id_fkey(*)\n        ").eq("id",H).single()).pipe((0,P.T)(Q=>{if(Q.error)throw Q.error;return console.log(`[DbConnectService] D\xe9tails du devis obs\xe8ques re\xe7us pour l'ID ${H}:`,Q.data),Q.data}))}getVoyageQuoteDetails(H){return(0,O.H)(this.supabase.supabase.from("assu_voyage").select("*").eq("id",H).single()).pipe((0,P.T)(Q=>{if(Q.error)throw Q.error;return Q.data}))}getRcQuoteDetails(H){return(0,O.H)(this.supabase.supabase.from("rc_familiale_quotes").select("*").eq("id",H).single()).pipe((0,P.T)(Q=>{if(Q.error)throw Q.error;return Q.data}))}createUserStorageFolder(H){const Ve=`${H.substring(0,8)}/.emptyFolderPlaceholder`;return(0,O.H)(this.supabase.supabase.storage.from(he.c.storageBucketPrefix).upload(Ve,new Blob([""]),{cacheControl:"3600",upsert:!1})).pipe((0,P.T)(Ee=>(Ee.error&&console.error(`Erreur lors de la cr\xe9ation du dossier de stockage pour ${H}:`,Ee.error),Ee)))}getAllAutoQuotes(H,Q,ce){const me=(Q-1)*ce,Ve=me+ce-1;let Ee=this.supabase.supabase.from("devis_assurance").select("\n          id,\n          created_at,\n          preneur_id,\n          conducteur_id,\n          statut,\n          preneur:personnes!devis_assurance_preneur_id_fkey ( nom, prenom, uid ),\n          vehicules ( type, marque, modele, annee )\n        ",{count:"exact"}).order("created_at",{ascending:!1}).range(me,Ve);if(H){const Oe=`%${H}%`;Ee=Ee.or(`nom.ilike.${Oe},prenom.ilike.${Oe}`,{foreignTable:"preneur"})}return(0,O.H)(Ee).pipe((0,P.T)(Oe=>({data:Oe.data||[],count:Oe.count})))}getAllHabitationQuotes(H,Q,ce){const me=(Q-1)*ce,Ve=me+ce-1;let Ee=this.supabase.supabase.from("habitation_quotes").select("\n          id,\n          created_at,\n          preneur_id,\n          statut,\n          batiment_adresse,\n          batiment_type_maison,\n          preneur:personnes!habitation_quotes_preneur_id_fkey ( nom, prenom, uid )\n        ",{count:"exact"}).order("created_at",{ascending:!1}).range(me,Ve);if(H){const Oe=`%${H}%`;Ee=Ee.or(`nom.ilike.${Oe},prenom.ilike.${Oe}`,{foreignTable:"preneur"})}return(0,O.H)(Ee).pipe((0,P.T)(Oe=>({data:Oe.data||[],count:Oe.count})))}getAllObsequesQuotes(H,Q,ce){const me=(Q-1)*ce,Ve=me+ce-1;let Ee=this.supabase.supabase.from("obseques_quotes").select("id, created_at, statut, nombre_assures, preneur_id, preneur:personnes!obseques_quotes_preneur_id_fkey ( nom, prenom, uid )",{count:"exact"}).order("created_at",{ascending:!1}).range(me,Ve);if(H){const Oe=`%${H}%`;Ee=Ee.or(`nom.ilike.${Oe},prenom.ilike.${Oe}`,{foreignTable:"preneur"})}return(0,O.H)(Ee).pipe((0,P.T)(Oe=>({data:Oe.data||[],count:Oe.count})))}getAllVoyageQuotes(){const H=this.supabase.supabase.from("assu_voyage").select("\n          id,\n          date_created,\n          preneur_id,\n          statut,\n          nom,\n          prenom,\n          description\n        ").order("date_created",{ascending:!1});return(0,O.H)(H).pipe((0,P.T)(Q=>{if(Q.error)throw Q.error;return Q.data||[]}))}getAllRcQuotes(){const H=this.supabase.supabase.from("rc_familiale_quotes").select("\n          id,\n          created_at,\n          preneur_id,\n          preneur_nom,\n          preneur_prenom,\n          risque\n        ").order("created_at",{ascending:!1});return(0,O.H)(H).pipe((0,P.T)(Q=>{if(Q.error)throw Q.error;return Q.data||[]}))}getRecentAutoQuotes(H){const Q=this.supabase.supabase.from("devis_assurance").select("\n          id,\n          created_at,\n          preneur_id,\n          statut,\n          preneur:personnes!devis_assurance_preneur_id_fkey ( nom, prenom )\n        ").order("created_at",{ascending:!1}).limit(H);return(0,O.H)(Q).pipe((0,P.T)(ce=>{if(ce.error)throw ce.error;return console.log("[DbConnectService] Recent auto quotes fetched:",ce.data),ce.data||[]}))}getRecentHabitationQuotes(H){const Q=this.supabase.supabase.from("habitation_quotes").select("\n          id,\n          created_at,\n          preneur_id,\n          statut,\n          preneur:personnes!habitation_quotes_preneur_id_fkey ( nom, prenom )\n        ").order("created_at",{ascending:!1}).limit(H);return(0,O.H)(Q).pipe((0,P.T)(ce=>{if(ce.error)throw console.error("Erreur lors de la r\xe9cup\xe9ration des devis habitation r\xe9cents:",ce.error),ce.error;return ce.data||[]}))}getAutoPolicies(H){const Q=this.supabase.supabase.from("polices_auto").select("\n          id,\n          numero_police,\n          date_debut,\n          date_fin,\n          statut,\n          preneur:personnes ( nom, prenom )\n        ").order("created_at",{ascending:!1}).limit(H);return(0,O.H)(Q).pipe((0,P.T)(ce=>{if(ce.error)throw ce.error;return ce.data||[]}))}getNationalities(){if(!this.nationalities$){const H=this.supabase.supabase.from("nationalities").select("*").order("nationality",{ascending:!0});this.nationalities$=(0,O.H)(H).pipe((0,P.T)(Q=>Q.data||[]),(0,Z.t)(1))}return this.nationalities$}getQuoteDetails(H,Q){switch(H){case"auto":return this.getDevisDetails(Q);case"habitation":return this.getHabitationQuoteDetails(Q);case"obseques":return this.getObsequesQuoteDetails(Q);case"voyage":return this.getVoyageQuoteDetails(Q);case"rc":return this.getRcQuoteDetails(Q);default:return console.error(`Type de devis inconnu dans getQuoteDetails: ${H}`),(0,e.of)(null)}}getQuoteCategoryById(H){return(0,O.H)(this.supabase.supabase.rpc("get_quote_category_by_id",{p_quote_id:H})).pipe((0,P.T)(Q=>{if(Q.error)throw console.warn(`[DbConnectService] Erreur 500 probable dans 'getQuoteCategoryById' pour l'ID ${H}.`,"Erreur RPC Supabase:",Q.error),Q.error;return Q.data?Q.data:null}),(0,W.W)(Q=>(console.error("Erreur dans le pipe de getQuoteCategoryById:",Q),console.warn(`[DbConnectService] 'getQuoteCategoryById' a \xe9chou\xe9 pour l'ID ${H}.`),(0,e.of)(null))))}updateAutoQuote(H,Q){const me=this.supabase.supabase.rpc("update_auto_quote_details",{p_quote_id:H,p_vehicule_data:{marque:Q.p_vehicule.make,modele:Q.p_vehicule.model,annee:Q.p_vehicule.year,plaque:Q.p_vehicule.licensePlate,puissance_kw:Q.p_vehicule.power,places:Q.p_vehicule.seats,valeur:Q.p_vehicule.value,date_circulation:Q.p_vehicule.registrationDate},p_devis_data:Q.p_devis}).then(({data:Ve,error:Ee})=>Ee?(console.warn(`[DbConnectService] Erreur 500 probable dans 'updateAutoQuote' pour l'ID ${H}.`,"Erreur RPC Supabase:",Ee),console.error("Erreur RPC update_auto_quote_details:",Ee),{success:!1,error:Ee}):{success:!0,data:Ve});return(0,O.H)(me)}updateObsequesQuote(H,Q){const ce={p_quote_id:H,p_preneur_data:Q.preneur,p_devis_data:{nombre_assures:Q.devis.nombre_assures,preneur_est_assure:Q.devis.preneur_est_assure,assures:Q.devis.assures,statut:Q.devis.statut,compagnie_id:Q.devis.compagnie_id}};console.log("[DbConnectService] updateObsequesQuote payload:",ce);const me=this.supabase.supabase.rpc("update_obseques_quote",ce).then(({data:Ve,error:Ee})=>Ee?(console.error(`[DbConnectService] Erreur RPC dans 'updateObsequesQuote' pour l'ID ${H}.`,Ee),console.log("[DbConnectService] updateObsequesQuote payload:",ce),{success:!1,error:Ee}):{success:!0,data:Ve});return(0,O.H)(me)}updateHabitationQuote(H,Q){const me=this.supabase.supabase.rpc("update_habitation_quote_details",{p_quote_id:H,p_devis_data:{batiment_adresse:Q.p_devis.batiment_adresse,batiment_code_postal:Q.p_devis.batiment_code_postal,batiment_ville:Q.p_devis.batiment_ville,batiment_type_maison:Q.p_devis.batiment_type_maison,evaluation_superficie:Q.p_devis.evaluation_superficie,evaluation_nombre_pieces:Q.p_devis.evaluation_nombre_pieces,evaluation_loyer_mensuel:Q.p_devis.evaluation_loyer_mensuel,evaluation_type_valeur_batiment:Q.p_devis.evaluation_type_valeur_batiment,evaluation_type_valeur_contenu:Q.p_devis.evaluation_type_valeur_contenu,evaluation_valeur_expertise:Q.p_devis.evaluation_valeur_expertise,evaluation_date_expertise:Q.p_devis.evaluation_date_expertise,evaluation_valeur_libre_contenu:Q.p_devis.evaluation_valeur_libre_contenu,garantie_contenu:Q.p_devis.garantie_contenu,garantie_vol:Q.p_devis.garantie_vol,garantie_pertes_indirectes:Q.p_devis.garantie_pertes_indirectes,garantie_protection_juridique:Q.p_devis.garantie_protection_juridique,garantie_assistance:Q.p_devis.garantie_assistance,date_effet:Q.p_devis.date_effet,compagnie_id:Q.p_devis.compagnie_id,statut:Q.p_devis.statut}}).then(({data:Ve,error:Ee})=>Ee?(console.warn(`[DbConnectService] Erreur 500 probable dans 'updateHabitationQuote' pour l'ID ${H}.`,"Erreur RPC Supabase:",Ee),{success:!1,error:Ee}):{success:!0,data:Ve});return(0,O.H)(me)}updatePerson(H,Q){return(0,O.H)(this.supabase.supabase.from("personnes").update(Q).eq("id",H).select().single()).pipe((0,P.T)(ce=>{if(ce.error)throw ce.error;return{data:ce.data,error:null}}))}getPersonById(H){return(0,O.H)(this.supabase.supabase.from("personnes").select("*").eq("id",H).single()).pipe((0,P.T)(Q=>(Q.error&&"PGRST116"!==Q.error.code&&console.error(`Erreur lors de la r\xe9cup\xe9ration de la personne avec l'ID ${H}:`,Q.error),Q.data)))}findOrCreatePerson(H){var Q=this;return(0,f.A)(function*(){console.log("[findOrCreatePerson] Donn\xe9es de la personne re\xe7ues :",H);const{data:ce}=yield Q.supabase.supabase.from("personnes").select("*").eq("email",H.email).single();if(ce)return console.log("[findOrCreatePerson] Personne existante trouv\xe9e:",ce),ce;console.log("[findOrCreatePerson] Aucune personne existante, cr\xe9ation en cours...");const{data:me,error:Ve}=yield Q.supabase.supabase.from("personnes").insert(H).select().single();if(Ve)throw console.error("[findOrCreatePerson] Erreur lors de l'insertion de la nouvelle personne :",Ve),Ve;return console.log("[findOrCreatePerson] Nouvelle personne cr\xe9\xe9e :",me),me})()}mapPersonDataForRpc(H,Q={includeDrivingLicense:!0,includeNationalRegistry:!0}){const ce={prenom:H.firstName,nom:H.lastName,date_naissance:H.date_naissance,email:H.email,telephone:H.phone,adresse:H.address,code_postal:H.postalCode,ville:H.city,nationality:H.nationality,marital_status_id:H.maritalStatus};return Q.includeDrivingLicense&&(ce.permis_numero=H.driverLicenseNumber,ce.permis_date=H.driverLicenseDate),Q.includeNationalRegistry&&(ce.numero_national=H.nationalRegistryNumber,ce.idcard_number=H.idCardNumber,ce.idcard_validity=H.idCardValidityDate),ce}getAllQuotesGeneric(H,Q,ce,me,Ve,Ee){const Oe=(me-1)*Ve,Le=Oe+Ve-1;let nt=this.supabase.supabase.from(H).select(Q,{count:"exact"}).order("created_at",{ascending:!1}).range(Oe,Le);if(ce&&(Ee.localColumns?.length||Ee.foreignTables?.length)){const ht=`%${ce}%`;Ee.localColumns&&[].push(Ee.localColumns.map(Ze=>`${Ze}.ilike.${ht}`).join(",")),Ee.foreignTables&&Ee.foreignTables.forEach(Ze=>{const Je=Ze.columns.map(yt=>`${yt}.ilike.${ht}`).join(",");nt=nt.or(Je,{foreignTable:Ze.name})})}return(0,O.H)(nt).pipe((0,P.T)(ht=>({data:ht.data||[],count:ht.count})))}getContractSubjects(){return(0,O.H)(this.supabase.supabase.from("subject_contract").select("id, title").order("title",{ascending:!0})).pipe((0,P.T)(H=>{if(H.error)throw console.error("Erreur lors de la r\xe9cup\xe9ration des sujets de contrat:",H.error),H.error;return H.data||[]}))}getFullQuoteDetails(H){console.log(`[DbConnectService] Appel de getFullQuoteDetails pour l'ID: ${H}`);const Q=this.supabase.supabase.rpc("get_full_quote_details",{p_quote_id:H}).then(({data:ce,error:me})=>{if(me)throw console.warn(`[DbConnectService] Erreur 500 probable dans 'getFullQuoteDetails' pour l'ID ${H}.`,"Erreur RPC Supabase:",me),console.warn(`[DbConnectService] Erreur 500 probable dans 'getFullQuoteDetails' pour l'ID ${H}.`,"Erreur RPC Supabase:",me),me;if(console.log(`[DbConnectService] Donn\xe9es brutes re\xe7ues de la RPC pour l'ID ${H}:`,ce),!ce)throw console.warn(`[DbConnectService] Aucun devis trouv\xe9 via RPC pour l'ID ${H}. La fonction a retourn\xe9 null.`),new Error(`Aucun devis trouv\xe9 pour l'ID ${H}. La fonction a retourn\xe9 une r\xe9ponse vide.`);return console.log(`[DbConnectService] Succ\xe8s: D\xe9tails complets du devis r\xe9cup\xe9r\xe9s pour l'ID ${H}.`),ce});return(0,O.H)(Q)}getAllEcheanceStatuts(){return(0,O.H)(this.supabase.supabase.from("echeancier").select("id, id_echeance, label")).pipe((0,P.T)(H=>{if(H.error)throw console.error("Erreur lors de la r\xe9cup\xe9ration des statuts d'\xe9ch\xe9ancier:",H.error),H.error;return H.data||[]}))}saveCsvDataToDb(H,Q,ce){const me=JSON.parse(JSON.stringify(ce).replace(/\u0000/g,""));return(0,O.H)(this.supabase.insertData("csv_imports",{quote_id:H,quote_type:Q,json_data:me})).pipe((0,P.T)(Ee=>{if(Ee.error)throw Ee.error;return Ee.data}))}getCsvData(H,Q){const ce=this.supabase.supabase.rpc("get_csv_import_data",{p_quote_id:H,p_quote_type:Q});return(0,O.H)(ce).pipe((0,P.T)(me=>{if(me.error)throw console.warn(`[DbConnectService] Erreur 500 probable dans 'getCsvData' pour quoteId ${H}.`,"Erreur RPC Supabase:",me.error),me.error;return me.data||[]}),(0,W.W)(me=>(console.error(`[DbConnectService] Erreur dans getCsvData pour quoteId ${H}:`,me),(0,e.of)([]))))}getDocumentTypes(){return(0,O.H)(this.supabase.supabase.from("type_documents").select("id, created_at, Label, view").order("Label",{ascending:!0})).pipe((0,P.T)(({data:H,error:Q})=>{if(Q)throw console.error("Erreur lors de la r\xe9cup\xe9ration des types de documents :",Q),Q;return H??[]}))}createSignedUrl(H,Q,ce){var me=this;return(0,f.A)(function*(){return me.supabase.supabase.storage.from(H).createSignedUrl(Q,ce)})()}getPublicUrl(H,Q){return this.supabase.supabase.storage.from(H).getPublicUrl(Q)}getCurrentUser(){return this.supabase.currentUser$}getPersonCountsByPostalCode(){return(0,O.H)(this.supabase.supabase.rpc("get_person_counts_by_postal_code")).pipe((0,P.T)(H=>{if(H.error)throw console.error("Erreur lors de l'appel RPC get_person_counts_by_postal_code:",H.error),H.error;return H.data||[]}),(0,W.W)(H=>(console.error("Erreur dans le pipe de getPersonCountsByPostalCode:",H),(0,e.of)([]))))}static \u0275fac=function(Q){return new(Q||Fe)(fe.KVO(te.w))};static \u0275prov=fe.jDH({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}return Fe})()},8212:(at,ye,R)=>{"use strict";R.d(ye,{W:()=>fe});var f=R(467),O=R(6648),de=R(8810),e=R(5558),P=R(6354),W=R(1626),F=R(5312),Z=R(4438),he=R(9692);let fe=(()=>{class te{supabase;http;apiUrl=`${F.c.supabaseUrl}/functions/v1/create-payment-intent`;constructor(Fe,De){this.supabase=Fe,this.http=De}createPaymentIntent(Fe){return(0,O.H)(this.supabase.supabase.auth.getSession()).pipe((0,e.n)(De=>{const H=De.data.session;if(!H)return(0,de.$)(()=>new Error("Utilisateur non authentifi\xe9. Impossible de cr\xe9er une intention de paiement."));const Q=(new W.Lr).set("Authorization",`Bearer ${H.access_token}`);return this.http.post(this.apiUrl,{amount:Fe},{headers:Q})}))}createPaymentRequest(Fe){var De=this;return(0,f.A)(function*(){const{data:H,error:Q}=yield De.supabase.supabase.from("payment_requests").insert(Fe).select().single();if(Q)throw console.error("Erreur lors de la cr\xe9ation de la demande de paiement:",Q),Q;return H})()}getPaymentRequestsForUser(Fe){return(0,O.H)(this.supabase.supabase.from("payment_requests").select("*").eq("uid_user",Fe).order("created_at",{ascending:!1})).pipe((0,P.T)(De=>De.data||[]))}updatePaymentRequestStatus(Fe,De){return(0,O.H)(this.supabase.supabase.from("payment_requests").update(De).eq("id",Fe).select().single()).pipe((0,P.T)(H=>{if(H.error)throw H.error;return H.data}))}static \u0275fac=function(De){return new(De||te)(Z.KVO(he.w),Z.KVO(W.Qq))};static \u0275prov=Z.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})()},4125:(at,ye,R)=>{"use strict";R.d(ye,{T:()=>e});var f=R(467),O=R(5312),de=R(4438);let e=(()=>{class P{constructor(){}sendSms(F,Z){return(0,f.A)(function*(){let he=F.trim();he.startsWith("+")||(he=`+${he}`),console.log(`[SendsmsService] Tentative d'envoi du SMS au num\xe9ro : ${F}`);const fe=`${O.c.supabaseUrl}/functions/v1/send-sms`;try{const te=yield fetch(fe,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${O.c.supabaseKey}`},body:JSON.stringify({to:he,message:Z})});if(!te.ok){const ve=yield te.json();throw console.error("Erreur de la fonction Edge:",ve),new Error(ve.error||`Erreur HTTP: ${te.status}`)}return yield te.json()}catch(te){throw console.error("Erreur lors de l'envoi du SMS:",te),te}})()}static \u0275fac=function(Z){return new(Z||P)};static \u0275prov=de.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})()},9692:(at,ye,R)=>{"use strict";R.d(ye,{w:()=>Z});var f=R(467),O=R(4438),de=R(177),e=R(6580),P=R(5312),W=R(4412),F=R(6354);let Z=(()=>{class he{platformId;supabase;sessionSubject=new W.t(null);session$=this.sessionSubject.asObservable();currentUser$=this.session$.pipe((0,F.T)(te=>te?.user??null));constructor(te){this.platformId=te,(0,de.UE)(this.platformId)?(this.supabase=(0,e.UU)(P.c.supabaseUrl,P.c.supabaseKey),this.supabase.auth.onAuthStateChange((ve,Fe)=>{this.sessionSubject.next(Fe)})):this.supabase={}}insertData(te,ve){var Fe=this;return(0,f.A)(function*(){console.log(`[SupabaseService] Tentative d'insertion dans la table '${te}' avec les donn\xe9es:`,ve);const De=yield Fe.supabase.from(te).insert([ve]);return De.error&&console.error(`[SupabaseService] Erreur lors de l'insertion dans la table '${te}':`,De.error),De})()}fetchData(te,ve){var Fe=this;return(0,f.A)(function*(){console.log(`[SupabaseService] Tentative de lecture depuis la table '${te}' avec la requ\xeate:`,ve);const De=yield Fe.supabase.from(te).select(ve);return De.error&&console.error(`[SupabaseService] Erreur lors de la lecture depuis la table '${te}':`,De.error),De})()}static \u0275fac=function(ve){return new(ve||he)(O.KVO(O.Agw))};static \u0275prov=O.jDH({token:he,factory:he.\u0275fac,providedIn:"root"})}return he})()},4594:(at,ye,R)=>{"use strict";R.d(ye,{U:()=>H});var f=R(4438),O=R(1626),de=R(983),e=R(7673),P=R(6365),W=R(8750),F=R(3794),Z=R(6648),fe=R(6354),te=R(9437),ve=R(5964),Fe=R(1943),De=R(5312);let H=(()=>{class Q{http=(0,f.WQX)(O.Qq);supabaseUrl=De.c.supabaseUrl;supabaseKey=De.c.supabaseKey;getBucketName(me){return{auto:"documents_auto",habitation:"documents_habitation",obseques:"documents_obseques",rc:"documents_rc",voyage:"documents_voyage"}[me]||"documents_autres"}uploadContractFiles(me,Ve,Ee){if(!me||0===me.length)return de.w;this.getBucketName(Ee);const Le=me.length,nt=`${this.supabaseUrl}/functions/v1/storage-upload`;return function he(...Q){const ce=(0,F.lI)(Q),me=(0,F.R0)(Q,1/0),Ve=Q;return Ve.length?1===Ve.length?(0,W.Tg)(Ve[0]):(0,P.U)(me)((0,Z.H)(Ve,ce)):de.w}(...me.map(Ye=>{const Ze=new FormData;return Ze.append("file",Ye),Ze.append("quoteId",String(Ve)),Ze.append("quoteType",Ee),this.http.post(nt,Ze,{headers:{apikey:this.supabaseKey},reportProgress:!0,observe:"events"}).pipe((0,fe.T)(Je=>{switch(Je.type){case O.hv.UploadProgress:const yt=Math.round(100*Je.loaded/(Je.total||1));return{fileName:Ye.name,status:"uploading",progress:yt};case O.hv.Response:return{fileName:Ye.name,status:"success",path:Je.body.path,progress:100};default:return null}}),(0,te.W)(Je=>(0,e.of)({fileName:Ye.name,status:"error",error:Je.error?.error||Je.message||"Erreur r\xe9seau",progress:0})))})).pipe((0,ve.p)(Ye=>null!==Ye),(0,Fe.S)((Ye,Ze)=>(Ye.progresses.set(Ze.fileName,Ze.progress||0),Ye.lastResult={...Ye.lastResult,...Ze},Ye),{progresses:new Map,lastResult:null}),(0,fe.T)(Ye=>{const Ze=Array.from(Ye.progresses.values()).reduce((Je,yt)=>Je+yt,0)/Le;return{...Ye.lastResult,totalProgress:Math.round(Ze)}}))}getDownloadUrl(me,Ve){return`${this.supabaseUrl}/storage/v1/object/public/${me}/${Ve}`}static \u0275fac=function(Ve){return new(Ve||Q)};static \u0275prov=f.jDH({token:Q,factory:Q.\u0275fac,providedIn:"root"})}return Q})()},1364:(at,ye,R)=>{"use strict";R.d(ye,{Y:()=>F});var f=R(177),O=R(4438);const de=["*"];function e(Z,he){if(1&Z&&(O.qex(0),O.j41(1,"div",3),O.nrm(2,"div",4),O.j41(3,"p",5),O.EFF(4),O.k0s()(),O.bVm()),2&Z){const fe=O.XpG();O.R7$(4),O.JRh(fe.loadingMessage)}}function P(Z,he){if(1&Z&&(O.qex(0),O.j41(1,"div",6)(2,"strong",7),O.EFF(3,"Erreur !"),O.k0s(),O.j41(4,"span",8),O.EFF(5),O.k0s()(),O.bVm()),2&Z){const fe=O.XpG();O.R7$(5),O.SpI(" ",fe.errorMessage,"")}}function W(Z,he){1&Z&&(O.qex(0),O.SdG(1),O.bVm())}let F=(()=>{class Z{state;loadingMessage="Chargement...";errorMessage="Une erreur est survenue lors du chargement des donn\xe9es.";static \u0275fac=function(te){return new(te||Z)};static \u0275cmp=O.VBU({type:Z,selectors:[["app-state-container"]],inputs:{state:"state",loadingMessage:"loadingMessage",errorMessage:"errorMessage"},standalone:!0,features:[O.aNF],ngContentSelectors:de,decls:4,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"flex","justify-center","items-center","p-10"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-blue-500"],[1,"ml-4","text-gray-600"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded-md"],[1,"font-bold"],[1,"block","sm:inline"]],template:function(te,ve){1&te&&(O.NAR(),O.qex(0,0),O.DNE(1,e,5,1,"ng-container",1)(2,P,6,1,"ng-container",1)(3,W,2,0,"ng-container",2),O.bVm()),2&te&&(O.Y8G("ngSwitch",!0),O.R7$(),O.Y8G("ngSwitchCase",ve.state.loading),O.R7$(),O.Y8G("ngSwitchCase",!!ve.state.error))},dependencies:[f.MD,f.ux,f.e1,f.fG],encapsulation:2})}return Z})()},5312:(at,ye,R)=>{"use strict";R.d(ye,{c:()=>f});const f={production:!1,dbConnect:"https://fqopliwvpuiprdegxytz.supabase.co",supabaseUrl:"https://fqopliwvpuiprdegxytz.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZxb3BsaXd2cHVpcHJkZWd4eXR6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4NzgyMzIsImV4cCI6MjA3ODQ1NDIzMn0.n-jJ5ZmaetUKLZMEz0YEvYwO2bvXWkOHKKGl1MMpQ0E",maishapay_payment_url:"https://api-maishapay.prod.aksantinet.com",website:"https://www.assurkin.be",supabaseFunctionUrl:"https://fqopliwvpuiprdegxytz.supabase.co",domain_name:"assurkin.be",stripe_lien_paiement:"https://assurkin.be/paiement/",storage_bucket:"https://fqopliwvpuiprdegxytz.supabase.co/functions/v1/storage-upload",stripe_public_key:"pk_test_51SbHOFCF57PhpQ6IkRFaNg06NIIThSlX2tf0aucAgm4LK4RqJkksCAxQoslBSQPfTdJjJHSXMLC6PnUlYp7PsvRf00rmMa9ypu",storageBucketPrefix:"https://fqopliwvpuiprdegxytz.supabase.co/functions/v1/storage-upload",mapboxAccessToken:"pk.eyJ1IjoiYXNzdXJraW4iLCJhIjoiY21qMTZ0bXl0MGhuajNjcjd3a2FmMzVkcCJ9.wo_Z98iaQQ_iLZyUDBTMlQ"}},8989:(at,ye,R)=>{"use strict";var f=R(345),O=R(1626),de=R(9981),e=R(4438),P=R(177);let W=(()=>{class p{platformId;constructor(s){this.platformId=s}scrollToSection(s){if((0,P.UE)(this.platformId)){const a=document.getElementById(s);a&&a.scrollIntoView({behavior:"smooth",block:"start"})}}static \u0275fac=function(a){return new(a||p)(e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:p,selectors:[["app-accueil"]],standalone:!0,features:[e.aNF],decls:84,vars:0,consts:[[1,"bg-white"],["id","hero",1,"relative","isolate","bg-black","px-6","pt-14","lg:px-8"],[1,"mx-auto","max-w-7xl","py-8","sm:py-12","lg:py-16"],[1,"grid","grid-cols-1","items-center","gap-x-8","gap-y-16","lg:grid-cols-2"],[1,"text-center","lg:text-left","animate-fade-in-up"],[1,"text-4xl","font-bold","tracking-tight","text-white","sm:text-6xl","animate-fade-in-up",2,"animation-delay","0.2s"],[1,"mt-6","text-lg","leading-8","text-gray-300","animate-fade-in-up",2,"animation-delay","0.4s"],[1,"mt-10","flex","items-center","justify-center","gap-x-6","lg:justify-start","animate-fade-in-up",2,"animation-delay","0.6s"],["routerLink","/contact",1,"rounded-md","bg-indigo-600","px-3.5","py-2.5","text-sm","font-semibold","text-white","shadow-sm","hover:bg-indigo-500","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-indigo-600"],[1,"text-sm","font-semibold","leading-6","text-white",3,"click"],["aria-hidden","true"],[1,"flex","justify-center","lg:justify-end","animate-fade-in",2,"animation-delay","0.8s"],["src","https://fqopliwvpuiprdegxytz.supabase.co/storage/v1/object/sign/img_website/assukin.webp?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV81MmJmNDFiNC0yNGQ0LTQ3ZTktYmEzNi04YWZmY2NjMzEzNzIiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJpbWdfd2Vic2l0ZS9hc3N1a2luLndlYnAiLCJpYXQiOjE3NjMwMjAyMjYsImV4cCI6MjA3ODM4MDIyNn0.7YNFUpPItIygZoqlnw2CE-Elj9r-64kfppEpvelhMpA","alt","\xc9quipe Assurkin",1,"w-full","max-w-xs","rounded-xl","shadow-xl","ring-1","ring-gray-400/10","lg:max-w-md"],["id","services",1,"bg-gray-50","py-24","sm:py-32"],[1,"mx-auto","max-w-7xl","px-6","lg:px-8"],[1,"mx-auto","max-w-2xl","lg:text-center"],[1,"text-base","font-semibold","leading-7","text-indigo-600"],[1,"mt-2","text-3xl","font-bold","tracking-tight","text-gray-900","sm:text-4xl"],[1,"mx-auto","mt-16","max-w-2xl","sm:mt-20","lg:mt-24","lg:max-w-none"],[1,"text-2xl","font-bold","text-center","text-gray-800","mb-12"],[1,"grid","max-w-xl","grid-cols-1","gap-x-8","gap-y-16","lg:max-w-none","lg:grid-cols-3"],[1,"relative","pl-16"],[1,"text-base","font-semibold","leading-7","text-gray-900"],[1,"absolute","left-0","top-0","flex","h-10","w-10","items-center","justify-center","rounded-lg","bg-indigo-600"],["fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor","aria-hidden","true",1,"h-6","w-6","text-white"],["stroke-linecap","round","stroke-linejoin","round","d","M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h1.125c.621 0 1.125-.504 1.125-1.125V14.25m-17.25 4.5h10.5a1.125 1.125 0 001.125-1.125V6.75a1.125 1.125 0 00-1.125-1.125H3.375A1.125 1.125 0 002.25 6.75v10.5a1.125 1.125 0 001.125 1.125z"],[1,"mt-2","text-base","leading-7","text-gray-600"],[1,"mt-4"],["routerLink","/particulier/auto",1,"text-sm","font-semibold","leading-6","text-indigo-600"],["stroke-linecap","round","stroke-linejoin","round","d","M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"],["routerLink","/particulier/habitation",1,"text-sm","font-semibold","leading-6","text-indigo-600"],["stroke-linecap","round","stroke-linejoin","round","d","M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m-7.5-2.962c.513-.513.513-1.344 0-1.857a1.5 1.5 0 012.121 0c.513.513.513 1.344 0 1.857m-2.121 0a1.5 1.5 0 01-2.121 0c-.513-.513-.513-1.344 0-1.857a1.5 1.5 0 012.121 0m-2.121 0c.513.513.513 1.344 0 1.857m-2.121 0a1.5 1.5 0 01-2.121 0c-.513-.513-.513-1.344 0-1.857a1.5 1.5 0 012.121 0m6.364 0c.513.513.513 1.344 0 1.857m-2.121 0a1.5 1.5 0 01-2.121 0c-.513-.513-.513-1.344 0-1.857a1.5 1.5 0 012.121 0m2.121 0c.513.513.513 1.344 0 1.857m-2.121 0a1.5 1.5 0 01-2.121 0c-.513-.513-.513-1.344 0-1.857a1.5 1.5 0 012.121 0m-2.121 0a1.5 1.5 0 01-2.121 0c-.513-.513-.513-1.344 0-1.857a1.5 1.5 0 012.121 0m9.546 2.121a9.094 9.094 0 01-3.742.479 3 3 0 01-4.682-2.72m7.5 2.962c-.513.513-.513 1.344 0 1.857a1.5 1.5 0 002.121 0c.513-.513.513 1.344 0 1.857m-2.121 0a1.5 1.5 0 00-2.121 0c-.513.513-.513 1.344 0-1.857a1.5 1.5 0 002.121 0"],["routerLink","/particulier/rc-familale",1,"text-sm","font-semibold","leading-6","text-indigo-600"],[1,"mt-16","lg:mt-24"],[1,"text-xl","font-bold","text-center","text-gray-800","mb-8"],[1,"mx-auto","max-w-4xl"],[1,"overflow-hidden","rounded-lg","shadow-xl"],["controls","","autoplay","","muted","","loop","","playsinline","",1,"w-full","h-auto"],["src","https://dela-digital.be/tools/video-pensez-a-plus-tard-avec-dela-bruno-sophie-1583925934.mp4","type","video/mp4"],[1,"text-center","text-gray-600"],[1,"mt-8","text-center"],["routerLink","/contact",1,"rounded-md","bg-indigo-600","px-3.5","py-2.5","text-sm","font-semibold","text-white","shadow-sm","hover:bg-indigo-500"]],template:function(a,u){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),e.EFF(6,"AssurKin, votre partenaire confiance"),e.k0s(),e.j41(7,"p",6),e.EFF(8,"Des solutions d'assurance sur-mesure pour les particuliers et les professionnels. Notre \xe9coute active nous permet de vous garantir la protection la plus adapt\xe9e \xe0 vos besoins, pour votre tranquillit\xe9 d'esprit. Nous vous accompagnons \xe0 chaque \xe9tape pour vous offrir un service fiable et r\xe9actif."),e.k0s(),e.j41(9,"div",7)(10,"a",8),e.EFF(11,"Contactez-nous"),e.k0s(),e.j41(12,"button",9),e.bIt("click",function(){return u.scrollToSection("services")}),e.EFF(13,"D\xe9couvrir nos services "),e.j41(14,"span",10),e.EFF(15,"\u2192"),e.k0s()()()(),e.j41(16,"div",11),e.nrm(17,"img",12),e.k0s()()()(),e.j41(18,"div",13)(19,"div",14)(20,"div",15)(21,"h2",16),e.EFF(22,"Nos Assurances"),e.k0s(),e.j41(23,"p",17),e.EFF(24,"Tout ce dont vous avez besoin pour \xeatre bien prot\xe9g\xe9"),e.k0s()(),e.j41(25,"div",18)(26,"h3",19),e.EFF(27,"Pour les Particuliers"),e.k0s(),e.j41(28,"dl",20)(29,"div",21)(30,"dt",22)(31,"div",23),e.qSk(),e.j41(32,"svg",24),e.nrm(33,"path",25),e.k0s()(),e.EFF(34," Assurance Auto "),e.k0s(),e.joV(),e.j41(35,"dd",26),e.EFF(36,"Une couverture compl\xe8te pour votre v\xe9hicule, adapt\xe9e \xe0 vos habitudes de conduite."),e.k0s(),e.j41(37,"dd",27)(38,"a",28),e.EFF(39,"Demander une offre "),e.j41(40,"span",10),e.EFF(41,"\u2192"),e.k0s()()()(),e.j41(42,"div",21)(43,"dt",22)(44,"div",23),e.qSk(),e.j41(45,"svg",24),e.nrm(46,"path",29),e.k0s()(),e.EFF(47," Assurance Habitation "),e.k0s(),e.joV(),e.j41(48,"dd",26),e.EFF(49,"Elle n\u2019est pas obligatoire, mais la majorit\xe9 des Belges en ont une. Il est en effet important de prot\xe9ger vos biens de dommages \xe9ventuels. "),e.k0s(),e.j41(50,"dd",27)(51,"a",30),e.EFF(52,"Demander une offre "),e.j41(53,"span",10),e.EFF(54,"\u2192"),e.k0s()()()(),e.j41(55,"div",21)(56,"dt",22)(57,"div",23),e.qSk(),e.j41(58,"svg",24),e.nrm(59,"path",31),e.k0s()(),e.EFF(60," RC Familiale "),e.k0s(),e.joV(),e.j41(61,"dd",26),e.EFF(62,"L'assurance indispensable pour couvrir les dommages que vous ou votre famille pourriez causer \xe0 des tiers."),e.k0s(),e.j41(63,"dd",27)(64,"a",32),e.EFF(65,"Demander une offre "),e.j41(66,"span",10),e.EFF(67,"\u2192"),e.k0s()()()()(),e.j41(68,"div",33)(69,"h4",34),e.EFF(70,"Pensez \xe0 plus tard, pour eux"),e.k0s(),e.j41(71,"div",35)(72,"div",36)(73,"video",37),e.nrm(74,"source",38),e.EFF(75," Votre navigateur ne supporte pas la lecture de vid\xe9os. "),e.k0s()()()()(),e.j41(76,"div",18)(77,"h3",19),e.EFF(78,"Pour les Professionnels"),e.k0s(),e.j41(79,"p",39),e.EFF(80,"Des solutions sp\xe9cifiques pour prot\xe9ger votre activit\xe9. Contactez-nous pour une analyse personnalis\xe9e de vos besoins."),e.k0s(),e.j41(81,"div",40)(82,"a",41),e.EFF(83,"Prendre rendez-vous"),e.k0s()()()()()())},dependencies:[P.MD,de.iI,de.Wk]})}return p})();var F=R(9417),Z=R(7673),he=R(1413),fe=R(6354),te=R(9437),ve=R(8141),Fe=R(8359);class De extends Fe.yU{constructor(S,s){super()}schedule(S,s=0){return this}}const H={setInterval(p,S,...s){const{delegate:a}=H;return a?.setInterval?a.setInterval(p,S,...s):setInterval(p,S,...s)},clearInterval(p){const{delegate:S}=H;return(S?.clearInterval||clearInterval)(p)},delegate:void 0};var Q=R(7908),me=R(6129);class Ve{constructor(S,s=Ve.now){this.schedulerActionCtor=S,this.now=s}schedule(S,s=0,a){return new this.schedulerActionCtor(this,S).schedule(a,s)}}Ve.now=me.U.now;const Oe=new class Ee extends Ve{constructor(S,s=Ve.now){super(S,s),this.actions=[],this._active=!1}flush(S){const{actions:s}=this;if(this._active)return void s.push(S);let a;this._active=!0;do{if(a=S.execute(S.state,S.delay))break}while(S=s.shift());if(this._active=!1,a){for(;S=s.shift();)S.unsubscribe();throw a}}}(class ce extends De{constructor(S,s){super(S,s),this.scheduler=S,this.work=s,this.pending=!1}schedule(S,s=0){var a;if(this.closed)return this;this.state=S;const u=this.id,k=this.scheduler;return null!=u&&(this.id=this.recycleAsyncId(k,u,s)),this.pending=!0,this.delay=s,this.id=null!==(a=this.id)&&void 0!==a?a:this.requestAsyncId(k,this.id,s),this}requestAsyncId(S,s,a=0){return H.setInterval(S.flush.bind(S,this),a)}recycleAsyncId(S,s,a=0){if(null!=a&&this.delay===a&&!1===this.pending)return s;null!=s&&H.clearInterval(s)}execute(S,s){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const a=this._execute(S,s);if(a)return a;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(S,s){let u,a=!1;try{this.work(S)}catch(k){a=!0,u=k||new Error("Scheduled action threw falsy error")}if(a)return this.unsubscribe(),u}unsubscribe(){if(!this.closed){const{id:S,scheduler:s}=this,{actions:a}=s;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Q.o)(a,this),null!=S&&(this.id=this.recycleAsyncId(s,S,null)),this.delay=null,super.unsubscribe()}}});var nt=R(9974),ht=R(4360);function Ye(p,S=Oe){return(0,nt.N)((s,a)=>{let u=null,k=null,J=null;const xe=()=>{if(u){u.unsubscribe(),u=null;const kt=k;k=null,a.next(kt)}};function Dt(){const kt=J+p,cn=S.now();if(cn<kt)return u=this.schedule(void 0,kt-cn),void a.add(u);xe()}s.subscribe((0,ht._)(a,kt=>{k=kt,J=S.now(),u||(u=S.schedule(Dt,p),a.add(u))},()=>{xe(),a.complete()},void 0,()=>{k=u=null}))})}var Ze=R(3669);function Je(p,S=Ze.D){return p=p??yt,(0,nt.N)((s,a)=>{let u,k=!0;s.subscribe((0,ht._)(a,J=>{const xe=S(J);(k||!p(u,xe))&&(k=!1,u=xe,a.next(J))}))})}function yt(p,S){return p===S}var Re=R(5558),pt=R(6977),qe=R(1594);let kn=(()=>{class p{el;renderer;onChange=()=>{};onTouched=()=>{};constructor(s,a){this.el=s,this.renderer=a}writeValue(s){const a=this.formatPhoneNumber(s||"");this.renderer.setProperty(this.el.nativeElement,"value",a)}registerOnChange(s){this.onChange=s}registerOnTouched(s){this.onTouched=s}onInput(s){const a=s.target;if(!a)return;const u=a.value.replace(/\D/g,""),k=this.formatPhoneNumber(u);this.renderer.setProperty(a,"value",k),this.onChange(u)}onBlur(){this.onTouched()}formatPhoneNumber(s){if(!s)return"";let a=s.startsWith("32")?s.substring(2):s;return a.startsWith("4")?`+32 ${a.slice(0,3)} ${a.slice(3,5)} ${a.slice(5,7)} ${a.slice(7,9)}`.trim():`+32 ${a.slice(0,1)} ${a.slice(1,4)} ${a.slice(4,6)} ${a.slice(6,8)}`.trim()}static \u0275fac=function(a){return new(a||p)(e.rXU(e.aKT),e.rXU(e.sFG))};static \u0275dir=e.FsC({type:p,selectors:[["","appPhoneFormat",""]],hostBindings:function(a,u){1&a&&e.bIt("input",function(J){return u.onInput(J)})("blur",function(){return u.onBlur()})},standalone:!0,features:[e.Jv_([{provide:F.kq,useExisting:p,multi:!0}])]})}return p})();var jt=R(1807);const Tt=p=>({"ring-red-500":p}),_r=(p,S)=>({"ring-red-500":p,"cursor-not-allowed":S}),br=(p,S)=>({"bg-green-100":p,"bg-red-100":S}),vn=(p,S)=>({"bg-green-600 hover:bg-green-700 focus:ring-green-500":p,"bg-red-600 hover:bg-red-700 focus:ring-red-500":S});function Se(p,S){1&p&&(e.qSk(),e.j41(0,"svg",122),e.nrm(1,"path",123),e.k0s())}function ke(p,S){1&p&&(e.qSk(),e.j41(0,"svg",124),e.nrm(1,"path",125),e.k0s())}function Ne(p,S){if(1&p){const s=e.RV6();e.j41(0,"div",111)(1,"div",112)(2,"div",113)(3,"div",114),e.DNE(4,Se,2,0,"svg",115)(5,ke,2,0,"svg",116),e.k0s(),e.j41(6,"h3",117),e.EFF(7),e.k0s(),e.j41(8,"div",118),e.nrm(9,"div",119),e.k0s(),e.j41(10,"div",120)(11,"button",121),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.closePopup())}),e.EFF(12," Fermer "),e.k0s()()()()()}if(2&p){const s=e.XpG();e.R7$(3),e.Y8G("ngClass",e.l_i(6,br,s.submissionStatus.success,!s.submissionStatus.success)),e.R7$(),e.Y8G("ngIf",s.submissionStatus.success),e.R7$(),e.Y8G("ngIf",!s.submissionStatus.success),e.R7$(2),e.SpI(" ",s.submissionStatus.success?"Op\xe9ration r\xe9ussie":"Une erreur est survenue"," "),e.R7$(2),e.Y8G("innerHTML",s.submissionStatus.message,e.npT),e.R7$(2),e.Y8G("ngClass",e.l_i(9,vn,s.submissionStatus.success,!s.submissionStatus.success))}}function Me(p,S){1&p&&(e.j41(0,"div",126),e.qSk(),e.j41(1,"svg",127),e.nrm(2,"circle",128)(3,"path",129),e.k0s(),e.joV(),e.j41(4,"p",130),e.EFF(5,"V\xe9rification de vos donn\xe9es..."),e.k0s()())}function tt(p,S){1&p&&(e.j41(0,"div"),e.EFF(1," La date de naissance est requise. "),e.k0s())}function Pe(p,S){1&p&&(e.j41(0,"div"),e.EFF(1," L'\xe2ge minimum requis est de 14 ans. "),e.k0s())}function vt(p,S){if(1&p&&(e.j41(0,"div",131),e.DNE(1,tt,2,0,"div",132)(2,Pe,2,0,"div",132),e.k0s()),2&p){let s,a;const u=e.XpG();e.R7$(),e.Y8G("ngIf",null==(s=u.autoForm.get("preneur.date_naissance"))?null:s.hasError("required")),e.R7$(),e.Y8G("ngIf",null==(a=u.autoForm.get("preneur.date_naissance"))?null:a.hasError("minAge"))}}function ln(p,S){1&p&&(e.j41(0,"div",131),e.EFF(1," Le format de l'adresse email est invalide. "),e.k0s())}function Cn(p,S){1&p&&(e.j41(0,"div",133),e.qSk(),e.j41(1,"svg",134),e.nrm(2,"circle",128)(3,"path",129),e.k0s()())}function Mt(p,S){if(1&p){const s=e.RV6();e.j41(0,"li",137),e.bIt("click",function(){const u=e.eBV(s).$implicit,k=e.XpG(2);return e.Njj(k.selectPostalCode(u,"preneur"))}),e.EFF(1),e.k0s()}if(2&p){const s=S.$implicit;e.R7$(),e.Lme(" ",s.postalCode," - ",s.city," ")}}function yn(p,S){if(1&p&&(e.j41(0,"ul",135),e.DNE(1,Mt,2,2,"li",136),e.k0s()),2&p){const s=e.XpG();e.R7$(),e.Y8G("ngForOf",s.filteredPreneurPostalCodes)}}function Ot(p,S){1&p&&(e.j41(0,"option",138),e.EFF(1,"Ville"),e.k0s())}function Sn(p,S){if(1&p&&(e.j41(0,"option",139),e.EFF(1),e.k0s()),2&p){const s=S.$implicit;e.Y8G("value",s),e.R7$(),e.SpI(" ",s," ")}}function pn(p,S){1&p&&(e.j41(0,"div",140),e.EFF(1," Attention : ce num\xe9ro de permis est d\xe9j\xe0 enregistr\xe9 dans notre syst\xe8me. "),e.k0s())}function Zt(p,S){1&p&&(e.j41(0,"div"),e.EFF(1," La date doit \xeatre ant\xe9rieure \xe0 aujourd'hui. "),e.k0s())}function hn(p,S){1&p&&(e.j41(0,"div"),e.EFF(1," La date d'obtention du permis doit \xeatre au moins 14 ans apr\xe8s la date de naissance. "),e.k0s())}function Jn(p,S){if(1&p&&(e.j41(0,"div",131),e.DNE(1,Zt,2,0,"div",132)(2,hn,2,0,"div",132),e.k0s()),2&p){let s,a;const u=e.XpG();e.R7$(),e.Y8G("ngIf",null==(s=u.autoForm.get("preneur.permis_date"))?null:s.hasError("dateNotInPast")),e.R7$(),e.Y8G("ngIf",(null==(a=u.autoForm.get("preneur"))?null:a.hasError("datePermisTropTot"))&&(null==(a=u.autoForm.get("preneur.permis_date"))?null:a.touched))}}function rt(p,S){1&p&&(e.j41(0,"div"),e.EFF(1," La date de naissance est requise. "),e.k0s())}function ur(p,S){1&p&&(e.j41(0,"div"),e.EFF(1," L'\xe2ge minimum requis est de 14 ans. "),e.k0s())}function mr(p,S){if(1&p&&(e.j41(0,"div",131),e.DNE(1,rt,2,0,"div",132)(2,ur,2,0,"div",132),e.k0s()),2&p){let s,a;const u=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(s=u.autoForm.get("conducteur.date_naissance"))?null:s.hasError("required")),e.R7$(),e.Y8G("ngIf",null==(a=u.autoForm.get("conducteur.date_naissance"))?null:a.hasError("minAge"))}}function Yr(p,S){1&p&&(e.j41(0,"div",133),e.qSk(),e.j41(1,"svg",134),e.nrm(2,"circle",128)(3,"path",129),e.k0s()())}function hs(p,S){if(1&p){const s=e.RV6();e.j41(0,"li",137),e.bIt("click",function(){const u=e.eBV(s).$implicit,k=e.XpG(3);return e.Njj(k.selectPostalCode(u,"conducteur"))}),e.EFF(1),e.k0s()}if(2&p){const s=S.$implicit;e.R7$(),e.Lme(" ",s.postalCode," - ",s.city," ")}}function Rr(p,S){if(1&p&&(e.j41(0,"ul",135),e.DNE(1,hs,2,2,"li",136),e.k0s()),2&p){const s=e.XpG(2);e.R7$(),e.Y8G("ngForOf",s.filteredConducteurPostalCodes)}}function en(p,S){1&p&&(e.j41(0,"option",138),e.EFF(1,"Ville"),e.k0s())}function Rt(p,S){if(1&p&&(e.j41(0,"option",139),e.EFF(1),e.k0s()),2&p){const s=S.$implicit;e.Y8G("value",s),e.R7$(),e.SpI(" ",s," ")}}function tn(p,S){1&p&&(e.j41(0,"div",140),e.EFF(1," Attention : ce num\xe9ro de permis est d\xe9j\xe0 enregistr\xe9 dans notre syst\xe8me. "),e.k0s())}function Kt(p,S){1&p&&(e.j41(0,"div"),e.EFF(1," La date doit \xeatre ant\xe9rieure \xe0 aujourd'hui. "),e.k0s())}function Vn(p,S){1&p&&(e.j41(0,"div"),e.EFF(1," La date d'obtention du permis doit \xeatre au moins 14 ans apr\xe8s la date de naissance. "),e.k0s())}function ii(p,S){if(1&p&&(e.j41(0,"div",131),e.DNE(1,Kt,2,0,"div",132)(2,Vn,2,0,"div",132),e.k0s()),2&p){let s,a;const u=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(s=u.autoForm.get("conducteur.permis_date"))?null:s.hasError("dateNotInPast")),e.R7$(),e.Y8G("ngIf",(null==(a=u.autoForm.get("conducteur"))?null:a.hasError("datePermisTropTot"))&&(null==(a=u.autoForm.get("conducteur.permis_date"))?null:a.touched))}}function Un(p,S){if(1&p&&(e.j41(0,"div",141)(1,"div")(2,"label",142),e.EFF(3,"Genre"),e.k0s(),e.j41(4,"select",143)(5,"option"),e.EFF(6,"Madame"),e.k0s(),e.j41(7,"option"),e.EFF(8,"Monsieur"),e.k0s(),e.j41(9,"option"),e.EFF(10,"Autre"),e.k0s()()(),e.j41(11,"div")(12,"label",144),e.EFF(13,"Nom"),e.k0s(),e.nrm(14,"input",145),e.k0s(),e.j41(15,"div")(16,"label",146),e.EFF(17,"Pr\xe9nom"),e.k0s(),e.nrm(18,"input",147),e.k0s(),e.j41(19,"div")(20,"label",148),e.EFF(21,"Date de naissance"),e.k0s(),e.nrm(22,"input",149),e.DNE(23,mr,3,2,"div",30),e.k0s(),e.j41(24,"div",35)(25,"label",150),e.EFF(26,"Rue et num\xe9ro"),e.k0s(),e.nrm(27,"input",151),e.k0s(),e.j41(28,"div")(29,"div",38)(30,"label",152),e.EFF(31,"Code Postal"),e.k0s(),e.nrm(32,"input",153),e.DNE(33,Yr,4,0,"div",41)(34,Rr,2,1,"ul",42),e.k0s()(),e.j41(35,"div")(36,"label",154),e.EFF(37,"Ville"),e.k0s(),e.j41(38,"select",155),e.DNE(39,en,2,0,"option",45)(40,Rt,2,2,"option",46),e.k0s()(),e.j41(41,"div")(42,"label",156),e.EFF(43,"Num\xe9ro de permis de conduire"),e.k0s(),e.nrm(44,"input",157),e.DNE(45,tn,2,0,"div",49),e.k0s(),e.j41(46,"div")(47,"label",158),e.EFF(48,"Date d'obtention du permis"),e.k0s(),e.nrm(49,"input",159),e.DNE(50,ii,3,2,"div",30),e.k0s()()),2&p){let s,a,u,k,J,xe,Dt,kt,cn,gn,qn,Ln;const Ut=e.XpG();e.R7$(4),e.Y8G("ngClass",e.eq3(19,Tt,(null==(s=Ut.autoForm.get("conducteur.genre"))?null:s.invalid)&&(null==(s=Ut.autoForm.get("conducteur.genre"))?null:s.touched))),e.R7$(10),e.Y8G("ngClass",e.eq3(21,Tt,(null==(a=Ut.autoForm.get("conducteur.nom"))?null:a.invalid)&&(null==(a=Ut.autoForm.get("conducteur.nom"))?null:a.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(23,Tt,(null==(u=Ut.autoForm.get("conducteur.prenom"))?null:u.invalid)&&(null==(u=Ut.autoForm.get("conducteur.prenom"))?null:u.touched))),e.R7$(4),e.Y8G("max",Ut.maxDate)("ngClass",e.eq3(25,Tt,(null==(k=Ut.autoForm.get("conducteur.date_naissance"))?null:k.invalid)&&(null==(k=Ut.autoForm.get("conducteur.date_naissance"))?null:k.touched))),e.R7$(),e.Y8G("ngIf",(null==(J=Ut.autoForm.get("conducteur.date_naissance"))?null:J.invalid)&&((null==(J=Ut.autoForm.get("conducteur.date_naissance"))?null:J.touched)||(null==(J=Ut.autoForm.get("conducteur.date_naissance"))?null:J.dirty))),e.R7$(4),e.Y8G("ngClass",e.eq3(27,Tt,(null==(xe=Ut.autoForm.get("conducteur.adresse"))?null:xe.invalid)&&(null==(xe=Ut.autoForm.get("conducteur.adresse"))?null:xe.touched))),e.R7$(5),e.Y8G("ngClass",e.eq3(29,Tt,(null==(Dt=Ut.autoForm.get("conducteur.code_postal"))?null:Dt.invalid)&&(null==(Dt=Ut.autoForm.get("conducteur.code_postal"))?null:Dt.touched))),e.R7$(),e.Y8G("ngIf",Ut.isLoading),e.R7$(),e.Y8G("ngIf",Ut.filteredConducteurPostalCodes.length>0),e.R7$(4),e.Y8G("disabled",0===Ut.conducteurCities.length)("ngClass",e.eq3(31,Tt,(null==(kt=Ut.autoForm.get("conducteur.ville"))?null:kt.invalid)&&(null==(kt=Ut.autoForm.get("conducteur.ville"))?null:kt.touched))),e.R7$(),e.Y8G("ngIf",0===Ut.conducteurCities.length),e.R7$(),e.Y8G("ngForOf",Ut.conducteurCities),e.R7$(4),e.Y8G("ngClass",e.eq3(33,Tt,(null==(cn=Ut.autoForm.get("conducteur.permis_numero"))?null:cn.invalid)&&(null==(cn=Ut.autoForm.get("conducteur.permis_numero"))?null:cn.touched))),e.R7$(),e.Y8G("ngIf",null==(gn=Ut.autoForm.get("conducteur.permis_numero"))?null:gn.hasError("permisExists")),e.R7$(4),e.Y8G("max",Ut.maxDate)("ngClass",e.eq3(35,Tt,(null==(qn=Ut.autoForm.get("conducteur.permis_date"))?null:qn.invalid)&&(null==(qn=Ut.autoForm.get("conducteur.permis_date"))?null:qn.touched))),e.R7$(),e.Y8G("ngIf",(null==(Ln=Ut.autoForm.get("conducteur.permis_date"))?null:Ln.invalid)&&((null==(Ln=Ut.autoForm.get("conducteur.permis_date"))?null:Ln.touched)||(null==(Ln=Ut.autoForm.get("conducteur.permis_date"))?null:Ln.dirty)))}}function Xr(p,S){1&p&&(e.j41(0,"div",160),e.qSk(),e.j41(1,"svg",134),e.nrm(2,"circle",128)(3,"path",129),e.k0s()())}function Fn(p,S){if(1&p){const s=e.RV6();e.j41(0,"li",137),e.bIt("click",function(){const u=e.eBV(s).$implicit,k=e.XpG(2);return e.Njj(k.selectMarque(u))}),e.EFF(1),e.k0s()}if(2&p){const s=S.$implicit;e.R7$(),e.SpI(" ",s.nom," ")}}function nn(p,S){if(1&p&&(e.j41(0,"ul",135),e.DNE(1,Fn,2,1,"li",136),e.k0s()),2&p){const s=e.XpG();e.R7$(),e.Y8G("ngForOf",s.filteredMarques)}}function _n(p,S){1&p&&(e.j41(0,"div",160),e.qSk(),e.j41(1,"svg",134),e.nrm(2,"circle",128)(3,"path",129),e.k0s()())}function $i(p,S){if(1&p){const s=e.RV6();e.j41(0,"li",137),e.bIt("click",function(){const u=e.eBV(s).$implicit,k=e.XpG(2);return e.Njj(k.selectModele(u))}),e.EFF(1),e.k0s()}if(2&p){const s=S.$implicit;e.R7$(),e.SpI(" ",s.nom," ")}}function Nt(p,S){if(1&p&&(e.j41(0,"ul",135),e.DNE(1,$i,2,1,"li",136),e.k0s()),2&p){const s=e.XpG();e.R7$(),e.Y8G("ngForOf",s.filteredModeles)}}function Er(p,S){1&p&&(e.j41(0,"div"),e.EFF(1," La date doit \xeatre ant\xe9rieure \xe0 aujourd'hui. "),e.k0s())}function $t(p,S){if(1&p&&(e.j41(0,"div",131),e.DNE(1,Er,2,0,"div",132),e.k0s()),2&p){let s;const a=e.XpG();e.R7$(),e.Y8G("ngIf",null==(s=a.autoForm.get("vehicule.dateCirculation"))?null:s.hasError("dateNotInPast"))}}function Cr(p,S){1&p&&(e.j41(0,"div",161)(1,"p"),e.EFF(2," Bonne nouvelle ! Cet email est d\xe9j\xe0 connu chez nous. "),e.j41(3,"a",162),e.EFF(4,"Connectez-vous"),e.k0s(),e.EFF(5," pour r\xe9cup\xe9rer vos donn\xe9es et acc\xe9l\xe9rer votre demande. "),e.k0s()())}let Or=(()=>{class p{dbConnectService;fb;router;platformId;ageValidator(s){return a=>{if(!a.value)return null;const u=new Date(a.value),k=new Date;let J=k.getFullYear()-u.getFullYear();const xe=k.getMonth()-u.getMonth();return(xe<0||0===xe&&k.getDate()<u.getDate())&&J--,J>=s?null:{minAge:{requiredAge:s,actualAge:J}}}}dateInPastValidator(){return s=>{if(!s.value)return null;const a=new Date(s.value),u=new Date;return u.setHours(0,0,0,0),a<u?null:{dateNotInPast:!0}}}datePermisApresNaissanceValidator(){return s=>{const a=s.get("date_naissance"),u=s.get("permis_date");if(!(a&&u&&a.value&&u.value))return null;const k=new Date(a.value);return new Date(u.value)>=new Date(k.getFullYear()+14,k.getMonth(),k.getDate())?null:{datePermisTropTot:!0}}}permisExistsValidator(){return s=>s.value?this.dbConnectService.checkPermisExists(s.value).pipe((0,fe.T)(a=>{if(a){const u=this.autoForm.get("preneur")?.value;if((0,P.UE)(this.platformId)&&u&&u.email&&u.telephone){const k={email:u.email,telephone:u.telephone};localStorage.setItem("Ifoundyou",JSON.stringify(k)),console.log("Permis existant. Informations de contact sauvegard\xe9es dans Ifoundyou:",k)}return{permisExists:!0}}return null}),(0,te.W)(()=>(0,Z.of)(null))):(0,Z.of)(null)}emailExistsValidator(){return s=>s.value?this.dbConnectService.checkEmailExists(s.value).pipe((0,ve.M)(a=>this.handleEmailExists(a,s)),(0,fe.T)(a=>null),(0,te.W)(()=>(0,Z.of)(null))):(0,Z.of)(null)}preneurPostalCode="";handleEmailExists(s,a){if(s)a.setErrors({...a.errors,emailExists:!0});else{const u={...a.errors};delete u.emailExists,a.setErrors(Object.keys(u).length>0?u:null)}}preneurCity="";preneurCities=[];filteredPreneurPostalCodes=[];conducteurCities=[];filteredConducteurPostalCodes=[];selectedMarque=null;filteredMarques=[];filteredModeles=[];isConducteurDifferent=!1;isLoading=!1;isMarqueLoading=!1;isModeleLoading=!1;showModeleList=!1;isSubmitting=!1;marque$;modele$;destroy$=new he.B;submissionStatus=null;minDate;maxDate;autoForm;constructor(s,a,u,k){this.dbConnectService=s,this.fb=a,this.router=u,this.platformId=k;const J=new Date,xe=new Date(J);xe.setDate(xe.getDate()+1),this.minDate=xe.toISOString().split("T")[0],this.maxDate=J.toISOString().split("T")[0]}ngOnInit(){if(this.autoForm=this.fb.group({preneur:this.fb.group({genre:[null,F.k0.required],nom:["",F.k0.required],prenom:["",F.k0.required],date_naissance:["",[F.k0.required,this.ageValidator(14)]],telephone:["",F.k0.required],email:["",[F.k0.required,F.k0.email]],adresse:["",F.k0.required],code_postal:["",[F.k0.required,F.k0.pattern("^[0-9]{4}$")]],ville:["",F.k0.required],permis_numero:["",F.k0.required],permis_date:["",[F.k0.required,this.dateInPastValidator()]]},{validators:this.datePermisApresNaissanceValidator()}),conducteurDifferent:[!1],conducteur:this.fb.group({genre:[null],nom:[""],prenom:[""],date_naissance:["",this.ageValidator(14)],adresse:[""],code_postal:["",F.k0.pattern("^[0-9]{4}$")],ville:[""],permis_numero:[""],permis_date:["",this.dateInPastValidator()]},{validators:this.datePermisApresNaissanceValidator()}),vehicule:this.fb.group({type:["",F.k0.required],marque:["",F.k0.required],modele:["",F.k0.required],puissance:["",F.k0.required],places:["",F.k0.required],dateCirculation:["",[F.k0.required,this.dateInPastValidator()]],valeur:[""]}),garanties:this.fb.group({base:[!1],omnium:[null],conducteur:[!1],assistance:[!1]}),dateEffet:["",F.k0.required]}),(0,P.UE)(this.platformId)){const s=this.autoForm.get("preneur.permis_numero");s&&s.setAsyncValidators(this.permisExistsValidator());const a=this.autoForm.get("preneur.email");a&&a.setAsyncValidators(this.emailExistsValidator()),this.modele$=new he.B,this.marque$=new he.B,this.setupPostalCodeListener("preneur"),this.setupPostalCodeListener("conducteur"),this.marque$.pipe(Ye(300),Je(),(0,ve.M)(()=>this.isMarqueLoading=!0),(0,Re.n)(u=>u.length<1?(this.filteredMarques=[],(0,Z.of)([])):this.dbConnectService.searchMarques(u)),(0,pt.Q)(this.destroy$)).subscribe(u=>{this.filteredMarques=u,console.log("[Marque] Marques re\xe7ues:",u),this.isMarqueLoading=!1}),this.modele$.pipe(Ye(300),Je(),(0,ve.M)(()=>this.isModeleLoading=!0),(0,Re.n)(u=>this.selectedMarque?this.dbConnectService.searchModeles(this.selectedMarque.marque_id,""):(0,Z.of)([])),(0,pt.Q)(this.destroy$)).subscribe(u=>{this.filteredModeles=u,console.log("[Modele] Mod\xe8les re\xe7us:",u),this.isModeleLoading=!1}),this.autoForm.get("conducteurDifferent")?.valueChanges.pipe((0,pt.Q)(this.destroy$)).subscribe(u=>{this.toggleConducteurValidators(u)})}}onMarqueInput(s){const a=s.target.value.trim();(0,P.UE)(this.platformId)&&(this.marque$.next(a),""===a&&(this.selectedMarque=null,this.autoForm.get("vehicule.modele")?.setValue(""),this.filteredModeles=[]))}ngOnDestroy(){(0,P.UE)(this.platformId)&&(this.destroy$.next(),this.destroy$.complete())}selectPostalCode(s,a){const u=this.autoForm.get(a);u.get("code_postal")?.setValue(s.postalCode,{emitEvent:!1}),this.dbConnectService.getCitiesByPostalCode(s.postalCode).pipe((0,qe.$)()).subscribe(k=>{"preneur"===a?(this.preneurCities=k,this.filteredPreneurPostalCodes=[]):(this.conducteurCities=k,this.filteredConducteurPostalCodes=[]),u.get("ville")?.setValue(s.city)})}setupPostalCodeListener(s){const a=this.autoForm.get(`${s}.code_postal`),u=this.autoForm.get(`${s}.ville`);!a||!u||a.valueChanges.pipe(Ye(300),Je(),(0,ve.M)(()=>this.isLoading=!0),(0,Re.n)(k=>k&&k.length>=2?this.dbConnectService.getPostalCodes(k):("preneur"===s?this.filteredPreneurPostalCodes=[]:this.filteredConducteurPostalCodes=[],(0,Z.of)([]))),(0,ve.M)(()=>{"preneur"===s?this.preneurCities=[]:this.conducteurCities=[],u.setValue("",{emitEvent:!1})}),(0,pt.Q)(this.destroy$)).subscribe(k=>{this.isLoading=!1,"preneur"===s?this.filteredPreneurPostalCodes=k:this.filteredConducteurPostalCodes=k})}selectMarque(s){this.autoForm.get("vehicule.marque")?.setValue(s.nom),this.selectedMarque=s,this.filteredMarques=[],this.autoForm.get("vehicule.modele")?.setValue(""),this.modele$.next(s.nom)}toggleModeleList(){this.selectedMarque&&(this.showModeleList=!this.showModeleList)}onModeleInput(s){}selectModele(s){this.autoForm.get("vehicule.modele")?.setValue(s.nom),this.filteredModeles=[],this.showModeleList=!1}scrollToSection(s){if((0,P.UE)(this.platformId)){const a=document.getElementById(s);a&&a.scrollIntoView({behavior:"smooth",block:"start"})}}onSubmit(){if((0,P.UE)(this.platformId))if(this.autoForm.valid){this.isSubmitting=!0,this.submissionStatus=null;const s=this.autoForm.get("preneur"),a=s.get("email");a?.hasError("emailExists")?this.dbConnectService.getPersonByEmail(a.value).subscribe(u=>{const k=s.get("permis_numero"),J=s.get("date_naissance");!u||u.permis_numero===k?.value&&u.date_naissance===J?.value?this.proceedToSubmit():(this.isSubmitting=!1,this.submissionStatus={success:!1,message:"Les informations saisies (num\xe9ro de permis ou date de naissance) ne correspondent pas \xe0 celles enregistr\xe9es pour cet email. Veuillez v\xe9rifier vos donn\xe9es."})}):this.proceedToSubmit()}else{this.markAllAsTouched(this.autoForm);const s=this.getInvalidFields(this.autoForm);let a="Veuillez remplir tous les champs obligatoires avant de soumettre.";s.length>0&&(a+='<br><br><strong>Champs manquants ou invalides :</strong><ul class="list-disc list-inside mt-2">',s.forEach(u=>{a+=`<li>${u}</li>`}),a+="</ul>"),this.submissionStatus={success:!1,message:a}}}proceedToSubmit(){this.dbConnectService.createFullDevis(this.autoForm.value).subscribe({next:s=>{this.isSubmitting=!1,console.log("Devis enregistr\xe9 avec succ\xe8s",s);const a=this.autoForm.get("preneur")?.value;if(a&&a.email&&a.telephone){const u={email:a.email,telephone:a.telephone};localStorage.setItem("Ifoundyou",JSON.stringify(u)),console.log("Informations de contact sauvegard\xe9es dans Ifoundyou:",u)}localStorage.removeItem("autoFormData"),this.submissionStatus={success:!0,message:"Votre demande de devis a bien \xe9t\xe9 enregistr\xe9e !"}},error:s=>{this.isSubmitting=!1,console.error("Erreur lors de l'enregistrement du devis",s),this.submissionStatus={success:!1,message:"Une erreur est survenue lors de l'enregistrement de votre devis."}}})}closePopup(){this.submissionStatus?.success&&this.autoForm.reset(),this.submissionStatus=null}getInvalidFields(s,a=""){const u=[],k={"preneur.genre":"Genre (Preneur)","preneur.nom":"Nom (Preneur)","preneur.prenom":"Pr\xe9nom (Preneur)","preneur.date_naissance":"Date de naissance (Preneur)","preneur.telephone":"Num\xe9ro de t\xe9l\xe9phone (Preneur)","preneur.email":"Email (Preneur)","preneur.adresse":"Rue et num\xe9ro (Preneur)","preneur.code_postal":"Code Postal (Preneur)","preneur.ville":"Ville (Preneur)","preneur.permis_numero":"Num\xe9ro de permis (Preneur)","preneur.permis_date":"Date d'obtention du permis (Preneur)","conducteur.genre":"Genre (Conducteur)","conducteur.nom":"Nom (Conducteur)","conducteur.prenom":"Pr\xe9nom (Conducteur)","conducteur.date_naissance":"Date de naissance (Conducteur)","conducteur.adresse":"Rue et num\xe9ro (Conducteur)","conducteur.code_postal":"Code Postal (Conducteur)","conducteur.ville":"Ville (Conducteur)","conducteur.permis_numero":"Num\xe9ro de permis (Conducteur)","conducteur.permis_date":"Date d'obtention du permis (Conducteur)","vehicule.type":"Type de v\xe9hicule","vehicule.marque":"Marque","vehicule.modele":"Mod\xe8le","vehicule.puissance":"Puissance (kW)","vehicule.places":"Nombre de places","vehicule.dateCirculation":"Date de 1\xe8re mise en circulation","garanties.omnium":"Choix Omnium",dateEffet:"Date d'effet souhait\xe9e"};return Object.keys(s.controls).forEach(J=>{const xe=s.get(J),Dt=a?`${a}.${J}`:J;if(xe instanceof F.gE){if("conducteur"===J&&!s.get("conducteurDifferent")?.value)return;u.push(...this.getInvalidFields(xe,Dt))}else if(xe&&xe.invalid){const kt=k[Dt]||J;u.includes(kt)||u.push(kt)}}),u}toggleConducteurValidators(s){const a=this.autoForm.get("conducteur");s?(a.get("genre")?.setValidators(F.k0.required),a.get("nom")?.setValidators(F.k0.required),a.get("prenom")?.setValidators(F.k0.required),a.get("date_naissance")?.setValidators([F.k0.required,this.ageValidator(14)]),a.get("adresse")?.setValidators(F.k0.required),a.get("code_postal")?.setValidators([F.k0.required,F.k0.pattern("^[0-9]{4}$")]),a.get("ville")?.setValidators(F.k0.required),a.get("permis_numero")?.setValidators([F.k0.required]),a.get("permis_numero")?.setAsyncValidators(this.permisExistsValidator()),a.setValidators(this.datePermisApresNaissanceValidator()),a.get("permis_date")?.setValidators([F.k0.required,this.dateInPastValidator()])):(a.reset(),Object.keys(a.controls).forEach(u=>{a.get(u)?.clearValidators(),a.get(u)?.clearAsyncValidators(),a.clearValidators()})),Object.keys(a.controls).forEach(u=>{a.get(u)?.updateValueAndValidity()})}markAllAsTouched(s){Object.values(s.controls).forEach(a=>{a.markAsTouched(),a instanceof F.gE&&this.markAllAsTouched(a)})}static \u0275fac=function(a){return new(a||p)(e.rXU(jt.y),e.rXU(F.ok),e.rXU(de.Ix),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:p,selectors:[["app-form-auto"]],standalone:!0,features:[e.aNF],decls:232,vars:79,consts:[["id","hero",1,"relative","isolate","bg-black","px-6","pt-14","lg:px-8"],[1,"mx-auto","max-w-7xl","py-8","sm:py-12","lg:py-16"],[1,"grid","grid-cols-1","items-center","gap-x-8","gap-y-16","lg:grid-cols-2"],[1,"text-center","lg:text-left"],[1,"text-4xl","font-bold","tracking-tight","text-white","sm:text-6xl"],[1,"mt-6","text-lg","leading-8","text-gray-300"],[1,"mt-10","flex","items-center","justify-center","gap-x-6","lg:justify-start"],[1,"rounded-md","bg-white","px-3.5","py-2.5","text-sm","font-semibold","text-gray-900","shadow-sm","hover:bg-gray-100","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-white",3,"click"],["routerLink","/contact",1,"text-sm","font-semibold","leading-6","text-white"],["aria-hidden","true"],[1,"flex","justify-center","lg:justify-end"],["src","https://fqopliwvpuiprdegxytz.supabase.co/storage/v1/object/sign/img_website/voiture.webp?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV81MmJmNDFiNC0yNGQ0LTQ3ZTktYmEzNi04YWZmY2NjMzEzNzIiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJpbWdfd2Vic2l0ZS92b2l0dXJlLndlYnAiLCJpYXQiOjE3NjMwMjQ4MjIsImV4cCI6MjA3ODM4NDgyMn0.FImtkSpgJA8sH1jNbWWavhvpy0AvdxxDHeQtg9G40Cg","alt","Voiture rouge pour l'assurance auto",1,"w-full","max-w-xs","rounded-xl","shadow-xl","ring-1","ring-gray-400/10","lg:max-w-md"],["id","content",1,"container","mx-auto","p-4","py-16","sm:py-24"],[1,"grid","grid-cols-1","lg:grid-cols-2","lg:gap-12"],[1,"text-gray-700","prose","lg:prose-lg","max-w-none","prose-h2:mb-4","prose-p:mt-4","prose-ul:mt-4"],[1,"text-2xl","font-bold"],["class","fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center","id","submission-popup",4,"ngIf"],["class","fixed inset-0 bg-gray-800 bg-opacity-75 overflow-y-auto h-full w-full z-50 flex flex-col items-center justify-center",4,"ngIf"],["id","form",1,"space-y-12","bg-white","p-8","rounded-lg","shadow-md","mt-8","lg:mt-0",3,"ngSubmit","formGroup"],["formGroupName","preneur",1,"border-t","pt-6"],[1,"text-xl","font-semibold","px-2","text-gray-700","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],["for","preneur-genre",1,"block","text-sm","font-medium","text-gray-700"],["id","preneur-genre","formControlName","genre",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","preneur-nom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-nom","formControlName","nom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","preneur-prenom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-prenom","formControlName","prenom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","preneur-dob",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","preneur-dob","formControlName","date_naissance",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"max","ngClass"],["class","text-red-600 text-sm mt-1",4,"ngIf"],["for","preneur-tel",1,"block","text-sm","font-medium","text-gray-700"],["type","tel","id","preneur-tel","formControlName","telephone","appPhoneFormat","","placeholder","+32 4XX XX XX XX","maxlength","18",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","preneur-email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","preneur-email","formControlName","email",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],[1,"lg:col-span-2"],["for","preneur-adresse",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-adresse","formControlName","adresse",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],[1,"relative"],["for","preneur-cp",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-cp","formControlName","code_postal","autocomplete","off","maxlength","4",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","pl-3","pr-10","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["class","absolute inset-y-0 right-0 flex items-center pr-3",4,"ngIf"],["class","absolute z-10 w-full bg-white border border-gray-300 rounded-md mt-1 max-h-40 overflow-y-auto",4,"ngIf"],["for","preneur-ville",1,"block","text-sm","font-medium","text-gray-700"],["id","preneur-ville","formControlName","ville",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm","disabled:bg-gray-100",3,"disabled","ngClass"],["value","",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["for","preneur-permis",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-permis","formControlName","permis_numero",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["class","text-orange-800 bg-orange-100 p-2 rounded-md text-sm mt-2",4,"ngIf"],["for","preneur-permis-date",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","preneur-permis-date","formControlName","permis_date",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"max","ngClass"],[1,"border-t","pt-6"],[1,"flex","items-center","mb-4"],["id","conducteur-diff","formControlName","conducteurDifferent","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","conducteur-diff",1,"ml-2","block","text-sm","text-gray-900"],["formGroupName","conducteur","class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",4,"ngIf"],["formGroupName","vehicule",1,"border-t","pt-6"],["for","vehicule-type",1,"block","text-sm","font-medium","text-gray-700"],["id","vehicule-type","formControlName","type",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["value","","disabled",""],["value","Voiture"],["value","Camionnette"],["value","Camion"],["value","Bus"],["value","Mini Bus"],["value","Voiture sans permis"],["value","Moto"],["value","Cyclomoteur"],["value","Trottinette"],["for","vehicule-marque",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","vehicule-marque","formControlName","marque","autocomplete","off","placeholder","Ex: Volkswagen",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"input","ngClass"],["class","absolute inset-y-0 right-0 flex items-center pr-3 top-6",4,"ngIf"],["for","vehicule-modele",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","vehicule-modele","formControlName","modele","readonly","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm","cursor-pointer",3,"click","placeholder","ngClass"],["for","vehicule-puissance",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","vehicule-puissance","formControlName","puissance",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","vehicule-places",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","vehicule-places","formControlName","places",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","vehicule-circu-date",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","vehicule-circu-date","formControlName","dateCirculation",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"max","ngClass"],["for","vehicule-valeur",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","vehicule-valeur","formControlName","valeur","placeholder","\u20ac",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["formGroupName","garanties",1,"border-t","pt-6"],[1,"space-y-4"],[1,"flex","items-start"],[1,"flex","h-5","items-center"],["id","garantie-base","formControlName","base","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],[1,"ml-3","text-sm"],["for","garantie-base",1,"font-medium","text-gray-700"],[1,"text-base","font-medium","text-gray-900"],[1,"mt-2"],[1,"space-y-2","sm:flex","sm:items-center","sm:space-y-0","sm:space-x-10"],[1,"flex","items-center"],["id","omnium-non","formControlName","omnium","value","non","type","radio",1,"h-4","w-4","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","omnium-non",1,"ml-3","block","text-sm","font-medium","text-gray-700"],["id","omnium-partiel","formControlName","omnium","value","partiel","type","radio",1,"h-4","w-4","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","omnium-partiel",1,"ml-3","block","text-sm","font-medium","text-gray-700"],["id","omnium-total","formControlName","omnium","value","total","type","radio",1,"h-4","w-4","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","omnium-total",1,"ml-3","block","text-sm","font-medium","text-gray-700"],["id","garantie-conducteur","formControlName","conducteur","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","garantie-conducteur",1,"font-medium","text-gray-700"],["id","garantie-assistance","formControlName","assistance","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","garantie-assistance",1,"font-medium","text-gray-700"],[1,"pt-4","border-t"],["for","date-effet",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","date-effet","formControlName","dateEffet",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"min","ngClass"],["class","text-green-800 bg-green-100 p-3 rounded-md text-sm mt-4 text-center",4,"ngIf"],[1,"pt-6"],[1,"flex","justify-end"],["type","submit",1,"inline-flex","justify-center","rounded-md","border","border-transparent","bg-indigo-600","py-2","px-4","text-sm","font-medium","text-white","shadow-sm","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2"],["id","submission-popup",1,"fixed","inset-0","bg-gray-600","bg-opacity-50","overflow-y-auto","h-full","w-full","z-50","flex","items-center","justify-center"],[1,"relative","mx-auto","p-5","border","w-full","max-w-md","shadow-lg","rounded-md","bg-white"],[1,"mt-3","text-center"],[1,"mx-auto","flex","items-center","justify-center","h-12","w-12","rounded-full",3,"ngClass"],["class","h-6 w-6 text-green-600","fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["class","h-6 w-6 text-red-600","fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],[1,"text-lg","leading-6","font-medium","text-gray-900","mt-2"],[1,"mt-2","px-7","py-3"],[1,"text-sm","text-gray-500","text-left",3,"innerHTML"],[1,"items-center","px-4","py-3"],["id","close-popup-btn",1,"px-4","py-2","rounded-md","text-white","text-base","font-medium","shadow-sm","w-full",3,"click","ngClass"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"h-6","w-6","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"h-6","w-6","text-red-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"fixed","inset-0","bg-gray-800","bg-opacity-75","overflow-y-auto","h-full","w-full","z-50","flex","flex-col","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-10","w-10","text-white","mb-4"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"text-white","text-lg","font-semibold"],[1,"text-red-600","text-sm","mt-1"],[4,"ngIf"],[1,"absolute","inset-y-0","right-0","flex","items-center","pr-3"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5","text-gray-400"],[1,"absolute","z-10","w-full","bg-white","border","border-gray-300","rounded-md","mt-1","max-h-40","overflow-y-auto"],["class","px-3 py-2 cursor-pointer hover:bg-gray-100",3,"click",4,"ngFor","ngForOf"],[1,"px-3","py-2","cursor-pointer","hover:bg-gray-100",3,"click"],["value",""],[3,"value"],[1,"text-orange-800","bg-orange-100","p-2","rounded-md","text-sm","mt-2"],["formGroupName","conducteur",1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],["for","conducteur-genre",1,"block","text-sm","font-medium","text-gray-700"],["id","conducteur-genre","formControlName","genre",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","conducteur-nom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","conducteur-nom","formControlName","nom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","conducteur-prenom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","conducteur-prenom","formControlName","prenom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","conducteur-dob",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","conducteur-dob","formControlName","date_naissance",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"max","ngClass"],["for","conducteur-adresse",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","conducteur-adresse","formControlName","adresse",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","conducteur-cp",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","conducteur-cp","formControlName","code_postal","autocomplete","off","maxlength","4",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","pl-3","pr-10","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","conducteur-ville",1,"block","text-sm","font-medium","text-gray-700"],["id","conducteur-ville","formControlName","ville",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm","disabled:bg-gray-100",3,"disabled","ngClass"],["for","conducteur-permis",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","conducteur-permis","formControlName","permis_numero",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","conducteur-permis-date",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","conducteur-permis-date","formControlName","permis_date",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"max","ngClass"],[1,"absolute","inset-y-0","right-0","flex","items-center","pr-3","top-6"],[1,"text-green-800","bg-green-100","p-3","rounded-md","text-sm","mt-4","text-center"],["routerLink","/account",1,"font-bold","underline","hover:text-green-700"]],template:function(a,u){if(1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e.EFF(5,"Assurance Auto"),e.k0s(),e.j41(6,"p",5),e.EFF(7,"Souscrire une assurance auto, c\u2019est rouler l\u2019esprit tranquille\u202f! Elle vous prot\xe8ge en cas d\u2019accident et prend en charge les r\xe9parations de votre v\xe9hicule. Sans elle, les impr\xe9vus peuvent co\xfbter tr\xe8s cher et entra\xeener des sanctions. Avec la bonne couverture, vous \xeates serein sur la route et en s\xe9curit\xe9, tout en prot\xe9geant les autres."),e.k0s(),e.j41(8,"div",6)(9,"button",7),e.bIt("click",function(){return u.scrollToSection("content")}),e.EFF(10,"Souscrire"),e.k0s(),e.j41(11,"a",8),e.EFF(12,"Contact "),e.j41(13,"span",9),e.EFF(14,"\u2192"),e.k0s()()()(),e.j41(15,"div",10),e.nrm(16,"img",11),e.k0s()()()(),e.j41(17,"div",12)(18,"div",13)(19,"div",14)(20,"h2",15),e.EFF(21,"Assurances Auto"),e.k0s(),e.j41(22,"p"),e.EFF(23,"La loi stipule que tout propri\xe9taire d\u2019un v\xe9hicule \xe0 moteur doit contracter une assurance auto. Oui, mais laquelle ? Il existe en effet plusieurs niveaux de protection. Tout d\xe9pend donc de votre budget et de vos besoins concernant la qualit\xe9 de la couverture."),e.k0s(),e.j41(24,"p"),e.EFF(25,"Voici les formules les plus r\xe9pandues :"),e.k0s(),e.j41(26,"ul")(27,"li")(28,"strong"),e.EFF(29,"La RC obligatoire (aussi appel\xe9e assurance responsabilit\xe9 civile auto) :"),e.k0s(),e.EFF(30," c\u2019est le minimum l\xe9gal autoris\xe9, puisqu\u2019elle couvre uniquement les dommages (mat\xe9riels et physiques) caus\xe9s \xe0 autrui, lorsque le conducteur est consid\xe9r\xe9 comme responsable."),e.k0s(),e.j41(31,"li")(32,"strong"),e.EFF(33,"La mini omnium propose une couverture au tiers am\xe9lior\xe9e."),e.k0s(),e.EFF(34," Elle est modulable et les garanties propos\xe9es varient d\u2019un assureur \xe0 l\u2019autre (bris de glace, incendie, vol)."),e.k0s(),e.j41(35,"li")(36,"strong"),e.EFF(37,"La full omnium offre un haut niveau de garantie,"),e.k0s(),e.EFF(38," non seulement pour le conducteur mais aussi pour le v\xe9hicule. Les indemnisations en cas de sinistre sont \xe9galement plus rapides et interviennent sans attendre que le litige soit r\xe9gl\xe9 avec l\u2019autre assureur."),e.k0s(),e.j41(39,"li")(40,"strong"),e.EFF(41,"Omnium 24+ :"),e.k0s(),e.EFF(42," il s\u2019agit de la formule omnium adapt\xe9e aux voitures d\u2019occasion."),e.k0s(),e.j41(43,"li")(44,"strong"),e.EFF(45,"Protection juridique :"),e.k0s(),e.EFF(46," elle est toujours utile pour \xe9viter tout conflit d\u2019int\xe9r\xeat avec un tiers, un expert, une compagnie adverse\u2026"),e.k0s()(),e.j41(47,"p"),e.EFF(48,"De plus, un certain nombre d\u2019options permettent de moduler encore chaque formule : niveau de franchise, dommages couverts, \xe2ge du conducteur, assistance et services annexes, protection conducteur, etc."),e.k0s(),e.j41(49,"p"),e.EFF(50,"Bref, vous l\u2019aurez compris, choisir l\u2019assurance auto qui vous convient n\u2019est pas si simple ! Mieux vaut consulter un courtier ind\xe9pendant qui vous proposera une protection personnalis\xe9e."),e.k0s()(),e.DNE(51,Ne,13,12,"div",16)(52,Me,6,0,"div",17),e.j41(53,"form",18),e.bIt("ngSubmit",function(){return u.onSubmit()}),e.j41(54,"fieldset",19)(55,"legend",20),e.EFF(56,"1. Preneur d'assurance"),e.k0s(),e.j41(57,"div",21)(58,"div")(59,"label",22),e.EFF(60,"Genre"),e.k0s(),e.j41(61,"select",23)(62,"option"),e.EFF(63,"Madame"),e.k0s(),e.j41(64,"option"),e.EFF(65,"Monsieur"),e.k0s(),e.j41(66,"option"),e.EFF(67,"Autre"),e.k0s()()(),e.j41(68,"div")(69,"label",24),e.EFF(70,"Nom"),e.k0s(),e.nrm(71,"input",25),e.k0s(),e.j41(72,"div")(73,"label",26),e.EFF(74,"Pr\xe9nom"),e.k0s(),e.nrm(75,"input",27),e.k0s(),e.j41(76,"div")(77,"label",28),e.EFF(78,"Date de naissance"),e.k0s(),e.nrm(79,"input",29),e.DNE(80,vt,3,2,"div",30),e.k0s(),e.j41(81,"div")(82,"label",31),e.EFF(83,"Num\xe9ro de t\xe9l\xe9phone"),e.k0s(),e.nrm(84,"input",32),e.k0s(),e.j41(85,"div")(86,"label",33),e.EFF(87,"Email"),e.k0s(),e.nrm(88,"input",34),e.DNE(89,ln,2,0,"div",30),e.k0s(),e.j41(90,"div",35)(91,"label",36),e.EFF(92,"Rue et num\xe9ro"),e.k0s(),e.nrm(93,"input",37),e.k0s(),e.j41(94,"div")(95,"div",38)(96,"label",39),e.EFF(97,"Code Postal"),e.k0s(),e.nrm(98,"input",40),e.DNE(99,Cn,4,0,"div",41)(100,yn,2,1,"ul",42),e.k0s()(),e.j41(101,"div")(102,"label",43),e.EFF(103,"Ville"),e.k0s(),e.j41(104,"select",44),e.DNE(105,Ot,2,0,"option",45)(106,Sn,2,2,"option",46),e.k0s()(),e.j41(107,"div")(108,"label",47),e.EFF(109,"Num\xe9ro de permis de conduire"),e.k0s(),e.nrm(110,"input",48),e.DNE(111,pn,2,0,"div",49),e.k0s(),e.j41(112,"div")(113,"label",50),e.EFF(114,"Date d'obtention du permis"),e.k0s(),e.nrm(115,"input",51),e.DNE(116,Jn,3,2,"div",30),e.k0s()()(),e.j41(117,"fieldset",52)(118,"legend",20),e.EFF(119,"2. Conducteur principal (si diff\xe9rent)"),e.k0s(),e.j41(120,"div",53),e.nrm(121,"input",54),e.j41(122,"label",55),e.EFF(123,"Le conducteur principal est diff\xe9rent du preneur d'assurance."),e.k0s()(),e.DNE(124,Un,51,37,"div",56),e.k0s(),e.j41(125,"fieldset",57)(126,"legend",20),e.EFF(127,"3. Informations sur le v\xe9hicule"),e.k0s(),e.j41(128,"div",21)(129,"div")(130,"label",58),e.EFF(131,"Type de v\xe9hicule"),e.k0s(),e.j41(132,"select",59)(133,"option",60),e.EFF(134,"S\xe9lectionnez un type"),e.k0s(),e.j41(135,"option",61),e.EFF(136,"Voiture"),e.k0s(),e.j41(137,"option",62),e.EFF(138,"Camionnette"),e.k0s(),e.j41(139,"option",63),e.EFF(140,"Camion"),e.k0s(),e.j41(141,"option",64),e.EFF(142,"Bus"),e.k0s(),e.j41(143,"option",65),e.EFF(144,"Mini Bus"),e.k0s(),e.j41(145,"option",66),e.EFF(146,"Voiture sans permis"),e.k0s(),e.j41(147,"option",67),e.EFF(148,"Moto"),e.k0s(),e.j41(149,"option",68),e.EFF(150,"Cyclomoteur"),e.k0s(),e.j41(151,"option",69),e.EFF(152,"Trottinette"),e.k0s()()(),e.j41(153,"div")(154,"div",38)(155,"label",70),e.EFF(156,"Marque"),e.k0s(),e.j41(157,"input",71),e.bIt("input",function(J){return u.onMarqueInput(J)}),e.k0s(),e.DNE(158,Xr,4,0,"div",72)(159,nn,2,1,"ul",42),e.k0s()(),e.j41(160,"div")(161,"div",38)(162,"label",73),e.EFF(163,"Mod\xe8le"),e.k0s(),e.j41(164,"input",74),e.bIt("click",function(){return u.toggleModeleList()}),e.k0s(),e.DNE(165,_n,4,0,"div",72)(166,Nt,2,1,"ul",42),e.k0s()(),e.j41(167,"div")(168,"label",75),e.EFF(169,"Puissance (kW)"),e.k0s(),e.nrm(170,"input",76),e.k0s(),e.j41(171,"div")(172,"label",77),e.EFF(173,"Nombre de places (conducteur inclus)"),e.k0s(),e.nrm(174,"input",78),e.k0s(),e.j41(175,"div")(176,"label",79),e.EFF(177,"Date de 1\xe8re mise en circulation"),e.k0s(),e.nrm(178,"input",80),e.DNE(179,$t,2,1,"div",30),e.k0s(),e.j41(180,"div")(181,"label",81),e.EFF(182,"Valeur catalogue/facture (si Omnium)"),e.k0s(),e.nrm(183,"input",82),e.k0s()()(),e.j41(184,"fieldset",83)(185,"legend",20),e.EFF(186,"4. Garanties souhait\xe9es"),e.k0s(),e.j41(187,"div",84)(188,"div",85)(189,"div",86),e.nrm(190,"input",87),e.k0s(),e.j41(191,"div",88)(192,"label",89),e.EFF(193,"Garantie de base (Responsabilit\xe9 Civile + Protection Juridique)"),e.k0s()()(),e.j41(194,"div")(195,"label",90),e.EFF(196,"Omnium"),e.k0s(),e.j41(197,"fieldset",91)(198,"div",92)(199,"div",93),e.nrm(200,"input",94),e.j41(201,"label",95),e.EFF(202,"Non souhait\xe9e"),e.k0s()(),e.j41(203,"div",93),e.nrm(204,"input",96),e.j41(205,"label",97),e.EFF(206,"Omnium Partielle"),e.k0s()(),e.j41(207,"div",93),e.nrm(208,"input",98),e.j41(209,"label",99),e.EFF(210,"Omnium Totale"),e.k0s()()()()(),e.j41(211,"div",85)(212,"div",86),e.nrm(213,"input",100),e.k0s(),e.j41(214,"div",88)(215,"label",101),e.EFF(216,"Assurance Conducteur"),e.k0s()()(),e.j41(217,"div",85)(218,"div",86),e.nrm(219,"input",102),e.k0s(),e.j41(220,"div",88)(221,"label",103),e.EFF(222,"Assistance"),e.k0s()()()()(),e.j41(223,"div",104)(224,"label",105),e.EFF(225,"Date d'effet souhait\xe9e"),e.k0s(),e.nrm(226,"input",106),e.k0s(),e.DNE(227,Cr,6,0,"div",107),e.j41(228,"div",108)(229,"div",109)(230,"button",110),e.EFF(231," Recevoir mon offre "),e.k0s()()()()()()),2&a){let k,J,xe,Dt,kt,cn,gn,qn,Ln,Ut,Xi,cs,Fa,Io,ca,nl,Xo,uu,Ia,ka,rl,ds,da,Ko,fa;e.R7$(51),e.Y8G("ngIf",u.submissionStatus),e.R7$(),e.Y8G("ngIf",u.isSubmitting),e.R7$(),e.Y8G("formGroup",u.autoForm),e.R7$(8),e.Y8G("ngClass",e.eq3(42,Tt,(null==(k=u.autoForm.get("preneur.genre"))?null:k.invalid)&&(null==(k=u.autoForm.get("preneur.genre"))?null:k.touched))),e.R7$(10),e.Y8G("ngClass",e.eq3(44,Tt,(null==(J=u.autoForm.get("preneur.nom"))?null:J.invalid)&&(null==(J=u.autoForm.get("preneur.nom"))?null:J.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(46,Tt,(null==(xe=u.autoForm.get("preneur.prenom"))?null:xe.invalid)&&(null==(xe=u.autoForm.get("preneur.prenom"))?null:xe.touched))),e.R7$(4),e.Y8G("max",u.maxDate)("ngClass",e.eq3(48,Tt,(null==(Dt=u.autoForm.get("preneur.date_naissance"))?null:Dt.invalid)&&(null==(Dt=u.autoForm.get("preneur.date_naissance"))?null:Dt.touched))),e.R7$(),e.Y8G("ngIf",(null==(kt=u.autoForm.get("preneur.date_naissance"))?null:kt.invalid)&&((null==(kt=u.autoForm.get("preneur.date_naissance"))?null:kt.touched)||(null==(kt=u.autoForm.get("preneur.date_naissance"))?null:kt.dirty))),e.R7$(4),e.Y8G("ngClass",e.eq3(50,Tt,(null==(cn=u.autoForm.get("preneur.telephone"))?null:cn.invalid)&&(null==(cn=u.autoForm.get("preneur.telephone"))?null:cn.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(52,Tt,(null==(gn=u.autoForm.get("preneur.email"))?null:gn.invalid)&&(null==(gn=u.autoForm.get("preneur.email"))?null:gn.touched))),e.R7$(),e.Y8G("ngIf",(null==(qn=u.autoForm.get("preneur.email"))?null:qn.hasError("email"))&&!(null!=(qn=u.autoForm.get("preneur.email"))&&qn.hasError("required"))),e.R7$(4),e.Y8G("ngClass",e.eq3(54,Tt,(null==(Ln=u.autoForm.get("preneur.adresse"))?null:Ln.invalid)&&(null==(Ln=u.autoForm.get("preneur.adresse"))?null:Ln.touched))),e.R7$(5),e.Y8G("ngClass",e.eq3(56,Tt,(null==(Ut=u.autoForm.get("preneur.code_postal"))?null:Ut.invalid)&&(null==(Ut=u.autoForm.get("preneur.code_postal"))?null:Ut.touched))),e.R7$(),e.Y8G("ngIf",u.isLoading),e.R7$(),e.Y8G("ngIf",u.filteredPreneurPostalCodes.length>0),e.R7$(4),e.Y8G("disabled",0===u.preneurCities.length)("ngClass",e.eq3(58,Tt,(null==(Xi=u.autoForm.get("preneur.ville"))?null:Xi.invalid)&&(null==(Xi=u.autoForm.get("preneur.ville"))?null:Xi.touched))),e.R7$(),e.Y8G("ngIf",0===u.preneurCities.length),e.R7$(),e.Y8G("ngForOf",u.preneurCities),e.R7$(4),e.Y8G("ngClass",e.eq3(60,Tt,(null==(cs=u.autoForm.get("preneur.permis_numero"))?null:cs.invalid)&&(null==(cs=u.autoForm.get("preneur.permis_numero"))?null:cs.touched))),e.R7$(),e.Y8G("ngIf",null==(Fa=u.autoForm.get("preneur.permis_numero"))?null:Fa.hasError("permisExists")),e.R7$(4),e.Y8G("max",u.maxDate)("ngClass",e.eq3(62,Tt,(null==(Io=u.autoForm.get("preneur.permis_date"))?null:Io.invalid)&&(null==(Io=u.autoForm.get("preneur.permis_date"))?null:Io.touched))),e.R7$(),e.Y8G("ngIf",(null==(ca=u.autoForm.get("preneur.permis_date"))?null:ca.invalid)&&((null==(ca=u.autoForm.get("preneur.permis_date"))?null:ca.touched)||(null==(ca=u.autoForm.get("preneur.permis_date"))?null:ca.dirty))),e.R7$(8),e.Y8G("ngIf",null==(nl=u.autoForm.get("conducteurDifferent"))?null:nl.value),e.R7$(8),e.Y8G("ngClass",e.eq3(64,Tt,(null==(Xo=u.autoForm.get("vehicule.type"))?null:Xo.invalid)&&(null==(Xo=u.autoForm.get("vehicule.type"))?null:Xo.touched))),e.R7$(25),e.Y8G("ngClass",e.eq3(66,Tt,(null==(uu=u.autoForm.get("vehicule.marque"))?null:uu.invalid)&&(null==(uu=u.autoForm.get("vehicule.marque"))?null:uu.touched))),e.R7$(),e.Y8G("ngIf",u.isMarqueLoading),e.R7$(),e.Y8G("ngIf",u.filteredMarques.length>0),e.R7$(5),e.Y8G("placeholder",u.selectedMarque?u.isModeleLoading?"Chargement...":"Cliquez pour choisir un mod\xe8le":"S\xe9lectionnez une marque")("ngClass",e.l_i(68,_r,(null==(Ia=u.autoForm.get("vehicule.modele"))?null:Ia.invalid)&&(null==(Ia=u.autoForm.get("vehicule.modele"))?null:Ia.touched),!u.selectedMarque)),e.R7$(),e.Y8G("ngIf",u.isModeleLoading),e.R7$(),e.Y8G("ngIf",u.showModeleList&&u.filteredModeles.length>0),e.R7$(4),e.Y8G("ngClass",e.eq3(71,Tt,(null==(ka=u.autoForm.get("vehicule.puissance"))?null:ka.invalid)&&(null==(ka=u.autoForm.get("vehicule.puissance"))?null:ka.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(73,Tt,(null==(rl=u.autoForm.get("vehicule.places"))?null:rl.invalid)&&(null==(rl=u.autoForm.get("vehicule.places"))?null:rl.touched))),e.R7$(4),e.Y8G("max",u.maxDate)("ngClass",e.eq3(75,Tt,(null==(ds=u.autoForm.get("vehicule.dateCirculation"))?null:ds.invalid)&&(null==(ds=u.autoForm.get("vehicule.dateCirculation"))?null:ds.touched))),e.R7$(),e.Y8G("ngIf",(null==(da=u.autoForm.get("vehicule.dateCirculation"))?null:da.invalid)&&((null==(da=u.autoForm.get("vehicule.dateCirculation"))?null:da.touched)||(null==(da=u.autoForm.get("vehicule.dateCirculation"))?null:da.dirty))),e.R7$(47),e.Y8G("min",u.minDate)("ngClass",e.eq3(77,Tt,(null==(Ko=u.autoForm.get("dateEffet"))?null:Ko.invalid)&&(null==(Ko=u.autoForm.get("dateEffet"))?null:Ko.touched))),e.R7$(),e.Y8G("ngIf",(null==(fa=u.autoForm.get("preneur.email"))?null:fa.hasError("emailExists"))&&(null==(fa=u.autoForm.get("preneur.email"))?null:fa.touched))}},dependencies:[P.MD,P.YU,P.Sq,P.bT,F.YN,F.qT,F.xH,F.y7,F.me,F.Q0,F.Zm,F.wz,F.Fm,F.BC,F.cb,F.tU,F.X1,F.j4,F.JD,F.$R,de.Wk,kn],encapsulation:2})}return p})();const Dn=p=>({"ring-red-500":p}),je=(p,S)=>({"bg-green-100 text-green-800":p,"bg-red-100 text-red-800":S});function pe(p,S){if(1&p&&(e.j41(0,"div",97),e.EFF(1),e.k0s()),2&p){const s=e.XpG();e.Y8G("ngClass",e.l_i(2,je,s.submissionStatus.success,!s.submissionStatus.success)),e.R7$(),e.SpI(" ",s.submissionStatus.message," ")}}function ae(p,S){1&p&&(e.j41(0,"div",98),e.EFF(1," Bonne nouvelle ! Cet email est d\xe9j\xe0 connu chez nous. "),e.j41(2,"a",99),e.EFF(3,"Connectez-vous"),e.k0s(),e.EFF(4," pour acc\xe9l\xe9rer votre demande. "),e.k0s())}function ge(p,S){1&p&&(e.j41(0,"div",100),e.qSk(),e.j41(1,"svg",101),e.nrm(2,"circle",102)(3,"path",103),e.k0s()())}function ze(p,S){if(1&p){const s=e.RV6();e.j41(0,"li",106),e.bIt("click",function(){const u=e.eBV(s).$implicit,k=e.XpG(2);return e.Njj(k.selectPostalCode(u))}),e.EFF(1),e.k0s()}if(2&p){const s=S.$implicit;e.R7$(),e.Lme(" ",s.postalCode," - ",s.city," ")}}function ft(p,S){if(1&p&&(e.j41(0,"ul",104),e.DNE(1,ze,2,2,"li",105),e.k0s()),2&p){const s=e.XpG();e.R7$(),e.Y8G("ngForOf",s.filteredPostalCodes)}}function Lt(p,S){1&p&&(e.j41(0,"option",107),e.EFF(1,"S\xe9lectionner une ville"),e.k0s())}function qt(p,S){if(1&p&&(e.j41(0,"option",108),e.EFF(1),e.k0s()),2&p){const s=S.$implicit;e.Y8G("value",s),e.R7$(),e.SpI(" ",s," ")}}function Mn(p,S){1&p&&(e.j41(0,"div"),e.EFF(1," Le nombre de pi\xe8ces doit \xeatre d'au moins 3. "),e.k0s())}function cr(p,S){if(1&p&&(e.j41(0,"div",109),e.DNE(1,Mn,2,0,"div",110),e.k0s()),2&p){let s;const a=e.XpG();e.R7$(),e.Y8G("ngIf",null==(s=a.habitationForm.get("evaluation.nombrePieces"))?null:s.hasError("min"))}}function wr(p,S){if(1&p&&(e.j41(0,"div",111)(1,"div")(2,"label",112),e.EFF(3,"Valeur de l'expertise (\u20ac)"),e.k0s(),e.nrm(4,"input",113),e.k0s(),e.j41(5,"div")(6,"label",114),e.EFF(7,"Mois et ann\xe9e de l'expertise"),e.k0s(),e.nrm(8,"input",115),e.k0s()()),2&p){let s,a;const u=e.XpG();e.R7$(4),e.Y8G("ngClass",e.eq3(2,Dn,(null==(s=u.habitationForm.get("evaluation.valeurExpertise"))?null:s.invalid)&&(null==(s=u.habitationForm.get("evaluation.valeurExpertise"))?null:s.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(4,Dn,(null==(a=u.habitationForm.get("evaluation.dateExpertise"))?null:a.invalid)&&(null==(a=u.habitationForm.get("evaluation.dateExpertise"))?null:a.touched)))}}function dr(p,S){if(1&p&&(e.j41(0,"div",116),e.nrm(1,"input",117),e.k0s()),2&p){let s;const a=e.XpG();e.R7$(),e.Y8G("ngClass",e.eq3(1,Dn,(null==(s=a.habitationForm.get("evaluation.valeurLibre"))?null:s.invalid)&&(null==(s=a.habitationForm.get("evaluation.valeurLibre"))?null:s.touched)))}}function vi(p,S){if(1&p&&(e.j41(0,"div",97),e.EFF(1),e.k0s()),2&p){const s=e.XpG();e.Y8G("ngClass",e.l_i(2,je,s.submissionStatus.success,!s.submissionStatus.success)),e.R7$(),e.SpI(" ",s.submissionStatus.message," ")}}let sr=(()=>{class p{fb;dbConnectService;platformId;habitationForm;minDate;submissionStatus=null;destroy$=new he.B;filteredPostalCodes=[];cities=[];isLoading=!1;constructor(s,a,u){this.fb=s,this.dbConnectService=a,this.platformId=u;const J=new Date(new Date);J.setDate(J.getDate()+1),this.minDate=J.toISOString().split("T")[0],this.habitationForm=this.fb.group({preneur:this.fb.group({genre:["Madame",F.k0.required],nom:["",F.k0.required],prenom:["",F.k0.required],dateNaissance:["",F.k0.required],telephone:["",F.k0.required],email:["",[F.k0.required,F.k0.email]]}),batiment:this.fb.group({adresse:["",F.k0.required],codePostal:["",F.k0.required],ville:["",F.k0.required],typeMaison:["Maison 2 fa\xe7ades",F.k0.required]}),evaluation:this.fb.group({valeurBatiment:["expertise",F.k0.required],superficie:["",F.k0.required],nombrePieces:["",[F.k0.required,F.k0.min(3)]],loyer:[""],valeurContenu:["courtier",F.k0.required],valeurExpertise:[null],dateExpertise:[null],valeurLibre:[null]}),garanties:this.fb.group({contenu:[!1],vol:[!1],pertesIndirectes:[!1],protectionJuridique:[!1],assistance:[!1]}),dateEffet:[this.minDate,F.k0.required]})}get emailExists(){return!0===this.habitationForm.get("preneur.email")?.emailExists}checkEmailExistence(s){return s.emailExists=!1,s.value?this.dbConnectService.checkEmailExists(s.value).pipe((0,ve.M)(a=>{a&&(s.emailExists=!0)}),(0,fe.T)(()=>null),(0,te.W)(()=>(s.emailExists=!1,(0,Z.of)(null)))):(0,Z.of)(null)}ngOnInit(){if((0,P.UE)(this.platformId)){this.setupEvaluationValidators(),this.habitationForm.get("batiment.codePostal")?.valueChanges.pipe(Ye(300),Je(),(0,ve.M)(()=>this.isLoading=!0),(0,Re.n)(a=>a&&a.length>=2?this.dbConnectService.getPostalCodes(a):(this.filteredPostalCodes=[],(0,Z.of)([]))),(0,ve.M)(()=>{this.filteredPostalCodes.length>0&&(this.cities=[],this.habitationForm.get("batiment.ville")?.setValue(""))}),(0,pt.Q)(this.destroy$)).subscribe(a=>{this.isLoading=!1,this.filteredPostalCodes=a});const s=this.habitationForm.get("preneur.email");s&&s.valueChanges.pipe(Ye(500),Je(),(0,Re.n)(()=>this.checkEmailExistence(s)),(0,pt.Q)(this.destroy$)).subscribe()}}setupEvaluationValidators(){const s=this.habitationForm.get("evaluation"),a=s.get("valeurBatiment"),u=s.get("valeurExpertise"),k=s.get("dateExpertise"),J=s.get("valeurLibre");a?.valueChanges.pipe((0,pt.Q)(this.destroy$)).subscribe(xe=>{"expertise"===xe?(u?.setValidators([F.k0.required,F.k0.min(1)]),k?.setValidators(F.k0.required),J?.clearValidators(),J?.setValue(null)):"libre"===xe?(J?.setValidators([F.k0.required,F.k0.min(1)]),u?.clearValidators(),k?.clearValidators(),u?.setValue(null),k?.setValue(null)):(u?.clearValidators(),k?.clearValidators(),J?.clearValidators()),u?.updateValueAndValidity(),k?.updateValueAndValidity(),J?.updateValueAndValidity()})}ngOnDestroy(){(0,P.UE)(this.platformId)&&(this.destroy$.next(),this.destroy$.complete())}selectPostalCode(s){const a=this.filteredPostalCodes.find(u=>u.postalCode===s.postalCode&&u.city===s.city);a&&(this.habitationForm.get("batiment.codePostal")?.setValue(a.postalCode,{emitEvent:!1}),this.habitationForm.get("batiment.ville")?.setValue(a.city),this.cities=[a.city],this.habitationForm.get("batiment.ville")?.updateValueAndValidity()),this.filteredPostalCodes=[]}onSubmit(){this.habitationForm.valid?this.dbConnectService.createHabitationQuote(this.habitationForm.value).subscribe({next:s=>{console.log("Devis habitation enregistr\xe9 avec succ\xe8s",s),this.submissionStatus={success:!0,message:"Votre demande de devis a bien \xe9t\xe9 enregistr\xe9e !"}},error:s=>{console.error("Erreur lors de l'enregistrement du devis habitation",s),this.submissionStatus={success:!1,message:"Une erreur est survenue lors de l'enregistrement de votre devis."}}}):(console.error("Formulaire invalide"),this.submissionStatus={success:!1,message:"Veuillez remplir tous les champs obligatoires avant de soumettre."})}scrollToSection(s){if((0,P.UE)(this.platformId)){const a=document.getElementById(s);a&&a.scrollIntoView({behavior:"smooth",block:"start"})}}static \u0275fac=function(a){return new(a||p)(e.rXU(F.ok),e.rXU(jt.y),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:p,selectors:[["app-form-habitation"]],standalone:!0,features:[e.Jv_([jt.y]),e.aNF],decls:218,vars:41,consts:[["id","hero",1,"relative","isolate","bg-black","px-6","pt-14","lg:px-8"],[1,"mx-auto","max-w-7xl","py-8","sm:py-12","lg:py-16"],[1,"grid","grid-cols-1","items-center","gap-x-8","gap-y-16","lg:grid-cols-2"],[1,"text-center","lg:text-left"],[1,"text-4xl","font-bold","tracking-tight","text-white","sm:text-6xl"],[1,"mt-6","text-lg","leading-8","text-gray-300"],[1,"mt-10","flex","items-center","justify-center","gap-x-6","lg:justify-start"],[1,"rounded-md","bg-indigo-600","px-3.5","py-2.5","text-sm","font-semibold","text-white","shadow-sm","hover:bg-indigo-700","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-indigo-600",3,"click"],["routerLink","/contact",1,"text-sm","font-semibold","leading-6","text-white"],["aria-hidden","true"],[1,"flex","justify-center","lg:justify-end"],["src","https://fqopliwvpuiprdegxytz.supabase.co/storage/v1/object/sign/img_website/ahabitation.webp?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV81MmJmNDFiNC0yNGQ0LTQ3ZTktYmEzNi04YWZmY2NjMzEzNzIiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJpbWdfd2Vic2l0ZS9haGFiaXRhdGlvbi53ZWJwIiwiaWF0IjoxNzYzMDI1NjMxLCJleHAiOjIwNzgzODU2MzF9.XXro16g7nOi_EJfF2jVBFAaRCfCcf0xoHrcUfIUUo70","alt","Assurance",1,"w-full","max-w-xs","rounded-xl","shadow-xl","ring-1","ring-gray-400/10","lg:max-w-md"],["id","content",1,"container","mx-auto","p-4","py-16","sm:py-24"],[1,"grid","grid-cols-1","lg:grid-cols-2","lg:gap-12"],[1,"text-gray-700","prose","lg:prose-lg","max-w-none","prose-h2:mb-4","prose-p:mt-4","prose-ul:mt-4"],[1,"text-2xl","font-bold"],[1,"text-2xl","font-bold","mt-8"],["id","form",1,"space-y-12","bg-white","p-8","rounded-lg","shadow-md","mt-8","lg:mt-0",3,"ngSubmit","formGroup"],["class","p-4 mb-4 text-sm rounded-lg","role","alert",3,"ngClass",4,"ngIf"],["formGroupName","preneur",1,"border-t","pt-6"],[1,"text-xl","font-semibold","px-2","text-gray-700","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["for","preneur-genre",1,"block","text-sm","font-medium","text-gray-700"],["id","preneur-genre","formControlName","genre","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","preneur-nom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-nom","formControlName","nom","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","preneur-prenom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-prenom","formControlName","prenom","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","preneur-dob",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","preneur-dob","formControlName","dateNaissance","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","preneur-tel",1,"block","text-sm","font-medium","text-gray-700"],["type","tel","id","preneur-tel","formControlName","telephone","required","","appPhoneFormat","","placeholder","+32 4XX XX XX XX","maxlength","18",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","preneur-email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","preneur-email","formControlName","email","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["class","text-green-800 bg-green-100 p-2 rounded-md text-sm mt-2",4,"ngIf"],["formGroupName","batiment",1,"border-t","pt-6"],[1,"md:col-span-2"],["for","adresse",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","adresse","formControlName","adresse","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],[1,"relative"],["for","code-postal",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","code-postal","formControlName","codePostal","required","","autocomplete","off",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["class","absolute inset-y-0 right-0 flex items-center pr-3 top-6",4,"ngIf"],["class","absolute z-10 w-full bg-white border border-gray-300 rounded-md mt-1 max-h-40 overflow-y-auto",4,"ngIf"],["for","ville",1,"block","text-sm","font-medium","text-gray-700"],["id","ville","formControlName","ville","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm","disabled:bg-gray-100",3,"disabled"],["value","",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["for","type-maison",1,"block","text-sm","font-medium","text-gray-700"],["id","type-maison","formControlName","typeMaison","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["formGroupName","evaluation",1,"border-t","pt-6"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-8"],["for","superficie",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","superficie","formControlName","superficie","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","nombre-pieces",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","nombre-pieces","formControlName","nombrePieces","required","","placeholder","Salon + Cuisine = 1 pi\xe8ce",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["class","text-red-600 text-sm mt-1",4,"ngIf"],["for","loyer",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","loyer","formControlName","loyer","placeholder","\u20ac",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-8","mt-8"],[1,"text-base","font-medium","text-gray-900"],[1,"mt-2"],[1,"space-y-2"],[1,"flex","items-center"],["id","valeur-bat-expertise","formControlName","valeurBatiment","value","expertise","type","radio",1,"h-4","w-4","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","valeur-bat-expertise",1,"ml-3","block","text-sm","font-medium","text-gray-700"],["class","mt-4 ml-7 space-y-4",4,"ngIf"],["id","valeur-bat-libre","formControlName","valeurBatiment","value","libre","type","radio",1,"h-4","w-4","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","valeur-bat-libre",1,"ml-3","block","text-sm","font-medium","text-gray-700"],["class","mt-4 ml-7",4,"ngIf"],["id","valeur-cont-courtier","formControlName","valeurContenu","value","courtier","type","radio",1,"h-4","w-4","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","valeur-cont-courtier",1,"ml-3","block","text-sm","font-medium","text-gray-700"],["id","valeur-cont-prospect","formControlName","valeurContenu","value","prospect","type","radio",1,"h-4","w-4","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","valeur-cont-prospect",1,"ml-3","block","text-sm","font-medium","text-gray-700"],["formGroupName","garanties",1,"border-t","pt-6"],[1,"space-y-4"],[1,"text-sm","text-gray-600"],[1,"grid","grid-cols-2","md:grid-cols-3","gap-4"],[1,"flex","items-start"],[1,"flex","h-5","items-center"],["id","garantie-contenu","formControlName","contenu","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],[1,"ml-3","text-sm"],["for","garantie-contenu",1,"font-medium","text-gray-700"],["id","garantie-vol","formControlName","vol","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","garantie-vol",1,"font-medium","text-gray-700"],["id","garantie-pertes","formControlName","pertesIndirectes","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","garantie-pertes",1,"font-medium","text-gray-700"],["id","garantie-pj","formControlName","protectionJuridique","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","garantie-pj",1,"font-medium","text-gray-700"],["id","garantie-assistance","formControlName","assistance","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","garantie-assistance",1,"font-medium","text-gray-700"],[1,"pt-4","border-t"],["for","date-effet",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","date-effet","formControlName","dateEffet","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"min"],[1,"pt-6"],[1,"flex","justify-end"],["type","submit",1,"inline-flex","justify-center","rounded-md","border","border-transparent","bg-indigo-600","py-2","px-4","text-sm","font-medium","text-white","shadow-sm","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2","disabled:bg-gray-400","disabled:cursor-not-allowed",3,"disabled"],["role","alert",1,"p-4","mb-4","text-sm","rounded-lg",3,"ngClass"],[1,"text-green-800","bg-green-100","p-2","rounded-md","text-sm","mt-2"],["routerLink","/login",1,"font-bold","underline","hover:text-green-700"],[1,"absolute","inset-y-0","right-0","flex","items-center","pr-3","top-6"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5","text-gray-400"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"absolute","z-10","w-full","bg-white","border","border-gray-300","rounded-md","mt-1","max-h-40","overflow-y-auto"],["class","px-3 py-2 cursor-pointer hover:bg-gray-100",3,"click",4,"ngFor","ngForOf"],[1,"px-3","py-2","cursor-pointer","hover:bg-gray-100",3,"click"],["value",""],[3,"value"],[1,"text-red-600","text-sm","mt-1"],[4,"ngIf"],[1,"mt-4","ml-7","space-y-4"],["for","valeur-expertise",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","valeur-expertise","formControlName","valeurExpertise","placeholder","Ex: 250000",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","date-expertise",1,"block","text-sm","font-medium","text-gray-700"],["type","month","id","date-expertise","formControlName","dateExpertise",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],[1,"mt-4","ml-7"],["type","number","id","valeur-libre","formControlName","valeurLibre","placeholder","Montant en \u20ac",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"]],template:function(a,u){if(1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e.EFF(5,"Assurance Habitation"),e.k0s(),e.j41(6,"p",5),e.EFF(7,"Avoir une assurance habitation est essentiel pour prot\xe9ger votre logement et vos biens contre les risques impr\xe9vus tels que incendie, vol ou d\xe9g\xe2ts des eaux. Elle offre une s\xe9curit\xe9 financi\xe8re en couvrant les r\xe9parations ou le remplacement des biens endommag\xe9s. En cas de responsabilit\xe9 civile, elle prot\xe8ge \xe9galement contre les dommages caus\xe9s involontairement \xe0 des tiers. Ainsi, une assurance habitation vous apporte tranquillit\xe9 d\u2019esprit et s\xe9r\xe9nit\xe9 au quotidien."),e.k0s(),e.j41(8,"div",6)(9,"button",7),e.bIt("click",function(){return u.scrollToSection("content")}),e.EFF(10,"Souscrire"),e.k0s(),e.j41(11,"a",8),e.EFF(12,"Contact "),e.j41(13,"span",9),e.EFF(14,"\u2192"),e.k0s()()()(),e.j41(15,"div",10),e.nrm(16,"img",11),e.k0s()()()(),e.j41(17,"div",12)(18,"div",13)(19,"div",14)(20,"h2",15),e.EFF(21,"L\u2019assurance habitation est-elle vraiment indispensable ?"),e.k0s(),e.j41(22,"p"),e.EFF(23,"Assurkin vous propose une assurance habitation qui vous offre une protection compl\xe8te contre les dommages caus\xe9s \xe0 votre habitation et \xe0 vos biens, ainsi que votre responsabilit\xe9 civile envers autrui."),e.k0s(),e.j41(24,"p"),e.EFF(25,"Si vous \xeates propri\xe9taire, il est crucial de prot\xe9ger votre habitation et vos biens mobiliers contre divers risques tels que l'incendie, l'inondation, les catastrophes naturelles, etc. Si vous \xeates locataire, l'assurance habitation couvre votre responsabilit\xe9 en cas de dommages caus\xe9s au logement que vous occupez."),e.k0s(),e.j41(26,"p"),e.EFF(27,"Dans certains cas, vous pourriez \xeatre contraint de souscrire une assurance incendie, qui constitue la base de toute assurance habitation. En tant que propri\xe9taire, votre banque pourrait l'exiger dans le cadre de l'obtention d'un pr\xeat. Si vous \xeates locataire, l'assurance habitation peut \xeatre une clause incluse dans votre contrat de location. Assurkin vous accompagne pour choisir la meilleure protection adapt\xe9e \xe0 vos besoins et \xe0 votre situation."),e.k0s(),e.j41(28,"h2",16),e.EFF(29,"Que couvre l\u2019assurance habitation ?"),e.k0s(),e.j41(30,"p"),e.EFF(31,"L'assurance habitation, souvent multirisques, d\xe9taille les garanties incluses comme la couverture incendie, les d\xe9g\xe2ts des eaux et d'autres risques comme les dommages m\xe9t\xe9orologiques, les cambriolages ou les bris de vitrage. Des mesures de protection sont n\xe9cessaires pour b\xe9n\xe9ficier de l'assurance. En plus des couvertures obligatoires, des options facultatives comme la couverture vol et vandalisme sont propos\xe9es, avec des services suppl\xe9mentaires comme l'assistance d'urgence. Diverses ouvertures en option sont disponibles telles que la couverture pour une activit\xe9 professionnelle \xe0 domicile ou pour une piscine."),e.k0s(),e.j41(32,"h2",16),e.EFF(33,"Comment \xeatre certain d\u2019obtenir le meilleur prix ?"),e.k0s(),e.j41(34,"p"),e.EFF(35,"Pour comparer les assurances habitation, Internet est le moyen le plus simple et rapide. Cependant, il est crucial de comparer des offres similaires en termes de garanties et de services, en plus des prix. Il est donc essentiel de v\xe9rifier minutieusement les risques couverts par chaque police d'assurance propos\xe9e. \xc9tant donn\xe9 la complexit\xe9 de cette t\xe2che, nous recommandons vivement de consulter nos courtiers avant de prendre une d\xe9cision !"),e.k0s(),e.j41(36,"p"),e.EFF(37,"Le co\xfbt d'une assurance habitation d\xe9pend de plusieurs crit\xe8res, notamment le type de mat\xe9riaux utilis\xe9s, le risque de cambriolage li\xe9 \xe0 l'emplacement de la r\xe9sidence, les options de couverture choisies, la valeur estim\xe9e de la propri\xe9t\xe9 et le montant de la franchise."),e.k0s(),e.j41(38,"h2",16),e.EFF(39,"Quels changements doit-on signaler \xe0 son assureur ?"),e.k0s(),e.j41(40,"p"),e.EFF(41,"Il est crucial de d\xe9clarer tout changement \xe0 votre assureur, m\xeame si cela peut entra\xeener une augmentation de la prime. Ne pas le faire expose \xe0 un risque de sous-indemnisation ou m\xeame de refus d'indemnisation si le bien assur\xe9 n'est plus conforme."),e.k0s(),e.j41(42,"p"),e.EFF(43,"L'assureur \xe9value le montant de la prime en tenant compte des caract\xe9ristiques de votre bien. Tout ajout tel qu'une pi\xe8ce suppl\xe9mentaire, un \xe9tage, une piscine ou un spa doit \xeatre signal\xe9. \xc0 noter qu'installer un syst\xe8me d'alarme peut entra\xeener une r\xe9duction de la prime."),e.k0s(),e.j41(44,"p"),e.EFF(45,"De plus, si vous exercez des activit\xe9s professionnelles \xe0 domicile ou stockez du mat\xe9riel professionnel, la couverture peut \xeatre limit\xe9e. Il est donc recommand\xe9 d'en discuter avec votre courtier. Enfin, souscrire une assurance responsabilit\xe9 civile est essentiel, notamment si vous recevez des clients \xe0 domicile."),e.k0s(),e.j41(46,"h2",16),e.EFF(47,"Les objets de valeur sont-ils couverts ?"),e.k0s(),e.j41(48,"p"),e.EFF(49,"Les bijoux comme les objets d\u2019art et autres objets de valeur peuvent \xeatre couverts. Mais pas toujours. Dans ce cas, l\u2019assureur peut soit appliquer une surprime, soit proposer une assurance sp\xe9cifique."),e.k0s()(),e.j41(50,"form",17),e.bIt("ngSubmit",function(){return u.onSubmit()}),e.DNE(51,pe,2,5,"div",18),e.j41(52,"fieldset",19)(53,"legend",20),e.EFF(54,"1. Informations sur le preneur"),e.k0s(),e.j41(55,"div",21)(56,"div")(57,"label",22),e.EFF(58,"Genre"),e.k0s(),e.j41(59,"select",23)(60,"option"),e.EFF(61,"Madame"),e.k0s(),e.j41(62,"option"),e.EFF(63,"Monsieur"),e.k0s(),e.j41(64,"option"),e.EFF(65,"Autre"),e.k0s()()(),e.j41(66,"div")(67,"label",24),e.EFF(68,"Nom"),e.k0s(),e.nrm(69,"input",25),e.k0s(),e.j41(70,"div")(71,"label",26),e.EFF(72,"Pr\xe9nom"),e.k0s(),e.nrm(73,"input",27),e.k0s(),e.j41(74,"div")(75,"label",28),e.EFF(76,"Date de naissance"),e.k0s(),e.nrm(77,"input",29),e.k0s(),e.j41(78,"div")(79,"label",30),e.EFF(80,"Num\xe9ro de t\xe9l\xe9phone"),e.k0s(),e.nrm(81,"input",31),e.k0s(),e.j41(82,"div")(83,"label",32),e.EFF(84,"Email"),e.k0s(),e.nrm(85,"input",33),e.DNE(86,ae,5,0,"div",34),e.k0s()()(),e.j41(87,"fieldset",35)(88,"legend",20),e.EFF(89,"2. B\xe2timent \xe0 assurer"),e.k0s(),e.j41(90,"div",21)(91,"div",36)(92,"label",37),e.EFF(93,"Rue et num\xe9ro"),e.k0s(),e.nrm(94,"input",38),e.k0s(),e.j41(95,"div")(96,"div",39)(97,"label",40),e.EFF(98,"Code Postal"),e.k0s(),e.nrm(99,"input",41),e.DNE(100,ge,4,0,"div",42)(101,ft,2,1,"ul",43),e.k0s()(),e.j41(102,"div")(103,"label",44),e.EFF(104,"Ville"),e.k0s(),e.j41(105,"select",45),e.DNE(106,Lt,2,0,"option",46)(107,qt,2,2,"option",47),e.k0s()(),e.j41(108,"div")(109,"label",48),e.EFF(110,"Type de maison"),e.k0s(),e.j41(111,"select",49)(112,"option"),e.EFF(113,"Maison 2 fa\xe7ades"),e.k0s(),e.j41(114,"option"),e.EFF(115,"Maison 3 fa\xe7ades"),e.k0s(),e.j41(116,"option"),e.EFF(117,"Maison 4 fa\xe7ades (villa)"),e.k0s(),e.j41(118,"option"),e.EFF(119,"Appartement"),e.k0s(),e.j41(120,"option"),e.EFF(121,"Studio"),e.k0s(),e.j41(122,"option"),e.EFF(123,"Autre"),e.k0s()()()()(),e.j41(124,"fieldset",50)(125,"legend",20),e.EFF(126,"3. \xc9valuation des biens"),e.k0s(),e.j41(127,"div",51)(128,"div")(129,"label",52),e.EFF(130,"Superficie (m\xb2)"),e.k0s(),e.nrm(131,"input",53),e.k0s(),e.j41(132,"div")(133,"label",54),e.EFF(134,"Nombre de pi\xe8ces"),e.k0s(),e.nrm(135,"input",55),e.DNE(136,cr,2,1,"div",56),e.k0s(),e.j41(137,"div")(138,"label",57),e.EFF(139,"Loyer mensuel (charges comprises)"),e.k0s(),e.nrm(140,"input",58),e.k0s()(),e.j41(141,"div",59)(142,"div")(143,"label",60),e.EFF(144,"Valeur du b\xe2timent"),e.k0s(),e.j41(145,"fieldset",61)(146,"div",62)(147,"div")(148,"div",63),e.nrm(149,"input",64),e.j41(150,"label",65),e.EFF(151,"Valeur du b\xe2timent selon expertise"),e.k0s()(),e.DNE(152,wr,9,6,"div",66),e.k0s(),e.j41(153,"div")(154,"div",63),e.nrm(155,"input",67),e.j41(156,"label",68),e.EFF(157,"Valeur du b\xe2timent librement exprim\xe9e"),e.k0s()(),e.DNE(158,dr,2,3,"div",69),e.k0s()()()(),e.j41(159,"div")(160,"label",60),e.EFF(161,"Valeur du contenu"),e.k0s(),e.j41(162,"fieldset",61)(163,"div",62)(164,"div",63),e.nrm(165,"input",70),e.j41(166,"label",71),e.EFF(167,"D\xe9termin\xe9e par le courtier (bas\xe9 sur le b\xe2timent)"),e.k0s()(),e.j41(168,"div",63),e.nrm(169,"input",72),e.j41(170,"label",73),e.EFF(171,"D\xe9termin\xe9e par vous-m\xeame"),e.k0s()()()()()()(),e.j41(172,"fieldset",74)(173,"legend",20),e.EFF(174,"4. Garanties souhait\xe9es"),e.k0s(),e.j41(175,"div",75)(176,"p",76),e.EFF(177,"La garantie de base (RC B\xe2timent) est toujours incluse."),e.k0s(),e.j41(178,"div",77)(179,"div",78)(180,"div",79),e.nrm(181,"input",80),e.k0s(),e.j41(182,"div",81)(183,"label",82),e.EFF(184,"Contenu"),e.k0s()()(),e.j41(185,"div",78)(186,"div",79),e.nrm(187,"input",83),e.k0s(),e.j41(188,"div",81)(189,"label",84),e.EFF(190,"Vol"),e.k0s()()(),e.j41(191,"div",78)(192,"div",79),e.nrm(193,"input",85),e.k0s(),e.j41(194,"div",81)(195,"label",86),e.EFF(196,"Pertes indirectes"),e.k0s()()(),e.j41(197,"div",78)(198,"div",79),e.nrm(199,"input",87),e.k0s(),e.j41(200,"div",81)(201,"label",88),e.EFF(202,"Protection Juridique"),e.k0s()()(),e.j41(203,"div",78)(204,"div",79),e.nrm(205,"input",89),e.k0s(),e.j41(206,"div",81)(207,"label",90),e.EFF(208,"Assistance"),e.k0s()()()()()(),e.j41(209,"div",91)(210,"label",92),e.EFF(211,"Date d'effet souhait\xe9e"),e.k0s(),e.nrm(212,"input",93),e.k0s(),e.j41(213,"div",94),e.DNE(214,vi,2,5,"div",18),e.j41(215,"div",95)(216,"button",96),e.EFF(217," Recevoir mon offre "),e.k0s()()()()()()),2&a){let k,J,xe,Dt,kt,cn,gn,qn,Ln,Ut,Xi,cs,Fa;e.R7$(50),e.Y8G("formGroup",u.habitationForm),e.R7$(),e.Y8G("ngIf",u.submissionStatus),e.R7$(18),e.Y8G("ngClass",e.eq3(23,Dn,(null==(k=u.habitationForm.get("preneur.nom"))?null:k.invalid)&&(null==(k=u.habitationForm.get("preneur.nom"))?null:k.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(25,Dn,(null==(J=u.habitationForm.get("preneur.prenom"))?null:J.invalid)&&(null==(J=u.habitationForm.get("preneur.prenom"))?null:J.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(27,Dn,(null==(xe=u.habitationForm.get("preneur.dateNaissance"))?null:xe.invalid)&&(null==(xe=u.habitationForm.get("preneur.dateNaissance"))?null:xe.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(29,Dn,(null==(Dt=u.habitationForm.get("preneur.telephone"))?null:Dt.invalid)&&(null==(Dt=u.habitationForm.get("preneur.telephone"))?null:Dt.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(31,Dn,(null==(kt=u.habitationForm.get("preneur.email"))?null:kt.invalid)&&(null==(kt=u.habitationForm.get("preneur.email"))?null:kt.touched))),e.R7$(),e.Y8G("ngIf",u.emailExists&&(null==(cn=u.habitationForm.get("preneur.email"))?null:cn.touched)),e.R7$(8),e.Y8G("ngClass",e.eq3(33,Dn,(null==(gn=u.habitationForm.get("batiment.adresse"))?null:gn.invalid)&&(null==(gn=u.habitationForm.get("batiment.adresse"))?null:gn.touched))),e.R7$(5),e.Y8G("ngClass",e.eq3(35,Dn,(null==(qn=u.habitationForm.get("batiment.codePostal"))?null:qn.invalid)&&(null==(qn=u.habitationForm.get("batiment.codePostal"))?null:qn.touched))),e.R7$(),e.Y8G("ngIf",u.isLoading),e.R7$(),e.Y8G("ngIf",u.filteredPostalCodes.length>0),e.R7$(4),e.Y8G("disabled",0===u.cities.length),e.R7$(),e.Y8G("ngIf",0===u.cities.length),e.R7$(),e.Y8G("ngForOf",u.cities),e.R7$(24),e.Y8G("ngClass",e.eq3(37,Dn,(null==(Ln=u.habitationForm.get("evaluation.superficie"))?null:Ln.invalid)&&(null==(Ln=u.habitationForm.get("evaluation.superficie"))?null:Ln.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(39,Dn,(null==(Ut=u.habitationForm.get("evaluation.nombrePieces"))?null:Ut.invalid)&&(null==(Ut=u.habitationForm.get("evaluation.nombrePieces"))?null:Ut.touched))),e.R7$(),e.Y8G("ngIf",(null==(Xi=u.habitationForm.get("evaluation.nombrePieces"))?null:Xi.invalid)&&((null==(Xi=u.habitationForm.get("evaluation.nombrePieces"))?null:Xi.touched)||(null==(Xi=u.habitationForm.get("evaluation.nombrePieces"))?null:Xi.dirty))),e.R7$(16),e.Y8G("ngIf","expertise"===(null==(cs=u.habitationForm.get("evaluation.valeurBatiment"))?null:cs.value)),e.R7$(6),e.Y8G("ngIf","libre"===(null==(Fa=u.habitationForm.get("evaluation.valeurBatiment"))?null:Fa.value)),e.R7$(54),e.Y8G("min",u.minDate),e.R7$(2),e.Y8G("ngIf",u.submissionStatus),e.R7$(2),e.Y8G("disabled",u.habitationForm.invalid)}},dependencies:[P.MD,P.YU,P.Sq,P.bT,F.X1,F.qT,F.xH,F.y7,F.me,F.Q0,F.Zm,F.wz,F.Fm,F.BC,F.cb,F.YS,F.tU,F.j4,F.JD,F.$R,de.Wk,kn],encapsulation:2})}return p})(),Kr=(()=>{class p{ngControl;constructor(s){this.ngControl=s}onInput(s){const a=this.formatPhoneNumber(s);this.ngControl.control&&this.ngControl.control.setValue(a,{emitEvent:!1})}formatPhoneNumber(s){if(!s)return"";const a=s.replace(/\D/g,""),u=a.startsWith("04"),J=a.substring(0,u?10:9),xe=[];return u?(J.length>0&&xe.push(J.substring(0,4)),J.length>4&&xe.push(J.substring(4,6)),J.length>6&&xe.push(J.substring(6,8)),J.length>8&&xe.push(J.substring(8,10))):(J.length>0&&xe.push(J.substring(0,2)),J.length>2&&xe.push(J.substring(2,5)),J.length>5&&xe.push(J.substring(5,7)),J.length>7&&xe.push(J.substring(7,9))),xe.join(" ")}static \u0275fac=function(a){return new(a||p)(e.rXU(F.vO))};static \u0275dir=e.FsC({type:p,selectors:[["","appPhoneNumberFormat",""]],hostBindings:function(a,u){1&a&&e.bIt("input",function(J){return u.onInput(J.target.value)})},standalone:!0})}return p})();const Fi=p=>({"ring-red-500":p}),zn=(p,S)=>({"bg-green-100 text-green-800":p,"bg-red-100 text-red-800":S});function xt(p,S){if(1&p&&(e.j41(0,"div",55),e.EFF(1),e.k0s()),2&p){const s=e.XpG();e.Y8G("ngClass",e.l_i(2,zn,s.submissionStatus.success,!s.submissionStatus.success)),e.R7$(),e.SpI(" ",s.submissionStatus.message," ")}}function Vi(p,S){1&p&&(e.j41(0,"div",56),e.qSk(),e.j41(1,"svg",57),e.nrm(2,"circle",58)(3,"path",59),e.k0s()())}function ks(p,S){if(1&p){const s=e.RV6();e.j41(0,"li",62),e.bIt("click",function(){const u=e.eBV(s).$implicit,k=e.XpG(2);return e.Njj(k.selectPostalCode(u))}),e.EFF(1),e.k0s()}if(2&p){const s=S.$implicit;e.R7$(),e.Lme(" ",s.postalCode," - ",s.city," ")}}function Nr(p,S){if(1&p&&(e.j41(0,"ul",60),e.DNE(1,ks,2,2,"li",61),e.k0s()),2&p){const s=e.XpG();e.R7$(),e.Y8G("ngForOf",s.filteredPostalCodes)}}function Qr(p,S){1&p&&(e.j41(0,"option",63),e.EFF(1,"S\xe9lectionner une ville"),e.k0s())}function Pr(p,S){if(1&p&&(e.j41(0,"option",64),e.EFF(1),e.k0s()),2&p){const s=S.$implicit;e.Y8G("value",s),e.R7$(),e.JRh(s)}}function rn(p,S){if(1&p&&(e.j41(0,"div",55),e.EFF(1),e.k0s()),2&p){const s=e.XpG();e.Y8G("ngClass",e.l_i(2,zn,s.submissionStatus.success,!s.submissionStatus.success)),e.R7$(),e.SpI(" ",s.submissionStatus.message," ")}}let si=(()=>{class p{fb;injector;platformId;rcForm;minDate;submissionStatus=null;destroy$=new he.B;postalCode$=new he.B;filteredPostalCodes=[];cities=[];isLoading=!1;constructor(s,a,u){this.fb=s,this.injector=a,this.platformId=u;const J=new Date(new Date);J.setDate(J.getDate()+1),this.minDate=J.toISOString().split("T")[0],this.rcForm=this.fb.group({preneur_nom:["",F.k0.required],preneur_prenom:["",F.k0.required],preneur_genre:["Madame",F.k0.required],preneur_telephone:["",[F.k0.required,p=>{const S=p.value;if(!S)return null;const s=S.replace(/\D/g,"");return 9===s.length||10===s.length?null:{invalidPhoneNumber:!0}}]],preneur_email:["",[F.k0.required,F.k0.email]],preneur_adresse:["",F.k0.required],preneur_code_postal:["",F.k0.required],preneur_ville:[{value:"",disabled:!0},F.k0.required],risque:["famille",F.k0.required],date_effet:[this.minDate,F.k0.required]})}ngOnInit(){if((0,P.UE)(this.platformId)){const s=this.injector.get(jt.y);this.postalCode$.pipe(Ye(300),Je(),(0,ve.M)(()=>{this.isLoading=!0,this.filteredPostalCodes=[]}),(0,Re.n)(a=>a&&a.length>=2?s.getPostalCodes(a):(this.cities=[],this.rcForm.get("preneur_ville")?.setValue(""),this.rcForm.get("preneur_ville")?.disable(),(0,Z.of)([]))),(0,pt.Q)(this.destroy$)).subscribe(a=>{this.isLoading=!1,this.filteredPostalCodes=a})}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onPostalCodeInput(s){this.postalCode$.next(s.target.value)}selectPostalCode(s){s&&s.postalCode&&(this.rcForm.get("preneur_code_postal")?.setValue(s.postalCode,{emitEvent:!1}),this.filteredPostalCodes=[],this.injector.get(jt.y).getCitiesByPostalCode(s.postalCode).pipe((0,pt.Q)(this.destroy$)).subscribe(u=>{this.cities=u,u.length>0?(this.rcForm.get("preneur_ville")?.enable(),u.includes(s.city)?this.rcForm.get("preneur_ville")?.setValue(s.city):1===u.length?this.rcForm.get("preneur_ville")?.setValue(u[0]):this.rcForm.get("preneur_ville")?.setValue("")):(this.rcForm.get("preneur_ville")?.setValue(""),this.rcForm.get("preneur_ville")?.disable())}))}onSubmit(){if(this.rcForm.valid){const s=this.rcForm.getRawValue();this.injector.get(jt.y).saveRcForm(s).pipe((0,pt.Q)(this.destroy$)).subscribe({next:a=>{this.submissionStatus={success:!0,message:"Votre demande a bien \xe9t\xe9 envoy\xe9e."},this.rcForm.reset()},error:a=>{this.submissionStatus={success:!1,message:"Une erreur est survenue. Veuillez r\xe9essayer."},console.error("Erreur lors de la soumission du formulaire RC:",a)}})}else this.markAllAsTouched(this.rcForm),this.submissionStatus={success:!1,message:"Veuillez corriger les erreurs dans le formulaire."}}markAllAsTouched(s){Object.values(s.controls).forEach(a=>{a.markAsTouched(),a instanceof F.gE&&this.markAllAsTouched(a)})}scrollToSection(s){if((0,P.UE)(this.platformId)){const a=document.getElementById(s);a&&a.scrollIntoView({behavior:"smooth",block:"start"})}}static \u0275fac=function(a){return new(a||p)(e.rXU(F.ok),e.rXU(e.zZn),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:p,selectors:[["app-form-rc"]],standalone:!0,features:[e.Jv_([jt.y]),e.aNF],decls:120,vars:28,consts:[["id","hero",1,"relative","isolate","bg-black","px-6","pt-14","lg:px-8"],[1,"mx-auto","max-w-7xl","py-8","sm:py-12","lg:py-16"],[1,"grid","grid-cols-1","items-center","gap-x-8","gap-y-16","lg:grid-cols-2"],[1,"text-center","lg:text-left"],[1,"text-4xl","font-bold","tracking-tight","text-white","sm:text-6xl"],[1,"mt-6","text-lg","leading-8","text-gray-300"],[1,"mt-10","flex","items-center","justify-center","gap-x-6","lg:justify-start"],[1,"rounded-md","bg-white","px-3.5","py-2.5","text-sm","font-semibold","text-gray-900","shadow-sm","hover:bg-gray-100","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-white",3,"click"],["routerLink","/contact",1,"text-sm","font-semibold","leading-6","text-white"],["aria-hidden","true"],[1,"flex","justify-center","lg:justify-end"],["src","https://fqopliwvpuiprdegxytz.supabase.co/storage/v1/object/sign/img_website/rc_familiale.webp?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV81MmJmNDFiNC0yNGQ0LTQ3ZTktYmEzNi04YWZmY2NjMzEzNzIiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJpbWdfd2Vic2l0ZS9yY19mYW1pbGlhbGUud2VicCIsImlhdCI6MTc2MzAyMzQwMSwiZXhwIjoyMDc4MzgzNDAxfQ.w2eMiS3pMEgBuRl4XvYmWoix82dzFQOppsfash1U4KQ","alt","Assurance",1,"w-full","max-w-xs","rounded-xl","shadow-xl","ring-1","ring-gray-400/10","lg:max-w-md"],["id","content",1,"container","mx-auto","p-4","py-16","sm:py-24"],[1,"grid","grid-cols-1","lg:grid-cols-2","lg:gap-12"],[1,"text-gray-700","prose","lg:prose-lg","max-w-none","prose-h2:mb-4","prose-p:mt-4","prose-ul:mt-4"],[1,"text-2xl","font-bold"],[1,"text-xl","font-bold","mt-8"],["id","form",1,"space-y-12","bg-white","p-8","rounded-lg","shadow-md","mt-8","lg:mt-0",3,"ngSubmit","formGroup"],["class","p-4 mb-4 text-sm rounded-lg","role","alert",3,"ngClass",4,"ngIf"],[1,"border-t","pt-6"],[1,"text-xl","font-semibold","px-2","text-gray-700","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],["for","preneur-nom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-nom","formControlName","preneur_nom","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","preneur-prenom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-prenom","formControlName","preneur_prenom","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","preneur-genre",1,"block","text-sm","font-medium","text-gray-700"],["id","preneur-genre","formControlName","preneur_genre","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","preneur-tel",1,"block","text-sm","font-medium","text-gray-700"],["type","tel","id","preneur-tel","formControlName","preneur_telephone","required","","appPhoneNumberFormat","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","preneur-email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","preneur-email","formControlName","preneur_email","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],[1,"lg:col-span-2"],["for","preneur-adresse",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-adresse","formControlName","preneur_adresse","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],[1,"relative"],["for","preneur-cp",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-cp","formControlName","preneur_code_postal","required","","autocomplete","off",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"input","ngClass"],["class","absolute inset-y-0 right-0 flex items-center pr-3 top-6",4,"ngIf"],["class","absolute z-10 w-full bg-white border border-gray-300 rounded-md mt-1 max-h-40 overflow-y-auto",4,"ngIf"],["for","ville",1,"block","text-sm","font-medium","text-gray-700"],["id","ville","formControlName","preneur_ville","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm","disabled:bg-gray-100",3,"disabled"],["value","",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"space-y-2","sm:flex","sm:items-center","sm:space-y-0","sm:space-x-10"],[1,"flex","items-center"],["id","risque-famille","formControlName","risque","value","famille","type","radio",1,"h-4","w-4","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","risque-famille",1,"ml-3","block","text-sm","font-medium","text-gray-700"],["id","risque-isole","formControlName","risque","value","isole","type","radio",1,"h-4","w-4","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","risque-isole",1,"ml-3","block","text-sm","font-medium","text-gray-700"],["for","date-effet",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","date-effet","formControlName","date_effet","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm","md:w-1/2","lg:w-1/3",3,"min"],[1,"pt-6"],[1,"flex","justify-end"],["type","submit",1,"inline-flex","justify-center","rounded-md","border","border-transparent","bg-indigo-600","py-2","px-4","text-sm","font-medium","text-white","shadow-sm","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2","disabled:bg-gray-400","disabled:cursor-not-allowed",3,"disabled"],["role","alert",1,"p-4","mb-4","text-sm","rounded-lg",3,"ngClass"],[1,"absolute","inset-y-0","right-0","flex","items-center","pr-3","top-6"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5","text-gray-400"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"absolute","z-10","w-full","bg-white","border","border-gray-300","rounded-md","mt-1","max-h-40","overflow-y-auto"],["class","px-3 py-2 cursor-pointer hover:bg-gray-100",3,"click",4,"ngFor","ngForOf"],[1,"px-3","py-2","cursor-pointer","hover:bg-gray-100",3,"click"],["value",""],[3,"value"]],template:function(a,u){if(1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e.EFF(5,"Assurance RC Familiale"),e.k0s(),e.j41(6,"p",5),e.EFF(7,"Une assurance responsabilit\xe9 civile familiale est indispensable pour prot\xe9ger votre famille contre les cons\xe9quences financi\xe8res d\u2019un dommage caus\xe9 involontairement \xe0 autrui. Elle couvre les blessures, les d\xe9g\xe2ts mat\xe9riels ou les accidents impliquant les membres de votre foyer, y compris vos enfants et vos animaux. Sans cette protection, vous pourriez \xeatre tenu personnellement responsable et devoir assumer des frais importants. Cette assurance vous apporte donc tranquillit\xe9 d\u2019esprit et s\xe9curit\xe9 au quotidien.\nVivez chaque jour l\u2019esprit tranquille, en sachant que vous \xeates couvert en cas de coup dur."),e.k0s(),e.j41(8,"div",6)(9,"button",7),e.bIt("click",function(){return u.scrollToSection("content")}),e.EFF(10,"Souscrire"),e.k0s(),e.j41(11,"a",8),e.EFF(12,"Contact "),e.j41(13,"span",9),e.EFF(14,"\u2192"),e.k0s()()()(),e.j41(15,"div",10),e.nrm(16,"img",11),e.k0s()()()(),e.j41(17,"div",12)(18,"div",13)(19,"div",14)(20,"h2",15),e.EFF(21,"Assurance RC FAMILIALE"),e.k0s(),e.j41(22,"p"),e.EFF(23,"Lorsque vous ou vos proches causez des dommages accidentels \xe0 autrui ou \xe0 ses biens, que ce soit en blessant quelqu'un, en causant des d\xe9g\xe2ts mat\xe9riels ou en provoquant un accident avec vos animaux domestiques, vous \xeates l\xe9galement responsable. Pour couvrir ces incidents, la responsabilit\xe9 civile familiale a \xe9t\xe9 con\xe7ue. Cependant, il existe diff\xe9rentes options de couverture, alors il est important de choisir la formule qui convient le mieux \xe0 vos besoins."),e.k0s(),e.j41(24,"h3",16),e.EFF(25,"Qu\u2019est-ce que la RC Familiale ?"),e.k0s(),e.j41(26,"p"),e.EFF(27,"L'assurance responsabilit\xe9 civile vie priv\xe9e, \xe9galement connue sous le nom d'assurance RC familiale, couvre les dommages que vous ou votre famille pouvez causer \xe0 un tiers. Elle prend en charge les d\xe9g\xe2ts caus\xe9s \xe0 autrui en dehors de votre cercle familial, que ce soit chez des amis, dans la rue, dans des lieux publics ou m\xeame lors de voyages. Cette assurance est essentielle dans un contexte juridique de plus en plus complexe."),e.k0s(),e.j41(28,"h3",16),e.EFF(29,"Qui est couvert par la responsabilit\xe9 civile priv\xe9e ?"),e.k0s(),e.j41(30,"p"),e.EFF(31,"La RC familiale vous prot\xe8ge vous et votre famille des dommages que vous causez involontairement \xe0 des tiers. Elle couvre :"),e.k0s(),e.j41(32,"ul")(33,"li"),e.EFF(34,"Toutes les personnes vivant sous le m\xeame toit ;"),e.k0s(),e.j41(35,"li"),e.EFF(36,"Le personnel de service (baby-sitter, professeur particulier, femme de m\xe9nage, etc.) ;"),e.k0s(),e.j41(37,"li"),e.EFF(38,"Les animaux de compagnie sous la responsabilit\xe9 du titulaire."),e.k0s()(),e.j41(39,"h3",16),e.EFF(40,"Quand faut-il avoir recours \xe0 sa RC Familiale ?"),e.k0s(),e.j41(41,"p"),e.EFF(42,"Pour pouvoir faire appel \xe0 la RC Familiale, certaines conditions doivent \xeatre remplies. Tout d\u2019abord, votre responsabilit\xe9 doit \xeatre impliqu\xe9e dans le dommage caus\xe9. C\u2019est la condition sine qua non. Pr\xe9cisons toutefois qu\u2019il peut s\u2019agir d\u2019une action de votre part, mais aussi d\u2019une n\xe9gligence ou d\u2019une imprudence. Ensuite, le dommage doit imp\xe9rativement avoir \xe9t\xe9 caus\xe9 \xe0 un tiers dans un cadre priv\xe9. Enfin, il doit exister un lien de causalit\xe9 entre la faute et le dommage."),e.k0s(),e.j41(43,"p")(44,"strong"),e.EFF(45,"Bon \xe0 savoir :"),e.k0s(),e.EFF(46," la RC familiale ne peut \xeatre invoqu\xe9e pour des dommages cr\xe9\xe9s intentionnellement, caus\xe9s \xe0 vous-m\xeame ou \xe0 votre famille, ou provoqu\xe9s par votre animal s\u2019il est cat\xe9goris\xe9 comme dangereux."),e.k0s()(),e.j41(47,"form",17),e.bIt("ngSubmit",function(){return u.onSubmit()}),e.DNE(48,xt,2,5,"div",18),e.j41(49,"fieldset",19)(50,"legend",20),e.EFF(51,"1. Informations sur le preneur"),e.k0s(),e.j41(52,"div",21)(53,"div")(54,"label",22),e.EFF(55,"Nom"),e.k0s(),e.nrm(56,"input",23),e.k0s(),e.j41(57,"div")(58,"label",24),e.EFF(59,"Pr\xe9nom"),e.k0s(),e.nrm(60,"input",25),e.k0s(),e.j41(61,"div")(62,"label",26),e.EFF(63,"Genre"),e.k0s(),e.j41(64,"select",27)(65,"option"),e.EFF(66,"Madame"),e.k0s(),e.j41(67,"option"),e.EFF(68,"Monsieur"),e.k0s(),e.j41(69,"option"),e.EFF(70,"Autre"),e.k0s()()(),e.j41(71,"div")(72,"label",28),e.EFF(73,"Num\xe9ro de t\xe9l\xe9phone"),e.k0s(),e.nrm(74,"input",29),e.k0s(),e.j41(75,"div")(76,"label",30),e.EFF(77,"Email"),e.k0s(),e.nrm(78,"input",31),e.k0s(),e.j41(79,"div",32)(80,"label",33),e.EFF(81,"Rue et num\xe9ro"),e.k0s(),e.nrm(82,"input",34),e.k0s(),e.j41(83,"div")(84,"div",35)(85,"label",36),e.EFF(86,"Code Postal"),e.k0s(),e.j41(87,"input",37),e.bIt("input",function(J){return u.onPostalCodeInput(J)}),e.k0s(),e.DNE(88,Vi,4,0,"div",38)(89,Nr,2,1,"ul",39),e.k0s()(),e.j41(90,"div")(91,"label",40),e.EFF(92,"Ville"),e.k0s(),e.j41(93,"select",41),e.DNE(94,Qr,2,0,"option",42)(95,Pr,2,2,"option",43),e.k0s()()()(),e.j41(96,"fieldset",19)(97,"legend",20),e.EFF(98,"2. Composition du risque"),e.k0s(),e.j41(99,"div",44)(100,"div",45),e.nrm(101,"input",46),e.j41(102,"label",47),e.EFF(103,"Famille"),e.k0s()(),e.j41(104,"div",45),e.nrm(105,"input",48),e.j41(106,"label",49),e.EFF(107,"Isol\xe9"),e.k0s()()()(),e.j41(108,"fieldset",19)(109,"legend",20),e.EFF(110,"3. Date d'effet"),e.k0s(),e.j41(111,"div")(112,"label",50),e.EFF(113,"Date d'effet souhait\xe9e"),e.k0s(),e.nrm(114,"input",51),e.k0s()(),e.j41(115,"div",52),e.DNE(116,rn,2,5,"div",18),e.j41(117,"div",53)(118,"button",54),e.EFF(119," Recevoir mon offre "),e.k0s()()()()()()),2&a){let k,J,xe,Dt,kt,cn;e.R7$(47),e.Y8G("formGroup",u.rcForm),e.R7$(),e.Y8G("ngIf",u.submissionStatus),e.R7$(8),e.Y8G("ngClass",e.eq3(16,Fi,(null==(k=u.rcForm.get("preneur_nom"))?null:k.invalid)&&(null==(k=u.rcForm.get("preneur_nom"))?null:k.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(18,Fi,(null==(J=u.rcForm.get("preneur_prenom"))?null:J.invalid)&&(null==(J=u.rcForm.get("preneur_prenom"))?null:J.touched))),e.R7$(14),e.Y8G("ngClass",e.eq3(20,Fi,(null==(xe=u.rcForm.get("preneur_telephone"))?null:xe.invalid)&&(null==(xe=u.rcForm.get("preneur_telephone"))?null:xe.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(22,Fi,(null==(Dt=u.rcForm.get("preneur_email"))?null:Dt.invalid)&&(null==(Dt=u.rcForm.get("preneur_email"))?null:Dt.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(24,Fi,(null==(kt=u.rcForm.get("preneur_adresse"))?null:kt.invalid)&&(null==(kt=u.rcForm.get("preneur_adresse"))?null:kt.touched))),e.R7$(5),e.Y8G("ngClass",e.eq3(26,Fi,(null==(cn=u.rcForm.get("preneur_code_postal"))?null:cn.invalid)&&(null==(cn=u.rcForm.get("preneur_code_postal"))?null:cn.touched))),e.R7$(),e.Y8G("ngIf",u.isLoading),e.R7$(),e.Y8G("ngIf",u.filteredPostalCodes&&u.filteredPostalCodes.length>0),e.R7$(4),e.Y8G("disabled",0===u.cities.length),e.R7$(),e.Y8G("ngIf",0===u.cities.length),e.R7$(),e.Y8G("ngForOf",u.cities),e.R7$(19),e.Y8G("min",u.minDate),e.R7$(2),e.Y8G("ngIf",u.submissionStatus),e.R7$(2),e.Y8G("disabled",!u.rcForm.valid)}},dependencies:[P.MD,P.YU,P.Sq,P.bT,F.X1,F.qT,F.xH,F.y7,F.me,F.wz,F.Fm,F.BC,F.cb,F.YS,F.j4,F.JD,de.Wk,Kr],encapsulation:2})}return p})();const Jr=(p,S)=>({"bg-green-100 text-green-800":p,"bg-red-100 text-red-800":S});function Xn(p,S){if(1&p&&(e.j41(0,"div",60),e.EFF(1),e.k0s()),2&p){const s=e.XpG();e.Y8G("ngClass",e.l_i(2,Jr,s.submissionStatus.success,!s.submissionStatus.success)),e.R7$(),e.SpI(" ",s.submissionStatus.message," ")}}function Ii(p,S){1&p&&(e.j41(0,"div",61),e.EFF(1," L'\xe2ge minimum requis pour le preneur est de 18 ans. "),e.k0s())}function Ms(p,S){1&p&&(e.j41(0,"div",62),e.qSk(),e.j41(1,"svg",63),e.nrm(2,"circle",64)(3,"path",65),e.k0s()())}function Ui(p,S){if(1&p){const s=e.RV6();e.j41(0,"li",68),e.bIt("click",function(){const u=e.eBV(s).$implicit,k=e.XpG(2);return e.Njj(k.selectPostalCode(u))}),e.EFF(1),e.k0s()}if(2&p){const s=S.$implicit;e.R7$(),e.Lme(" ",s.postalCode," - ",s.city," ")}}function jr(p,S){if(1&p&&(e.j41(0,"ul",66),e.DNE(1,Ui,2,2,"li",67),e.k0s()),2&p){const s=e.XpG();e.R7$(),e.Y8G("ngForOf",s.filteredPostalCodes)}}function Bi(p,S){1&p&&(e.j41(0,"option",69),e.EFF(1,"S\xe9lectionner une ville"),e.k0s())}function ki(p,S){if(1&p&&(e.j41(0,"option",70),e.EFF(1),e.k0s()),2&p){const s=S.$implicit;e.Y8G("value",s),e.R7$(),e.JRh(s)}}function ms(p,S){if(1&p&&(e.j41(0,"div",71)(1,"h3",72),e.EFF(2),e.k0s(),e.j41(3,"div",73)(4,"div")(5,"label",74),e.EFF(6,"Nom"),e.k0s(),e.nrm(7,"input",75),e.k0s(),e.j41(8,"div")(9,"label",74),e.EFF(10,"Pr\xe9nom"),e.k0s(),e.nrm(11,"input",76),e.k0s(),e.j41(12,"div")(13,"label",74),e.EFF(14,"Date de naissance"),e.k0s(),e.nrm(15,"input",77),e.k0s(),e.j41(16,"div")(17,"label",74),e.EFF(18,"Capital souhait\xe9 (\u20ac)"),e.k0s(),e.nrm(19,"input",78),e.k0s()()()),2&p){const s=S.index;e.Y8G("formGroupName",s),e.R7$(2),e.SpI("Assur\xe9 ",s+1,""),e.R7$(3),e.Y8G("for","assure-nom-"+s),e.R7$(2),e.Y8G("id","assure-nom-"+s),e.R7$(2),e.Y8G("for","assure-prenom-"+s),e.R7$(2),e.Y8G("id","assure-prenom-"+s),e.R7$(2),e.Y8G("for","assure-dob-"+s),e.R7$(2),e.Y8G("id","assure-dob-"+s),e.R7$(2),e.Y8G("for","assure-capital-"+s),e.R7$(2),e.Y8G("id","assure-capital-"+s)}}let Pt=(()=>{class p{fb;dbConnectService;platformId;obsequesForm;destroy$=new he.B;submissionStatus=null;filteredPostalCodes=[];cities=[];isLoading=!1;constructor(s,a,u){this.fb=s,this.dbConnectService=a,this.platformId=u,this.obsequesForm=this.fb.group({preneur:this.fb.group({genre:["Madame"],nom:["",F.k0.required],prenom:["",F.k0.required],dateNaissance:["",[F.k0.required,this.ageValidator(18)]],telephone:["",F.k0.required],email:["",[F.k0.required,F.k0.email]],adresse:["",F.k0.required],codePostal:["",F.k0.required],ville:["",F.k0.required]}),nombreAssures:[1],preneurEstAssure:[!0],assures:this.fb.array([])})}ageValidator(s){return a=>{if(!a.value)return null;const u=new Date(a.value),k=new Date;let J=k.getFullYear()-u.getFullYear();const xe=k.getMonth()-u.getMonth();return(xe<0||0===xe&&k.getDate()<u.getDate())&&J--,J>=s?null:{minAge:{requiredAge:s,actualAge:J}}}}ngOnInit(){this.addAssure(),this.handleFormChanges(),(0,P.UE)(this.platformId)&&this.obsequesForm.get("preneur.codePostal")?.valueChanges.pipe(Ye(300),Je(),(0,ve.M)(()=>this.isLoading=!0),(0,Re.n)(s=>s&&s.length>=2?this.dbConnectService.getPostalCodes(s):(this.filteredPostalCodes=[],(0,Z.of)([]))),(0,ve.M)(()=>{this.filteredPostalCodes.length>0&&(this.cities=[],this.obsequesForm.get("preneur.ville")?.setValue(""))}),(0,pt.Q)(this.destroy$)).subscribe(s=>{this.isLoading=!1,this.filteredPostalCodes=s})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}get assures(){return this.obsequesForm.get("assures")}addAssure(){const s=this.fb.group({nom:["",F.k0.required],prenom:["",F.k0.required],dateNaissance:["",F.k0.required],capital:[5e3,[F.k0.required,F.k0.max(15e3)]]});this.assures.push(s)}removeAssure(s){this.assures.removeAt(s)}handleFormChanges(){this.obsequesForm.get("nombreAssures")?.valueChanges.subscribe(s=>{for(;this.assures.length<s;)this.addAssure();for(;this.assures.length>s;)this.removeAssure(this.assures.length-1)}),this.obsequesForm.get("preneurEstAssure")?.valueChanges.subscribe(s=>{this.updatePreneurSiAssure()})}updatePreneurSiAssure(){if(this.obsequesForm.get("preneurEstAssure")?.value&&this.assures.length>0){const s=this.obsequesForm.get("preneur")?.value;this.assures.at(0).patchValue(s)}}selectPostalCode(s){this.obsequesForm.get("preneur.codePostal")?.setValue(s.postalCode,{emitEvent:!1}),this.obsequesForm.get("preneur.ville")?.setValue(s.city),this.cities=[s.city],this.obsequesForm.get("preneur.ville")?.updateValueAndValidity(),this.filteredPostalCodes=[]}onSubmit(){this.obsequesForm.valid?this.dbConnectService.createObsequesQuote(this.obsequesForm.value).subscribe({next:s=>{console.log("Devis obs\xe8ques enregistr\xe9 avec succ\xe8s",s),this.submissionStatus={success:!0,message:"Votre demande de devis a bien \xe9t\xe9 enregistr\xe9e !"}},error:s=>{console.error("Erreur lors de l'enregistrement du devis obs\xe8ques",s),this.submissionStatus={success:!1,message:"Une erreur est survenue lors de l'enregistrement de votre devis."}}}):(console.error("Formulaire invalide"),this.submissionStatus={success:!1,message:"Veuillez remplir tous les champs obligatoires avant de soumettre."})}scrollToSection(s){if((0,P.UE)(this.platformId)){const a=document.getElementById(s);a&&a.scrollIntoView({behavior:"smooth",block:"start"})}}static \u0275fac=function(a){return new(a||p)(e.rXU(F.ok),e.rXU(jt.y),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:p,selectors:[["app-obseques"]],standalone:!0,features:[e.Jv_([jt.y]),e.aNF],decls:161,vars:30,consts:[["id","hero",1,"relative","isolate","bg-black","px-6","pt-14","lg:px-8"],[1,"mx-auto","max-w-7xl","py-8","sm:py-12","lg:py-16"],[1,"grid","grid-cols-1","items-center","gap-x-8","gap-y-16","lg:grid-cols-2"],[1,"text-center","lg:text-left"],[1,"text-4xl","font-bold","tracking-tight","text-white","sm:text-6xl"],[1,"mt-6","text-lg","leading-8","text-gray-300"],[1,"mt-10","flex","items-center","justify-center","gap-x-6","lg:justify-start"],[1,"rounded-md","bg-white","px-3.5","py-2.5","text-sm","font-semibold","text-gray-900","shadow-sm","hover:bg-gray-100","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-white",3,"click"],[1,"flex","justify-center","lg:justify-end"],["src","https://fqopliwvpuiprdegxytz.supabase.co/storage/v1/object/sign/img_website/aobseques.webp?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV81MmJmNDFiNC0yNGQ0LTQ3ZTktYmEzNi04YWZmY2NjMzEzNzIiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJpbWdfd2Vic2l0ZS9hb2JzZXF1ZXMud2VicCIsImlhdCI6MTc2MzAyNTI3NCwiZXhwIjoyMDc4Mzg1Mjc0fQ.IAfV4QnyFDMaMH65skjsyWsCgW6Jut_RM54yIhu7qcM","alt","Assurance",1,"w-full","max-w-xs","rounded-xl","shadow-xl","ring-1","ring-gray-400/10","lg:max-w-md"],["id","content",1,"container","mx-auto","p-4","py-16","sm:py-24"],[1,"grid","grid-cols-1","lg:grid-cols-2","lg:gap-12"],[1,"text-gray-700","prose","lg:prose-lg","max-w-none","prose-h2:mb-4","prose-p:mt-4","prose-ul:mt-4"],[1,"text-2xl","font-bold"],[1,"text-xl","font-bold","mt-8"],["id","form",1,"space-y-12","bg-white","p-8","rounded-lg","shadow-md","mt-8","lg:mt-0",3,"ngSubmit","formGroup"],["class","p-4 mb-4 text-sm rounded-lg","role","alert",3,"ngClass",4,"ngIf"],["formGroupName","preneur",1,"border-t","pt-6"],[1,"text-xl","font-semibold","px-2","text-gray-700","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],["for","preneur-genre",1,"block","text-sm","font-medium","text-gray-700"],["id","preneur-genre","formControlName","genre",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["selected",""],["for","preneur-nom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-nom","formControlName","nom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"input"],["for","preneur-prenom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-prenom","formControlName","prenom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"input"],["for","preneur-dob",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","preneur-dob","formControlName","dateNaissance",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"input"],["class","text-red-600 text-sm mt-1",4,"ngIf"],["for","preneur-tel",1,"block","text-sm","font-medium","text-gray-700"],["type","tel","id","preneur-tel","formControlName","telephone","appPhoneFormat","","placeholder","+32 4XX XX XX XX","maxlength","18",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"lg:col-span-2"],["for","preneur-email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","preneur-email","formControlName","email",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"md:col-span-2"],["for","preneur-adresse",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","preneur-adresse","formControlName","adresse",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","preneur-cp",1,"block","text-sm","font-medium","text-gray-700"],[1,"relative"],["type","text","id","preneur-cp","formControlName","codePostal","autocomplete","off",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["class","absolute inset-y-0 right-0 flex items-center pr-3 top-1",4,"ngIf"],["class","absolute z-10 w-full bg-white border border-gray-300 rounded-md mt-1 max-h-40 overflow-y-auto",4,"ngIf"],["for","preneur-ville",1,"block","text-sm","font-medium","text-gray-700"],["id","preneur-ville","formControlName","ville",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm","disabled:bg-gray-100",3,"disabled"],["value","",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"border-t","pt-6"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6","mb-6"],["for","nombre-assures",1,"block","text-sm","font-medium","text-gray-700"],["id","nombre-assures","formControlName","nombreAssures",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[3,"ngValue"],[1,"flex","items-end","pb-1"],[1,"flex","items-center"],["id","preneur-est-assure","type","checkbox","formControlName","preneurEstAssure",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","preneur-est-assure",1,"ml-2","block","text-sm","text-gray-900"],["formArrayName","assures",1,"space-y-6"],["class","p-4 border rounded-md",3,"formGroupName",4,"ngFor","ngForOf"],[1,"flex","justify-end","pt-6"],["type","submit",1,"inline-flex","justify-center","rounded-md","border","border-transparent","bg-indigo-600","py-2","px-4","text-sm","font-medium","text-white","shadow-sm","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2","disabled:bg-gray-400",3,"disabled"],["role","alert",1,"p-4","mb-4","text-sm","rounded-lg",3,"ngClass"],[1,"text-red-600","text-sm","mt-1"],[1,"absolute","inset-y-0","right-0","flex","items-center","pr-3","top-1"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5","text-gray-400"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"absolute","z-10","w-full","bg-white","border","border-gray-300","rounded-md","mt-1","max-h-40","overflow-y-auto"],["class","px-3 py-2 cursor-pointer hover:bg-gray-100",3,"click",4,"ngFor","ngForOf"],[1,"px-3","py-2","cursor-pointer","hover:bg-gray-100",3,"click"],["value",""],[3,"value"],[1,"p-4","border","rounded-md",3,"formGroupName"],[1,"font-semibold","text-gray-800","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4"],[1,"block","text-sm","font-medium","text-gray-700",3,"for"],["type","text","formControlName","nom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"id"],["type","text","formControlName","prenom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"id"],["type","date","formControlName","dateNaissance",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"id"],["type","number","formControlName","capital","max","15000",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"id"]],template:function(a,u){if(1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e.EFF(5,"Assurance Obs\xe8ques"),e.k0s(),e.j41(6,"p",5),e.EFF(7,"Une assurance obs\xe8ques vous permet de pr\xe9parer et de financer l\u2019organisation de vos fun\xe9railles \xe0 l\u2019avance. Elle soulage votre famille des d\xe9marches et des frais souvent importants li\xe9s \xe0 ce moment difficile. Elle garantit le respect de vos volont\xe9s et la prise en charge des d\xe9penses pr\xe9vues. Ainsi, elle apporte s\xe9r\xe9nit\xe9 et tranquillit\xe9 d\u2019esprit \xe0 vous et \xe0 vos proches."),e.k0s(),e.j41(8,"div",6)(9,"button",7),e.bIt("click",function(){return u.scrollToSection("content")}),e.EFF(10,"Souscrire chez DELA"),e.k0s(),e.j41(11,"button",7),e.bIt("click",function(){return u.scrollToSection("content")}),e.EFF(12,"Demande d'informations(autre que DELA) "),e.k0s()()(),e.j41(13,"div",8),e.nrm(14,"img",9),e.k0s()()()(),e.j41(15,"div",10)(16,"div",11)(17,"div",12)(18,"h2",13),e.EFF(19,"Assurance obs\xe8ques"),e.k0s(),e.j41(20,"p"),e.EFF(21,"La perte d\u2019un proche est toujours un moment charg\xe9 d\u2019\xe9motions. Pr\xe9voir et prendre en charge les frais de ses propres obs\xe8ques est de plus en plus courant. Un dernier geste fort appr\xe9ci\xe9 par vos proches, \xe0 qui vous \xe9vitez bien des tracas financiers."),e.k0s(),e.j41(22,"h3",14),e.EFF(23,"Qu\u2019est-ce qu\u2019une assurance obs\xe8ques ?"),e.k0s(),e.j41(24,"p"),e.EFF(25,"L'assurance obs\xe8ques couvre les frais fun\xe9raires et de rapatriement du d\xe9funt, soulageant financi\xe8rement la famille. En revanche, l'assurance d\xe9c\xe8s offre un capital qui peut \xeatre utilis\xe9 \xe0 d'autres fins que les fun\xe9railles. De nombreux plans de pr\xe9voyance offrent \xe9galement une assistance administrative pour soulager la famille des formalit\xe9s n\xe9cessaires dans de telles situations."),e.k0s(),e.j41(26,"h3",14),e.EFF(27,"Les avantages d\u2019un plan de pr\xe9voyance obs\xe8ques"),e.k0s(),e.j41(28,"p"),e.EFF(29,"De plus en plus de Belges choisissent d'organiser leurs fun\xe9railles \xe0 l'avance, offrant ainsi un soulagement \xe0 leurs proches et garantissant que leurs souhaits seront respect\xe9s. Les avantages de cette d\xe9marche sont nombreux :"),e.k0s(),e.j41(30,"ul")(31,"li"),e.EFF(32,"Vous d\xe9terminez librement le montant assur\xe9, fixe pendant toute la dur\xe9e du contrat (entre 1 500 et 10 000\u20ac)."),e.k0s(),e.j41(33,"li"),e.EFF(34,"Vous avez le choix de l'entrepreneur de pompes fun\xe8bres et des modalit\xe9s des fun\xe9railles."),e.k0s(),e.j41(35,"li"),e.EFF(36,"Vous pr\xe9payez les co\xfbts des fun\xe9railles, d\xe8s le premier paiement de la prime mensuelle."),e.k0s(),e.j41(37,"li"),e.EFF(38,"Le capital assur\xe9 est index\xe9 chaque ann\xe9e pour s'adapter \xe0 l'\xe9volution du co\xfbt de la vie."),e.k0s(),e.j41(39,"li"),e.EFF(40,"Les enfants jusqu'\xe0 18 ans sont inclus dans l'assurance obs\xe8ques."),e.k0s(),e.j41(41,"li"),e.EFF(42,"Vos proches b\xe9n\xe9ficient d'une assistance pour les formalit\xe9s administratives."),e.k0s()(),e.j41(43,"h3",14),e.EFF(44,"Comment se calcule la prime ?"),e.k0s(),e.j41(45,"p"),e.EFF(46,"L\u2019assistance aux proches est toujours comprise dans le plan de base. Ce service offre \xe0 votre famille un accompagnement professionnel pour toutes les formalit\xe9s pratiques et administratives apr\xe8s un d\xe9c\xe8s."),e.k0s(),e.j41(47,"p"),e.EFF(48,"Le montant de la prime d\xe9pend de plusieurs crit\xe8res ; il se calcule en fonction de votre \xe2ge, du capital souhait\xe9 en cas de d\xe9c\xe8s, du terme du paiement de la prime et peut d\xe9pendre d\u2019une approbation m\xe9dicale."),e.k0s()(),e.j41(49,"form",15),e.bIt("ngSubmit",function(){return u.onSubmit()}),e.DNE(50,Xn,2,5,"div",16),e.j41(51,"fieldset",17)(52,"legend",18),e.EFF(53,"1. Informations sur le preneur"),e.k0s(),e.j41(54,"div",19)(55,"div")(56,"label",20),e.EFF(57,"Genre"),e.k0s(),e.j41(58,"select",21)(59,"option",22),e.EFF(60,"Madame"),e.k0s(),e.j41(61,"option"),e.EFF(62,"Monsieur"),e.k0s(),e.j41(63,"option"),e.EFF(64,"Autre"),e.k0s()()(),e.j41(65,"div")(66,"label",23),e.EFF(67,"Nom"),e.k0s(),e.j41(68,"input",24),e.bIt("input",function(){return u.updatePreneurSiAssure()}),e.k0s()(),e.j41(69,"div")(70,"label",25),e.EFF(71,"Pr\xe9nom"),e.k0s(),e.j41(72,"input",26),e.bIt("input",function(){return u.updatePreneurSiAssure()}),e.k0s()(),e.j41(73,"div")(74,"label",27),e.EFF(75,"Date de naissance"),e.k0s(),e.j41(76,"input",28),e.bIt("input",function(){return u.updatePreneurSiAssure()}),e.k0s(),e.DNE(77,Ii,2,0,"div",29),e.k0s(),e.j41(78,"div")(79,"label",30),e.EFF(80,"Num\xe9ro de t\xe9l\xe9phone"),e.k0s(),e.nrm(81,"input",31),e.k0s(),e.j41(82,"div",32)(83,"label",33),e.EFF(84,"Email"),e.k0s(),e.nrm(85,"input",34),e.k0s(),e.j41(86,"div",35)(87,"label",36),e.EFF(88,"Adresse"),e.k0s(),e.nrm(89,"input",37),e.k0s(),e.j41(90,"div")(91,"label",38),e.EFF(92,"Code Postal"),e.k0s(),e.j41(93,"div",39),e.nrm(94,"input",40),e.DNE(95,Ms,4,0,"div",41)(96,jr,2,1,"ul",42),e.k0s()(),e.j41(97,"div")(98,"label",43),e.EFF(99,"Ville"),e.k0s(),e.j41(100,"select",44),e.DNE(101,Bi,2,0,"option",45)(102,ki,2,2,"option",46),e.k0s()()()(),e.j41(103,"fieldset",47)(104,"legend",18),e.EFF(105,"2. Personnes \xe0 assurer"),e.k0s(),e.j41(106,"div",48)(107,"div")(108,"label",49),e.EFF(109,"Nombre de personnes \xe0 assurer"),e.k0s(),e.j41(110,"select",50)(111,"option",51),e.EFF(112,"1"),e.k0s(),e.j41(113,"option",51),e.EFF(114,"2"),e.k0s(),e.j41(115,"option",51),e.EFF(116,"3"),e.k0s(),e.j41(117,"option",51),e.EFF(118,"4"),e.k0s(),e.j41(119,"option",51),e.EFF(120,"5"),e.k0s(),e.j41(121,"option",51),e.EFF(122,"6"),e.k0s(),e.j41(123,"option",51),e.EFF(124,"7"),e.k0s(),e.j41(125,"option",51),e.EFF(126,"8"),e.k0s(),e.j41(127,"option",51),e.EFF(128,"9"),e.k0s(),e.j41(129,"option",51),e.EFF(130,"10"),e.k0s(),e.j41(131,"option",51),e.EFF(132,"11"),e.k0s(),e.j41(133,"option",51),e.EFF(134,"12"),e.k0s(),e.j41(135,"option",51),e.EFF(136,"13"),e.k0s(),e.j41(137,"option",51),e.EFF(138,"14"),e.k0s(),e.j41(139,"option",51),e.EFF(140,"15"),e.k0s(),e.j41(141,"option",51),e.EFF(142,"16"),e.k0s(),e.j41(143,"option",51),e.EFF(144,"17"),e.k0s(),e.j41(145,"option",51),e.EFF(146,"18"),e.k0s(),e.j41(147,"option",51),e.EFF(148,"19"),e.k0s(),e.j41(149,"option",51),e.EFF(150,"20"),e.k0s()()(),e.j41(151,"div",52)(152,"div",53),e.nrm(153,"input",54),e.j41(154,"label",55),e.EFF(155,"Le preneur est aussi un des assur\xe9s"),e.k0s()()()(),e.j41(156,"div",56),e.DNE(157,ms,20,10,"div",57),e.k0s()(),e.j41(158,"div",58)(159,"button",59),e.EFF(160," Recevoir mon offre "),e.k0s()()()()()),2&a){let k;e.R7$(49),e.Y8G("formGroup",u.obsequesForm),e.R7$(),e.Y8G("ngIf",u.submissionStatus),e.R7$(27),e.Y8G("ngIf",null==(k=u.obsequesForm.get("preneur.dateNaissance"))?null:k.hasError("minAge")),e.R7$(18),e.Y8G("ngIf",u.isLoading),e.R7$(),e.Y8G("ngIf",u.filteredPostalCodes.length>0),e.R7$(4),e.Y8G("disabled",0===u.cities.length),e.R7$(),e.Y8G("ngIf",0===u.cities.length),e.R7$(),e.Y8G("ngForOf",u.cities),e.R7$(9),e.Y8G("ngValue",1),e.R7$(2),e.Y8G("ngValue",2),e.R7$(2),e.Y8G("ngValue",3),e.R7$(2),e.Y8G("ngValue",4),e.R7$(2),e.Y8G("ngValue",5),e.R7$(2),e.Y8G("ngValue",6),e.R7$(2),e.Y8G("ngValue",7),e.R7$(2),e.Y8G("ngValue",8),e.R7$(2),e.Y8G("ngValue",9),e.R7$(2),e.Y8G("ngValue",10),e.R7$(2),e.Y8G("ngValue",11),e.R7$(2),e.Y8G("ngValue",12),e.R7$(2),e.Y8G("ngValue",13),e.R7$(2),e.Y8G("ngValue",14),e.R7$(2),e.Y8G("ngValue",15),e.R7$(2),e.Y8G("ngValue",16),e.R7$(2),e.Y8G("ngValue",17),e.R7$(2),e.Y8G("ngValue",18),e.R7$(2),e.Y8G("ngValue",19),e.R7$(2),e.Y8G("ngValue",20),e.R7$(8),e.Y8G("ngForOf",u.assures.controls),e.R7$(2),e.Y8G("disabled",!u.obsequesForm.valid)}},dependencies:[P.MD,P.YU,P.Sq,P.bT,F.X1,F.qT,F.xH,F.y7,F.me,F.Q0,F.Zm,F.wz,F.BC,F.cb,F.tU,F.zX,F.j4,F.JD,F.$R,F.v8,kn],encapsulation:2})}return p})();const X=(p,S)=>({"bg-green-100 text-green-800":p,"bg-red-100 text-red-800":S});function le(p,S){if(1&p&&(e.j41(0,"div",34),e.EFF(1),e.k0s()),2&p){const s=e.XpG();e.Y8G("ngClass",e.l_i(2,X,s.submissionStatus.success,!s.submissionStatus.success)),e.R7$(),e.SpI(" ",s.submissionStatus.message," ")}}let ee=(()=>{class p{fb;dbConnectService;platformId;infoForm;submissionStatus=null;constructor(s,a,u){this.fb=s,this.dbConnectService=a,this.platformId=u,this.infoForm=this.fb.group({nom:["",F.k0.required],prenom:["",F.k0.required],email:["",[F.k0.required,F.k0.email]],gsm:["",F.k0.required],message:["",F.k0.required]})}onSubmit(){this.infoForm.valid&&this.dbConnectService.saveInfoRequestForm(this.infoForm.value,"juridique").subscribe({next:()=>{this.submissionStatus={success:!0,message:"Votre demande a bien \xe9t\xe9 envoy\xe9e."},this.infoForm.reset()},error:s=>{this.submissionStatus={success:!1,message:"Une erreur est survenue lors de l'envoi de votre demande."},console.error(s)}})}scrollToSection(s){(0,P.UE)(this.platformId)&&document.getElementById(s)?.scrollIntoView({behavior:"smooth"})}static \u0275fac=function(a){return new(a||p)(e.rXU(F.ok),e.rXU(jt.y),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:p,selectors:[["app-assurance-juridique"]],standalone:!0,features:[e.Jv_([jt.y]),e.aNF],decls:61,vars:3,consts:[["id","hero",1,"relative","isolate","bg-black","px-6","pt-14","lg:px-8"],[1,"mx-auto","max-w-7xl","py-8","sm:py-12","lg:py-16"],[1,"grid","grid-cols-1","items-center","gap-x-8","gap-y-16","lg:grid-cols-2"],[1,"text-center","lg:text-left"],[1,"text-4xl","font-bold","tracking-tight","text-white","sm:text-6xl"],[1,"mt-6","text-lg","leading-8","text-gray-300"],[1,"mt-10","flex","items-center","justify-center","gap-x-6","lg:justify-start"],[1,"rounded-md","bg-white","px-3.5","py-2.5","text-sm","font-semibold","text-gray-900","shadow-sm","hover:bg-gray-100","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-white",3,"click"],["routerLink","/contact",1,"text-sm","font-semibold","leading-6","text-white"],["aria-hidden","true"],[1,"flex","justify-center","lg:justify-end"],["src","https://fqopliwvpuiprdegxytz.supabase.co/storage/v1/object/sign/img_website/tribunal.webp?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV81MmJmNDFiNC0yNGQ0LTQ3ZTktYmEzNi04YWZmY2NjMzEzNzIiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJpbWdfd2Vic2l0ZS90cmlidW5hbC53ZWJwIiwiaWF0IjoxNzYzMDI1NDY0LCJleHAiOjIwNzgzODU0NjR9.R3hOUbrrtdA0hmCLc9roqY7DPhFoCZPTgtLMzfPuhPk","alt","Assurance",1,"w-full","max-w-xs","rounded-xl","shadow-xl","ring-1","ring-gray-400/10","lg:max-w-md"],["id","content",1,"container","mx-auto","p-4","py-16","sm:py-24"],[1,"grid","grid-cols-1","lg:grid-cols-2","lg:gap-12"],["id","form",1,"bg-white","p-8","rounded-lg","shadow-md"],[1,"text-2xl","font-bold","mb-6","text-gray-800"],["class","p-4 mb-4 text-sm rounded-lg","role","alert",3,"ngClass",4,"ngIf"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["for","nom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","nom","formControlName","nom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","prenom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","prenom","formControlName","prenom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","email","formControlName","email",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","gsm",1,"block","text-sm","font-medium","text-gray-700"],["type","tel","id","gsm","formControlName","gsm","appPhoneFormat","","placeholder","+32 4XX XX XX XX","maxlength","18",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","message",1,"block","text-sm","font-medium","text-gray-700"],["id","message","formControlName","message","rows","4",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"flex","justify-end"],["type","submit",1,"inline-flex","justify-center","rounded-md","border","border-transparent","bg-indigo-600","py-2","px-4","text-sm","font-medium","text-white","shadow-sm","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2","disabled:bg-gray-400","disabled:cursor-not-allowed",3,"disabled"],[1,"text-gray-700","prose","lg:prose-lg","max-w-none","prose-h2:mb-4","prose-p:mt-4","prose-ul:mt-4","mt-8","lg:mt-0"],[1,"text-2xl","font-bold"],[1,"text-xl","font-bold","mt-8"],["role","alert",1,"p-4","mb-4","text-sm","rounded-lg",3,"ngClass"]],template:function(a,u){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e.EFF(5,"Assurance Protection Juridique"),e.k0s(),e.j41(6,"p",5),e.EFF(7,"Une assurance assistance juridique vous offre un accompagnement professionnel en cas de litige ou de probl\xe8me l\xe9gal. Elle prend en charge les conseils d\u2019avocats et les frais li\xe9s aux proc\xe9dures judiciaires. Gr\xe2ce \xe0 elle, vous pouvez d\xe9fendre vos droits sans craindre les co\xfbts \xe9lev\xe9s d\u2019un proc\xe8s. Elle apporte ainsi s\xe9curit\xe9 et s\xe9r\xe9nit\xe9 face aux situations juridiques impr\xe9vues."),e.k0s(),e.j41(8,"div",6)(9,"button",7),e.bIt("click",function(){return u.scrollToSection("content")}),e.EFF(10,"Souscrire"),e.k0s(),e.j41(11,"a",8),e.EFF(12,"Contact "),e.j41(13,"span",9),e.EFF(14,"\u2192"),e.k0s()()()(),e.j41(15,"div",10),e.nrm(16,"img",11),e.k0s()()()(),e.j41(17,"div",12)(18,"div",13)(19,"div",14)(20,"h2",15),e.EFF(21,"Demande de renseignement"),e.k0s(),e.DNE(22,le,2,5,"div",16),e.j41(23,"form",17),e.bIt("ngSubmit",function(){return u.onSubmit()}),e.j41(24,"div",18)(25,"div")(26,"label",19),e.EFF(27,"Nom"),e.k0s(),e.nrm(28,"input",20),e.k0s(),e.j41(29,"div")(30,"label",21),e.EFF(31,"Pr\xe9nom"),e.k0s(),e.nrm(32,"input",22),e.k0s()(),e.j41(33,"div")(34,"label",23),e.EFF(35,"Email"),e.k0s(),e.nrm(36,"input",24),e.k0s(),e.j41(37,"div")(38,"label",25),e.EFF(39,"GSM"),e.k0s(),e.nrm(40,"input",26),e.k0s(),e.j41(41,"div")(42,"label",27),e.EFF(43,"Message"),e.k0s(),e.nrm(44,"textarea",28),e.k0s(),e.j41(45,"div",29)(46,"button",30),e.EFF(47," Envoyer "),e.k0s()()()(),e.j41(48,"div",31)(49,"h2",32),e.EFF(50,"Assurance Protection Juridique"),e.k0s(),e.j41(51,"p"),e.EFF(52,"Personne n'est \xe0 l'abri d'un incident susceptible de causer des dommages. Dans de telles situations, il est crucial de faire valoir ses droits pour obtenir une indemnisation \xe9quitable. Toutefois, engager ces d\xe9marches sans l'aide d'un professionnel peut s'av\xe9rer difficile, sans oublier les frais administratifs ou juridiques qui peuvent rapidement s'accumuler."),e.k0s(),e.j41(53,"h3",33),e.EFF(54,"Une assurance protection juridique : Pour quelles raisons ?"),e.k0s(),e.j41(55,"p"),e.EFF(56,"Que ce soit une cuisine mal install\xe9e, une facture d\u2019\xe9lectricit\xe9 erron\xe9e, ou un litige avec un employeur, la protection juridique intervient dans diverses situations o\xf9 vous subissez des dommages caus\xe9s par un tiers. Bien que ces incidents ne surviennent pas fr\xe9quemment, leur impact peut \xeatre consid\xe9rable. Contrairement \xe0 l'assurance responsabilit\xe9 civile familiale, la protection juridique vous aide \xe0 faire valoir vos droits et \xe0 obtenir une indemnisation pour les dommages subis \xe0 cause d'un tiers."),e.k0s(),e.j41(57,"h3",33),e.EFF(58,"Quels avantages ?"),e.k0s(),e.j41(59,"p"),e.EFF(60,"Quel que soit votre probl\xe8me, vous b\xe9n\xe9ficiez d'une assistance juridique par t\xe9l\xe9phone pour obtenir des r\xe9ponses \xe0 vos questions. Apr\xe8s \xe9valuation de votre situation, vous serez guid\xe9 sur les recours possibles, qu'ils soient amiables ou judiciaires. En cas de litige, vous pouvez choisir votre avocat devant les juridictions belges, europ\xe9ennes ou mondiales, avec la possibilit\xe9 pour votre assureur de vous repr\xe9senter dans les n\xe9gociations d'indemnisation. Il est \xe0 noter que l'assurance protection juridique peut \xeatre d\xe9ductible fiscalement, sous certaines conditions."),e.k0s()()()()),2&a&&(e.R7$(22),e.Y8G("ngIf",u.submissionStatus),e.R7$(),e.Y8G("formGroup",u.infoForm),e.R7$(23),e.Y8G("disabled",!u.infoForm.valid))},dependencies:[P.MD,P.YU,P.bT,F.X1,F.qT,F.me,F.BC,F.cb,F.tU,F.j4,F.JD,de.Wk,kn],encapsulation:2})}return p})();const Ie=(p,S)=>({"bg-green-100 text-green-800":p,"bg-red-100 text-red-800":S});function Xe(p,S){if(1&p&&(e.j41(0,"div",33),e.EFF(1),e.k0s()),2&p){const s=e.XpG();e.Y8G("ngClass",e.l_i(2,Ie,s.submissionStatus.success,!s.submissionStatus.success)),e.R7$(),e.SpI(" ",s.submissionStatus.message," ")}}let et=(()=>{class p{fb;dbConnectService;platformId;infoForm;submissionStatus=null;constructor(s,a,u){this.fb=s,this.dbConnectService=a,this.platformId=u,this.infoForm=this.fb.group({nom:["",F.k0.required],prenom:["",F.k0.required],email:["",[F.k0.required,F.k0.email]],gsm:[""],message:["",F.k0.required]})}onSubmit(){this.infoForm.valid&&this.dbConnectService.saveVoyageForm(this.infoForm.value).subscribe({next:()=>{this.submissionStatus={success:!0,message:"Votre demande a bien \xe9t\xe9 envoy\xe9e !"},this.infoForm.reset()},error:()=>this.submissionStatus={success:!1,message:"Une erreur est survenue. Veuillez r\xe9essayer."}})}scrollToSection(s){if((0,P.UE)(this.platformId)){const a=document.getElementById(s);a&&a.scrollIntoView({behavior:"smooth",block:"start"})}}static \u0275fac=function(a){return new(a||p)(e.rXU(F.ok),e.rXU(jt.y),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:p,selectors:[["app-assurance-voyage"]],standalone:!0,features:[e.aNF],decls:71,vars:3,consts:[["id","hero",1,"relative","isolate","bg-black","px-6","pt-14","lg:px-8"],[1,"mx-auto","max-w-7xl","py-8","sm:py-12","lg:py-16"],[1,"grid","grid-cols-1","items-center","gap-x-8","gap-y-16","lg:grid-cols-2"],[1,"text-center","lg:text-left"],[1,"text-4xl","font-bold","tracking-tight","text-white","sm:text-6xl"],[1,"mt-6","text-lg","leading-8","text-gray-300"],[1,"mt-10","flex","items-center","justify-center","gap-x-6","lg:justify-start"],[1,"rounded-md","bg-white","px-3.5","py-2.5","text-sm","font-semibold","text-gray-900","shadow-sm","hover:bg-gray-100","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-white",3,"click"],["routerLink","/contact",1,"text-sm","font-semibold","leading-6","text-white"],["aria-hidden","true"],[1,"flex","justify-center","lg:justify-end"],["src","https://fqopliwvpuiprdegxytz.supabase.co/storage/v1/object/sign/img_website/avoyage.webp?token=eyJraWQiOiJzdG9yYWdlLXVybC1zaWduaW5nLWtleV81MmJmNDFiNC0yNGQ0LTQ3ZTktYmEzNi04YWZmY2NjMzEzNzIiLCJhbGciOiJIUzI1NiJ9.eyJ1cmwiOiJpbWdfd2Vic2l0ZS9hdm95YWdlLndlYnAiLCJpYXQiOjE3NjMwMjUwOTQsImV4cCI6MjA3ODM4NTA5NH0.yFs3cX7_iROkZ6x-qAyECADU2cW_UmOp2gVtYOl03oc","alt","Assurance",1,"w-full","max-w-xs","rounded-xl","shadow-xl","ring-1","ring-gray-400/10","lg:max-w-md"],["id","content",1,"container","mx-auto","p-4","py-16","sm:py-24"],[1,"grid","grid-cols-1","lg:grid-cols-2","lg:gap-12"],[1,"text-gray-700","prose","lg:prose-lg"],[1,"text-xl","font-bold","mt-8"],[1,"bg-white","p-8","rounded-lg","shadow-md","mt-8","lg:mt-0"],[1,"text-2xl","font-bold","mb-6","text-gray-800"],["class","p-4 mb-4 text-sm rounded-lg","role","alert",3,"ngClass",4,"ngIf"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["for","nom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","nom","formControlName","nom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","prenom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","prenom","formControlName","prenom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","email","formControlName","email",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","gsm",1,"block","text-sm","font-medium","text-gray-700"],["type","tel","id","gsm","formControlName","gsm","appPhoneFormat","","placeholder","+32 4XX XX XX XX","maxlength","18",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","message",1,"block","text-sm","font-medium","text-gray-700"],["id","message","formControlName","message","rows","4",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"flex","justify-end"],["type","submit",1,"inline-flex","justify-center","rounded-md","border","border-transparent","bg-indigo-600","py-2","px-4","text-sm","font-medium","text-white","shadow-sm","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2","disabled:bg-gray-400","disabled:cursor-not-allowed",3,"disabled"],["role","alert",1,"p-4","mb-4","text-sm","rounded-lg",3,"ngClass"]],template:function(a,u){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e.EFF(5,"Assurances Voyage"),e.k0s(),e.j41(6,"p",5),e.EFF(7,"Une assurance voyage vous prot\xe8ge contre les impr\xe9vus lors de vos d\xe9placements, comme les accidents, maladies ou pertes de bagages. Elle prend en charge les frais m\xe9dicaux \xe0 l\u2019\xe9tranger et le rapatriement si n\xe9cessaire. Elle offre \xe9galement une assistance en cas d\u2019annulation ou de retard de voyage. Ainsi, elle vous permet de voyager l\u2019esprit tranquille, en toute s\xe9curit\xe9."),e.k0s(),e.j41(8,"div",6)(9,"button",7),e.bIt("click",function(){return u.scrollToSection("content")}),e.EFF(10,"Souscrire"),e.k0s(),e.j41(11,"a",8),e.EFF(12,"Contact "),e.j41(13,"span",9),e.EFF(14,"\u2192"),e.k0s()()()(),e.j41(15,"div",10),e.nrm(16,"img",11),e.k0s()()()(),e.j41(17,"div",12)(18,"div",13)(19,"div",14)(20,"p"),e.EFF(21,"L\u2019assurance voyage n\u2019est pas obligatoire, mais vous permet de partir en toute qui\xe9tude. Les garanties sont diverses et vari\xe9es : annulation de derni\xe8re minute, frais m\xe9dicaux \xe0 l\u2019\xe9tranger, rapatriement, perte de bagages, etc."),e.k0s(),e.j41(22,"h3",15),e.EFF(23,"L\u2019assistance Annuelle"),e.k0s(),e.j41(24,"p"),e.EFF(25,"Comme l\u2019indique son nom, elle est active tout au long de l\u2019ann\xe9e d\xe8s lors que vous vous trouvez \xe0 l\u2019\xe9tranger. Cela vous permet ainsi de partir en voyage d\xe8s que l\u2019envie vous en prend et ce, sans devoir vous soucier des risques."),e.k0s(),e.j41(26,"p"),e.EFF(27,"Bien s\xfbr, il existe autant de formules qu\u2019il existe de possibilit\xe9s. Par exemple, si vous ne voyagez qu\u2019au sein de l\u2019Union Europ\xe9enne, il est inutile de souscrire une assurance voyage dans le monde entier. De plus, vous pourrez opter pour des services compl\xe9mentaires tels que l\u2019assistance d\xe9pannage, l\u2019assurance bagages, etc."),e.k0s(),e.j41(28,"p"),e.EFF(29,"En toutes circonstances cependant, vous b\xe9n\xe9ficierez d\u2019une couverture sant\xe9 optimale (remboursement des frais m\xe9dicaux \xe0 l\u2019\xe9tranger, rapatriement en cas d\u2019accident ou de maladie, retour anticip\xe9 dans l\u2019\xe9ventualit\xe9 d\u2019un proche hospitalis\xe9 ou d\xe9c\xe9d\xe9\u2026)."),e.k0s(),e.j41(30,"h3",15),e.EFF(31,"L\u2019assistance temporaire"),e.k0s(),e.j41(32,"p"),e.EFF(33,"Cette formule, semblable \xe0 la pr\xe9c\xe9dente, est particuli\xe8rement appr\xe9ci\xe9e par les vacanciers occasionnels cherchant \xe0 profiter de leur s\xe9jour sans souci. Elle comprend m\xeame des options sp\xe9cifiques pour le ski !"),e.k0s(),e.j41(34,"p"),e.EFF(35,"Cependant, il est important de noter que la dur\xe9e du voyage est g\xe9n\xe9ralement limit\xe9e \xe0 moins de 45 jours."),e.k0s(),e.j41(36,"p"),e.EFF(37,"Comme toujours, il est recommand\xe9 de choisir une assurance qui correspond \xe0 vos besoins sp\xe9cifiques, avec des options modulables en fonction de crit\xe8res tels que la dur\xe9e du s\xe9jour, la destination et la p\xe9riode de l'ann\xe9e. "),e.k0s(),e.j41(38,"h3",15),e.EFF(39,"L\u2019assurance annulation"),e.k0s(),e.j41(40,"p"),e.EFF(41,"Comme son nom l'indique, ce type d'assurance est sp\xe9cifiquement con\xe7u pour couvrir l'annulation de votre voyage. Ainsi, si des circonstances impr\xe9vues vous obligent \xe0 renoncer ou \xe0 \xe9courter votre s\xe9jour \xe0 l'\xe9tranger, que ce soit pour des raisons de sant\xe9, le d\xe9c\xe8s d'un proche ou une situation instable dans le pays de destination, les frais associ\xe9s seront pris en charge."),e.k0s()(),e.j41(42,"div",16)(43,"h2",17),e.EFF(44,"Demande de renseignement"),e.k0s(),e.DNE(45,Xe,2,5,"div",18),e.j41(46,"form",19),e.bIt("ngSubmit",function(){return u.onSubmit()}),e.j41(47,"div",20)(48,"div")(49,"label",21),e.EFF(50,"Nom"),e.k0s(),e.nrm(51,"input",22),e.k0s(),e.j41(52,"div")(53,"label",23),e.EFF(54,"Pr\xe9nom"),e.k0s(),e.nrm(55,"input",24),e.k0s()(),e.j41(56,"div")(57,"label",25),e.EFF(58,"Email"),e.k0s(),e.nrm(59,"input",26),e.k0s(),e.j41(60,"div")(61,"label",27),e.EFF(62,"GSM"),e.k0s(),e.nrm(63,"input",28),e.k0s(),e.j41(64,"div")(65,"label",29),e.EFF(66,"Message"),e.k0s(),e.nrm(67,"textarea",30),e.k0s(),e.j41(68,"div",31)(69,"button",32),e.EFF(70," Envoyer "),e.k0s()()()()()()),2&a&&(e.R7$(45),e.Y8G("ngIf",u.submissionStatus),e.R7$(),e.Y8G("formGroup",u.infoForm),e.R7$(23),e.Y8G("disabled",!u.infoForm.valid))},dependencies:[F.X1,F.qT,F.me,F.BC,F.cb,F.tU,F.j4,F.JD,P.MD,P.YU,P.bT,de.Wk]})}return p})(),it=(()=>{class p{email="info@assurkin.be";activeTab="vue-ensemble";static \u0275fac=function(a){return new(a||p)};static \u0275cmp=e.VBU({type:p,selectors:[["app-mentions-legales"]],standalone:!0,features:[e.aNF],decls:36,vars:12,consts:[[1,"container","mx-auto","p-4","pt-24"],[1,"border-b","border-gray-200","mb-8"],["aria-label","Tabs",1,"-mb-px","flex","space-x-8","overflow-x-auto"],[1,"whitespace-nowrap","py-4","px-1","border-b-2","font-medium","text-sm",3,"click","ngClass"],[3,"hidden"],[1,"bg-white","shadow-md","rounded-lg","p-6","text-center"],[1,"text-gray-600"]],template:function(a,u){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"nav",2)(3,"button",3),e.bIt("click",function(){return u.activeTab="vue-ensemble"}),e.EFF(4," Vue d'ensemble "),e.k0s(),e.j41(5,"button",3),e.bIt("click",function(){return u.activeTab="a-propos"}),e.EFF(6," A propos de nous "),e.k0s(),e.j41(7,"button",3),e.bIt("click",function(){return u.activeTab="mifid"}),e.EFF(8," Mifid "),e.k0s(),e.j41(9,"button",3),e.bIt("click",function(){return u.activeTab="politique-confidentialite"}),e.EFF(10," Politique confidentialit\xe9s "),e.k0s(),e.j41(11,"button",3),e.bIt("click",function(){return u.activeTab="politique-utilisation"}),e.EFF(12," Politique d'utilisation "),e.k0s(),e.j41(13,"button",3),e.bIt("click",function(){return u.activeTab="conditions-generales"}),e.EFF(14," Conditions g\xe9n\xe9rales de vente "),e.k0s()()(),e.j41(15,"div")(16,"div",4)(17,"div",5)(18,"p",6),e.EFF(19,"Contenu pour Vue d'ensemble \xe0 impl\xe9menter ici."),e.k0s()()(),e.j41(20,"div",4)(21,"div",5)(22,"p",6),e.EFF(23,"Contenu pour A propos de nous \xe0 impl\xe9menter ici."),e.k0s()()(),e.j41(24,"div",4)(25,"div",5),e.nrm(26,"p",6),e.k0s()(),e.nrm(27,"div",4),e.j41(28,"div",4)(29,"div",5)(30,"p",6),e.EFF(31,"Contenu pour Politique d'utilisation \xe0 impl\xe9menter ici."),e.k0s()()(),e.j41(32,"div",4)(33,"div",5)(34,"p",6),e.EFF(35,"Contenu pour Conditions g\xe9n\xe9rales de vente \xe0 impl\xe9menter ici."),e.k0s()()()()()),2&a&&(e.R7$(3),e.Y8G("ngClass","vue-ensemble"===u.activeTab?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngClass","a-propos"===u.activeTab?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngClass","mifid"===u.activeTab?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngClass","politique-confidentialite"===u.activeTab?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngClass","politique-utilisation"===u.activeTab?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngClass","conditions-generales"===u.activeTab?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(3),e.Y8G("hidden","vue-ensemble"!==u.activeTab),e.R7$(4),e.Y8G("hidden","a-propos"!==u.activeTab),e.R7$(4),e.Y8G("hidden","mifid"!==u.activeTab),e.R7$(3),e.Y8G("hidden","politique-confidentialite"!==u.activeTab),e.R7$(),e.Y8G("hidden","politique-utilisation"!==u.activeTab),e.R7$(4),e.Y8G("hidden","conditions-generales"!==u.activeTab))},dependencies:[P.MD,P.YU]})}return p})();const At=(p,S)=>({"bg-green-100 text-green-800":p,"bg-red-100 text-red-800":S});function bt(p,S){if(1&p&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&p){const s=e.XpG();e.Y8G("ngClass",e.l_i(2,At,s.submissionStatus.success,!s.submissionStatus.success)),e.R7$(),e.SpI(" ",s.submissionStatus.message," ")}}let bn=(()=>{class p{fb;dbConnectService;contactForm;submissionStatus=null;constructor(s,a){this.fb=s,this.dbConnectService=a,this.contactForm=this.fb.group({nom:["",F.k0.required],prenom:["",F.k0.required],email:["",[F.k0.required,F.k0.email]],gsm:[""],message:["",F.k0.required]})}onSubmit(){this.contactForm.valid&&this.dbConnectService.saveContactForm(this.contactForm.value).subscribe({next:()=>{this.submissionStatus={success:!0,message:"Votre message a bien \xe9t\xe9 envoy\xe9 !"},this.contactForm.reset()},error:s=>{console.error("An error occurred during form submission:",s),this.submissionStatus={success:!1,message:"Une erreur est survenue. Veuillez r\xe9essayer."}}})}static \u0275fac=function(a){return new(a||p)(e.rXU(F.ok),e.rXU(jt.y))};static \u0275cmp=e.VBU({type:p,selectors:[["app-form-contact"]],standalone:!0,features:[e.aNF],decls:32,vars:3,consts:[[1,"container","mx-auto","p-4","pt-24"],[1,"text-3xl","font-bold","mb-8","text-center","text-gray-800"],[1,"max-w-2xl","mx-auto","bg-white","p-8","rounded-lg","shadow-md"],[1,"mb-6","text-gray-700","text-center"],["class","p-4 mb-4 text-sm rounded-lg","role","alert",3,"ngClass",4,"ngIf"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["for","nom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","nom","formControlName","nom","autocomplete","family-name","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","prenom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","prenom","formControlName","prenom","autocomplete","given-name","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","email","formControlName","email","autocomplete","email","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","gsm",1,"block","text-sm","font-medium","text-gray-700"],["type","tel","id","gsm","formControlName","gsm","autocomplete","tel",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","message",1,"block","text-sm","font-medium","text-gray-700"],["id","message","formControlName","message","rows","5","required","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"flex","justify-end"],["type","submit",1,"inline-flex","justify-center","rounded-md","border","border-transparent","bg-indigo-600","py-2","px-4","text-sm","font-medium","text-white","shadow-sm","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2","disabled:bg-gray-400","disabled:cursor-not-allowed",3,"disabled"],["role","alert",1,"p-4","mb-4","text-sm","rounded-lg",3,"ngClass"]],template:function(a,u){1&a&&(e.j41(0,"div",0)(1,"h1",1),e.EFF(2,"Contactez-nous"),e.k0s(),e.j41(3,"div",2)(4,"p",3),e.EFF(5," Vous avez des questions, besoin d'un conseil personnalis\xe9 ou souhaitez obtenir une offre ? Remplissez le formulaire ci-dessous et nous vous recontacterons dans les plus brefs d\xe9lais. "),e.k0s(),e.DNE(6,bt,2,5,"div",4),e.j41(7,"form",5),e.bIt("ngSubmit",function(){return u.onSubmit()}),e.j41(8,"div",6)(9,"div")(10,"label",7),e.EFF(11,"Nom"),e.k0s(),e.nrm(12,"input",8),e.k0s(),e.j41(13,"div")(14,"label",9),e.EFF(15,"Pr\xe9nom"),e.k0s(),e.nrm(16,"input",10),e.k0s()(),e.j41(17,"div")(18,"label",11),e.EFF(19,"Email"),e.k0s(),e.nrm(20,"input",12),e.k0s(),e.j41(21,"div")(22,"label",13),e.EFF(23,"Num\xe9ro de t\xe9l\xe9phone (GSM)"),e.k0s(),e.nrm(24,"input",14),e.k0s(),e.j41(25,"div")(26,"label",15),e.EFF(27,"Votre message"),e.k0s(),e.nrm(28,"textarea",16),e.k0s(),e.j41(29,"div",17)(30,"button",18),e.EFF(31," Envoyer le message "),e.k0s()()()()()),2&a&&(e.R7$(6),e.Y8G("ngIf",u.submissionStatus),e.R7$(),e.Y8G("formGroup",u.contactForm),e.R7$(23),e.Y8G("disabled",!u.contactForm.valid))},dependencies:[F.X1,F.qT,F.me,F.BC,F.cb,F.YS,F.j4,F.JD,P.MD,P.YU,P.bT]})}return p})();var un=R(4412),Ke=R(6648);function Gn(p,S){const s=!S?.manualCleanup;s&&!S?.injector&&(0,e.Af3)(Gn);const a=s?S?.injector?.get(e.abz)??(0,e.WQX)(e.abz):null,u=function St(p=Object.is){return(S,s)=>1===S.kind&&1===s.kind&&p(S.value,s.value)}(S?.equal);let k;k=(0,e.vPA)(S?.requireSync?{kind:0}:{kind:1,value:S?.initialValue},{equal:u});const J=p.subscribe({next:xe=>k.set({kind:1,value:xe}),error:xe=>{if(S?.rejectErrors)throw xe;k.set({kind:2,error:xe})}});if(S?.requireSync&&0===k().kind)throw new e.wOt(601,!1);return a?.onDestroy(J.unsubscribe.bind(J)),(0,e.EWP)(()=>{const xe=k();switch(xe.kind){case 1:return xe.value;case 2:throw xe.error;case 0:throw new e.wOt(601,!1)}},{equal:S?.equal})}var mt=R(9692);let Dr=(()=>{class p{supabaseService;platformId=(0,e.WQX)(e.Agw);_currentUser$=new un.t(null);currentUser$=this._currentUser$.asObservable();isAuthenticated=Gn(this.currentUser$.pipe((0,fe.T)(s=>!!s)),{initialValue:!1});authSubscription=null;constructor(s){if(this.supabaseService=s,(0,P.UE)(this.platformId)){this.supabaseService.supabase.auth.getSession().then(({data:u})=>{this._currentUser$.next(u.session?.user??null)});const{data:{subscription:a}}=this.supabaseService.supabase.auth.onAuthStateChange((u,k)=>{this._currentUser$.next(k?.user??null)});this.authSubscription=a}}ngOnDestroy(){this.authSubscription&&this.authSubscription.unsubscribe()}signIn(s){return(0,Ke.H)(this.supabaseService.supabase.auth.signInWithPassword(s))}getSession(){return this.supabaseService.supabase.auth.getSession()}signOut(){return(0,Ke.H)(this.supabaseService.supabase.auth.signOut())}sendPasswordResetEmail(s){return(0,Ke.H)(this.supabaseService.supabase.auth.resetPasswordForEmail(s))}static \u0275fac=function(a){return new(a||p)(e.KVO(mt.w))};static \u0275prov=e.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();const Ji=(p,S)=>({"border-red-500":p,"border-gray-300":S});function yi(p,S){if(1&p&&(e.j41(0,"div",10)(1,"span",11),e.EFF(2),e.k0s()()),2&p){const s=e.XpG();e.R7$(2),e.JRh(s.errorMessage)}}function Gi(p,S){1&p&&(e.j41(0,"p"),e.EFF(1,"L'adresse email est requise."),e.k0s())}function _i(p,S){1&p&&(e.j41(0,"p"),e.EFF(1,"L'adresse email est invalide."),e.k0s())}function Zi(p,S){if(1&p&&(e.j41(0,"div",12),e.DNE(1,Gi,2,0,"p",13)(2,_i,2,0,"p",13),e.k0s()),2&p){const s=e.XpG();e.R7$(),e.Y8G("ngIf",s.f.email.errors.required),e.R7$(),e.Y8G("ngIf",s.f.email.errors.email)}}function zt(p,S){1&p&&(e.j41(0,"p"),e.EFF(1,"Le mot de passe est requis."),e.k0s())}function es(p,S){if(1&p&&(e.j41(0,"div",12),e.DNE(1,zt,2,0,"p",13),e.k0s()),2&p){const s=e.XpG();e.R7$(),e.Y8G("ngIf",s.f.password.errors.required)}}let Ts=(()=>{class p{fb;authService;router;loginForm;submitted=!1;errorMessage=null;loading=!1;constructor(s,a,u){this.fb=s,this.authService=a,this.router=u}ngOnInit(){this.loginForm=this.fb.group({email:["",[F.k0.required,F.k0.email]],password:["",F.k0.required]})}get f(){return this.loginForm.controls}onSubmit(){if(this.submitted=!0,this.errorMessage=null,this.loading=!0,this.loginForm.invalid)return;const{email:s,password:a}=this.loginForm.value;this.authService.signIn({email:s,password:a}).subscribe({next:u=>{u.error?(this.loading=!1,this.errorMessage="Email ou mot de passe incorrect.",console.error(u.error)):this.router.navigate(["/mydata"])},error:u=>{this.loading=!1,this.errorMessage="Une erreur inattendue est survenue. Veuillez r\xe9essayer.",console.error(u)}})}static \u0275fac=function(a){return new(a||p)(e.rXU(F.ok),e.rXU(Dr),e.rXU(de.Ix))};static \u0275cmp=e.VBU({type:p,selectors:[["app-account-login"]],standalone:!0,features:[e.aNF],decls:18,vars:12,consts:[[1,"max-w-md","mx-auto","bg-white","p-8","rounded-lg","shadow-md","mt-10"],[1,"text-2xl","font-bold","text-center","text-gray-800","mb-8"],["class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4","role","alert",4,"ngIf"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","email","formControlName","email",1,"mt-1","block","w-full","px-3","py-2","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["class","text-red-600 text-sm mt-1",4,"ngIf"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],["type","password","id","password","formControlName","password",1,"mt-1","block","w-full","px-3","py-2","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative","mb-4"],[1,"block","sm:inline"],[1,"text-red-600","text-sm","mt-1"],[4,"ngIf"]],template:function(a,u){1&a&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2,"Connexion"),e.k0s(),e.DNE(3,yi,3,1,"div",2),e.j41(4,"form",3),e.bIt("ngSubmit",function(){return u.onSubmit()}),e.j41(5,"div")(6,"label",4),e.EFF(7,"Adresse email"),e.k0s(),e.nrm(8,"input",5),e.DNE(9,Zi,3,2,"div",6),e.k0s(),e.j41(10,"div")(11,"label",7),e.EFF(12,"Mot de passe"),e.k0s(),e.nrm(13,"input",8),e.DNE(14,es,2,1,"div",6),e.k0s(),e.j41(15,"div")(16,"button",9),e.EFF(17," Se connecter "),e.k0s()()()()),2&a&&(e.R7$(3),e.Y8G("ngIf",u.errorMessage),e.R7$(),e.Y8G("formGroup",u.loginForm),e.R7$(4),e.Y8G("ngClass",e.l_i(6,Ji,u.submitted&&u.f.email.errors,!u.submitted||!u.f.email.errors)),e.R7$(),e.Y8G("ngIf",u.submitted&&u.f.email.errors),e.R7$(4),e.Y8G("ngClass",e.l_i(9,Ji,u.submitted&&u.f.password.errors,!u.submitted||!u.f.password.errors)),e.R7$(),e.Y8G("ngIf",u.submitted&&u.f.password.errors))},dependencies:[P.MD,P.YU,P.bT,F.X1,F.qT,F.me,F.BC,F.cb,F.j4,F.JD]})}return p})();function or(p,S){if(1&p){const s=e.RV6();e.j41(0,"div",1)(1,"h1",2),e.EFF(2,"Bienvenue dans votre Espace Client"),e.k0s(),e.j41(3,"p",3),e.EFF(4,"Vous \xeates actuellement connect\xe9."),e.k0s(),e.j41(5,"p",4),e.EFF(6," Vous pouvez maintenant consulter vos contrats, d\xe9clarer un sinistre ou mettre \xe0 jour vos informations personnelles. "),e.k0s(),e.j41(7,"div",5)(8,"a",6),e.EFF(9," Acc\xe9der \xe0 mon tableau de bord "),e.k0s(),e.j41(10,"button",7),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.logout())}),e.EFF(11," Se d\xe9connecter "),e.k0s()()()}}function Et(p,S){1&p&&(e.j41(0,"h1",8),e.EFF(1,"Votre Espace Client"),e.k0s(),e.j41(2,"div",9)(3,"div",10)(4,"h2",11),e.EFF(5,"Nouveau Client ?"),e.k0s(),e.j41(6,"p",12),e.EFF(7,"Cr\xe9ez un compte pour acc\xe9der \xe0 tous nos services en ligne et g\xe9rer vos contrats facilement."),e.k0s(),e.j41(8,"a",13),e.EFF(9," Cr\xe9er votre compte "),e.k0s()(),e.j41(10,"div",10)(11,"h2",11),e.EFF(12,"D\xe9j\xe0 Client ?"),e.k0s(),e.j41(13,"p",12),e.EFF(14,"Connectez-vous \xe0 votre espace pour consulter vos informations personnelles et vos contrats."),e.k0s(),e.j41(15,"a",14),e.EFF(16," Authentifiez-vous "),e.k0s(),e.j41(17,"a",15),e.EFF(18," Mot de passe perdu ? "),e.k0s()()())}let yo=(()=>{class p{authService=(0,e.WQX)(Dr);isAuthenticated=this.authService.isAuthenticated;logout(){this.authService.signOut()}static \u0275fac=function(a){return new(a||p)};static \u0275cmp=e.VBU({type:p,selectors:[["app-account"]],standalone:!0,features:[e.aNF],decls:3,vars:1,consts:[[1,"container","mx-auto","px-4","py-8"],[1,"max-w-2xl","mx-auto","bg-white","p-8","rounded-lg","shadow-md","text-center"],[1,"text-3xl","font-bold","mb-4"],[1,"text-gray-700","text-lg","mb-6"],[1,"text-gray-600","mb-8"],[1,"flex","flex-col","sm:flex-row","justify-center","items-center","gap-4"],["routerLink","/mydata",1,"inline-block","bg-indigo-600","text-white","font-bold","py-3","px-6","rounded","hover:bg-indigo-700","transition","duration-300","w-full","sm:w-auto"],[1,"inline-block","bg-red-600","text-white","font-bold","py-3","px-6","rounded","hover:bg-red-700","transition","duration-300","w-full","sm:w-auto",3,"click"],[1,"text-3xl","font-bold","text-center","mb-8"],[1,"max-w-4xl","mx-auto","grid","md:grid-cols-2","gap-8"],[1,"bg-white","p-6","rounded-lg","shadow-md","text-center"],[1,"text-2xl","font-semibold","mb-4"],[1,"text-gray-600","mb-6"],["routerLink","/create-account",1,"inline-block","bg-indigo-600","text-white","font-bold","py-2","px-4","rounded","hover:bg-indigo-700","transition","duration-300"],["routerLink","/login",1,"inline-block","bg-gray-800","text-white","font-bold","py-2","px-4","rounded","hover:bg-gray-900","transition","duration-300"],["routerLink","/lost-password",1,"block","text-sm","text-indigo-600","hover:underline","mt-4"]],template:function(a,u){1&a&&(e.j41(0,"div",0),e.DNE(1,or,12,0,"div",1)(2,Et,19,0),e.k0s()),2&a&&(e.R7$(),e.vxM(u.isAuthenticated()?1:2))},dependencies:[de.Wk]})}return p})(),_o=(()=>{class p{supabaseService;constructor(s){this.supabaseService=s}signUp(s,a){return(0,Ke.H)(this.supabaseService.supabase.auth.signUp({email:s.email,password:s.password,options:{data:{firstName:a.firstName,lastName:a.lastName,gender:a.gender}}}))}static \u0275fac=function(a){return new(a||p)(e.KVO(mt.w))};static \u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})();const Zn=(p,S)=>({"border-red-500":p,"border-gray-300":S});function kr(p,S){if(1&p&&(e.j41(0,"div",34)(1,"span",35),e.EFF(2),e.k0s()()),2&p){const s=e.XpG();e.R7$(2),e.JRh(s.successMessage)}}function Nn(p,S){if(1&p&&(e.j41(0,"div",36)(1,"span",35),e.EFF(2),e.k0s()()),2&p){const s=e.XpG();e.R7$(2),e.JRh(s.errorMessage)}}function Ys(p,S){1&p&&(e.j41(0,"p"),e.EFF(1,"Le genre est requis."),e.k0s())}function Mr(p,S){if(1&p&&(e.j41(0,"div",37),e.DNE(1,Ys,2,0,"p",38),e.k0s()),2&p){const s=e.XpG();e.R7$(),e.Y8G("ngIf",s.f.gender.errors.required)}}function gs(p,S){1&p&&(e.j41(0,"p"),e.EFF(1,"Le nom est requis."),e.k0s())}function Tr(p,S){if(1&p&&(e.j41(0,"div",37),e.DNE(1,gs,2,0,"p",38),e.k0s()),2&p){const s=e.XpG();e.R7$(),e.Y8G("ngIf",s.f.lastName.errors.required)}}function Mi(p,S){1&p&&(e.j41(0,"p"),e.EFF(1,"Le pr\xe9nom est requis."),e.k0s())}function Ti(p,S){if(1&p&&(e.j41(0,"div",37),e.DNE(1,Mi,2,0,"p",38),e.k0s()),2&p){const s=e.XpG();e.R7$(),e.Y8G("ngIf",s.f.firstName.errors.required)}}function xr(p,S){1&p&&(e.j41(0,"p"),e.EFF(1,"L'adresse email est requise."),e.k0s())}function er(p,S){1&p&&(e.j41(0,"p"),e.EFF(1,"L'adresse email est invalide."),e.k0s())}function Pn(p,S){if(1&p&&(e.j41(0,"div",37),e.DNE(1,xr,2,0,"p",38)(2,er,2,0,"p",38),e.k0s()),2&p){const s=e.XpG();e.R7$(),e.Y8G("ngIf",s.f.email.errors.required),e.R7$(),e.Y8G("ngIf",s.f.email.errors.email)}}function vs(p,S){1&p&&(e.j41(0,"p"),e.EFF(1,"La confirmation de l'email est requise."),e.k0s())}function _t(p,S){1&p&&(e.j41(0,"p"),e.EFF(1,"Les adresses email ne correspondent pas."),e.k0s())}function Ai(p,S){if(1&p&&(e.j41(0,"div",37),e.DNE(1,vs,2,0,"p",38)(2,_t,2,0,"p",38),e.k0s()),2&p){const s=e.XpG();e.R7$(),e.Y8G("ngIf",s.f.confirmEmail.errors.required),e.R7$(),e.Y8G("ngIf",s.f.confirmEmail.errors.mustMatch)}}function Sr(p,S){1&p&&(e.j41(0,"p"),e.EFF(1,"Le mot de passe est requis."),e.k0s())}function bi(p,S){1&p&&(e.j41(0,"p"),e.EFF(1,"Le mot de passe doit contenir au moins 6 caract\xe8res."),e.k0s())}function oi(p,S){if(1&p&&(e.j41(0,"div",37),e.DNE(1,Sr,2,0,"p",38)(2,bi,2,0,"p",38),e.k0s()),2&p){const s=e.XpG();e.R7$(),e.Y8G("ngIf",s.f.password.errors.required),e.R7$(),e.Y8G("ngIf",s.f.password.errors.minlength)}}function As(p,S){1&p&&(e.j41(0,"p"),e.EFF(1,"La confirmation du mot de passe est requise."),e.k0s())}function ys(p,S){1&p&&(e.j41(0,"p"),e.EFF(1,"Les mots de passe ne correspondent pas."),e.k0s())}function _s(p,S){if(1&p&&(e.j41(0,"div",37),e.DNE(1,As,2,0,"p",38)(2,ys,2,0,"p",38),e.k0s()),2&p){const s=e.XpG();e.R7$(),e.Y8G("ngIf",s.f.confirmPassword.errors.required),e.R7$(),e.Y8G("ngIf",s.f.confirmPassword.errors.mustMatch)}}function Hi(p,S){1&p&&(e.j41(0,"p"),e.EFF(1,"Le num\xe9ro de GSM est requis."),e.k0s())}function ts(p,S){if(1&p&&(e.j41(0,"div",37),e.DNE(1,Hi,2,0,"p",38),e.k0s()),2&p){const s=e.XpG();e.R7$(),e.Y8G("ngIf",s.f.mobileNumber.errors.required)}}function ns(p,S){1&p&&(e.j41(0,"div",37)(1,"p"),e.EFF(2,"Vous devez accepter les conditions g\xe9n\xe9rales."),e.k0s()())}function Ri(p,S){if(1&p&&(e.j41(0,"div",39)(1,"span",35),e.EFF(2),e.k0s()()),2&p){const s=e.XpG();e.R7$(2),e.JRh(s.successMessage)}}function gr(p,S){if(1&p&&(e.j41(0,"div",40)(1,"span",35),e.EFF(2),e.k0s()()),2&p){const s=e.XpG();e.R7$(2),e.JRh(s.errorMessage)}}function Lr(p,S){return s=>{const a=s.get(p),u=s.get(S);return!a||!u||u.errors&&!u.errors.mustMatch?null:a.value!==u.value?(u.setErrors({mustMatch:!0}),{mustMatch:!0}):(u.setErrors(null),null)}}let Qn=(()=>{class p{fb;dbConnectService;authService;router;platformId;accountForm;submitted=!1;successMessage=null;errorMessage=null;constructor(s,a,u,k,J){this.fb=s,this.dbConnectService=a,this.authService=u,this.router=k,this.platformId=J}ngOnInit(){if(this.accountForm=this.fb.group({gender:["",F.k0.required],lastName:["",F.k0.required],firstName:["",F.k0.required],email:["",[F.k0.required,F.k0.email]],confirmEmail:["",F.k0.required],password:["",[F.k0.required,F.k0.minLength(6)]],confirmPassword:["",F.k0.required],mobileNumber:["",F.k0.required],terms:[!1,F.k0.requiredTrue]},{validators:[Lr("email","confirmEmail"),Lr("password","confirmPassword")]}),(0,P.UE)(this.platformId)){const s=localStorage.getItem("autoFormData");if(s){const u=JSON.parse(s).preneur;let k="";"Madame"===u.genre&&(k="female"),"Monsieur"===u.genre&&(k="male"),"Autre"===u.genre&&(k="other"),this.accountForm.patchValue({gender:k,lastName:u.nom,firstName:u.prenom,email:u.email,confirmEmail:u.email,mobileNumber:u.telephone})}}}get f(){return this.accountForm.controls}onSubmit(){if(this.submitted=!0,this.errorMessage=null,this.successMessage=null,this.accountForm.invalid)return;const{email:s,password:a,firstName:u,lastName:k,gender:J}=this.accountForm.value;this.authService.signUp({email:s,password:a},{firstName:u,lastName:k,gender:J}).subscribe({next:xe=>{xe.error?(this.errorMessage=xe.error.message&&xe.error.message.includes("User already registered")?"Un compte avec cette adresse email existe d\xe9j\xe0. Veuillez vous connecter ou utiliser une autre adresse.":xe.error.message,console.error("Erreur lors de la cr\xe9ation du compte:",xe.error)):xe.data.user&&(xe.data.user.identities&&xe.data.user.identities.length>0?(this.successMessage="Votre compte a \xe9t\xe9 cr\xe9\xe9 avec succ\xe8s ! Un email de confirmation vous a \xe9t\xe9 envoy\xe9.",console.log("Utilisateur cr\xe9\xe9:",xe.data.user),this.accountForm.reset(),this.submitted=!1):this.errorMessage="Un compte avec cette adresse email existe d\xe9j\xe0. Veuillez vous connecter ou utiliser une autre adresse.")},error:xe=>{this.errorMessage="Une erreur inattendue est survenue. Veuillez r\xe9essayer plus tard.",console.error("Erreur de soumission:",xe)}})}static \u0275fac=function(a){return new(a||p)(e.rXU(F.ok),e.rXU(jt.y),e.rXU(_o),e.rXU(de.Ix),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:p,selectors:[["app-account-creation"]],standalone:!0,features:[e.Jv_([_o,jt.y]),e.aNF],decls:66,vars:46,consts:[[1,"max-w-2xl","mx-auto","bg-white","p-8","rounded-lg","shadow-md"],[1,"text-2xl","font-bold","text-center","text-gray-800","mb-8"],["class","bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4","role","alert",4,"ngIf"],["class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4","role","alert",4,"ngIf"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","gender",1,"block","text-sm","font-medium","text-gray-700"],["id","gender","formControlName","gender",1,"mt-1","block","w-full","px-3","py-2","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["value","","disabled",""],["value","male"],["value","female"],["value","other"],["class","text-red-600 text-sm mt-1",4,"ngIf"],["for","lastName",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","lastName","formControlName","lastName",1,"mt-1","block","w-full","px-3","py-2","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["for","firstName",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","firstName","formControlName","firstName",1,"mt-1","block","w-full","px-3","py-2","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","email","formControlName","email",1,"mt-1","block","w-full","px-3","py-2","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["for","confirmEmail",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","confirmEmail","formControlName","confirmEmail",1,"mt-1","block","w-full","px-3","py-2","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],["type","password","id","password","formControlName","password",1,"mt-1","block","w-full","px-3","py-2","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["for","confirmPassword",1,"block","text-sm","font-medium","text-gray-700"],["type","password","id","confirmPassword","formControlName","confirmPassword",1,"mt-1","block","w-full","px-3","py-2","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["for","mobileNumber",1,"block","text-sm","font-medium","text-gray-700"],["type","tel","id","mobileNumber","formControlName","mobileNumber",1,"mt-1","block","w-full","px-3","py-2","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],[1,"flex","items-start"],[1,"flex","items-center","h-5"],["id","terms","formControlName","terms","type","checkbox",1,"focus:ring-indigo-500","h-4","w-4","text-indigo-600","border-gray-300","rounded"],[1,"ml-3","text-sm"],["for","terms",1,"font-medium","text-gray-700"],["class","bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative","role","alert",4,"ngIf"],["class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative","role","alert",4,"ngIf"],["type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500"],["role","alert",1,"bg-green-100","border","border-green-400","text-green-700","px-4","py-3","rounded","relative","mb-4"],[1,"block","sm:inline"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative","mb-4"],[1,"text-red-600","text-sm","mt-1"],[4,"ngIf"],["role","alert",1,"bg-green-100","border","border-green-400","text-green-700","px-4","py-3","rounded","relative"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative"]],template:function(a,u){1&a&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2,"Cr\xe9er un compte"),e.k0s(),e.DNE(3,kr,3,1,"div",2)(4,Nn,3,1,"div",3),e.j41(5,"form",4),e.bIt("ngSubmit",function(){return u.onSubmit()}),e.j41(6,"div")(7,"label",5),e.EFF(8,"Genre"),e.k0s(),e.j41(9,"select",6)(10,"option",7),e.EFF(11,"S\xe9lectionnez votre genre"),e.k0s(),e.j41(12,"option",8),e.EFF(13,"Homme"),e.k0s(),e.j41(14,"option",9),e.EFF(15,"Femme"),e.k0s(),e.j41(16,"option",10),e.EFF(17,"Autre"),e.k0s()(),e.DNE(18,Mr,2,1,"div",11),e.k0s(),e.j41(19,"div")(20,"label",12),e.EFF(21,"Nom"),e.k0s(),e.nrm(22,"input",13),e.DNE(23,Tr,2,1,"div",11),e.k0s(),e.j41(24,"div")(25,"label",14),e.EFF(26,"Pr\xe9nom"),e.k0s(),e.nrm(27,"input",15),e.DNE(28,Ti,2,1,"div",11),e.k0s(),e.j41(29,"div")(30,"label",16),e.EFF(31,"Adresse email"),e.k0s(),e.nrm(32,"input",17),e.DNE(33,Pn,3,2,"div",11),e.k0s(),e.j41(34,"div")(35,"label",18),e.EFF(36,"Confirmez l'adresse email"),e.k0s(),e.nrm(37,"input",19),e.DNE(38,Ai,3,2,"div",11),e.k0s(),e.j41(39,"div")(40,"label",20),e.EFF(41,"Mot de passe"),e.k0s(),e.nrm(42,"input",21),e.DNE(43,oi,3,2,"div",11),e.k0s(),e.j41(44,"div")(45,"label",22),e.EFF(46,"Confirmez le mot de passe"),e.k0s(),e.nrm(47,"input",23),e.DNE(48,_s,3,2,"div",11),e.k0s(),e.j41(49,"div")(50,"label",24),e.EFF(51,"Num\xe9ro de GSM"),e.k0s(),e.nrm(52,"input",25),e.DNE(53,ts,2,1,"div",11),e.k0s(),e.j41(54,"div",26)(55,"div",27),e.nrm(56,"input",28),e.k0s(),e.j41(57,"div",29)(58,"label",30),e.EFF(59,"J'accepte les conditions g\xe9n\xe9rales"),e.k0s(),e.DNE(60,ns,3,0,"div",11),e.k0s()(),e.DNE(61,Ri,3,1,"div",31)(62,gr,3,1,"div",32),e.j41(63,"div")(64,"button",33),e.EFF(65," Cr\xe9er le compte "),e.k0s()()()()),2&a&&(e.R7$(3),e.Y8G("ngIf",u.successMessage),e.R7$(),e.Y8G("ngIf",u.errorMessage),e.R7$(),e.Y8G("formGroup",u.accountForm),e.R7$(4),e.Y8G("ngClass",e.l_i(22,Zn,u.submitted&&u.f.gender.errors,!u.submitted||!u.f.gender.errors)),e.R7$(9),e.Y8G("ngIf",u.submitted&&u.f.gender.errors),e.R7$(4),e.Y8G("ngClass",e.l_i(25,Zn,u.submitted&&u.f.lastName.errors,!u.submitted||!u.f.lastName.errors)),e.R7$(),e.Y8G("ngIf",u.submitted&&u.f.lastName.errors),e.R7$(4),e.Y8G("ngClass",e.l_i(28,Zn,u.submitted&&u.f.firstName.errors,!u.submitted||!u.f.firstName.errors)),e.R7$(),e.Y8G("ngIf",u.submitted&&u.f.firstName.errors),e.R7$(4),e.Y8G("ngClass",e.l_i(31,Zn,u.submitted&&u.f.email.errors,!u.submitted||!u.f.email.errors)),e.R7$(),e.Y8G("ngIf",u.submitted&&u.f.email.errors),e.R7$(4),e.Y8G("ngClass",e.l_i(34,Zn,u.submitted&&u.f.confirmEmail.errors,!u.submitted||!u.f.confirmEmail.errors)),e.R7$(),e.Y8G("ngIf",u.submitted&&u.f.confirmEmail.errors),e.R7$(4),e.Y8G("ngClass",e.l_i(37,Zn,u.submitted&&u.f.password.errors,!u.submitted||!u.f.password.errors)),e.R7$(),e.Y8G("ngIf",u.submitted&&u.f.password.errors),e.R7$(4),e.Y8G("ngClass",e.l_i(40,Zn,u.submitted&&u.f.confirmPassword.errors,!u.submitted||!u.f.confirmPassword.errors)),e.R7$(),e.Y8G("ngIf",u.submitted&&u.f.confirmPassword.errors),e.R7$(4),e.Y8G("ngClass",e.l_i(43,Zn,u.submitted&&u.f.mobileNumber.errors,!u.submitted||!u.f.mobileNumber.errors)),e.R7$(),e.Y8G("ngIf",u.submitted&&u.f.mobileNumber.errors),e.R7$(7),e.Y8G("ngIf",u.submitted&&u.f.terms.errors),e.R7$(),e.Y8G("ngIf",u.successMessage),e.R7$(),e.Y8G("ngIf",u.errorMessage))},dependencies:[P.MD,P.YU,P.bT,F.X1,F.qT,F.xH,F.y7,F.me,F.Zm,F.wz,F.BC,F.cb,F.j4,F.JD],encapsulation:2})}return p})();var It=R(467),wn=R(9350);function $r(p,S){const s="object"==typeof S;return new Promise((a,u)=>{let J,k=!1;p.subscribe({next:xe=>{J=xe,k=!0},error:u,complete:()=>{k?a(J):s?a(S.defaultValue):u(new wn.G)}})})}var Ei=R(5312),Fr=R(5964);const Tn=["stripeElementRef"];function Vr(p,S){if(1&p&&e.eu8(0,2),2&p){const s=e.XpG();e.Y8G("ngTemplateOutlet",s.loadingTemplate)}}let An=(()=>{class p{templateRef;constructor(s){this.templateRef=s}static \u0275fac=function(a){return new(a||p)(e.rXU(e.C4Q))};static \u0275dir=e.FsC({type:p,selectors:[["","ngxStripeLoadingTemplate",""]],standalone:!0})}return p})();const Es=new e.nKC("Stripe Publishable Key"),Di=new e.nKC("Stripe Options"),Cs=new e.nKC("NGX_STRIPE_VERSION");class ui{version;loader;window;key;options;stripe$=new un.t(void 0);stripe=this.stripe$.asObservable().pipe((0,Fr.p)(S=>!!S));constructor(S,s,a,u,k){this.version=S,this.loader=s,this.window=a,this.key=u,this.options=k,this.loader.asStream().pipe((0,Fr.p)(J=>!0===J.loaded),(0,qe.$)(),(0,fe.T)(()=>this.window.getNativeWindow().Stripe)).subscribe(J=>{const xe=this.options?J(this.key,this.options):J(this.key);xe.registerAppInfo(this.getNgxStripeAppInfo(this.version)),this.stripe$.next(xe)})}getInstance(){return this.stripe$.getValue()}elements(S){return this.stripe.pipe((0,fe.T)(s=>s.elements(S)),(0,qe.$)())}redirectToCheckout(S){return this.stripe.pipe((0,Re.n)(s=>(0,Ke.H)(s.redirectToCheckout(S))),(0,qe.$)())}confirmPayment(S){return this.stripe.pipe((0,Re.n)(s=>(0,Ke.H)(s.confirmPayment(S))),(0,qe.$)())}confirmAcssDebitPayment(S,s,a){return this.stripe.pipe((0,Re.n)(u=>(0,Ke.H)(u.confirmAcssDebitPayment(S,s,a))),(0,qe.$)())}confirmUsBankAccountPayment(S,s){return this.stripe.pipe((0,Re.n)(a=>(0,Ke.H)(a.confirmUsBankAccountPayment(S,s))),(0,qe.$)())}confirmAlipayPayment(S,s,a){return this.stripe.pipe((0,Re.n)(u=>(0,Ke.H)(u.confirmAlipayPayment(S,s,a))),(0,qe.$)())}confirmAuBecsDebitPayment(S,s){return this.stripe.pipe((0,Re.n)(a=>(0,Ke.H)(a.confirmAuBecsDebitPayment(S,s))),(0,qe.$)())}confirmBancontactPayment(S,s,a){return this.stripe.pipe((0,Re.n)(u=>(0,Ke.H)(u.confirmBancontactPayment(S,s,a))),(0,qe.$)())}confirmBlikPayment(S,s,a){return this.stripe.pipe((0,Re.n)(u=>(0,Ke.H)(u.confirmBlikPayment(S,s,a))),(0,qe.$)())}confirmBoletoPayment(S,s,a){return this.stripe.pipe((0,Re.n)(u=>(0,Ke.H)(u.confirmBoletoPayment(S,s,a))),(0,qe.$)())}confirmCardPayment(S,s,a){return this.stripe.pipe((0,Re.n)(u=>(0,Ke.H)(u.confirmCardPayment(S,s,a))),(0,qe.$)())}confirmCashappPayment(S,s,a){return this.stripe.pipe((0,Re.n)(u=>(0,Ke.H)(u.confirmCashappPayment(S,s,a))),(0,qe.$)())}confirmCustomerBalancePayment(S,s,a){return this.stripe.pipe((0,Re.n)(u=>(0,Ke.H)(u.confirmCustomerBalancePayment(S,s,a))),(0,qe.$)())}confirmEpsPayment(S,s,a){return this.stripe.pipe((0,Re.n)(u=>(0,Ke.H)(u.confirmEpsPayment(S,s,a))),(0,qe.$)())}confirmFpxPayment(S,s,a){return this.stripe.pipe((0,Re.n)(u=>(0,Ke.H)(u.confirmFpxPayment(S,s,a))),(0,qe.$)())}confirmGiropayPayment(S,s,a){return this.stripe.pipe((0,Re.n)(u=>(0,Ke.H)(u.confirmGiropayPayment(S,s,a))),(0,qe.$)())}confirmGrabPayPayment(S,s,a){return this.stripe.pipe((0,Re.n)(u=>(0,Ke.H)(u.confirmGrabPayPayment(S,s,a))),(0,qe.$)())}confirmIdealPayment(S,s,a){return this.stripe.pipe((0,Re.n)(u=>(0,Ke.H)(u.confirmIdealPayment(S,s,a))),(0,qe.$)())}confirmKlarnaPayment(S,s,a){return this.stripe.pipe((0,Re.n)(u=>(0,Ke.H)(u.confirmKlarnaPayment(S,s,a))),(0,qe.$)())}confirmKonbiniPayment(S,s,a){return this.stripe.pipe((0,Re.n)(u=>(0,Ke.H)(u.confirmKonbiniPayment(S,s,a))),(0,qe.$)())}confirmMobilepayPayment(S,s,a){return this.stripe.pipe((0,Re.n)(u=>(0,Ke.H)(u.confirmMobilepayPayment(S,s,a))),(0,qe.$)())}confirmOxxoPayment(S,s,a){return this.stripe.pipe((0,Re.n)(u=>(0,Ke.H)(u.confirmOxxoPayment(S,s,a))),(0,qe.$)())}confirmP24Payment(S,s,a){return this.stripe.pipe((0,Re.n)(u=>(0,Ke.H)(u.confirmP24Payment(S,s,a))),(0,qe.$)())}confirmPayNowPayment(S,s,a){return this.stripe.pipe((0,Re.n)(u=>(0,Ke.H)(u.confirmPayNowPayment(S,s,a))),(0,qe.$)())}confirmPayPalPayment(S,s){return this.stripe.pipe((0,Re.n)(a=>(0,Ke.H)(a.confirmPayPalPayment(S,s))),(0,qe.$)())}confirmPixPayment(S,s,a){return this.stripe.pipe((0,Re.n)(u=>(0,Ke.H)(u.confirmPixPayment(S,s,a))),(0,qe.$)())}confirmPromptPayPayment(S,s,a){return this.stripe.pipe((0,Re.n)(u=>(0,Ke.H)(u.confirmPromptPayPayment(S,s,a))),(0,qe.$)())}confirmSepaDebitPayment(S,s){return this.stripe.pipe((0,Re.n)(a=>(0,Ke.H)(a.confirmSepaDebitPayment(S,s))),(0,qe.$)())}confirmSofortPayment(S,s,a){return this.stripe.pipe((0,Re.n)(u=>(0,Ke.H)(u.confirmSofortPayment(S,s,a))),(0,qe.$)())}confirmWechatPayPayment(S,s,a){return this.stripe.pipe((0,Re.n)(u=>(0,Ke.H)(u.confirmWechatPayPayment(S,s,a))),(0,qe.$)())}handleCardAction(S){return this.stripe.pipe((0,Re.n)(s=>(0,Ke.H)(s.handleCardAction(S))),(0,qe.$)())}handleNextAction(S){return this.stripe.pipe((0,Re.n)(s=>(0,Ke.H)(s.handleNextAction(S))),(0,qe.$)())}verifyMicrodepositsForPayment(S,s){return this.stripe.pipe((0,Re.n)(a=>(0,Ke.H)(a.verifyMicrodepositsForPayment(S,s))),(0,qe.$)())}createRadarSession(){return this.stripe.pipe((0,Re.n)(S=>(0,Ke.H)(S.createRadarSession())),(0,qe.$)())}collectBankAccountForPayment(S){return this.stripe.pipe((0,Re.n)(s=>(0,Ke.H)(s.collectBankAccountForPayment(S))),(0,qe.$)())}createPaymentMethod(S){return this.stripe.pipe((0,Re.n)(s=>(0,Ke.H)(s.createPaymentMethod(S))),(0,qe.$)())}createConfirmationToken(S){return this.stripe.pipe((0,Re.n)(s=>(0,Ke.H)(s.createConfirmationToken(S))),(0,qe.$)())}retrievePaymentIntent(S){return this.stripe.pipe((0,Re.n)(s=>(0,Ke.H)(s.retrievePaymentIntent(S))),(0,qe.$)())}confirmSetup(S){return this.stripe.pipe((0,Re.n)(s=>(0,Ke.H)(s.confirmSetup(S))),(0,qe.$)())}confirmAcssDebitSetup(S,s,a){return this.stripe.pipe((0,Re.n)(u=>(0,Ke.H)(u.confirmAcssDebitSetup(S,s,a))),(0,qe.$)())}confirmUsBankAccountSetup(S,s){return this.stripe.pipe((0,Re.n)(a=>(0,Ke.H)(a.confirmUsBankAccountSetup(S,s))),(0,qe.$)())}confirmAuBecsDebitSetup(S,s){return this.stripe.pipe((0,Re.n)(a=>(0,Ke.H)(a.confirmAuBecsDebitSetup(S,s))),(0,qe.$)())}confirmBacsDebitSetup(S,s){return this.stripe.pipe((0,Re.n)(a=>(0,Ke.H)(a.confirmBacsDebitSetup(S,s))),(0,qe.$)())}confirmBancontactSetup(S,s){return this.stripe.pipe((0,Re.n)(a=>(0,Ke.H)(a.confirmBancontactSetup(S,s))),(0,qe.$)())}confirmCardSetup(S,s,a){return this.stripe.pipe((0,Re.n)(u=>(0,Ke.H)(u.confirmCardSetup(S,s,a))),(0,qe.$)())}confirmCashappSetup(S,s,a){return this.stripe.pipe((0,Re.n)(u=>(0,Ke.H)(u.confirmCashappSetup(S,s,a))),(0,qe.$)())}confirmIdealSetup(S,s){return this.stripe.pipe((0,Re.n)(a=>(0,Ke.H)(a.confirmIdealSetup(S,s))),(0,qe.$)())}confirmPayPalSetup(S,s){return this.stripe.pipe((0,Re.n)(a=>(0,Ke.H)(a.confirmPayPalSetup(S,s))),(0,qe.$)())}confirmSepaDebitSetup(S,s){return this.stripe.pipe((0,Re.n)(a=>(0,Ke.H)(a.confirmSepaDebitSetup(S,s))),(0,qe.$)())}confirmSofortSetup(S,s,a){return this.stripe.pipe((0,Re.n)(u=>(0,Ke.H)(u.confirmSofortSetup(S,s,a))),(0,qe.$)())}confirmAffirmPayment(S,s,a){return this.stripe.pipe((0,Re.n)(u=>(0,Ke.H)(u.confirmAffirmPayment(S,s,a))),(0,qe.$)())}confirmAfterpayClearpayPayment(S,s,a){return this.stripe.pipe((0,Re.n)(u=>(0,Ke.H)(u.confirmAfterpayClearpayPayment(S,s,a))),(0,qe.$)())}verifyMicrodepositsForSetup(S,s){return this.stripe.pipe((0,Re.n)(a=>(0,Ke.H)(a.verifyMicrodepositsForSetup(S,s))),(0,qe.$)())}collectBankAccountForSetup(S){return this.stripe.pipe((0,Re.n)(s=>(0,Ke.H)(s.collectBankAccountForSetup(S))),(0,qe.$)())}retrieveSetupIntent(S){return this.stripe.pipe((0,Re.n)(s=>(0,Ke.H)(s.retrieveSetupIntent(S))),(0,qe.$)())}processOrder(S){return this.stripe.pipe((0,Re.n)(s=>(0,Ke.H)(s.processOrder(S))),(0,qe.$)())}retrieveOrder(S){return this.stripe.pipe((0,Re.n)(s=>(0,Ke.H)(s.retrieveOrder(S))),(0,qe.$)())}paymentRequest(S){return this.getInstance().paymentRequest(S)}createToken(S,s){return this.stripe.pipe((0,Re.n)(a=>(0,Ke.H)(a.createToken(S,s))),(0,qe.$)())}createSource(S,s){return this.stripe.pipe((0,Re.n)(a=>(0,Ke.H)(a.createSource(S,s))),(0,qe.$)())}retrieveSource(S){return this.stripe.pipe((0,Re.n)(s=>(0,Ke.H)(s.retrieveSource(S))),(0,qe.$)())}verifyIdentity(S){return this.stripe.pipe((0,Re.n)(s=>(0,Ke.H)(s.verifyIdentity(S))),(0,qe.$)())}collectFinancialConnectionsAccounts(S){return this.stripe.pipe((0,Re.n)(s=>(0,Ke.H)(s.collectFinancialConnectionsAccounts(S))),(0,qe.$)())}collectBankAccountToken(S){return this.stripe.pipe((0,Re.n)(s=>(0,Ke.H)(s.collectBankAccountToken(S))),(0,qe.$)())}createEphemeralKeyNonce(S){return this.stripe.pipe((0,Re.n)(s=>(0,Ke.H)(s.createEphemeralKeyNonce(S))),(0,qe.$)())}initCustomCheckout(S){return this.stripe.pipe((0,Re.n)(s=>(0,Ke.H)(s.initCustomCheckout(S))),(0,qe.$)())}initEmbeddedCheckout(S){return this.stripe.pipe((0,Re.n)(s=>(0,Ke.H)(s.initEmbeddedCheckout(S))),(0,qe.$)())}handleCardPayment(S,s,a){return this.stripe.pipe((0,Re.n)(u=>(0,Ke.H)(u.handleCardPayment(S,s,a))),(0,qe.$)())}confirmPaymentIntent(S,s,a){return this.stripe.pipe((0,Re.n)(u=>(0,Ke.H)(u.confirmPaymentIntent(S,s,a))),(0,qe.$)())}handleCardSetup(S,s,a){return this.stripe.pipe((0,Re.n)(u=>(0,Ke.H)(u.handleCardSetup(S,s,a))),(0,qe.$)())}confirmSetupIntent(S,s,a){return this.stripe.pipe((0,Re.n)(u=>(0,Ke.H)(u.confirmSetupIntent(S,s,a))),(0,qe.$)())}handleFpxPayment(S,s,a){return this.stripe.pipe((0,Re.n)(u=>(0,Ke.H)(u.handleFpxPayment(S,s,a))),(0,qe.$)())}getNgxStripeAppInfo(S){return{name:"ngx-stripe",url:"https://ngx-stripe.dev",partner_id:"pp_partner_JR4l1rmvUoPP4V",version:S}}}let Zr=(()=>{class p{platformId;constructor(s){this.platformId=s}getNativeWindow(){return(0,P.UE)(this.platformId)?window:{}}static \u0275fac=function(a){return new(a||p)(e.KVO(e.Agw))};static \u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})(),A=(()=>{class p{platformId;constructor(s){this.platformId=s}getNativeDocument(){return(0,P.UE)(this.platformId)?document:{}}static \u0275fac=function(a){return new(a||p)(e.KVO(e.Agw))};static \u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})(),N=(()=>{class p{platformId;window;document;status=new un.t({error:!1,loaded:!1,loading:!1});constructor(s,a,u){this.platformId=s,this.window=a,this.document=u}asStream(){return this.load(),this.status.asObservable()}isReady(){return this.status.getValue().loaded}load(){if((0,P.Vy)(this.platformId))return;const s=this.status.getValue();if(this.window.getNativeWindow().hasOwnProperty("Stripe"))this.status.next({error:!1,loaded:!0,loading:!1});else if(!s.loaded&&!s.loading){this.status.next({...s,loading:!0});const a=this.document.getNativeDocument().createElement("script");a.type="text/javascript",a.async=!0,a.defer=!0,a.src="https://js.stripe.com/v3/",a.onload=()=>{this.status.next({error:!1,loaded:!0,loading:!1})},a.onerror=()=>{this.status.next({error:!0,loaded:!1,loading:!1})},this.document.getNativeDocument().body.appendChild(a)}}static \u0275fac=function(a){return new(a||p)(e.KVO(e.Agw),e.KVO(Zr),e.KVO(A))};static \u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})(),x=(()=>{class p{version;key;options;loader;window;stripe;constructor(s,a,u,k,J){this.version=s,this.key=a,this.options=u,this.loader=k,this.window=J,a&&(this.stripe=new ui(this.version,this.loader,this.window,a,u))}getStripeReference(){return this.loader.asStream().pipe((0,Fr.p)(s=>!0===s.loaded),(0,fe.T)(()=>this.window.getNativeWindow().Stripe))}getInstance(){return this.stripe.getInstance()}setKey(s,a){return this.changeKey(s,a)}changeKey(s,a){return this.stripe=new ui(this.version,this.loader,this.window,s,a),this.stripe}elements(s){return this.stripe.elements(s)}redirectToCheckout(s){return this.stripe.redirectToCheckout(s)}confirmPayment(s){return this.stripe.confirmPayment(s)}confirmAcssDebitPayment(s,a,u){return this.stripe.confirmAcssDebitPayment(s,a,u)}confirmUsBankAccountPayment(s,a){return this.stripe.confirmUsBankAccountPayment(s,a)}confirmAlipayPayment(s,a,u){return this.stripe.confirmAlipayPayment(s,a,u)}confirmAuBecsDebitPayment(s,a){return this.stripe.confirmAuBecsDebitPayment(s,a)}confirmBancontactPayment(s,a,u){return this.stripe.confirmBancontactPayment(s,a,u)}confirmBlikPayment(s,a,u){return this.stripe.confirmBlikPayment(s,a,u)}confirmBoletoPayment(s,a,u){return this.stripe.confirmBoletoPayment(s,a,u)}confirmCardPayment(s,a,u){return this.stripe.confirmCardPayment(s,a,u)}confirmCashappPayment(s,a,u){return this.stripe.confirmCashappPayment(s,a,u)}confirmCustomerBalancePayment(s,a,u){return this.stripe.confirmCustomerBalancePayment(s,a,u)}confirmEpsPayment(s,a,u){return this.stripe.confirmEpsPayment(s,a,u)}confirmFpxPayment(s,a,u){return this.stripe.confirmFpxPayment(s,a,u)}confirmGiropayPayment(s,a,u){return this.stripe.confirmGiropayPayment(s,a,u)}confirmGrabPayPayment(s,a,u){return this.stripe.confirmGrabPayPayment(s,a,u)}confirmIdealPayment(s,a,u){return this.stripe.confirmIdealPayment(s,a,u)}confirmKlarnaPayment(s,a,u){return this.stripe.confirmKlarnaPayment(s,a,u)}confirmKonbiniPayment(s,a,u){return this.stripe.confirmKonbiniPayment(s,a,u)}confirmMobilepayPayment(s,a,u){return this.stripe.confirmMobilepayPayment(s,a,u)}confirmOxxoPayment(s,a,u){return this.stripe.confirmOxxoPayment(s,a,u)}confirmP24Payment(s,a,u){return this.stripe.confirmP24Payment(s,a,u)}confirmPayNowPayment(s,a,u){return this.stripe.confirmPayNowPayment(s,a,u)}confirmPayPalPayment(s,a){return this.stripe.confirmPayPalPayment(s,a)}confirmPixPayment(s,a,u){return this.stripe.confirmPixPayment(s,a,u)}confirmPromptPayPayment(s,a,u){return this.stripe.confirmPromptPayPayment(s,a,u)}confirmSepaDebitPayment(s,a){return this.stripe.confirmSepaDebitPayment(s,a)}confirmSofortPayment(s,a,u){return this.stripe.confirmSofortPayment(s,a,u)}confirmWechatPayPayment(s,a,u){return this.stripe.confirmWechatPayPayment(s,a,u)}handleCardAction(s){return this.stripe.handleCardAction(s)}handleNextAction(s){return this.stripe.handleNextAction(s)}verifyMicrodepositsForPayment(s,a){return this.stripe.verifyMicrodepositsForPayment(s,a)}createRadarSession(){return this.stripe.createRadarSession()}collectBankAccountForPayment(s){return this.stripe.collectBankAccountForPayment(s)}createPaymentMethod(s){return this.stripe.createPaymentMethod(s)}createConfirmationToken(s){return this.stripe.createConfirmationToken(s)}retrievePaymentIntent(s){return this.stripe.retrievePaymentIntent(s)}confirmSetup(s){return this.stripe.confirmSetup(s)}confirmAcssDebitSetup(s,a,u){return this.stripe.confirmAcssDebitSetup(s,a,u)}confirmUsBankAccountSetup(s,a){return this.stripe.confirmUsBankAccountSetup(s,a)}confirmAuBecsDebitSetup(s,a){return this.stripe.confirmAuBecsDebitSetup(s,a)}confirmBacsDebitSetup(s,a){return this.stripe.confirmBacsDebitSetup(s,a)}confirmBancontactSetup(s,a){return this.stripe.confirmBancontactSetup(s,a)}confirmCardSetup(s,a,u){return this.stripe.confirmCardSetup(s,a,u)}confirmCashappSetup(s,a,u){return this.stripe.confirmCashappSetup(s,a,u)}confirmIdealSetup(s,a){return this.stripe.confirmIdealSetup(s,a)}confirmPayPalSetup(s,a){return this.stripe.confirmPayPalSetup(s,a)}confirmSepaDebitSetup(s,a){return this.stripe.confirmSepaDebitSetup(s,a)}confirmSofortSetup(s,a,u){return this.stripe.confirmSofortSetup(s,a,u)}confirmAffirmPayment(s,a,u){return this.stripe.confirmAffirmPayment(s,a,u)}confirmAfterpayClearpayPayment(s,a,u){return this.stripe.confirmAfterpayClearpayPayment(s,a,u)}verifyMicrodepositsForSetup(s,a){return this.stripe.verifyMicrodepositsForSetup(s,a)}collectBankAccountForSetup(s){return this.stripe.collectBankAccountForSetup(s)}retrieveSetupIntent(s){return this.stripe.retrieveSetupIntent(s)}processOrder(s){return this.stripe.processOrder(s)}retrieveOrder(s){return this.stripe.retrieveOrder(s)}paymentRequest(s){return this.stripe.paymentRequest(s)}createToken(s,a){return this.stripe.createToken(s,a)}createSource(s,a){return this.stripe.createSource(s,a)}retrieveSource(s){return this.stripe.retrieveSource(s)}verifyIdentity(s){return this.stripe.verifyIdentity(s)}collectFinancialConnectionsAccounts(s){return this.stripe.collectFinancialConnectionsAccounts(s)}collectBankAccountToken(s){return this.stripe.collectBankAccountToken(s)}createEphemeralKeyNonce(s){return this.stripe.createEphemeralKeyNonce(s)}initCustomCheckout(s){return this.stripe.initCustomCheckout(s)}initEmbeddedCheckout(s){return this.stripe.initEmbeddedCheckout(s)}handleCardPayment(s,a,u){return this.stripe.handleCardPayment(s,a,u)}confirmPaymentIntent(s,a,u){return this.stripe.confirmPaymentIntent(s,a,u)}handleCardSetup(s,a,u){return this.stripe.handleCardSetup(s,a,u)}confirmSetupIntent(s,a,u){return this.stripe.confirmSetupIntent(s,a,u)}handleFpxPayment(s,a,u){return this.stripe.handleFpxPayment(s,a,u)}static \u0275fac=function(a){return new(a||p)(e.KVO(Cs),e.KVO(Es),e.KVO(Di),e.KVO(N),e.KVO(Zr))};static \u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})(),G=(()=>{class p{stripeService;constructor(s){this.stripeService=s}elements(s,a={}){return s?Object.keys(a).length>0?s.elements(a):s.elements():Object.keys(a).length>0?this.stripeService.elements(a):this.stripeService.elements()}paymentRequest(s,a){return s?s.paymentRequest(a):this.stripeService.paymentRequest(a)}mergeOptions(s,a){return!a||s&&s.classes||s&&s.classes?s||{}:{...s||{},classes:{base:a,complete:`${a}--complete`,empty:`${a}--empty`,focus:`${a}--focus`,invalid:`${a}--invalid`,webkitAutoFill:`${a}--webkit-autoFill`}}}static \u0275fac=function(a){return new(a||p)(e.KVO(x))};static \u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})(),se=(()=>{class p{stripeElementsService;elementsOptions;stripe;elements=new e.bkB;_elements;state="notready";constructor(s){this.stripeElementsService=s}ngOnChanges(s){var a=this;return(0,It.A)(function*(){a.state="starting";const u=a.elementsOptions,k=a.stripe;if(k){if(s.elementsOptions)if(a._elements){const J=Object.keys(u).reduce((xe,Dt)=>(u[Dt]!==s.elementsOptions.previousValue[Dt]&&!["fonts","loader","clientSecret"].includes(Dt)&&(xe[Dt]=u[Dt]),xe),{});a._elements.update(J)}else a._elements=yield a.stripeElementsService.elements(k,u).toPromise(),a.elements.emit(a._elements),a.state="ready"}else a.state="notready"})()}ngOnInit(){var s=this;return(0,It.A)(function*(){"notready"===s.state&&(s.state="starting",s._elements=yield s.stripeElementsService.elements(s.stripe).toPromise(),s.elements.emit(s._elements),s.state="ready")})()}fetchUpdates(){return this._elements?(0,Ke.H)(this._elements.fetchUpdates()):null}update(s){return this._elements?this._elements.update(s):null}submit(){return this._elements?(0,Ke.H)(this._elements.submit()):null}getElement(s){if(!this._elements)return null;switch(s){case"address":return this._elements.getElement("address");case"paymentMethodMessaging":return this._elements.getElement("paymentMethodMessaging");case"affirmMessage":return this._elements.getElement("affirmMessage");case"afterpayClearpayMessage":return this._elements.getElement("afterpayClearpayMessage");case"auBankAccount":return this._elements.getElement("auBankAccount");case"card":return this._elements.getElement("card");case"cardNumber":return this._elements.getElement("cardNumber");case"cardExpiry":return this._elements.getElement("cardExpiry");case"cardCvc":return this._elements.getElement("cardCvc");case"fpxBank":return this._elements.getElement("fpxBank");case"epsBank":return this._elements.getElement("epsBank");case"p24Bank":return this._elements.getElement("p24Bank");case"iban":return this._elements.getElement("iban");case"idealBank":return this._elements.getElement("idealBank");case"linkAuthentication":return this._elements.getElement("linkAuthentication");case"expressCheckout":return this._elements.getElement("expressCheckout");case"payment":return this._elements.getElement("payment");case"paymentRequestButton":return this._elements.getElement("paymentRequestButton");case"shippingAddress":return this._elements.getElement("shippingAddress");default:return this._elements.getElement(s)}}static \u0275fac=function(a){return new(a||p)(e.rXU(G))};static \u0275dir=e.FsC({type:p,selectors:[["ngx-stripe-elements"],["","ngxStripeElements",""]],inputs:{elementsOptions:"elementsOptions",stripe:"stripe"},outputs:{elements:"elements"},standalone:!0,features:[e.OA$]})}return p})(),ci=(()=>{class p{cdr;stripeElementsService;elementsProvider;loadingTemplate;stripeElementRef;element;containerClass;options;elementsOptions;stripe;load=new e.bkB;blur=new e.bkB;change=new e.bkB;focus=new e.bkB;ready=new e.bkB;escape=new e.bkB;elements;state="notready";elementsSubscription;constructor(s,a,u){this.cdr=s,this.stripeElementsService=a,this.elementsProvider=u}ngOnChanges(s){var a=this;return(0,It.A)(function*(){a.state="starting";let u=!1;!a.elementsProvider&&(s.elementsOptions||s.stripe||!a.elements)&&(a.elements=yield a.stripeElementsService.elements(a.stripe,a.elementsOptions).toPromise(),u=!0);const k=a.stripeElementsService.mergeOptions(a.options,a.containerClass);(s.options||s.containerClass||!a.element||u)&&(a.element&&!u?a.update(k):a.elements&&u&&a.createElement(k))})()}ngOnInit(){var s=this;return(0,It.A)(function*(){const a=s.stripeElementsService.mergeOptions(s.options,s.containerClass);s.elementsProvider?s.elementsSubscription=s.elementsProvider.elements.subscribe(u=>{s.elements=u,s.createElement(a)}):"notready"===s.state&&(s.state="starting",s.elements=yield s.stripeElementsService.elements(s.stripe).toPromise(),s.createElement(a))})()}ngOnDestroy(){this.element&&this.element.destroy(),this.elementsSubscription&&this.elementsSubscription.unsubscribe()}update(s){this.element.update(s)}getCard(){return this.element}createElement(s={}){this.state="ready",this.cdr.detectChanges(),this.element&&this.element.unmount(),this.element=this.elements.create("card",s),this.element.on("change",a=>this.change.emit(a)),this.element.on("blur",()=>this.blur.emit()),this.element.on("focus",()=>this.focus.emit()),this.element.on("ready",()=>this.ready.emit()),this.element.on("escape",()=>this.escape.emit()),this.element.mount(this.stripeElementRef.nativeElement),this.load.emit(this.element)}static \u0275fac=function(a){return new(a||p)(e.rXU(e.gRc),e.rXU(G),e.rXU(se,8))};static \u0275cmp=e.VBU({type:p,selectors:[["ngx-stripe-card"]],contentQueries:function(a,u,k){if(1&a&&e.wni(k,An,5,e.C4Q),2&a){let J;e.mGM(J=e.lsd())&&(u.loadingTemplate=J.first)}},viewQuery:function(a,u){if(1&a&&e.GBs(Tn,5),2&a){let k;e.mGM(k=e.lsd())&&(u.stripeElementRef=k.first)}},inputs:{containerClass:"containerClass",options:"options",elementsOptions:"elementsOptions",stripe:"stripe"},outputs:{load:"load",blur:"blur",change:"change",focus:"focus",ready:"ready",escape:"escape"},standalone:!0,features:[e.OA$,e.aNF],decls:3,vars:1,consts:[["stripeElementRef",""],[1,"field"],[3,"ngTemplateOutlet"]],template:function(a,u){1&a&&(e.j41(0,"div",1,0),e.DNE(2,Vr,1,1,"ng-container",2),e.k0s()),2&a&&(e.R7$(2),e.vxM("ready"!==u.state&&u.loadingTemplate?2:-1))},dependencies:[P.MD,P.T3],encapsulation:2})}return p})(),os=(()=>{class p{version;baseKey;baseOptions;loader;window;constructor(s,a,u,k,J){this.version=s,this.baseKey=a,this.baseOptions=u,this.loader=k,this.window=J}create(s,a){if(!s&&!this.baseKey)throw new Error("No key defined! Either you need to pass it as a parameter or define it when you call NgxStripeModule.forRoot()");return new ui(this.version,this.loader,this.window,s||this.baseKey,a||this.baseOptions)}static \u0275fac=function(a){return new(a||p)(e.KVO(Cs),e.KVO(Es),e.KVO(Di),e.KVO(N),e.KVO(Zr))};static \u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})(),Lo=(()=>{class p{statusMap={pending:"En attente",paid:"Pay\xe9",failed:"\xc9chou\xe9",cancelled:"Annul\xe9",overdue:"En retard"};transform(s){return s?this.statusMap[s]||s:""}static \u0275fac=function(a){return new(a||p)};static \u0275pipe=e.EJ8({name:"paymentStatus",type:p,pure:!0,standalone:!0})}return p})();var wo=R(4594),Yn=R(8212);const Br=(p,S)=>({"bg-gray-100 hover:bg-gray-200":p,"hover:bg-gray-100":S}),ws=(p,S,s)=>({"bg-green-100 text-green-800":p,"bg-red-100 text-red-800":S,"bg-yellow-100 text-yellow-800":s}),ra=p=>["/assurance-details",p],ro=p=>({type:p}),uo=(p,S,s,a)=>({"bg-green-100 text-green-800":p,"bg-red-100 text-red-800":S,"bg-yellow-100 text-yellow-800":s,"bg-gray-100 text-gray-800":a});function $o(p,S){1&p&&(e.j41(0,"div",23)(1,"p"),e.EFF(2,"Chargement des donn\xe9es..."),e.k0s()())}function co(p,S){if(1&p&&(e.j41(0,"div")(1,"h2",24),e.EFF(2,"Mes Donn\xe9es Personnelles"),e.k0s(),e.j41(3,"div",25)(4,"div")(5,"h3",26),e.EFF(6,"Adresse e-mail"),e.k0s(),e.j41(7,"p",27),e.EFF(8),e.k0s()(),e.j41(9,"div")(10,"h3",26),e.EFF(11,"Derni\xe8re connexion"),e.k0s(),e.j41(12,"p",27),e.EFF(13),e.nI1(14,"date"),e.k0s()()()()),2&p){const s=e.XpG(2);e.R7$(8),e.JRh(s.user.email),e.R7$(5),e.JRh(e.i5U(14,2,s.user.last_sign_in_at,"dd/MM/yyyy \xe0 HH:mm"))}}function js(p,S){1&p&&(e.j41(0,"div",28)(1,"p"),e.EFF(2,"Vous n'\xeates pas connect\xe9."),e.k0s()())}function ei(p,S){if(1&p&&(e.j41(0,"div"),e.DNE(1,$o,3,0,"div",21)(2,co,15,5,"div",20)(3,js,3,0,"div",22),e.k0s()),2&p){const s=e.XpG();e.R7$(),e.Y8G("ngIf",s.loading),e.R7$(),e.Y8G("ngIf",!s.loading&&s.user),e.R7$(),e.Y8G("ngIf",!s.loading&&!s.user)}}function Ls(p,S){1&p&&(e.j41(0,"div",23)(1,"p"),e.EFF(2,"Chargement des contrats..."),e.k0s()())}function zi(p,S){if(1&p&&(e.j41(0,"tr")(1,"td",36),e.EFF(2),e.k0s(),e.j41(3,"td",37),e.EFF(4),e.k0s(),e.j41(5,"td",36),e.EFF(6),e.nI1(7,"date"),e.k0s(),e.j41(8,"td",36),e.EFF(9),e.nI1(10,"date"),e.k0s(),e.j41(11,"td",36)(12,"span",38),e.EFF(13),e.k0s()(),e.j41(14,"td",39)(15,"a",40),e.EFF(16,"D\xe9tails"),e.k0s()()()),2&p){const s=S.$implicit,a=e.XpG(3);e.R7$(2),e.JRh(s.categorie),e.R7$(2),e.JRh(s.denomination),e.R7$(2),e.JRh(e.i5U(7,8,s.date_contract,"dd/MM/yyyy")),e.R7$(3),e.JRh(e.i5U(10,11,s.date_validite,"dd/MM/yyyy")),e.R7$(3),e.Y8G("ngClass",e.sMw(14,ws,"accept\xe9"===s.statut,"refus\xe9"===s.statut,"en attente"===s.statut)),e.R7$(),e.JRh(s.statut),e.R7$(2),e.Y8G("routerLink",e.eq3(18,ra,s.id))("state",e.eq3(20,ro,a.activeView))}}function Do(p,S){if(1&p&&(e.j41(0,"div",30)(1,"table",31)(2,"thead",32)(3,"tr")(4,"th",33),e.EFF(5,"Cat\xe9gorie"),e.k0s(),e.j41(6,"th",33),e.EFF(7),e.k0s(),e.j41(8,"th",33),e.EFF(9,"Date Contrat"),e.k0s(),e.j41(10,"th",33),e.EFF(11,"Date Validit\xe9"),e.k0s(),e.j41(12,"th",33),e.EFF(13,"Statut"),e.k0s(),e.j41(14,"th",33),e.EFF(15,"Actions"),e.k0s()()(),e.j41(16,"tbody",34),e.DNE(17,zi,17,22,"tr",35),e.k0s()()()),2&p){const s=e.XpG(2);e.R7$(7),e.JRh("auto"===s.activeView?"V\xe9hicule":"habitation"===s.activeView?"B\xe2timent":"Description"),e.R7$(10),e.Y8G("ngForOf",s.contracts)}}function xo(p,S){1&p&&(e.j41(0,"div",28)(1,"p"),e.EFF(2,"Aucun contrat trouv\xe9 pour cette cat\xe9gorie."),e.k0s()())}function Wi(p,S){if(1&p&&(e.j41(0,"div")(1,"h2",24),e.EFF(2),e.nI1(3,"titlecase"),e.k0s(),e.DNE(4,Ls,3,0,"div",21)(5,Do,18,2,"div",29)(6,xo,3,0,"div",22),e.k0s()),2&p){const s=e.XpG();e.R7$(2),e.SpI("Mes contrats ",e.bMT(3,4,s.activeView),""),e.R7$(2),e.Y8G("ngIf",s.contractsLoading),e.R7$(),e.Y8G("ngIf",!s.contractsLoading&&s.contracts.length>0),e.R7$(),e.Y8G("ngIf",!s.contractsLoading&&0===s.contracts.length)}}function as(p,S){1&p&&(e.j41(0,"div",23)(1,"p"),e.EFF(2,"Chargement des documents..."),e.k0s()())}function So(p,S){if(1&p){const s=e.RV6();e.j41(0,"tr")(1,"td",37),e.nrm(2,"i",41),e.EFF(3),e.k0s(),e.j41(4,"td",36),e.EFF(5),e.k0s(),e.j41(6,"td",36),e.EFF(7),e.nI1(8,"date"),e.k0s(),e.j41(9,"td",39)(10,"a",42),e.bIt("click",function(){const u=e.eBV(s).$implicit,k=e.XpG(3);return e.Njj(k.openDocument(u))}),e.nrm(11,"i",43),e.k0s()()()}if(2&p){const s=S.$implicit;e.R7$(3),e.SpI(" ",s.file_name," "),e.R7$(2),e.JRh(s.raisons),e.R7$(2),e.JRh(e.i5U(8,3,s.date_created,"dd/MM/yyyy"))}}function ia(p,S){if(1&p&&(e.j41(0,"div",30)(1,"table",31)(2,"thead",32)(3,"tr")(4,"th",33),e.EFF(5,"Nom du fichier"),e.k0s(),e.j41(6,"th",33),e.EFF(7,"Sujet"),e.k0s(),e.j41(8,"th",33),e.EFF(9,"Date d'ajout"),e.k0s(),e.j41(10,"th",33),e.EFF(11,"Actions"),e.k0s()()(),e.j41(12,"tbody",34),e.DNE(13,So,12,6,"tr",35),e.k0s()()()),2&p){const s=e.XpG(2);e.R7$(13),e.Y8G("ngForOf",s.documents)}}function Vo(p,S){1&p&&(e.j41(0,"div",28)(1,"p"),e.EFF(2,"Aucun document trouv\xe9."),e.k0s()())}function Si(p,S){if(1&p&&(e.j41(0,"div")(1,"h2",24),e.EFF(2,"Mes Documents"),e.k0s(),e.DNE(3,as,3,0,"div",21)(4,ia,14,1,"div",29)(5,Vo,3,0,"div",22),e.k0s()),2&p){const s=e.XpG();e.R7$(3),e.Y8G("ngIf",s.documentsLoading),e.R7$(),e.Y8G("ngIf",!s.documentsLoading&&s.documents.length>0),e.R7$(),e.Y8G("ngIf",!s.documentsLoading&&0===s.documents.length)}}function sa(p,S){1&p&&(e.j41(0,"div",23)(1,"p"),e.EFF(2,"Chargement de l'historique..."),e.k0s()())}function io(p,S){if(1&p){const s=e.RV6();e.j41(0,"button",51),e.bIt("click",function(){e.eBV(s);const u=e.XpG().$implicit,k=e.XpG(3);return e.Njj(k.initiatePayment(u))}),e.EFF(1,"Payer"),e.k0s()}}function Yi(p,S){if(1&p&&(e.j41(0,"tr")(1,"td",37),e.EFF(2),e.k0s(),e.j41(3,"td",36),e.EFF(4),e.nI1(5,"currency"),e.k0s(),e.j41(6,"td",36),e.EFF(7),e.nI1(8,"date"),e.k0s(),e.j41(9,"td",49)(10,"span",38),e.EFF(11),e.nI1(12,"paymentStatus"),e.k0s()(),e.j41(13,"td",39),e.DNE(14,io,2,0,"button",50),e.k0s()()),2&p){const s=S.$implicit;e.R7$(2),e.JRh(s.sujet),e.R7$(2),e.JRh(e.i5U(5,6,s.montant,"EUR")),e.R7$(3),e.JRh(e.i5U(8,9,s.date_echeance,"dd/MM/yyyy")),e.R7$(3),e.Y8G("ngClass",e.ziG(14,uo,"paid"===s.statut,"failed"===s.statut||"overdue"===s.statut,"pending"===s.statut,"cancelled"===s.statut)),e.R7$(),e.JRh(e.bMT(12,12,s.statut)),e.R7$(3),e.Y8G("ngIf","pending"===s.statut||"overdue"===s.statut)}}function $s(p,S){if(1&p&&(e.j41(0,"div",30)(1,"table",31)(2,"thead",32)(3,"tr")(4,"th",33),e.EFF(5,"Sujet"),e.k0s(),e.j41(6,"th",33),e.EFF(7,"Montant"),e.k0s(),e.j41(8,"th",33),e.EFF(9,"\xc9ch\xe9ance"),e.k0s(),e.j41(10,"th",33),e.EFF(11,"Statut"),e.k0s(),e.j41(12,"th",33),e.EFF(13,"Actions"),e.k0s()()(),e.j41(14,"tbody",34),e.DNE(15,Yi,15,19,"tr",35),e.k0s()()()),2&p){const s=e.XpG(2);e.R7$(15),e.Y8G("ngForOf",s.paymentRequests)}}function Uo(p,S){1&p&&(e.j41(0,"div",52)(1,"p"),e.EFF(2,"Aucune demande de paiement trouv\xe9e."),e.k0s()())}function _(p,S){if(1&p&&(e.j41(0,"p",65),e.EFF(1),e.k0s()),2&p){const s=e.XpG(3);e.R7$(),e.JRh(s.paymentError)}}function U(p,S){if(1&p){const s=e.RV6();e.j41(0,"div",53)(1,"h3",45),e.EFF(2),e.k0s(),e.j41(3,"div",54)(4,"div")(5,"p",55),e.EFF(6),e.k0s(),e.j41(7,"p",56),e.EFF(8),e.nI1(9,"date"),e.k0s()(),e.j41(10,"div",57)(11,"p",58),e.EFF(12),e.nI1(13,"currency"),e.k0s()()(),e.j41(14,"div")(15,"label",59),e.EFF(16,"Informations de la carte de cr\xe9dit"),e.k0s(),e.nrm(17,"ngx-stripe-card",60),e.k0s(),e.j41(18,"div",61)(19,"button",62),e.bIt("click",function(){e.eBV(s);const u=e.XpG(2);return e.Njj(u.payWithStripe())}),e.EFF(20),e.nI1(21,"currency"),e.k0s(),e.j41(22,"button",63),e.bIt("click",function(){e.eBV(s);const u=e.XpG(2);return e.Njj(u.cancelPayment())}),e.EFF(23,"Annuler"),e.k0s()(),e.DNE(24,_,2,1,"p",64),e.k0s()}if(2&p){const s=e.XpG(2);e.R7$(2),e.SpI('R\xe9gler la demande : "',s.selectedPaymentRequest.sujet,'"'),e.R7$(4),e.JRh(s.selectedPaymentRequest.sujet),e.R7$(2),e.SpI("\xc9ch\xe9ance: ",e.i5U(9,10,s.selectedPaymentRequest.date_echeance,"dd/MM/yyyy"),""),e.R7$(4),e.JRh(e.i5U(13,13,s.selectedPaymentRequest.montant,"EUR")),e.R7$(5),e.Y8G("options",s.cardOptions)("elementsOptions",s.elementsOptions),e.R7$(2),e.Y8G("disabled",s.paymentLoading),e.R7$(),e.SpI(" ",s.paymentLoading?"Paiement en cours...":"Payer "+e.i5U(21,16,s.selectedPaymentRequest.montant,"EUR")," "),e.R7$(2),e.Y8G("disabled",s.paymentLoading),e.R7$(2),e.Y8G("ngIf",s.paymentError)}}function I(p,S){if(1&p){const s=e.RV6();e.j41(0,"div",66)(1,"div",67)(2,"div",68)(3,"div",69),e.qSk(),e.j41(4,"svg",70),e.nrm(5,"path",71),e.k0s()(),e.joV(),e.j41(6,"h3",72),e.EFF(7,"Paiement R\xe9ussi"),e.k0s(),e.j41(8,"div",73)(9,"p",56),e.EFF(10),e.k0s()(),e.j41(11,"div",74)(12,"button",75),e.bIt("click",function(){e.eBV(s);const u=e.XpG(2);return e.Njj(u.closeSuccessPopup())}),e.EFF(13," Fermer "),e.k0s()()()()()}if(2&p){const s=e.XpG(2);e.R7$(10),e.JRh(s.paymentSuccess)}}function V(p,S){if(1&p&&(e.j41(0,"div")(1,"h2",24),e.EFF(2,"Mes Paiements"),e.k0s(),e.j41(3,"div",44)(4,"h3",45),e.EFF(5,"Historique des demandes de paiement"),e.k0s(),e.DNE(6,sa,3,0,"div",21)(7,$s,16,1,"div",29)(8,Uo,3,0,"div",46),e.k0s(),e.DNE(9,U,25,19,"div",47)(10,I,14,1,"div",48),e.k0s()),2&p){const s=e.XpG();e.R7$(6),e.Y8G("ngIf",s.paymentRequestsLoading),e.R7$(),e.Y8G("ngIf",!s.paymentRequestsLoading&&s.paymentRequests.length>0),e.R7$(),e.Y8G("ngIf",!s.paymentRequestsLoading&&0===s.paymentRequests.length),e.R7$(),e.Y8G("ngIf",s.selectedPaymentRequest),e.R7$(),e.Y8G("ngIf",s.paymentSuccess)}}let ne=(()=>{class p{dbConnectService;authService;router;uploaderService;paymentService;stripeService;platformId;clientSecret=Ei.c.stripe_public_key;user=null;userMetadata=null;loading=!0;activeView="donnees";contracts=[];contractsLoading=!1;devisAuto=[];devisLoading=!1;devisHabitation=[];documents=[];documentsLoading=!1;paymentLoading=!1;paymentError=null;paymentSuccess=null;paymentRequests=[];paymentRequestsLoading=!1;selectedPaymentRequest=null;card;cardOptions={style:{base:{iconColor:"#666EE8",color:"#31325F",fontWeight:"300",fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSize:"18px","::placeholder":{color:"#CFD7E0"}}}};elementsOptions={locale:"fr"};destroy$=new he.B;constructor(s,a,u,k,J,xe,Dt){this.dbConnectService=s,this.authService=a,this.router=u,this.uploaderService=k,this.paymentService=J,this.stripeService=xe,this.platformId=Dt}ngOnInit(){(0,P.UE)(this.platformId)?this.dbConnectService.getCurrentUser().pipe((0,pt.Q)(this.destroy$)).subscribe(s=>{this.user=s,this.userMetadata=s?.user_metadata??null,this.loading=!1,s&&s.id&&s.email&&(console.log("User data:",s),this.dbConnectService.linkUserToPerson(s.id,s.email).pipe((0,pt.Q)(this.destroy$)).subscribe())}):this.loading=!1}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setView(s){this.activeView=s,"documents"===s?this.loadDocuments():"paiement"===s?this.loadPaymentRequests():"donnees"!==s&&this.user?this.loadContracts(s):this.contracts=[]}loadContracts(s){this.contractsLoading=!0,this.contracts=[],this.authService.currentUser$.pipe((0,Re.n)(a=>{if(!a)throw new Error("User not authenticated");return this.dbConnectService.getPersonByUserId(a.id)}),(0,Re.n)(a=>{if(!a)throw new Error("Person not found for the current user");return this.dbConnectService.getContracts(a.id,s)}),(0,pt.Q)(this.destroy$)).subscribe({next:a=>{console.log(`[mydata.component.ts] Contrats pour la cat\xe9gorie '${s}':`,a),this.contracts=a,this.contractsLoading=!1},error:a=>{console.error("[mydata.component.ts] Error loading contracts:",a),this.contractsLoading=!1}})}loadDocuments(){this.documentsLoading=!0,this.documents=[],this.authService.currentUser$.pipe((0,Re.n)(s=>{if(!s)throw new Error("User not authenticated");return this.dbConnectService.getPersonByUserId(s.id)}),(0,Re.n)(s=>{if(!s)throw new Error("Person not found for the current user");return this.dbConnectService.getUploadedFiles(s.id)}),(0,pt.Q)(this.destroy$)).subscribe({next:s=>{this.documents=s,this.documentsLoading=!1},error:s=>{console.error("[mydata.component.ts] Error loading documents:",s),this.documentsLoading=!1}})}loadDevisAuto(){this.user&&(this.devisLoading=!0,this.devisAuto=[],this.dbConnectService.getDevisAuto(this.user.id).pipe((0,pt.Q)(this.destroy$)).subscribe(s=>{this.devisAuto=s,this.devisLoading=!1}))}loadDevisHabitation(){this.user&&(this.devisLoading=!0,this.devisHabitation=[],this.dbConnectService.getPersonByUserId(this.user.id).pipe((0,pt.Q)(this.destroy$)).subscribe(s=>{s?this.dbConnectService.getContracts(s.id,"habitation").subscribe(a=>{this.devisHabitation=a,console.log("Devis Habitation data:",a),this.devisLoading=!1}):this.devisLoading=!1}))}loadPaymentRequests(){this.user&&(this.paymentRequestsLoading=!0,this.paymentService.getPaymentRequestsForUser(this.user.id).pipe((0,pt.Q)(this.destroy$)).subscribe({next:s=>{this.paymentRequests=s,this.paymentRequestsLoading=!1},error:s=>{console.error("[mydata.component.ts] Error loading payment requests:",s),this.paymentRequestsLoading=!1}}))}initiatePayment(s){this.selectedPaymentRequest=s,this.paymentError=null,this.paymentSuccess=null}cancelPayment(){this.selectedPaymentRequest=null}openDocument(s){const a=s.path.split("/");if(0===a.length)return void console.error("Chemin du fichier invalide:",s.path);const k=this.uploaderService.getBucketName(a[0]),J=this.uploaderService.getDownloadUrl(k,s.path);if(!J)return void console.error("Impossible de g\xe9n\xe9rer l'URL de t\xe9l\xe9chargement pour le fichier:",s.file_name);const xe=`${J}?download=${encodeURIComponent(s.file_name)}`,Dt=document.createElement("a");Dt.href=xe,Dt.click()}logout(){var s=this;return(0,It.A)(function*(){try{yield $r(s.authService.signOut()),s.router.navigate(["/login"])}catch(a){console.error("Erreur lors de la d\xe9connexion",a)}})()}payWithStripe(){this.selectedPaymentRequest?(this.paymentLoading=!0,this.paymentError=null,this.paymentSuccess=null,this.paymentService.createPaymentIntent(100*this.selectedPaymentRequest.montant).pipe((0,Re.n)(a=>{if(!a||!a.clientSecret)throw new Error('Le "clientSecret" est manquant. Impossible de proc\xe9der au paiement.');return this.stripeService.confirmCardPayment(a.clientSecret,{payment_method:{card:this.card.element,billing_details:{name:this.user?.email??"Client Assurkin"}}})}),(0,Re.n)(a=>{if(a.error)throw new Error(a.error.message??"Une erreur est survenue lors du paiement.");if("succeeded"===a.paymentIntent?.status){const u={statut:"paid",paid_at:(new Date).toISOString(),transaction_id:a.paymentIntent.id};return this.paymentService.updatePaymentRequestStatus(this.selectedPaymentRequest.id,u)}return new he.B}),(0,pt.Q)(this.destroy$)).subscribe({next:a=>{this.paymentLoading=!1,this.paymentSuccess=`Le paiement pour "${a.sujet}" a \xe9t\xe9 effectu\xe9 avec succ\xe8s.`,this.loadPaymentRequests(),this.selectedPaymentRequest=null},error:a=>{this.paymentError=a.message||"Une erreur technique est survenue. Veuillez r\xe9essayer.",this.paymentLoading=!1}})):this.paymentError="Aucune demande de paiement n'a \xe9t\xe9 s\xe9lectionn\xe9e."}closeSuccessPopup(){this.paymentSuccess=null}static \u0275fac=function(a){return new(a||p)(e.rXU(jt.y),e.rXU(Dr),e.rXU(de.Ix),e.rXU(wo.U),e.rXU(Yn.W),e.rXU(x),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:p,selectors:[["app-mydata"]],viewQuery:function(a,u){if(1&a&&e.GBs(ci,5),2&a){let k;e.mGM(k=e.lsd())&&(u.card=k.first)}},standalone:!0,features:[e.Jv_([jt.y,os]),e.aNF],decls:56,vars:36,consts:[[1,"container","mx-auto","p-4","py-16","sm:py-24"],[1,"grid","grid-cols-1","lg:grid-cols-4","gap-8"],[1,"lg:col-span-1"],[1,"bg-white","p-4","rounded-lg","shadow-md"],[1,"space-y-2"],[1,"flex","items-center","p-3","text-base","font-bold","text-gray-900","rounded-lg","cursor-pointer","group","hover:shadow",3,"click","ngClass"],[1,"fas","fa-user-circle","w-6","h-6","text-gray-500"],[1,"ml-3"],[1,"fas","fa-home","w-6","h-6","text-gray-500"],[1,"fas","fa-car","w-6","h-6","text-gray-500"],[1,"fas","fa-hand-holding-heart","w-6","h-6","text-gray-500"],[1,"fas","fa-balance-scale","w-6","h-6","text-gray-500"],[1,"fas","fa-plane-slash","w-6","h-6","text-gray-500"],[1,"fas","fa-folder","w-6","h-6","text-gray-500"],[1,"fas","fa-credit-card","w-6","h-6","text-gray-500"],[1,"border-t","pt-2","mt-2"],[1,"flex","items-center","p-3","text-base","font-bold","text-red-600","rounded-lg","cursor-pointer","hover:bg-red-50","group","hover:shadow",3,"click"],[1,"fas","fa-sign-out-alt","w-6","h-6","text-red-500"],[1,"lg:col-span-3"],[1,"bg-white","p-8","rounded-lg","shadow-md"],[4,"ngIf"],["class","text-center",4,"ngIf"],["class","text-center text-gray-500",4,"ngIf"],[1,"text-center"],[1,"text-2xl","font-bold","mb-6","text-gray-800"],[1,"space-y-4"],[1,"text-lg","font-semibold","text-gray-700"],[1,"text-gray-600"],[1,"text-center","text-gray-500"],["class","overflow-x-auto",4,"ngIf"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],[4,"ngFor","ngForOf"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-500"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-900"],[1,"px-2","inline-flex","text-xs","leading-5","font-semibold","rounded-full",3,"ngClass"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium"],[1,"text-indigo-600","hover:text-indigo-900",3,"routerLink","state"],[1,"fas","fa-file-alt","mr-2","text-gray-500"],["title","T\xe9l\xe9charger le document",1,"text-indigo-600","hover:text-indigo-900","cursor-pointer",3,"click"],[1,"fas","fa-download"],[1,"mt-8"],[1,"text-xl","font-semibold","mb-4","text-gray-700"],["class","text-center text-gray-500 bg-gray-50 p-4 rounded-lg",4,"ngIf"],["class","mt-8 border-t pt-6",4,"ngIf"],["class","fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full flex items-center justify-center z-50","id","my-modal",4,"ngIf"],[1,"px-6","py-4","whitespace-nowrap","text-sm"],["class","text-indigo-600 hover:text-indigo-900",3,"click",4,"ngIf"],[1,"text-indigo-600","hover:text-indigo-900",3,"click"],[1,"text-center","text-gray-500","bg-gray-50","p-4","rounded-lg"],[1,"mt-8","border-t","pt-6"],[1,"bg-gray-50","p-4","rounded-lg","shadow-sm","flex","items-center","justify-between","mb-6"],[1,"font-semibold","text-gray-700"],[1,"text-sm","text-gray-500"],[1,"text-right"],[1,"text-lg","font-bold","text-gray-800"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],[3,"options","elementsOptions"],[1,"flex","items-center","gap-4","mt-4"],[1,"flex-grow","px-4","py-2","bg-indigo-600","text-white","text-sm","font-medium","rounded-md","hover:bg-indigo-700","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"px-4","py-2","bg-gray-200","text-gray-700","text-sm","font-medium","rounded-md","hover:bg-gray-300",3,"click","disabled"],["class","text-sm mt-2 font-medium text-red-600",4,"ngIf"],[1,"text-sm","mt-2","font-medium","text-red-600"],["id","my-modal",1,"fixed","inset-0","bg-gray-600","bg-opacity-50","overflow-y-auto","h-full","w-full","flex","items-center","justify-center","z-50"],[1,"relative","mx-auto","p-5","border","w-full","max-w-md","shadow-lg","rounded-md","bg-white"],[1,"mt-3","text-center"],[1,"mx-auto","flex","items-center","justify-center","h-12","w-12","rounded-full","bg-green-100"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"h-6","w-6","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"text-lg","leading-6","font-medium","text-gray-900","mt-2"],[1,"mt-2","px-7","py-3"],[1,"items-center","px-4","py-3"],[1,"px-4","py-2","bg-green-500","text-white","text-base","font-medium","rounded-md","w-full","shadow-sm","hover:bg-green-600","focus:outline-none","focus:ring-2","focus:ring-green-300",3,"click"]],template:function(a,u){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"ul",4)(5,"li")(6,"a",5),e.bIt("click",function(){return u.setView("donnees")}),e.nrm(7,"i",6),e.j41(8,"span",7),e.EFF(9,"Mes Donn\xe9es"),e.k0s()()(),e.j41(10,"li")(11,"a",5),e.bIt("click",function(){return u.setView("habitation")}),e.nrm(12,"i",8),e.j41(13,"span",7),e.EFF(14,"Habitation"),e.k0s()()(),e.j41(15,"li")(16,"a",5),e.bIt("click",function(){return u.setView("auto")}),e.nrm(17,"i",9),e.j41(18,"span",7),e.EFF(19,"Assurance Auto"),e.k0s()()(),e.j41(20,"li")(21,"a",5),e.bIt("click",function(){return u.setView("obseques")}),e.nrm(22,"i",10),e.j41(23,"span",7),e.EFF(24,"Obs\xe8ques"),e.k0s()()(),e.j41(25,"li")(26,"a",5),e.bIt("click",function(){return u.setView("juridique")}),e.nrm(27,"i",11),e.j41(28,"span",7),e.EFF(29,"Protection Juridique"),e.k0s()()(),e.j41(30,"li")(31,"a",5),e.bIt("click",function(){return u.setView("voyage")}),e.nrm(32,"i",12),e.j41(33,"span",7),e.EFF(34,"Annulation Voyage"),e.k0s()()(),e.j41(35,"li")(36,"a",5),e.bIt("click",function(){return u.setView("documents")}),e.nrm(37,"i",13),e.j41(38,"span",7),e.EFF(39,"Mes Documents"),e.k0s()()(),e.j41(40,"li")(41,"a",5),e.bIt("click",function(){return u.setView("paiement")}),e.nrm(42,"i",14),e.j41(43,"span",7),e.EFF(44,"Paiement"),e.k0s()()(),e.j41(45,"li",15)(46,"a",16),e.bIt("click",function(){return u.logout()}),e.nrm(47,"i",17),e.j41(48,"span",7),e.EFF(49,"D\xe9connexion"),e.k0s()()()()()(),e.j41(50,"div",18)(51,"div",19),e.DNE(52,ei,4,3,"div",20)(53,Wi,7,6,"div",20)(54,Si,6,3,"div",20)(55,V,11,5,"div",20),e.k0s()()()()),2&a&&(e.R7$(6),e.Y8G("ngClass",e.l_i(12,Br,"donnees"===u.activeView,"donnees"!==u.activeView)),e.R7$(5),e.Y8G("ngClass",e.l_i(15,Br,"habitation"===u.activeView,"habitation"!==u.activeView)),e.R7$(5),e.Y8G("ngClass",e.l_i(18,Br,"auto"===u.activeView,"auto"!==u.activeView)),e.R7$(5),e.Y8G("ngClass",e.l_i(21,Br,"obseques"===u.activeView,"obseques"!==u.activeView)),e.R7$(5),e.Y8G("ngClass",e.l_i(24,Br,"juridique"===u.activeView,"juridique"!==u.activeView)),e.R7$(5),e.Y8G("ngClass",e.l_i(27,Br,"voyage"===u.activeView,"voyage"!==u.activeView)),e.R7$(5),e.Y8G("ngClass",e.l_i(30,Br,"documents"===u.activeView,"documents"!==u.activeView)),e.R7$(5),e.Y8G("ngClass",e.l_i(33,Br,"paiement"===u.activeView,"paiement"!==u.activeView)),e.R7$(11),e.Y8G("ngIf","donnees"===u.activeView),e.R7$(),e.Y8G("ngIf","auto"===u.activeView||"habitation"===u.activeView||"obseques"===u.activeView),e.R7$(),e.Y8G("ngIf","documents"===u.activeView),e.R7$(),e.Y8G("ngIf","paiement"===u.activeView))},dependencies:[P.MD,P.YU,P.Sq,P.bT,P.PV,P.oe,P.vh,de.Wk,ci,Lo],encapsulation:2})}return p})();const Ae=(p,S)=>({"border-red-500":p,"border-gray-300":S});function Be(p,S){if(1&p&&(e.j41(0,"div",6)(1,"span",7),e.EFF(2),e.k0s()()),2&p){const s=e.XpG();e.R7$(2),e.JRh(s.successMessage)}}function gt(p,S){if(1&p&&(e.j41(0,"div",8)(1,"span",7),e.EFF(2),e.k0s()()),2&p){const s=e.XpG();e.R7$(2),e.JRh(s.errorMessage)}}function dn(p,S){1&p&&(e.j41(0,"p"),e.EFF(1,"L'adresse e-mail est requise."),e.k0s())}function jn(p,S){1&p&&(e.j41(0,"p"),e.EFF(1,"Veuillez saisir une adresse e-mail valide."),e.k0s())}function Rn(p,S){if(1&p&&(e.j41(0,"div",15),e.DNE(1,dn,2,0,"p",14)(2,jn,2,0,"p",14),e.k0s()),2&p){let s,a;const u=e.XpG(2);e.R7$(),e.Y8G("ngIf",null==(s=u.passwordLostForm.get("email"))||null==s.errors?null:s.errors.required),e.R7$(),e.Y8G("ngIf",null==(a=u.passwordLostForm.get("email"))||null==a.errors?null:a.errors.email)}}function on(p,S){1&p&&(e.j41(0,"span"),e.EFF(1,"Envoyer le lien de r\xe9initialisation"),e.k0s())}function w(p,S){1&p&&(e.j41(0,"span"),e.EFF(1,"Envoi en cours..."),e.k0s())}function h(p,S){if(1&p){const s=e.RV6();e.j41(0,"form",9),e.bIt("ngSubmit",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.onSubmit())}),e.j41(1,"div")(2,"label",10),e.EFF(3,"Adresse e-mail"),e.k0s(),e.nrm(4,"input",11),e.DNE(5,Rn,3,2,"div",12),e.k0s(),e.j41(6,"div")(7,"button",13),e.DNE(8,on,2,0,"span",14)(9,w,2,0,"span",14),e.k0s()()()}if(2&p){let s,a;const u=e.XpG();e.Y8G("formGroup",u.passwordLostForm),e.R7$(4),e.Y8G("ngClass",e.l_i(6,Ae,(null==(s=u.passwordLostForm.get("email"))?null:s.touched)&&(null==(s=u.passwordLostForm.get("email"))?null:s.invalid),!(null!=(s=u.passwordLostForm.get("email"))&&s.touched&&null!=(s=u.passwordLostForm.get("email"))&&s.invalid))),e.R7$(),e.Y8G("ngIf",(null==(a=u.passwordLostForm.get("email"))?null:a.touched)&&(null==(a=u.passwordLostForm.get("email"))?null:a.invalid)),e.R7$(2),e.Y8G("disabled",u.loading||u.passwordLostForm.invalid),e.R7$(),e.Y8G("ngIf",!u.loading),e.R7$(),e.Y8G("ngIf",u.loading)}}let c=(()=>{class p{fb;authService;passwordLostForm;loading=!1;successMessage=null;errorMessage=null;constructor(s,a){this.fb=s,this.authService=a,this.passwordLostForm=this.fb.group({email:["",[F.k0.required,F.k0.email]]})}onSubmit(){var s=this;return(0,It.A)(function*(){if(!s.passwordLostForm.invalid){s.loading=!0,s.successMessage=null,s.errorMessage=null;try{const a=s.passwordLostForm.value.email,u=yield $r(s.authService.sendPasswordResetEmail(a));u&&u.error?s.errorMessage="Une erreur est survenue. Veuillez v\xe9rifier l'adresse e-mail et r\xe9essayer.":s.successMessage="Si un compte est associ\xe9 \xe0 cette adresse, un e-mail de r\xe9initialisation a \xe9t\xe9 envoy\xe9."}finally{s.loading=!1}}})()}static \u0275fac=function(a){return new(a||p)(e.rXU(F.ok),e.rXU(Dr))};static \u0275cmp=e.VBU({type:p,selectors:[["app-account-password-lost"]],standalone:!0,features:[e.aNF],decls:8,vars:3,consts:[[1,"max-w-md","mx-auto","bg-white","p-8","rounded-lg","shadow-md","mt-10"],[1,"text-2xl","font-bold","text-center","text-gray-800","mb-6"],[1,"text-center","text-gray-600","mb-6"],["class","bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4","role","alert",4,"ngIf"],["class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4","role","alert",4,"ngIf"],["class","space-y-6",3,"formGroup","ngSubmit",4,"ngIf"],["role","alert",1,"bg-green-100","border","border-green-400","text-green-700","px-4","py-3","rounded","relative","mb-4"],[1,"block","sm:inline"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative","mb-4"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","email","formControlName","email",1,"mt-1","block","w-full","px-3","py-2","border","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["class","text-red-600 text-sm mt-1",4,"ngIf"],["type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","disabled:bg-gray-400","disabled:cursor-not-allowed",3,"disabled"],[4,"ngIf"],[1,"text-red-600","text-sm","mt-1"]],template:function(a,u){1&a&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2,"Mot de passe perdu ?"),e.k0s(),e.j41(3,"p",2),e.EFF(4,"Entrez votre adresse e-mail et nous vous enverrons un lien pour r\xe9initialiser votre mot de passe."),e.k0s(),e.DNE(5,Be,3,1,"div",3)(6,gt,3,1,"div",4)(7,h,10,9,"form",5),e.k0s()),2&a&&(e.R7$(5),e.Y8G("ngIf",u.successMessage),e.R7$(),e.Y8G("ngIf",u.errorMessage),e.R7$(),e.Y8G("ngIf",!u.successMessage))},dependencies:[P.MD,P.YU,P.bT,F.X1,F.qT,F.me,F.BC,F.cb,F.j4,F.JD],encapsulation:2})}return p})(),m=(()=>{class p{static \u0275fac=function(a){return new(a||p)};static \u0275cmp=e.VBU({type:p,selectors:[["app-account-password-reset"]],standalone:!0,features:[e.aNF],decls:2,vars:0,template:function(a,u){1&a&&(e.j41(0,"p"),e.EFF(1,"account-password-reset works!"),e.k0s())}})}return p})();var E=R(6697);const j=(p,S)=>({"bg-red-100 text-red-700":p,"bg-green-100 text-green-700":S});function B(p,S){if(1&p&&(e.j41(0,"div",21),e.EFF(1),e.k0s()),2&p){const s=e.XpG();e.Y8G("ngClass",e.l_i(2,j,!s.submissionStatus.success,s.submissionStatus.success)),e.R7$(),e.SpI(" ",s.submissionStatus.message," ")}}let q=(()=>{class p{fb;router;dbConnectService;platformId;accountForm;preneurData;submissionStatus=null;constructor(s,a,u,k){this.fb=s,this.router=a,this.dbConnectService=u,this.platformId=k,this.accountForm=this.fb.group({nom:[{value:"",disabled:!0},F.k0.required],prenom:[{value:"",disabled:!0},F.k0.required],email:[{value:"",disabled:!0},[F.k0.required,F.k0.email]],permis:[{value:"",disabled:!0},F.k0.required],password:["",[F.k0.required,F.k0.minLength(8)]]})}ngOnInit(){if((0,P.UE)(this.platformId)){const s=this.router.getCurrentNavigation();this.preneurData=s?.extras?.state?.preneurData,this.preneurData?this.accountForm.patchValue({nom:this.preneurData.nom,prenom:this.preneurData.prenom,email:this.preneurData.email,permis:this.preneurData.permis}):(console.warn("Aucune donn\xe9e de preneur re\xe7ue. Redirection vers le formulaire auto."),this.router.navigate(["/particulier/auto"]))}}onSubmit(){if(this.accountForm.invalid)return void(this.submissionStatus={success:!1,message:"Veuillez choisir un mot de passe valide."});const s=this.accountForm.getRawValue();this.dbConnectService.createUser({nom:s.nom,prenom:s.prenom,email:s.email,permis:s.permis,password:s.password,dateNaissance:this.preneurData.dateNaissance,telephone:this.preneurData.telephone,adresse:this.preneurData.adresse,codePostal:this.preneurData.codePostal,ville:this.preneurData.ville,genre:this.preneurData.genre,datePermis:this.preneurData.datePermis}).subscribe({next:u=>{this.submissionStatus={success:!0,message:"Votre compte a \xe9t\xe9 cr\xe9\xe9 avec succ\xe8s ! Vous allez \xeatre redirig\xe9."}},error:u=>{this.submissionStatus={success:!1,message:"Une erreur est survenue lors de la cr\xe9ation du compte."},console.error(u)}})}static \u0275fac=function(a){return new(a||p)(e.rXU(F.ok),e.rXU(de.Ix),e.rXU(jt.y),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:p,selectors:[["app-createuseraccount"]],standalone:!0,features:[e.aNF],decls:37,vars:3,consts:[[1,"max-w-4xl","mx-auto","p-6","bg-white","rounded-lg","shadow-md"],[1,"text-3xl","font-bold","text-gray-800","mb-6","border-b","pb-4"],[1,"mb-6","text-gray-600"],["class","p-4 mb-4 text-sm rounded-lg",3,"ngClass",4,"ngIf"],["novalidate","",3,"ngSubmit","formGroup"],[1,"mb-8","p-4","border","rounded-md"],[1,"text-xl","font-semibold","text-gray-700","px-2"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6","mt-4"],["for","nom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","nom","formControlName","nom",1,"mt-1","block","w-full","px-3","py-2","bg-gray-100","border","border-gray-300","rounded-md","shadow-sm","cursor-not-allowed"],["for","prenom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","prenom","formControlName","prenom",1,"mt-1","block","w-full","px-3","py-2","bg-gray-100","border","border-gray-300","rounded-md","shadow-sm","cursor-not-allowed"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","email","formControlName","email",1,"mt-1","block","w-full","px-3","py-2","bg-gray-100","border","border-gray-300","rounded-md","shadow-sm","cursor-not-allowed"],["for","permis",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","permis","formControlName","permis",1,"mt-1","block","w-full","px-3","py-2","bg-gray-100","border","border-gray-300","rounded-md","shadow-sm","cursor-not-allowed"],[1,"mt-4"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],["type","password","id","password","formControlName","password",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-blue-500","focus:border-blue-500"],[1,"flex","justify-end"],["type","submit",1,"inline-flex","justify-center","py-2","px-4","border","border-transparent","shadow-sm","text-sm","font-medium","rounded-md","text-white","bg-blue-600","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","disabled:bg-gray-400",3,"disabled"],[1,"p-4","mb-4","text-sm","rounded-lg",3,"ngClass"]],template:function(a,u){1&a&&(e.j41(0,"div",0)(1,"h1",1),e.EFF(2,"Cr\xe9ation de votre compte"),e.k0s(),e.j41(3,"p",2),e.EFF(4," Pour finaliser votre demande de devis et acc\xe9der \xe0 votre espace personnel, veuillez cr\xe9er un compte. Vos informations personnelles ont \xe9t\xe9 pr\xe9-remplies pour vous faciliter la t\xe2che. "),e.k0s(),e.DNE(5,B,2,5,"div",3),e.j41(6,"form",4),e.bIt("ngSubmit",function(){return u.onSubmit()}),e.j41(7,"fieldset",5)(8,"legend",6),e.EFF(9,"Informations personnelles"),e.k0s(),e.j41(10,"div",7)(11,"div")(12,"label",8),e.EFF(13,"Nom"),e.k0s(),e.nrm(14,"input",9),e.k0s(),e.j41(15,"div")(16,"label",10),e.EFF(17,"Pr\xe9nom"),e.k0s(),e.nrm(18,"input",11),e.k0s(),e.j41(19,"div")(20,"label",12),e.EFF(21,"Adresse e-mail"),e.k0s(),e.nrm(22,"input",13),e.k0s(),e.j41(23,"div")(24,"label",14),e.EFF(25,"Num\xe9ro de permis"),e.k0s(),e.nrm(26,"input",15),e.k0s()()(),e.j41(27,"fieldset",5)(28,"legend",6),e.EFF(29,"S\xe9curit\xe9 du compte"),e.k0s(),e.j41(30,"div",16)(31,"label",17),e.EFF(32,"Choisissez un mot de passe"),e.k0s(),e.nrm(33,"input",18),e.k0s()(),e.j41(34,"div",19)(35,"button",20),e.EFF(36," Cr\xe9er mon compte et voir mon devis "),e.k0s()()()()),2&a&&(e.R7$(5),e.Y8G("ngIf",u.submissionStatus),e.R7$(),e.Y8G("formGroup",u.accountForm),e.R7$(29),e.Y8G("disabled",u.accountForm.invalid))},dependencies:[P.MD,P.YU,P.bT,F.X1,F.qT,F.me,F.BC,F.cb,F.j4,F.JD],encapsulation:2})}return p})();var K=R(9172);const re=()=>[1,2,3,4,5];function Ce(p,S){1&p&&e.nrm(0,"div",8)}function _e(p,S){1&p&&(e.j41(0,"div",6),e.DNE(1,Ce,1,0,"div",7),e.k0s()),2&p&&(e.R7$(),e.Y8G("ngForOf",e.lJ4(1,re)))}function Qe(p,S){if(1&p&&(e.j41(0,"div",9)(1,"p"),e.EFF(2,"\u274c Une erreur est survenue lors du chargement des devis."),e.k0s(),e.j41(3,"small"),e.EFF(4),e.k0s()()),2&p){const s=e.XpG().ngIf;e.R7$(4),e.JRh((null==s.error?null:s.error.message)||s.error)}}function Ge(p,S){1&p&&(e.j41(0,"div",10)(1,"p"),e.EFF(2,"Aucun devis disponible pour le moment."),e.k0s()())}function lt(p,S){if(1&p){const s=e.RV6();e.j41(0,"div",14)(1,"div",15)(2,"div")(3,"h3"),e.EFF(4),e.k0s(),e.j41(5,"span"),e.nI1(6,"lowercase"),e.EFF(7),e.k0s()()(),e.j41(8,"div",16)(9,"p")(10,"strong"),e.EFF(11,"Preneur :"),e.k0s(),e.EFF(12),e.k0s(),e.j41(13,"p")(14,"strong"),e.EFF(15,"Date demande :"),e.k0s(),e.EFF(16),e.nI1(17,"date"),e.k0s()(),e.j41(18,"div",17)(19,"button",18),e.bIt("click",function(){const u=e.eBV(s).$implicit,k=e.XpG(3);return e.Njj(k.viewDetails(u.type,u.id))}),e.EFF(20,"Voir d\xe9tails"),e.k0s()()()}if(2&p){const s=S.$implicit;e.R7$(4),e.SpI("Devis Auto #",s.id,""),e.R7$(),e.ZvI("status status-",e.bMT(6,8,s.statut),""),e.R7$(2),e.SpI(" ",s.statut," "),e.R7$(5),e.Lme(" ",s.prenom," ",s.nom,""),e.R7$(4),e.SpI(" ",e.i5U(17,10,s.dateDemande,"dd/MM/yyyy \xe0 HH:mm"),"")}}function st(p,S){if(1&p&&(e.j41(0,"div",11)(1,"h2",12),e.EFF(2,"\u{1f4c1} Derniers devis automobile"),e.k0s(),e.DNE(3,lt,21,13,"div",13),e.k0s()),2&p){const s=e.XpG().ngIf;e.R7$(3),e.Y8G("ngForOf",s.data)}}function wt(p,S){if(1&p&&(e.qex(0),e.DNE(1,_e,2,2,"div",2)(2,Qe,5,1,"div",3)(3,Ge,3,0,"div",4)(4,st,4,1,"div",5),e.bVm()),2&p){const s=S.ngIf;e.R7$(),e.Y8G("ngIf",s.loading),e.R7$(),e.Y8G("ngIf",s.error),e.R7$(),e.Y8G("ngIf",!(s.loading||s.error||s.data&&0!==s.data.length)),e.R7$(),e.Y8G("ngIf",s.data&&s.data.length>0)}}let Yt=(()=>{class p{router=(0,e.WQX)(de.Ix);platformId=(0,e.WQX)(e.Agw);dbConnectService=(0,e.WQX)(jt.y);quotes$=(0,Z.of)({data:null,loading:!0,error:null});ngOnInit(){if((0,P.UE)(this.platformId)){const k=this.dbConnectService.getAllAutoQuotes("",1,10);this.quotes$=this.fetchData(k).pipe((0,K.Z)({data:null,loading:!0,error:null}))}else this.quotes$=(0,Z.of)({data:[],loading:!1,error:null})}fetchData(s){return s.pipe((0,fe.T)(a=>(console.log("[DashboardComponent] fetchData rawData:",a.data),{data:a.data.map(u=>({id:u.id,nom:u.preneur?.nom??"N/A",prenom:u.preneur?.prenom??"",dateDemande:u.created_at,statut:u.statut||"Nouveau",type:"automobile"})),loading:!1,error:null})),(0,te.W)(a=>(console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es pour le dashboard:",a),(0,Z.of)({data:null,loading:!1,error:a}))))}viewDetails(s,a){s&&this.router.navigate([`/intranet/gestion-${s}`,a])}static \u0275fac=function(a){return new(a||p)};static \u0275cmp=e.VBU({type:p,selectors:[["app-dashboard"]],standalone:!0,features:[e.aNF],decls:3,vars:3,consts:[[1,"dashboard-container"],[4,"ngIf"],["class","loading-section",4,"ngIf"],["class","error-box",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","quotes-list",4,"ngIf"],[1,"loading-section"],["class","skeleton-card",4,"ngFor","ngForOf"],[1,"skeleton-card"],[1,"error-box"],[1,"empty-state"],[1,"quotes-list"],[1,"section-title"],["class","quote-card",4,"ngFor","ngForOf"],[1,"quote-card"],[1,"card-header"],[1,"card-body"],[1,"card-footer"],[3,"click"]],template:function(a,u){1&a&&(e.j41(0,"div",0),e.DNE(1,wt,5,4,"ng-container",1),e.nI1(2,"async"),e.k0s()),2&a&&(e.R7$(),e.Y8G("ngIf",e.bMT(2,1,u.quotes$)))},dependencies:[P.MD,P.Sq,P.bT,P.Jj,P.GH,P.vh],styles:[".dashboard-container[_ngcontent-%COMP%]{padding:20px;max-width:900px;margin:auto;font-family:Arial,sans-serif}.section-title[_ngcontent-%COMP%]{margin-bottom:20px;font-size:22px;font-weight:700}.contracts-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.contract-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:10px;padding:15px;background:#fafafa;box-shadow:0 2px 4px #0000000d}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px}.status[_ngcontent-%COMP%]{padding:4px 8px;border-radius:6px;font-size:12px;margin-left:10px;color:#fff}.status.actif[_ngcontent-%COMP%]{background:#2ecc71}.status.expire[_ngcontent-%COMP%]{background:#e67e22}.status.annule[_ngcontent-%COMP%]{background:#e74c3c}.card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0}.card-footer[_ngcontent-%COMP%]{margin-top:10px}button[_ngcontent-%COMP%]{background:#3498db;border:none;padding:8px 14px;border-radius:6px;color:#fff;cursor:pointer}button[_ngcontent-%COMP%]:hover{background:#2980b9}.error-box[_ngcontent-%COMP%]{border:1px solid #e74c3c;background:#fdecea;padding:15px;border-radius:8px;color:#c0392b;margin-bottom:20px}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:30px;color:#666}.skeleton-card[_ngcontent-%COMP%]{height:90px;border-radius:8px;background:linear-gradient(90deg,#e0e0e0,#f5f5f5,#e0e0e0);background-size:200%;animation:_ngcontent-%COMP%_loading 1.2s infinite;margin-bottom:10px}@keyframes _ngcontent-%COMP%_loading{0%{background-position:200% 0}to{background-position:-200% 0}}"]})}return p})(),Qt=(()=>{class p{dbConnectService;constructor(s){this.dbConnectService=s}getAutoRequests(s,a,u){return this.dbConnectService.getAllAutoQuotes(s,a,u).pipe((0,fe.T)(k=>(console.log("[AutoManagementService] Donn\xe9es brutes re\xe7ues:",k.data),{data:k.data.map(J=>this.transformToAutoRequest(J)),count:k.count})),(0,te.W)(k=>(console.error("[AutoManagementService] Erreur lors de la r\xe9cup\xe9ration des demandes auto:",k),(0,Z.of)({data:[],count:0}))))}transformToAutoRequest(s){return{id:s.id,nom:s.preneur?.nom??"N/A",prenom:s.preneur?.prenom??"",dateDemande:s.created_at,statut:this.normalizeStatus(s.statut)}}normalizeStatus(s){return s&&["Nouveau","En cours","Trait\xe9"].includes(s)?s:"Nouveau"}static \u0275fac=function(a){return new(a||p)(e.KVO(jt.y))};static \u0275prov=e.jDH({token:p,factory:p.\u0275fac})}return p})();const Ct=(p,S,s)=>({"bg-blue-100 text-blue-800":p,"bg-yellow-100 text-yellow-800":S,"bg-green-100 text-green-800":s});function Ft(p,S){if(1&p){const s=e.RV6();e.j41(0,"tr",20)(1,"td",21),e.EFF(2),e.k0s(),e.j41(3,"td",22),e.EFF(4),e.k0s(),e.j41(5,"td",22),e.EFF(6),e.nI1(7,"date"),e.k0s(),e.j41(8,"td",23)(9,"span",24),e.EFF(10),e.k0s()(),e.j41(11,"td",25)(12,"button",26),e.bIt("click",function(){const u=e.eBV(s).$implicit,k=e.XpG();return e.Njj(k.viewDetails(u.id))}),e.EFF(13,"Voir / Modifier"),e.k0s()()()}if(2&p){const s=S.$implicit;e.R7$(2),e.JRh(s.id),e.R7$(2),e.Lme("",s.prenom," ",s.nom,""),e.R7$(2),e.JRh(e.i5U(7,6,s.dateDemande,"dd/MM/yyyy")),e.R7$(3),e.Y8G("ngClass",e.sMw(9,Ct,"Nouveau"===s.statut,"En cours"===s.statut,"Trait\xe9"===s.statut)),e.R7$(),e.SpI(" ",s.statut," ")}}let xn=(()=>{class p{router;autoManagementService;paginatedRequests=[];currentPage=1;itemsPerPage=10;totalPages=1;totalItems=0;searchTerm="";constructor(s,a){this.router=s,this.autoManagementService=a}ngOnInit(){this.loadRequests()}loadRequests(){this.autoManagementService.getAutoRequests(this.searchTerm,this.currentPage,this.itemsPerPage).subscribe(s=>{this.paginatedRequests=s.data,this.totalItems=s.count||0,this.totalPages=s.count?Math.ceil(s.count/this.itemsPerPage):1})}setPage(s){s<1||s>this.totalPages||s===this.currentPage||(this.currentPage=s,this.loadRequests())}get pages(){return Array.from({length:this.totalPages},(s,a)=>a+1)}viewDetails(s){this.router.navigate(["/assurance_auto",s])}static \u0275fac=function(a){return new(a||p)(e.rXU(de.Ix),e.rXU(Qt))};static \u0275cmp=e.VBU({type:p,selectors:[["app-auto-management"]],standalone:!0,features:[e.aNF],decls:42,vars:6,consts:[[1,"p-4","sm:p-8","bg-gray-50","min-h-screen"],[1,"flex","justify-between","items-center","mb-8"],[1,"text-2xl","sm:text-3xl","font-bold","text-gray-900"],["routerLink","/intranet/dashboard",1,"text-sm","font-semibold","text-indigo-600","hover:text-indigo-800"],[1,"bg-white","shadow-sm","rounded-lg","overflow-hidden"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],["scope","col",1,"relative","px-6","py-3"],[1,"sr-only"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-gray-50",4,"ngFor","ngForOf"],["aria-label","Pagination",1,"bg-white","px-4","py-3","flex","items-center","justify-between","border-t","border-gray-200","sm:px-6"],[1,"hidden","sm:block"],[1,"text-sm","text-gray-700"],[1,"font-medium"],[1,"flex-1","flex","justify-between","sm:justify-end"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","text-sm","font-medium","rounded-md","text-gray-700","bg-white","hover:bg-gray-50","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"ml-3","relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","text-sm","font-medium","rounded-md","text-gray-700","bg-white","hover:bg-gray-50","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"hover:bg-gray-50"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-500"],[1,"px-6","py-4","whitespace-nowrap","text-sm"],[1,"px-2","inline-flex","text-xs","leading-5","font-semibold","rounded-full",3,"ngClass"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium"],[1,"text-indigo-600","hover:text-indigo-900",3,"click"]],template:function(a,u){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"h1",2),e.EFF(3,"Gestion des Assurances Auto"),e.k0s(),e.j41(4,"a",3),e.EFF(5,"\u2190 Retour au tableau de bord"),e.k0s()(),e.j41(6,"div",4)(7,"div",5)(8,"table",6)(9,"thead",7)(10,"tr")(11,"th",8),e.EFF(12,"ID"),e.k0s(),e.j41(13,"th",8),e.EFF(14,"Nom Complet"),e.k0s(),e.j41(15,"th",8),e.EFF(16,"Date de la demande"),e.k0s(),e.j41(17,"th",8),e.EFF(18,"Statut"),e.k0s(),e.j41(19,"th",9)(20,"span",10),e.EFF(21,"Actions"),e.k0s()()()(),e.j41(22,"tbody",11),e.DNE(23,Ft,14,13,"tr",12),e.k0s()()(),e.j41(24,"nav",13)(25,"div",14)(26,"p",15),e.EFF(27," Affichage de "),e.j41(28,"span",16),e.EFF(29),e.k0s(),e.EFF(30," \xe0 "),e.j41(31,"span",16),e.EFF(32),e.k0s(),e.EFF(33," sur "),e.j41(34,"span",16),e.EFF(35),e.k0s(),e.EFF(36," r\xe9sultats "),e.k0s()(),e.j41(37,"div",17)(38,"button",18),e.bIt("click",function(){return u.setPage(u.currentPage-1)}),e.EFF(39," Pr\xe9c\xe9dent "),e.k0s(),e.j41(40,"button",19),e.bIt("click",function(){return u.setPage(u.currentPage+1)}),e.EFF(41," Suivant "),e.k0s()()()()()),2&a&&(e.R7$(23),e.Y8G("ngForOf",u.paginatedRequests),e.R7$(6),e.JRh(u.paginatedRequests.length>0?(u.currentPage-1)*u.itemsPerPage+1:0),e.R7$(3),e.JRh((u.currentPage-1)*u.itemsPerPage+u.paginatedRequests.length),e.R7$(3),e.JRh(u.totalItems),e.R7$(3),e.Y8G("disabled",1===u.currentPage),e.R7$(2),e.Y8G("disabled",u.currentPage===u.totalPages))},dependencies:[P.MD,P.YU,P.Sq,P.vh,de.Wk,F.YN],encapsulation:2})}return p})();function ti(p){if(!p)return"";let S=String(p).replace(/\D/g,"");S.startsWith("32")&&(S=S.substring(2)),S.startsWith("0")&&(S=S.substring(1));const s=S.substring(0,9);if(0===s.length)return"";let a="+32";return a+=" ",s.length>0&&(a+=s.substring(0,3)),s.length>3&&(a+=" ",a+=s.substring(3,5)),s.length>5&&(a+=" ",a+=s.substring(5,7)),s.length>7&&(a+=" ",a+=s.substring(7,9)),a}let fn=(()=>{class p{el;ngControl;constructor(s,a){this.el=s,this.ngControl=a}onInput(s){const a=s.target,k=ti(a.value);a.value!==k&&(a.value=k,this.ngControl.control?.setValue(k,{emitEvent:!1}))}onBlur(){const s=this.el.nativeElement,a=ti(s.value);"+32"===a||""===a?(s.value="",this.ngControl.control?.setValue("",{emitEvent:!1})):(s.value=a,this.ngControl.control?.setValue(a,{emitEvent:!1}))}static \u0275fac=function(a){return new(a||p)(e.rXU(e.aKT),e.rXU(F.vO))};static \u0275dir=e.FsC({type:p,selectors:[["","appPhoneNumberMask",""]],hostBindings:function(a,u){1&a&&e.bIt("input",function(J){return u.onInput(J)})("blur",function(){return u.onBlur()})},standalone:!0})}return p})();var dt=R(4572),ni=R(980),ri=R(253),Vs=R(1364);let Ea=(()=>{class p{platformId=(0,e.WQX)(e.Agw);db=(0,e.WQX)(jt.y);constructor(){}getAutoQuotesState(s,a,u){if((0,P.UE)(this.platformId)){const k=this.db.getAllAutoQuotes(s,a,u);return this.fetchAndMapAutoData(k)}return(0,Z.of)({data:{quotes:[],totalItems:0},loading:!1,error:null})}getHabitationQuotesState(s,a,u){if((0,P.UE)(this.platformId)){const k=this.db.getAllHabitationQuotes(s,a,u);return this.fetchAndMapHabitationData(k)}return(0,Z.of)({data:{quotes:[],totalItems:0},loading:!1,error:null})}getObsequesQuotesState(s,a,u){if((0,P.UE)(this.platformId)){const k=this.db.getAllObsequesQuotes(s,a,u);return this.fetchAndMapObsequesData(k)}return(0,Z.of)({data:{quotes:[],totalItems:0},loading:!1,error:null})}getVoyageQuotesState(s,a,u){if((0,P.UE)(this.platformId)){const k=this.db.getAllVoyageQuotes().pipe((0,fe.T)(J=>({data:J,count:J.length})));return this.fetchAndMapVoyageData(k)}return(0,Z.of)({data:{quotes:[],totalItems:0},loading:!1,error:null})}getRcQuotesState(s,a,u){return(0,P.UE)(this.platformId)?this.db.getAllRcQuotes().pipe((0,fe.T)(k=>({data:{quotes:k.map(J=>({preneur_id:J.preneur_id,id:J.id,nom:J.preneur_nom??null,prenom:J.preneur_prenom??null,dateDemande:J.created_at,statut:J.statut||"Nouveau",description:`Risque: ${J.risque}`})),totalItems:k.length},loading:!1,error:null})),(0,K.Z)({data:null,loading:!0,error:null}),(0,te.W)(k=>(console.warn("[ManagementService] Erreur 500 probable dans 'getRcQuotesState'.","Erreur API:",k),(0,Z.of)({data:null,loading:!1,error:k})))):(0,Z.of)({data:{quotes:[],totalItems:0},loading:!1,error:null})}getEmptyState(){return(0,Z.of)({data:{quotes:[],totalItems:0},loading:!1,error:null})}fetchAndMapVoyageData(s){return s.pipe((0,fe.T)(a=>({data:{quotes:a.data.map(u=>({preneur_id:u.preneur_id,id:u.id,nom:u.nom??null,prenom:u.prenom??null,dateDemande:u.date_created,statut:u.statut||"Nouveau",description:u.description||"Aucun message"})),totalItems:a.count??0},loading:!1,error:null})),(0,te.W)(a=>(0,Z.of)({data:null,loading:!1,error:a})),(0,K.Z)({data:null,loading:!0,error:null}))}fetchAndMapHabitationData(s){return s.pipe((0,fe.T)(a=>({data:{quotes:a.data.map(u=>({preneur_id:u.preneur_id,id:u.id,nom:u.preneur?.nom??null,prenom:u.preneur?.prenom??null,uid:u.preneur?.uid??null,dateDemande:u.created_at,statut:u.statut||"Nouveau",description:`${u.batiment_type_maison} - ${u.batiment_adresse}`})),totalItems:a.count??0},loading:!1,error:null})),(0,te.W)(a=>(0,Z.of)({data:null,loading:!1,error:a})),(0,K.Z)({data:null,loading:!0,error:null}))}fetchAndMapAutoData(s){return s.pipe((0,fe.T)(a=>(console.log("[ManagementService] Donn\xe9es brutes re\xe7ues de la DB:",a.data),{data:{quotes:a.data.map(u=>({id:u.id,preneur_id:u.preneur_id,conducteur_id:u.conducteur_id,nom:u.preneur?.nom??null,prenom:u.preneur?.prenom??null,uid:u.preneur?.uid??null,dateDemande:u.created_at,statut:u.statut||"Nouveau",typeVehicule:u.vehicules?.type??"",marqueVehicule:u.vehicules?.marque??"",modeleVehicule:`${u.vehicules?.modele??""} ${u.vehicules?.annee??""}`.trim()})),totalItems:a.count??0},loading:!1,error:null})),(0,te.W)(a=>(console.error("Erreur lors de la r\xe9cup\xe9ration des devis dans ManagementService:",a),(0,Z.of)({data:null,loading:!1,error:a}))),(0,K.Z)({data:null,loading:!0,error:null}))}fetchAndMapObsequesData(s){return s.pipe((0,fe.T)(a=>({data:{quotes:a.data.map(u=>({preneur_id:u.preneur_id,id:u.id,nom:u.preneur?.nom??null,prenom:u.preneur?.prenom??null,uid:u.preneur?.uid??null,dateDemande:u.created_at,statut:u.statut||"Nouveau",description:`Devis pour ${u.nombre_assures} personne(s)`})),totalItems:a.count??0},loading:!1,error:null})),(0,te.W)(a=>(0,Z.of)({data:null,loading:!1,error:a})),(0,K.Z)({data:null,loading:!0,error:null}))}static \u0275fac=function(a){return new(a||p)};static \u0275prov=e.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();const Bo=(p,S,s)=>({"bg-blue-100 text-blue-800":p,"bg-yellow-100 text-yellow-800":S,"bg-green-100 text-green-800":s}),hr=(p,S)=>["/management",p,S],oa=(p,S,s)=>["/management/upload",p,S,s],Ar=(p,S)=>["/messagerie",p,S];function Gr(p,S){if(1&p){const s=e.RV6();e.j41(0,"button",14),e.nI1(1,"async"),e.bIt("click",function(){const u=e.eBV(s).$implicit,k=e.XpG();return e.Njj(k.setActiveTab(u.id))}),e.EFF(2),e.nI1(3,"titlecase"),e.k0s()}if(2&p){const s=S.$implicit,a=e.XpG();e.Y8G("ngClass",e.bMT(1,2,a.activeTab$)===s.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.SpI(" ",e.bMT(3,4,s.label)," ")}}function Ca(p,S){1&p&&(e.j41(0,"div",19)(1,"p",20),e.EFF(2,"Aucun devis trouv\xe9 pour cette cat\xe9gorie ou correspondant \xe0 votre recherche."),e.k0s()())}function fo(p,S){1&p&&(e.qex(0),e.qSk(),e.j41(1,"svg",27),e.nrm(2,"path",37),e.k0s(),e.bVm())}function aa(p,S){1&p&&(e.qSk(),e.j41(0,"svg",50),e.nrm(1,"path",51),e.k0s())}function ls(p,S){if(1&p){const s=e.RV6();e.j41(0,"span",52),e.bIt("click",function(){e.eBV(s);const u=e.XpG().$implicit,k=e.XpG(3);return e.Njj(k.openEditModal(u,u.conducteur_id))}),e.EFF(1," (Conducteur principal) "),e.qSk(),e.j41(2,"svg",53),e.nrm(3,"path",43),e.k0s()()}}function Go(p,S){if(1&p&&(e.qex(0),e.EFF(1),e.nI1(2,"titlecase"),e.nI1(3,"titlecase"),e.nI1(4,"titlecase"),e.bVm()),2&p){const s=e.XpG().$implicit;e.R7$(),e.E5c(" ",e.bMT(2,3,s.typeVehicule)," ",e.bMT(3,5,s.marqueVehicule)," ",e.bMT(4,7,s.modeleVehicule)," ")}}function qa(p,S){if(1&p&&(e.qex(0),e.EFF(1),e.bVm()),2&p){const s=e.XpG().$implicit;e.R7$(),e.SpI(" ",s.description," ")}}function ql(p,S){if(1&p){const s=e.RV6();e.j41(0,"tr",38)(1,"td",39),e.EFF(2),e.k0s(),e.j41(3,"td",40)(4,"div",26)(5,"div",41),e.bIt("click",function(){const u=e.eBV(s).$implicit,k=e.XpG(3);return e.Njj(k.openEditModal(u,u.preneur_id))}),e.qSk(),e.j41(6,"svg",42),e.nrm(7,"path",43),e.k0s(),e.DNE(8,aa,2,0,"svg",44),e.joV(),e.j41(9,"span"),e.EFF(10),e.nI1(11,"titlecase"),e.nI1(12,"titlecase"),e.k0s()(),e.DNE(13,ls,4,0,"span",45),e.k0s()(),e.j41(14,"td",46),e.DNE(15,Go,5,9,"ng-container",12)(16,qa,2,1,"ng-container",12),e.k0s(),e.j41(17,"td",40),e.EFF(18),e.nI1(19,"date"),e.k0s(),e.j41(20,"td",40)(21,"span",47),e.EFF(22),e.k0s()(),e.j41(23,"td",48)(24,"a",49),e.nI1(25,"async"),e.EFF(26,"G\xe9rer"),e.k0s()(),e.j41(27,"td",48)(28,"a",49),e.nI1(29,"async"),e.EFF(30,"G\xe9rer"),e.k0s()(),e.j41(31,"td",48)(32,"a",49),e.nI1(33,"async"),e.EFF(34,"Acc\xe9der"),e.k0s()()()}if(2&p){const s=S.$implicit,a=e.XpG(3);e.R7$(2),e.SpI("#",s.id,""),e.R7$(6),e.Y8G("ngIf",s.uid),e.R7$(2),e.Lme("",e.bMT(11,13,s.prenom||"")," ",e.bMT(12,15,s.nom||""),""),e.R7$(3),e.Y8G("ngIf",a.isAutoQuote(s)&&s.preneur_id!==s.conducteur_id),e.R7$(2),e.Y8G("ngIf",a.isAutoQuote(s)),e.R7$(),e.Y8G("ngIf",a.isDescriptionQuote(s)),e.R7$(2),e.JRh(e.i5U(19,17,s.dateDemande,"dd/MM/yyyy HH:mm")),e.R7$(3),e.Y8G("ngClass",e.sMw(26,Bo,"Nouveau"===s.statut,"En cours"===s.statut||"En attente"===s.statut,"Termin\xe9"===s.statut)),e.R7$(),e.SpI(" ",s.statut||"Nouveau"," "),e.R7$(2),e.Y8G("routerLink",e.l_i(30,hr,e.bMT(25,20,a.activeTab$),s.id)),e.R7$(4),e.Y8G("routerLink",e.sMw(33,oa,e.bMT(29,22,a.activeTab$),s.id,s.preneur_id)),e.R7$(4),e.Y8G("routerLink",e.l_i(37,Ar,e.bMT(33,24,a.activeTab$),s.id))}}function la(p,S){if(1&p&&(e.j41(0,"div",21)(1,"table",22)(2,"thead",23)(3,"tr",24)(4,"th",25),e.EFF(5,"ID"),e.k0s(),e.j41(6,"th",25)(7,"div",26),e.qSk(),e.j41(8,"svg",27),e.nrm(9,"path",28),e.k0s(),e.EFF(10," Preneur "),e.k0s()(),e.joV(),e.j41(11,"th",25)(12,"div",26),e.DNE(13,fo,3,0,"ng-container",12),e.nI1(14,"async"),e.EFF(15),e.nI1(16,"async"),e.nI1(17,"titlecase"),e.k0s()(),e.j41(18,"th",25)(19,"div",26),e.qSk(),e.j41(20,"svg",27),e.nrm(21,"path",29),e.k0s(),e.EFF(22," Date "),e.k0s()(),e.joV(),e.j41(23,"th",25)(24,"div",26),e.qSk(),e.j41(25,"svg",27),e.nrm(26,"path",30)(27,"path",31),e.k0s(),e.EFF(28," Statut "),e.k0s()(),e.joV(),e.j41(29,"th",32)(30,"div",26),e.qSk(),e.j41(31,"svg",27),e.nrm(32,"path",33),e.k0s(),e.EFF(33," Offre "),e.k0s()(),e.joV(),e.j41(34,"th",32)(35,"div",26),e.qSk(),e.j41(36,"svg",27),e.nrm(37,"path",34),e.k0s(),e.EFF(38," Documents "),e.k0s()(),e.joV(),e.j41(39,"th",32)(40,"div",26),e.qSk(),e.j41(41,"svg",27),e.nrm(42,"path",35),e.k0s(),e.EFF(43," Interactions "),e.k0s()()()(),e.joV(),e.j41(44,"tbody"),e.DNE(45,ql,35,40,"tr",36),e.k0s()()()),2&p){const s=e.XpG().ngIf,a=e.XpG();e.R7$(13),e.Y8G("ngIf","auto"===e.bMT(14,3,a.activeTab$)),e.R7$(2),e.SpI(" ",e.bMT(17,7,"auto"===e.bMT(16,5,a.activeTab$)?"V\xe9hicule":"Description")," "),e.R7$(30),e.Y8G("ngForOf",s.state.data.quotes)}}function za(p,S){if(1&p){const s=e.RV6();e.j41(0,"div",54)(1,"span",55),e.EFF(2," Page "),e.j41(3,"span",56),e.EFF(4),e.k0s(),e.EFF(5," sur "),e.j41(6,"span",56),e.EFF(7),e.k0s(),e.EFF(8),e.k0s(),e.j41(9,"div",57)(10,"button",58),e.bIt("click",function(){e.eBV(s);const u=e.XpG().ngIf,k=e.XpG();return e.Njj(k.goToPage(u.pagination.currentPage-1))}),e.EFF(11," Pr\xe9c\xe9dent "),e.k0s(),e.j41(12,"button",59),e.bIt("click",function(){e.eBV(s);const u=e.XpG().ngIf,k=e.XpG();return e.Njj(k.goToPage(u.pagination.currentPage+1))}),e.EFF(13," Suivant "),e.k0s()()()}if(2&p){const s=e.XpG().ngIf;e.R7$(4),e.JRh(s.pagination.currentPage),e.R7$(3),e.JRh(s.pagination.totalPages),e.R7$(),e.SpI(" (",s.pagination.totalItems," r\xe9sultats) "),e.R7$(2),e.Y8G("disabled",1===s.pagination.currentPage),e.R7$(2),e.Y8G("disabled",s.pagination.currentPage===s.pagination.totalPages)}}function ac(p,S){if(1&p&&(e.qex(0),e.j41(1,"app-state-container",15),e.DNE(2,Ca,3,0,"div",16)(3,la,46,9,"div",17)(4,za,14,5,"div",18),e.k0s(),e.bVm()),2&p){const s=S.ngIf;e.R7$(),e.Y8G("state",s.state),e.R7$(),e.Y8G("ngIf",!s.state.data||0===s.state.data.quotes.length),e.R7$(),e.Y8G("ngIf",s.state.data&&s.state.data.quotes.length>0),e.R7$(),e.Y8G("ngIf",s.pagination&&s.pagination.totalPages>1)}}function Wa(p,S){1&p&&(e.j41(0,"div",106),e.EFF(1," Le format du num\xe9ro national est invalide. "),e.k0s())}function af(p,S){1&p&&(e.j41(0,"div",106),e.EFF(1," La date de naissance ne correspond pas au num\xe9ro national. "),e.k0s())}function lf(p,S){if(1&p&&(e.j41(0,"option",107),e.EFF(1),e.k0s()),2&p){const s=S.$implicit;e.Y8G("value",s),e.R7$(),e.SpI(" ",s," ")}}function uf(p,S){1&p&&(e.j41(0,"div",108),e.qSk(),e.j41(1,"svg",109),e.nrm(2,"circle",110)(3,"path",111),e.k0s()())}function cf(p,S){if(1&p&&(e.j41(0,"option",107),e.EFF(1),e.k0s()),2&p){const s=S.$implicit;e.Y8G("value",s.id),e.R7$(),e.SpI(" ",s.nationality," ")}}function v(p,S){if(1&p&&(e.qex(0),e.DNE(1,cf,2,2,"option",95),e.bVm()),2&p){const s=S.ngIf;e.R7$(),e.Y8G("ngForOf",s)}}function C(p,S){1&p&&(e.j41(0,"div",108),e.qSk(),e.j41(1,"svg",109),e.nrm(2,"circle",110)(3,"path",111),e.k0s()())}function y(p,S){1&p&&(e.qex(0),e.j41(1,"div",82)(2,"div",71)(3,"label",112),e.EFF(4,"Num\xe9ro de permis"),e.k0s(),e.nrm(5,"input",113),e.k0s(),e.j41(6,"div",71)(7,"label",114),e.EFF(8,"Date d'obtention permis"),e.k0s(),e.nrm(9,"input",115),e.k0s()(),e.bVm())}function D(p,S){if(1&p){const s=e.RV6();e.j41(0,"div",60)(1,"div",61)(2,"button",62),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.closeEditModal())}),e.j41(3,"span",63),e.EFF(4,"Fermer"),e.k0s(),e.qSk(),e.j41(5,"svg",64),e.nrm(6,"path",65),e.k0s()(),e.joV(),e.j41(7,"div",66)(8,"h3",67),e.EFF(9),e.k0s(),e.j41(10,"div",68)(11,"form",69),e.bIt("ngSubmit",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.savePreneurChanges())}),e.j41(12,"div",70)(13,"div",71)(14,"label",72),e.EFF(15,"Pr\xe9nom"),e.k0s(),e.nrm(16,"input",73),e.k0s(),e.j41(17,"div",71)(18,"label",74),e.EFF(19,"Nom"),e.k0s(),e.nrm(20,"input",75),e.k0s()(),e.j41(21,"div",76)(22,"label",77),e.EFF(23,"Num\xe9ro National"),e.k0s(),e.nrm(24,"input",78),e.DNE(25,Wa,2,0,"div",79),e.k0s(),e.j41(26,"div",76)(27,"label",80),e.EFF(28,"Email"),e.k0s(),e.nrm(29,"input",81),e.k0s(),e.j41(30,"div",82)(31,"div",71)(32,"label",83),e.EFF(33,"T\xe9l\xe9phone"),e.k0s(),e.nrm(34,"input",84),e.k0s(),e.j41(35,"div",71)(36,"label",85),e.EFF(37,"Date de naissance"),e.k0s(),e.nrm(38,"input",86),e.DNE(39,af,2,0,"div",79),e.k0s()(),e.j41(40,"div",76)(41,"label",87),e.EFF(42,"Adresse"),e.k0s(),e.nrm(43,"input",88),e.k0s(),e.j41(44,"div",82)(45,"div",71)(46,"label",89),e.EFF(47,"Code Postal"),e.k0s(),e.nrm(48,"input",90),e.k0s(),e.j41(49,"div",71)(50,"label",91),e.EFF(51,"Ville"),e.k0s(),e.j41(52,"div",92)(53,"select",93),e.nI1(54,"async"),e.nI1(55,"async"),e.j41(56,"option",94),e.EFF(57),e.nI1(58,"async"),e.k0s(),e.DNE(59,lf,2,2,"option",95),e.nI1(60,"async"),e.k0s(),e.DNE(61,uf,4,0,"div",96),e.nI1(62,"async"),e.k0s()()(),e.j41(63,"div",76)(64,"label",97),e.EFF(65,"Nationalit\xe9"),e.k0s(),e.j41(66,"div",92)(67,"select",98),e.nI1(68,"async"),e.j41(69,"option",94),e.EFF(70),e.nI1(71,"async"),e.k0s(),e.DNE(72,v,2,1,"ng-container",12),e.nI1(73,"async"),e.k0s(),e.DNE(74,C,4,0,"div",96),e.nI1(75,"async"),e.k0s()(),e.j41(76,"div",82)(77,"div",71)(78,"label",99),e.EFF(79,"N\xb0 carte d'identit\xe9"),e.k0s(),e.nrm(80,"input",100),e.k0s(),e.j41(81,"div",71)(82,"label",101),e.EFF(83,"Date de validit\xe9"),e.k0s(),e.nrm(84,"input",102),e.k0s()(),e.DNE(85,y,10,0,"ng-container",12),e.nI1(86,"async"),e.j41(87,"div",103)(88,"button",104),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.closeEditModal())}),e.EFF(89," Annuler "),e.k0s(),e.j41(90,"button",105),e.EFF(91," Enregistrer "),e.k0s()()()()()()()}if(2&p){let s,a,u;const k=e.XpG();e.R7$(9),e.JRh(k.editModalTitle),e.R7$(2),e.Y8G("formGroup",k.preneurForm),e.R7$(14),e.Y8G("ngIf",(null==(s=k.preneurForm.get("numero_national"))?null:s.hasError("belgianNationalNumber"))&&(null==(s=k.preneurForm.get("numero_national"))?null:s.touched)),e.R7$(14),e.Y8G("ngIf",(null==(a=k.preneurForm.get("date_naissance"))?null:a.hasError("birthDateMismatch"))&&(null==(a=k.preneurForm.get("date_naissance"))?null:a.touched)),e.R7$(14),e.Y8G("disabled",0===(null==(u=e.bMT(54,14,k.citiesForPostalCode$))?null:u.length)||!0===e.bMT(55,16,k.isCitiesLoading$)),e.R7$(4),e.SpI(" ",e.bMT(58,18,k.isCitiesLoading$)?"Chargement...":"S\xe9lectionnez une ville"," "),e.R7$(2),e.Y8G("ngForOf",e.bMT(60,20,k.citiesForPostalCode$)),e.R7$(2),e.Y8G("ngIf",e.bMT(62,22,k.isCitiesLoading$)),e.R7$(6),e.Y8G("disabled",!0===e.bMT(68,24,k.isNationalitiesLoading$)),e.R7$(3),e.SpI(" ",e.bMT(71,26,k.isNationalitiesLoading$)?"Chargement...":"S\xe9lectionnez une nationalit\xe9"," "),e.R7$(2),e.Y8G("ngIf",e.bMT(73,28,k.nationalities$)),e.R7$(2),e.Y8G("ngIf",e.bMT(75,30,k.isNationalitiesLoading$)),e.R7$(11),e.Y8G("ngIf","auto"===e.bMT(86,32,k.activeTab$)),e.R7$(5),e.Y8G("disabled",k.preneurForm.invalid)}}let ie=(()=>{class p{managementService;router;dbConnectService;fb;platformId;constructor(s,a,u,k,J){this.managementService=s,this.router=a,this.dbConnectService=u,this.fb=k,this.platformId=J}searchControl=new F.MJ("");tabs=[{id:"auto",label:"Automobile"},{id:"habitation",label:"Habitation"},{id:"obseques",label:"Obs\xe8ques"},{id:"rc",label:"RC Familiale"},{id:"voyage",label:"Voyage"}];activeTab$=new un.t("auto");itemsPerPage=20;currentPage$=new un.t(1);vm$;destroy$=new he.B;isEditModalOpen=!1;editModalTitle="";selectedQuoteForEdit=null;preneurForm;citiesForPostalCode$=(0,Z.of)([]);nationalities$=(0,Z.of)([]);isCitiesLoading$=new un.t(!1);isNationalitiesLoading$=new un.t(!1);ngOnInit(){if(this.initPreneurForm(),this.isNationalitiesLoading$.next(!0),this.nationalities$=this.dbConnectService.getNationalities().pipe((0,ni.j)(()=>this.isNationalitiesLoading$.next(!1)),(0,ri.t)(1)),(0,P.UE)(this.platformId)){this.setupPostalCodeListener();const s=this.searchControl.valueChanges.pipe((0,K.Z)(""),Ye(300),Je(),(0,ve.M)(()=>this.currentPage$.next(1)));this.vm$=(0,dt.z)([this.activeTab$,s,this.currentPage$]).pipe((0,Re.n)(([a,u,k])=>{let J;switch(console.log(`[ManagementComponent] Fetching data for tab: '${a}', search: '${u}', page: ${k}`),a){case"auto":J=this.managementService.getAutoQuotesState(u||"",k,this.itemsPerPage);break;case"habitation":J=this.managementService.getHabitationQuotesState(u||"",k,this.itemsPerPage);break;case"obseques":J=this.managementService.getObsequesQuotesState(u||"",k,this.itemsPerPage);break;case"rc":J=this.managementService.getRcQuotesState(u||"",k,this.itemsPerPage);break;case"voyage":J=this.managementService.getVoyageQuotesState(u||"",k,this.itemsPerPage);break;default:J=(0,Z.of)({data:{quotes:[],totalItems:0},loading:!1,error:null})}return J.pipe((0,fe.T)(xe=>{if(xe.loading||xe.error||!xe.data)return{state:xe,pagination:null};const Dt=xe.data.totalItems,kt=Math.ceil(Dt/this.itemsPerPage);return{state:xe,pagination:{currentPage:k,totalPages:kt,totalItems:Dt}}}))}),(0,pt.Q)(this.destroy$))}else this.vm$=(0,Z.of)({state:{data:{quotes:[],totalItems:0},loading:!0,error:null},pagination:null})}initPreneurForm(){this.preneurForm=this.fb.group({id:[null],prenom:["",F.k0.required],nom:["",F.k0.required],email:["",[F.k0.required,F.k0.email]],telephone:[""],date_naissance:[""],adresse:[""],code_postal:[""],ville:[""],nationality:[""],idcard_number:[""],idcard_validity:[""],numero_national:["",p=>{const S=p.value;if(!S)return null;const s=String(S).replace(/\D/g,"");if(11!==s.length)return{belgianNationalNumber:{invalidLength:!0}};const a=s.substring(0,9),u=parseInt(s.substring(9,11),10),k=97-parseInt(a,10)%97,J=97-parseInt("2"+a,10)%97;return u===k||u===J?null:{belgianNationalNumber:{invalidChecksum:!0}}}],permis_numero:[""],permis_date:[""]},{validators:p=>{if(!(p instanceof F.gE))return null;const S=p.get("numero_national"),s=p.get("date_naissance");if(!S||!s||!S.value||!s.value||S.errors)return null;const a=String(S.value).replace(/\D/g,""),u=s.value;if(11!==a.length)return null;const k=a.substring(0,9);return`${(parseInt(a.substring(9,11),10)===97-parseInt("2"+k,10)%97?"20":"19")+a.substring(0,2)}-${a.substring(2,4)}-${a.substring(4,6)}`!==u&&s.setErrors({...s.errors,birthDateMismatch:!0}),null}})}setupPostalCodeListener(){const s=this.preneurForm.get("code_postal");s&&(this.citiesForPostalCode$=s.valueChanges.pipe((0,K.Z)(s.value),Ye(300),Je(),(0,Re.n)(a=>a&&/^\d{4}$/.test(a)?(this.isCitiesLoading$.next(!0),this.dbConnectService.getCitiesByPostalCode(a).pipe((0,ve.M)(u=>{1===u.length&&this.preneurForm.get("ville")?.setValue(u[0]),this.isCitiesLoading$.next(!1)}))):(0,Z.of)([])),(0,ri.t)(1)))}goToPage(s){this.currentPage$.next(s)}setActiveTab(s){console.log(`[ManagementComponent] Setting active tab to: '${s}'`),this.activeTab$.next(s)}viewDetails(s){const a=this.activeTab$.value;console.log(`[ManagementComponent] Navigating to details for ID: ${s} with type: '${a}' using new route.`),this.router.navigate(["/assurance-details",a,s])}openEditModal(s,a){this.editModalTitle=this.isAutoQuote(s)&&s.preneur_id!==s.conducteur_id&&a===s.conducteur_id?"Modifier le Conducteur Principal":"Modifier le Preneur",this.dbConnectService.getPersonById(a).subscribe({next:u=>{if(u){const k=J=>{if(!J)return null;try{return new Date(J).toISOString().split("T")[0]}catch{return null}};this.preneurForm.patchValue({id:u.id,prenom:u.prenom,nom:u.nom,email:u.email,telephone:u.telephone,date_naissance:k(u.date_naissance),adresse:u.adresse,code_postal:u.code_postal,ville:u.ville,nationality:u.nationality,idcard_number:u.idcard_number,idcard_validity:k(u.idcard_validity),numero_national:u.numero_national,permis_numero:u.permis_numero,permis_date:k(u.permis_date)}),this.isEditModalOpen=!0}else console.error(`Impossible de trouver les informations pour la personne avec l'ID ${a}`)},error:u=>{console.error(`Erreur lors de la r\xe9cup\xe9ration de la personne avec l'ID ${a}`,u)}})}closeEditModal(){this.isEditModalOpen=!1,this.preneurForm.reset()}savePreneurChanges(){if(this.preneurForm.invalid)return this.preneurForm.markAllAsTouched(),void console.warn("Formulaire invalide. Impossible de sauvegarder.");const s=this.preneurForm.value,a=s.id;a?(console.log(`Sauvegarde des donn\xe9es pour le preneur ID: ${a}`,s),this.dbConnectService.updatePerson(a,s).subscribe({next:u=>{console.log("Preneur mis \xe0 jour avec succ\xe8s:",u.data),this.refreshCurrentView(),this.closeEditModal()},error:u=>{console.error("Erreur lors de la mise \xe0 jour du preneur:",u)}})):console.warn("savePreneurChanges a \xe9t\xe9 appel\xe9 sans ID de preneur dans le formulaire.")}isAutoQuote(s){return"typeVehicule"in s}isDescriptionQuote(s){return"description"in s}refreshCurrentView(){this.currentPage$.next(this.currentPage$.value)}static \u0275fac=function(a){return new(a||p)(e.rXU(Ea),e.rXU(de.Ix),e.rXU(jt.y),e.rXU(F.ok),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:p,selectors:[["app-management"]],standalone:!0,features:[e.aNF],decls:22,vars:8,consts:[[1,"container","mx-auto","p-4","sm:p-6","lg:p-8"],[1,"text-2xl","sm:text-3xl","font-bold","text-gray-800","mb-6"],[1,"border-b","border-gray-200","mb-6","no-print"],["aria-label","Tabs",1,"-mb-px","flex","space-x-6","overflow-x-auto"],["class","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"flex","flex-wrap","justify-between","items-center","gap-4","mb-6","no-print"],["type","text","placeholder","Rechercher par nom, ID, description...",1,"w-full","max-w-md","mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"formControl"],[1,"flex","items-center","space-x-2"],["routerLink","/utilities/paiements",1,"px-3","py-2","text-sm","font-medium","text-white","bg-orange-500","rounded-md","shadow-sm","hover:bg-orange-600"],["routerLink","/utilities/statistiques",1,"px-3","py-2","text-sm","font-medium","text-white","bg-green-500","rounded-md","shadow-sm","hover:bg-green-600"],["routerLink","/utilities/prospects",1,"px-3","py-2","text-sm","font-medium","text-white","bg-blue-500","rounded-md","shadow-sm","hover:bg-blue-600"],["routerLink","/utilities/parametres",1,"px-3","py-2","text-sm","font-medium","text-white","bg-gray-800","rounded-md","shadow-sm","hover:bg-gray-900"],[4,"ngIf"],["class","fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center",4,"ngIf"],[1,"whitespace-nowrap","py-4","px-1","border-b-2","font-medium","text-sm",3,"click","ngClass"],["loadingMessage","Chargement des devis...","errorMessage","Une erreur est survenue lors du chargement des devis.",3,"state"],["class","text-center py-10 px-4 bg-gray-50 rounded-lg",4,"ngIf"],["class","shadow-md rounded-lg overflow-x-auto",4,"ngIf"],["class","flex items-center justify-between mt-6 no-print",4,"ngIf"],[1,"text-center","py-10","px-4","bg-gray-50","rounded-lg"],[1,"text-gray-500"],[1,"shadow-md","rounded-lg","overflow-x-auto"],[1,"w-full","text-sm","text-left","text-gray-600"],[1,"text-xs","text-gray-700","uppercase","bg-gray-100"],[1,"border-b"],["scope","col",1,"px-6","py-3"],[1,"flex","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-4","h-4","mr-1.5"],["stroke-linecap","round","stroke-linejoin","round","d","M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m-7.5-2.963A3.686 3.686 0 0110.5 9.59a3.686 3.686 0 013.686 3.686zM12 6.591A2.25 2.25 0 0114.25 8.84a2.25 2.25 0 01-4.5 0A2.25 2.25 0 0112 6.591zM12 21a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72M6.318 18.72a9.094 9.094 0 013.741-.479 3 3 0 01-4.682-2.72m-7.5-2.963A3.686 3.686 0 013.5 9.59a3.686 3.686 0 013.686 3.686zM3 6.591A2.25 2.25 0 015.25 8.84a2.25 2.25 0 01-4.5 0A2.25 2.25 0 013 6.591z"],["stroke-linecap","round","stroke-linejoin","round","d","M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke-linecap","round","stroke-linejoin","round","d","M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z"],["stroke-linecap","round","stroke-linejoin","round","d","M6 6h.008v.008H6V6z"],["scope","col",1,"px-6","py-3","no-print"],["stroke-linecap","round","stroke-linejoin","round","d","M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"],["stroke-linecap","round","stroke-linejoin","round","d","M2.25 12.75V12A2.25 2.25 0 014.5 9.75h15A2.25 2.25 0 0121.75 12v.75m-8.69-6.44l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z"],["stroke-linecap","round","stroke-linejoin","round","d","M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"],["class","bg-white border-b hover:bg-gray-50 transition-colors duration-200",4,"ngFor","ngForOf"],["stroke-linecap","round","stroke-linejoin","round","d","M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h1.125c.621 0 1.125-.504 1.125-1.125V14.25m-17.25 4.5h12.75m0 0v-4.125c0-.621-.504-1.125-1.125-1.125H11.25c-.621 0-1.125.504-1.125 1.125v4.125m0 0a2.25 2.25 0 100 4.5 2.25 2.25 0 000-4.5zm-10.875 0a2.25 2.25 0 100 4.5 2.25 2.25 0 000-4.5z"],[1,"bg-white","border-b","hover:bg-gray-50","transition-colors","duration-200"],[1,"px-6","py-4","font-semibold","text-gray-900","whitespace-nowrap"],[1,"px-6","py-4"],[1,"flex","items-center","cursor-pointer","group",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-4","h-4","mr-2","text-gray-400","group-hover:text-gray-600"],["stroke-linecap","round","stroke-linejoin","round","d","M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"],["class","w-4 h-4 mr-2 text-blue-500","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",4,"ngIf"],["class","ml-2 text-xs text-gray-500 font-normal flex items-center cursor-pointer group",3,"click",4,"ngIf"],[1,"px-6","py-4","truncate","max-w-xs"],[1,"px-2.5","py-0.5","rounded-full","text-xs","font-medium",3,"ngClass"],[1,"px-6","py-4","no-print"],[1,"text-blue-600","hover:text-blue-800","font-medium",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"w-4","h-4","mr-2","text-blue-500"],["fill-rule","evenodd","d","M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-5.5-2.5a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0zM10 12a5.99 5.99 0 00-4.793 2.39A6.483 6.483 0 0010 16.5a6.483 6.483 0 004.793-2.11A5.99 5.99 0 0010 12z","clip-rule","evenodd"],[1,"ml-2","text-xs","text-gray-500","font-normal","flex","items-center","cursor-pointer","group",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-3","h-3","ml-1","text-gray-400","group-hover:text-gray-600"],[1,"flex","items-center","justify-between","mt-6","no-print"],[1,"text-sm","text-gray-700"],[1,"font-semibold"],[1,"inline-flex","-space-x-px"],[1,"px-3","py-2","ml-0","leading-tight","text-gray-500","bg-white","border","border-gray-300","rounded-l-lg","hover:bg-gray-100","hover:text-gray-700","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"px-3","py-2","leading-tight","text-gray-500","bg-white","border","border-gray-300","rounded-r-lg","hover:bg-gray-100","hover:text-gray-700","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"fixed","inset-0","bg-gray-600","bg-opacity-50","overflow-y-auto","h-full","w-full","z-50","flex","items-center","justify-center"],[1,"relative","mx-auto","p-5","border","w-full","max-w-md","shadow-lg","rounded-md","bg-white"],["type","button",1,"absolute","top-3","right-3","text-gray-400","hover:text-gray-600","focus:outline-none","focus:ring-2","focus:ring-blue-500","rounded-full","p-1",3,"click"],[1,"sr-only"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor","aria-hidden","true",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","d","M6 18L18 6M6 6l12 12"],[1,"mt-3","text-center"],[1,"text-lg","leading-6","font-medium","text-gray-900","text-center"],[1,"mt-4","px-2","py-3","max-h-[70vh]","overflow-y-auto"],[3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4"],[1,"text-left"],["for","prenom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","prenom","formControlName","prenom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","nom",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","nom","formControlName","nom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"mt-4","text-left"],["for","numero_national",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","numero_national","formControlName","numero_national",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["class","text-red-600 text-xs mt-1",4,"ngIf"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","email","formControlName","email",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"mt-4","grid","grid-cols-1","sm:grid-cols-2","gap-4"],["for","telephone",1,"block","text-sm","font-medium","text-gray-700"],["type","tel","id","telephone","formControlName","telephone","appPhoneNumberMask","",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","date_naissance",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","date_naissance","formControlName","date_naissance",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","adresse",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","adresse","formControlName","adresse",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","code_postal",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","code_postal","formControlName","code_postal",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","ville",1,"block","text-sm","font-medium","text-gray-700"],[1,"relative","mt-1"],["id","ville","formControlName","ville",1,"focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","pl-3","pr-10","ring-1","ring-slate-200","shadow-sm","disabled:bg-gray-100",3,"disabled"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["class","absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",4,"ngIf"],["for","nationality",1,"block","text-sm","font-medium","text-gray-700"],["id","nationality","formControlName","nationality",1,"focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","pl-3","pr-10","ring-1","ring-slate-200","shadow-sm","disabled:bg-gray-100",3,"disabled"],["for","idcard_number",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","idcard_number","formControlName","idcard_number",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","idcard_validity",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","idcard_validity","formControlName","idcard_validity",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"mt-6","items-center","px-4","py-3","flex","justify-end","space-x-4","bg-gray-50","-mx-5","-mb-5","rounded-b-md"],["type","button",1,"px-4","py-2","bg-gray-200","text-gray-800","rounded-md","hover:bg-gray-300","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-gray-500",3,"click"],["type","submit",1,"px-4","py-2","bg-blue-600","text-white","rounded-md","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"text-red-600","text-xs","mt-1"],[3,"value"],[1,"absolute","inset-y-0","right-0","flex","items-center","pr-3","pointer-events-none"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5","text-gray-400"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],["for","permis_numero",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","permis_numero","formControlName","permis_numero",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","permis_date",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","permis_date","formControlName","permis_date",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"]],template:function(a,u){1&a&&(e.j41(0,"div",0)(1,"h1",1),e.EFF(2,"Gestion des offres"),e.k0s(),e.j41(3,"div",2)(4,"nav",3),e.DNE(5,Gr,4,6,"button",4),e.k0s()(),e.j41(6,"div",5)(7,"div"),e.nrm(8,"input",6),e.k0s(),e.j41(9,"div",7)(10,"a",8),e.EFF(11,"Paiements"),e.k0s(),e.j41(12,"a",9),e.EFF(13,"Statistiques"),e.k0s(),e.j41(14,"a",10),e.EFF(15,"Prospects"),e.k0s(),e.j41(16,"a",11),e.EFF(17,"Param\xe8tres"),e.k0s()()(),e.DNE(18,ac,5,4,"ng-container",12),e.nI1(19,"async"),e.DNE(20,D,92,34,"div",13),e.nI1(21,"async"),e.k0s()),2&a&&(e.R7$(5),e.Y8G("ngForOf",u.tabs),e.R7$(3),e.Y8G("formControl",u.searchControl),e.R7$(10),e.Y8G("ngIf",e.bMT(19,4,u.vm$)),e.R7$(2),e.Y8G("ngIf",u.isEditModalOpen&&e.bMT(21,6,u.nationalities$)))},dependencies:[P.MD,P.YU,P.Sq,P.bT,P.Jj,P.PV,P.vh,de.Wk,F.X1,F.qT,F.xH,F.y7,F.me,F.wz,F.BC,F.cb,F.l_,F.j4,F.JD,Vs.Y,F.YN,fn],styles:["@media print{.no-print[_ngcontent-%COMP%]{display:none!important}body[_ngcontent-%COMP%]{font-size:10pt;color:#000;background-color:#fff}table[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border-color:#ccc!important;color:#000!important}.bg-white[_ngcontent-%COMP%], .bg-gray-50[_ngcontent-%COMP%], .bg-gray-100[_ngcontent-%COMP%], .shadow-md[_ngcontent-%COMP%], .hover\\:bg-gray-50[_ngcontent-%COMP%]{background-color:transparent!important;box-shadow:none!important}.text-blue-800[_ngcontent-%COMP%], .text-yellow-800[_ngcontent-%COMP%], .text-green-800[_ngcontent-%COMP%]{color:#000!important}}"]})}return p})();var Te=R(3583),we=R(6649);const Vt=(p,S)=>(p.push(S),p);function nr(p,S){1&p&&(e.j41(0,"div",4)(1,"h3",5),e.EFF(2,"Conducteur principal"),e.k0s(),e.nrm(3,"div",6),e.k0s())}function Us(p,S){1&p&&(e.j41(0,"div",31),e.qSk(),e.j41(1,"svg",32),e.nrm(2,"circle",33)(3,"path",34),e.k0s()())}function fi(p,S){if(1&p){const s=e.RV6();e.j41(0,"li",37),e.bIt("click",function(){const u=e.eBV(s).$implicit,k=e.XpG(3);return e.Njj(k.selectMarque(u))}),e.EFF(1),e.k0s()}if(2&p){const s=S.$implicit;e.R7$(),e.SpI(" ",s.nom," ")}}function Bs(p,S){if(1&p&&(e.j41(0,"ul",35),e.DNE(1,fi,2,1,"li",36),e.nI1(2,"async"),e.k0s()),2&p){const s=e.XpG(2);e.R7$(),e.Y8G("ngForOf",e.bMT(2,1,s.filteredMarques$))}}function Pi(p,S){1&p&&(e.j41(0,"option",38),e.EFF(1," Aucun mod\xe8le trouv\xe9 "),e.k0s()),2&p&&e.Y8G("disabled",!0)}function Fo(p,S){if(1&p&&(e.j41(0,"option",39),e.EFF(1),e.k0s()),2&p){const s=S.$implicit;e.Y8G("value",s.nom),e.R7$(),e.SpI("",s.nom," ")}}function zl(p,S){1&p&&(e.j41(0,"div",31),e.qSk(),e.j41(1,"svg",32),e.nrm(2,"circle",33)(3,"path",34),e.k0s()())}function ua(p,S){if(1&p&&(e.j41(0,"option",39),e.EFF(1),e.k0s()),2&p){const s=S.$implicit;e.Y8G("value",s),e.R7$(),e.SpI(" ",s," ")}}function lc(p,S){if(1&p&&(e.j41(0,"div",7)(1,"h3",5),e.EFF(2,"V\xe9hicule"),e.k0s(),e.j41(3,"div",6)(4,"div",8)(5,"label",9),e.EFF(6,"Marque"),e.k0s(),e.nrm(7,"input",10),e.DNE(8,Us,4,0,"div",11)(9,Bs,3,3,"ul",12),e.nI1(10,"async"),e.k0s(),e.j41(11,"div")(12,"div",8)(13,"label",13),e.EFF(14,"Mod\xe8le"),e.k0s(),e.j41(15,"select",14)(16,"option",15),e.EFF(17,"S\xe9lectionnez un mod\xe8le"),e.k0s(),e.DNE(18,Pi,2,1,"option",16)(19,Fo,2,2,"option",17),e.k0s(),e.DNE(20,zl,4,0,"div",11),e.k0s()(),e.j41(21,"div")(22,"label",18),e.EFF(23,"Ann\xe9e"),e.k0s(),e.j41(24,"select",19)(25,"option",20),e.EFF(26,"S\xe9lectionnez une ann\xe9e"),e.k0s(),e.DNE(27,ua,2,2,"option",17),e.k0s()(),e.j41(28,"div")(29,"label",21),e.EFF(30,"Plaque"),e.k0s(),e.nrm(31,"input",22),e.k0s(),e.j41(32,"div")(33,"label",23),e.EFF(34,"Puissance (kW)"),e.k0s(),e.nrm(35,"input",24),e.k0s(),e.j41(36,"div")(37,"label",25),e.EFF(38,"Nombre de places"),e.k0s(),e.nrm(39,"input",26),e.k0s(),e.j41(40,"div")(41,"label",27),e.EFF(42,"Valeur (\u20ac)"),e.k0s(),e.nrm(43,"input",28),e.k0s(),e.j41(44,"div")(45,"label",29),e.EFF(46,"Date de 1\xe8re immatriculation"),e.k0s(),e.nrm(47,"input",30),e.k0s()()()),2&p){let s,a,u;const k=e.XpG();e.R7$(7),e.Y8G("formControl",k.marqueCtrl),e.R7$(),e.Y8G("ngIf",k.isMarqueLoading),e.R7$(),e.Y8G("ngIf",(null==(s=e.bMT(10,9,k.filteredMarques$))?null:s.length)&&(k.marqueCtrl.value||"").length>=2),e.R7$(6),e.Y8G("disabled",!(null!=(a=k.parentForm.get("vehicule.make"))&&a.value)||k.isModeleLoading),e.R7$(3),e.Y8G("ngIf",!k.isModeleLoading&&0===k.modelesForSelectedMarque.length&&(null==(u=k.parentForm.get("vehicule.make"))?null:u.value)),e.R7$(),e.Y8G("ngForOf",k.modelesForSelectedMarque),e.R7$(),e.Y8G("ngIf",k.isModeleLoading),e.R7$(5),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",k.vehicleYears)}}function uc(p,S){if(1&p&&(e.j41(0,"option",39),e.EFF(1),e.k0s()),2&p){const s=S.$implicit;e.Y8G("value",s.statut),e.R7$(),e.JRh(s.statut)}}function df(p,S){if(1&p&&(e.j41(0,"option",39),e.EFF(1),e.k0s()),2&p){const s=S.$implicit;e.Y8G("value",s.id),e.R7$(),e.SpI(" ",s.nom," ")}}function Wl(p,S){if(1&p&&(e.j41(0,"fieldset",40)(1,"legend",5),e.EFF(2,"Garanties et Contrat"),e.k0s(),e.j41(3,"div",6)(4,"div",41)(5,"label",42),e.EFF(6,"Date d'effet"),e.k0s(),e.nrm(7,"input",43),e.k0s(),e.j41(8,"div",41)(9,"label",44),e.EFF(10,"Niveau d'omnium"),e.k0s(),e.j41(11,"select",45)(12,"option",46),e.EFF(13,"Aucune"),e.k0s(),e.j41(14,"option",47),e.EFF(15,"Mini Omnium"),e.k0s(),e.j41(16,"option",48),e.EFF(17,"Omnium Compl\xe8te"),e.k0s()()(),e.j41(18,"div")(19,"label",49),e.EFF(20,"Statut de l'offre"),e.k0s(),e.j41(21,"select",50)(22,"option",20),e.EFF(23,"S\xe9lectionnez un statut"),e.k0s(),e.DNE(24,uc,2,2,"option",17),e.nI1(25,"async"),e.k0s()(),e.j41(26,"div")(27,"label",51),e.EFF(28,"Compagnie d'assurance"),e.k0s(),e.j41(29,"select",52)(30,"option",20),e.EFF(31,"S\xe9lectionnez une compagnie"),e.k0s(),e.DNE(32,df,2,2,"option",17),e.nI1(33,"async"),e.k0s()(),e.j41(34,"div",53),e.nrm(35,"input",54),e.j41(36,"label",55),e.EFF(37,"Garantie RC de base"),e.k0s()(),e.j41(38,"div",53),e.nrm(39,"input",56),e.j41(40,"label",57),e.EFF(41,"Garantie Conducteur"),e.k0s()(),e.j41(42,"div",53),e.nrm(43,"input",58),e.j41(44,"label",59),e.EFF(45,"Assistance"),e.k0s()()()()),2&p){const s=e.XpG();e.R7$(22),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",e.bMT(25,4,s.statuts$)),e.R7$(6),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",e.bMT(33,6,s.insuranceCompanies$))}}let ff=(()=>{class p{dbService;platformId;parentForm;showMainDriverSection=!1;marqueCtrl;filteredMarques$;isMarqueLoading=!1;isModeleLoading=!1;modelesForSelectedMarque=[];selectMarque;statuts$;insuranceCompanies$;vehicleYears=[];preneurCities$;nationalities$;maritalStatuses$;conducteurCities$;destroy$=new he.B;constructor(s,a){this.dbService=s,this.platformId=a}ngOnInit(){this.parentForm||console.warn("AutoFormComponent: [parentForm] input is missing."),this.statuts$=this.dbService.getAllStatuts(),this.insuranceCompanies$=this.dbService.getAllAssureurs(),this.nationalities$=this.dbService.getNationalities(),this.maritalStatuses$=this.dbService.getAllMaritalStatuses();for(let a=(new Date).getFullYear();a>=1940;a--)this.vehicleYears.push(a)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(a){return new(a||p)(e.rXU(jt.y),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:p,selectors:[["app-auto-form"]],inputs:{parentForm:"parentForm",showMainDriverSection:"showMainDriverSection",marqueCtrl:"marqueCtrl",filteredMarques$:"filteredMarques$",isMarqueLoading:"isMarqueLoading",isModeleLoading:"isModeleLoading",modelesForSelectedMarque:"modelesForSelectedMarque",selectMarque:"selectMarque",preneurCities$:"preneurCities$",conducteurCities$:"conducteurCities$"},standalone:!0,features:[e.aNF],decls:4,vars:4,consts:[[3,"formGroup"],["formGroupName","conducteurPrincipal",4,"ngIf"],["formGroupName","vehicule",4,"ngIf"],["formGroupName","garantie",4,"ngIf"],["formGroupName","conducteurPrincipal"],[1,"text-lg","font-semibold","text-gray-800","bg-gray-100","-mx-6","px-6","py-2","mb-4","border-y"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-x-6","gap-y-4"],["formGroupName","vehicule"],[1,"relative"],["for","make",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","make","placeholder","Rechercher une marque...",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"formControl"],["class","absolute inset-y-0 right-0 flex items-center pr-3 top-6",4,"ngIf"],["class","absolute z-20 w-full bg-white border border-gray-300 rounded-md mt-1 max-h-40 overflow-y-auto",4,"ngIf"],["for","model",1,"block","text-sm","font-medium","text-gray-700"],["id","model","formControlName","model",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm","disabled:bg-gray-100",3,"disabled"],["value","","disabled",""],[3,"disabled",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["for","year",1,"block","text-sm","font-medium","text-gray-700"],["id","year","formControlName","year",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["disabled","",3,"ngValue"],["for","licensePlate",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","licensePlate","formControlName","licensePlate","appLicensePlateFormat","","placeholder","1 ABC 123","maxlength","9",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","power",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","power","formControlName","power",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","seats",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","seats","formControlName","seats",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","value",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","value","formControlName","value",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","registrationDate",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","registrationDate","formControlName","registrationDate",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"absolute","inset-y-0","right-0","flex","items-center","pr-3","top-6"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5","text-gray-400"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"absolute","z-20","w-full","bg-white","border","border-gray-300","rounded-md","mt-1","max-h-40","overflow-y-auto"],["class","px-3 py-2 cursor-pointer hover:bg-gray-100",3,"click",4,"ngFor","ngForOf"],[1,"px-3","py-2","cursor-pointer","hover:bg-gray-100",3,"click"],[3,"disabled"],[3,"value"],["formGroupName","garantie"],[1,"sm:col-span-2"],["for","effectiveDate",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","effectiveDate","formControlName","effectiveDate",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","omniumLevel",1,"block","text-sm","font-medium","text-gray-700"],["id","omniumLevel","formControlName","omniumLevel",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["value","non"],["value","partiel"],["value","total"],["for","statut",1,"block","text-sm","font-medium","text-gray-700"],["id","statut","formControlName","statut",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","insuranceCompany",1,"block","text-sm","font-medium","text-gray-700"],["id","insuranceCompany","formControlName","insuranceCompany",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"flex","items-center"],["id","baseRC","type","checkbox","formControlName","baseRC",1,"form-checkbox","h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","baseRC",1,"ml-2","block","text-sm","text-gray-900"],["id","driverCoverage","type","checkbox","formControlName","driverCoverage",1,"form-checkbox","h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","driverCoverage",1,"ml-2","block","text-sm","text-gray-900"],["id","assistance","type","checkbox","formControlName","assistance",1,"form-checkbox","h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","assistance",1,"ml-2","block","text-sm","text-gray-900"]],template:function(a,u){1&a&&(e.qex(0,0),e.DNE(1,nr,4,0,"div",1)(2,lc,48,11,"div",2)(3,Wl,46,8,"fieldset",3),e.bVm()),2&a&&(e.Y8G("formGroup",u.parentForm),e.R7$(),e.Y8G("ngIf",u.showMainDriverSection&&u.parentForm.get("conducteurPrincipal")),e.R7$(),e.Y8G("ngIf",u.parentForm.get("vehicule")),e.R7$(),e.Y8G("ngIf",u.parentForm.get("garantie")))},dependencies:[P.MD,P.Sq,P.bT,P.Jj,F.X1,F.xH,F.y7,F.me,F.Q0,F.Zm,F.wz,F.BC,F.cb,F.tU,F.l_,F.j4,F.JD,F.$R],encapsulation:2})}return p})();function so(p,S){if(1&p&&(e.j41(0,"tbody",3)(1,"tr",4)(2,"th",5),e.EFF(3," Preneur d'assurance "),e.k0s()(),e.j41(4,"tr")(5,"td",6),e.EFF(6,"Pr\xe9nom & Nom"),e.k0s(),e.j41(7,"td",7),e.EFF(8),e.nI1(9,"titlecase"),e.nI1(10,"uppercase"),e.k0s()(),e.j41(11,"tr")(12,"td",8),e.EFF(13,"Date de naissance"),e.k0s(),e.j41(14,"td",7),e.EFF(15),e.nI1(16,"date"),e.k0s()(),e.j41(17,"tr")(18,"td",8),e.EFF(19,"Contact"),e.k0s(),e.j41(20,"td",7)(21,"div")(22,"span",9),e.EFF(23,"Email:"),e.k0s(),e.EFF(24),e.k0s(),e.j41(25,"div")(26,"span",9),e.EFF(27,"T\xe9l:"),e.k0s(),e.EFF(28),e.k0s()()(),e.j41(29,"tr")(30,"td",8),e.EFF(31,"Adresse"),e.k0s(),e.j41(32,"td",7),e.EFF(33),e.nrm(34,"br"),e.EFF(35),e.nI1(36,"titlecase"),e.k0s()(),e.j41(37,"tr")(38,"td",8),e.EFF(39,"Permis de conduire"),e.k0s(),e.j41(40,"td",7),e.EFF(41),e.nI1(42,"date"),e.k0s()(),e.j41(43,"tr")(44,"td",8),e.EFF(45,"Identit\xe9 nationale"),e.k0s(),e.j41(46,"td",7)(47,"div")(48,"span",9),e.EFF(49,"RN:"),e.k0s(),e.EFF(50),e.k0s(),e.j41(51,"div")(52,"span",9),e.EFF(53,"Carte Id:"),e.k0s(),e.EFF(54),e.nI1(55,"date"),e.k0s()()(),e.j41(56,"tr")(57,"td",8),e.EFF(58,"Infos persos"),e.k0s(),e.j41(59,"td",7),e.EFF(60),e.k0s()()()),2&p){const s=S.ngIf,a=e.XpG();e.R7$(8),e.Lme(" ",e.bMT(9,15,s.prenom)," ",e.bMT(10,17,s.nom)," "),e.R7$(7),e.SpI(" ",e.i5U(16,19,s.date_naissance,"dd/MM/yyyy")," "),e.R7$(9),e.SpI(" ",s.email,""),e.R7$(4),e.SpI(" ",s.telephone,""),e.R7$(5),e.SpI(" ",s.address,""),e.R7$(2),e.Lme(" ",s.code_postal," ",e.bMT(36,22,s.city)," "),e.R7$(6),e.Lme(" N\xb0 ",s.driverLicenseNumber," (Obtenu le ",e.i5U(42,24,s.driverLicenseDate,"dd/MM/yyyy"),") "),e.R7$(9),e.SpI(" ",s.nationalRegistryNumber,""),e.R7$(4),e.Lme(" ",s.idCardNumber," (Validit\xe9: ",e.i5U(55,27,s.idCardValidityDate,"dd/MM/yyyy"),")"),e.R7$(6),e.Lme(" ",s.nationality," \u2014 ",a.getMaritalStatusLabel(s.maritalStatus)," ")}}function cc(p,S){if(1&p&&(e.j41(0,"tbody",10)(1,"tr",4)(2,"th",5),e.EFF(3," Conducteur Principal "),e.k0s()(),e.j41(4,"tr")(5,"td",6),e.EFF(6,"Pr\xe9nom & Nom"),e.k0s(),e.j41(7,"td",7),e.EFF(8),e.nI1(9,"titlecase"),e.nI1(10,"uppercase"),e.k0s()(),e.j41(11,"tr")(12,"td",8),e.EFF(13,"Date de naissance"),e.k0s(),e.j41(14,"td",7),e.EFF(15),e.nI1(16,"date"),e.k0s()(),e.j41(17,"tr")(18,"td",8),e.EFF(19,"Contact"),e.k0s(),e.j41(20,"td",7)(21,"div")(22,"span",9),e.EFF(23,"Email:"),e.k0s(),e.EFF(24),e.k0s(),e.j41(25,"div")(26,"span",9),e.EFF(27,"T\xe9l:"),e.k0s(),e.EFF(28),e.k0s()()(),e.j41(29,"tr")(30,"td",8),e.EFF(31,"Permis de conduire"),e.k0s(),e.j41(32,"td",7),e.EFF(33),e.nI1(34,"date"),e.k0s()(),e.j41(35,"tr")(36,"td",8),e.EFF(37,"Identit\xe9 nationale"),e.k0s(),e.j41(38,"td",7)(39,"div")(40,"span",9),e.EFF(41,"RN:"),e.k0s(),e.EFF(42),e.k0s(),e.j41(43,"div")(44,"span",9),e.EFF(45,"Carte Id:"),e.k0s(),e.EFF(46),e.nI1(47,"date"),e.k0s()()(),e.j41(48,"tr")(49,"td",8),e.EFF(50,"Infos persos"),e.k0s(),e.j41(51,"td",7),e.EFF(52),e.k0s()()()),2&p){const s=S.ngIf,a=e.XpG();e.R7$(8),e.Lme(" ",e.bMT(9,12,s.prenom)," ",e.bMT(10,14,s.nom)," "),e.R7$(7),e.SpI(" ",e.i5U(16,16,s.date_naissance,"dd/MM/yyyy")," "),e.R7$(9),e.SpI(" ",s.email,""),e.R7$(4),e.SpI(" ",s.telephone,""),e.R7$(5),e.Lme(" N\xb0 ",s.driverLicenseNumber," (Obtenu le ",e.i5U(34,19,s.driverLicenseDate,"dd/MM/yyyy"),") "),e.R7$(9),e.SpI(" ",s.nationalRegistryNumber,""),e.R7$(4),e.Lme(" ",s.idCardNumber," (Validit\xe9: ",e.i5U(47,22,s.idCardValidityDate,"dd/MM/yyyy"),")"),e.R7$(6),e.Lme(" ",s.nationality," \u2014 ",a.getMaritalStatusLabel(s.maritalStatus)," ")}}function dc(p,S){if(1&p&&(e.j41(0,"tbody",10)(1,"tr",4)(2,"th",5),e.EFF(3," V\xe9hicule "),e.k0s()(),e.j41(4,"tr")(5,"td",8),e.EFF(6,"V\xe9hicule"),e.k0s(),e.j41(7,"td",7)(8,"span",11),e.EFF(9),e.k0s(),e.EFF(10),e.k0s()(),e.j41(11,"tr")(12,"td",8),e.EFF(13,"D\xe9tails"),e.k0s(),e.j41(14,"td",7),e.EFF(15),e.nrm(16,"br"),e.EFF(17," Plaque: "),e.j41(18,"span",12),e.EFF(19),e.k0s()()(),e.j41(20,"tr")(21,"td",8),e.EFF(22,"Sp\xe9cifications"),e.k0s(),e.j41(23,"td",7)(24,"div")(25,"span",9),e.EFF(26,"Puissance:"),e.k0s(),e.EFF(27),e.k0s(),e.j41(28,"div")(29,"span",9),e.EFF(30,"Places:"),e.k0s(),e.EFF(31),e.k0s(),e.j41(32,"div")(33,"span",9),e.EFF(34,"Valeur:"),e.k0s(),e.EFF(35),e.nI1(36,"currency"),e.k0s(),e.j41(37,"div")(38,"span",9),e.EFF(39,"1\xe8re immat.:"),e.k0s(),e.EFF(40),e.nI1(41,"date"),e.k0s()()()()),2&p){const s=S.ngIf;e.R7$(9),e.SpI("",s.make," "),e.R7$(),e.SpI(" ",s.modele," "),e.R7$(5),e.SpI(" Ann\xe9e: ",s.year,""),e.R7$(4),e.JRh(s.licensePlate),e.R7$(8),e.SpI(" ",s.power," kW"),e.R7$(4),e.SpI(" ",s.seats,""),e.R7$(4),e.SpI(" ",e.i5U(36,8,s.value,"EUR"),""),e.R7$(5),e.SpI(" ",e.i5U(41,11,s.registrationDate,"dd/MM/yyyy"),"")}}function On(p,S){if(1&p&&(e.j41(0,"tbody",10)(1,"tr",4)(2,"th",5),e.EFF(3," Garanties "),e.k0s()(),e.j41(4,"tr")(5,"td",8),e.EFF(6,"Statut"),e.k0s(),e.j41(7,"td",7)(8,"span",13),e.EFF(9),e.k0s()()(),e.j41(10,"tr")(11,"td",8),e.EFF(12,"G\xe9n\xe9ral"),e.k0s(),e.j41(13,"td",7)(14,"div")(15,"span",9),e.EFF(16,"Date d'effet:"),e.k0s(),e.EFF(17),e.nI1(18,"date"),e.k0s(),e.j41(19,"div")(20,"span",9),e.EFF(21,"Compagnie:"),e.k0s(),e.EFF(22),e.k0s()()(),e.j41(23,"tr")(24,"td",8),e.EFF(25,"Niveau d'omnium"),e.k0s(),e.j41(26,"td",7)(27,"span",14),e.EFF(28),e.nI1(29,"uppercase"),e.k0s()()(),e.j41(30,"tr")(31,"td",8),e.EFF(32,"Options souscrites"),e.k0s(),e.j41(33,"td",15)(34,"ul",16)(35,"li"),e.EFF(36,"RC de base: "),e.j41(37,"strong"),e.EFF(38),e.k0s()(),e.j41(39,"li"),e.EFF(40,"Garantie Conducteur: "),e.j41(41,"strong"),e.EFF(42),e.k0s()(),e.j41(43,"li"),e.EFF(44,"Assistance: "),e.j41(45,"strong"),e.EFF(46),e.k0s()()()()()()),2&p){const s=S.ngIf,a=e.XpG();e.R7$(8),e.Y8G("ngClass",a.getStatutClass(s.statut)),e.R7$(),e.JRh(s.statut),e.R7$(8),e.SpI(" ",e.i5U(18,8,s.effectiveDate,"dd/MM/yyyy"),""),e.R7$(5),e.SpI(" ",a.getCompanyName(s.insuranceCompany),""),e.R7$(6),e.SpI(" ",e.bMT(29,11,s.omniumLevel)," "),e.R7$(10),e.JRh(s.baseRC?"Oui":"Non"),e.R7$(4),e.JRh(s.driverCoverage?"Oui":"Non"),e.R7$(4),e.JRh(s.assistance?"Oui":"Non")}}let Yl=(()=>{class p{dbService;formValue;showMainDriverSection=!1;destroy$=new he.B;insuranceCompanies=[];maritalStatuses=[];constructor(s){this.dbService=s}ngOnInit(){this.dbService.getAllAssureurs().pipe((0,pt.Q)(this.destroy$)).subscribe(s=>{this.insuranceCompanies=s||[]}),this.dbService.getAllMaritalStatuses().pipe((0,pt.Q)(this.destroy$)).subscribe(s=>{this.maritalStatuses=s||[]})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getCompanyName(s){if(!s||!this.insuranceCompanies||0===this.insuranceCompanies.length)return"N/A";const a=this.insuranceCompanies.find(u=>u.id===s);return a?a.nom:`Inconnue (ID: ${s})`}getMaritalStatusLabel(s){if(!s||!this.maritalStatuses||0===this.maritalStatuses.length)return"N/A";const a=this.maritalStatuses.find(u=>u.id===s);return a?a.label:`Inconnu (ID: ${s})`}getStatutClass(s){return s&&{Nouveau:{"bg-blue-100":!0,"text-blue-800":!0},"En cours":{"bg-yellow-100":!0,"text-yellow-800":!0},Termin\u00e9:{"bg-green-100":!0,"text-green-800":!0}}[s]||{"bg-gray-100":!0,"text-gray-800":!0}}static \u0275fac=function(a){return new(a||p)(e.rXU(jt.y))};static \u0275cmp=e.VBU({type:p,selectors:[["app-auto-details"]],inputs:{formValue:"formValue",showMainDriverSection:"showMainDriverSection"},standalone:!0,features:[e.aNF],decls:5,vars:4,consts:[[1,"min-w-full","divide-y","divide-gray-200"],["class","bg-white divide-y divide-gray-200",4,"ngIf"],["class","bg-white divide-y divide-gray-200 border-t-8 border-gray-50",4,"ngIf"],[1,"bg-white","divide-y","divide-gray-200"],[1,"bg-gray-100"],["colspan","2",1,"px-6","py-3","text-left","text-xs","font-bold","text-gray-500","uppercase","tracking-wider"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-700","bg-gray-50","w-1/3"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-700","bg-gray-50"],[1,"font-medium"],[1,"bg-white","divide-y","divide-gray-200","border-t-8","border-gray-50"],[1,"font-bold"],[1,"uppercase","font-mono","bg-gray-100","px-2","py-1","rounded"],[1,"px-2.5","py-0.5","rounded-full","text-xs","font-medium",3,"ngClass"],[1,"px-2","inline-flex","text-xs","leading-5","font-semibold","rounded-full","bg-blue-100","text-blue-800"],[1,"px-6","py-4","text-sm","text-gray-900"],[1,"list-disc","list-inside"]],template:function(a,u){1&a&&(e.j41(0,"table",0),e.DNE(1,so,61,30,"tbody",1)(2,cc,53,25,"tbody",2)(3,dc,42,14,"tbody",2)(4,On,47,13,"tbody",2),e.k0s()),2&a&&(e.R7$(),e.Y8G("ngIf",null==u.formValue?null:u.formValue.preneurAssurance),e.R7$(),e.Y8G("ngIf",u.showMainDriverSection&&(null==u.formValue?null:u.formValue.conducteurPrincipal)),e.R7$(),e.Y8G("ngIf",null==u.formValue?null:u.formValue.vehicule),e.R7$(),e.Y8G("ngIf",null==u.formValue?null:u.formValue.garantie))},dependencies:[P.MD,P.YU,P.bT,P.Pc,P.PV,P.oe,P.vh],encapsulation:2})}return p})();const Ho=p=>({"border-red-500 ring-red-500":p}),ji=()=>[];function pf(p,S){if(1&p&&(e.j41(0,"option",62),e.EFF(1),e.k0s()),2&p){const s=S.$implicit;e.Y8G("value",s),e.R7$(),e.SpI(" ",s," ")}}function wa(p,S){if(1&p&&(e.j41(0,"option",62),e.EFF(1),e.k0s()),2&p){const s=S.$implicit;e.Y8G("value",s.id),e.R7$(),e.JRh(s.nom)}}function qo(p,S){if(1&p&&(e.j41(0,"option",62),e.EFF(1),e.k0s()),2&p){const s=S.$implicit;e.Y8G("value",s.statut),e.R7$(),e.JRh(s.statut)}}let us=(()=>{class p{fb;dbService;platformId;parentForm;isReadOnly=!1;initialData;statuts$;insuranceCompanies$;batimentCities$;preneurCities$;destroy$=new he.B;constructor(s,a,u){this.fb=s,this.dbService=a,this.platformId=u,this.batimentCities$=(0,Z.of)([])}ngOnInit(){if(this.parentForm||this.initializeForm(),this.statuts$=this.dbService.getAllStatuts(),this.insuranceCompanies$=this.dbService.getAllAssureurs(),(0,P.UE)(this.platformId)){const s=this.parentForm.get("batiment.batiment_code_postal");s&&(s.valueChanges.pipe(Je(),(0,pt.Q)(this.destroy$)).subscribe(()=>{this.parentForm.get("batiment.batiment_ville")?.setValue(null,{emitEvent:!1})}),this.batimentCities$=s.valueChanges.pipe((0,K.Z)(s.value||""),Ye(300),Je(),(0,Re.n)(u=>u&&u.length>=4?this.dbService.getCitiesByPostalCode(u).pipe((0,te.W)(()=>(0,Z.of)([]))):(0,Z.of)([])),(0,fe.T)(u=>{const k=this.parentForm.get("batiment.batiment_ville")?.value;return k&&!u.includes(k)?[k,...u]:u}),(0,pt.Q)(this.destroy$)));const a=this.parentForm.get("preneurAssurance.code_postal");a&&(this.preneurCities$=a.valueChanges.pipe(Ye(300),Je(),(0,Re.n)(u=>u&&u.length>=4?this.dbService.getCitiesByPostalCode(u).pipe((0,te.W)(()=>(0,Z.of)([])),(0,pt.Q)(this.destroy$)):(0,Z.of)([])),(0,pt.Q)(this.destroy$)))}}ngOnChanges(s){s.initialData&&this.initialData&&this.patchFormWithData(this.initialData)}initializeForm(){this.parentForm=this.fb.group({preneurAssurance:this.fb.group({prenom:[{value:"",disabled:!0}],nom:[{value:"",disabled:!0}],date_naissance:[{value:"",disabled:!0}],email:[{value:"",disabled:!0}],telephone:[{value:"",disabled:!0}],nationalRegistryNumber:[{value:"",disabled:!0}],idCardNumber:[{value:"",disabled:!0}],idCardValidityDate:[{value:"",disabled:!0}],adresse:[{value:"",disabled:!0}],code_postal:[{value:"",disabled:!0}],ville:[{value:"",disabled:!0}]}),batiment:this.fb.group({batiment_adresse:["",F.k0.required],batiment_code_postal:["",F.k0.required],batiment_ville:["",F.k0.required],batiment_type_maison:[""]}),evaluation:this.fb.group({superficie:[null],nombrePieces:[null],loyerMensuel:[null],typeValeurBatiment:[null],valeurExpertise:[null],dateExpertise:[null],typeValeurContenu:[null],valeurLibreContenu:[null]}),garantiesHabitation:this.fb.group({contenu:[!1],vol:[!1],pertesIndirectes:[!1],protectionJuridique:[!1],assistance:[!1],dateEffet:[null],compagnie_id:[null],statut:[null]})})}patchFormWithData(s){s&&this.parentForm&&this.parentForm.patchValue({preneurAssurance:{prenom:s.preneur?.prenom,nom:s.preneur?.nom,date_naissance:s.preneur?.date_naissance,email:s.preneur?.email,telephone:s.preneur?.telephone,nationalRegistryNumber:s.preneur?.numero_national,idCardNumber:s.preneur?.idcard_number,idCardValidityDate:s.preneur?.idcard_validity,adresse:s.preneur?.adresse,code_postal:s.preneur?.code_postal,ville:s.preneur?.ville},batiment:{batiment_adresse:s.batiment_adresse,batiment_code_postal:s.batiment_code_postal,batiment_ville:s.batiment_ville,batiment_type_maison:s.batiment_type_maison},evaluation:{superficie:s.evaluation_superficie,nombrePieces:s.evaluation_nombre_pieces,loyerMensuel:s.evaluation_loyer_mensuel,typeValeurBatiment:s.evaluation_type_valeur_batiment,valeurExpertise:s.evaluation_valeur_expertise,dateExpertise:s.evaluation_date_expertise,typeValeurContenu:s.evaluation_type_valeur_contenu,valeurLibreContenu:s.evaluation_valeur_libre_contenu},garantiesHabitation:{contenu:s.garantie_contenu,vol:s.garantie_vol,pertesIndirectes:s.garantie_pertes_indirectes,protectionJuridique:s.garantie_protection_juridique,assistance:s.garantie_assistance,dateEffet:s.date_effet,compagnie_id:s.compagnie_id,statut:s.statut}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}scrollToSection(s){const a=document.getElementById(s);a&&a.scrollIntoView({behavior:"smooth",block:"start"})}static \u0275fac=function(a){return new(a||p)(e.rXU(F.ok),e.rXU(jt.y),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:p,selectors:[["app-habitation-form"]],inputs:{parentForm:"parentForm",isReadOnly:"isReadOnly",initialData:"initialData"},standalone:!0,features:[e.OA$,e.aNF],decls:144,vars:31,consts:[[3,"formGroup"],["formGroupName","batiment",1,"mt-6"],[1,"text-lg","font-semibold","text-gray-700","border-b","pb-2","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","pt-4"],[1,"md:col-span-2"],["for","batiment_adresse",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","batiment_adresse","formControlName","batiment_adresse",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],[1,"relative"],["for","batiment_code_postal",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","batiment_code_postal","formControlName","batiment_code_postal",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["for","ville",1,"block","text-sm","font-medium","text-gray-700"],["id","ville","formControlName","batiment_ville",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"ngClass"],["disabled","",3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["for","type-maison",1,"block","text-sm","font-medium","text-gray-700"],["id","type-maison","formControlName","batiment_type_maison",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["formGroupName","evaluation",1,"mt-6"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4","pt-4"],["for","superficie",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","superficie","formControlName","superficie",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"readOnly"],["for","nombre-pieces",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","nombre-pieces","formControlName","nombrePieces","placeholder","Salon + Cuisine = 1 pi\xe8ce",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"readOnly"],["for","loyer",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","loyer","formControlName","loyerMensuel","placeholder","\u20ac",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"readOnly"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4","pt-4","mt-4","border-t"],["for","type-valeur-batiment",1,"block","text-sm","font-medium","text-gray-700"],["id","type-valeur-batiment","formControlName","typeValeurBatiment",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm","capitalize"],[3,"ngValue"],["value","expertise"],["value","libre"],["for","valeur-expertise",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","valeur-expertise","formControlName","valeurExpertise","placeholder","\u20ac",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"readOnly"],["for","date-expertise",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","date-expertise","formControlName","dateExpertise",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"readOnly"],["for","type-valeur-contenu",1,"block","text-sm","font-medium","text-gray-700"],["id","type-valeur-contenu","formControlName","typeValeurContenu",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm","capitalize"],["value","courtier"],["value","client"],["for","valeur-libre-contenu",1,"block","text-sm","font-medium","text-gray-700"],["type","number","id","valeur-libre-contenu","formControlName","valeurLibreContenu","placeholder","\u20ac",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"readOnly"],["formGroupName","garantiesHabitation",1,"mt-6"],[1,"space-y-4","pt-4"],[1,"grid","grid-cols-2","md:grid-cols-3","gap-4"],[1,"flex","items-start"],[1,"flex","h-5","items-center"],["id","garantie-contenu","formControlName","contenu","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],[1,"ml-3","text-sm"],["for","garantie-contenu",1,"font-medium","text-gray-700"],["id","garantie-vol","formControlName","vol","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","garantie-vol",1,"font-medium","text-gray-700"],["id","garantie-pertes","formControlName","pertesIndirectes","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","garantie-pertes",1,"font-medium","text-gray-700"],["id","garantie-pj","formControlName","protectionJuridique","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","garantie-pj",1,"font-medium","text-gray-700"],["id","garantie-assistance","formControlName","assistance","type","checkbox",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","garantie-assistance",1,"font-medium","text-gray-700"],["for","date_effet",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","date_effet","formControlName","dateEffet",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","garantie-insuranceCompany",1,"block","text-sm","font-medium","text-gray-700"],["id","garantie-insuranceCompany","formControlName","compagnie_id",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],["for","garantie-statut",1,"block","text-sm","font-medium","text-gray-700"],["id","garantie-statut","formControlName","statut",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[3,"value"]],template:function(a,u){if(1&a&&(e.j41(0,"div",0)(1,"fieldset",1)(2,"legend",2),e.EFF(3,"B\xe2timent \xe0 assurer"),e.k0s(),e.j41(4,"div",3)(5,"div",4)(6,"label",5),e.EFF(7,"Rue et num\xe9ro"),e.k0s(),e.nrm(8,"input",6),e.k0s(),e.j41(9,"div")(10,"div",7)(11,"label",8),e.EFF(12,"Code Postal"),e.k0s(),e.nrm(13,"input",9),e.k0s()(),e.j41(14,"div")(15,"label",10),e.EFF(16,"Ville"),e.k0s(),e.j41(17,"select",11)(18,"option",12),e.EFF(19,"-- Entrez un code postal --"),e.k0s(),e.DNE(20,pf,2,2,"option",13),e.nI1(21,"async"),e.k0s()(),e.j41(22,"div")(23,"label",14),e.EFF(24,"Type de maison"),e.k0s(),e.j41(25,"select",15)(26,"option"),e.EFF(27,"Maison 2 fa\xe7ades"),e.k0s(),e.j41(28,"option"),e.EFF(29,"Maison 3 fa\xe7ades"),e.k0s(),e.j41(30,"option"),e.EFF(31,"Maison 4 fa\xe7ades (villa)"),e.k0s(),e.j41(32,"option"),e.EFF(33,"Appartement"),e.k0s(),e.j41(34,"option"),e.EFF(35,"Studio"),e.k0s(),e.j41(36,"option"),e.EFF(37,"Autre"),e.k0s()()()()(),e.j41(38,"fieldset",16)(39,"legend",2),e.EFF(40,"\xc9valuation des biens"),e.k0s(),e.j41(41,"div",17)(42,"div")(43,"label",18),e.EFF(44,"Superficie (m\xb2)"),e.k0s(),e.nrm(45,"input",19),e.k0s(),e.j41(46,"div")(47,"label",20),e.EFF(48,"Nombre de pi\xe8ces"),e.k0s(),e.nrm(49,"input",21),e.k0s(),e.j41(50,"div")(51,"label",22),e.EFF(52,"Loyer mensuel (charges comprises)"),e.k0s(),e.nrm(53,"input",23),e.k0s()(),e.j41(54,"div",24)(55,"div")(56,"label",25),e.EFF(57,"Valeur b\xe2timent selon"),e.k0s(),e.j41(58,"select",26)(59,"option",27),e.EFF(60,"-- S\xe9lectionner --"),e.k0s(),e.j41(61,"option",28),e.EFF(62,"Expertise"),e.k0s(),e.j41(63,"option",29),e.EFF(64,"Librement exprim\xe9"),e.k0s()()(),e.j41(65,"div")(66,"label",30),e.EFF(67,"Valeur expertise b\xe2timent"),e.k0s(),e.nrm(68,"input",31),e.k0s(),e.j41(69,"div")(70,"label",32),e.EFF(71,"Date expertise b\xe2timent"),e.k0s(),e.nrm(72,"input",33),e.k0s()(),e.j41(73,"div",24)(74,"div")(75,"label",34),e.EFF(76,"Valeur contenu"),e.k0s(),e.j41(77,"select",35)(78,"option",27),e.EFF(79,"-- S\xe9lectionner --"),e.k0s(),e.j41(80,"option",36),e.EFF(81,"Courtier"),e.k0s(),e.j41(82,"option",37),e.EFF(83,"Client"),e.k0s()()(),e.j41(84,"div")(85,"label",38),e.EFF(86,"Valeur du contenu"),e.k0s(),e.nrm(87,"input",39),e.k0s()()(),e.j41(88,"fieldset",40)(89,"legend",2),e.EFF(90,"Garanties et contrat"),e.k0s(),e.j41(91,"div",41)(92,"div",42)(93,"div",43)(94,"div",44),e.nrm(95,"input",45),e.k0s(),e.j41(96,"div",46)(97,"label",47),e.EFF(98,"Contenu"),e.k0s()()(),e.j41(99,"div",43)(100,"div",44),e.nrm(101,"input",48),e.k0s(),e.j41(102,"div",46)(103,"label",49),e.EFF(104,"Vol"),e.k0s()()(),e.j41(105,"div",43)(106,"div",44),e.nrm(107,"input",50),e.k0s(),e.j41(108,"div",46)(109,"label",51),e.EFF(110,"Pertes indirectes"),e.k0s()()(),e.j41(111,"div",43)(112,"div",44),e.nrm(113,"input",52),e.k0s(),e.j41(114,"div",46)(115,"label",53),e.EFF(116,"Protection Juridique"),e.k0s()()(),e.j41(117,"div",43)(118,"div",44),e.nrm(119,"input",54),e.k0s(),e.j41(120,"div",46)(121,"label",55),e.EFF(122,"Assistance"),e.k0s()()()()(),e.j41(123,"div",17)(124,"div")(125,"label",56),e.EFF(126,"Date d'effet"),e.k0s(),e.nrm(127,"input",57),e.k0s(),e.j41(128,"div")(129,"label",58),e.EFF(130,"Compagnie"),e.k0s(),e.j41(131,"select",59)(132,"option",27),e.EFF(133,"-- S\xe9lectionner --"),e.k0s(),e.DNE(134,wa,2,2,"option",13),e.nI1(135,"async"),e.k0s()(),e.j41(136,"div")(137,"label",60),e.EFF(138,"Statut"),e.k0s(),e.j41(139,"select",61)(140,"option",27),e.EFF(141,"-- S\xe9lectionner --"),e.k0s(),e.DNE(142,qo,2,2,"option",13),e.nI1(143,"async"),e.k0s()()()()()),2&a){let k,J,xe;e.Y8G("formGroup",u.parentForm),e.R7$(8),e.Y8G("ngClass",e.eq3(24,Ho,(null==(k=u.parentForm.get("batiment.batiment_adresse"))?null:k.invalid)&&(null==(k=u.parentForm.get("batiment.batiment_adresse"))?null:k.touched))),e.R7$(5),e.Y8G("ngClass",e.eq3(26,Ho,(null==(J=u.parentForm.get("batiment.batiment_code_postal"))?null:J.invalid)&&(null==(J=u.parentForm.get("batiment.batiment_code_postal"))?null:J.touched))),e.R7$(4),e.Y8G("ngClass",e.eq3(28,Ho,(null==(xe=u.parentForm.get("batiment.batiment_ville"))?null:xe.invalid)&&(null==(xe=u.parentForm.get("batiment.batiment_ville"))?null:xe.touched))),e.R7$(),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",e.bMT(21,18,u.batimentCities$)||e.lJ4(30,ji)),e.R7$(25),e.Y8G("readOnly",u.isReadOnly),e.R7$(4),e.Y8G("readOnly",u.isReadOnly),e.R7$(4),e.Y8G("readOnly",u.isReadOnly),e.R7$(6),e.Y8G("ngValue",null),e.R7$(9),e.Y8G("readOnly",u.isReadOnly),e.R7$(4),e.Y8G("readOnly",u.isReadOnly),e.R7$(6),e.Y8G("ngValue",null),e.R7$(9),e.Y8G("readOnly",u.isReadOnly),e.R7$(45),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",e.bMT(135,20,u.insuranceCompanies$)),e.R7$(6),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",e.bMT(143,22,u.statuts$))}},dependencies:[P.MD,P.YU,P.Sq,P.Jj,F.X1,F.xH,F.y7,F.me,F.Q0,F.Zm,F.wz,F.BC,F.cb,F.j4,F.JD,F.$R],encapsulation:2})}return p})();function Xl(p,S){if(!p||!S||0===S.length)return"Non sp\xe9cifi\xe9e";const s=S.find(a=>a.id===p);return s?s.nom:`Inconnue (ID: ${p})`}function Da(p){if(!p)return{"bg-gray-100":!0,"text-gray-800":!0};switch(p){case"Nouveau":case"En cours de traitement":return{"bg-blue-100":!0,"text-blue-800":!0};case"En attente":case"En cours":return{"bg-yellow-100":!0,"text-yellow-800":!0};case"Termin\xe9":return{"bg-green-100":!0,"text-green-800":!0};case"Refus\xe9":case"Inactif":return{"bg-red-100":!0,"text-red-800":!0};default:return{"bg-gray-100":!0,"text-gray-800":!0}}}function hf(p,S){if(1&p&&(e.j41(0,"tbody",3)(1,"tr",4)(2,"th",5),e.EFF(3," Preneur d'assurance "),e.k0s()(),e.j41(4,"tr")(5,"td",6),e.EFF(6,"Pr\xe9nom & Nom"),e.k0s(),e.j41(7,"td",7),e.EFF(8),e.nI1(9,"titlecase"),e.nI1(10,"uppercase"),e.k0s()(),e.j41(11,"tr")(12,"td",8),e.EFF(13,"Date de naissance"),e.k0s(),e.j41(14,"td",7),e.EFF(15),e.nI1(16,"date"),e.k0s()(),e.j41(17,"tr")(18,"td",8),e.EFF(19,"Contact"),e.k0s(),e.j41(20,"td",7)(21,"div")(22,"span",9),e.EFF(23,"Email:"),e.k0s(),e.EFF(24),e.k0s(),e.j41(25,"div")(26,"span",9),e.EFF(27,"T\xe9l:"),e.k0s(),e.EFF(28),e.k0s()()(),e.j41(29,"tr")(30,"td",8),e.EFF(31,"Adresse"),e.k0s(),e.j41(32,"td",7),e.EFF(33),e.nrm(34,"br"),e.EFF(35),e.nI1(36,"titlecase"),e.k0s()(),e.j41(37,"tr")(38,"td",8),e.EFF(39,"Identit\xe9 nationale"),e.k0s(),e.j41(40,"td",7)(41,"div")(42,"span",9),e.EFF(43,"RN:"),e.k0s(),e.EFF(44),e.k0s(),e.j41(45,"div")(46,"span",9),e.EFF(47,"Carte Id:"),e.k0s(),e.EFF(48),e.nI1(49,"date"),e.k0s()()()()),2&p){const s=S.ngIf;e.R7$(8),e.Lme(" ",e.bMT(9,11,s.prenom)," ",e.bMT(10,13,s.nom)," "),e.R7$(7),e.SpI(" ",e.i5U(16,15,s.date_naissance,"dd/MM/yyyy")," "),e.R7$(9),e.SpI(" ",s.email,""),e.R7$(4),e.SpI(" ",s.telephone,""),e.R7$(5),e.SpI(" ",s.address,""),e.R7$(2),e.Lme(" ",s.code_postal," ",e.bMT(36,18,s.city)," "),e.R7$(9),e.SpI(" ",s.nationalRegistryNumber,""),e.R7$(4),e.Lme(" ",s.idCardNumber," (Validit\xe9: ",e.i5U(49,20,s.idCardValidityDate,"dd/MM/yyyy"),")")}}function Ds(p,S){if(1&p&&(e.j41(0,"tbody",10)(1,"tr",4)(2,"th",5),e.EFF(3," B\xe2timent "),e.k0s()(),e.j41(4,"tr")(5,"td",8),e.EFF(6,"Adresse"),e.k0s(),e.j41(7,"td",7),e.EFF(8),e.nrm(9,"br"),e.EFF(10),e.nI1(11,"titlecase"),e.k0s()(),e.j41(12,"tr")(13,"td",8),e.EFF(14,"Type"),e.k0s(),e.j41(15,"td",7),e.EFF(16),e.k0s()()()),2&p){const s=S.ngIf;e.R7$(8),e.SpI(" ",s.batiment_adresse,""),e.R7$(2),e.Lme(" ",s.batiment_code_postal," ",e.bMT(11,4,s.batiment_ville)," "),e.R7$(6),e.SpI(" ",s.batiment_type_maison," ")}}function fc(p,S){if(1&p&&(e.j41(0,"div")(1,"span",9),e.EFF(2,"Loyer:"),e.k0s(),e.EFF(3),e.nI1(4,"currency"),e.k0s()),2&p){const s=e.XpG().ngIf;e.R7$(3),e.SpI(" ",e.i5U(4,1,s.loyerMensuel,"EUR"),"")}}function pc(p,S){if(1&p&&(e.j41(0,"div")(1,"span",9),e.EFF(2,"Valeur expertise:"),e.k0s(),e.EFF(3),e.nI1(4,"currency"),e.nI1(5,"date"),e.k0s()),2&p){const s=e.XpG().ngIf;e.R7$(3),e.Lme(" ",e.i5U(4,2,s.valeurExpertise,"EUR")," (",e.i5U(5,5,s.dateExpertise,"dd/MM/yyyy"),")")}}function hc(p,S){if(1&p&&(e.j41(0,"div")(1,"span",9),e.EFF(2,"Valeur contenu:"),e.k0s(),e.EFF(3),e.nI1(4,"currency"),e.k0s()),2&p){const s=e.XpG().ngIf;e.R7$(3),e.SpI(" ",e.i5U(4,1,s.evaluation_valeur_libre_contenu,"EUR"),"")}}function Ya(p,S){if(1&p&&(e.j41(0,"tbody",10)(1,"tr",4)(2,"th",5),e.EFF(3," \xc9valuation "),e.k0s()(),e.j41(4,"tr")(5,"td",8),e.EFF(6,"Dimensions"),e.k0s(),e.j41(7,"td",7)(8,"div")(9,"span",9),e.EFF(10,"Superficie:"),e.k0s(),e.EFF(11),e.k0s(),e.j41(12,"div")(13,"span",9),e.EFF(14,"Pi\xe8ces:"),e.k0s(),e.EFF(15),e.k0s(),e.DNE(16,fc,5,4,"div",11),e.k0s()(),e.j41(17,"tr")(18,"td",8),e.EFF(19,"Valeurs"),e.k0s(),e.j41(20,"td",7)(21,"div")(22,"span",9),e.EFF(23,"B\xe2timent:"),e.k0s(),e.EFF(24),e.k0s(),e.DNE(25,pc,6,8,"div",11),e.j41(26,"div")(27,"span",9),e.EFF(28,"Contenu:"),e.k0s(),e.EFF(29),e.k0s(),e.DNE(30,hc,5,4,"div",11),e.k0s()()()),2&p){const s=S.ngIf;e.R7$(11),e.SpI(" ",s.superficie," m\xb2"),e.R7$(4),e.SpI(" ",s.nombrePieces,""),e.R7$(),e.Y8G("ngIf",s.loyerMensuel),e.R7$(8),e.SpI(" ",s.typeValeurBatiment,""),e.R7$(),e.Y8G("ngIf",s.valeurExpertise),e.R7$(4),e.SpI(" ",s.typeValeurContenu,""),e.R7$(),e.Y8G("ngIf",s.evaluation_valeur_libre_contenu)}}function Kl(p,S){if(1&p&&(e.j41(0,"tbody",10)(1,"tr",4)(2,"th",5),e.EFF(3," Garanties et Contrat "),e.k0s()(),e.j41(4,"tr")(5,"td",8),e.EFF(6,"Statut & Contrat"),e.k0s(),e.j41(7,"td",7)(8,"div")(9,"span",9),e.EFF(10,"Statut:"),e.k0s(),e.j41(11,"span",12),e.EFF(12),e.k0s()(),e.j41(13,"div")(14,"span",9),e.EFF(15,"Date d'effet:"),e.k0s(),e.EFF(16),e.nI1(17,"date"),e.k0s(),e.j41(18,"div")(19,"span",9),e.EFF(20,"Compagnie:"),e.k0s(),e.EFF(21),e.k0s()()(),e.j41(22,"tr")(23,"td",8),e.EFF(24,"Options souscrites"),e.k0s(),e.j41(25,"td",13)(26,"ul",14)(27,"li"),e.EFF(28,"Contenu: "),e.j41(29,"strong"),e.EFF(30),e.k0s()(),e.j41(31,"li"),e.EFF(32,"Vol: "),e.j41(33,"strong"),e.EFF(34),e.k0s()(),e.j41(35,"li"),e.EFF(36,"Pertes indirectes: "),e.j41(37,"strong"),e.EFF(38),e.k0s()(),e.j41(39,"li"),e.EFF(40,"Protection Juridique: "),e.j41(41,"strong"),e.EFF(42),e.k0s()(),e.j41(43,"li"),e.EFF(44,"Assistance: "),e.j41(45,"strong"),e.EFF(46),e.k0s()()()()()()),2&p){const s=S.ngIf,a=e.XpG();e.R7$(11),e.Y8G("ngClass",a.getStatutClass(s.statut)),e.R7$(),e.JRh(s.statut),e.R7$(4),e.SpI(" ",e.i5U(17,9,s.dateEffet,"dd/MM/yyyy"),""),e.R7$(5),e.SpI(" ",a.getCompanyName(s.insuranceCompany),""),e.R7$(9),e.JRh(s.contenu?"Oui":"Non"),e.R7$(4),e.JRh(s.vol?"Oui":"Non"),e.R7$(4),e.JRh(s.pertesIndirectes?"Oui":"Non"),e.R7$(4),e.JRh(s.protectionJuridique?"Oui":"Non"),e.R7$(4),e.JRh(s.assistance?"Oui":"Non")}}let Xa=(()=>{class p{formValue;insuranceCompanies=[];getCompanyName(s){return Xl(s,this.insuranceCompanies)}getStatutClass(s){return Da(s)}static \u0275fac=function(a){return new(a||p)};static \u0275cmp=e.VBU({type:p,selectors:[["app-habitation-details"]],inputs:{formValue:"formValue",insuranceCompanies:"insuranceCompanies"},standalone:!0,features:[e.aNF],decls:5,vars:4,consts:[[1,"min-w-full","divide-y","divide-gray-200"],["class","bg-white divide-y divide-gray-200",4,"ngIf"],["class","bg-white divide-y divide-gray-200 border-t-8 border-gray-50",4,"ngIf"],[1,"bg-white","divide-y","divide-gray-200"],[1,"bg-gray-100"],["colspan","2",1,"px-6","py-3","text-left","text-xs","font-bold","text-gray-500","uppercase","tracking-wider"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-700","bg-gray-50","w-1/3"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-700","bg-gray-50"],[1,"font-medium"],[1,"bg-white","divide-y","divide-gray-200","border-t-8","border-gray-50"],[4,"ngIf"],[1,"px-2.5","py-0.5","rounded-full","text-xs","font-medium",3,"ngClass"],[1,"px-6","py-4","text-sm","text-gray-900"],[1,"list-disc","list-inside"]],template:function(a,u){1&a&&(e.j41(0,"table",0),e.DNE(1,hf,50,23,"tbody",1)(2,Ds,17,6,"tbody",2)(3,Ya,31,7,"tbody",2)(4,Kl,47,12,"tbody",2),e.k0s()),2&a&&(e.R7$(),e.Y8G("ngIf",null==u.formValue?null:u.formValue.preneurAssurance),e.R7$(),e.Y8G("ngIf",null==u.formValue?null:u.formValue.batiment),e.R7$(),e.Y8G("ngIf",null==u.formValue?null:u.formValue.evaluation),e.R7$(),e.Y8G("ngIf",null==u.formValue?null:u.formValue.garantiesHabitation))},dependencies:[P.MD,P.YU,P.bT,P.Pc,P.PV,P.oe,P.vh],encapsulation:2})}return p})();const zo=p=>({"border-red-500 ring-red-500":p});function Ql(p,S){if(1&p){const s=e.RV6();e.j41(0,"div",17)(1,"button",18),e.bIt("click",function(){const u=e.eBV(s).index,k=e.XpG();return e.Njj(k.removeAssure(u))}),e.qSk(),e.j41(2,"svg",19),e.nrm(3,"path",20),e.k0s()(),e.joV(),e.j41(4,"div",21)(5,"div")(6,"label",22),e.EFF(7,"Nom"),e.k0s(),e.nrm(8,"input",23),e.k0s(),e.j41(9,"div")(10,"label",22),e.EFF(11,"Pr\xe9nom"),e.k0s(),e.nrm(12,"input",24),e.k0s(),e.j41(13,"div")(14,"label",22),e.EFF(15,"Date de naissance"),e.k0s(),e.nrm(16,"input",25),e.k0s(),e.j41(17,"div")(18,"label",22),e.EFF(19,"Capital assur\xe9 (\u20ac)"),e.k0s(),e.nrm(20,"input",26),e.k0s()()()}if(2&p){let s,a,u,k;const J=S.$implicit,xe=S.index;e.Y8G("formGroupName",xe),e.R7$(6),e.Y8G("for","assure-nom-"+xe),e.R7$(2),e.Y8G("id","assure-nom-"+xe)("ngClass",e.eq3(13,zo,(null==(s=J.get("nom"))?null:s.invalid)&&(null==(s=J.get("nom"))?null:s.touched))),e.R7$(2),e.Y8G("for","assure-prenom-"+xe),e.R7$(2),e.Y8G("id","assure-prenom-"+xe)("ngClass",e.eq3(15,zo,(null==(a=J.get("prenom"))?null:a.invalid)&&(null==(a=J.get("prenom"))?null:a.touched))),e.R7$(2),e.Y8G("for","assure-dateNaissance-"+xe),e.R7$(2),e.Y8G("id","assure-dateNaissance-"+xe)("ngClass",e.eq3(17,zo,(null==(u=J.get("dateNaissance"))?null:u.invalid)&&(null==(u=J.get("dateNaissance"))?null:u.touched))),e.R7$(2),e.Y8G("for","assure-capital-"+xe),e.R7$(2),e.Y8G("id","assure-capital-"+xe)("ngClass",e.eq3(19,zo,(null==(k=J.get("capital"))?null:k.invalid)&&(null==(k=J.get("capital"))?null:k.touched)))}}function po(p,S){if(1&p&&(e.j41(0,"option",27),e.EFF(1),e.k0s()),2&p){const s=S.$implicit;e.Y8G("value",s.id),e.R7$(),e.JRh(s.nom)}}function Ht(p,S){if(1&p&&(e.j41(0,"option",27),e.EFF(1),e.k0s()),2&p){const s=S.$implicit;e.Y8G("value",s.statut),e.R7$(),e.JRh(s.statut)}}let Ka=(()=>{class p{fb;dbService;platformId;parentForm;statuts$;insuranceCompanies$;obsequesCities$=new un.t([]);destroy$=new he.B;constructor(s,a,u){this.fb=s,this.dbService=a,this.platformId=u}ngOnInit(){if(this.statuts$=this.dbService.getAllStatuts(),this.insuranceCompanies$=this.dbService.getAllAssureurs(),(0,P.UE)(this.platformId)){const s=this.parentForm.get("preneurObseques");if(!s)return;s.get("postalCode")?.valueChanges.pipe(Ye(300),Je(),(0,Re.n)(a=>a&&a.length>=4?this.dbService.getCitiesByPostalCode(a):(0,Z.of)([])),(0,pt.Q)(this.destroy$)).subscribe(a=>{this.obsequesCities$.next(a);const u=s.get("city");u?.setValue(1===a.length?a[0]:null)})}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}get assures(){return this.parentForm.get("assures.assures")}createAssureFormGroup(s={}){return this.fb.group({nom:[s.nom||""],prenom:[s.prenom||""],dateNaissance:[s.dateNaissance||""],capital:[s.capital||0]})}addAssure(){this.assures&&this.assures.push(this.createAssureFormGroup())}removeAssure(s){this.assures&&this.assures.removeAt(s)}static \u0275fac=function(a){return new(a||p)(e.rXU(F.ok),e.rXU(jt.y),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:p,selectors:[["app-obseques-form"]],inputs:{parentForm:"parentForm"},standalone:!0,features:[e.aNF],decls:31,vars:10,consts:[[3,"formGroup"],["formGroupName","assures",1,"mt-6"],[1,"text-lg","font-semibold","text-gray-800","bg-gray-100","-mx-6","px-6","py-2","mb-4","border-y"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-x-6","gap-y-4"],[1,"flex","items-center"],["id","preneurEstAssure","type","checkbox","formControlName","preneurEstAssure",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-500"],["for","preneurEstAssure",1,"ml-2","block","text-sm","text-gray-900"],["formArrayName","assures"],[1,"text-md","font-semibold","text-gray-600"],["class","p-4 border rounded-md mt-2 space-y-3 bg-gray-50 relative",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"mt-4","text-sm","font-medium","text-indigo-600","hover:text-indigo-500",3,"click"],["for","obs-insuranceCompany",1,"block","text-sm","font-medium","text-gray-700"],["id","obs-insuranceCompany","formControlName","insuranceCompany",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["for","obs-statut",1,"block","text-sm","font-medium","text-gray-700"],["id","obs-statut","formControlName","statut",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm"],[1,"p-4","border","rounded-md","mt-2","space-y-3","bg-gray-50","relative",3,"formGroupName"],["type","button",1,"absolute","top-2","right-2","text-red-500","hover:text-red-700",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"block","text-sm","font-medium","text-gray-700",3,"for"],["type","text","formControlName","nom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"id","ngClass"],["type","text","formControlName","prenom",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"id","ngClass"],["type","date","formControlName","dateNaissance",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"id","ngClass"],["type","number","formControlName","capital",1,"mt-1","focus:ring-2","focus:ring-blue-500","focus:outline-none","appearance-none","w-full","text-sm","leading-6","text-slate-900","placeholder-slate-400","rounded-md","py-2","px-3","ring-1","ring-slate-200","shadow-sm",3,"id","ngClass"],[3,"value"]],template:function(a,u){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"h3",2),e.EFF(3,"Assur\xe9s et contrat"),e.k0s(),e.j41(4,"div",3)(5,"div",4),e.nrm(6,"input",5),e.j41(7,"label",6),e.EFF(8,"Le preneur est aussi l'assur\xe9"),e.k0s()(),e.j41(9,"div",7)(10,"h4",8),e.EFF(11,"Liste des assur\xe9s"),e.k0s(),e.DNE(12,Ql,21,21,"div",9),e.j41(13,"button",10),e.bIt("click",function(){return u.addAssure()}),e.EFF(14,"+ Ajouter un assur\xe9"),e.k0s()(),e.j41(15,"div")(16,"label",11),e.EFF(17,"Compagnie"),e.k0s(),e.j41(18,"select",12)(19,"option",13),e.EFF(20,"-- S\xe9lectionner --"),e.k0s(),e.DNE(21,po,2,2,"option",14),e.nI1(22,"async"),e.k0s()(),e.j41(23,"div")(24,"label",15),e.EFF(25,"Statut"),e.k0s(),e.j41(26,"select",16)(27,"option",13),e.EFF(28,"-- S\xe9lectionner --"),e.k0s(),e.DNE(29,Ht,2,2,"option",14),e.nI1(30,"async"),e.k0s()()()()()),2&a&&(e.Y8G("formGroup",u.parentForm),e.R7$(12),e.Y8G("ngForOf",u.assures.controls),e.R7$(7),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",e.bMT(22,6,u.insuranceCompanies$)),e.R7$(6),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",e.bMT(30,8,u.statuts$)))},dependencies:[P.MD,P.YU,P.Sq,P.Jj,F.X1,F.xH,F.y7,F.me,F.Q0,F.Zm,F.wz,F.BC,F.cb,F.j4,F.JD,F.$R,F.v8],encapsulation:2})}return p})();function Jl(p,S){if(1&p&&(e.j41(0,"tbody",5)(1,"tr",6)(2,"th",7),e.EFF(3,"Preneur d'assurance"),e.k0s()(),e.j41(4,"tr")(5,"td",8),e.EFF(6,"Nom"),e.k0s(),e.j41(7,"td",9),e.EFF(8),e.nI1(9,"uppercase"),e.nI1(10,"titlecase"),e.k0s()(),e.j41(11,"tr")(12,"td",10),e.EFF(13,"Date de naissance"),e.k0s(),e.j41(14,"td",9),e.EFF(15),e.nI1(16,"date"),e.k0s()(),e.j41(17,"tr")(18,"td",10),e.EFF(19,"Contact"),e.k0s(),e.j41(20,"td",9),e.EFF(21),e.k0s()(),e.j41(22,"tr")(23,"td",10),e.EFF(24,"Adresse"),e.k0s(),e.j41(25,"td",9),e.EFF(26),e.k0s()()()),2&p){const s=S.ngIf;e.R7$(8),e.Lme("",e.bMT(9,8,s.lastName)," ",e.bMT(10,10,s.firstName),""),e.R7$(7),e.JRh(e.i5U(16,12,s.dateNaissance,"dd/MM/yyyy")),e.R7$(6),e.Lme("",s.email," | ",s.phone,""),e.R7$(5),e.E5c("",s.address,", ",s.postalCode," ",s.city,"")}}function mc(p,S){if(1&p&&(e.j41(0,"li"),e.EFF(1),e.nI1(2,"titlecase"),e.nI1(3,"uppercase"),e.nI1(4,"date"),e.j41(5,"strong"),e.EFF(6),e.nI1(7,"currency"),e.k0s()()),2&p){const s=S.$implicit;e.R7$(),e.E5c(" ",e.bMT(2,4,s.prenom)," ",e.bMT(3,6,s.nom)," (",e.i5U(4,8,s.dateNaissance,"dd/MM/yyyy"),") - Capital: "),e.R7$(5),e.JRh(e.i5U(7,11,s.capital,"EUR"))}}function pm(p,S){if(1&p&&(e.j41(0,"tr")(1,"td",14),e.EFF(2,"Liste des assur\xe9s"),e.k0s(),e.j41(3,"td",15)(4,"ul",16),e.DNE(5,mc,8,14,"li",17),e.k0s()()()),2&p){const s=e.XpG().ngIf;e.R7$(5),e.Y8G("ngForOf",s.assures)}}function mf(p,S){if(1&p&&(e.j41(0,"tbody",11)(1,"tr",6)(2,"th",7),e.EFF(3,"Assur\xe9s et contrat"),e.k0s()(),e.j41(4,"tr")(5,"td",10),e.EFF(6,"D\xe9tails contrat"),e.k0s(),e.j41(7,"td",9)(8,"p"),e.EFF(9,"Le preneur est assur\xe9: "),e.j41(10,"strong"),e.EFF(11),e.k0s()(),e.j41(12,"p"),e.EFF(13),e.k0s(),e.j41(14,"p"),e.EFF(15,"Statut: "),e.j41(16,"span",12),e.EFF(17),e.k0s()()()(),e.DNE(18,pm,6,1,"tr",13),e.k0s()),2&p){const s=S.ngIf,a=e.XpG(2);e.R7$(11),e.JRh(s.preneurEstAssure?"Oui":"Non"),e.R7$(2),e.SpI("Compagnie: ",a.getCompanyName(s.insuranceCompany)||"Non sp\xe9cifi\xe9e",""),e.R7$(3),e.Y8G("ngClass",a.getStatutClass(s.statut)),e.R7$(),e.JRh(s.statut||"N/A"),e.R7$(),e.Y8G("ngIf",(null==s.assures?null:s.assures.length)>0)}}function gf(p,S){if(1&p&&(e.j41(0,"div")(1,"table",2),e.DNE(2,Jl,27,15,"tbody",3)(3,mf,19,5,"tbody",4),e.k0s()()),2&p){const s=e.XpG();e.R7$(2),e.Y8G("ngIf",s.formValue.preneurObseques),e.R7$(),e.Y8G("ngIf",s.formValue.assures)}}function vf(p,S){1&p&&(e.j41(0,"div",18)(1,"p"),e.EFF(2,"Les informations du devis ne sont pas disponibles."),e.k0s()())}let gc=(()=>{class p{formValue;insuranceCompanies=[];getCompanyName(s){return Xl(s,this.insuranceCompanies)}getStatutClass(s){return Da(s)}static \u0275fac=function(a){return new(a||p)};static \u0275cmp=e.VBU({type:p,selectors:[["app-obseques-details"]],inputs:{formValue:"formValue",insuranceCompanies:"insuranceCompanies"},standalone:!0,features:[e.aNF],decls:3,vars:2,consts:[["noData",""],[4,"ngIf","ngIfElse"],[1,"min-w-full","divide-y","divide-gray-200"],["class","bg-white divide-y divide-gray-200",4,"ngIf"],["class","bg-white divide-y divide-gray-200 border-t-8 border-transparent",4,"ngIf"],[1,"bg-white","divide-y","divide-gray-200"],[1,"bg-gray-50"],["colspan","2",1,"px-6","py-3","text-left","text-xs","font-bold","text-gray-500","uppercase","tracking-wider"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-700","bg-gray-50","w-1/3"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-700","bg-gray-50"],[1,"bg-white","divide-y","divide-gray-200","border-t-8","border-transparent"],[1,"font-medium","px-2.5","py-0.5","rounded-full","text-xs",3,"ngClass"],[4,"ngIf"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-700","bg-gray-50","align-top"],[1,"px-6","py-4","text-sm","text-gray-900"],[1,"list-disc","list-inside","space-y-1"],[4,"ngFor","ngForOf"],[1,"text-center","py-8","text-gray-500"]],template:function(a,u){if(1&a&&e.DNE(0,gf,4,2,"div",1)(1,vf,3,0,"ng-template",null,0,e.C5r),2&a){const k=e.sdS(2);e.Y8G("ngIf",u.formValue)("ngIfElse",k)}},dependencies:[P.MD,P.YU,P.Sq,P.bT,P.Pc,P.PV,P.oe,P.vh],encapsulation:2})}return p})();var Wo=R(324),yf=R(4125);const _f=(p,S)=>({"text-green-800":p,"text-red-800":S});function bf(p,S){1&p&&(e.qSk(),e.j41(0,"svg",21),e.nrm(1,"path",22),e.k0s())}function Ef(p,S){1&p&&(e.qSk(),e.j41(0,"svg",23),e.nrm(1,"path",24),e.k0s())}function Cf(p,S){if(1&p){const s=e.RV6();e.j41(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10),e.DNE(4,bf,2,0,"svg",11)(5,Ef,2,0,"svg",12),e.k0s(),e.j41(6,"div",13)(7,"p",14),e.EFF(8),e.k0s(),e.j41(9,"p",15),e.EFF(10),e.k0s()(),e.j41(11,"div",16)(12,"button",17),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.hideNotification())}),e.j41(13,"span",18),e.EFF(14,"Fermer"),e.k0s(),e.qSk(),e.j41(15,"svg",19),e.nrm(16,"path",20),e.k0s()()()()()()}if(2&p){const s=e.XpG();e.R7$(4),e.Y8G("ngIf","success"===s.popupType),e.R7$(),e.Y8G("ngIf","error"===s.popupType),e.R7$(2),e.Y8G("ngClass",e.l_i(5,_f,"success"===s.popupType,"error"===s.popupType)),e.R7$(),e.SpI(" ","success"===s.popupType?"Succ\xe8s":"Erreur"," "),e.R7$(2),e.JRh(s.popupMessage)}}function $e(p,S){if(1&p&&e.nrm(0,"app-auto-form",38),2&p){const s=e.XpG(3);e.Y8G("parentForm",s.quoteUpdateForm)("marqueCtrl",s.marqueCtrl)("filteredMarques$",s.filteredMarques$)("isMarqueLoading",s.isMarqueLoading)("isModeleLoading",s.isModeleLoading)("modelesForSelectedMarque",s.modelesForSelectedMarque)("selectMarque",s.selectMarque.bind(s))("preneurCities$",s.preneurCities$)("conducteurCities$",s.conducteurCities$)}}function mn(p,S){if(1&p&&e.nrm(0,"app-habitation-form",39),2&p){const s=e.XpG(3);e.Y8G("parentForm",s.quoteUpdateForm)}}function vc(p,S){if(1&p&&e.nrm(0,"app-obseques-form",39),2&p){const s=e.XpG(3);e.Y8G("parentForm",s.quoteUpdateForm)}}function yc(p,S){if(1&p){const s=e.RV6();e.qex(0),e.j41(1,"div",31)(2,"form",32),e.bIt("ngSubmit",function(){e.eBV(s);const u=e.XpG(2);return e.Njj(u.updateQuoteDetails())}),e.j41(3,"h2",33),e.EFF(4,"Mettre \xe0 jour l'offre"),e.k0s(),e.qex(5,29),e.DNE(6,$e,1,9,"app-auto-form",34)(7,mn,1,1,"app-habitation-form",35)(8,vc,1,1,"app-obseques-form",35),e.bVm(),e.j41(9,"div",36)(10,"button",37),e.EFF(11," Mettre \xe0 jour les informations "),e.k0s()()()(),e.bVm()}if(2&p){const s=e.XpG(2);e.R7$(2),e.Y8G("formGroup",s.quoteUpdateForm),e.R7$(3),e.Y8G("ngSwitch",s.quoteType),e.R7$(),e.Y8G("ngSwitchCase","auto"),e.R7$(),e.Y8G("ngSwitchCase","habitation"),e.R7$(),e.Y8G("ngSwitchCase","obseques"),e.R7$(2),e.Y8G("disabled",s.quoteUpdateForm.invalid||s.quoteUpdateForm.pristine)}}function Wn(p,S){if(1&p&&e.nrm(0,"app-auto-details",49),2&p){const s=e.XpG(3);e.Y8G("formValue",s.quoteUpdateForm.value)}}function _c(p,S){if(1&p&&e.nrm(0,"app-habitation-details",50),2&p){const s=e.XpG(3);e.Y8G("formValue",s.quoteUpdateForm.value)("insuranceCompanies",s.insuranceCompanies)}}function xa(p,S){if(1&p&&e.nrm(0,"app-obseques-details",50),2&p){const s=e.XpG(3);e.Y8G("formValue",s.quoteUpdateForm.value)("insuranceCompanies",s.insuranceCompanies)}}function Gs(p,S){if(1&p){const s=e.RV6();e.qex(0),e.j41(1,"div",40)(2,"div",41)(3,"h2",42),e.EFF(4,"R\xe9sum\xe9 de l'offre (Lecture seule)"),e.k0s(),e.j41(5,"button",43),e.bIt("click",function(){e.eBV(s);const u=e.XpG(2);return e.Njj(u.printQuote())}),e.qSk(),e.j41(6,"svg",44),e.nrm(7,"path",45),e.k0s(),e.EFF(8," Imprimer "),e.k0s()(),e.joV(),e.j41(9,"div",46),e.qex(10,29),e.DNE(11,Wn,1,1,"app-auto-details",47)(12,_c,1,2,"app-habitation-details",48)(13,xa,1,2,"app-obseques-details",48),e.bVm(),e.k0s()(),e.bVm()}if(2&p){const s=e.XpG(2);e.R7$(10),e.Y8G("ngSwitch",s.quoteType),e.R7$(),e.Y8G("ngSwitchCase","auto"),e.R7$(),e.Y8G("ngSwitchCase","habitation"),e.R7$(),e.Y8G("ngSwitchCase","obseques")}}function Zl(p,S){if(1&p){const s=e.RV6();e.j41(0,"div")(1,"h1",25),e.EFF(2),e.nI1(3,"titlecase"),e.k0s(),e.j41(4,"div",26)(5,"nav",27)(6,"button",28),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.activeTab="form")}),e.EFF(7," Formulaire "),e.k0s(),e.j41(8,"button",28),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.activeTab="text")}),e.EFF(9," Fiche "),e.k0s()()(),e.j41(10,"div",29),e.DNE(11,yc,12,6,"ng-container",30)(12,Gs,14,4,"ng-container",30),e.k0s()()}if(2&p){const s=e.XpG();e.R7$(2),e.Lme("D\xe9tails de l'offre #",s.quoteId," - ",e.bMT(3,7,s.quoteType),""),e.R7$(4),e.Y8G("ngClass","form"===s.activeTab?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngClass","text"===s.activeTab?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),e.R7$(2),e.Y8G("ngSwitch",s.activeTab),e.R7$(),e.Y8G("ngSwitchCase","form"),e.R7$(),e.Y8G("ngSwitchCase","text")}}function eu(p,S){1&p&&e.EFF(0,"Chargement des D\xe9tails de l'offre...")}let bc=(()=>{class p{route;dbService;fb;uploaderService;contractService;sendsmsService;platformId;quoteDetails$;quoteDetails;quoteType=null;quoteId=null;activeTab="form";csvData$=(0,Z.of)([]);showPopup=!1;popupMessage="";popupType="success";popupTimeout;showMainDriverSection=!1;nationalities$;preneurCities$=new un.t([]);statuts$;conducteurCities$=new un.t([]);batimentCities$=new un.t([]);obsequesCities$=new un.t([]);marqueCtrl=new F.MJ("");filteredMarques$;isMarqueLoading=!1;isModeleLoading=!1;insuranceCompanies$;insuranceCompanies=[];destroy$=new he.B;modelesForSelectedMarque=[];selectedMarqueId=null;vehicleYears=[];contractForm;quoteUpdateForm;today;constructor(s,a,u,k,J,xe,Dt){this.route=s,this.dbService=a,this.fb=u,this.uploaderService=k,this.contractService=J,this.sendsmsService=xe,this.platformId=Dt;const kt=new Date,cn=kt.getFullYear(),gn=("0"+(kt.getMonth()+1)).slice(-2),qn=("0"+kt.getDate()).slice(-2);this.today=`${cn}-${gn}-${qn}`,this.contractForm=this.fb.group({date_contrat:["",F.k0.required],periodicite:["annuel",F.k0.required],compagnie_id:[null,F.k0.required],rappel:[!1],fichiers_contrat:new F.MJ(null)}),this.quoteUpdateForm=this.fb.group({preneurAssurance:this.fb.group({prenom:[""],nom:[""],date_naissance:[""],email:["",F.k0.email],telephone:[""],address:[""],postalCode:[""],city:[null],driverLicenseNumber:[""],driverLicenseDate:[""],nationalRegistryNumber:["",this.belgianNationalNumberValidator()],idCardNumber:[""],idCardValidityDate:[""],nationality:[""],maritalStatus:[""]}),preneurObseques:this.fb.group({prenom:[""],nom:[""],date_naissance:[""],email:["",F.k0.email],telephone:[""],address:[""],postalCode:[""],city:[null]}),conducteurPrincipal:this.fb.group({prenom:[""],nom:[""],date_naissance:[""],email:["",F.k0.email],telephone:[""],address:[""],postalCode:[""],city:[null],driverLicenseNumber:[""],driverLicenseDate:[""],nationalRegistryNumber:["",this.belgianNationalNumberValidator()],idCardNumber:[""],idCardValidityDate:[""],nationality:[""],maritalStatus:[""]}),vehicule:this.fb.group({make:[""],model:[""],year:[null],licensePlate:[""],power:[null],value:[null],seats:[null],registrationDate:[""]}),garantie:this.fb.group({baseRC:[!1],omniumLevel:[""],driverCoverage:[!1],assistance:[!1],effectiveDate:[""],insuranceCompany:[null],statut:[""]}),garantiesHabitation:this.fb.group({contenu:[!1],vol:[!1],pertesIndirectes:[!1],protectionJuridique:[!1],assistance:[!1],dateEffet:[""],statut:[""],insuranceCompany:[null]}),batiment:this.fb.group({batiment_adresse:[""],batiment_code_postal:[""],batiment_ville:[null],batiment_type_maison:[""]}),evaluation:this.fb.group({typeValeurBatiment:[""],superficie:[null],nombrePieces:[null],loyerMensuel:[null],typeValeurContenu:[""],valeurExpertise:[null],dateExpertise:[""]}),assures:this.fb.group({preneurEstAssure:[!1],assures:this.fb.array([]),statut:[""],insuranceCompany:[null]}),detailsVoyage:this.fb.group({description:[""],statut:[""]}),detailsRCFamiliale:this.fb.group({preneur_nom:[""],preneur_prenom:[""],preneur_genre:[""],preneur_telephone:[""],preneur_email:[""],preneur_adresse:[""],preneur_code_postal:[""],preneur_ville:[""],risque:[""],nationalRegistryNumber:["",this.belgianNationalNumberValidator()],statut:[""],idCardNumber:[""],description:[""]})})}ngOnInit(){for(let a=(new Date).getFullYear();a>=1940;a--)this.vehicleYears.push(a);if(this.quoteUpdateForm.get("preneurAssurance")?.setValidators(this.nationalNumberDateConsistencyValidator()),this.quoteUpdateForm.get("conducteurPrincipal")?.setValidators(this.nationalNumberDateConsistencyValidator()),this.subscribeToInsuranceCompanies(),this.nationalities$=this.dbService.getNationalities(),this.statuts$=this.dbService.getAllStatuts(),(0,P.UE)(this.platformId)){const a=this.quoteUpdateForm.get("preneurAssurance.postalCode");a&&a.valueChanges.pipe(Ye(300),Je(),(0,Re.n)(k=>k&&k.length>=4?this.dbService.getCitiesByPostalCode(k):(0,Z.of)([]))).subscribe(k=>{this.preneurCities$.next(k);const J=this.quoteUpdateForm.get("preneurAssurance.city"),xe=J?.value;xe&&!k.includes(xe)&&J.reset()});const u=this.quoteUpdateForm.get("preneurObseques.postalCode");u&&u.valueChanges.pipe(Ye(300),Je(),(0,Re.n)(k=>k&&k.length>=4?this.dbService.getCitiesByPostalCode(k):(0,Z.of)([]))).subscribe(k=>this.obsequesCities$.next(k))}this.filteredMarques$=this.marqueCtrl.valueChanges.pipe((0,K.Z)(""),Ye(300),Je(),(0,ve.M)(a=>{const u="string"==typeof a?a:a?.nom||"";"string"==typeof a&&(this.quoteUpdateForm.get("vehicule.model")?.setValue(""),this.modelesForSelectedMarque=[],this.selectedMarqueId=null),this.isMarqueLoading=u.length>=2}),(0,Re.n)(a=>{const u="string"==typeof a?a:a?.nom||"";return u.length>=2?this.dbService.searchMarques(u).pipe((0,ni.j)(()=>this.isMarqueLoading=!1)):(this.isMarqueLoading=!1,(0,Z.of)([]))})),this.marqueCtrl.valueChanges.pipe((0,pt.Q)(this.destroy$)).subscribe(a=>{this.quoteUpdateForm.get("vehicule.make")?.setValue(a,{emitEvent:!1})}),this.quoteDetails$=this.getQuoteDetailsFromRoute(),this.csvData$=this.route.paramMap.pipe((0,Re.n)(a=>{const u=a.get("type"),k=Number(a.get("id"));return u&&k?this.dbService.getCsvData(k,u):(0,Z.of)([])}))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}patchFormValues(s){const a=this.quoteUpdateForm.get("preneurAssurance.postalCode")?.value;console.warn("[ManagementDetailComponent] patchFormValues - Vehicle brand:",s.vehicule?.marque);const u=this.quoteUpdateForm.get("batiment.codePostal")?.value,k=this.quoteUpdateForm.get("preneurObseques.postalCode")?.value,J=s.vehicule?.marque,xe=(0,P.UE)(this.platformId)&&a?this.dbService.getCitiesByPostalCode(a).pipe((0,ve.M)(gn=>this.preneurCities$.next(gn))):(0,Z.of)(null),Dt=(0,P.UE)(this.platformId)&&u?this.dbService.getCitiesByPostalCode(u).pipe((0,ve.M)(gn=>this.batimentCities$.next(gn))):(0,Z.of)([]),kt=(0,P.UE)(this.platformId)&&k?this.dbService.getCitiesByPostalCode(k).pipe((0,ve.M)(gn=>this.obsequesCities$.next(gn))):(0,Z.of)(null),cn=(0,P.UE)(this.platformId)&&"auto"===this.quoteType&&J?this.dbService.searchMarques(J).pipe((0,Re.n)(gn=>gn&&gn.length>0?(this.selectedMarqueId=gn[0].marque_id,this.isModeleLoading=!0,this.dbService.searchModeles(this.selectedMarqueId).pipe((0,ve.M)(Ln=>{this.modelesForSelectedMarque=Ln,console.warn("[ManagementDetailComponent] patchFormValues - Patching model with value:",s.vehicule.modele),this.quoteUpdateForm.get("vehicule.model")?.patchValue(s.vehicule.modele,{emitEvent:!1})}),(0,ni.j)(()=>this.isModeleLoading=!1))):(0,Z.of)(null))):(0,Z.of)(null);return(0,Z.of)(s).pipe((0,Re.n)(()=>Promise.all([xe,Dt,kt,cn])))}_patchCommonPreneur(s,a){const u=s.preneur||s;u&&(console.warn("[ManagementDetailComponent] Patching preneur form with date_naissance:",u.date_naissance),this.quoteUpdateForm.get("preneurAssurance")?.patchValue({prenom:u.prenom,nom:u.nom,date_naissance:a(u.date_naissance),email:u.email,telephone:u.telephone,address:u.adresse,postalCode:u.code_postal,city:u.ville,driverLicenseNumber:u.permis_numero,driverLicenseDate:a(u.permis_date),nationalRegistryNumber:u.numero_national,idCardNumber:u.idcard_number,idCardValidityDate:a(u.idcard_validity),nationality:u.nationality,maritalStatus:u.marital_status_id}))}_patchAuto(s,a){this._patchCommonPreneur(s,a),this.showMainDriverSection=s.preneur_id!==s.conducteur_id,this.showMainDriverSection&&s.conducteur&&this.quoteUpdateForm.get("conducteurPrincipal")?.patchValue({firstName:s.conducteur.prenom,lastName:s.conducteur.nom,date_naissance:a(s.conducteur.date_naissance),email:s.conducteur.email,telephone:s.conducteur.telephone,address:s.conducteur.adresse,postalCode:s.conducteur.code_postal,city:s.conducteur.ville,driverLicenseNumber:s.conducteur.permis_numero,driverLicenseDate:a(s.conducteur.permis_date),nationalRegistryNumber:s.conducteur.numero_national,idCardNumber:s.conducteur.idcard_number,idCardValidityDate:a(s.conducteur.idcard_validity),nationality:s.conducteur.nationality,maritalStatus:s.conducteur.marital_status_id}),s.vehicule&&(console.warn("[ManagementDetailComponent] Patching vehicle form with:",s),console.warn("[ManagementDetailComponent] Patching vehicle form with:",s.vehicule),this.quoteUpdateForm.get("vehicule")?.patchValue({make:s.vehicule.marque,model:s.vehicule.modele,year:s.vehicule.annee,licensePlate:s.vehicule.plaque,power:s.vehicule.puissance_kw,value:s.vehicule.valeur,seats:s.vehicule.places,registrationDate:a(s.vehicule.date_circulation)}),this.marqueCtrl.setValue(s.vehicule.marque||"",{emitEvent:!1})),this.quoteUpdateForm.get("garantie")?.patchValue({baseRC:s.garantie_base_rc,omniumLevel:s.garantie_omnium_niveau,driverCoverage:s.garantie_conducteur,assistance:s.garantie_assistance,effectiveDate:a(s.date_effet),insuranceCompany:s.compagnie_id,statut:s.statut})}_patchHabitation(s,a){this._patchCommonPreneur(s,a),this.quoteUpdateForm.get("batiment")?.patchValue({batiment_adresse:s.batiment_adresse,batiment_code_postal:s.batiment_code_postal,batiment_ville:s.batiment_ville,batiment_type_maison:s.batiment_type_maison}),this.quoteUpdateForm.get("evaluation")?.patchValue({typeValeurBatiment:s.evaluation_type_valeur_batiment,superficie:s.evaluation_superficie,nombrePieces:s.evaluation_nombre_pieces,loyerMensuel:s.evaluation_loyer_mensuel,typeValeurContenu:s.evaluation_type_valeur_contenu,valeurExpertise:s.evaluation_valeur_expertise,dateExpertise:a(s.evaluation_date_expertise)}),this.quoteUpdateForm.get("garantiesHabitation")?.patchValue({contenu:s.garantie_contenu,vol:s.garantie_vol,pertesIndirectes:s.garantie_pertes_indirectes,protectionJuridique:s.garantie_protection_juridique,assistance:s.garantie_assistance,dateEffet:a(s.date_effet),statut:s.statut,insuranceCompany:s.compagnie_id})}_patchObseques(s,a){const u=s.preneur||s;this.quoteUpdateForm.get("preneurObseques")?.patchValue({prenom:u.prenom,nom:u.nom,dateNaissance:a(u.date_naissance),email:u.email,phone:u.telephone,address:u.adresse,postalCode:u.code_postal,city:u.ville}),this.quoteUpdateForm.get("assures.preneurEstAssure")?.setValue(s.preneur_est_assure),this.quoteUpdateForm.get("assures.statut")?.setValue(s.statut),this.quoteUpdateForm.get("assures.insuranceCompany")?.setValue(s.compagnie_id);const k=s.assures||[],J=this.quoteUpdateForm.get("assures.assures");J.clear(),k.forEach(xe=>{J.push(this.fb.group({nom:[xe.nom],prenom:[xe.prenom],dateNaissance:[a(xe.dateNaissance)],capital:[xe.capital]}))})}getQuoteDetailsFromRoute(){return this.route.paramMap.pipe((0,Re.n)(s=>(this.quoteType=s.get("type"),this.quoteId=Number(s.get("id")),this.quoteType&&this.quoteId?this.dbService.getQuoteDetails(this.quoteType,this.quoteId):(console.warn("[ManagementDetailComponent] Missing quote type or ID in route parameters."),(0,Z.of)(null)))),(0,Re.n)(s=>{if(s){this.quoteDetails=s,console.warn("[ManagementDetailComponent] Received details from DB:",JSON.parse(JSON.stringify(s)));const a=u=>u?this.formatDateForInput(u):null;switch(this.quoteType){case"auto":this._patchAuto(s,a);break;case"habitation":this._patchHabitation(s,a);break;case"obseques":this._patchObseques(s,a);break;case"voyage":this.quoteUpdateForm.get("detailsVoyage")?.patchValue({description:s.description,statut:s.statut});break;case"rc":this._patchCommonPreneur(s,a),this.quoteUpdateForm.get("detailsRCFamiliale")?.patchValue({...s,nationalRegistryNumber:s.numero_national})}return"habitation"===this.quoteType&&s.batiment_code_postal&&this.dbService.getCitiesByPostalCode(s.batiment_code_postal).subscribe(u=>{this.batimentCities$.next(u),this.quoteUpdateForm.get("batiment.batiment_ville")?.patchValue(s.batiment_ville)}),this.patchFormValues(s).pipe((0,fe.T)(()=>s))}return(0,Z.of)(null)}),(0,te.W)(s=>(console.error("Erreur lors de la r\xe9cup\xe9ration des d\xe9tails du devis:",s),(0,Z.of)(null))))}selectMarque(s){this.selectedMarqueId=s.marque_id,this.quoteUpdateForm.get("vehicule.make")?.setValue(s.nom,{emitEvent:!1}),this.marqueCtrl.setValue(s.nom),this.quoteUpdateForm.get("vehicule.model")?.reset(""),this.modelesForSelectedMarque=[],this.isModeleLoading=!0,null!==this.selectedMarqueId&&this.dbService.searchModeles(this.selectedMarqueId).pipe((0,ni.j)(()=>this.isModeleLoading=!1)).subscribe(a=>{this.modelesForSelectedMarque=a}),this.filteredMarques$=(0,Z.of)([])}formatAsTitle(s){if(!s)return"";const a=s.replace(/([A-Z])/g," $1");return a.charAt(0).toUpperCase()+a.slice(1)}formatDateForInput(s){return new Date(s).toISOString().split("T")[0]}onFileSelected(s){const a=s.target,u=a.files?Array.from(a.files):null;this.contractForm.patchValue({fichiers_contrat:u})}saveContract(){if(this.contractForm.invalid)return void console.log("Le formulaire est invalide.");if(!this.quoteId||!this.quoteType)return void console.error("L'ID ou le type de devis est manquant, impossible de sauvegarder le contrat.");const s=this.contractForm.value,a=s.fichiers_contrat;let u=[];if(a&&a.length>0){const J=new Date,xe=`${J.getFullYear()}${(J.getMonth()+1).toString().padStart(2,"0")}${J.getDate().toString().padStart(2,"0")}`,Dt=`${this.quoteId}_${this.quoteType}_${xe}`;u=a.map((kt,cn)=>{const gn=kt.name.split(".").pop();return new File([kt],`${Dt}_${cn+1}.${gn}`,{type:kt.type})})}(u.length>0?this.uploaderService.uploadContractFiles(u,this.quoteId,this.quoteType).pipe(function Jt(){return(0,nt.N)((p,S)=>{(function ut(p,S){return(0,nt.N)((0,we.S)(p,S,arguments.length>=2,!1,!0))})(Vt,[])(p).subscribe(S)})}()):(0,Z.of)([])).pipe((0,fe.T)(J=>J.filter(xe=>!!xe&&"success"===xe.status).map(xe=>xe.path)),(0,Re.n)(J=>{console.log("Fichiers t\xe9l\xe9vers\xe9s avec succ\xe8s:",J);const xe={quote_id:this.quoteId,quote_type:this.quoteType,compagnie_id:s.compagnie_id,date_contrat:s.date_contrat,periodicite:s.periodicite,rappel:s.rappel,document_paths:J,uid:crypto.randomUUID()};return console.log("Donn\xe9es du contrat \xe0 sauvegarder:",xe),this.contractService.saveContractData(xe)}),(0,te.W)(J=>(console.error("Une erreur est survenue lors du t\xe9l\xe9versement ou de la sauvegarde:",J),(0,Z.of)({success:!1,error:J})))).subscribe(J=>{J&&!J.error?console.log("Contrat enregistr\xe9 avec succ\xe8s !"):console.error("\xc9chec de l'enregistrement du contrat.",J?.error)})}printQuote(){const s=document.getElementById("printable-section");if(s){const a=window.open("","","left=0,top=0,width=900,height=900,toolbar=0,scrollbars=0,status=0");a&&(a.document.write("<html><head><title>Imprimer</title>\n          <style>\n            body { font-family: sans-serif; }\n            table { width: 100%; border-collapse: collapse; }\n            th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }\n            th { background-color: #f2f2f2; }\n            .bg-gray-100 { background-color: #f3f4f6; }\n            .font-bold { font-weight: 700; }\n            .uppercase { text-transform: uppercase; }\n          </style>\n        </head><body>"+s.innerHTML+"</body></html>"),a.document.close(),a.focus(),a.print(),a.close())}}updateQuoteDetails(){if(!this.quoteUpdateForm.valid)return console.error("Le formulaire de mise \xe0 jour est invalide."),void this.quoteUpdateForm.markAllAsTouched();const s=this.quoteUpdateForm.value;console.warn("[ManagementDetailComponent] Form value on update:",s);const a=s.garantie?.statut,u=this.quoteDetails?.statut,k=s.preneurAssurance?.phone;if("auto"===this.quoteType&&"Nouveau"===a&&"Nouveau"!==u&&k){const J="AssurKin: Un nouveau document relatif \xe0 l'assurance automobile est disponible dans votre espace";console.log(`Envoi du SMS au ${k}`),this.sendsmsService.sendSms(k,J).then(()=>console.log("SMS envoy\xe9 avec succ\xe8s.")).catch(xe=>console.error("Erreur lors de l'envoi du SMS:",xe))}if("auto"===this.quoteType){console.warn("[ManagementDetailComponent] Preneur data sent to payload:",s.preneurAssurance);const J={p_preneur:s.preneurAssurance,p_vehicule:s.vehicule,p_devis:{garantie_base_rc:s.garantie?.baseRC??!1,garantie_omnium_niveau:s.garantie?.omniumLevel??"",garantie_conducteur:s.garantie?.driverCoverage??!1,garantie_assistance:s.garantie?.assistance??!1,date_effet:s.garantie?.effectiveDate?this.formatDateForInput(s.garantie.effectiveDate):"",compagnie_id:s.garantie?.insuranceCompany,statut:s.garantie?.statut}};this.showMainDriverSection&&(J.p_conducteur=s.conducteurPrincipal),this.executeUpdate(this.dbService.updateAutoQuote(this.quoteId,J))}else if("obseques"===this.quoteType){const J=this.quoteUpdateForm.get("assures.assures").value.map(Dt=>({...Dt,dateNaissance:Dt.dateNaissance?this.formatDateForInput(Dt.dateNaissance):null})),xe={preneur:{...s.preneurObseques,date_naissance:s.preneurObseques?.date_naissance?this.formatDateForInput(s.preneurObseques.date_naissance):null},devis:{preneur_est_assure:s.assures?.preneurEstAssure,assures:J,nombre_assures:J.length,statut:s.assures?.statut,compagnie_id:s.assures?.insuranceCompany}};this.executeUpdate(this.dbService.updateObsequesQuote(this.quoteId,xe))}else if("habitation"===this.quoteType){const J={p_preneur:s.preneurAssurance,p_devis:{batiment_adresse:s.batiment?.batiment_adresse,batiment_code_postal:s.batiment?.batiment_code_postal,batiment_ville:s.batiment?.batiment_ville,batiment_type_maison:s.batiment?.batiment_type_maison,evaluation_type_valeur_batiment:s.evaluation?.typeValeurBatiment,evaluation_superficie:s.evaluation?.superficie,evaluation_nombre_pieces:s.evaluation?.nombrePieces,evaluation_loyer_mensuel:s.evaluation?.loyerMensuel,evaluation_type_valeur_contenu:s.evaluation?.typeValeurContenu,evaluation_valeur_expertise:s.evaluation?.valeurExpertise,evaluation_date_expertise:s.evaluation?.dateExpertise?this.formatDateForInput(s.evaluation.dateExpertise):null,evaluation_valeur_libre_contenu:s.evaluation?.evaluation_valeur_libre_contenu,garantie_contenu:s.garantiesHabitation?.contenu,garantie_vol:s.garantiesHabitation?.vol,garantie_pertes_indirectes:s.garantiesHabitation?.pertesIndirectes,garantie_protection_juridique:s.garantiesHabitation?.protectionJuridique,garantie_assistance:s.garantiesHabitation?.assistance,date_effet:s.garantiesHabitation?.dateEffet?this.formatDateForInput(s.garantiesHabitation.dateEffet):null,statut:s.garantiesHabitation?.statut,compagnie_id:s.garantiesHabitation?.insuranceCompany}};this.executeUpdate(this.dbService.updateHabitationQuote(this.quoteId,J))}else console.warn(`[ManagementDetailComponent] La mise \xe0 jour pour le type de devis '${this.quoteType}' n'est pas encore impl\xe9ment\xe9e.`)}showNotification(s,a){this.popupMessage=s,this.popupType=a,this.showPopup=!0,this.popupTimeout&&clearTimeout(this.popupTimeout),this.popupTimeout=setTimeout(()=>{this.hideNotification()},5e3)}hideNotification(){this.showPopup=!1,this.popupTimeout&&clearTimeout(this.popupTimeout)}executeUpdate(s){console.log("Envoi des donn\xe9es de mise \xe0 jour..."),s.pipe((0,te.W)(a=>(console.error("Erreur lors de la mise \xe0 jour du devis:",a),this.showNotification("Erreur lors de la mise \xe0 jour du devis.","error"),(0,Z.of)({success:!1,error:a})))).subscribe(a=>{a&&a.success?(console.log("Devis mis \xe0 jour avec succ\xe8s !",a),this.quoteUpdateForm.markAsPristine(),this.showNotification("Devis mis \xe0 jour avec succ\xe8s !","success")):(console.warn("[ManagementDetailComponent] Update failed. Response:",a),this.showNotification("La mise \xe0 jour du devis a \xe9chou\xe9. "+(a?.error?.message||""),"error"))})}nationalNumberDateConsistencyValidator(){return s=>{const a=s.get("dateNaissance"),u=s.get("nationalRegistryNumber");if(!a?.value||!u?.value||u.invalid){if(u?.hasError("dateMismatch")){const Ln={...u.errors};delete Ln.dateMismatch,u.setErrors(Object.keys(Ln).length>0?Ln:null)}return null}const k=new Date(a.value),J=u.value.replace(/\D/g,""),xe=parseInt(J.substring(0,2),10),Dt=parseInt(J.substring(2,4),10),kt=parseInt(J.substring(4,6),10),gn=100*Math.floor(k.getFullYear()/100)+xe,qn=new Date(gn,Dt-1,kt);return k.setHours(0,0,0,0),qn.setHours(0,0,0,0),k.getTime()!==qn.getTime()?(u.setErrors({...u.errors,dateMismatch:!0}),{dateMismatch:!0}):null}}belgianNationalNumberValidator(){return s=>{if(!s.value)return null;const a=s.value.replace(/\D/g,"");if(11!==a.length)return{invalidFormat:!0};const u=parseInt(a.substring(0,2),10),k=parseInt(a.substring(2,4),10),J=parseInt(a.substring(4,6),10),xe=a.substring(0,9),Dt=parseInt(a.substring(9,11),10),kt=new Date(1900+u,k-1,J),cn=new Date(2e3+u,k-1,J),gn=kt.getFullYear()===1900+u&&kt.getMonth()===k-1&&kt.getDate()===J,qn=cn.getFullYear()===2e3+u&&cn.getMonth()===k-1&&cn.getDate()===J;if(!gn&&!qn)return{invalidDate:!0};const Ut=97-parseInt(xe,10)%97,cs=97-parseInt("2"+xe,10)%97;return Dt!==Ut&&Dt!==cs?{invalidChecksum:!0}:null}}subscribeToInsuranceCompanies(){this.insuranceCompanies$=this.dbService.getAllAssureurs(),this.insuranceCompanies$.pipe((0,pt.Q)(this.destroy$)).subscribe(s=>{s&&(this.insuranceCompanies=s)})}getCompanyName=Xl;getStatutClass=Da;getObjectKeys(s){return s?Object.keys(s):[]}static \u0275fac=function(a){return new(a||p)(e.rXU(de.nX),e.rXU(jt.y),e.rXU(F.ok),e.rXU(wo.U),e.rXU(Wo.y),e.rXU(yf.T),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:p,selectors:[["app-management-detail"]],standalone:!0,features:[e.aNF],decls:10,vars:5,consts:[["loadingTpl",""],["class","fixed top-5 right-5 max-w-sm w-full bg-white shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden z-50",4,"ngIf"],[1,"container","mx-auto","p-4"],["routerLink","/management",1,"inline-flex","items-center","text-indigo-600","hover:text-indigo-800","mb-4","group"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","mr-2","transition-transform","group-hover:-translate-x-1"],["fill-rule","evenodd","d","M9.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L7.414 9H15a1 1 0 110 2H7.414l2.293 2.293a1 1 0 010 1.414z","clip-rule","evenodd"],[4,"ngIf","ngIfElse"],[1,"fixed","top-5","right-5","max-w-sm","w-full","bg-white","shadow-lg","rounded-lg","pointer-events-auto","ring-1","ring-black","ring-opacity-5","overflow-hidden","z-50"],[1,"p-4"],[1,"flex","items-start"],[1,"flex-shrink-0"],["class","h-6 w-6 text-green-400","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","aria-hidden","true",4,"ngIf"],["class","h-6 w-6 text-red-400","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","aria-hidden","true",4,"ngIf"],[1,"ml-3","w-0","flex-1","pt-0.5"],[1,"text-sm","font-medium","text-gray-900",3,"ngClass"],[1,"mt-1","text-sm","text-gray-500"],[1,"ml-4","flex-shrink-0","flex"],[1,"bg-white","rounded-md","inline-flex","text-gray-400","hover:text-gray-500","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],[1,"sr-only"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5"],["fill-rule","evenodd","d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule","evenodd"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","aria-hidden","true",1,"h-6","w-6","text-green-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","aria-hidden","true",1,"h-6","w-6","text-red-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-2xl","font-bold","mb-4"],[1,"mb-6","border-b","border-gray-200"],["aria-label","Tabs",1,"-mb-px","flex","space-x-6"],[1,"whitespace-nowrap","py-4","px-1","border-b-2","font-medium","text-sm",3,"click","ngClass"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"bg-white","shadow-md","rounded-lg","p-6"],[1,"space-y-6","max-w-4xl","mx-auto",3,"ngSubmit","formGroup"],[1,"text-xl","font-semibold","border-b","pb-2"],[3,"parentForm","marqueCtrl","filteredMarques$","isMarqueLoading","isModeleLoading","modelesForSelectedMarque","selectMarque","preneurCities$","conducteurCities$",4,"ngSwitchCase"],[3,"parentForm",4,"ngSwitchCase"],[1,"pt-4"],["type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-blue-600","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","disabled:bg-gray-400",3,"disabled"],[3,"parentForm","marqueCtrl","filteredMarques$","isMarqueLoading","isModeleLoading","modelesForSelectedMarque","selectMarque","preneurCities$","conducteurCities$"],[3,"parentForm"],[1,"bg-white","shadow-md","rounded-lg","overflow-hidden"],[1,"px-6","py-4","border-b","border-gray-200","flex","justify-between","items-center"],[1,"text-xl","font-semibold","text-gray-800"],[1,"inline-flex","items-center","px-3","py-1.5","border","border-transparent","text-sm","leading-5","font-medium","rounded-md","text-white","bg-indigo-600","hover:bg-indigo-500","focus:outline-none","focus:border-indigo-700","focus:ring-indigo","active:bg-indigo-700","transition","ease-in-out","duration-150",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","mr-2"],["fill-rule","evenodd","d","M5 4v3H4a2 2 0 00-2 2v6a2 2 0 002 2h12a2 2 0 002-2V9a2 2 0 00-2-2h-1V4a2 2 0 00-2-2H7a2 2 0 00-2 2zm8 0H7v3h6V4zm-2 5a1 1 0 00-1 1v4a1 1 0 102 0v-4a1 1 0 00-1-1z","clip-rule","evenodd"],["id","printable-section",1,"p-4"],[3,"formValue",4,"ngSwitchCase"],[3,"formValue","insuranceCompanies",4,"ngSwitchCase"],[3,"formValue"],[3,"formValue","insuranceCompanies"]],template:function(a,u){if(1&a&&(e.DNE(0,Cf,17,8,"div",1),e.j41(1,"div",2)(2,"a",3),e.qSk(),e.j41(3,"svg",4),e.nrm(4,"path",5),e.k0s(),e.EFF(5," Retour \xe0 la liste "),e.k0s(),e.DNE(6,Zl,13,9,"div",6),e.nI1(7,"async"),e.DNE(8,eu,1,0,"ng-template",null,0,e.C5r),e.k0s()),2&a){const k=e.sdS(9);e.Y8G("ngIf",u.showPopup),e.R7$(6),e.Y8G("ngIf",e.bMT(7,3,u.quoteDetails$))("ngIfElse",k)}},dependencies:[P.MD,P.YU,P.bT,P.ux,P.e1,P.Jj,P.PV,F.X1,F.qT,F.cb,F.j4,de.Wk,F.YN,ff,Yl,us,Xa,Ka,gc],encapsulation:2})}return p})();const hm=(p,S)=>({"bg-green-600":p,"bg-red-600":S});function mm(p,S){if(1&p){const s=e.RV6();e.j41(0,"div",34)(1,"div",35)(2,"p",36),e.EFF(3),e.k0s(),e.j41(4,"button",37),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.hideNotification())}),e.EFF(5,"\xd7"),e.k0s()()()}if(2&p){const s=e.XpG();e.Y8G("ngClass",e.l_i(2,hm,"success"===s.popupType,"error"===s.popupType)),e.R7$(3),e.JRh(s.popupMessage)}}function Ec(p,S){1&p&&(e.j41(0,"div"),e.EFF(1,"L'adresse e-mail est requise."),e.k0s())}function Cc(p,S){1&p&&(e.j41(0,"div"),e.EFF(1,"Adresse e-mail invalide."),e.k0s())}function wc(p,S){if(1&p&&(e.j41(0,"div",38),e.DNE(1,Ec,2,0,"div",39)(2,Cc,2,0,"div",39),e.k0s()),2&p){let s,a;const u=e.XpG();e.R7$(),e.Y8G("ngIf",null==(s=u.loginForm.get("email"))||null==s.errors?null:s.errors.required),e.R7$(),e.Y8G("ngIf",null==(a=u.loginForm.get("email"))||null==a.errors?null:a.errors.email)}}function Li(p,S){1&p&&(e.j41(0,"div"),e.EFF(1,"Le mot de passe est requis."),e.k0s())}function ho(p,S){if(1&p&&(e.j41(0,"div",38),e.DNE(1,Li,2,0,"div",39),e.k0s()),2&p){let s;const a=e.XpG();e.R7$(),e.Y8G("ngIf",null==(s=a.loginForm.get("password"))||null==s.errors?null:s.errors.required)}}function Dc(p,S){1&p&&(e.j41(0,"div"),e.EFF(1,"Le nom est requis."),e.k0s())}function Hs(p,S){if(1&p&&(e.j41(0,"div",38),e.DNE(1,Dc,2,0,"div",39),e.k0s()),2&p){let s;const a=e.XpG();e.R7$(),e.Y8G("ngIf",null==(s=a.registerForm.get("nom"))||null==s.errors?null:s.errors.required)}}function mo(p,S){1&p&&(e.j41(0,"div"),e.EFF(1,"Le pr\xe9nom est requis."),e.k0s())}function wf(p,S){if(1&p&&(e.j41(0,"div",38),e.DNE(1,mo,2,0,"div",39),e.k0s()),2&p){let s;const a=e.XpG();e.R7$(),e.Y8G("ngIf",null==(s=a.registerForm.get("prenom"))||null==s.errors?null:s.errors.required)}}function xc(p,S){1&p&&(e.j41(0,"div"),e.EFF(1,"La fonction est requise."),e.k0s())}function Df(p,S){if(1&p&&(e.j41(0,"div",38),e.DNE(1,xc,2,0,"div",39),e.k0s()),2&p){let s;const a=e.XpG();e.R7$(),e.Y8G("ngIf",null==(s=a.registerForm.get("fonction"))||null==s.errors?null:s.errors.required)}}function xf(p,S){1&p&&(e.j41(0,"div"),e.EFF(1,"L'adresse e-mail est requise."),e.k0s())}function tu(p,S){1&p&&(e.j41(0,"div"),e.EFF(1,"Adresse e-mail invalide."),e.k0s())}function nu(p,S){1&p&&(e.j41(0,"div"),e.EFF(1,"L'email doit se terminer par @assurkin.be"),e.k0s())}function ru(p,S){if(1&p&&(e.j41(0,"div",38),e.DNE(1,xf,2,0,"div",39)(2,tu,2,0,"div",39)(3,nu,2,0,"div",39),e.k0s()),2&p){let s,a,u;const k=e.XpG();e.R7$(),e.Y8G("ngIf",null==(s=k.registerForm.get("email"))||null==s.errors?null:s.errors.required),e.R7$(),e.Y8G("ngIf",null==(a=k.registerForm.get("email"))||null==a.errors?null:a.errors.email),e.R7$(),e.Y8G("ngIf",null==(u=k.registerForm.get("email"))||null==u.errors?null:u.errors.pattern)}}function Qa(p,S){1&p&&(e.j41(0,"div"),e.EFF(1,"Le mot de passe est requis."),e.k0s())}function Sf(p,S){1&p&&(e.j41(0,"div"),e.EFF(1,"Le mot de passe doit contenir au moins 6 caract\xe8res."),e.k0s())}function Sc(p,S){if(1&p&&(e.j41(0,"div",38),e.DNE(1,Qa,2,0,"div",39)(2,Sf,2,0,"div",39),e.k0s()),2&p){let s,a;const u=e.XpG();e.R7$(),e.Y8G("ngIf",null==(s=u.registerForm.get("password"))||null==s.errors?null:s.errors.required),e.R7$(),e.Y8G("ngIf",null==(a=u.registerForm.get("password"))||null==a.errors?null:a.errors.minlength)}}function iu(p,S){1&p&&(e.j41(0,"div",38),e.EFF(1," Les mots de passe ne correspondent pas. "),e.k0s())}function Fc(p,S){1&p&&(e.j41(0,"div"),e.EFF(1,"L'adresse e-mail est requise."),e.k0s())}function Ic(p,S){1&p&&(e.j41(0,"div"),e.EFF(1,"Adresse e-mail invalide."),e.k0s())}function kc(p,S){1&p&&(e.j41(0,"div"),e.EFF(1,"L'email doit appartenir au domaine de l'entreprise."),e.k0s())}function Mc(p,S){if(1&p&&(e.j41(0,"div",38),e.DNE(1,Fc,2,0,"div",39)(2,Ic,2,0,"div",39)(3,kc,2,0,"div",39),e.k0s()),2&p){let s,a,u;const k=e.XpG();e.R7$(),e.Y8G("ngIf",null==(s=k.resetPasswordForm.get("email"))||null==s.errors?null:s.errors.required),e.R7$(),e.Y8G("ngIf",null==(a=k.resetPasswordForm.get("email"))||null==a.errors?null:a.errors.email),e.R7$(),e.Y8G("ngIf",null==(u=k.resetPasswordForm.get("email"))||null==u.errors?null:u.errors.pattern)}}function su(p){const S=p.get("password"),s=p.get("passwordConfirm");return S&&s&&S.value!==s.value?{passwordsMismatch:!0}:null}const Yo={providers:[(0,de.lh)([{path:"accueil",component:W},{path:"contact",component:bn},{path:"particulier/auto",component:Or},{path:"particulier/habitation",component:sr},{path:"particulier/rc-familale",component:si},{path:"particulier/obseques",component:Pt},{path:"particulier/protection-juridique",component:ee},{path:"particulier/annulation-voyage",component:et},{path:"mentions",component:it},{path:"corporate",component:(()=>{class p{registerForm;loginForm;resetPasswordForm;isResettingPassword=!1;showPopup=!1;popupMessage="";popupType="success";popupTimeout;fb=(0,e.WQX)(F.ok);dbConnectService=(0,e.WQX)(jt.y);authService=(0,e.WQX)(Dr);router=(0,e.WQX)(de.Ix);constructor(){}ngOnInit(){const s=Ei.c.domain_name.replace(/\./g,"\\."),a=new RegExp(`^[A-Za-z0-9._%+-]+@${s}$`,"i");this.loginForm=this.fb.group({email:["",[F.k0.required,F.k0.email,F.k0.pattern(a)]],password:["",F.k0.required]}),this.resetPasswordForm=this.fb.group({email:["",[F.k0.required,F.k0.email,F.k0.pattern(a)]]}),this.registerForm=this.fb.group({nom:["",F.k0.required],prenom:["",F.k0.required],fonction:[""],email:["",[F.k0.required,F.k0.email,F.k0.pattern(a)]],password:["",[F.k0.required,F.k0.minLength(6)]],passwordConfirm:["",F.k0.required]},{validators:su})}onLoginSubmit(){this.loginForm.invalid?this.loginForm.markAllAsTouched():this.authService.signIn(this.loginForm.value).subscribe({next:s=>{s.error?this.showNotification(s.error.message,"error"):this.router.navigate(["/management"])},error:s=>{this.showNotification(`Erreur d'authentification: ${s.message}`,"error")}})}onRegisterSubmit(){if(this.registerForm.invalid)return void this.registerForm.markAllAsTouched();const{passwordConfirm:s,...a}=this.registerForm.value;this.dbConnectService.createCorporateAccount(a).subscribe({next:()=>{this.showNotification("Compte cr\xe9\xe9 avec succ\xe8s ! Veuillez consulter votre bo\xeete mail pour valider votre compte.","success"),this.registerForm.reset()},error:u=>{let k=`Erreur lors de la cr\xe9ation du compte: ${u.message}`;u.message&&u.message.includes("duplicate key value violates unique constraint")&&(k="Un compte avec cette adresse e-mail existe d\xe9j\xe0."),this.showNotification(k,"error")}})}onResetPasswordSubmit(){this.resetPasswordForm.invalid?this.resetPasswordForm.markAllAsTouched():this.authService.sendPasswordResetEmail(this.resetPasswordForm.value.email).subscribe({next:({error:a})=>{a?this.showNotification(`Erreur : ${a.message}`,"error"):(this.showNotification("Si un compte existe pour cet e-mail, un lien de r\xe9initialisation a \xe9t\xe9 envoy\xe9.","success"),this.toggleResetPasswordView(!1))},error:a=>{this.showNotification(`Une erreur est survenue : ${a.message}`,"error")}})}toggleResetPasswordView(s){this.isResettingPassword=s}showNotification(s,a){this.popupMessage=s,this.popupType=a,this.showPopup=!0,this.popupTimeout&&clearTimeout(this.popupTimeout),this.popupTimeout=setTimeout(()=>{this.hideNotification()},5e3)}hideNotification(){this.showPopup=!1,this.popupTimeout&&clearTimeout(this.popupTimeout)}static \u0275fac=function(a){return new(a||p)};static \u0275cmp=e.VBU({type:p,selectors:[["app-corporate"]],standalone:!0,features:[e.aNF],decls:81,vars:18,consts:[[1,"bg-gray-50","min-h-screen","py-12","px-4","sm:px-6","lg:px-8"],["class","fixed top-20 right-5 z-50 p-4 rounded-lg shadow-xl text-white max-w-sm",3,"ngClass",4,"ngIf"],[1,"max-w-4xl","mx-auto",3,"hidden"],[1,"bg-white","p-8","rounded-lg","shadow-md"],[1,"text-2xl","font-bold","text-gray-900","mb-6","text-center"],["novalidate","",1,"space-y-6",3,"ngSubmit","formGroup"],["for","login-email",1,"block","text-sm","font-medium","text-gray-700"],[1,"mt-1"],["id","login-email","type","email","formControlName","email","autocomplete","email",1,"appearance-none","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","placeholder-gray-400","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["class","text-red-600 text-xs mt-1",4,"ngIf"],["for","login-password",1,"block","text-sm","font-medium","text-gray-700"],["id","login-password","type","password","formControlName","password","autocomplete","current-password",1,"appearance-none","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","placeholder-gray-400","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],[1,"flex","items-center","justify-between"],[1,"text-sm"],[1,"font-medium","text-indigo-600","hover:text-indigo-500","cursor-pointer",3,"click"],["type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4"],["for","register-nom",1,"block","text-sm","font-medium","text-gray-700"],["id","register-nom","type","text","formControlName","nom",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["for","register-prenom",1,"block","text-sm","font-medium","text-gray-700"],["id","register-prenom","type","text","formControlName","prenom",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["for","register-fonction",1,"block","text-sm","font-medium","text-gray-700"],["id","register-fonction","type","text","formControlName","fonction",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["for","register-email",1,"block","text-sm","font-medium","text-gray-700"],["id","register-email","type","email","formControlName","email",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["for","register-password",1,"block","text-sm","font-medium","text-gray-700"],["id","register-password","type","password","formControlName","password",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["for","register-password-confirm",1,"block","text-sm","font-medium","text-gray-700"],["id","register-password-confirm","type","password","formControlName","passwordConfirm",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-gray-800","hover:bg-gray-900","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-gray-700","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"max-w-md","mx-auto",3,"hidden"],["for","reset-email",1,"block","text-sm","font-medium","text-gray-700"],["id","reset-email","type","email","formControlName","email","autocomplete","email",1,"appearance-none","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","placeholder-gray-400","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],[1,"text-sm","text-center"],[1,"fixed","top-20","right-5","z-50","p-4","rounded-lg","shadow-xl","text-white","max-w-sm",3,"ngClass"],[1,"flex","justify-between","items-start"],[1,"flex-grow"],[1,"ml-4","-mt-1","-mr-1","text-2xl","font-semibold","leading-none","hover:text-gray-200",3,"click"],[1,"text-red-600","text-xs","mt-1"],[4,"ngIf"]],template:function(a,u){if(1&a&&(e.j41(0,"div",0),e.DNE(1,mm,6,5,"div",1),e.j41(2,"div",2)(3,"div",3)(4,"h2",4),e.EFF(5,"S'authentifier"),e.k0s(),e.j41(6,"form",5),e.bIt("ngSubmit",function(){return u.onLoginSubmit()}),e.j41(7,"div")(8,"label",6),e.EFF(9,"Adresse e-mail"),e.k0s(),e.j41(10,"div",7),e.nrm(11,"input",8),e.DNE(12,wc,3,2,"div",9),e.k0s()(),e.j41(13,"div")(14,"label",10),e.EFF(15,"Mot de passe"),e.k0s(),e.j41(16,"div",7),e.nrm(17,"input",11),e.DNE(18,ho,2,1,"div",9),e.k0s()(),e.j41(19,"div",12)(20,"div",13)(21,"a",14),e.bIt("click",function(){return u.toggleResetPasswordView(!0)}),e.EFF(22," Mot de passe oubli\xe9 ? "),e.k0s()()(),e.j41(23,"div")(24,"button",15),e.EFF(25," Se connecter "),e.k0s()()()(),e.j41(26,"div",3)(27,"h2",4),e.EFF(28,"Cr\xe9er un compte"),e.k0s(),e.j41(29,"form",5),e.bIt("ngSubmit",function(){return u.onRegisterSubmit()}),e.j41(30,"div",16)(31,"div")(32,"label",17),e.EFF(33,"Nom"),e.k0s(),e.nrm(34,"input",18),e.DNE(35,Hs,2,1,"div",9),e.k0s(),e.j41(36,"div")(37,"label",19),e.EFF(38,"Pr\xe9nom"),e.k0s(),e.nrm(39,"input",20),e.DNE(40,wf,2,1,"div",9),e.k0s()(),e.j41(41,"div")(42,"label",21),e.EFF(43,"Fonction"),e.k0s(),e.nrm(44,"input",22),e.DNE(45,Df,2,1,"div",9),e.k0s(),e.j41(46,"div")(47,"label",23),e.EFF(48,"Adresse e-mail"),e.k0s(),e.nrm(49,"input",24),e.DNE(50,ru,4,3,"div",9),e.k0s(),e.j41(51,"div")(52,"label",25),e.EFF(53,"Mot de passe"),e.k0s(),e.nrm(54,"input",26),e.DNE(55,Sc,3,2,"div",9),e.k0s(),e.j41(56,"div")(57,"label",27),e.EFF(58,"Confirmer le mot de passe"),e.k0s(),e.nrm(59,"input",28),e.DNE(60,iu,2,0,"div",9),e.k0s(),e.j41(61,"div")(62,"button",29),e.EFF(63," Cr\xe9er le compte "),e.k0s()()()()(),e.j41(64,"div",30)(65,"div",3)(66,"h2",4),e.EFF(67,"R\xe9initialiser le mot de passe"),e.k0s(),e.j41(68,"form",5),e.bIt("ngSubmit",function(){return u.onResetPasswordSubmit()}),e.j41(69,"div")(70,"label",31),e.EFF(71,"Adresse e-mail"),e.k0s(),e.j41(72,"div",7),e.nrm(73,"input",32),e.DNE(74,Mc,4,3,"div",9),e.k0s()(),e.j41(75,"div")(76,"button",15),e.EFF(77," Envoyer le lien de r\xe9initialisation "),e.k0s()(),e.j41(78,"div",33)(79,"a",14),e.bIt("click",function(){return u.toggleResetPasswordView(!1)}),e.EFF(80,"Retour \xe0 la connexion"),e.k0s()()()()()()),2&a){let k,J,xe,Dt,kt,cn,gn,qn,Ln;e.R7$(),e.Y8G("ngIf",u.showPopup),e.R7$(),e.Y8G("hidden",u.isResettingPassword),e.R7$(4),e.Y8G("formGroup",u.loginForm),e.R7$(6),e.Y8G("ngIf",(null==(k=u.loginForm.get("email"))?null:k.invalid)&&((null==(k=u.loginForm.get("email"))?null:k.dirty)||(null==(k=u.loginForm.get("email"))?null:k.touched))),e.R7$(6),e.Y8G("ngIf",(null==(J=u.loginForm.get("password"))?null:J.invalid)&&((null==(J=u.loginForm.get("password"))?null:J.dirty)||(null==(J=u.loginForm.get("password"))?null:J.touched))),e.R7$(6),e.Y8G("disabled",u.loginForm.invalid),e.R7$(5),e.Y8G("formGroup",u.registerForm),e.R7$(6),e.Y8G("ngIf",(null==(xe=u.registerForm.get("nom"))?null:xe.invalid)&&((null==(xe=u.registerForm.get("nom"))?null:xe.dirty)||(null==(xe=u.registerForm.get("nom"))?null:xe.touched))),e.R7$(5),e.Y8G("ngIf",(null==(Dt=u.registerForm.get("prenom"))?null:Dt.invalid)&&((null==(Dt=u.registerForm.get("prenom"))?null:Dt.dirty)||(null==(Dt=u.registerForm.get("prenom"))?null:Dt.touched))),e.R7$(5),e.Y8G("ngIf",(null==(kt=u.registerForm.get("fonction"))?null:kt.invalid)&&((null==(kt=u.registerForm.get("fonction"))?null:kt.dirty)||(null==(kt=u.registerForm.get("fonction"))?null:kt.touched))),e.R7$(5),e.Y8G("ngIf",(null==(cn=u.registerForm.get("email"))?null:cn.invalid)&&((null==(cn=u.registerForm.get("email"))?null:cn.dirty)||(null==(cn=u.registerForm.get("email"))?null:cn.touched))),e.R7$(5),e.Y8G("ngIf",(null==(gn=u.registerForm.get("password"))?null:gn.invalid)&&((null==(gn=u.registerForm.get("password"))?null:gn.dirty)||(null==(gn=u.registerForm.get("password"))?null:gn.touched))),e.R7$(5),e.Y8G("ngIf",(null==u.registerForm.errors?null:u.registerForm.errors.passwordsMismatch)&&((null==(qn=u.registerForm.get("passwordConfirm"))?null:qn.dirty)||(null==(qn=u.registerForm.get("passwordConfirm"))?null:qn.touched))),e.R7$(2),e.Y8G("disabled",u.registerForm.invalid),e.R7$(2),e.Y8G("hidden",!u.isResettingPassword),e.R7$(4),e.Y8G("formGroup",u.resetPasswordForm),e.R7$(6),e.Y8G("ngIf",(null==(Ln=u.resetPasswordForm.get("email"))?null:Ln.invalid)&&((null==(Ln=u.resetPasswordForm.get("email"))?null:Ln.dirty)||(null==(Ln=u.resetPasswordForm.get("email"))?null:Ln.touched))),e.R7$(2),e.Y8G("disabled",u.resetPasswordForm.invalid)}},dependencies:[P.MD,P.YU,P.bT,F.X1,F.qT,F.me,F.BC,F.cb,F.j4,F.JD]})}return p})()},{path:"utilities/paiements",loadComponent:()=>R.e(199).then(R.bind(R,2199)).then(p=>p.PaymentComponent)},{path:"utilities/statistiques",loadComponent:()=>R.e(749).then(R.bind(R,6749)).then(p=>p.StatComponent)},{path:"utilities/prospects",loadComponent:()=>R.e(63).then(R.bind(R,2063)).then(p=>p.RsComponent)},{path:"utilities/parametres",loadComponent:()=>R.e(209).then(R.bind(R,4209)).then(p=>p.ParamsComponent)},{path:"account",component:yo},{path:"login",component:Ts},{path:"create-account",component:Qn},{path:"lost-password",component:c},{path:"reset-password",component:m},{path:"mydata",component:ne,canActivate:[(p,S)=>{const s=(0,e.WQX)(e.Agw),a=(0,e.WQX)(de.Ix),u=(0,e.WQX)(Dr);return!!(0,P.Vy)(s)||u.currentUser$.pipe((0,Fr.p)(k=>void 0!==k),(0,E.s)(1),(0,fe.T)(k=>!!k||a.parseUrl("/login")))}]},{path:"createuseraccount",component:q},{path:"assurance_auto/:id",redirectTo:"assurance-details/auto/:id"},{path:"assurance_habitation/:id",redirectTo:"assurance-details/habitation/:id"},{path:"assurance_obseques/:id",redirectTo:"assurance-details/obseques/:id"},{path:"intranet/dashboard",component:Yt},{path:"intranet/gestion-auto",component:xn},{path:"management",component:ie},{path:"management/:type/:id",component:bc},{path:"management/upload/:type/:id/:preneurId",loadComponent:()=>R.e(53).then(R.bind(R,5053)).then(p=>p.UploaderComponent)},{path:"assurance-details/:type/:id",component:Te.AssurancesDetailsComponent},{path:"messagerie/:type/:id",loadComponent:()=>R.e(995).then(R.bind(R,1995)).then(p=>p.MessagerieComponent)},{path:"management/assurance-details/:type/:id",loadComponent:()=>Promise.resolve().then(R.bind(R,3583)).then(p=>p.AssurancesDetailsComponent)},{path:"",redirectTo:"accueil",pathMatch:"full"},{path:"**",redirectTo:"accueil"}]),(0,O.$R)()]},rr=["underline"],Tc=["scrollProgressBar"],Ff=["menuLink"],Ja=()=>({exact:!0}),ou=(p,S)=>({"opacity-100 visible":p,"opacity-0 invisible":S}),au=p=>({"rotate-180":p});function Ac(p,S){1&p&&(e.qSk(),e.j41(0,"svg",49),e.nrm(1,"path",50),e.k0s())}function Sa(p,S){1&p&&(e.qSk(),e.j41(0,"svg",49),e.nrm(1,"path",51),e.k0s())}function oo(p,S){1&p&&(e.j41(0,"div",66)(1,"a",67),e.EFF(2,"Auto"),e.k0s(),e.j41(3,"a",68),e.EFF(4,"Habitation"),e.k0s(),e.j41(5,"a",69),e.EFF(6,"RC familiale"),e.k0s(),e.j41(7,"a",70),e.EFF(8,"Annulation-voyage"),e.k0s(),e.j41(9,"a",71),e.EFF(10,"Protection juridique"),e.k0s(),e.j41(11,"a",72),e.EFF(12,"Vie et sant\xe9"),e.k0s(),e.j41(13,"a",73),e.EFF(14,"Obs\xe8ques"),e.k0s(),e.j41(15,"a",74),e.EFF(16,"Solde restant d\xfb"),e.k0s()()),2&p&&(e.R7$(),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"))}function If(p,S){1&p&&(e.j41(0,"div",66)(1,"a",75),e.EFF(2,"Auto"),e.k0s(),e.j41(3,"a",76),e.EFF(4,"Incendie"),e.k0s(),e.j41(5,"a",77),e.EFF(6,"Responsabilit\xe9 civile"),e.k0s()()),2&p&&(e.R7$(),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"))}function Za(p,S){if(1&p){const s=e.RV6();e.j41(0,"div",52)(1,"a",53),e.EFF(2,"Accueil"),e.k0s(),e.j41(3,"a",54),e.EFF(4,"Mentions l\xe9gales"),e.k0s(),e.j41(5,"div")(6,"button",55),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.particulierSubMenuOpen=!u.particulierSubMenuOpen)}),e.EFF(7," Particulier "),e.qSk(),e.j41(8,"svg",56),e.nrm(9,"path",15),e.k0s()(),e.DNE(10,oo,17,8,"div",57),e.k0s(),e.joV(),e.j41(11,"div")(12,"button",58),e.bIt("click",function(){e.eBV(s);const u=e.XpG();return e.Njj(u.professionelSubMenuOpen=!u.professionelSubMenuOpen)}),e.EFF(13," Professionel "),e.qSk(),e.j41(14,"svg",56),e.nrm(15,"path",15),e.k0s()(),e.DNE(16,If,7,3,"div",57),e.k0s(),e.joV(),e.j41(17,"a",59),e.EFF(18,"News"),e.k0s(),e.j41(19,"a",60),e.EFF(20,"Contact"),e.k0s(),e.j41(21,"a",61),e.qSk(),e.j41(22,"svg",62),e.nrm(23,"path",40),e.k0s(),e.EFF(24," +32 (0)2 887 64 35 "),e.k0s(),e.joV(),e.j41(25,"div",63)(26,"a",64),e.qSk(),e.j41(27,"svg",62),e.nrm(28,"path",43),e.k0s(),e.EFF(29," Client "),e.k0s(),e.joV(),e.j41(30,"a",65),e.qSk(),e.j41(31,"svg",62),e.nrm(32,"path",45),e.k0s(),e.EFF(33," Corporate "),e.k0s()()()}if(2&p){const s=e.XpG();e.R7$(),e.Y8G("routerLinkActiveOptions",e.lJ4(10,Ja)),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(5),e.Y8G("ngClass",e.eq3(11,au,s.particulierSubMenuOpen)),e.R7$(2),e.Y8G("ngIf",s.particulierSubMenuOpen),e.R7$(2),e.BMQ("aria-expanded",s.professionelSubMenuOpen),e.R7$(2),e.Y8G("ngClass",e.eq3(13,au,s.professionelSubMenuOpen)),e.R7$(2),e.Y8G("ngIf",s.professionelSubMenuOpen),e.R7$(),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page")}}let el=(()=>{class p{router;cdr;platformId;underlineRef;scrollProgressBarRef;menuLinks;menuOpen=!1;showParticulierSubMenu=!1;showProfessionelSubMenu=!1;showMentionsLegalesSubMenu=!1;particulierSubMenuOpen=!1;professionelSubMenuOpen=!1;constructor(s,a,u){this.router=s,this.cdr=a,this.platformId=u}ngAfterViewInit(){this.router.events.pipe((0,Fr.p)(s=>s instanceof de.wF)).subscribe(()=>{(0,P.UE)(this.platformId)&&this.moveUnderlineToActiveLink()})}onWindowScroll(){if((0,P.UE)(this.platformId)){const s=document.documentElement,a=document.body;this.scrollProgressBarRef.nativeElement.style.width=(s.scrollTop||a.scrollTop)/((s.scrollHeight||a.scrollHeight)-s.clientHeight)*100+"%"}}toggleMenu(){this.menuOpen=!this.menuOpen}onLinkHover(s){(0,P.UE)(this.platformId)&&this.moveUnderline(s.currentTarget)}onMenuLeave(){(0,P.UE)(this.platformId)&&this.moveUnderlineToActiveLink()}moveUnderlineToActiveLink(){setTimeout(()=>{const s=this.menuLinks.find(a=>a.nativeElement.classList.contains("text-indigo-600"));s&&this.moveUnderline(s.nativeElement),this.cdr.detectChanges()},0)}moveUnderline(s){const a=this.underlineRef.nativeElement;a.style.width=`${s.offsetWidth}px`,a.style.transform=`translateX(${s.offsetLeft}px)`}static \u0275fac=function(a){return new(a||p)(e.rXU(de.Ix),e.rXU(e.gRc),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:p,selectors:[["app-navbar"]],viewQuery:function(a,u){if(1&a&&(e.GBs(rr,5),e.GBs(Tc,5),e.GBs(Ff,5,e.aKT)),2&a){let k;e.mGM(k=e.lsd())&&(u.underlineRef=k.first),e.mGM(k=e.lsd())&&(u.scrollProgressBarRef=k.first),e.mGM(k=e.lsd())&&(u.menuLinks=k)}},hostBindings:function(a,u){1&a&&e.bIt("scroll",function(){return u.onWindowScroll()},!1,e.tSv)},standalone:!0,features:[e.aNF],decls:86,vars:35,consts:[["scrollProgressBar",""],["menuContainer",""],["menuLink",""],["underline",""],[1,"bg-white","border-b","border-gray-200","fixed","w-full","z-50","top-0","shadow-sm"],[1,"h-1","bg-indigo-600",2,"width","0%"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","h-16","items-center"],["routerLink","/",1,"text-2xl","font-bold","text-black-600","hover:text-indigo-700"],[1,"hidden","md:flex","flex-grow","items-center","justify-between"],[1,"relative","flex","items-center","space-x-8","ml-10",3,"mouseleave"],["routerLink","/accueil","routerLinkActive","text-indigo-600",1,"text-gray-700","hover:text-indigo-600","transition","h-16","inline-flex","items-center",3,"mouseenter","routerLinkActiveOptions"],[1,"relative",3,"mouseenter","mouseleave"],["routerLinkActive","text-indigo-600","aria-haspopup","true","aria-controls","mentions-legales-submenu",1,"text-gray-700","hover:text-indigo-600","transition","inline-flex","items-center","h-16","cursor-default",3,"mouseenter"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"ml-1","h-5","w-5"],["fill-rule","evenodd","d","M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule","evenodd"],["id","mentions-legales-submenu",1,"absolute","left-0","mt-2","w-56","rounded-md","shadow-lg","bg-white","ring-1","ring-black","ring-opacity-5","transition-all","duration-200","ease-in-out",3,"ngClass"],["routerLink","/mentions","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50",3,"routerLinkActiveOptions"],["routerLinkActive","text-indigo-600","routerLink","/particulier",1,"text-gray-700","hover:text-indigo-600","transition","inline-flex","items-center","h-16",3,"mouseenter"],["routerLink","/particulier",1,"text-gray-700","hover:text-indigo-600","transition","inline-flex","items-center","h-16"],["role","menu",1,"absolute","left-0","mt-2","w-56","rounded-md","shadow-lg","bg-white","ring-1","ring-black","ring-opacity-5","transition-all","duration-200","ease-in-out",3,"ngClass"],["routerLink","/particulier/auto","routerLinkActive","bg-indigo-50","role","menuitem",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/particulier/habitation","routerLinkActive","bg-indigo-50","role","menuitem",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/particulier/rc-familale","routerLinkActive","bg-indigo-50","role","menuitem",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/particulier/annulation-voyage","routerLinkActive","bg-indigo-50","role","menuitem",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/particulier/protection-juridique","routerLinkActive","bg-indigo-50","role","menuitem",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/particulier/vie-sante","routerLinkActive","bg-indigo-50","role","menuitem",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/particulier/obseques","routerLinkActive","bg-indigo-50","role","menuitem",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/particulier/solde-restant-du","routerLinkActive","bg-indigo-50","role","menuitem",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLinkActive","text-indigo-600","routerLink","/professionel",1,"text-gray-700","hover:text-indigo-600","transition","inline-flex","items-center","h-16",3,"mouseenter"],["routerLink","/professionel",1,"text-gray-700","hover:text-indigo-600","transition","inline-flex","items-center","h-16"],["routerLink","/professionel/auto","routerLinkActive","bg-indigo-50","role","menuitem",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/professionel/incendie","routerLinkActive","bg-indigo-50","role","menuitem",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/professionel/responsabilite-civile","routerLinkActive","bg-indigo-50","role","menuitem",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/news","routerLinkActive","text-indigo-600",1,"text-gray-700","hover:text-indigo-600","transition","h-16","inline-flex","items-center",3,"mouseenter"],["routerLink","/contact","routerLinkActive","text-indigo-600",1,"text-gray-700","hover:text-indigo-600","transition","h-16","inline-flex","items-center",3,"mouseenter"],[1,"absolute","bottom-0","h-0.5","bg-indigo-600","transition-all","duration-300","ease-in-out"],[1,"flex","items-center","space-x-4"],["href","tel:+3228876435",1,"inline-flex","items-center","text-gray-700","hover:text-indigo-600","transition"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"h-5","w-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","d","M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z"],[1,"flex","items-center","space-x-2"],["routerLink","/account",1,"inline-flex","items-center","bg-indigo-600","text-white","px-4","py-2","rounded-md","text-sm","font-semibold","hover:bg-indigo-700","transition"],["stroke-linecap","round","stroke-linejoin","round","d","M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"],["routerLink","/corporate",1,"inline-flex","items-center","bg-gray-800","text-white","px-4","py-2","rounded-md","text-sm","font-semibold","hover:bg-gray-900","transition"],["stroke-linecap","round","stroke-linejoin","round","d","M20.25 14.15v4.07a2.25 2.25 0 0 1-2.25 2.25H5.998a2.25 2.25 0 0 1-2.25-2.25v-4.07a2.25 2.25 0 0 1 .52-1.435l3.67-4.112a2.25 2.25 0 0 1 2.816 0l3.67 4.112a2.25 2.25 0 0 1 .52 1.435ZM16.5 8.25V4.5a2.25 2.25 0 0 0-2.25-2.25H9.75A2.25 2.25 0 0 0 7.5 4.5v3.75"],["aria-controls","mobile-menu",1,"md:hidden","text-gray-700","focus:outline-none",3,"click"],["xmlns","http://www.w3.org/2000/svg","class","h-6 w-6","fill","none","viewBox","0 0 24 24","stroke","currentColor",4,"ngIf"],["id","mobile-menu","class","md:hidden bg-white border-t border-gray-200",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16M4 18h16"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],["id","mobile-menu",1,"md:hidden","bg-white","border-t","border-gray-200"],["routerLink","/accueil","routerLinkActive","bg-indigo-50 text-indigo-600",1,"block","px-4","py-2","text-gray-700","hover:bg-indigo-50",3,"routerLinkActiveOptions"],["routerLink","/mentions","routerLinkActive","bg-indigo-50 text-indigo-600",1,"block","px-4","py-2","text-gray-700","hover:bg-indigo-50"],[1,"w-full","text-left","block","px-4","py-2","text-gray-700","hover:bg-indigo-50","flex","justify-between","items-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","transform",3,"ngClass"],["class","pl-4",4,"ngIf"],["aria-haspopup","true",1,"w-full","text-left","block","px-4","py-2","text-gray-700","hover:bg-indigo-50","flex","justify-between","items-center",3,"click"],["routerLink","/news","routerLinkActive","bg-indigo-50 text-indigo-600",1,"block","px-4","py-2","text-gray-700","hover:bg-indigo-50"],["routerLink","/contact","routerLinkActive","bg-indigo-50 text-indigo-600",1,"block","px-4","py-2","text-gray-700","hover:bg-indigo-50"],["href","tel:+3228876435",1,"flex","items-center","px-4","py-2","text-gray-700","hover:bg-indigo-50"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"h-5","w-5","mr-3"],[1,"p-2"],["routerLink","/account",1,"flex","items-center","justify-center","bg-indigo-600","text-white","px-4","py-2","rounded-md","text-sm","font-semibold","hover:bg-indigo-700","transition","w-full"],["routerLink","/corporate",1,"mt-2","flex","items-center","justify-center","bg-gray-800","text-white","px-4","py-2","rounded-md","text-sm","font-semibold","hover:bg-gray-900","transition","w-full"],[1,"pl-4"],["routerLink","/particulier/auto","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/particulier/habitation","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/particulier/rc-familiale","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/particulier/annulation-voyage","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/particulier/protection-juridique","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/particulier/vie-sante","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/particulier/obseques","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/particulier/solde-restant-du","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/professionel/auto","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/professionel/incendie","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"],["routerLink","/professionel/responsabilite-civile","routerLinkActive","bg-indigo-50",1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-indigo-50"]],template:function(a,u){if(1&a){const k=e.RV6();e.j41(0,"nav",4),e.nrm(1,"div",5,0),e.j41(3,"div",6)(4,"div",7)(5,"a",8),e.EFF(6," AssurKin "),e.k0s(),e.j41(7,"div",9)(8,"div",10,1),e.bIt("mouseleave",function(){return e.eBV(k),e.Njj(u.onMenuLeave())}),e.j41(10,"a",11,2),e.bIt("mouseenter",function(xe){return e.eBV(k),e.Njj(u.onLinkHover(xe))}),e.EFF(12,"Accueil"),e.k0s(),e.j41(13,"div",12),e.bIt("mouseenter",function(){return e.eBV(k),e.Njj(u.showMentionsLegalesSubMenu=!0)})("mouseleave",function(){return e.eBV(k),e.Njj(u.showMentionsLegalesSubMenu=!1)}),e.j41(14,"button",13,2),e.bIt("mouseenter",function(xe){return e.eBV(k),e.Njj(u.onLinkHover(xe))}),e.EFF(16," Mentions l\xe9gales "),e.qSk(),e.j41(17,"svg",14),e.nrm(18,"path",15),e.k0s()(),e.joV(),e.j41(19,"div",16)(20,"a",17),e.EFF(21,"Vue d'ensemble"),e.k0s()()(),e.j41(22,"div",12),e.bIt("mouseenter",function(){return e.eBV(k),e.Njj(u.showParticulierSubMenu=!0)})("mouseleave",function(){return e.eBV(k),e.Njj(u.showParticulierSubMenu=!1)}),e.j41(23,"button",18,2),e.bIt("mouseenter",function(xe){return e.eBV(k),e.Njj(u.onLinkHover(xe))}),e.j41(25,"a",19),e.EFF(26,"Particulier"),e.k0s(),e.qSk(),e.j41(27,"svg",14),e.nrm(28,"path",15),e.k0s()(),e.joV(),e.j41(29,"div",20)(30,"a",21),e.EFF(31,"Auto"),e.k0s(),e.j41(32,"a",22),e.EFF(33,"Habitation"),e.k0s(),e.j41(34,"a",23),e.EFF(35,"RC familiale"),e.k0s(),e.j41(36,"a",24),e.EFF(37,"Annulation-voyage"),e.k0s(),e.j41(38,"a",25),e.EFF(39,"Protection juridique"),e.k0s(),e.j41(40,"a",26),e.EFF(41,"Vie et sant\xe9"),e.k0s(),e.j41(42,"a",27),e.EFF(43,"Obs\xe8ques"),e.k0s(),e.j41(44,"a",28),e.EFF(45,"Solde restant d\xfb"),e.k0s()()(),e.j41(46,"div",12),e.bIt("mouseenter",function(){return e.eBV(k),e.Njj(u.showProfessionelSubMenu=!0)})("mouseleave",function(){return e.eBV(k),e.Njj(u.showProfessionelSubMenu=!1)}),e.j41(47,"button",29,2),e.bIt("mouseenter",function(xe){return e.eBV(k),e.Njj(u.onLinkHover(xe))}),e.j41(49,"a",30),e.EFF(50,"Professionel"),e.k0s(),e.qSk(),e.j41(51,"svg",14),e.nrm(52,"path",15),e.k0s()(),e.joV(),e.j41(53,"div",20)(54,"a",31),e.EFF(55,"Auto"),e.k0s(),e.j41(56,"a",32),e.EFF(57,"Incendie"),e.k0s(),e.j41(58,"a",33),e.EFF(59,"Responsabilit\xe9 civile"),e.k0s()()(),e.j41(60,"a",34,2),e.bIt("mouseenter",function(xe){return e.eBV(k),e.Njj(u.onLinkHover(xe))}),e.EFF(62,"News"),e.k0s(),e.j41(63,"a",35,2),e.bIt("mouseenter",function(xe){return e.eBV(k),e.Njj(u.onLinkHover(xe))}),e.EFF(65,"Contact"),e.k0s(),e.nrm(66,"div",36,3),e.k0s(),e.j41(68,"div",37)(69,"a",38),e.qSk(),e.j41(70,"svg",39),e.nrm(71,"path",40),e.k0s(),e.EFF(72," +32 (0)2 887 64 35 "),e.k0s(),e.joV(),e.j41(73,"div",41)(74,"a",42),e.qSk(),e.j41(75,"svg",39),e.nrm(76,"path",43),e.k0s(),e.EFF(77," Client "),e.k0s(),e.joV(),e.j41(78,"a",44),e.qSk(),e.j41(79,"svg",39),e.nrm(80,"path",45),e.k0s(),e.EFF(81," Corporate "),e.k0s()()()(),e.joV(),e.j41(82,"button",46),e.bIt("click",function(){return e.eBV(k),e.Njj(u.toggleMenu())}),e.DNE(83,Ac,2,0,"svg",47)(84,Sa,2,0,"svg",47),e.k0s()()(),e.DNE(85,Za,34,15,"div",48),e.k0s()}2&a&&(e.R7$(10),e.Y8G("routerLinkActiveOptions",e.lJ4(24,Ja)),e.BMQ("aria-current","page"),e.R7$(4),e.BMQ("aria-expanded",u.showMentionsLegalesSubMenu),e.R7$(5),e.Y8G("ngClass",e.l_i(25,ou,u.showMentionsLegalesSubMenu,!u.showMentionsLegalesSubMenu)),e.R7$(),e.Y8G("routerLinkActiveOptions",e.lJ4(28,Ja)),e.R7$(9),e.Y8G("ngClass",e.l_i(29,ou,u.showParticulierSubMenu,!u.showParticulierSubMenu)),e.R7$(),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(9),e.Y8G("ngClass",e.l_i(32,ou,u.showProfessionelSubMenu,!u.showProfessionelSubMenu)),e.R7$(),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(2),e.BMQ("aria-current","page"),e.R7$(3),e.BMQ("aria-current","page"),e.R7$(19),e.BMQ("aria-expanded",u.menuOpen),e.R7$(),e.Y8G("ngIf",!u.menuOpen),e.R7$(),e.Y8G("ngIf",u.menuOpen),e.R7$(),e.Y8G("ngIf",u.menuOpen))},dependencies:[P.MD,P.YU,P.bT,de.Wk,de.wQ],encapsulation:2})}return p})(),tl=(()=>{class p{static \u0275fac=function(a){return new(a||p)};static \u0275cmp=e.VBU({type:p,selectors:[["app-footer"]],standalone:!0,features:[e.aNF],decls:29,vars:0,consts:[[1,"footer"],[1,"container"],[1,"footer-nav"],["routerLink","/"],["routerLink","/particulier"],["routerLink","/professionnel"],["routerLink","/contact"],["routerLink","/mentions-legales"],[1,"social-icons"],["href","https://facebook.com","target","_blank","aria-label","Facebook"],[1,"fab","fa-facebook-f"],["href","https://instagram.com","target","_blank","aria-label","Instagram"],[1,"fab","fa-instagram"],["href","https://linkedin.com","target","_blank","aria-label","LinkedIn"],[1,"fab","fa-linkedin-in"],["href","https://wa.me/32487757115","target","_blank","aria-label","WhatsApp"],[1,"fab","fa-whatsapp"],[1,"copyright"]],template:function(a,u){1&a&&(e.j41(0,"footer",0)(1,"div",1)(2,"ul",2)(3,"li")(4,"a",3),e.EFF(5,"Accueil"),e.k0s()(),e.j41(6,"li")(7,"a",4),e.EFF(8,"Particulier"),e.k0s()(),e.j41(9,"li")(10,"a",5),e.EFF(11,"Professionnel"),e.k0s()(),e.j41(12,"li")(13,"a",6),e.EFF(14,"Contact"),e.k0s()(),e.j41(15,"li")(16,"a",7),e.EFF(17,"Mentions l\xe9gales"),e.k0s()()(),e.j41(18,"div",8)(19,"a",9),e.nrm(20,"i",10),e.k0s(),e.j41(21,"a",11),e.nrm(22,"i",12),e.k0s(),e.j41(23,"a",13),e.nrm(24,"i",14),e.k0s(),e.j41(25,"a",15),e.nrm(26,"i",16),e.k0s()(),e.j41(27,"p",17),e.EFF(28,"\xa9 2024 assurkin. Tous droits r\xe9serv\xe9s."),e.k0s()()())},dependencies:[de.iI,de.Wk],styles:[".footer[_ngcontent-%COMP%]{background-color:#343a40;color:#f8f9fa;padding:2rem 0;margin-top:2rem}.footer[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{text-align:center}.footer-nav[_ngcontent-%COMP%]{padding:0;list-style:none;display:flex;justify-content:center;gap:1.5rem;margin-bottom:1rem}.footer-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#f8f9fa;text-decoration:none;transition:color .2s}.footer-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#adb5bd}.social-icons[_ngcontent-%COMP%]{margin:1.5rem 0}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#f8f9fa;font-size:1.5rem;margin:0 .75rem;text-decoration:none;transition:color .2s;display:inline-block;width:40px;height:40px;line-height:40px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#adb5bd}"]})}return p})();(0,f.B8)((()=>{class p{title="assurkin";static \u0275fac=function(a){return new(a||p)};static \u0275cmp=e.VBU({type:p,selectors:[["app-root"]],standalone:!0,features:[e.aNF],decls:4,vars:0,consts:[[1,"container","mx-auto","mt-20","px-4"]],template:function(a,u){1&a&&(e.nrm(0,"app-navbar"),e.j41(1,"main",0),e.nrm(2,"router-outlet"),e.k0s(),e.nrm(3,"app-footer"))},dependencies:[de.n3,el,tl],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-height:100vh}main[_ngcontent-%COMP%]{flex:1}"]})}return p})(),Yo).catch(p=>console.error(p))},5958:(at,ye,R)=>{"use strict";var f=R(9293).default;Object.defineProperty(ye,"__esModule",{value:!0});const de=R(1635).__importDefault(R(4659));ye.default=class e{constructor(W){var F,Z;this.shouldThrowOnError=!1,this.method=W.method,this.url=W.url,this.headers=new Headers(W.headers),this.schema=W.schema,this.body=W.body,this.shouldThrowOnError=null!==(F=W.shouldThrowOnError)&&void 0!==F&&F,this.signal=W.signal,this.isMaybeSingle=null!==(Z=W.isMaybeSingle)&&void 0!==Z&&Z,this.fetch=W.fetch?W.fetch:fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(W,F){return this.headers=new Headers(this.headers),this.headers.set(W,F),this}then(W,F){var Z=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let fe=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(function(){var te=f(function*(ve){var Fe,De,H,Q;let ce=null,me=null,Ve=null,Ee=ve.status,Oe=ve.statusText;if(ve.ok){if("HEAD"!==Z.method){const Ye=yield ve.text();""===Ye||(me="text/csv"===Z.headers.get("Accept")||Z.headers.get("Accept")&&null!==(Fe=Z.headers.get("Accept"))&&void 0!==Fe&&Fe.includes("application/vnd.pgrst.plan+text")?Ye:JSON.parse(Ye))}const nt=null===(De=Z.headers.get("Prefer"))||void 0===De?void 0:De.match(/count=(exact|planned|estimated)/),ht=null===(H=ve.headers.get("content-range"))||void 0===H?void 0:H.split("/");nt&&ht&&ht.length>1&&(Ve=parseInt(ht[1])),Z.isMaybeSingle&&"GET"===Z.method&&Array.isArray(me)&&(me.length>1?(ce={code:"PGRST116",details:`Results contain ${me.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},me=null,Ve=null,Ee=406,Oe="Not Acceptable"):me=1===me.length?me[0]:null)}else{const nt=yield ve.text();try{ce=JSON.parse(nt),Array.isArray(ce)&&404===ve.status&&(me=[],ce=null,Ee=200,Oe="OK")}catch{404===ve.status&&""===nt?(Ee=204,Oe="No Content"):ce={message:nt}}if(ce&&Z.isMaybeSingle&&!(null===(Q=ce?.details)||void 0===Q)&&Q.includes("0 rows")&&(ce=null,Ee=200,Oe="OK"),ce&&Z.shouldThrowOnError)throw new de.default(ce)}return{error:ce,data:me,count:Ve,status:Ee,statusText:Oe}});return function(ve){return te.apply(this,arguments)}}());return this.shouldThrowOnError||(fe=fe.catch(te=>{var ve,Fe,De;return{error:{message:`${null!==(ve=te?.name)&&void 0!==ve?ve:"FetchError"}: ${te?.message}`,details:`${null!==(Fe=te?.stack)&&void 0!==Fe?Fe:""}`,hint:"",code:`${null!==(De=te?.code)&&void 0!==De?De:""}`},data:null,count:null,status:0,statusText:""}})),fe.then(W,F)}returns(){return this}overrideTypes(){return this}}},3242:(at,ye,R)=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});const f=R(1635),O=f.__importDefault(R(8666)),de=f.__importDefault(R(3608));class e{constructor(W,{headers:F={},schema:Z,fetch:he}={}){this.url=W,this.headers=new Headers(F),this.schemaName=Z,this.fetch=he}from(W){const F=new URL(`${this.url}/${W}`);return new O.default(F,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(W){return new e(this.url,{headers:this.headers,schema:W,fetch:this.fetch})}rpc(W,F={},{head:Z=!1,get:he=!1,count:fe}={}){var te;let ve;const Fe=new URL(`${this.url}/rpc/${W}`);let De;Z||he?(ve=Z?"HEAD":"GET",Object.entries(F).filter(([Q,ce])=>void 0!==ce).map(([Q,ce])=>[Q,Array.isArray(ce)?`{${ce.join(",")}}`:`${ce}`]).forEach(([Q,ce])=>{Fe.searchParams.append(Q,ce)})):(ve="POST",De=F);const H=new Headers(this.headers);return fe&&H.set("Prefer",`count=${fe}`),new de.default({method:ve,url:Fe,headers:H,schema:this.schemaName,body:De,fetch:null!==(te=this.fetch)&&void 0!==te?te:fetch})}}ye.default=e},4659:(at,ye)=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});class R extends Error{constructor(O){super(O.message),this.name="PostgrestError",this.details=O.details,this.hint=O.hint,this.code=O.code}}ye.default=R},3608:(at,ye,R)=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});const O=R(1635).__importDefault(R(3342)),de=new RegExp("[,()]");ye.default=class e extends O.default{eq(W,F){return this.url.searchParams.append(W,`eq.${F}`),this}neq(W,F){return this.url.searchParams.append(W,`neq.${F}`),this}gt(W,F){return this.url.searchParams.append(W,`gt.${F}`),this}gte(W,F){return this.url.searchParams.append(W,`gte.${F}`),this}lt(W,F){return this.url.searchParams.append(W,`lt.${F}`),this}lte(W,F){return this.url.searchParams.append(W,`lte.${F}`),this}like(W,F){return this.url.searchParams.append(W,`like.${F}`),this}likeAllOf(W,F){return this.url.searchParams.append(W,`like(all).{${F.join(",")}}`),this}likeAnyOf(W,F){return this.url.searchParams.append(W,`like(any).{${F.join(",")}}`),this}ilike(W,F){return this.url.searchParams.append(W,`ilike.${F}`),this}ilikeAllOf(W,F){return this.url.searchParams.append(W,`ilike(all).{${F.join(",")}}`),this}ilikeAnyOf(W,F){return this.url.searchParams.append(W,`ilike(any).{${F.join(",")}}`),this}is(W,F){return this.url.searchParams.append(W,`is.${F}`),this}in(W,F){const Z=Array.from(new Set(F)).map(he=>"string"==typeof he&&de.test(he)?`"${he}"`:`${he}`).join(",");return this.url.searchParams.append(W,`in.(${Z})`),this}contains(W,F){return"string"==typeof F?this.url.searchParams.append(W,`cs.${F}`):Array.isArray(F)?this.url.searchParams.append(W,`cs.{${F.join(",")}}`):this.url.searchParams.append(W,`cs.${JSON.stringify(F)}`),this}containedBy(W,F){return"string"==typeof F?this.url.searchParams.append(W,`cd.${F}`):Array.isArray(F)?this.url.searchParams.append(W,`cd.{${F.join(",")}}`):this.url.searchParams.append(W,`cd.${JSON.stringify(F)}`),this}rangeGt(W,F){return this.url.searchParams.append(W,`sr.${F}`),this}rangeGte(W,F){return this.url.searchParams.append(W,`nxl.${F}`),this}rangeLt(W,F){return this.url.searchParams.append(W,`sl.${F}`),this}rangeLte(W,F){return this.url.searchParams.append(W,`nxr.${F}`),this}rangeAdjacent(W,F){return this.url.searchParams.append(W,`adj.${F}`),this}overlaps(W,F){return this.url.searchParams.append(W,"string"==typeof F?`ov.${F}`:`ov.{${F.join(",")}}`),this}textSearch(W,F,{config:Z,type:he}={}){let fe="";return"plain"===he?fe="pl":"phrase"===he?fe="ph":"websearch"===he&&(fe="w"),this.url.searchParams.append(W,`${fe}fts${void 0===Z?"":`(${Z})`}.${F}`),this}match(W){return Object.entries(W).forEach(([F,Z])=>{this.url.searchParams.append(F,`eq.${Z}`)}),this}not(W,F,Z){return this.url.searchParams.append(W,`not.${F}.${Z}`),this}or(W,{foreignTable:F,referencedTable:Z=F}={}){return this.url.searchParams.append(Z?`${Z}.or`:"or",`(${W})`),this}filter(W,F,Z){return this.url.searchParams.append(W,`${F}.${Z}`),this}}},8666:(at,ye,R)=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});const O=R(1635).__importDefault(R(3608));ye.default=class de{constructor(P,{headers:W={},schema:F,fetch:Z}){this.url=P,this.headers=new Headers(W),this.schema=F,this.fetch=Z}select(P,W){const{head:F=!1,count:Z}=W??{},he=F?"HEAD":"GET";let fe=!1;const te=(P??"*").split("").map(ve=>/\s/.test(ve)&&!fe?"":('"'===ve&&(fe=!fe),ve)).join("");return this.url.searchParams.set("select",te),Z&&this.headers.append("Prefer",`count=${Z}`),new O.default({method:he,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(P,{count:W,defaultToNull:F=!0}={}){var Z;if(W&&this.headers.append("Prefer",`count=${W}`),F||this.headers.append("Prefer","missing=default"),Array.isArray(P)){const fe=P.reduce((te,ve)=>te.concat(Object.keys(ve)),[]);if(fe.length>0){const te=[...new Set(fe)].map(ve=>`"${ve}"`);this.url.searchParams.set("columns",te.join(","))}}return new O.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:P,fetch:null!==(Z=this.fetch)&&void 0!==Z?Z:fetch})}upsert(P,{onConflict:W,ignoreDuplicates:F=!1,count:Z,defaultToNull:he=!0}={}){var fe;if(this.headers.append("Prefer",`resolution=${F?"ignore":"merge"}-duplicates`),void 0!==W&&this.url.searchParams.set("on_conflict",W),Z&&this.headers.append("Prefer",`count=${Z}`),he||this.headers.append("Prefer","missing=default"),Array.isArray(P)){const ve=P.reduce((Fe,De)=>Fe.concat(Object.keys(De)),[]);if(ve.length>0){const Fe=[...new Set(ve)].map(De=>`"${De}"`);this.url.searchParams.set("columns",Fe.join(","))}}return new O.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:P,fetch:null!==(fe=this.fetch)&&void 0!==fe?fe:fetch})}update(P,{count:W}={}){var F;return W&&this.headers.append("Prefer",`count=${W}`),new O.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:P,fetch:null!==(F=this.fetch)&&void 0!==F?F:fetch})}delete({count:P}={}){var W;return P&&this.headers.append("Prefer",`count=${P}`),new O.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(W=this.fetch)&&void 0!==W?W:fetch})}}},3342:(at,ye,R)=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});const O=R(1635).__importDefault(R(5958));ye.default=class de extends O.default{select(P){let W=!1;const F=(P??"*").split("").map(Z=>/\s/.test(Z)&&!W?"":('"'===Z&&(W=!W),Z)).join("");return this.url.searchParams.set("select",F),this.headers.append("Prefer","return=representation"),this}order(P,{ascending:W=!0,nullsFirst:F,foreignTable:Z,referencedTable:he=Z}={}){const fe=he?`${he}.order`:"order",te=this.url.searchParams.get(fe);return this.url.searchParams.set(fe,`${te?`${te},`:""}${P}.${W?"asc":"desc"}${void 0===F?"":F?".nullsfirst":".nullslast"}`),this}limit(P,{foreignTable:W,referencedTable:F=W}={}){return this.url.searchParams.set(typeof F>"u"?"limit":`${F}.limit`,`${P}`),this}range(P,W,{foreignTable:F,referencedTable:Z=F}={}){const fe=typeof Z>"u"?"limit":`${Z}.limit`;return this.url.searchParams.set(typeof Z>"u"?"offset":`${Z}.offset`,`${P}`),this.url.searchParams.set(fe,""+(W-P+1)),this}abortSignal(P){return this.signal=P,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.headers.set("Accept","GET"===this.method?"application/json":"application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:P=!1,verbose:W=!1,settings:F=!1,buffers:Z=!1,wal:he=!1,format:fe="text"}={}){var te;const ve=[P?"analyze":null,W?"verbose":null,F?"settings":null,Z?"buffers":null,he?"wal":null].filter(Boolean).join("|"),Fe=null!==(te=this.headers.get("Accept"))&&void 0!==te?te:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${fe}; for="${Fe}"; options=${ve};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(P){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${P}`),this}}},4060:(at,ye,R)=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0}),ye.PostgrestError=ye.PostgrestBuilder=ye.PostgrestTransformBuilder=ye.PostgrestFilterBuilder=ye.PostgrestQueryBuilder=ye.PostgrestClient=void 0;const f=R(1635),O=f.__importDefault(R(3242));ye.PostgrestClient=O.default;const de=f.__importDefault(R(8666));ye.PostgrestQueryBuilder=de.default;const e=f.__importDefault(R(3608));ye.PostgrestFilterBuilder=e.default;const P=f.__importDefault(R(3342));ye.PostgrestTransformBuilder=P.default;const W=f.__importDefault(R(5958));ye.PostgrestBuilder=W.default;const F=f.__importDefault(R(4659));ye.PostgrestError=F.default,ye.default={PostgrestClient:O.default,PostgrestQueryBuilder:de.default,PostgrestFilterBuilder:e.default,PostgrestTransformBuilder:P.default,PostgrestBuilder:W.default,PostgrestError:F.default}},6580:(at,ye,R)=>{"use strict";R.d(ye,{UU:()=>Rn});var f=R(467),O=R(1635);class e extends Error{constructor(h,c="FunctionsError",m){super(h),this.name=c,this.context=m}}class P extends e{constructor(h){super("Failed to send a request to the Edge Function","FunctionsFetchError",h)}}class W extends e{constructor(h){super("Relay Error invoking the Edge Function","FunctionsRelayError",h)}}class F extends e{constructor(h){super("Edge Function returned a non-2xx status code","FunctionsHttpError",h)}}var Z=function(w){return w.Any="any",w.ApNortheast1="ap-northeast-1",w.ApNortheast2="ap-northeast-2",w.ApSouth1="ap-south-1",w.ApSoutheast1="ap-southeast-1",w.ApSoutheast2="ap-southeast-2",w.CaCentral1="ca-central-1",w.EuCentral1="eu-central-1",w.EuWest1="eu-west-1",w.EuWest2="eu-west-2",w.EuWest3="eu-west-3",w.SaEast1="sa-east-1",w.UsEast1="us-east-1",w.UsWest1="us-west-1",w.UsWest2="us-west-2",w}(Z||{});class he{constructor(h,{headers:c={},customFetch:m,region:E=Z.Any}={}){var w;this.url=h,this.headers=c,this.region=E,this.fetch=(w=m)?(...h)=>w(...h):(...h)=>fetch(...h)}setAuth(h){this.headers.Authorization=`Bearer ${h}`}invoke(h){return(0,O.__awaiter)(this,arguments,void 0,function*(c,m={}){var E;let T,j;try{const{headers:B,method:q,body:K,signal:re,timeout:Ce}=m;let _e={},{region:Qe}=m;Qe||(Qe=this.region);const Ge=new URL(`${this.url}/${c}`);let lt;Qe&&"any"!==Qe&&(_e["x-region"]=Qe,Ge.searchParams.set("forceFunctionRegion",Qe)),K&&(B&&!Object.prototype.hasOwnProperty.call(B,"Content-Type")||!B)?typeof Blob<"u"&&K instanceof Blob||K instanceof ArrayBuffer?(_e["Content-Type"]="application/octet-stream",lt=K):"string"==typeof K?(_e["Content-Type"]="text/plain",lt=K):typeof FormData<"u"&&K instanceof FormData?lt=K:(_e["Content-Type"]="application/json",lt=JSON.stringify(K)):lt=K;let st=re;Ce&&(j=new AbortController,T=setTimeout(()=>j.abort(),Ce),re?(st=j.signal,re.addEventListener("abort",()=>j.abort())):st=j.signal);const wt=yield this.fetch(Ge.toString(),{method:q||"POST",headers:Object.assign(Object.assign(Object.assign({},_e),this.headers),B),body:lt,signal:st}).catch(Ft=>{throw new P(Ft)}),Yt=wt.headers.get("x-relay-error");if(Yt&&"true"===Yt)throw new W(wt);if(!wt.ok)throw new F(wt);let Ct,Qt=(null!==(E=wt.headers.get("Content-Type"))&&void 0!==E?E:"text/plain").split(";")[0].trim();return Ct="application/json"===Qt?yield wt.json():"application/octet-stream"===Qt||"application/pdf"===Qt?yield wt.blob():"text/event-stream"===Qt?wt:"multipart/form-data"===Qt?yield wt.formData():yield wt.text(),{data:Ct,error:null,response:wt}}catch(B){return{data:null,error:B,response:B instanceof F||B instanceof W?B.context:void 0}}finally{T&&clearTimeout(T)}})}}var fe=R(4060),te=R.t(fe,2);const{PostgrestClient:ve}=fe||te,Ee=class Ve{static detectEnvironment(){var h;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&null!==(h=navigator.userAgent)&&void 0!==h&&h.includes("Vercel-Edge"))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const c=process.versions;if(c&&c.node){const E=parseInt(c.node.replace(/^v/,"").split(".")[0]);return E>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${E} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${E} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const h=this.detectEnvironment();if(h.constructor)return h.constructor;let c=h.error||"WebSocket not supported in this environment.";throw h.workaround&&(c+=`\n\nSuggested solution: ${h.workaround}`),new Error(c)}static createWebSocket(h,c){return new(this.getWebSocketConstructor())(h,c)}static isWebSocketSupported(){try{const h=this.detectEnvironment();return"native"===h.type||"ws"===h.type}catch{return!1}}};var pt=function(w){return w[w.connecting=0]="connecting",w[w.open=1]="open",w[w.closing=2]="closing",w[w.closed=3]="closed",w}(pt||{}),qe=function(w){return w.closed="closed",w.errored="errored",w.joined="joined",w.joining="joining",w.leaving="leaving",w}(qe||{}),kn=function(w){return w.close="phx_close",w.error="phx_error",w.join="phx_join",w.reply="phx_reply",w.leave="phx_leave",w.access_token="access_token",w}(kn||{}),jt=function(w){return w.websocket="websocket",w}(jt||{}),Tt=function(w){return w.Connecting="connecting",w.Open="open",w.Closing="closing",w.Closed="closed",w}(Tt||{});class _r{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(h,c){return this._isArrayBuffer(h.payload)?c(this._binaryEncodePush(h)):h.event!==this.BROADCAST||h.payload instanceof ArrayBuffer||"string"!=typeof h.payload.event?c(JSON.stringify([h.join_ref,h.ref,h.topic,h.event,h.payload])):c(this._binaryEncodeUserBroadcastPush(h))}_binaryEncodePush(h){const{join_ref:c,ref:m,event:E,topic:T,payload:j}=h,q=new ArrayBuffer(this.HEADER_LENGTH+(this.META_LENGTH+c.length+m.length+T.length+E.length));let K=new DataView(q),re=0;K.setUint8(re++,this.KINDS.push),K.setUint8(re++,c.length),K.setUint8(re++,m.length),K.setUint8(re++,T.length),K.setUint8(re++,E.length),Array.from(c,_e=>K.setUint8(re++,_e.charCodeAt(0))),Array.from(m,_e=>K.setUint8(re++,_e.charCodeAt(0))),Array.from(T,_e=>K.setUint8(re++,_e.charCodeAt(0))),Array.from(E,_e=>K.setUint8(re++,_e.charCodeAt(0)));var Ce=new Uint8Array(q.byteLength+j.byteLength);return Ce.set(new Uint8Array(q),0),Ce.set(new Uint8Array(j),q.byteLength),Ce.buffer}_binaryEncodeUserBroadcastPush(h){var c;return this._isArrayBuffer(null===(c=h.payload)||void 0===c?void 0:c.payload)?this._encodeBinaryUserBroadcastPush(h):this._encodeJsonUserBroadcastPush(h)}_encodeBinaryUserBroadcastPush(h){var c,m;const{join_ref:E,ref:T,topic:j}=h,B=h.payload.event,q=null!==(m=null===(c=h.payload)||void 0===c?void 0:c.payload)&&void 0!==m?m:new ArrayBuffer(0),re=new ArrayBuffer(this.HEADER_LENGTH+(this.USER_BROADCAST_PUSH_META_LENGTH+E.length+T.length+j.length+B.length));let Ce=new DataView(re),_e=0;Ce.setUint8(_e++,this.KINDS.userBroadcastPush),Ce.setUint8(_e++,E.length),Ce.setUint8(_e++,T.length),Ce.setUint8(_e++,j.length),Ce.setUint8(_e++,B.length),Ce.setUint8(_e++,this.BINARY_ENCODING),Array.from(E,Ge=>Ce.setUint8(_e++,Ge.charCodeAt(0))),Array.from(T,Ge=>Ce.setUint8(_e++,Ge.charCodeAt(0))),Array.from(j,Ge=>Ce.setUint8(_e++,Ge.charCodeAt(0))),Array.from(B,Ge=>Ce.setUint8(_e++,Ge.charCodeAt(0)));var Qe=new Uint8Array(re.byteLength+q.byteLength);return Qe.set(new Uint8Array(re),0),Qe.set(new Uint8Array(q),re.byteLength),Qe.buffer}_encodeJsonUserBroadcastPush(h){var c,m;const{join_ref:E,ref:T,topic:j}=h,B=h.payload.event,q=null!==(m=null===(c=h.payload)||void 0===c?void 0:c.payload)&&void 0!==m?m:{},re=(new TextEncoder).encode(JSON.stringify(q)).buffer,_e=new ArrayBuffer(this.HEADER_LENGTH+(this.USER_BROADCAST_PUSH_META_LENGTH+E.length+T.length+j.length+B.length));let Qe=new DataView(_e),Ge=0;Qe.setUint8(Ge++,this.KINDS.userBroadcastPush),Qe.setUint8(Ge++,E.length),Qe.setUint8(Ge++,T.length),Qe.setUint8(Ge++,j.length),Qe.setUint8(Ge++,B.length),Qe.setUint8(Ge++,this.JSON_ENCODING),Array.from(E,st=>Qe.setUint8(Ge++,st.charCodeAt(0))),Array.from(T,st=>Qe.setUint8(Ge++,st.charCodeAt(0))),Array.from(j,st=>Qe.setUint8(Ge++,st.charCodeAt(0))),Array.from(B,st=>Qe.setUint8(Ge++,st.charCodeAt(0)));var lt=new Uint8Array(_e.byteLength+re.byteLength);return lt.set(new Uint8Array(_e),0),lt.set(new Uint8Array(re),_e.byteLength),lt.buffer}decode(h,c){if(this._isArrayBuffer(h))return c(this._binaryDecode(h));if("string"==typeof h){const m=JSON.parse(h),[E,T,j,B,q]=m;return c({join_ref:E,ref:T,topic:j,event:B,payload:q})}return c({})}_binaryDecode(h){const c=new DataView(h),m=c.getUint8(0),E=new TextDecoder;switch(m){case this.KINDS.push:return this._decodePush(h,c,E);case this.KINDS.reply:return this._decodeReply(h,c,E);case this.KINDS.broadcast:return this._decodeBroadcast(h,c,E);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(h,c,E)}}_decodePush(h,c,m){const E=c.getUint8(1),T=c.getUint8(2),j=c.getUint8(3);let B=this.HEADER_LENGTH+this.META_LENGTH-1;const q=m.decode(h.slice(B,B+E));B+=E;const K=m.decode(h.slice(B,B+T));B+=T;const re=m.decode(h.slice(B,B+j));return B+=j,{join_ref:q,ref:null,topic:K,event:re,payload:JSON.parse(m.decode(h.slice(B,h.byteLength)))}}_decodeReply(h,c,m){const E=c.getUint8(1),T=c.getUint8(2),j=c.getUint8(3),B=c.getUint8(4);let q=this.HEADER_LENGTH+this.META_LENGTH;const K=m.decode(h.slice(q,q+E));q+=E;const re=m.decode(h.slice(q,q+T));q+=T;const Ce=m.decode(h.slice(q,q+j));q+=j;const _e=m.decode(h.slice(q,q+B));q+=B;const Qe=JSON.parse(m.decode(h.slice(q,h.byteLength)));return{join_ref:K,ref:re,topic:Ce,event:kn.reply,payload:{status:_e,response:Qe}}}_decodeBroadcast(h,c,m){const E=c.getUint8(1),T=c.getUint8(2);let j=this.HEADER_LENGTH+2;const B=m.decode(h.slice(j,j+E));j+=E;const q=m.decode(h.slice(j,j+T));return j+=T,{join_ref:null,ref:null,topic:B,event:q,payload:JSON.parse(m.decode(h.slice(j,h.byteLength)))}}_decodeUserBroadcast(h,c,m){const E=c.getUint8(1),T=c.getUint8(2),j=c.getUint8(3),B=c.getUint8(4);let q=this.HEADER_LENGTH+4;const K=m.decode(h.slice(q,q+E));q+=E;const re=m.decode(h.slice(q,q+T));q+=T;const Ce=m.decode(h.slice(q,q+j));q+=j;const _e=h.slice(q,h.byteLength),Qe=B===this.JSON_ENCODING?JSON.parse(m.decode(_e)):_e,Ge={type:this.BROADCAST,event:re,payload:Qe};return j>0&&(Ge.meta=JSON.parse(Ce)),{join_ref:null,ref:null,topic:K,event:this.BROADCAST,payload:Ge}}_isArrayBuffer(h){var c;return h instanceof ArrayBuffer||"ArrayBuffer"===(null===(c=h?.constructor)||void 0===c?void 0:c.name)}}class br{constructor(h,c){this.callback=h,this.timerCalc=c,this.timer=void 0,this.tries=0,this.callback=h,this.timerCalc=c}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var vn=function(w){return w.abstime="abstime",w.bool="bool",w.date="date",w.daterange="daterange",w.float4="float4",w.float8="float8",w.int2="int2",w.int4="int4",w.int4range="int4range",w.int8="int8",w.int8range="int8range",w.json="json",w.jsonb="jsonb",w.money="money",w.numeric="numeric",w.oid="oid",w.reltime="reltime",w.text="text",w.time="time",w.timestamp="timestamp",w.timestamptz="timestamptz",w.timetz="timetz",w.tsrange="tsrange",w.tstzrange="tstzrange",w}(vn||{});const Se=(w,h,c={})=>{var m;const E=null!==(m=c.skipTypes)&&void 0!==m?m:[];return h?Object.keys(h).reduce((T,j)=>(T[j]=ke(j,w,h,E),T),{}):{}},ke=(w,h,c,m)=>{const E=h.find(B=>B.name===w),T=E?.type,j=c[w];return T&&!m.includes(T)?Ne(T,j):Me(j)},Ne=(w,h)=>{if("_"===w.charAt(0)){const c=w.slice(1,w.length);return ln(h,c)}switch(w){case vn.bool:return tt(h);case vn.float4:case vn.float8:case vn.int2:case vn.int4:case vn.int8:case vn.numeric:case vn.oid:return Pe(h);case vn.json:case vn.jsonb:return vt(h);case vn.timestamp:return Cn(h);default:return Me(h)}},Me=w=>w,tt=w=>{switch(w){case"t":return!0;case"f":return!1;default:return w}},Pe=w=>{if("string"==typeof w){const h=parseFloat(w);if(!Number.isNaN(h))return h}return w},vt=w=>{if("string"==typeof w)try{return JSON.parse(w)}catch(h){return console.log(`JSON parse error: ${h}`),w}return w},ln=(w,h)=>{if("string"!=typeof w)return w;const c=w.length-1;if("{"===w[0]&&"}"===w[c]){let T;const j=w.slice(1,c);try{T=JSON.parse("["+j+"]")}catch{T=j?j.split(","):[]}return T.map(B=>Ne(h,B))}return w},Cn=w=>"string"==typeof w?w.replace(" ","T"):w,Mt=w=>{const h=new URL(w);return h.protocol=h.protocol.replace(/^ws/i,"http"),h.pathname=h.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),h.pathname=""===h.pathname||"/"===h.pathname?"/api/broadcast":h.pathname+"/api/broadcast",h.href};class yn{constructor(h,c,m={},E=1e4){this.channel=h,this.event=c,this.payload=m,this.timeout=E,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(h){this.timeout=h,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(h){this.payload=Object.assign(Object.assign({},this.payload),h)}receive(h,c){var m;return this._hasReceived(h)&&c(null===(m=this.receivedResp)||void 0===m?void 0:m.response),this.recHooks.push({status:h,callback:c}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},c=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=c,this._matchReceive(c)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(h,c){this.refEvent&&this.channel._trigger(this.refEvent,{status:h,response:c})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:h,response:c}){this.recHooks.filter(m=>m.status===h).forEach(m=>m.callback(c))}_hasReceived(h){return this.receivedResp&&this.receivedResp.status===h}}class Sn{constructor(h,c){this.channel=h,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const m=c?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(m.state,{},E=>{const{onJoin:T,onLeave:j,onSync:B}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Sn.syncState(this.state,E,T,j),this.pendingDiffs.forEach(q=>{this.state=Sn.syncDiff(this.state,q,T,j)}),this.pendingDiffs=[],B()}),this.channel._on(m.diff,{},E=>{const{onJoin:T,onLeave:j,onSync:B}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(E):(this.state=Sn.syncDiff(this.state,E,T,j),B())}),this.onJoin((E,T,j)=>{this.channel._trigger("presence",{event:"join",key:E,currentPresences:T,newPresences:j})}),this.onLeave((E,T,j)=>{this.channel._trigger("presence",{event:"leave",key:E,currentPresences:T,leftPresences:j})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(h,c,m,E){const T=this.cloneDeep(h),j=this.transformState(c),B={},q={};return this.map(T,(K,re)=>{j[K]||(q[K]=re)}),this.map(j,(K,re)=>{const Ce=T[K];if(Ce){const _e=re.map(st=>st.presence_ref),Qe=Ce.map(st=>st.presence_ref),Ge=re.filter(st=>Qe.indexOf(st.presence_ref)<0),lt=Ce.filter(st=>_e.indexOf(st.presence_ref)<0);Ge.length>0&&(B[K]=Ge),lt.length>0&&(q[K]=lt)}else B[K]=re}),this.syncDiff(T,{joins:B,leaves:q},m,E)}static syncDiff(h,c,m,E){const{joins:T,leaves:j}={joins:this.transformState(c.joins),leaves:this.transformState(c.leaves)};return m||(m=()=>{}),E||(E=()=>{}),this.map(T,(B,q)=>{var K;const re=null!==(K=h[B])&&void 0!==K?K:[];if(h[B]=this.cloneDeep(q),re.length>0){const Ce=h[B].map(Qe=>Qe.presence_ref),_e=re.filter(Qe=>Ce.indexOf(Qe.presence_ref)<0);h[B].unshift(..._e)}m(B,re,q)}),this.map(j,(B,q)=>{let K=h[B];if(!K)return;const re=q.map(Ce=>Ce.presence_ref);K=K.filter(Ce=>re.indexOf(Ce.presence_ref)<0),h[B]=K,E(B,K,q),0===K.length&&delete h[B]}),h}static map(h,c){return Object.getOwnPropertyNames(h).map(m=>c(m,h[m]))}static transformState(h){return h=this.cloneDeep(h),Object.getOwnPropertyNames(h).reduce((c,m)=>{const E=h[m];return c[m]="metas"in E?E.metas.map(T=>(T.presence_ref=T.phx_ref,delete T.phx_ref,delete T.phx_ref_prev,T)):E,c},{})}static cloneDeep(h){return JSON.parse(JSON.stringify(h))}onJoin(h){this.caller.onJoin=h}onLeave(h){this.caller.onLeave=h}onSync(h){this.caller.onSync=h}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Zt=function(w){return w.BROADCAST="broadcast",w.PRESENCE="presence",w.POSTGRES_CHANGES="postgres_changes",w.SYSTEM="system",w}(Zt||{}),hn=function(w){return w.SUBSCRIBED="SUBSCRIBED",w.TIMED_OUT="TIMED_OUT",w.CLOSED="CLOSED",w.CHANNEL_ERROR="CHANNEL_ERROR",w}(hn||{});class rt{constructor(h,c={config:{}},m){var E,T;if(this.topic=h,this.params=c,this.socket=m,this.bindings={},this.state=qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=h.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},c.config),this.timeout=this.socket.timeout,this.joinPush=new yn(this,kn.join,this.params,this.timeout),this.rejoinTimer=new br(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(j=>j.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qe.closed,this.socket._remove(this)}),this._onError(j=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,j),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",j=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,j),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(kn.reply,{},(j,B)=>{this._trigger(this._replyEventName(B),j)}),this.presence=new Sn(this),this.broadcastEndpointURL=Mt(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&null!==(T=null===(E=this.params.config)||void 0===E?void 0:E.broadcast)&&void 0!==T&&T.replay)throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(h,c=this.timeout){var E,T,j,m=this;if(this.socket.isConnected()||this.socket.connect(),this.state==qe.closed){const{config:{broadcast:B,presence:q,private:K}}=this.params,re=null!==(T=null===(E=this.bindings.postgres_changes)||void 0===E?void 0:E.map(Ge=>Ge.filter))&&void 0!==T?T:[],Ce=!!this.bindings[Zt.PRESENCE]&&this.bindings[Zt.PRESENCE].length>0||!0===(null===(j=this.params.config.presence)||void 0===j?void 0:j.enabled),_e={},Qe={broadcast:B,presence:Object.assign(Object.assign({},q),{enabled:Ce}),postgres_changes:re,private:K};this.socket.accessTokenValue&&(_e.access_token=this.socket.accessTokenValue),this._onError(Ge=>h?.(hn.CHANNEL_ERROR,Ge)),this._onClose(()=>h?.(hn.CLOSED)),this.updateJoinPayload(Object.assign({config:Qe},_e)),this.joinedOnce=!0,this._rejoin(c),this.joinPush.receive("ok",function(){var Ge=(0,f.A)(function*({postgres_changes:lt}){var st;if(m.socket.setAuth(),void 0!==lt){const wt=m.bindings.postgres_changes,Yt=null!==(st=wt?.length)&&void 0!==st?st:0,Qt=[];for(let Ct=0;Ct<Yt;Ct++){const Ft=wt[Ct],{filter:{event:xn,schema:ti,table:fn,filter:dt}}=Ft,ni=lt&&lt[Ct];if(!ni||ni.event!==xn||ni.schema!==ti||ni.table!==fn||ni.filter!==dt)return m.unsubscribe(),m.state=qe.errored,void h?.(hn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));Qt.push(Object.assign(Object.assign({},Ft),{id:ni.id}))}return m.bindings.postgres_changes=Qt,void(h&&h(hn.SUBSCRIBED))}h?.(hn.SUBSCRIBED)});return function(lt){return Ge.apply(this,arguments)}}()).receive("error",Ge=>{this.state=qe.errored,h?.(hn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(Ge).join(", ")||"error")))}).receive("timeout",()=>{h?.(hn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(h){var c=this;return(0,f.A)(function*(m,E={}){return yield c.send({type:"presence",event:"track",payload:m},E.timeout||c.timeout)}).apply(this,arguments)}untrack(){var h=this;return(0,f.A)(function*(c={}){return yield h.send({type:"presence",event:"untrack"},c)}).apply(this,arguments)}on(h,c,m){return this.state===qe.joined&&h===Zt.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(h,c,m)}httpSend(h,c){var m=this;return(0,f.A)(function*(E,T,j={}){var B;const q=m.socket.accessTokenValue?`Bearer ${m.socket.accessTokenValue}`:"";if(null==T)return Promise.reject("Payload is required for httpSend()");const K={method:"POST",headers:{Authorization:q,apikey:m.socket.apiKey?m.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:m.subTopic,event:E,payload:T,private:m.private}]})},re=yield m._fetchWithTimeout(m.broadcastEndpointURL,K,null!==(B=j.timeout)&&void 0!==B?B:m.timeout);if(202===re.status)return{success:!0};let Ce=re.statusText;try{const _e=yield re.json();Ce=_e.error||_e.message||Ce}catch{}return Promise.reject(new Error(Ce))}).apply(this,arguments)}send(h){var c=this;return(0,f.A)(function*(m,E={}){var T,j;if(c._canPush()||"broadcast"!==m.type)return new Promise(B=>{var q,K,re;const Ce=c._push(m.type,m,E.timeout||c.timeout);"broadcast"===m.type&&!(null!==(re=null===(K=null===(q=c.params)||void 0===q?void 0:q.config)||void 0===K?void 0:K.broadcast)&&void 0!==re&&re.ack)&&B("ok"),Ce.receive("ok",()=>B("ok")),Ce.receive("error",()=>B("error")),Ce.receive("timeout",()=>B("timed out"))});{console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:B,payload:q}=m,re={method:"POST",headers:{Authorization:c.socket.accessTokenValue?`Bearer ${c.socket.accessTokenValue}`:"",apikey:c.socket.apiKey?c.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:c.subTopic,event:B,payload:q,private:c.private}]})};try{const Ce=yield c._fetchWithTimeout(c.broadcastEndpointURL,re,null!==(T=E.timeout)&&void 0!==T?T:c.timeout);return yield null===(j=Ce.body)||void 0===j?void 0:j.cancel(),Ce.ok?"ok":"error"}catch(Ce){return"AbortError"===Ce.name?"timed out":"error"}}}).apply(this,arguments)}updateJoinPayload(h){this.joinPush.updatePayload(h)}unsubscribe(h=this.timeout){this.state=qe.leaving;const c=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(kn.close,"leave",this._joinRef())};this.joinPush.destroy();let m=null;return new Promise(E=>{m=new yn(this,kn.leave,{},h),m.receive("ok",()=>{c(),E("ok")}).receive("timeout",()=>{c(),E("timed out")}).receive("error",()=>{E("error")}),m.send(),this._canPush()||m.trigger("ok",{})}).finally(()=>{m?.destroy()})}teardown(){this.pushBuffer.forEach(h=>h.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=qe.closed,this.bindings={}}_fetchWithTimeout(h,c,m){var E=this;return(0,f.A)(function*(){const T=new AbortController,j=setTimeout(()=>T.abort(),m),B=yield E.socket.fetch(h,Object.assign(Object.assign({},c),{signal:T.signal}));return clearTimeout(j),B})()}_push(h,c,m=this.timeout){if(!this.joinedOnce)throw`tried to push '${h}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let E=new yn(this,h,c,m);return this._canPush()?E.send():this._addToPushBuffer(E),E}_addToPushBuffer(h){if(h.startTimeout(),this.pushBuffer.push(h),this.pushBuffer.length>100){const c=this.pushBuffer.shift();c&&(c.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${c.event}`,c.payload))}}_onMessage(h,c,m){return c}_isMember(h){return this.topic===h}_joinRef(){return this.joinPush.ref}_trigger(h,c,m){var E,T;const j=h.toLocaleLowerCase(),{close:B,error:q,leave:K,join:re}=kn;if(m&&[B,q,K,re].indexOf(j)>=0&&m!==this._joinRef())return;let _e=this._onMessage(j,c,m);if(c&&!_e)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(j)?null===(E=this.bindings.postgres_changes)||void 0===E||E.filter(Qe=>{var Ge,lt,st;return"*"===(null===(Ge=Qe.filter)||void 0===Ge?void 0:Ge.event)||(null===(st=null===(lt=Qe.filter)||void 0===lt?void 0:lt.event)||void 0===st?void 0:st.toLocaleLowerCase())===j}).map(Qe=>Qe.callback(_e,m)):null===(T=this.bindings[j])||void 0===T||T.filter(Qe=>{var Ge,lt,st,wt,Yt,Qt;if(["broadcast","presence","postgres_changes"].includes(j)){if("id"in Qe){const Ct=Qe.id,Ft=null===(Ge=Qe.filter)||void 0===Ge?void 0:Ge.event;return Ct&&(null===(lt=c.ids)||void 0===lt?void 0:lt.includes(Ct))&&("*"===Ft||Ft?.toLocaleLowerCase()===(null===(st=c.data)||void 0===st?void 0:st.type.toLocaleLowerCase()))}{const Ct=null===(Yt=null===(wt=Qe?.filter)||void 0===wt?void 0:wt.event)||void 0===Yt?void 0:Yt.toLocaleLowerCase();return"*"===Ct||Ct===(null===(Qt=c?.event)||void 0===Qt?void 0:Qt.toLocaleLowerCase())}}return Qe.type.toLocaleLowerCase()===j}).map(Qe=>{if("object"==typeof _e&&"ids"in _e){const Ge=_e.data,{schema:lt,table:st,commit_timestamp:wt,type:Yt,errors:Qt}=Ge;_e=Object.assign(Object.assign({},{schema:lt,table:st,commit_timestamp:wt,eventType:Yt,new:{},old:{},errors:Qt}),this._getPayloadRecords(Ge))}Qe.callback(_e,m)})}_isClosed(){return this.state===qe.closed}_isJoined(){return this.state===qe.joined}_isJoining(){return this.state===qe.joining}_isLeaving(){return this.state===qe.leaving}_replyEventName(h){return`chan_reply_${h}`}_on(h,c,m){const E=h.toLocaleLowerCase(),T={type:E,filter:c,callback:m};return this.bindings[E]?this.bindings[E].push(T):this.bindings[E]=[T],this}_off(h,c){const m=h.toLocaleLowerCase();return this.bindings[m]&&(this.bindings[m]=this.bindings[m].filter(E=>{var T;return!((null===(T=E.type)||void 0===T?void 0:T.toLocaleLowerCase())===m&&rt.isEqual(E.filter,c))})),this}static isEqual(h,c){if(Object.keys(h).length!==Object.keys(c).length)return!1;for(const m in h)if(h[m]!==c[m])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(h){this._on(kn.close,{},h)}_onError(h){this._on(kn.error,{},c=>h(c))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(h=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qe.joining,this.joinPush.resend(h))}_getPayloadRecords(h){const c={new:{},old:{}};return("INSERT"===h.type||"UPDATE"===h.type)&&(c.new=Se(h.columns,h.record)),("UPDATE"===h.type||"DELETE"===h.type)&&(c.old=Se(h.columns,h.old_record)),c}}const ur=()=>{},Yr=[1e3,2e3,5e3,1e4];class en{constructor(h,c){var m;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=1e4,this.transport=null,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ur,this.ref=0,this.reconnectTimer=null,this.vsn="1.0.0",this.logger=ur,this.conn=null,this.sendBuffer=[],this.serializer=new _r,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=E=>E?(...T)=>E(...T):(...T)=>fetch(...T),null===(m=c?.params)||void 0===m||!m.apikey)throw new Error("API key is required to connect to Realtime");this.apiKey=c.params.apikey,this.endPoint=`${h}/${jt.websocket}`,this.httpEndpoint=Mt(h),this._initializeOptions(c),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(c?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ee.createWebSocket(this.endpointURL())}catch(h){this._setConnectionState("disconnected");const c=h.message;throw c.includes("Node.js")?new Error(`${c}\n\nTo use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })`):new Error(`WebSocket not available: ${c}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(h,c){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const m=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(m),this._setConnectionState("disconnected")},"function"==typeof this.conn.close&&(h?this.conn.close(h,c??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(h){var c=this;return(0,f.A)(function*(){const m=yield h.unsubscribe();return 0===c.channels.length&&c.disconnect(),m})()}removeAllChannels(){var h=this;return(0,f.A)(function*(){const c=yield Promise.all(h.channels.map(m=>m.unsubscribe()));return h.channels=[],h.disconnect(),c})()}log(h,c,m){this.logger(h,c,m)}connectionState(){switch(this.conn&&this.conn.readyState){case pt.connecting:return Tt.Connecting;case pt.open:return Tt.Open;case pt.closing:return Tt.Closing;default:return Tt.Closed}}isConnected(){return this.connectionState()===Tt.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(h,c={config:{}}){const m=`realtime:${h}`,E=this.getChannels().find(T=>T.topic===m);if(E)return E;{const T=new rt(`realtime:${h}`,c,this);return this.channels.push(T),T}}push(h){const{topic:c,event:m,payload:E,ref:T}=h,j=()=>{this.encode(h,B=>{var q;null===(q=this.conn)||void 0===q||q.send(B)})};this.log("push",`${c} ${m} (${T})`,E),this.isConnected()?j():this.sendBuffer.push(j)}setAuth(){var h=this;return(0,f.A)(function*(c=null){h._authPromise=h._performAuth(c);try{yield h._authPromise}finally{h._authPromise=null}}).apply(this,arguments)}sendHeartbeat(){var h=this;return(0,f.A)(function*(){var c;if(h.isConnected()){if(h.pendingHeartbeatRef){h.pendingHeartbeatRef=null,h.log("transport","heartbeat timeout. Attempting to re-establish connection");try{h.heartbeatCallback("timeout")}catch(m){h.log("error","error in heartbeat callback",m)}return h._wasManualDisconnect=!1,null===(c=h.conn)||void 0===c||c.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var m;h.isConnected()||null===(m=h.reconnectTimer)||void 0===m||m.scheduleTimeout()},100)}h.pendingHeartbeatRef=h._makeRef(),h.push({topic:"phoenix",event:"heartbeat",payload:{},ref:h.pendingHeartbeatRef});try{h.heartbeatCallback("sent")}catch(m){h.log("error","error in heartbeat callback",m)}h._setAuthSafely("heartbeat")}else try{h.heartbeatCallback("disconnected")}catch(m){h.log("error","error in heartbeat callback",m)}})()}onHeartbeat(h){this.heartbeatCallback=h}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(h=>h()),this.sendBuffer=[])}_makeRef(){let h=this.ref+1;return this.ref=h===this.ref?0:h,this.ref.toString()}_leaveOpenTopic(h){let c=this.channels.find(m=>m.topic===h&&(m._isJoined()||m._isJoining()));c&&(this.log("transport",`leaving duplicate topic "${h}"`),c.unsubscribe())}_remove(h){this.channels=this.channels.filter(c=>c.topic!==h.topic)}_onConnMessage(h){this.decode(h.data,c=>{if("phoenix"===c.topic&&"phx_reply"===c.event)try{this.heartbeatCallback("ok"===c.payload.status?"ok":"error")}catch(K){this.log("error","error in heartbeat callback",K)}c.ref&&c.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:m,event:E,payload:T,ref:j}=c;this.log("receive",`${T.status||""} ${m} ${E} ${j?`(${j})`:""}`.trim(),T),this.channels.filter(K=>K._isMember(m)).forEach(K=>K._trigger(E,T,j)),this._triggerStateCallbacks("message",c)})}_clearTimer(h){var c;"heartbeat"===h&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===h&&(null===(c=this.reconnectTimer)||void 0===c||c.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=h=>this._onConnError(h),this.conn.onmessage=h=>this._onConnMessage(h),this.conn.onclose=h=>this._onConnClose(h))}_teardownConnection(){if(this.conn){if(this.conn.readyState===pt.open||this.conn.readyState===pt.connecting)try{this.conn.close()}catch(h){this.log("error","Error closing connection",h)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(h=>h.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(c=>{this.log("error","error waiting for auth on connect",c),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.log("worker",this.workerUrl?`starting worker for from ${this.workerUrl}`:"starting default worker");const h=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(h),this.workerRef.onerror=c=>{this.log("worker","worker error",c.message),this.workerRef.terminate()},this.workerRef.onmessage=c=>{"keepAlive"===c.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(h){var c;this._setConnectionState("disconnected"),this.log("transport","close",h),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(c=this.reconnectTimer)||void 0===c||c.scheduleTimeout(),this._triggerStateCallbacks("close",h)}_onConnError(h){this._setConnectionState("disconnected"),this.log("transport",`${h}`),this._triggerChanError(),this._triggerStateCallbacks("error",h)}_triggerChanError(){this.channels.forEach(h=>h._trigger(kn.error))}_appendParams(h,c){if(0===Object.keys(c).length)return h;const m=h.match(/\?/)?"&":"?";return`${h}${m}${new URLSearchParams(c)}`}_workerObjectUrl(h){let c;if(h)c=h;else{const m=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});c=URL.createObjectURL(m)}return c}_setConnectionState(h,c=!1){this._connectionState=h,"connecting"===h?this._wasManualDisconnect=!1:"disconnecting"===h&&(this._wasManualDisconnect=c)}_performAuth(){var h=this;return(0,f.A)(function*(c=null){let m;m=c||(h.accessToken?yield h.accessToken():h.accessTokenValue),h.accessTokenValue!=m&&(h.accessTokenValue=m,h.channels.forEach(E=>{m&&E.updateJoinPayload({access_token:m,version:"realtime-js/2.81.1"}),E.joinedOnce&&E._isJoined()&&E._push(kn.access_token,{access_token:m})}))}).apply(this,arguments)}_waitForAuthIfNeeded(){var h=this;return(0,f.A)(function*(){h._authPromise&&(yield h._authPromise)})()}_setAuthSafely(h="general"){this.setAuth().catch(c=>{this.log("error",`error setting auth in ${h}`,c)})}_triggerStateCallbacks(h,c){try{this.stateChangeCallbacks[h].forEach(m=>{try{m(c)}catch(E){this.log("error",`error in ${h} callback`,E)}})}catch(m){this.log("error",`error triggering ${h} callbacks`,m)}}_setupReconnectionTimer(){var h=this;this.reconnectTimer=new br((0,f.A)(function*(){setTimeout((0,f.A)(function*(){yield h._waitForAuthIfNeeded(),h.isConnected()||h.connect()}),10)}),this.reconnectAfterMs)}_initializeOptions(h){var c,m,E,T,j,B,q,K,re,Ce,_e,Qe;switch(this.transport=null!==(c=h?.transport)&&void 0!==c?c:null,this.timeout=null!==(m=h?.timeout)&&void 0!==m?m:1e4,this.heartbeatIntervalMs=null!==(E=h?.heartbeatIntervalMs)&&void 0!==E?E:25e3,this.worker=null!==(T=h?.worker)&&void 0!==T&&T,this.accessToken=null!==(j=h?.accessToken)&&void 0!==j?j:null,this.heartbeatCallback=null!==(B=h?.heartbeatCallback)&&void 0!==B?B:ur,this.vsn=null!==(q=h?.vsn)&&void 0!==q?q:"1.0.0",h?.params&&(this.params=h.params),h?.logger&&(this.logger=h.logger),(h?.logLevel||h?.log_level)&&(this.logLevel=h.logLevel||h.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(K=h?.reconnectAfterMs)&&void 0!==K?K:Ge=>Yr[Ge-1]||1e4,this.vsn){case"1.0.0":this.encode=null!==(re=h?.encode)&&void 0!==re?re:(Ge,lt)=>lt(JSON.stringify(Ge)),this.decode=null!==(Ce=h?.decode)&&void 0!==Ce?Ce:(Ge,lt)=>lt(JSON.parse(Ge));break;case"2.0.0":this.encode=null!==(_e=h?.encode)&&void 0!==_e?_e:this.serializer.encode.bind(this.serializer),this.decode=null!==(Qe=h?.decode)&&void 0!==Qe?Qe:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=h?.workerUrl}}}class Rt extends Error{constructor(h){super(h),this.__isStorageError=!0,this.name="StorageError"}}function tn(w){return"object"==typeof w&&null!==w&&"__isStorageError"in w}class Kt extends Rt{constructor(h,c,m){super(h),this.name="StorageApiError",this.status=c,this.statusCode=m}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Vn extends Rt{constructor(h,c){super(h),this.name="StorageUnknownError",this.originalError=c}}const ii=w=>w?(...h)=>w(...h):(...h)=>fetch(...h),Xr=w=>{if(Array.isArray(w))return w.map(c=>Xr(c));if("function"==typeof w||w!==Object(w))return w;const h={};return Object.entries(w).forEach(([c,m])=>{const E=c.replace(/([-_][a-z])/gi,T=>T.toUpperCase().replace(/[-_]/g,""));h[E]=Xr(m)}),h},nn=w=>{var h;return w.msg||w.message||w.error_description||("string"==typeof w.error?w.error:null===(h=w.error)||void 0===h?void 0:h.message)||JSON.stringify(w)},_n=(w,h,c)=>(0,O.__awaiter)(void 0,void 0,void 0,function*(){const m=yield Response;w instanceof m&&!c?.noResolveJson?w.json().then(E=>{const T=w.status||500,j=E?.statusCode||T+"";h(new Kt(nn(E),T,j))}).catch(E=>{h(new Vn(nn(E),E))}):h(new Vn(nn(w),w))}),$i=(w,h,c,m)=>{const E={method:w,headers:h?.headers||{}};return"GET"!==w&&m?((w=>{if("object"!=typeof w||null===w)return!1;const h=Object.getPrototypeOf(w);return!(null!==h&&h!==Object.prototype&&null!==Object.getPrototypeOf(h)||Symbol.toStringTag in w||Symbol.iterator in w)})(m)?(E.headers=Object.assign({"Content-Type":"application/json"},h?.headers),E.body=JSON.stringify(m)):E.body=m,h?.duplex&&(E.duplex=h.duplex),Object.assign(Object.assign({},E),c)):E};function Nt(w,h,c,m,E,T){return(0,O.__awaiter)(this,void 0,void 0,function*(){return new Promise((j,B)=>{w(c,$i(h,m,E,T)).then(q=>{if(!q.ok)throw q;return m?.noResolveJson?q:q.json()}).then(q=>j(q)).catch(q=>_n(q,B,m))})})}function Er(w,h,c,m){return(0,O.__awaiter)(this,void 0,void 0,function*(){return Nt(w,"GET",h,c,m)})}function $t(w,h,c,m,E){return(0,O.__awaiter)(this,void 0,void 0,function*(){return Nt(w,"POST",h,m,E,c)})}function Cr(w,h,c,m,E){return(0,O.__awaiter)(this,void 0,void 0,function*(){return Nt(w,"PUT",h,m,E,c)})}function Dn(w,h,c,m,E){return(0,O.__awaiter)(this,void 0,void 0,function*(){return Nt(w,"DELETE",h,m,E,c)})}class je{constructor(h,c){this.downloadFn=h,this.shouldThrowOnError=c}then(h,c){return this.execute().then(h,c)}execute(){return(0,O.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(tn(h))return{data:null,error:h};throw h}})}}var pe;pe=Symbol.toStringTag;const ge=class ae{constructor(h,c){this.downloadFn=h,this.shouldThrowOnError=c,this[pe]="BlobDownloadBuilder",this.promise=null}asStream(){return new je(this.downloadFn,this.shouldThrowOnError)}then(h,c){return this.getPromise().then(h,c)}catch(h){return this.getPromise().catch(h)}finally(h){return this.getPromise().finally(h)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return(0,O.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(tn(h))return{data:null,error:h};throw h}})}},ze={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ft={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Lt{constructor(h,c={},m,E){this.shouldThrowOnError=!1,this.url=h,this.headers=c,this.bucketId=m,this.fetch=ii(E)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(h,c,m,E){return(0,O.__awaiter)(this,void 0,void 0,function*(){try{let T;const j=Object.assign(Object.assign({},ft),E);let B=Object.assign(Object.assign({},this.headers),"POST"===h&&{"x-upsert":String(j.upsert)});const q=j.metadata;typeof Blob<"u"&&m instanceof Blob?(T=new FormData,T.append("cacheControl",j.cacheControl),q&&T.append("metadata",this.encodeMetadata(q)),T.append("",m)):typeof FormData<"u"&&m instanceof FormData?(T=m,T.has("cacheControl")||T.append("cacheControl",j.cacheControl),q&&!T.has("metadata")&&T.append("metadata",this.encodeMetadata(q))):(T=m,B["cache-control"]=`max-age=${j.cacheControl}`,B["content-type"]=j.contentType,q&&(B["x-metadata"]=this.toBase64(this.encodeMetadata(q))),(typeof ReadableStream<"u"&&T instanceof ReadableStream||T&&"object"==typeof T&&"pipe"in T&&"function"==typeof T.pipe)&&!j.duplex&&(j.duplex="half")),E?.headers&&(B=Object.assign(Object.assign({},B),E.headers));const K=this._removeEmptyFolders(c),re=this._getFinalPath(K),Ce=yield("PUT"==h?Cr:$t)(this.fetch,`${this.url}/object/${re}`,T,Object.assign({headers:B},j?.duplex?{duplex:j.duplex}:{}));return{data:{path:K,id:Ce.Id,fullPath:Ce.Key},error:null}}catch(T){if(this.shouldThrowOnError)throw T;if(tn(T))return{data:null,error:T};throw T}})}upload(h,c,m){return(0,O.__awaiter)(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",h,c,m)})}uploadToSignedUrl(h,c,m,E){return(0,O.__awaiter)(this,void 0,void 0,function*(){const T=this._removeEmptyFolders(h),j=this._getFinalPath(T),B=new URL(this.url+`/object/upload/sign/${j}`);B.searchParams.set("token",c);try{let q;const K=Object.assign({upsert:ft.upsert},E),re=Object.assign(Object.assign({},this.headers),{"x-upsert":String(K.upsert)});return typeof Blob<"u"&&m instanceof Blob?(q=new FormData,q.append("cacheControl",K.cacheControl),q.append("",m)):typeof FormData<"u"&&m instanceof FormData?(q=m,q.append("cacheControl",K.cacheControl)):(q=m,re["cache-control"]=`max-age=${K.cacheControl}`,re["content-type"]=K.contentType),{data:{path:T,fullPath:(yield Cr(this.fetch,B.toString(),q,{headers:re})).Key},error:null}}catch(q){if(this.shouldThrowOnError)throw q;if(tn(q))return{data:null,error:q};throw q}})}createSignedUploadUrl(h,c){return(0,O.__awaiter)(this,void 0,void 0,function*(){try{let m=this._getFinalPath(h);const E=Object.assign({},this.headers);c?.upsert&&(E["x-upsert"]="true");const T=yield $t(this.fetch,`${this.url}/object/upload/sign/${m}`,{},{headers:E}),j=new URL(this.url+T.url),B=j.searchParams.get("token");if(!B)throw new Rt("No token returned by API");return{data:{signedUrl:j.toString(),path:h,token:B},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(tn(m))return{data:null,error:m};throw m}})}update(h,c,m){return(0,O.__awaiter)(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",h,c,m)})}move(h,c,m){return(0,O.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:h,destinationKey:c,destinationBucket:m?.destinationBucket},{headers:this.headers}),error:null}}catch(E){if(this.shouldThrowOnError)throw E;if(tn(E))return{data:null,error:E};throw E}})}copy(h,c,m){return(0,O.__awaiter)(this,void 0,void 0,function*(){try{return{data:{path:(yield $t(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:h,destinationKey:c,destinationBucket:m?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(E){if(this.shouldThrowOnError)throw E;if(tn(E))return{data:null,error:E};throw E}})}createSignedUrl(h,c,m){return(0,O.__awaiter)(this,void 0,void 0,function*(){try{let E=this._getFinalPath(h),T=yield $t(this.fetch,`${this.url}/object/sign/${E}`,Object.assign({expiresIn:c},m?.transform?{transform:m.transform}:{}),{headers:this.headers});const j=m?.download?`&download=${!0===m.download?"":m.download}`:"";return T={signedUrl:encodeURI(`${this.url}${T.signedURL}${j}`)},{data:T,error:null}}catch(E){if(this.shouldThrowOnError)throw E;if(tn(E))return{data:null,error:E};throw E}})}createSignedUrls(h,c,m){return(0,O.__awaiter)(this,void 0,void 0,function*(){try{const E=yield $t(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:c,paths:h},{headers:this.headers}),T=m?.download?`&download=${!0===m.download?"":m.download}`:"";return{data:E.map(j=>Object.assign(Object.assign({},j),{signedUrl:j.signedURL?encodeURI(`${this.url}${j.signedURL}${T}`):null})),error:null}}catch(E){if(this.shouldThrowOnError)throw E;if(tn(E))return{data:null,error:E};throw E}})}download(h,c){const E=typeof c?.transform<"u"?"render/image/authenticated":"object",T=this.transformOptsToQueryString(c?.transform||{}),j=T?`?${T}`:"",B=this._getFinalPath(h);return new ge(()=>Er(this.fetch,`${this.url}/${E}/${B}${j}`,{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}info(h){return(0,O.__awaiter)(this,void 0,void 0,function*(){const c=this._getFinalPath(h);try{const m=yield Er(this.fetch,`${this.url}/object/info/${c}`,{headers:this.headers});return{data:Xr(m),error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(tn(m))return{data:null,error:m};throw m}})}exists(h){return(0,O.__awaiter)(this,void 0,void 0,function*(){const c=this._getFinalPath(h);try{return yield function Or(w,h,c,m){return(0,O.__awaiter)(this,void 0,void 0,function*(){return Nt(w,"HEAD",h,Object.assign(Object.assign({},c),{noResolveJson:!0}),m)})}(this.fetch,`${this.url}/object/${c}`,{headers:this.headers}),{data:!0,error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(tn(m)&&m instanceof Vn){const E=m.originalError;if([400,404].includes(E?.status))return{data:!1,error:m}}throw m}})}getPublicUrl(h,c){const m=this._getFinalPath(h),E=[],T=c?.download?`download=${!0===c.download?"":c.download}`:"";""!==T&&E.push(T);const B=typeof c?.transform<"u"?"render/image":"object",q=this.transformOptsToQueryString(c?.transform||{});""!==q&&E.push(q);let K=E.join("&");return""!==K&&(K=`?${K}`),{data:{publicUrl:encodeURI(`${this.url}/${B}/public/${m}${K}`)}}}remove(h){return(0,O.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:h},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(tn(c))return{data:null,error:c};throw c}})}list(h,c,m){return(0,O.__awaiter)(this,void 0,void 0,function*(){try{const E=Object.assign(Object.assign(Object.assign({},ze),c),{prefix:h||""});return{data:yield $t(this.fetch,`${this.url}/object/list/${this.bucketId}`,E,{headers:this.headers},m),error:null}}catch(E){if(this.shouldThrowOnError)throw E;if(tn(E))return{data:null,error:E};throw E}})}listV2(h,c){return(0,O.__awaiter)(this,void 0,void 0,function*(){try{const m=Object.assign({},h);return{data:yield $t(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,m,{headers:this.headers},c),error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(tn(m))return{data:null,error:m};throw m}})}encodeMetadata(h){return JSON.stringify(h)}toBase64(h){return typeof Buffer<"u"?Buffer.from(h).toString("base64"):btoa(h)}_getFinalPath(h){return`${this.bucketId}/${h.replace(/^\/+/,"")}`}_removeEmptyFolders(h){return h.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(h){const c=[];return h.width&&c.push(`width=${h.width}`),h.height&&c.push(`height=${h.height}`),h.resize&&c.push(`resize=${h.resize}`),h.format&&c.push(`format=${h.format}`),h.quality&&c.push(`quality=${h.quality}`),c.join("&")}}const Mn={"X-Client-Info":"storage-js/2.81.1"};class cr{constructor(h,c={},m,E){this.shouldThrowOnError=!1;const T=new URL(h);E?.useNewHostname&&/supabase\.(co|in|red)$/.test(T.hostname)&&!T.hostname.includes("storage.supabase.")&&(T.hostname=T.hostname.replace("supabase.","storage.supabase.")),this.url=T.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Mn),c),this.fetch=ii(m)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(h){return(0,O.__awaiter)(this,void 0,void 0,function*(){try{const c=this.listBucketOptionsToQueryString(h);return{data:yield Er(this.fetch,`${this.url}/bucket${c}`,{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(tn(c))return{data:null,error:c};throw c}})}getBucket(h){return(0,O.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Er(this.fetch,`${this.url}/bucket/${h}`,{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(tn(c))return{data:null,error:c};throw c}})}createBucket(h){return(0,O.__awaiter)(this,arguments,void 0,function*(c,m={public:!1}){try{return{data:yield $t(this.fetch,`${this.url}/bucket`,{id:c,name:c,type:m.type,public:m.public,file_size_limit:m.fileSizeLimit,allowed_mime_types:m.allowedMimeTypes},{headers:this.headers}),error:null}}catch(E){if(this.shouldThrowOnError)throw E;if(tn(E))return{data:null,error:E};throw E}})}updateBucket(h,c){return(0,O.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Cr(this.fetch,`${this.url}/bucket/${h}`,{id:h,name:h,public:c.public,file_size_limit:c.fileSizeLimit,allowed_mime_types:c.allowedMimeTypes},{headers:this.headers}),error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(tn(m))return{data:null,error:m};throw m}})}emptyBucket(h){return(0,O.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/bucket/${h}/empty`,{},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(tn(c))return{data:null,error:c};throw c}})}deleteBucket(h){return(0,O.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/bucket/${h}`,{},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(tn(c))return{data:null,error:c};throw c}})}listBucketOptionsToQueryString(h){const c={};return h&&("limit"in h&&(c.limit=String(h.limit)),"offset"in h&&(c.offset=String(h.offset)),h.search&&(c.search=h.search),h.sortColumn&&(c.sortColumn=h.sortColumn),h.sortOrder&&(c.sortOrder=h.sortOrder)),Object.keys(c).length>0?"?"+new URLSearchParams(c).toString():""}}class wr{constructor(h,c={},m){this.shouldThrowOnError=!1,this.url=h.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Mn),c),this.fetch=ii(m)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(h){return(0,O.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/bucket`,{name:h},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(tn(c))return{data:null,error:c};throw c}})}listBuckets(h){return(0,O.__awaiter)(this,void 0,void 0,function*(){try{const c=new URLSearchParams;void 0!==h?.limit&&c.set("limit",h.limit.toString()),void 0!==h?.offset&&c.set("offset",h.offset.toString()),h?.sortColumn&&c.set("sortColumn",h.sortColumn),h?.sortOrder&&c.set("sortOrder",h.sortOrder),h?.search&&c.set("search",h.search);const m=c.toString(),E=m?`${this.url}/bucket?${m}`:`${this.url}/bucket`;return{data:yield Er(this.fetch,E,{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(tn(c))return{data:null,error:c};throw c}})}deleteBucket(h){return(0,O.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/bucket/${h}`,{},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(tn(c))return{data:null,error:c};throw c}})}}const dr={"X-Client-Info":"storage-js/2.81.1","Content-Type":"application/json"};class vi extends Error{constructor(h){super(h),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function sr(w){return"object"==typeof w&&null!==w&&"__isStorageVectorsError"in w}class Kr extends vi{constructor(h,c,m){super(h),this.name="StorageVectorsApiError",this.status=c,this.statusCode=m}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Fi extends vi{constructor(h,c){super(h),this.name="StorageVectorsUnknownError",this.originalError=c}}const xt=w=>w?(...h)=>w(...h):(...h)=>fetch(...h),Pr=w=>w.msg||w.message||w.error_description||w.error||JSON.stringify(w),rn=(w,h,c)=>(0,O.__awaiter)(void 0,void 0,void 0,function*(){if(w&&"object"==typeof w&&"status"in w&&"ok"in w&&"number"==typeof w.status&&!c?.noResolveJson){const E=w.status||500,T=w;"function"==typeof T.json?T.json().then(j=>{const B=j?.statusCode||j?.code||E+"";h(new Kr(Pr(j),E,B))}).catch(()=>{h(new Kr(T.statusText||`HTTP ${E} error`,E,E+""))}):h(new Kr(T.statusText||`HTTP ${E} error`,E,E+""))}else h(new Fi(Pr(w),w))}),si=(w,h,c,m)=>{const E={method:w,headers:h?.headers||{}};return"GET"!==w&&m?((w=>{if("object"!=typeof w||null===w)return!1;const h=Object.getPrototypeOf(w);return!(null!==h&&h!==Object.prototype&&null!==Object.getPrototypeOf(h)||Symbol.toStringTag in w||Symbol.iterator in w)})(m)?(E.headers=Object.assign({"Content-Type":"application/json"},h?.headers),E.body=JSON.stringify(m)):E.body=m,Object.assign(Object.assign({},E),c)):E};function Xn(w,h,c,m,E){return(0,O.__awaiter)(this,void 0,void 0,function*(){return function Ir(w,h,c,m,E,T){return(0,O.__awaiter)(this,void 0,void 0,function*(){return new Promise((j,B)=>{w(c,si(h,m,E,T)).then(q=>{if(!q.ok)throw q;if(m?.noResolveJson)return q;const K=q.headers.get("content-type");return K&&K.includes("application/json")?q.json():{}}).then(q=>j(q)).catch(q=>rn(q,B,m))})})}(w,"POST",h,m,E,c)})}class Ui{constructor(h,c={},m){this.shouldThrowOnError=!1,this.url=h.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},dr),c),this.fetch=xt(m)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(h){return(0,O.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield Xn(this.fetch,`${this.url}/CreateIndex`,h,{headers:this.headers}))||{},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(sr(c))return{data:null,error:c};throw c}})}getIndex(h,c){return(0,O.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Xn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:h,indexName:c},{headers:this.headers}),error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(sr(m))return{data:null,error:m};throw m}})}listIndexes(h){return(0,O.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Xn(this.fetch,`${this.url}/ListIndexes`,h,{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(sr(c))return{data:null,error:c};throw c}})}deleteIndex(h,c){return(0,O.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield Xn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:h,indexName:c},{headers:this.headers}))||{},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(sr(m))return{data:null,error:m};throw m}})}}class jr{constructor(h,c={},m){this.shouldThrowOnError=!1,this.url=h.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},dr),c),this.fetch=xt(m)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(h){return(0,O.__awaiter)(this,void 0,void 0,function*(){try{if(h.vectors.length<1||h.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Xn(this.fetch,`${this.url}/PutVectors`,h,{headers:this.headers}))||{},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(sr(c))return{data:null,error:c};throw c}})}getVectors(h){return(0,O.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Xn(this.fetch,`${this.url}/GetVectors`,h,{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(sr(c))return{data:null,error:c};throw c}})}listVectors(h){return(0,O.__awaiter)(this,void 0,void 0,function*(){try{if(void 0!==h.segmentCount){if(h.segmentCount<1||h.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(void 0!==h.segmentIndex&&(h.segmentIndex<0||h.segmentIndex>=h.segmentCount))throw new Error("segmentIndex must be between 0 and "+(h.segmentCount-1))}return{data:yield Xn(this.fetch,`${this.url}/ListVectors`,h,{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(sr(c))return{data:null,error:c};throw c}})}queryVectors(h){return(0,O.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Xn(this.fetch,`${this.url}/QueryVectors`,h,{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(sr(c))return{data:null,error:c};throw c}})}deleteVectors(h){return(0,O.__awaiter)(this,void 0,void 0,function*(){try{if(h.keys.length<1||h.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Xn(this.fetch,`${this.url}/DeleteVectors`,h,{headers:this.headers}))||{},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(sr(c))return{data:null,error:c};throw c}})}}class Bi{constructor(h,c={},m){this.shouldThrowOnError=!1,this.url=h.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},dr),c),this.fetch=xt(m)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(h){return(0,O.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield Xn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:h},{headers:this.headers}))||{},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(sr(c))return{data:null,error:c};throw c}})}getBucket(h){return(0,O.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Xn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:h},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(sr(c))return{data:null,error:c};throw c}})}listBuckets(){return(0,O.__awaiter)(this,arguments,void 0,function*(h={}){try{return{data:yield Xn(this.fetch,`${this.url}/ListVectorBuckets`,h,{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(sr(c))return{data:null,error:c};throw c}})}deleteBucket(h){return(0,O.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield Xn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:h},{headers:this.headers}))||{},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(sr(c))return{data:null,error:c};throw c}})}}class ki extends Bi{constructor(h,c={}){super(h,c.headers||{},c.fetch)}from(h){return new ms(this.url,this.headers,h,this.fetch)}}class ms extends Ui{constructor(h,c,m,E){super(h,c,E),this.vectorBucketName=m}createIndex(h){const c=Object.create(null,{createIndex:{get:()=>super.createIndex}});return(0,O.__awaiter)(this,void 0,void 0,function*(){return c.createIndex.call(this,Object.assign(Object.assign({},h),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const h=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return(0,O.__awaiter)(this,arguments,void 0,function*(c={}){return h.listIndexes.call(this,Object.assign(Object.assign({},c),{vectorBucketName:this.vectorBucketName}))})}getIndex(h){const c=Object.create(null,{getIndex:{get:()=>super.getIndex}});return(0,O.__awaiter)(this,void 0,void 0,function*(){return c.getIndex.call(this,this.vectorBucketName,h)})}deleteIndex(h){const c=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return(0,O.__awaiter)(this,void 0,void 0,function*(){return c.deleteIndex.call(this,this.vectorBucketName,h)})}index(h){return new Pt(this.url,this.headers,this.vectorBucketName,h,this.fetch)}}class Pt extends jr{constructor(h,c,m,E,T){super(h,c,T),this.vectorBucketName=m,this.indexName=E}putVectors(h){const c=Object.create(null,{putVectors:{get:()=>super.putVectors}});return(0,O.__awaiter)(this,void 0,void 0,function*(){return c.putVectors.call(this,Object.assign(Object.assign({},h),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(h){const c=Object.create(null,{getVectors:{get:()=>super.getVectors}});return(0,O.__awaiter)(this,void 0,void 0,function*(){return c.getVectors.call(this,Object.assign(Object.assign({},h),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const h=Object.create(null,{listVectors:{get:()=>super.listVectors}});return(0,O.__awaiter)(this,arguments,void 0,function*(c={}){return h.listVectors.call(this,Object.assign(Object.assign({},c),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(h){const c=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return(0,O.__awaiter)(this,void 0,void 0,function*(){return c.queryVectors.call(this,Object.assign(Object.assign({},h),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(h){const c=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return(0,O.__awaiter)(this,void 0,void 0,function*(){return c.deleteVectors.call(this,Object.assign(Object.assign({},h),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class X extends cr{constructor(h,c={},m,E){super(h,c,m,E)}from(h){return new Lt(this.url,this.headers,h,this.fetch)}get vectors(){return new ki(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new wr(this.url+"/iceberg",this.headers,this.fetch)}}let ee="";ee=typeof Deno<"u"?"deno":typeof document<"u"?"web":typeof navigator<"u"&&"ReactNative"===navigator.product?"react-native":"node";const Xe={headers:{"X-Client-Info":`supabase-js-${ee}/2.81.1`}},et={schema:"public"},it={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},At={},un=(w,h,c)=>{const m=(w=>w?(...h)=>w(...h):(...h)=>fetch(...h))(c),E=Headers;return function(){var T=(0,f.A)(function*(j,B){var q;const K=null!==(q=yield h())&&void 0!==q?q:w;let re=new E(B?.headers);return re.has("apikey")||re.set("apikey",w),re.has("Authorization")||re.set("Authorization",`Bearer ${K}`),m(j,Object.assign(Object.assign({},B),{headers:re}))});return function(j,B){return T.apply(this,arguments)}}()},Gn=3e4,Zi="X-Supabase-Api-Version",zt={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},es=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class or extends Error{constructor(h,c,m){super(h),this.__isAuthError=!0,this.name="AuthError",this.status=c,this.code=m}}function Et(w){return"object"==typeof w&&null!==w&&"__isAuthError"in w}class yo extends or{constructor(h,c,m){super(h,c,m),this.name="AuthApiError",this.status=c,this.code=m}}class Zn extends or{constructor(h,c){super(h),this.name="AuthUnknownError",this.originalError=c}}class kr extends or{constructor(h,c,m,E){super(h,m,E),this.name=c,this.status=m}}class Nn extends kr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Mr extends kr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class gs extends kr{constructor(h){super(h,"AuthInvalidCredentialsError",400,void 0)}}class Tr extends kr{constructor(h,c=null){super(h,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=c}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ti extends kr{constructor(h,c=null){super(h,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=c}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class xr extends kr{constructor(h,c){super(h,"AuthRetryableFetchError",c,void 0)}}function er(w){return Et(w)&&"AuthRetryableFetchError"===w.name}class Pn extends kr{constructor(h,c,m){super(h,"AuthWeakPasswordError",c,"weak_password"),this.reasons=m}}class _t extends kr{constructor(h){super(h,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ai="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Sr=" \t\n\r=".split(""),bi=(()=>{const w=new Array(128);for(let h=0;h<w.length;h+=1)w[h]=-1;for(let h=0;h<Sr.length;h+=1)w[Sr[h].charCodeAt(0)]=-2;for(let h=0;h<Ai.length;h+=1)w[Ai[h].charCodeAt(0)]=h;return w})();function oi(w,h,c){if(null!==w)for(h.queue=h.queue<<8|w,h.queuedBits+=8;h.queuedBits>=6;)c(Ai[h.queue>>h.queuedBits-6&63]),h.queuedBits-=6;else if(h.queuedBits>0)for(h.queue=h.queue<<6-h.queuedBits,h.queuedBits=6;h.queuedBits>=6;)c(Ai[h.queue>>h.queuedBits-6&63]),h.queuedBits-=6}function As(w,h,c){const m=bi[w];if(!(m>-1)){if(-2===m)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(w)}"`)}for(h.queue=h.queue<<6|m,h.queuedBits+=6;h.queuedBits>=8;)c(h.queue>>h.queuedBits-8&255),h.queuedBits-=8}function _s(w){const h=[],c=j=>{h.push(String.fromCodePoint(j))},m={utf8seq:0,codepoint:0},E={queue:0,queuedBits:0},T=j=>{!function ns(w,h,c){if(0===h.utf8seq){if(w<=127)return void c(w);for(let m=1;m<6;m+=1)if(!(w>>7-m&1)){h.utf8seq=m;break}if(2===h.utf8seq)h.codepoint=31&w;else if(3===h.utf8seq)h.codepoint=15&w;else{if(4!==h.utf8seq)throw new Error("Invalid UTF-8 sequence");h.codepoint=7&w}h.utf8seq-=1}else if(h.utf8seq>0){if(w<=127)throw new Error("Invalid UTF-8 sequence");h.codepoint=h.codepoint<<6|63&w,h.utf8seq-=1,0===h.utf8seq&&c(h.codepoint)}}(j,m,c)};for(let j=0;j<w.length;j+=1)As(w.charCodeAt(j),E,T);return h.join("")}function Hi(w,h){if(!(w<=127)){if(w<=2047)return h(192|w>>6),void h(128|63&w);if(w<=65535)return h(224|w>>12),h(128|w>>6&63),void h(128|63&w);if(w<=1114111)return h(240|w>>18),h(128|w>>12&63),h(128|w>>6&63),void h(128|63&w);throw new Error(`Unrecognized Unicode codepoint: ${w.toString(16)}`)}h(w)}function Ri(w){const h=[],c={queue:0,queuedBits:0},m=E=>{h.push(E)};for(let E=0;E<w.length;E+=1)As(w.charCodeAt(E),c,m);return new Uint8Array(h)}function Lr(w){const h=[],c={queue:0,queuedBits:0},m=E=>{h.push(E)};return w.forEach(E=>oi(E,c,m)),oi(null,c,m),h.join("")}const wn=()=>typeof window<"u"&&typeof document<"u",$r={tested:!1,writable:!1},Ei=()=>{if(!wn())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch{return!1}if($r.tested)return $r.writable;const w=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(w,w),globalThis.localStorage.removeItem(w),$r.tested=!0,$r.writable=!0}catch{$r.tested=!0,$r.writable=!1}return $r.writable},Tn=w=>w?(...h)=>w(...h):(...h)=>fetch(...h),bs=w=>"object"==typeof w&&null!==w&&"status"in w&&"ok"in w&&"json"in w&&"function"==typeof w.json,qi=function(){var w=(0,f.A)(function*(h,c,m){yield h.setItem(c,JSON.stringify(m))});return function(c,m,E){return w.apply(this,arguments)}}(),Hn=function(){var w=(0,f.A)(function*(h,c){const m=yield h.getItem(c);if(!m)return null;try{return JSON.parse(m)}catch{return m}});return function(c,m){return w.apply(this,arguments)}}(),Vr=function(){var w=(0,f.A)(function*(h,c){yield h.removeItem(c)});return function(c,m){return w.apply(this,arguments)}}();class Oi{constructor(){this.promise=new Oi.promiseConstructor((h,c)=>{this.resolve=h,this.reject=c})}}function Rs(w){const h=w.split(".");if(3!==h.length)throw new _t("Invalid JWT structure");for(let m=0;m<h.length;m++)if(!es.test(h[m]))throw new _t("JWT not in base64url format");return{header:JSON.parse(_s(h[0])),payload:JSON.parse(_s(h[1])),signature:Ri(h[2]),raw:{header:h[0],payload:h[1]}}}function vr(){return(vr=(0,f.A)(function*(w){return yield new Promise(h=>{setTimeout(()=>h(null),w)})})).apply(this,arguments)}function Ur(w){return("0"+w.toString(16)).substr(-2)}function li(){return(li=(0,f.A)(function*(w){const c=(new TextEncoder).encode(w),m=yield crypto.subtle.digest("SHA-256",c),E=new Uint8Array(m);return Array.from(E).map(T=>String.fromCharCode(T)).join("")})).apply(this,arguments)}function Ci(){return Ci=(0,f.A)(function*(w){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),w;const c=yield function ai(w){return li.apply(this,arguments)}(w);return btoa(c).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}),Ci.apply(this,arguments)}function tr(w,h){return wi.apply(this,arguments)}function wi(){return wi=(0,f.A)(function*(w,h,c=!1){const m=function Ks(){const h=new Uint32Array(56);if(typeof crypto>"u"){const c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",m=c.length;let E="";for(let T=0;T<56;T++)E+=c.charAt(Math.floor(Math.random()*m));return E}return crypto.getRandomValues(h),Array.from(h,Ur).join("")}();let E=m;c&&(E+="/PASSWORD_RECOVERY"),yield qi(w,`${h}-code-verifier`,E);const T=yield function Qs(w){return Ci.apply(this,arguments)}(m);return[T,m===T?"plain":"s256"]}),wi.apply(this,arguments)}Oi.promiseConstructor=Promise;const Js=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i,Es=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Di(w){if(!Es.test(w))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Cs(){return new Proxy({},{get:(h,c)=>{if("__isUserNotAvailableProxy"===c)return!0;if("symbol"==typeof c){const m=c.toString();if("Symbol(Symbol.toPrimitive)"===m||"Symbol(Symbol.toStringTag)"===m||"Symbol(util.inspect.custom)"===m)return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${c}" property of the session object is not supported. Please use getUser() instead.`)},set:(h,c)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${c}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(h,c)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${c}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Zr(w){return JSON.parse(JSON.stringify(w))}const A=w=>w.msg||w.message||w.error_description||w.error||JSON.stringify(w),N=[502,503,504];function x(w){return G.apply(this,arguments)}function G(){return(G=(0,f.A)(function*(w){var h;if(!bs(w))throw new xr(A(w),0);if(N.includes(w.status))throw new xr(A(w),w.status);let c,m;try{c=yield w.json()}catch(T){throw new Zn(A(T),T)}const E=function bo(w){const h=w.headers.get(Zi);if(!h||!h.match(Js))return null;try{return new Date(`${h}T00:00:00.0Z`)}catch{return null}}(w);if(E&&E.getTime()>=zt["2024-01-01"].timestamp&&"object"==typeof c&&c&&"string"==typeof c.code?m=c.code:"object"==typeof c&&c&&"string"==typeof c.error_code&&(m=c.error_code),m){if("weak_password"===m)throw new Pn(A(c),w.status,(null===(h=c.weak_password)||void 0===h?void 0:h.reasons)||[]);if("session_not_found"===m)throw new Nn}else if("object"==typeof c&&c&&"object"==typeof c.weak_password&&c.weak_password&&Array.isArray(c.weak_password.reasons)&&c.weak_password.reasons.length&&c.weak_password.reasons.reduce((T,j)=>T&&"string"==typeof j,!0))throw new Pn(A(c),w.status,c.weak_password.reasons);throw new yo(A(c),w.status||500,m)})).apply(this,arguments)}const se=(w,h,c,m)=>{const E={method:w,headers:h?.headers||{}};return"GET"===w?E:(E.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},h?.headers),E.body=JSON.stringify(m),Object.assign(Object.assign({},E),c))};function We(w,h,c,m){return Gt.apply(this,arguments)}function Gt(){return Gt=(0,f.A)(function*(w,h,c,m){var E;const T=Object.assign({},m?.headers);T[Zi]||(T[Zi]=zt["2024-01-01"].name),m?.jwt&&(T.Authorization=`Bearer ${m.jwt}`);const j=null!==(E=m?.query)&&void 0!==E?E:{};m?.redirectTo&&(j.redirect_to=m.redirectTo);const B=Object.keys(j).length?"?"+new URLSearchParams(j).toString():"",q=yield function xi(w,h,c,m,E,T){return ci.apply(this,arguments)}(w,h,c+B,{headers:T,noResolveJson:m?.noResolveJson},{},m?.body);return m?.xform?m?.xform(q):{data:Object.assign({},q),error:null}}),Gt.apply(this,arguments)}function ci(){return(ci=(0,f.A)(function*(w,h,c,m,E,T){const j=se(h,m,E,T);let B;try{B=yield w(c,Object.assign({},j))}catch(q){throw console.error(q),new xr(A(q),0)}if(B.ok||(yield x(B)),m?.noResolveJson)return B;try{return yield B.json()}catch(q){yield x(q)}})).apply(this,arguments)}function fr(w){var h;let c=null;return function to(w){return w.access_token&&w.refresh_token&&w.expires_in}(w)&&(c=Object.assign({},w),w.expires_at||(c.expires_at=function Qn(w){return Math.round(Date.now()/1e3)+w}(w.expires_in))),{data:{session:c,user:null!==(h=w.user)&&void 0!==h?h:w},error:null}}function Eo(w){const h=fr(w);return!h.error&&w.weak_password&&"object"==typeof w.weak_password&&Array.isArray(w.weak_password.reasons)&&w.weak_password.reasons.length&&w.weak_password.message&&"string"==typeof w.weak_password.message&&w.weak_password.reasons.reduce((c,m)=>c&&"string"==typeof m,!0)&&(h.data.weak_password=w.weak_password),h}function rs(w){var h;return{data:{user:null!==(h=w.user)&&void 0!==h?h:w},error:null}}function Os(w){return{data:w,error:null}}function eo(w){const{action_link:h,email_otp:c,hashed_token:m,redirect_to:E,verification_type:T}=w,j=(0,O.__rest)(w,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:h,email_otp:c,hashed_token:m,redirect_to:E,verification_type:T},user:Object.assign({},j)},error:null}}function is(w){return w}const lr=["global","local","others"];class ss{constructor({url:h="",headers:c={},fetch:m}){this.url=h,this.headers=c,this.fetch=Tn(m),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(h){var c=this;return(0,f.A)(function*(m,E=lr[0]){if(lr.indexOf(E)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${lr.join(", ")}`);try{return yield We(c.fetch,"POST",`${c.url}/logout?scope=${E}`,{headers:c.headers,jwt:m,noResolveJson:!0}),{data:null,error:null}}catch(T){if(Et(T))return{data:null,error:T};throw T}}).apply(this,arguments)}inviteUserByEmail(h){var c=this;return(0,f.A)(function*(m,E={}){try{return yield We(c.fetch,"POST",`${c.url}/invite`,{body:{email:m,data:E.data},headers:c.headers,redirectTo:E.redirectTo,xform:rs})}catch(T){if(Et(T))return{data:{user:null},error:T};throw T}}).apply(this,arguments)}generateLink(h){var c=this;return(0,f.A)(function*(){try{const{options:m}=h,E=(0,O.__rest)(h,["options"]),T=Object.assign(Object.assign({},E),m);return"newEmail"in E&&(T.new_email=E?.newEmail,delete T.newEmail),yield We(c.fetch,"POST",`${c.url}/admin/generate_link`,{body:T,headers:c.headers,xform:eo,redirectTo:m?.redirectTo})}catch(m){if(Et(m))return{data:{properties:null,user:null},error:m};throw m}})()}createUser(h){var c=this;return(0,f.A)(function*(){try{return yield We(c.fetch,"POST",`${c.url}/admin/users`,{body:h,headers:c.headers,xform:rs})}catch(m){if(Et(m))return{data:{user:null},error:m};throw m}})()}listUsers(h){var c=this;return(0,f.A)(function*(){var m,E,T,j,B,q,K;try{const re={nextPage:null,lastPage:0,total:0},Ce=yield We(c.fetch,"GET",`${c.url}/admin/users`,{headers:c.headers,noResolveJson:!0,query:{page:null!==(E=null===(m=h?.page)||void 0===m?void 0:m.toString())&&void 0!==E?E:"",per_page:null!==(j=null===(T=h?.perPage)||void 0===T?void 0:T.toString())&&void 0!==j?j:""},xform:is});if(Ce.error)throw Ce.error;const _e=yield Ce.json(),Qe=null!==(B=Ce.headers.get("x-total-count"))&&void 0!==B?B:0,Ge=null!==(K=null===(q=Ce.headers.get("link"))||void 0===q?void 0:q.split(","))&&void 0!==K?K:[];return Ge.length>0&&(Ge.forEach(lt=>{const st=parseInt(lt.split(";")[0].split("=")[1].substring(0,1)),wt=JSON.parse(lt.split(";")[1].split("=")[1]);re[`${wt}Page`]=st}),re.total=parseInt(Qe)),{data:Object.assign(Object.assign({},_e),re),error:null}}catch(re){if(Et(re))return{data:{users:[]},error:re};throw re}})()}getUserById(h){var c=this;return(0,f.A)(function*(){Di(h);try{return yield We(c.fetch,"GET",`${c.url}/admin/users/${h}`,{headers:c.headers,xform:rs})}catch(m){if(Et(m))return{data:{user:null},error:m};throw m}})()}updateUserById(h,c){var m=this;return(0,f.A)(function*(){Di(h);try{return yield We(m.fetch,"PUT",`${m.url}/admin/users/${h}`,{body:c,headers:m.headers,xform:rs})}catch(E){if(Et(E))return{data:{user:null},error:E};throw E}})()}deleteUser(h){var c=this;return(0,f.A)(function*(m,E=!1){Di(m);try{return yield We(c.fetch,"DELETE",`${c.url}/admin/users/${m}`,{headers:c.headers,body:{should_soft_delete:E},xform:rs})}catch(T){if(Et(T))return{data:{user:null},error:T};throw T}}).apply(this,arguments)}_listFactors(h){var c=this;return(0,f.A)(function*(){Di(h.userId);try{const{data:m,error:E}=yield We(c.fetch,"GET",`${c.url}/admin/users/${h.userId}/factors`,{headers:c.headers,xform:T=>({data:{factors:T},error:null})});return{data:m,error:E}}catch(m){if(Et(m))return{data:null,error:m};throw m}})()}_deleteFactor(h){var c=this;return(0,f.A)(function*(){Di(h.userId),Di(h.id);try{return{data:yield We(c.fetch,"DELETE",`${c.url}/admin/users/${h.userId}/factors/${h.id}`,{headers:c.headers}),error:null}}catch(m){if(Et(m))return{data:null,error:m};throw m}})()}_listOAuthClients(h){var c=this;return(0,f.A)(function*(){var m,E,T,j,B,q,K;try{const re={nextPage:null,lastPage:0,total:0},Ce=yield We(c.fetch,"GET",`${c.url}/admin/oauth/clients`,{headers:c.headers,noResolveJson:!0,query:{page:null!==(E=null===(m=h?.page)||void 0===m?void 0:m.toString())&&void 0!==E?E:"",per_page:null!==(j=null===(T=h?.perPage)||void 0===T?void 0:T.toString())&&void 0!==j?j:""},xform:is});if(Ce.error)throw Ce.error;const _e=yield Ce.json(),Qe=null!==(B=Ce.headers.get("x-total-count"))&&void 0!==B?B:0,Ge=null!==(K=null===(q=Ce.headers.get("link"))||void 0===q?void 0:q.split(","))&&void 0!==K?K:[];return Ge.length>0&&(Ge.forEach(lt=>{const st=parseInt(lt.split(";")[0].split("=")[1].substring(0,1)),wt=JSON.parse(lt.split(";")[1].split("=")[1]);re[`${wt}Page`]=st}),re.total=parseInt(Qe)),{data:Object.assign(Object.assign({},_e),re),error:null}}catch(re){if(Et(re))return{data:{clients:[]},error:re};throw re}})()}_createOAuthClient(h){var c=this;return(0,f.A)(function*(){try{return yield We(c.fetch,"POST",`${c.url}/admin/oauth/clients`,{body:h,headers:c.headers,xform:m=>({data:m,error:null})})}catch(m){if(Et(m))return{data:null,error:m};throw m}})()}_getOAuthClient(h){var c=this;return(0,f.A)(function*(){try{return yield We(c.fetch,"GET",`${c.url}/admin/oauth/clients/${h}`,{headers:c.headers,xform:m=>({data:m,error:null})})}catch(m){if(Et(m))return{data:null,error:m};throw m}})()}_updateOAuthClient(h,c){var m=this;return(0,f.A)(function*(){try{return yield We(m.fetch,"PUT",`${m.url}/admin/oauth/clients/${h}`,{body:c,headers:m.headers,xform:E=>({data:E,error:null})})}catch(E){if(Et(E))return{data:null,error:E};throw E}})()}_deleteOAuthClient(h){var c=this;return(0,f.A)(function*(){try{return yield We(c.fetch,"DELETE",`${c.url}/admin/oauth/clients/${h}`,{headers:c.headers,noResolveJson:!0}),{data:null,error:null}}catch(m){if(Et(m))return{data:null,error:m};throw m}})()}_regenerateOAuthClientSecret(h){var c=this;return(0,f.A)(function*(){try{return yield We(c.fetch,"POST",`${c.url}/admin/oauth/clients/${h}/regenerate_secret`,{headers:c.headers,xform:m=>({data:m,error:null})})}catch(m){if(Et(m))return{data:null,error:m};throw m}})()}}function pr(w={}){return{getItem:h=>w[h]||null,setItem:(h,c)=>{w[h]=c},removeItem:h=>{delete w[h]}}}const Ni={debug:!!(globalThis&&Ei()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"))};class no extends Error{constructor(h){super(h),this.isAcquireTimeout=!0}}class Ps extends no{}function os(w,h,c){return di.apply(this,arguments)}function di(){return di=(0,f.A)(function*(w,h,c){Ni.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",w,h);const m=new globalThis.AbortController;return h>0&&setTimeout(()=>{m.abort(),Ni.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",w)},h),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(w,0===h?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:m.signal},function(){var E=(0,f.A)(function*(T){if(!T){if(0===h)throw Ni.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",w),new Ps(`Acquiring an exclusive Navigator LockManager lock "${w}" immediately failed`);if(Ni.debug)try{const j=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(j,null,"  "))}catch(j){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",j)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield c()}Ni.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",w,T.name);try{return yield c()}finally{Ni.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",w,T.name)}});return function(T){return E.apply(this,arguments)}}()))}),di.apply(this,arguments)}function ba(w){if(!/^0x[a-fA-F0-9]{40}$/.test(w))throw new Error(`@supabase/auth-js: Address "${w}" is invalid.`);return w.toLowerCase()}function Lo(w){const h=(new TextEncoder).encode(w);return"0x"+Array.from(h,m=>m.toString(16).padStart(2,"0")).join("")}class Yn extends Error{constructor({message:h,code:c,cause:m,name:E}){var T;super(h,{cause:m}),this.__isWebAuthnError=!0,this.name=null!==(T=E??(m instanceof Error?m.name:void 0))&&void 0!==T?T:"Unknown Error",this.code=c}}class Br extends Yn{constructor(h,c){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:c,message:h}),this.name="WebAuthnUnknownError",this.originalError=c}}function ra({error:w,options:h}){var c,m,E;const{publicKey:T}=h;if(!T)throw Error("options was missing required publicKey property");if("AbortError"===w.name){if(h.signal instanceof AbortSignal)return new Yn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:w})}else if("ConstraintError"===w.name){if(!0===(null===(c=T.authenticatorSelection)||void 0===c?void 0:c.requireResidentKey))return new Yn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:w});if("conditional"===h.mediation&&"required"===(null===(m=T.authenticatorSelection)||void 0===m?void 0:m.userVerification))return new Yn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:w});if("required"===(null===(E=T.authenticatorSelection)||void 0===E?void 0:E.userVerification))return new Yn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:w})}else{if("InvalidStateError"===w.name)return new Yn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:w});if("NotAllowedError"===w.name)return new Yn({message:w.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:w});if("NotSupportedError"===w.name)return 0===T.pubKeyCredParams.filter(B=>"public-key"===B.type).length?new Yn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:w}):new Yn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:w});if("SecurityError"===w.name){const j=window.location.hostname;if(!zi(j))return new Yn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:w});if(T.rp.id!==j)return new Yn({message:`The RP ID "${T.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:w})}else if("TypeError"===w.name){if(T.user.id.byteLength<1||T.user.id.byteLength>64)return new Yn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:w})}else if("UnknownError"===w.name)return new Yn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:w})}return new Yn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:w})}function ro({error:w,options:h}){const{publicKey:c}=h;if(!c)throw Error("options was missing required publicKey property");if("AbortError"===w.name){if(h.signal instanceof AbortSignal)return new Yn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:w})}else{if("NotAllowedError"===w.name)return new Yn({message:w.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:w});if("SecurityError"===w.name){const m=window.location.hostname;if(!zi(m))return new Yn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:w});if(c.rpId!==m)return new Yn({message:`The RP ID "${c.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:w})}else if("UnknownError"===w.name)return new Yn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:w})}return new Yn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:w})}const $o=new class uo{createNewAbortSignal(){if(this.controller){const c=new Error("Cancelling existing WebAuthn API call for new one");c.name="AbortError",this.controller.abort(c)}const h=new AbortController;return this.controller=h,h.signal}cancelCeremony(){if(this.controller){const h=new Error("Manually cancelling existing WebAuthn API call");h.name="AbortError",this.controller.abort(h),this.controller=void 0}}};function co(w){if(!w)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(w);const{challenge:h,user:c,excludeCredentials:m}=w,E=(0,O.__rest)(w,["challenge","user","excludeCredentials"]),T=Ri(h).buffer,j=Object.assign(Object.assign({},c),{id:Ri(c.id).buffer}),B=Object.assign(Object.assign({},E),{challenge:T,user:j});if(m&&m.length>0){B.excludeCredentials=new Array(m.length);for(let q=0;q<m.length;q++){const K=m[q];B.excludeCredentials[q]=Object.assign(Object.assign({},K),{id:Ri(K.id).buffer,type:K.type||"public-key",transports:K.transports})}}return B}function js(w){if(!w)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(w);const{challenge:h,allowCredentials:c}=w,m=(0,O.__rest)(w,["challenge","allowCredentials"]),E=Ri(h).buffer,T=Object.assign(Object.assign({},m),{challenge:E});if(c&&c.length>0){T.allowCredentials=new Array(c.length);for(let j=0;j<c.length;j++){const B=c[j];T.allowCredentials[j]=Object.assign(Object.assign({},B),{id:Ri(B.id).buffer,type:B.type||"public-key",transports:B.transports})}}return T}function ei(w){var h;if("toJSON"in w&&"function"==typeof w.toJSON)return w.toJSON();const c=w;return{id:w.id,rawId:w.id,response:{attestationObject:Lr(new Uint8Array(w.response.attestationObject)),clientDataJSON:Lr(new Uint8Array(w.response.clientDataJSON))},type:"public-key",clientExtensionResults:w.getClientExtensionResults(),authenticatorAttachment:null!==(h=c.authenticatorAttachment)&&void 0!==h?h:void 0}}function Ls(w){var h;if("toJSON"in w&&"function"==typeof w.toJSON)return w.toJSON();const c=w,m=w.getClientExtensionResults(),E=w.response;return{id:w.id,rawId:w.id,response:{authenticatorData:Lr(new Uint8Array(E.authenticatorData)),clientDataJSON:Lr(new Uint8Array(E.clientDataJSON)),signature:Lr(new Uint8Array(E.signature)),userHandle:E.userHandle?Lr(new Uint8Array(E.userHandle)):void 0},type:"public-key",clientExtensionResults:m,authenticatorAttachment:null!==(h=c.authenticatorAttachment)&&void 0!==h?h:void 0}}function zi(w){return"localhost"===w||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(w)}function Do(){var w,h;return!!(wn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"==typeof(null===(w=navigator?.credentials)||void 0===w?void 0:w.create)&&"function"==typeof(null===(h=navigator?.credentials)||void 0===h?void 0:h.get))}function Wi(){return(Wi=(0,f.A)(function*(w){try{const h=yield navigator.credentials.create(w);return h?h instanceof PublicKeyCredential?{data:h,error:null}:{data:null,error:new Br("Browser returned unexpected credential type",h)}:{data:null,error:new Br("Empty credential response",h)}}catch(h){return{data:null,error:ra({error:h,options:w})}}})).apply(this,arguments)}function So(){return(So=(0,f.A)(function*(w){try{const h=yield navigator.credentials.get(w);return h?h instanceof PublicKeyCredential?{data:h,error:null}:{data:null,error:new Br("Browser returned unexpected credential type",h)}:{data:null,error:new Br("Empty credential response",h)}}catch(h){return{data:null,error:ro({error:h,options:w})}}})).apply(this,arguments)}const ia={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Vo={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Si(...w){const h=E=>null!==E&&"object"==typeof E&&!Array.isArray(E),c=E=>E instanceof ArrayBuffer||ArrayBuffer.isView(E),m={};for(const E of w)if(E)for(const T in E){const j=E[T];if(void 0!==j)if(Array.isArray(j))m[T]=j;else if(c(j))m[T]=j;else if(h(j)){const B=m[T];m[T]=h(B)?Si(B,j):Si(j)}else m[T]=j}return m}class Yi{constructor(h){this.client=h,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(h){var c=this;return(0,f.A)(function*(){return c.client.mfa.enroll(Object.assign(Object.assign({},h),{factorType:"webauthn"}))})()}_challenge(h,c){var m=this;return(0,f.A)(function*({factorId:E,webauthn:T,friendlyName:j,signal:B},q){try{const{data:K,error:re}=yield m.client.mfa.challenge({factorId:E,webauthn:T});if(!K)return{data:null,error:re};const Ce=B??$o.createNewAbortSignal();if("create"===K.webauthn.type){const{user:_e}=K.webauthn.credential_options.publicKey;_e.name||(_e.name=`${_e.id}:${j}`),_e.displayName||(_e.displayName=_e.name)}switch(K.webauthn.type){case"create":{const _e=function sa(w,h){return Si(ia,w,h||{})}(K.webauthn.credential_options.publicKey,q?.create),{data:Qe,error:Ge}=yield function xo(w){return Wi.apply(this,arguments)}({publicKey:_e,signal:Ce});return Qe?{data:{factorId:E,challengeId:K.id,webauthn:{type:K.webauthn.type,credential_response:Qe}},error:null}:{data:null,error:Ge}}case"request":{const _e=function io(w,h){return Si(Vo,w,h||{})}(K.webauthn.credential_options.publicKey,q?.request),{data:Qe,error:Ge}=yield function as(w){return So.apply(this,arguments)}(Object.assign(Object.assign({},K.webauthn.credential_options),{publicKey:_e,signal:Ce}));return Qe?{data:{factorId:E,challengeId:K.id,webauthn:{type:K.webauthn.type,credential_response:Qe}},error:null}:{data:null,error:Ge}}}}catch(K){return Et(K)?{data:null,error:K}:{data:null,error:new Zn("Unexpected error in challenge",K)}}}).apply(this,arguments)}_verify(h){var c=this;return(0,f.A)(function*({challengeId:m,factorId:E,webauthn:T}){return c.client.mfa.verify({factorId:E,challengeId:m,webauthn:T})}).apply(this,arguments)}_authenticate(h,c){var m=this;return(0,f.A)(function*({factorId:E,webauthn:{rpId:T=(typeof window<"u"?window.location.hostname:void 0),rpOrigins:j=(typeof window<"u"?[window.location.origin]:void 0),signal:B}={}},q){if(!T)return{data:null,error:new or("rpId is required for WebAuthn authentication")};try{if(!Do())return{data:null,error:new Zn("Browser does not support WebAuthn",null)};const{data:K,error:re}=yield m.challenge({factorId:E,webauthn:{rpId:T,rpOrigins:j},signal:B},{request:q});if(!K)return{data:null,error:re};const{webauthn:Ce}=K;return m._verify({factorId:E,challengeId:K.challengeId,webauthn:{type:Ce.type,rpId:T,rpOrigins:j,credential_response:Ce.credential_response}})}catch(K){return Et(K)?{data:null,error:K}:{data:null,error:new Zn("Unexpected error in authenticate",K)}}}).apply(this,arguments)}_register(h,c){var m=this;return(0,f.A)(function*({friendlyName:E,webauthn:{rpId:T=(typeof window<"u"?window.location.hostname:void 0),rpOrigins:j=(typeof window<"u"?[window.location.origin]:void 0),signal:B}={}},q){if(!T)return{data:null,error:new or("rpId is required for WebAuthn registration")};try{if(!Do())return{data:null,error:new Zn("Browser does not support WebAuthn",null)};const{data:K,error:re}=yield m._enroll({friendlyName:E});if(!K)return yield m.client.mfa.listFactors().then(Qe=>{var Ge;return null===(Ge=Qe.data)||void 0===Ge?void 0:Ge.all.find(lt=>"webauthn"===lt.factor_type&&lt.friendly_name===E&&"unverified"!==lt.status)}).then(Qe=>Qe?m.client.mfa.unenroll({factorId:Qe?.id}):void 0),{data:null,error:re};const{data:Ce,error:_e}=yield m._challenge({factorId:K.id,friendlyName:K.friendly_name,webauthn:{rpId:T,rpOrigins:j},signal:B},{create:q});return Ce?m._verify({factorId:K.id,challengeId:Ce.challengeId,webauthn:{rpId:T,rpOrigins:j,type:Ce.webauthn.type,credential_response:Ce.webauthn.credential_response}}):{data:null,error:_e}}catch(K){return Et(K)?{data:null,error:K}:{data:null,error:new Zn("Unexpected error in register",K)}}}).apply(this,arguments)}}!function Co(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}();const $s={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:{"X-Client-Info":"gotrue-js/2.81.1"},flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};function Uo(w,h,c){return _.apply(this,arguments)}function _(){return(_=(0,f.A)(function*(w,h,c){return yield c()})).apply(this,arguments)}const U={},gt=(()=>{class w{get jwks(){var c,m;return null!==(m=null===(c=U[this.storageKey])||void 0===c?void 0:c.jwks)&&void 0!==m?m:{keys:[]}}set jwks(c){U[this.storageKey]=Object.assign(Object.assign({},U[this.storageKey]),{jwks:c})}get jwks_cached_at(){var c,m;return null!==(m=null===(c=U[this.storageKey])||void 0===c?void 0:c.cachedAt)&&void 0!==m?m:Number.MIN_SAFE_INTEGER}set jwks_cached_at(c){U[this.storageKey]=Object.assign(Object.assign({},U[this.storageKey]),{cachedAt:c})}constructor(c){var E,T,j,m=this;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const B=Object.assign(Object.assign({},$s),c);if(this.storageKey=B.storageKey,this.instanceID=null!==(E=w.nextInstanceID[this.storageKey])&&void 0!==E?E:0,w.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!B.debug,"function"==typeof B.debug&&(this.logger=B.debug),this.instanceID>0&&wn()){const q=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(q),this.logDebugMessages&&console.trace(q)}if(this.persistSession=B.persistSession,this.autoRefreshToken=B.autoRefreshToken,this.admin=new ss({url:B.url,headers:B.headers,fetch:B.fetch}),this.url=B.url,this.headers=B.headers,this.fetch=Tn(B.fetch),this.lock=B.lock||Uo,this.detectSessionInUrl=B.detectSessionInUrl,this.flowType=B.flowType,this.hasCustomAuthorizationHeader=B.hasCustomAuthorizationHeader,this.throwOnError=B.throwOnError,this.lock=B.lock?B.lock:wn()&&null!==(T=globalThis?.navigator)&&void 0!==T&&T.locks?os:Uo,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Yi(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(B.storage?this.storage=B.storage:Ei()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=pr(this.memoryStorage)),B.userStorage&&(this.userStorage=B.userStorage)):(this.memoryStorage={},this.storage=pr(this.memoryStorage)),wn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(q){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",q)}null===(j=this.broadcastChannel)||void 0===j||j.addEventListener("message",function(){var q=(0,f.A)(function*(K){m._debug("received broadcast notification from other tab or client",K),yield m._notifyAllSubscribers(K.data.event,K.data.session,!1)});return function(K){return q.apply(this,arguments)}}())}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(c){if(this.throwOnError&&c&&c.error)throw c.error;return c}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (2.81.1) ${(new Date).toISOString()}`}_debug(...c){return this.logDebugMessages&&this.logger(this._logPrefix(),...c),this}initialize(){var c=this;return(0,f.A)(function*(){return c.initializePromise||(c.initializePromise=(0,f.A)(function*(){return yield c._acquireLock(-1,(0,f.A)(function*(){return yield c._initialize()}))})()),yield c.initializePromise})()}_initialize(){var c=this;return(0,f.A)(function*(){var m;try{let E={},T="none";if(wn()&&(E=function Fr(w){const h={},c=new URL(w);if(c.hash&&"#"===c.hash[0])try{new URLSearchParams(c.hash.substring(1)).forEach((E,T)=>{h[T]=E})}catch{}return c.searchParams.forEach((m,E)=>{h[E]=m}),h}(window.location.href),c._isImplicitGrantCallback(E)?T="implicit":(yield c._isPKCECallback(E))&&(T="pkce")),wn()&&c.detectSessionInUrl&&"none"!==T){const{data:j,error:B}=yield c._getSessionFromURL(E,T);if(B){if(c._debug("#_initialize()","error detecting session from URL",B),function Mi(w){return Et(w)&&"AuthImplicitGrantRedirectError"===w.name}(B)){const re=null===(m=B.details)||void 0===m?void 0:m.code;if("identity_already_exists"===re||"identity_not_found"===re||"single_identity_not_deletable"===re)return{error:B}}return yield c._removeSession(),{error:B}}const{session:q,redirectType:K}=j;return c._debug("#_initialize()","detected session in URL",q,"redirect type",K),yield c._saveSession(q),setTimeout((0,f.A)(function*(){"recovery"===K?yield c._notifyAllSubscribers("PASSWORD_RECOVERY",q):yield c._notifyAllSubscribers("SIGNED_IN",q)}),0),{error:null}}return yield c._recoverAndRefresh(),{error:null}}catch(E){return Et(E)?c._returnResult({error:E}):c._returnResult({error:new Zn("Unexpected error during initialization",E)})}finally{yield c._handleVisibilityChange(),c._debug("#_initialize()","end")}})()}signInAnonymously(c){var m=this;return(0,f.A)(function*(){var E,T,j;try{const B=yield We(m.fetch,"POST",`${m.url}/signup`,{headers:m.headers,body:{data:null!==(T=null===(E=c?.options)||void 0===E?void 0:E.data)&&void 0!==T?T:{},gotrue_meta_security:{captcha_token:null===(j=c?.options)||void 0===j?void 0:j.captchaToken}},xform:fr}),{data:q,error:K}=B;if(K||!q)return m._returnResult({data:{user:null,session:null},error:K});const re=q.session,Ce=q.user;return q.session&&(yield m._saveSession(q.session),yield m._notifyAllSubscribers("SIGNED_IN",re)),m._returnResult({data:{user:Ce,session:re},error:null})}catch(B){if(Et(B))return m._returnResult({data:{user:null,session:null},error:B});throw B}})()}signUp(c){var m=this;return(0,f.A)(function*(){var E,T,j;try{let B;if("email"in c){const{email:_e,password:Qe,options:Ge}=c;let lt=null,st=null;"pkce"===m.flowType&&([lt,st]=yield tr(m.storage,m.storageKey)),B=yield We(m.fetch,"POST",`${m.url}/signup`,{headers:m.headers,redirectTo:Ge?.emailRedirectTo,body:{email:_e,password:Qe,data:null!==(E=Ge?.data)&&void 0!==E?E:{},gotrue_meta_security:{captcha_token:Ge?.captchaToken},code_challenge:lt,code_challenge_method:st},xform:fr})}else{if(!("phone"in c))throw new gs("You must provide either an email or phone number and a password");{const{phone:_e,password:Qe,options:Ge}=c;B=yield We(m.fetch,"POST",`${m.url}/signup`,{headers:m.headers,body:{phone:_e,password:Qe,data:null!==(T=Ge?.data)&&void 0!==T?T:{},channel:null!==(j=Ge?.channel)&&void 0!==j?j:"sms",gotrue_meta_security:{captcha_token:Ge?.captchaToken}},xform:fr})}}const{data:q,error:K}=B;if(K||!q)return m._returnResult({data:{user:null,session:null},error:K});const re=q.session,Ce=q.user;return q.session&&(yield m._saveSession(q.session),yield m._notifyAllSubscribers("SIGNED_IN",re)),m._returnResult({data:{user:Ce,session:re},error:null})}catch(B){if(Et(B))return m._returnResult({data:{user:null,session:null},error:B});throw B}})()}signInWithPassword(c){var m=this;return(0,f.A)(function*(){try{let E;if("email"in c){const{email:B,password:q,options:K}=c;E=yield We(m.fetch,"POST",`${m.url}/token?grant_type=password`,{headers:m.headers,body:{email:B,password:q,gotrue_meta_security:{captcha_token:K?.captchaToken}},xform:Eo})}else{if(!("phone"in c))throw new gs("You must provide either an email or phone number and a password");{const{phone:B,password:q,options:K}=c;E=yield We(m.fetch,"POST",`${m.url}/token?grant_type=password`,{headers:m.headers,body:{phone:B,password:q,gotrue_meta_security:{captcha_token:K?.captchaToken}},xform:Eo})}}const{data:T,error:j}=E;if(j)return m._returnResult({data:{user:null,session:null},error:j});if(!T||!T.session||!T.user){const B=new Mr;return m._returnResult({data:{user:null,session:null},error:B})}return T.session&&(yield m._saveSession(T.session),yield m._notifyAllSubscribers("SIGNED_IN",T.session)),m._returnResult({data:Object.assign({user:T.user,session:T.session},T.weak_password?{weakPassword:T.weak_password}:null),error:j})}catch(E){if(Et(E))return m._returnResult({data:{user:null,session:null},error:E});throw E}})()}signInWithOAuth(c){var m=this;return(0,f.A)(function*(){var E,T,j,B;return yield m._handleProviderSignIn(c.provider,{redirectTo:null===(E=c.options)||void 0===E?void 0:E.redirectTo,scopes:null===(T=c.options)||void 0===T?void 0:T.scopes,queryParams:null===(j=c.options)||void 0===j?void 0:j.queryParams,skipBrowserRedirect:null===(B=c.options)||void 0===B?void 0:B.skipBrowserRedirect})})()}exchangeCodeForSession(c){var m=this;return(0,f.A)(function*(){return yield m.initializePromise,m._acquireLock(-1,(0,f.A)(function*(){return m._exchangeCodeForSession(c)}))})()}signInWithWeb3(c){var m=this;return(0,f.A)(function*(){const{chain:E}=c;switch(E){case"ethereum":return yield m.signInWithEthereum(c);case"solana":return yield m.signInWithSolana(c);default:throw new Error(`@supabase/auth-js: Unsupported chain "${E}"`)}})()}signInWithEthereum(c){var m=this;return(0,f.A)(function*(){var E,T,j,B,q,K,re,Ce,_e,Qe,Ge;let lt,st;if("message"in c)lt=c.message,st=c.signature;else{const{wallet:Yt,statement:Qt,options:Ct}=c;let Ft;if(wn())if("object"==typeof Yt)Ft=Yt;else{const ri=window;if(!("ethereum"in ri)||"object"!=typeof ri.ethereum||!("request"in ri.ethereum)||"function"!=typeof ri.ethereum.request)throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.");Ft=ri.ethereum}else{if("object"!=typeof Yt||!Ct?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Ft=Yt}const xn=new URL(null!==(E=Ct?.url)&&void 0!==E?E:window.location.href),ti=yield Ft.request({method:"eth_requestAccounts"}).then(ri=>ri).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ti||0===ti.length)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const fn=ba(ti[0]);let dt=null===(T=Ct?.signInWithEthereum)||void 0===T?void 0:T.chainId;dt||(dt=function jo(w){return parseInt(w,16)}(yield Ft.request({method:"eth_chainId"}))),lt=function wo(w){var h;const{chainId:c,domain:m,expirationTime:E,issuedAt:T=new Date,nonce:j,notBefore:B,requestId:q,resources:K,scheme:re,uri:Ce,version:_e}=w;if(!Number.isInteger(c))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${c}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(j&&j.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${j}`);if(!Ce)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==_e)throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_e}`);if(null!==(h=w.statement)&&void 0!==h&&h.includes("\n"))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${w.statement}`);const st=`${re?`${re}://${m}`:m} wants you to sign in with your Ethereum account:\n${ba(w.address)}\n\n${w.statement?`${w.statement}\n`:""}`;let wt=`URI: ${Ce}\nVersion: ${_e}\nChain ID: ${c}${j?`\nNonce: ${j}`:""}\nIssued At: ${T.toISOString()}`;if(E&&(wt+=`\nExpiration Time: ${E.toISOString()}`),B&&(wt+=`\nNot Before: ${B.toISOString()}`),q&&(wt+=`\nRequest ID: ${q}`),K){let Yt="\nResources:";for(const Qt of K){if(!Qt||"string"!=typeof Qt)throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${Qt}`);Yt+=`\n- ${Qt}`}wt+=Yt}return`${st}\n${wt}`}({domain:xn.host,address:fn,statement:Qt,uri:xn.href,version:"1",chainId:dt,nonce:null===(j=Ct?.signInWithEthereum)||void 0===j?void 0:j.nonce,issuedAt:null!==(q=null===(B=Ct?.signInWithEthereum)||void 0===B?void 0:B.issuedAt)&&void 0!==q?q:new Date,expirationTime:null===(K=Ct?.signInWithEthereum)||void 0===K?void 0:K.expirationTime,notBefore:null===(re=Ct?.signInWithEthereum)||void 0===re?void 0:re.notBefore,requestId:null===(Ce=Ct?.signInWithEthereum)||void 0===Ce?void 0:Ce.requestId,resources:null===(_e=Ct?.signInWithEthereum)||void 0===_e?void 0:_e.resources}),st=yield Ft.request({method:"personal_sign",params:[Lo(lt),fn]})}try{const{data:wt,error:Yt}=yield We(m.fetch,"POST",`${m.url}/token?grant_type=web3`,{headers:m.headers,body:Object.assign({chain:"ethereum",message:lt,signature:st},null!==(Qe=c.options)&&void 0!==Qe&&Qe.captchaToken?{gotrue_meta_security:{captcha_token:null===(Ge=c.options)||void 0===Ge?void 0:Ge.captchaToken}}:null),xform:fr});if(Yt)throw Yt;if(!wt||!wt.session||!wt.user){const Qt=new Mr;return m._returnResult({data:{user:null,session:null},error:Qt})}return wt.session&&(yield m._saveSession(wt.session),yield m._notifyAllSubscribers("SIGNED_IN",wt.session)),m._returnResult({data:Object.assign({},wt),error:Yt})}catch(wt){if(Et(wt))return m._returnResult({data:{user:null,session:null},error:wt});throw wt}})()}signInWithSolana(c){var m=this;return(0,f.A)(function*(){var E,T,j,B,q,K,re,Ce,_e,Qe,Ge,lt;let st,wt;if("message"in c)st=c.message,wt=c.signature;else{const{wallet:Qt,statement:Ct,options:Ft}=c;let xn;if(wn())if("object"==typeof Qt)xn=Qt;else{const fn=window;if(!("solana"in fn)||"object"!=typeof fn.solana||!("signIn"in fn.solana&&"function"==typeof fn.solana.signIn||"signMessage"in fn.solana&&"function"==typeof fn.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");xn=fn.solana}else{if("object"!=typeof Qt||!Ft?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");xn=Qt}const ti=new URL(null!==(E=Ft?.url)&&void 0!==E?E:window.location.href);if("signIn"in xn&&xn.signIn){const fn=yield xn.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},Ft?.signInWithSolana),{version:"1",domain:ti.host,uri:ti.href}),Ct?{statement:Ct}:null));let dt;if(Array.isArray(fn)&&fn[0]&&"object"==typeof fn[0])dt=fn[0];else{if(!(fn&&"object"==typeof fn&&"signedMessage"in fn&&"signature"in fn))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");dt=fn}if(!("signedMessage"in dt&&"signature"in dt&&("string"==typeof dt.signedMessage||dt.signedMessage instanceof Uint8Array)&&dt.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");st="string"==typeof dt.signedMessage?dt.signedMessage:(new TextDecoder).decode(dt.signedMessage),wt=dt.signature}else{if(!("signMessage"in xn&&"function"==typeof xn.signMessage&&"publicKey"in xn&&"object"==typeof xn&&xn.publicKey&&"toBase58"in xn.publicKey&&"function"==typeof xn.publicKey.toBase58))throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");st=[`${ti.host} wants you to sign in with your Solana account:`,xn.publicKey.toBase58(),...Ct?["",Ct,""]:[""],"Version: 1",`URI: ${ti.href}`,`Issued At: ${null!==(j=null===(T=Ft?.signInWithSolana)||void 0===T?void 0:T.issuedAt)&&void 0!==j?j:(new Date).toISOString()}`,...null!==(B=Ft?.signInWithSolana)&&void 0!==B&&B.notBefore?[`Not Before: ${Ft.signInWithSolana.notBefore}`]:[],...null!==(q=Ft?.signInWithSolana)&&void 0!==q&&q.expirationTime?[`Expiration Time: ${Ft.signInWithSolana.expirationTime}`]:[],...null!==(K=Ft?.signInWithSolana)&&void 0!==K&&K.chainId?[`Chain ID: ${Ft.signInWithSolana.chainId}`]:[],...null!==(re=Ft?.signInWithSolana)&&void 0!==re&&re.nonce?[`Nonce: ${Ft.signInWithSolana.nonce}`]:[],...null!==(Ce=Ft?.signInWithSolana)&&void 0!==Ce&&Ce.requestId?[`Request ID: ${Ft.signInWithSolana.requestId}`]:[],...null!==(Qe=null===(_e=Ft?.signInWithSolana)||void 0===_e?void 0:_e.resources)&&void 0!==Qe&&Qe.length?["Resources",...Ft.signInWithSolana.resources.map(dt=>`- ${dt}`)]:[]].join("\n");const fn=yield xn.signMessage((new TextEncoder).encode(st),"utf8");if(!(fn&&fn instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");wt=fn}}try{const{data:Yt,error:Qt}=yield We(m.fetch,"POST",`${m.url}/token?grant_type=web3`,{headers:m.headers,body:Object.assign({chain:"solana",message:st,signature:Lr(wt)},null!==(Ge=c.options)&&void 0!==Ge&&Ge.captchaToken?{gotrue_meta_security:{captcha_token:null===(lt=c.options)||void 0===lt?void 0:lt.captchaToken}}:null),xform:fr});if(Qt)throw Qt;if(!Yt||!Yt.session||!Yt.user){const Ct=new Mr;return m._returnResult({data:{user:null,session:null},error:Ct})}return Yt.session&&(yield m._saveSession(Yt.session),yield m._notifyAllSubscribers("SIGNED_IN",Yt.session)),m._returnResult({data:Object.assign({},Yt),error:Qt})}catch(Yt){if(Et(Yt))return m._returnResult({data:{user:null,session:null},error:Yt});throw Yt}})()}_exchangeCodeForSession(c){var m=this;return(0,f.A)(function*(){const E=yield Hn(m.storage,`${m.storageKey}-code-verifier`),[T,j]=(E??"").split("/");try{const{data:B,error:q}=yield We(m.fetch,"POST",`${m.url}/token?grant_type=pkce`,{headers:m.headers,body:{auth_code:c,code_verifier:T},xform:fr});if(yield Vr(m.storage,`${m.storageKey}-code-verifier`),q)throw q;if(!B||!B.session||!B.user){const K=new Mr;return m._returnResult({data:{user:null,session:null,redirectType:null},error:K})}return B.session&&(yield m._saveSession(B.session),yield m._notifyAllSubscribers("SIGNED_IN",B.session)),m._returnResult({data:Object.assign(Object.assign({},B),{redirectType:j??null}),error:q})}catch(B){if(Et(B))return m._returnResult({data:{user:null,session:null,redirectType:null},error:B});throw B}})()}signInWithIdToken(c){var m=this;return(0,f.A)(function*(){try{const{options:E,provider:T,token:j,access_token:B,nonce:q}=c,K=yield We(m.fetch,"POST",`${m.url}/token?grant_type=id_token`,{headers:m.headers,body:{provider:T,id_token:j,access_token:B,nonce:q,gotrue_meta_security:{captcha_token:E?.captchaToken}},xform:fr}),{data:re,error:Ce}=K;if(Ce)return m._returnResult({data:{user:null,session:null},error:Ce});if(!re||!re.session||!re.user){const _e=new Mr;return m._returnResult({data:{user:null,session:null},error:_e})}return re.session&&(yield m._saveSession(re.session),yield m._notifyAllSubscribers("SIGNED_IN",re.session)),m._returnResult({data:re,error:Ce})}catch(E){if(Et(E))return m._returnResult({data:{user:null,session:null},error:E});throw E}})()}signInWithOtp(c){var m=this;return(0,f.A)(function*(){var E,T,j,B,q;try{if("email"in c){const{email:K,options:re}=c;let Ce=null,_e=null;"pkce"===m.flowType&&([Ce,_e]=yield tr(m.storage,m.storageKey));const{error:Qe}=yield We(m.fetch,"POST",`${m.url}/otp`,{headers:m.headers,body:{email:K,data:null!==(E=re?.data)&&void 0!==E?E:{},create_user:null===(T=re?.shouldCreateUser)||void 0===T||T,gotrue_meta_security:{captcha_token:re?.captchaToken},code_challenge:Ce,code_challenge_method:_e},redirectTo:re?.emailRedirectTo});return m._returnResult({data:{user:null,session:null},error:Qe})}if("phone"in c){const{phone:K,options:re}=c,{data:Ce,error:_e}=yield We(m.fetch,"POST",`${m.url}/otp`,{headers:m.headers,body:{phone:K,data:null!==(j=re?.data)&&void 0!==j?j:{},create_user:null===(B=re?.shouldCreateUser)||void 0===B||B,gotrue_meta_security:{captcha_token:re?.captchaToken},channel:null!==(q=re?.channel)&&void 0!==q?q:"sms"}});return m._returnResult({data:{user:null,session:null,messageId:Ce?.message_id},error:_e})}throw new gs("You must provide either an email or phone number.")}catch(K){if(Et(K))return m._returnResult({data:{user:null,session:null},error:K});throw K}})()}verifyOtp(c){var m=this;return(0,f.A)(function*(){var E,T;try{let j,B;"options"in c&&(j=null===(E=c.options)||void 0===E?void 0:E.redirectTo,B=null===(T=c.options)||void 0===T?void 0:T.captchaToken);const{data:q,error:K}=yield We(m.fetch,"POST",`${m.url}/verify`,{headers:m.headers,body:Object.assign(Object.assign({},c),{gotrue_meta_security:{captcha_token:B}}),redirectTo:j,xform:fr});if(K)throw K;if(!q)throw new Error("An error occurred on token verification.");const re=q.session,Ce=q.user;return re?.access_token&&(yield m._saveSession(re),yield m._notifyAllSubscribers("recovery"==c.type?"PASSWORD_RECOVERY":"SIGNED_IN",re)),m._returnResult({data:{user:Ce,session:re},error:null})}catch(j){if(Et(j))return m._returnResult({data:{user:null,session:null},error:j});throw j}})()}signInWithSSO(c){var m=this;return(0,f.A)(function*(){var E,T,j,B,q;try{let K=null,re=null;"pkce"===m.flowType&&([K,re]=yield tr(m.storage,m.storageKey));const Ce=yield We(m.fetch,"POST",`${m.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in c?{provider_id:c.providerId}:null),"domain"in c?{domain:c.domain}:null),{redirect_to:null!==(T=null===(E=c.options)||void 0===E?void 0:E.redirectTo)&&void 0!==T?T:void 0}),null!==(j=c?.options)&&void 0!==j&&j.captchaToken?{gotrue_meta_security:{captcha_token:c.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:K,code_challenge_method:re}),headers:m.headers,xform:Os});return!(null===(B=Ce.data)||void 0===B)&&B.url&&wn()&&!(null!==(q=c.options)&&void 0!==q&&q.skipBrowserRedirect)&&window.location.assign(Ce.data.url),m._returnResult(Ce)}catch(K){if(Et(K))return m._returnResult({data:null,error:K});throw K}})()}reauthenticate(){var c=this;return(0,f.A)(function*(){return yield c.initializePromise,yield c._acquireLock(-1,(0,f.A)(function*(){return yield c._reauthenticate()}))})()}_reauthenticate(){var c=this;return(0,f.A)(function*(){try{return yield c._useSession(function(){var m=(0,f.A)(function*(E){const{data:{session:T},error:j}=E;if(j)throw j;if(!T)throw new Nn;const{error:B}=yield We(c.fetch,"GET",`${c.url}/reauthenticate`,{headers:c.headers,jwt:T.access_token});return c._returnResult({data:{user:null,session:null},error:B})});return function(E){return m.apply(this,arguments)}}())}catch(m){if(Et(m))return c._returnResult({data:{user:null,session:null},error:m});throw m}})()}resend(c){var m=this;return(0,f.A)(function*(){try{const E=`${m.url}/resend`;if("email"in c){const{email:T,type:j,options:B}=c,{error:q}=yield We(m.fetch,"POST",E,{headers:m.headers,body:{email:T,type:j,gotrue_meta_security:{captcha_token:B?.captchaToken}},redirectTo:B?.emailRedirectTo});return m._returnResult({data:{user:null,session:null},error:q})}if("phone"in c){const{phone:T,type:j,options:B}=c,{data:q,error:K}=yield We(m.fetch,"POST",E,{headers:m.headers,body:{phone:T,type:j,gotrue_meta_security:{captcha_token:B?.captchaToken}}});return m._returnResult({data:{user:null,session:null,messageId:q?.message_id},error:K})}throw new gs("You must provide either an email or phone number and a type")}catch(E){if(Et(E))return m._returnResult({data:{user:null,session:null},error:E});throw E}})()}getSession(){var c=this;return(0,f.A)(function*(){return yield c.initializePromise,yield c._acquireLock(-1,(0,f.A)(function*(){return c._useSession(function(){var E=(0,f.A)(function*(T){return T});return function(T){return E.apply(this,arguments)}}())}))})()}_acquireLock(c,m){var E=this;return(0,f.A)(function*(){E._debug("#_acquireLock","begin",c);try{if(E.lockAcquired){const T=E.pendingInLock.length?E.pendingInLock[E.pendingInLock.length-1]:Promise.resolve(),j=(0,f.A)(function*(){return yield T,yield m()})();return E.pendingInLock.push((0,f.A)(function*(){try{yield j}catch{}})()),j}return yield E.lock(`lock:${E.storageKey}`,c,(0,f.A)(function*(){E._debug("#_acquireLock","lock acquired for storage key",E.storageKey);try{E.lockAcquired=!0;const T=m();for(E.pendingInLock.push((0,f.A)(function*(){try{yield T}catch{}})()),yield T;E.pendingInLock.length;){const j=[...E.pendingInLock];yield Promise.all(j),E.pendingInLock.splice(0,j.length)}return yield T}finally{E._debug("#_acquireLock","lock released for storage key",E.storageKey),E.lockAcquired=!1}}))}finally{E._debug("#_acquireLock","end")}})()}_useSession(c){var m=this;return(0,f.A)(function*(){m._debug("#_useSession","begin");try{const E=yield m.__loadSession();return yield c(E)}finally{m._debug("#_useSession","end")}})()}__loadSession(){var c=this;return(0,f.A)(function*(){c._debug("#__loadSession()","begin"),c.lockAcquired||c._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let m=null;const E=yield Hn(c.storage,c.storageKey);if(c._debug("#getSession()","session from storage",E),null!==E&&(c._isValidSession(E)?m=E:(c._debug("#getSession()","session from storage is not valid"),yield c._removeSession())),!m)return{data:{session:null},error:null};const T=!!m.expires_at&&1e3*m.expires_at-Date.now()<9e4;if(c._debug("#__loadSession()",`session has${T?"":" not"} expired`,"expires_at",m.expires_at),!T){if(c.userStorage){const q=yield Hn(c.userStorage,c.storageKey+"-user");m.user=q?.user?q.user:Cs()}if(c.storage.isServer&&m.user&&!m.user.__isUserNotAvailableProxy){const q={value:c.suppressGetSessionWarning};m.user=function ui(w,h){return new Proxy(w,{get:(c,m,E)=>{if("__isInsecureUserWarningProxy"===m)return!0;if("symbol"==typeof m){const T=m.toString();if("Symbol(Symbol.toPrimitive)"===T||"Symbol(Symbol.toStringTag)"===T||"Symbol(util.inspect.custom)"===T||"Symbol(nodejs.util.inspect.custom)"===T)return Reflect.get(c,m,E)}return!h.value&&"string"==typeof m&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h.value=!0),Reflect.get(c,m,E)}})}(m.user,q),q.value&&(c.suppressGetSessionWarning=!0)}return{data:{session:m},error:null}}const{data:j,error:B}=yield c._callRefreshToken(m.refresh_token);return c._returnResult(B?{data:{session:null},error:B}:{data:{session:j},error:null})}finally{c._debug("#__loadSession()","end")}})()}getUser(c){var m=this;return(0,f.A)(function*(){return c?yield m._getUser(c):(yield m.initializePromise,yield m._acquireLock(-1,(0,f.A)(function*(){return yield m._getUser()})))})()}_getUser(c){var m=this;return(0,f.A)(function*(){try{return c?yield We(m.fetch,"GET",`${m.url}/user`,{headers:m.headers,jwt:c,xform:rs}):yield m._useSession(function(){var E=(0,f.A)(function*(T){var j,B,q;const{data:K,error:re}=T;if(re)throw re;return null!==(j=K.session)&&void 0!==j&&j.access_token||m.hasCustomAuthorizationHeader?yield We(m.fetch,"GET",`${m.url}/user`,{headers:m.headers,jwt:null!==(q=null===(B=K.session)||void 0===B?void 0:B.access_token)&&void 0!==q?q:void 0,xform:rs}):{data:{user:null},error:new Nn}});return function(T){return E.apply(this,arguments)}}())}catch(E){if(Et(E))return function Ys(w){return Et(w)&&"AuthSessionMissingError"===w.name}(E)&&(yield m._removeSession(),yield Vr(m.storage,`${m.storageKey}-code-verifier`)),m._returnResult({data:{user:null},error:E});throw E}})()}updateUser(c){var m=this;return(0,f.A)(function*(E,T={}){return yield m.initializePromise,yield m._acquireLock(-1,(0,f.A)(function*(){return yield m._updateUser(E,T)}))}).apply(this,arguments)}_updateUser(c){var m=this;return(0,f.A)(function*(E,T={}){try{return yield m._useSession(function(){var j=(0,f.A)(function*(B){const{data:q,error:K}=B;if(K)throw K;if(!q.session)throw new Nn;const re=q.session;let Ce=null,_e=null;"pkce"===m.flowType&&null!=E.email&&([Ce,_e]=yield tr(m.storage,m.storageKey));const{data:Qe,error:Ge}=yield We(m.fetch,"PUT",`${m.url}/user`,{headers:m.headers,redirectTo:T?.emailRedirectTo,body:Object.assign(Object.assign({},E),{code_challenge:Ce,code_challenge_method:_e}),jwt:re.access_token,xform:rs});if(Ge)throw Ge;return re.user=Qe.user,yield m._saveSession(re),yield m._notifyAllSubscribers("USER_UPDATED",re),m._returnResult({data:{user:re.user},error:null})});return function(B){return j.apply(this,arguments)}}())}catch(j){if(Et(j))return m._returnResult({data:{user:null},error:j});throw j}}).apply(this,arguments)}setSession(c){var m=this;return(0,f.A)(function*(){return yield m.initializePromise,yield m._acquireLock(-1,(0,f.A)(function*(){return yield m._setSession(c)}))})()}_setSession(c){var m=this;return(0,f.A)(function*(){try{if(!c.access_token||!c.refresh_token)throw new Nn;const E=Date.now()/1e3;let T=E,j=!0,B=null;const{payload:q}=Rs(c.access_token);if(q.exp&&(T=q.exp,j=T<=E),j){const{data:K,error:re}=yield m._callRefreshToken(c.refresh_token);if(re)return m._returnResult({data:{user:null,session:null},error:re});if(!K)return{data:{user:null,session:null},error:null};B=K}else{const{data:K,error:re}=yield m._getUser(c.access_token);if(re)throw re;B={access_token:c.access_token,refresh_token:c.refresh_token,user:K.user,token_type:"bearer",expires_in:T-E,expires_at:T},yield m._saveSession(B),yield m._notifyAllSubscribers("SIGNED_IN",B)}return m._returnResult({data:{user:B.user,session:B},error:null})}catch(E){if(Et(E))return m._returnResult({data:{session:null,user:null},error:E});throw E}})()}refreshSession(c){var m=this;return(0,f.A)(function*(){return yield m.initializePromise,yield m._acquireLock(-1,(0,f.A)(function*(){return yield m._refreshSession(c)}))})()}_refreshSession(c){var m=this;return(0,f.A)(function*(){try{return yield m._useSession(function(){var E=(0,f.A)(function*(T){var j;if(!c){const{data:K,error:re}=T;if(re)throw re;c=null!==(j=K.session)&&void 0!==j?j:void 0}if(!c?.refresh_token)throw new Nn;const{data:B,error:q}=yield m._callRefreshToken(c.refresh_token);return m._returnResult(q?{data:{user:null,session:null},error:q}:B?{data:{user:B.user,session:B},error:null}:{data:{user:null,session:null},error:null})});return function(T){return E.apply(this,arguments)}}())}catch(E){if(Et(E))return m._returnResult({data:{user:null,session:null},error:E});throw E}})()}_getSessionFromURL(c,m){var E=this;return(0,f.A)(function*(){try{if(!wn())throw new Tr("No browser detected.");if(c.error||c.error_description||c.error_code)throw new Tr(c.error_description||"Error in URL with unspecified error_description",{error:c.error||"unspecified_error",code:c.error_code||"unspecified_code"});switch(m){case"implicit":if("pkce"===E.flowType)throw new Ti("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===E.flowType)throw new Tr("Not a valid implicit grant flow url.")}if("pkce"===m){if(E._debug("#_initialize()","begin","is PKCE flow",!0),!c.code)throw new Ti("No code detected.");const{data:Ct,error:Ft}=yield E._exchangeCodeForSession(c.code);if(Ft)throw Ft;const xn=new URL(window.location.href);return xn.searchParams.delete("code"),window.history.replaceState(window.history.state,"",xn.toString()),{data:{session:Ct.session,redirectType:null},error:null}}const{provider_token:T,provider_refresh_token:j,access_token:B,refresh_token:q,expires_in:K,expires_at:re,token_type:Ce}=c;if(!(B&&K&&q&&Ce))throw new Tr("No session defined in URL");const _e=Math.round(Date.now()/1e3),Qe=parseInt(K);let Ge=_e+Qe;re&&(Ge=parseInt(re));const lt=Ge-_e;1e3*lt<=Gn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${lt}s, should have been closer to ${Qe}s`);const st=Ge-Qe;_e-st>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",st,Ge,_e):_e-st<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",st,Ge,_e);const{data:wt,error:Yt}=yield E._getUser(B);if(Yt)throw Yt;const Qt={provider_token:T,provider_refresh_token:j,access_token:B,expires_in:Qe,expires_at:Ge,refresh_token:q,token_type:Ce,user:wt.user};return window.location.hash="",E._debug("#_getSessionFromURL()","clearing window.location.hash"),E._returnResult({data:{session:Qt,redirectType:c.type},error:null})}catch(T){if(Et(T))return E._returnResult({data:{session:null,redirectType:null},error:T});throw T}})()}_isImplicitGrantCallback(c){return!(!c.access_token&&!c.error_description)}_isPKCECallback(c){var m=this;return(0,f.A)(function*(){const E=yield Hn(m.storage,`${m.storageKey}-code-verifier`);return!(!c.code||!E)})()}signOut(){var c=this;return(0,f.A)(function*(m={scope:"global"}){return yield c.initializePromise,yield c._acquireLock(-1,(0,f.A)(function*(){return yield c._signOut(m)}))}).apply(this,arguments)}_signOut(){var c=this;return(0,f.A)(function*({scope:m}={scope:"global"}){return yield c._useSession(function(){var E=(0,f.A)(function*(T){var j;const{data:B,error:q}=T;if(q)return c._returnResult({error:q});const K=null===(j=B.session)||void 0===j?void 0:j.access_token;if(K){const{error:re}=yield c.admin.signOut(K,m);if(re&&(!function _o(w){return Et(w)&&"AuthApiError"===w.name}(re)||404!==re.status&&401!==re.status&&403!==re.status))return c._returnResult({error:re})}return"others"!==m&&(yield c._removeSession(),yield Vr(c.storage,`${c.storageKey}-code-verifier`)),c._returnResult({error:null})});return function(T){return E.apply(this,arguments)}}())}).apply(this,arguments)}onAuthStateChange(c){var m=this;const E=function It(){return Symbol("auth-callback")}(),T={id:E,callback:c,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",E),this.stateChangeEmitters.delete(E)}};return this._debug("#onAuthStateChange()","registered callback with id",E),this.stateChangeEmitters.set(E,T),(0,f.A)(function*(){yield m.initializePromise,yield m._acquireLock(-1,(0,f.A)(function*(){m._emitInitialSession(E)}))})(),{data:{subscription:T}}}_emitInitialSession(c){var m=this;return(0,f.A)(function*(){return yield m._useSession(function(){var E=(0,f.A)(function*(T){var j,B;try{const{data:{session:q},error:K}=T;if(K)throw K;yield null===(j=m.stateChangeEmitters.get(c))||void 0===j?void 0:j.callback("INITIAL_SESSION",q),m._debug("INITIAL_SESSION","callback id",c,"session",q)}catch(q){yield null===(B=m.stateChangeEmitters.get(c))||void 0===B?void 0:B.callback("INITIAL_SESSION",null),m._debug("INITIAL_SESSION","callback id",c,"error",q),console.error(q)}});return function(T){return E.apply(this,arguments)}}())})()}resetPasswordForEmail(c){var m=this;return(0,f.A)(function*(E,T={}){let j=null,B=null;"pkce"===m.flowType&&([j,B]=yield tr(m.storage,m.storageKey,!0));try{return yield We(m.fetch,"POST",`${m.url}/recover`,{body:{email:E,code_challenge:j,code_challenge_method:B,gotrue_meta_security:{captcha_token:T.captchaToken}},headers:m.headers,redirectTo:T.redirectTo})}catch(q){if(Et(q))return m._returnResult({data:null,error:q});throw q}}).apply(this,arguments)}getUserIdentities(){var c=this;return(0,f.A)(function*(){var m;try{const{data:E,error:T}=yield c.getUser();if(T)throw T;return c._returnResult({data:{identities:null!==(m=E.user.identities)&&void 0!==m?m:[]},error:null})}catch(E){if(Et(E))return c._returnResult({data:null,error:E});throw E}})()}linkIdentity(c){var m=this;return(0,f.A)(function*(){return"token"in c?m.linkIdentityIdToken(c):m.linkIdentityOAuth(c)})()}linkIdentityOAuth(c){var m=this;return(0,f.A)(function*(){var E;try{const{data:T,error:j}=yield m._useSession(function(){var B=(0,f.A)(function*(q){var K,re,Ce,_e,Qe;const{data:Ge,error:lt}=q;if(lt)throw lt;const st=yield m._getUrlForProvider(`${m.url}/user/identities/authorize`,c.provider,{redirectTo:null===(K=c.options)||void 0===K?void 0:K.redirectTo,scopes:null===(re=c.options)||void 0===re?void 0:re.scopes,queryParams:null===(Ce=c.options)||void 0===Ce?void 0:Ce.queryParams,skipBrowserRedirect:!0});return yield We(m.fetch,"GET",st,{headers:m.headers,jwt:null!==(Qe=null===(_e=Ge.session)||void 0===_e?void 0:_e.access_token)&&void 0!==Qe?Qe:void 0})});return function(q){return B.apply(this,arguments)}}());if(j)throw j;return wn()&&!(null!==(E=c.options)&&void 0!==E&&E.skipBrowserRedirect)&&window.location.assign(T?.url),m._returnResult({data:{provider:c.provider,url:T?.url},error:null})}catch(T){if(Et(T))return m._returnResult({data:{provider:c.provider,url:null},error:T});throw T}})()}linkIdentityIdToken(c){var m=this;return(0,f.A)(function*(){return yield m._useSession(function(){var E=(0,f.A)(function*(T){var j;try{const{error:B,data:{session:q}}=T;if(B)throw B;const{options:K,provider:re,token:Ce,access_token:_e,nonce:Qe}=c,Ge=yield We(m.fetch,"POST",`${m.url}/token?grant_type=id_token`,{headers:m.headers,jwt:null!==(j=q?.access_token)&&void 0!==j?j:void 0,body:{provider:re,id_token:Ce,access_token:_e,nonce:Qe,link_identity:!0,gotrue_meta_security:{captcha_token:K?.captchaToken}},xform:fr}),{data:lt,error:st}=Ge;return st?m._returnResult({data:{user:null,session:null},error:st}):lt&&lt.session&&lt.user?(lt.session&&(yield m._saveSession(lt.session),yield m._notifyAllSubscribers("USER_UPDATED",lt.session)),m._returnResult({data:lt,error:st})):m._returnResult({data:{user:null,session:null},error:new Mr})}catch(B){if(Et(B))return m._returnResult({data:{user:null,session:null},error:B});throw B}});return function(T){return E.apply(this,arguments)}}())})()}unlinkIdentity(c){var m=this;return(0,f.A)(function*(){try{return yield m._useSession(function(){var E=(0,f.A)(function*(T){var j,B;const{data:q,error:K}=T;if(K)throw K;return yield We(m.fetch,"DELETE",`${m.url}/user/identities/${c.identity_id}`,{headers:m.headers,jwt:null!==(B=null===(j=q.session)||void 0===j?void 0:j.access_token)&&void 0!==B?B:void 0})});return function(T){return E.apply(this,arguments)}}())}catch(E){if(Et(E))return m._returnResult({data:null,error:E});throw E}})()}_refreshAccessToken(c){var m=this;return(0,f.A)(function*(){const E=`#_refreshAccessToken(${c.substring(0,5)}...)`;m._debug(E,"begin");try{const T=Date.now();return yield function sn(w,h){return new Promise((m,E)=>{(0,f.A)(function*(){for(let T=0;T<1/0;T++)try{const j=yield w(T);if(!h(T,null,j))return void m(j)}catch(j){if(!h(T,j))return void E(j)}})()})}(function(){var j=(0,f.A)(function*(B){return B>0&&(yield function Xs(w){return vr.apply(this,arguments)}(200*Math.pow(2,B-1))),m._debug(E,"refreshing attempt",B),yield We(m.fetch,"POST",`${m.url}/token?grant_type=refresh_token`,{body:{refresh_token:c},headers:m.headers,xform:fr})});return function(B){return j.apply(this,arguments)}}(),(j,B)=>{const q=200*Math.pow(2,j);return B&&er(B)&&Date.now()+q-T<Gn})}catch(T){if(m._debug(E,"error",T),Et(T))return m._returnResult({data:{session:null,user:null},error:T});throw T}finally{m._debug(E,"end")}})()}_isValidSession(c){return"object"==typeof c&&null!==c&&"access_token"in c&&"refresh_token"in c&&"expires_at"in c}_handleProviderSignIn(c,m){var E=this;return(0,f.A)(function*(){const T=yield E._getUrlForProvider(`${E.url}/authorize`,c,{redirectTo:m.redirectTo,scopes:m.scopes,queryParams:m.queryParams});return E._debug("#_handleProviderSignIn()","provider",c,"options",m,"url",T),wn()&&!m.skipBrowserRedirect&&window.location.assign(T),{data:{provider:c,url:T},error:null}})()}_recoverAndRefresh(){var c=this;return(0,f.A)(function*(){var m,E;const T="#_recoverAndRefresh()";c._debug(T,"begin");try{const j=yield Hn(c.storage,c.storageKey);if(j&&c.userStorage){let q=yield Hn(c.userStorage,c.storageKey+"-user");!c.storage.isServer&&Object.is(c.storage,c.userStorage)&&!q&&(q={user:j.user},yield qi(c.userStorage,c.storageKey+"-user",q)),j.user=null!==(m=q?.user)&&void 0!==m?m:Cs()}else if(j&&!j.user&&!j.user){const q=yield Hn(c.storage,c.storageKey+"-user");q&&q?.user?(j.user=q.user,yield Vr(c.storage,c.storageKey+"-user"),yield qi(c.storage,c.storageKey,j)):j.user=Cs()}if(c._debug(T,"session from storage",j),!c._isValidSession(j))return c._debug(T,"session is not valid"),void(null!==j&&(yield c._removeSession()));const B=1e3*(null!==(E=j.expires_at)&&void 0!==E?E:1/0)-Date.now()<9e4;if(c._debug(T,`session has${B?"":" not"} expired with margin of 90000s`),B){if(c.autoRefreshToken&&j.refresh_token){const{error:q}=yield c._callRefreshToken(j.refresh_token);q&&(console.error(q),er(q)||(c._debug(T,"refresh failed with a non-retryable error, removing the session",q),yield c._removeSession()))}}else if(j.user&&!0===j.user.__isUserNotAvailableProxy)try{const{data:q,error:K}=yield c._getUser(j.access_token);!K&&q?.user?(j.user=q.user,yield c._saveSession(j),yield c._notifyAllSubscribers("SIGNED_IN",j)):c._debug(T,"could not get user data, skipping SIGNED_IN notification")}catch(q){console.error("Error getting user data:",q),c._debug(T,"error getting user data, skipping SIGNED_IN notification",q)}else yield c._notifyAllSubscribers("SIGNED_IN",j)}catch(j){return c._debug(T,"error",j),void console.error(j)}finally{c._debug(T,"end")}})()}_callRefreshToken(c){var m=this;return(0,f.A)(function*(){var E,T;if(!c)throw new Nn;if(m.refreshingDeferred)return m.refreshingDeferred.promise;const j=`#_callRefreshToken(${c.substring(0,5)}...)`;m._debug(j,"begin");try{m.refreshingDeferred=new Oi;const{data:B,error:q}=yield m._refreshAccessToken(c);if(q)throw q;if(!B.session)throw new Nn;yield m._saveSession(B.session),yield m._notifyAllSubscribers("TOKEN_REFRESHED",B.session);const K={data:B.session,error:null};return m.refreshingDeferred.resolve(K),K}catch(B){if(m._debug(j,"error",B),Et(B)){const q={data:null,error:B};return er(B)||(yield m._removeSession()),null===(E=m.refreshingDeferred)||void 0===E||E.resolve(q),q}throw null===(T=m.refreshingDeferred)||void 0===T||T.reject(B),B}finally{m.refreshingDeferred=null,m._debug(j,"end")}})()}_notifyAllSubscribers(c,m){var E=this;return(0,f.A)(function*(T,j,B=!0){const q=`#_notifyAllSubscribers(${T})`;E._debug(q,"begin",j,`broadcast = ${B}`);try{E.broadcastChannel&&B&&E.broadcastChannel.postMessage({event:T,session:j});const K=[],re=Array.from(E.stateChangeEmitters.values()).map(function(){var Ce=(0,f.A)(function*(_e){try{yield _e.callback(T,j)}catch(Qe){K.push(Qe)}});return function(_e){return Ce.apply(this,arguments)}}());if(yield Promise.all(re),K.length>0){for(let Ce=0;Ce<K.length;Ce+=1)console.error(K[Ce]);throw K[0]}}finally{E._debug(q,"end")}}).apply(this,arguments)}_saveSession(c){var m=this;return(0,f.A)(function*(){m._debug("#_saveSession()",c),m.suppressGetSessionWarning=!0;const E=Object.assign({},c);if(m.userStorage){(!E.user||!0!==E.user.__isUserNotAvailableProxy)&&E.user&&(yield qi(m.userStorage,m.storageKey+"-user",{user:E.user}));const j=Object.assign({},E);delete j.user;const B=Zr(j);yield qi(m.storage,m.storageKey,B)}else{const j=Zr(E);yield qi(m.storage,m.storageKey,j)}})()}_removeSession(){var c=this;return(0,f.A)(function*(){c._debug("#_removeSession()"),yield Vr(c.storage,c.storageKey),yield Vr(c.storage,c.storageKey+"-code-verifier"),yield Vr(c.storage,c.storageKey+"-user"),c.userStorage&&(yield Vr(c.userStorage,c.storageKey+"-user")),yield c._notifyAllSubscribers("SIGNED_OUT",null)})()}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const c=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{c&&wn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",c)}catch(m){console.error("removing visibilitychange callback failed",m)}}_startAutoRefresh(){var c=this;return(0,f.A)(function*(){yield c._stopAutoRefresh(),c._debug("#_startAutoRefresh()");const m=setInterval(()=>c._autoRefreshTokenTick(),Gn);c.autoRefreshTicker=m,m&&"object"==typeof m&&"function"==typeof m.unref?m.unref():typeof Deno<"u"&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(m),setTimeout((0,f.A)(function*(){yield c.initializePromise,yield c._autoRefreshTokenTick()}),0)})()}_stopAutoRefresh(){var c=this;return(0,f.A)(function*(){c._debug("#_stopAutoRefresh()");const m=c.autoRefreshTicker;c.autoRefreshTicker=null,m&&clearInterval(m)})()}startAutoRefresh(){var c=this;return(0,f.A)(function*(){c._removeVisibilityChangedCallback(),yield c._startAutoRefresh()})()}stopAutoRefresh(){var c=this;return(0,f.A)(function*(){c._removeVisibilityChangedCallback(),yield c._stopAutoRefresh()})()}_autoRefreshTokenTick(){var c=this;return(0,f.A)(function*(){c._debug("#_autoRefreshTokenTick()","begin");try{yield c._acquireLock(0,(0,f.A)(function*(){try{const m=Date.now();try{return yield c._useSession(function(){var E=(0,f.A)(function*(T){const{data:{session:j}}=T;if(!j||!j.refresh_token||!j.expires_at)return void c._debug("#_autoRefreshTokenTick()","no session");const B=Math.floor((1e3*j.expires_at-m)/Gn);c._debug("#_autoRefreshTokenTick()",`access token expires in ${B} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),B<=3&&(yield c._callRefreshToken(j.refresh_token))});return function(T){return E.apply(this,arguments)}}())}catch(E){console.error("Auto refresh tick failed with error. This is likely a transient error.",E)}}finally{c._debug("#_autoRefreshTokenTick()","end")}}))}catch(m){if(!(m.isAcquireTimeout||m instanceof no))throw m;c._debug("auto refresh token tick lock not available")}})()}_handleVisibilityChange(){var c=this;return(0,f.A)(function*(){if(c._debug("#_handleVisibilityChange()"),!wn()||!window?.addEventListener)return c.autoRefreshToken&&c.startAutoRefresh(),!1;try{c.visibilityChangedCallback=(0,f.A)(function*(){return yield c._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",c.visibilityChangedCallback),yield c._onVisibilityChanged(!0)}catch(m){console.error("_handleVisibilityChange",m)}})()}_onVisibilityChanged(c){var m=this;return(0,f.A)(function*(){const E=`#_onVisibilityChanged(${c})`;m._debug(E,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(m.autoRefreshToken&&m._startAutoRefresh(),c||(yield m.initializePromise,yield m._acquireLock(-1,(0,f.A)(function*(){"visible"===document.visibilityState?yield m._recoverAndRefresh():m._debug(E,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&m.autoRefreshToken&&m._stopAutoRefresh()})()}_getUrlForProvider(c,m,E){var T=this;return(0,f.A)(function*(){const j=[`provider=${encodeURIComponent(m)}`];if(E?.redirectTo&&j.push(`redirect_to=${encodeURIComponent(E.redirectTo)}`),E?.scopes&&j.push(`scopes=${encodeURIComponent(E.scopes)}`),"pkce"===T.flowType){const[B,q]=yield tr(T.storage,T.storageKey),K=new URLSearchParams({code_challenge:`${encodeURIComponent(B)}`,code_challenge_method:`${encodeURIComponent(q)}`});j.push(K.toString())}if(E?.queryParams){const B=new URLSearchParams(E.queryParams);j.push(B.toString())}return E?.skipBrowserRedirect&&j.push(`skip_http_redirect=${E.skipBrowserRedirect}`),`${c}?${j.join("&")}`})()}_unenroll(c){var m=this;return(0,f.A)(function*(){try{return yield m._useSession(function(){var E=(0,f.A)(function*(T){var j;const{data:B,error:q}=T;return q?m._returnResult({data:null,error:q}):yield We(m.fetch,"DELETE",`${m.url}/factors/${c.factorId}`,{headers:m.headers,jwt:null===(j=B?.session)||void 0===j?void 0:j.access_token})});return function(T){return E.apply(this,arguments)}}())}catch(E){if(Et(E))return m._returnResult({data:null,error:E});throw E}})()}_enroll(c){var m=this;return(0,f.A)(function*(){try{return yield m._useSession(function(){var E=(0,f.A)(function*(T){var j,B;const{data:q,error:K}=T;if(K)return m._returnResult({data:null,error:K});const re=Object.assign({friendly_name:c.friendlyName,factor_type:c.factorType},"phone"===c.factorType?{phone:c.phone}:"totp"===c.factorType?{issuer:c.issuer}:{}),{data:Ce,error:_e}=yield We(m.fetch,"POST",`${m.url}/factors`,{body:re,headers:m.headers,jwt:null===(j=q?.session)||void 0===j?void 0:j.access_token});return _e?m._returnResult({data:null,error:_e}):("totp"===c.factorType&&"totp"===Ce.type&&!(null===(B=Ce?.totp)||void 0===B)&&B.qr_code&&(Ce.totp.qr_code=`data:image/svg+xml;utf-8,${Ce.totp.qr_code}`),m._returnResult({data:Ce,error:null}))});return function(T){return E.apply(this,arguments)}}())}catch(E){if(Et(E))return m._returnResult({data:null,error:E});throw E}})()}_verify(c){var m=this;return(0,f.A)(function*(){return m._acquireLock(-1,(0,f.A)(function*(){try{return yield m._useSession(function(){var E=(0,f.A)(function*(T){var j;const{data:B,error:q}=T;if(q)return m._returnResult({data:null,error:q});const K=Object.assign({challenge_id:c.challengeId},"webauthn"in c?{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_response:"create"===c.webauthn.type?ei(c.webauthn.credential_response):Ls(c.webauthn.credential_response)})}:{code:c.code}),{data:re,error:Ce}=yield We(m.fetch,"POST",`${m.url}/factors/${c.factorId}/verify`,{body:K,headers:m.headers,jwt:null===(j=B?.session)||void 0===j?void 0:j.access_token});return Ce?m._returnResult({data:null,error:Ce}):(yield m._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+re.expires_in},re)),yield m._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",re),m._returnResult({data:re,error:Ce}))});return function(T){return E.apply(this,arguments)}}())}catch(E){if(Et(E))return m._returnResult({data:null,error:E});throw E}}))})()}_challenge(c){var m=this;return(0,f.A)(function*(){return m._acquireLock(-1,(0,f.A)(function*(){try{return yield m._useSession(function(){var E=(0,f.A)(function*(T){var j;const{data:B,error:q}=T;if(q)return m._returnResult({data:null,error:q});const K=yield We(m.fetch,"POST",`${m.url}/factors/${c.factorId}/challenge`,{body:c,headers:m.headers,jwt:null===(j=B?.session)||void 0===j?void 0:j.access_token});if(K.error)return K;const{data:re}=K;if("webauthn"!==re.type)return{data:re,error:null};switch(re.webauthn.type){case"create":return{data:Object.assign(Object.assign({},re),{webauthn:Object.assign(Object.assign({},re.webauthn),{credential_options:Object.assign(Object.assign({},re.webauthn.credential_options),{publicKey:co(re.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},re),{webauthn:Object.assign(Object.assign({},re.webauthn),{credential_options:Object.assign(Object.assign({},re.webauthn.credential_options),{publicKey:js(re.webauthn.credential_options.publicKey)})})}),error:null}}});return function(T){return E.apply(this,arguments)}}())}catch(E){if(Et(E))return m._returnResult({data:null,error:E});throw E}}))})()}_challengeAndVerify(c){var m=this;return(0,f.A)(function*(){const{data:E,error:T}=yield m._challenge({factorId:c.factorId});return T?m._returnResult({data:null,error:T}):yield m._verify({factorId:c.factorId,challengeId:E.id,code:c.code})})()}_listFactors(){var c=this;return(0,f.A)(function*(){var m;const{data:{user:E},error:T}=yield c.getUser();if(T)return{data:null,error:T};const j={all:[],phone:[],totp:[],webauthn:[]};for(const B of null!==(m=E?.factors)&&void 0!==m?m:[])j.all.push(B),"verified"===B.status&&j[B.factor_type].push(B);return{data:j,error:null}})()}_getAuthenticatorAssuranceLevel(){var c=this;return(0,f.A)(function*(){var m,E;const{data:{session:T},error:j}=yield c.getSession();if(j)return c._returnResult({data:null,error:j});if(!T)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:B}=Rs(T.access_token);let q=null;B.aal&&(q=B.aal);let K=q;return(null!==(E=null===(m=T.user.factors)||void 0===m?void 0:m.filter(_e=>"verified"===_e.status))&&void 0!==E?E:[]).length>0&&(K="aal2"),{data:{currentLevel:q,nextLevel:K,currentAuthenticationMethods:B.amr||[]},error:null}})()}_getAuthorizationDetails(c){var m=this;return(0,f.A)(function*(){try{return yield m._useSession(function(){var E=(0,f.A)(function*(T){const{data:{session:j},error:B}=T;return B?m._returnResult({data:null,error:B}):j?yield We(m.fetch,"GET",`${m.url}/oauth/authorizations/${c}`,{headers:m.headers,jwt:j.access_token,xform:q=>({data:q,error:null})}):m._returnResult({data:null,error:new Nn})});return function(T){return E.apply(this,arguments)}}())}catch(E){if(Et(E))return m._returnResult({data:null,error:E});throw E}})()}_approveAuthorization(c,m){var E=this;return(0,f.A)(function*(){try{return yield E._useSession(function(){var T=(0,f.A)(function*(j){const{data:{session:B},error:q}=j;if(q)return E._returnResult({data:null,error:q});if(!B)return E._returnResult({data:null,error:new Nn});const K=yield We(E.fetch,"POST",`${E.url}/oauth/authorizations/${c}/consent`,{headers:E.headers,jwt:B.access_token,body:{action:"approve"},xform:re=>({data:re,error:null})});return K.data&&K.data.redirect_url&&wn()&&!m?.skipBrowserRedirect&&window.location.assign(K.data.redirect_url),K});return function(j){return T.apply(this,arguments)}}())}catch(T){if(Et(T))return E._returnResult({data:null,error:T});throw T}})()}_denyAuthorization(c,m){var E=this;return(0,f.A)(function*(){try{return yield E._useSession(function(){var T=(0,f.A)(function*(j){const{data:{session:B},error:q}=j;if(q)return E._returnResult({data:null,error:q});if(!B)return E._returnResult({data:null,error:new Nn});const K=yield We(E.fetch,"POST",`${E.url}/oauth/authorizations/${c}/consent`,{headers:E.headers,jwt:B.access_token,body:{action:"deny"},xform:re=>({data:re,error:null})});return K.data&&K.data.redirect_url&&wn()&&!m?.skipBrowserRedirect&&window.location.assign(K.data.redirect_url),K});return function(j){return T.apply(this,arguments)}}())}catch(T){if(Et(T))return E._returnResult({data:null,error:T});throw T}})()}fetchJwk(c){var m=this;return(0,f.A)(function*(E,T={keys:[]}){let j=T.keys.find(re=>re.kid===E);if(j)return j;const B=Date.now();if(j=m.jwks.keys.find(re=>re.kid===E),j&&m.jwks_cached_at+6e5>B)return j;const{data:q,error:K}=yield We(m.fetch,"GET",`${m.url}/.well-known/jwks.json`,{headers:m.headers});if(K)throw K;return q.keys&&0!==q.keys.length&&(m.jwks=q,m.jwks_cached_at=B,j=q.keys.find(re=>re.kid===E),j)?j:null}).apply(this,arguments)}getClaims(c){var m=this;return(0,f.A)(function*(E,T={}){try{let j=E;if(!j){const{data:st,error:wt}=yield m.getSession();if(wt||!st.session)return m._returnResult({data:null,error:wt});j=st.session.access_token}const{header:B,payload:q,signature:K,raw:{header:re,payload:Ce}}=Rs(j);T?.allowExpired||function Zs(w){if(!w)throw new Error("Missing exp claim");if(w<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(q.exp);const _e=B.alg&&!B.alg.startsWith("HS")&&B.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?yield m.fetchJwk(B.kid,T?.keys?{keys:T.keys}:T?.jwks):null;if(!_e){const{error:st}=yield m.getUser(j);if(st)throw st;return{data:{claims:q,header:B,signature:K},error:null}}const Qe=function An(w){switch(w){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(B.alg),Ge=yield crypto.subtle.importKey("jwk",_e,Qe,!0,["verify"]);if(!(yield crypto.subtle.verify(Qe,Ge,K,function gr(w){const h=[];return function ts(w,h){for(let c=0;c<w.length;c+=1){let m=w.charCodeAt(c);if(m>55295&&m<=56319){const E=1024*(m-55296)&65535;m=65536+(w.charCodeAt(c+1)-56320&65535|E),c+=1}Hi(m,h)}}(w,c=>h.push(c)),new Uint8Array(h)}(`${re}.${Ce}`))))throw new _t("Invalid JWT signature");return{data:{claims:q,header:B,signature:K},error:null}}catch(j){if(Et(j))return m._returnResult({data:null,error:j});throw j}}).apply(this,arguments)}}return w.nextInstanceID={},w})();class dn extends gt{constructor(h){super(h)}}class jn{constructor(h,c,m){var E,T,j;this.supabaseUrl=h,this.supabaseKey=c;const B=function Bt(w){const h=w?.trim();if(!h)throw new Error("supabaseUrl is required.");if(!h.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(function $n(w){return w.endsWith("/")?w:w+"/"}(h))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}(h);if(!c)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",B),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",B),this.storageUrl=new URL("storage/v1",B),this.functionsUrl=new URL("functions/v1",B);const q=`sb-${B.hostname.split(".")[0]}-auth-token`,re=function Kn(w,h){var c,m;const{db:E,auth:T,realtime:j,global:B}=w,{db:q,auth:K,realtime:re,global:Ce}=h,_e={db:Object.assign(Object.assign({},q),E),auth:Object.assign(Object.assign({},K),T),realtime:Object.assign(Object.assign({},re),j),storage:{},global:Object.assign(Object.assign(Object.assign({},Ce),B),{headers:Object.assign(Object.assign({},null!==(c=Ce?.headers)&&void 0!==c?c:{}),null!==(m=B?.headers)&&void 0!==m?m:{})}),accessToken:(Qe=(0,f.A)(function*(){return""}),function(){return Qe.apply(this,arguments)})};var Qe;return w.accessToken?_e.accessToken=w.accessToken:delete _e.accessToken,_e}(m??{},{db:et,realtime:At,auth:Object.assign(Object.assign({},it),{storageKey:q}),global:Xe});this.storageKey=null!==(E=re.auth.storageKey)&&void 0!==E?E:"",this.headers=null!==(T=re.global.headers)&&void 0!==T?T:{},re.accessToken?(this.accessToken=re.accessToken,this.auth=new Proxy({},{get:(Ce,_e)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_e)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(j=re.auth)&&void 0!==j?j:{},this.headers,re.global.fetch),this.fetch=un(c,this._getAccessToken.bind(this),re.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},re.realtime)),this.accessToken&&this.accessToken().then(Ce=>this.realtime.setAuth(Ce)).catch(Ce=>console.warn("Failed to set initial Realtime auth token:",Ce)),this.rest=new ve(new URL("rest/v1",B).href,{headers:this.headers,schema:re.db.schema,fetch:this.fetch}),this.storage=new X(this.storageUrl.href,this.headers,this.fetch,m?.storage),re.accessToken||this._listenForAuthEvents()}get functions(){return new he(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(h){return this.rest.from(h)}schema(h){return this.rest.schema(h)}rpc(h,c={},m={head:!1,get:!1,count:void 0}){return this.rest.rpc(h,c,m)}channel(h,c={config:{}}){return this.realtime.channel(h,c)}getChannels(){return this.realtime.getChannels()}removeChannel(h){return this.realtime.removeChannel(h)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var h=this;return(0,f.A)(function*(){var c,m;if(h.accessToken)return yield h.accessToken();const{data:E}=yield h.auth.getSession();return null!==(m=null===(c=E.session)||void 0===c?void 0:c.access_token)&&void 0!==m?m:h.supabaseKey})()}_initSupabaseAuthClient({autoRefreshToken:h,persistSession:c,detectSessionInUrl:m,storage:E,userStorage:T,storageKey:j,flowType:B,lock:q,debug:K,throwOnError:re},Ce,_e){return new dn({url:this.authUrl.href,headers:Object.assign(Object.assign({},{Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`}),Ce),storageKey:j,autoRefreshToken:h,persistSession:c,detectSessionInUrl:m,storage:E,userStorage:T,flowType:B,lock:q,debug:K,throwOnError:re,fetch:_e,hasCustomAuthorizationHeader:Object.keys(this.headers).some(Ge=>"authorization"===Ge.toLowerCase())})}_initRealtimeClient(h){return new en(this.realtimeUrl.href,Object.assign(Object.assign({},h),{params:Object.assign({apikey:this.supabaseKey},h?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((c,m)=>{this._handleTokenChanged(c,"CLIENT",m?.access_token)})}_handleTokenChanged(h,c,m){"TOKEN_REFRESHED"!==h&&"SIGNED_IN"!==h||this.changedAccessToken===m?"SIGNED_OUT"===h&&(this.realtime.setAuth(),"STORAGE"==c&&this.auth.signOut(),this.changedAccessToken=void 0):(this.changedAccessToken=m,this.realtime.setAuth(m))}}const Rn=(w,h,c)=>new jn(w,h,c);(function on(){if(typeof window<"u"||typeof process>"u")return!1;const w=process.version;if(null==w)return!1;const h=w.match(/^v(\d+)\./);return!!h&&parseInt(h[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")},4412:(at,ye,R)=>{"use strict";R.d(ye,{t:()=>O});var f=R(1413);class O extends f.B{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const P=super._subscribe(e);return!P.closed&&e.next(this._value),P}getValue(){const{hasError:e,thrownError:P,_value:W}=this;if(e)throw P;return this._throwIfClosed(),W}next(e){super.next(this._value=e)}}},1985:(at,ye,R)=>{"use strict";R.d(ye,{c:()=>Z});var f=R(7707),O=R(8359),de=R(3494),e=R(1203),P=R(1026),W=R(8071),F=R(9786);let Z=(()=>{class ve{constructor(De){De&&(this._subscribe=De)}lift(De){const H=new ve;return H.source=this,H.operator=De,H}subscribe(De,H,Q){const ce=function te(ve){return ve&&ve instanceof f.vU||function fe(ve){return ve&&(0,W.T)(ve.next)&&(0,W.T)(ve.error)&&(0,W.T)(ve.complete)}(ve)&&(0,O.Uv)(ve)}(De)?De:new f.Ms(De,H,Q);return(0,F.Y)(()=>{const{operator:me,source:Ve}=this;ce.add(me?me.call(ce,Ve):Ve?this._subscribe(ce):this._trySubscribe(ce))}),ce}_trySubscribe(De){try{return this._subscribe(De)}catch(H){De.error(H)}}forEach(De,H){return new(H=he(H))((Q,ce)=>{const me=new f.Ms({next:Ve=>{try{De(Ve)}catch(Ee){ce(Ee),me.unsubscribe()}},error:ce,complete:Q});this.subscribe(me)})}_subscribe(De){var H;return null===(H=this.source)||void 0===H?void 0:H.subscribe(De)}[de.s](){return this}pipe(...De){return(0,e.m)(De)(this)}toPromise(De){return new(De=he(De))((H,Q)=>{let ce;this.subscribe(me=>ce=me,me=>Q(me),()=>H(ce))})}}return ve.create=Fe=>new ve(Fe),ve})();function he(ve){var Fe;return null!==(Fe=ve??P.$.Promise)&&void 0!==Fe?Fe:Promise}},1413:(at,ye,R)=>{"use strict";R.d(ye,{B:()=>F});var f=R(1985),O=R(8359);const e=(0,R(1853).L)(he=>function(){he(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var P=R(7908),W=R(9786);let F=(()=>{class he extends f.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(te){const ve=new Z(this,this);return ve.operator=te,ve}_throwIfClosed(){if(this.closed)throw new e}next(te){(0,W.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ve of this.currentObservers)ve.next(te)}})}error(te){(0,W.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=te;const{observers:ve}=this;for(;ve.length;)ve.shift().error(te)}})}complete(){(0,W.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:te}=this;for(;te.length;)te.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var te;return(null===(te=this.observers)||void 0===te?void 0:te.length)>0}_trySubscribe(te){return this._throwIfClosed(),super._trySubscribe(te)}_subscribe(te){return this._throwIfClosed(),this._checkFinalizedStatuses(te),this._innerSubscribe(te)}_innerSubscribe(te){const{hasError:ve,isStopped:Fe,observers:De}=this;return ve||Fe?O.Kn:(this.currentObservers=null,De.push(te),new O.yU(()=>{this.currentObservers=null,(0,P.o)(De,te)}))}_checkFinalizedStatuses(te){const{hasError:ve,thrownError:Fe,isStopped:De}=this;ve?te.error(Fe):De&&te.complete()}asObservable(){const te=new f.c;return te.source=this,te}}return he.create=(fe,te)=>new Z(fe,te),he})();class Z extends F{constructor(fe,te){super(),this.destination=fe,this.source=te}next(fe){var te,ve;null===(ve=null===(te=this.destination)||void 0===te?void 0:te.next)||void 0===ve||ve.call(te,fe)}error(fe){var te,ve;null===(ve=null===(te=this.destination)||void 0===te?void 0:te.error)||void 0===ve||ve.call(te,fe)}complete(){var fe,te;null===(te=null===(fe=this.destination)||void 0===fe?void 0:fe.complete)||void 0===te||te.call(fe)}_subscribe(fe){var te,ve;return null!==(ve=null===(te=this.source)||void 0===te?void 0:te.subscribe(fe))&&void 0!==ve?ve:O.Kn}}},7707:(at,ye,R)=>{"use strict";R.d(ye,{Ms:()=>Q,vU:()=>ve});var f=R(8071),O=R(8359),de=R(1026),e=R(5334),P=R(5343);const W=he("C",void 0,void 0);function he(Oe,Le,nt){return{kind:Oe,value:Le,error:nt}}var fe=R(9270),te=R(9786);class ve extends O.yU{constructor(Le){super(),this.isStopped=!1,Le?(this.destination=Le,(0,O.Uv)(Le)&&Le.add(this)):this.destination=Ee}static create(Le,nt,ht){return new Q(Le,nt,ht)}next(Le){this.isStopped?Ve(function Z(Oe){return he("N",Oe,void 0)}(Le),this):this._next(Le)}error(Le){this.isStopped?Ve(function F(Oe){return he("E",void 0,Oe)}(Le),this):(this.isStopped=!0,this._error(Le))}complete(){this.isStopped?Ve(W,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Le){this.destination.next(Le)}_error(Le){try{this.destination.error(Le)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Fe=Function.prototype.bind;function De(Oe,Le){return Fe.call(Oe,Le)}class H{constructor(Le){this.partialObserver=Le}next(Le){const{partialObserver:nt}=this;if(nt.next)try{nt.next(Le)}catch(ht){ce(ht)}}error(Le){const{partialObserver:nt}=this;if(nt.error)try{nt.error(Le)}catch(ht){ce(ht)}else ce(Le)}complete(){const{partialObserver:Le}=this;if(Le.complete)try{Le.complete()}catch(nt){ce(nt)}}}class Q extends ve{constructor(Le,nt,ht){let Ye;if(super(),(0,f.T)(Le)||!Le)Ye={next:Le??void 0,error:nt??void 0,complete:ht??void 0};else{let Ze;this&&de.$.useDeprecatedNextContext?(Ze=Object.create(Le),Ze.unsubscribe=()=>this.unsubscribe(),Ye={next:Le.next&&De(Le.next,Ze),error:Le.error&&De(Le.error,Ze),complete:Le.complete&&De(Le.complete,Ze)}):Ye=Le}this.destination=new H(Ye)}}function ce(Oe){de.$.useDeprecatedSynchronousErrorHandling?(0,te.l)(Oe):(0,e.m)(Oe)}function Ve(Oe,Le){const{onStoppedNotification:nt}=de.$;nt&&fe.f.setTimeout(()=>nt(Oe,Le))}const Ee={closed:!0,next:P.l,error:function me(Oe){throw Oe},complete:P.l}},8359:(at,ye,R)=>{"use strict";R.d(ye,{Kn:()=>W,yU:()=>P,Uv:()=>F});var f=R(8071);const de=(0,R(1853).L)(he=>function(te){he(this),this.message=te?`${te.length} errors occurred during unsubscription:\n${te.map((ve,Fe)=>`${Fe+1}) ${ve.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=te});var e=R(7908);class P{constructor(fe){this.initialTeardown=fe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let fe;if(!this.closed){this.closed=!0;const{_parentage:te}=this;if(te)if(this._parentage=null,Array.isArray(te))for(const De of te)De.remove(this);else te.remove(this);const{initialTeardown:ve}=this;if((0,f.T)(ve))try{ve()}catch(De){fe=De instanceof de?De.errors:[De]}const{_finalizers:Fe}=this;if(Fe){this._finalizers=null;for(const De of Fe)try{Z(De)}catch(H){fe=fe??[],H instanceof de?fe=[...fe,...H.errors]:fe.push(H)}}if(fe)throw new de(fe)}}add(fe){var te;if(fe&&fe!==this)if(this.closed)Z(fe);else{if(fe instanceof P){if(fe.closed||fe._hasParent(this))return;fe._addParent(this)}(this._finalizers=null!==(te=this._finalizers)&&void 0!==te?te:[]).push(fe)}}_hasParent(fe){const{_parentage:te}=this;return te===fe||Array.isArray(te)&&te.includes(fe)}_addParent(fe){const{_parentage:te}=this;this._parentage=Array.isArray(te)?(te.push(fe),te):te?[te,fe]:fe}_removeParent(fe){const{_parentage:te}=this;te===fe?this._parentage=null:Array.isArray(te)&&(0,e.o)(te,fe)}remove(fe){const{_finalizers:te}=this;te&&(0,e.o)(te,fe),fe instanceof P&&fe._removeParent(this)}}P.EMPTY=(()=>{const he=new P;return he.closed=!0,he})();const W=P.EMPTY;function F(he){return he instanceof P||he&&"closed"in he&&(0,f.T)(he.remove)&&(0,f.T)(he.add)&&(0,f.T)(he.unsubscribe)}function Z(he){(0,f.T)(he)?he():he.unsubscribe()}},1026:(at,ye,R)=>{"use strict";R.d(ye,{$:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(at,ye,R)=>{"use strict";R.d(ye,{z:()=>fe});var f=R(1985),O=R(3073),de=R(6648),e=R(3669),P=R(6450),W=R(3794),F=R(8496),Z=R(4360),he=R(5225);function fe(...Fe){const De=(0,W.lI)(Fe),H=(0,W.ms)(Fe),{args:Q,keys:ce}=(0,O.D)(Fe);if(0===Q.length)return(0,de.H)([],De);const me=new f.c(function te(Fe,De,H=e.D){return Q=>{ve(De,()=>{const{length:ce}=Fe,me=new Array(ce);let Ve=ce,Ee=ce;for(let Oe=0;Oe<ce;Oe++)ve(De,()=>{const Le=(0,de.H)(Fe[Oe],De);let nt=!1;Le.subscribe((0,Z._)(Q,ht=>{me[Oe]=ht,nt||(nt=!0,Ee--),Ee||Q.next(H(me.slice()))},()=>{--Ve||Q.complete()}))},Q)},Q)}}(Q,De,ce?Ve=>(0,F.e)(ce,Ve):e.D));return H?me.pipe((0,P.I)(H)):me}function ve(Fe,De,H){Fe?(0,he.N)(H,Fe,De):De()}},8793:(at,ye,R)=>{"use strict";R.d(ye,{x:()=>P});var f=R(6365),de=R(3794),e=R(6648);function P(...W){return function O(){return(0,f.U)(1)}()((0,e.H)(W,(0,de.lI)(W)))}},9030:(at,ye,R)=>{"use strict";R.d(ye,{v:()=>de});var f=R(1985),O=R(8750);function de(e){return new f.c(P=>{(0,O.Tg)(e()).subscribe(P)})}},983:(at,ye,R)=>{"use strict";R.d(ye,{w:()=>O});const O=new(R(1985).c)(P=>P.complete())},7468:(at,ye,R)=>{"use strict";R.d(ye,{p:()=>Z});var f=R(1985),O=R(3073),de=R(8750),e=R(3794),P=R(4360),W=R(6450),F=R(8496);function Z(...he){const fe=(0,e.ms)(he),{args:te,keys:ve}=(0,O.D)(he),Fe=new f.c(De=>{const{length:H}=te;if(!H)return void De.complete();const Q=new Array(H);let ce=H,me=H;for(let Ve=0;Ve<H;Ve++){let Ee=!1;(0,de.Tg)(te[Ve]).subscribe((0,P._)(De,Oe=>{Ee||(Ee=!0,me--),Q[Ve]=Oe},()=>ce--,void 0,()=>{(!ce||!Ee)&&(me||De.next(ve?(0,F.e)(ve,Q):Q),De.complete())}))}});return fe?Fe.pipe((0,W.I)(fe)):Fe}},6648:(at,ye,R)=>{"use strict";R.d(ye,{H:()=>ht});var f=R(8750),O=R(5225),de=R(9974),e=R(4360);function P(Ye,Ze=0){return(0,de.N)((Je,yt)=>{Je.subscribe((0,e._)(yt,Re=>(0,O.N)(yt,Ye,()=>yt.next(Re),Ze),()=>(0,O.N)(yt,Ye,()=>yt.complete(),Ze),Re=>(0,O.N)(yt,Ye,()=>yt.error(Re),Ze)))})}function W(Ye,Ze=0){return(0,de.N)((Je,yt)=>{yt.add(Ye.schedule(()=>Je.subscribe(yt),Ze))})}var he=R(1985),te=R(4761),ve=R(8071);function De(Ye,Ze){if(!Ye)throw new Error("Iterable cannot be null");return new he.c(Je=>{(0,O.N)(Je,Ze,()=>{const yt=Ye[Symbol.asyncIterator]();(0,O.N)(Je,Ze,()=>{yt.next().then(Re=>{Re.done?Je.complete():Je.next(Re.value)})},0,!0)})})}var H=R(5055),Q=R(9858),ce=R(7441),me=R(5397),Ve=R(7953),Ee=R(591),Oe=R(5196);function ht(Ye,Ze){return Ze?function nt(Ye,Ze){if(null!=Ye){if((0,H.l)(Ye))return function F(Ye,Ze){return(0,f.Tg)(Ye).pipe(W(Ze),P(Ze))}(Ye,Ze);if((0,ce.X)(Ye))return function fe(Ye,Ze){return new he.c(Je=>{let yt=0;return Ze.schedule(function(){yt===Ye.length?Je.complete():(Je.next(Ye[yt++]),Je.closed||this.schedule())})})}(Ye,Ze);if((0,Q.y)(Ye))return function Z(Ye,Ze){return(0,f.Tg)(Ye).pipe(W(Ze),P(Ze))}(Ye,Ze);if((0,Ve.T)(Ye))return De(Ye,Ze);if((0,me.x)(Ye))return function Fe(Ye,Ze){return new he.c(Je=>{let yt;return(0,O.N)(Je,Ze,()=>{yt=Ye[te.l](),(0,O.N)(Je,Ze,()=>{let Re,pt;try{({value:Re,done:pt}=yt.next())}catch(qe){return void Je.error(qe)}pt?Je.complete():Je.next(Re)},0,!0)}),()=>(0,ve.T)(yt?.return)&&yt.return()})}(Ye,Ze);if((0,Oe.U)(Ye))return function Le(Ye,Ze){return De((0,Oe.C)(Ye),Ze)}(Ye,Ze)}throw(0,Ee.L)(Ye)}(Ye,Ze):(0,f.Tg)(Ye)}},8750:(at,ye,R)=>{"use strict";R.d(ye,{Tg:()=>Fe});var f=R(1635),O=R(7441),de=R(9858),e=R(1985),P=R(5055),W=R(7953),F=R(591),Z=R(5397),he=R(5196),fe=R(8071),te=R(5334),ve=R(3494);function Fe(Oe){if(Oe instanceof e.c)return Oe;if(null!=Oe){if((0,P.l)(Oe))return function De(Oe){return new e.c(Le=>{const nt=Oe[ve.s]();if((0,fe.T)(nt.subscribe))return nt.subscribe(Le);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Oe);if((0,O.X)(Oe))return function H(Oe){return new e.c(Le=>{for(let nt=0;nt<Oe.length&&!Le.closed;nt++)Le.next(Oe[nt]);Le.complete()})}(Oe);if((0,de.y)(Oe))return function Q(Oe){return new e.c(Le=>{Oe.then(nt=>{Le.closed||(Le.next(nt),Le.complete())},nt=>Le.error(nt)).then(null,te.m)})}(Oe);if((0,W.T)(Oe))return me(Oe);if((0,Z.x)(Oe))return function ce(Oe){return new e.c(Le=>{for(const nt of Oe)if(Le.next(nt),Le.closed)return;Le.complete()})}(Oe);if((0,he.U)(Oe))return function Ve(Oe){return me((0,he.C)(Oe))}(Oe)}throw(0,F.L)(Oe)}function me(Oe){return new e.c(Le=>{(function Ee(Oe,Le){var nt,ht,Ye,Ze;return(0,f.__awaiter)(this,void 0,void 0,function*(){try{for(nt=(0,f.__asyncValues)(Oe);!(ht=yield nt.next()).done;)if(Le.next(ht.value),Le.closed)return}catch(Je){Ye={error:Je}}finally{try{ht&&!ht.done&&(Ze=nt.return)&&(yield Ze.call(nt))}finally{if(Ye)throw Ye.error}}Le.complete()})})(Oe,Le).catch(nt=>Le.error(nt))})}},7673:(at,ye,R)=>{"use strict";R.d(ye,{of:()=>de});var f=R(3794),O=R(6648);function de(...e){const P=(0,f.lI)(e);return(0,O.H)(e,P)}},8810:(at,ye,R)=>{"use strict";R.d(ye,{$:()=>de});var f=R(1985),O=R(8071);function de(e,P){const W=(0,O.T)(e)?e:()=>e,F=Z=>Z.error(W());return new f.c(P?Z=>P.schedule(F,0,Z):F)}},4360:(at,ye,R)=>{"use strict";R.d(ye,{_:()=>O});var f=R(7707);function O(e,P,W,F,Z){return new de(e,P,W,F,Z)}class de extends f.vU{constructor(P,W,F,Z,he,fe){super(P),this.onFinalize=he,this.shouldUnsubscribe=fe,this._next=W?function(te){try{W(te)}catch(ve){P.error(ve)}}:super._next,this._error=Z?function(te){try{Z(te)}catch(ve){P.error(ve)}finally{this.unsubscribe()}}:super._error,this._complete=F?function(){try{F()}catch(te){P.error(te)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var P;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:W}=this;super.unsubscribe(),!W&&(null===(P=this.onFinalize)||void 0===P||P.call(this))}}}},9437:(at,ye,R)=>{"use strict";R.d(ye,{W:()=>e});var f=R(8750),O=R(4360),de=R(9974);function e(P){return(0,de.N)((W,F)=>{let fe,Z=null,he=!1;Z=W.subscribe((0,O._)(F,void 0,void 0,te=>{fe=(0,f.Tg)(P(te,e(P)(W))),Z?(Z.unsubscribe(),Z=null,fe.subscribe(F)):he=!0})),he&&(Z.unsubscribe(),Z=null,fe.subscribe(F))})}},274:(at,ye,R)=>{"use strict";R.d(ye,{H:()=>de});var f=R(1397),O=R(8071);function de(e,P){return(0,O.T)(P)?(0,f.Z)(e,P,1):(0,f.Z)(e,1)}},9901:(at,ye,R)=>{"use strict";R.d(ye,{U:()=>de});var f=R(9974),O=R(4360);function de(e){return(0,f.N)((P,W)=>{let F=!1;P.subscribe((0,O._)(W,Z=>{F=!0,W.next(Z)},()=>{F||W.next(e),W.complete()}))})}},5964:(at,ye,R)=>{"use strict";R.d(ye,{p:()=>de});var f=R(9974),O=R(4360);function de(e,P){return(0,f.N)((W,F)=>{let Z=0;W.subscribe((0,O._)(F,he=>e.call(P,he,Z++)&&F.next(he)))})}},980:(at,ye,R)=>{"use strict";R.d(ye,{j:()=>O});var f=R(9974);function O(de){return(0,f.N)((e,P)=>{try{e.subscribe(P)}finally{P.add(de)}})}},1594:(at,ye,R)=>{"use strict";R.d(ye,{$:()=>F});var f=R(9350),O=R(5964),de=R(6697),e=R(9901),P=R(3774),W=R(3669);function F(Z,he){const fe=arguments.length>=2;return te=>te.pipe(Z?(0,O.p)((ve,Fe)=>Z(ve,Fe,te)):W.D,(0,de.s)(1),fe?(0,e.U)(he):(0,P.v)(()=>new f.G))}},6354:(at,ye,R)=>{"use strict";R.d(ye,{T:()=>de});var f=R(9974),O=R(4360);function de(e,P){return(0,f.N)((W,F)=>{let Z=0;W.subscribe((0,O._)(F,he=>{F.next(e.call(P,he,Z++))}))})}},6365:(at,ye,R)=>{"use strict";R.d(ye,{U:()=>de});var f=R(1397),O=R(3669);function de(e=1/0){return(0,f.Z)(O.D,e)}},1397:(at,ye,R)=>{"use strict";R.d(ye,{Z:()=>Z});var f=R(6354),O=R(8750),de=R(9974),e=R(5225),P=R(4360),F=R(8071);function Z(he,fe,te=1/0){return(0,F.T)(fe)?Z((ve,Fe)=>(0,f.T)((De,H)=>fe(ve,De,Fe,H))((0,O.Tg)(he(ve,Fe))),te):("number"==typeof fe&&(te=fe),(0,de.N)((ve,Fe)=>function W(he,fe,te,ve,Fe,De,H,Q){const ce=[];let me=0,Ve=0,Ee=!1;const Oe=()=>{Ee&&!ce.length&&!me&&fe.complete()},Le=ht=>me<ve?nt(ht):ce.push(ht),nt=ht=>{De&&fe.next(ht),me++;let Ye=!1;(0,O.Tg)(te(ht,Ve++)).subscribe((0,P._)(fe,Ze=>{Fe?.(Ze),De?Le(Ze):fe.next(Ze)},()=>{Ye=!0},void 0,()=>{if(Ye)try{for(me--;ce.length&&me<ve;){const Ze=ce.shift();H?(0,e.N)(fe,H,()=>nt(Ze)):nt(Ze)}Oe()}catch(Ze){fe.error(Ze)}}))};return he.subscribe((0,P._)(fe,Le,()=>{Ee=!0,Oe()})),()=>{Q?.()}}(ve,Fe,he,te)))}},1943:(at,ye,R)=>{"use strict";R.d(ye,{S:()=>de});var f=R(9974),O=R(6649);function de(e,P){return(0,f.N)((0,O.S)(e,P,arguments.length>=2,!0))}},6649:(at,ye,R)=>{"use strict";R.d(ye,{S:()=>O});var f=R(4360);function O(de,e,P,W,F){return(Z,he)=>{let fe=P,te=e,ve=0;Z.subscribe((0,f._)(he,Fe=>{const De=ve++;te=fe?de(te,Fe,De):(fe=!0,Fe),W&&he.next(te)},F&&(()=>{fe&&he.next(te),he.complete()})))}}},253:(at,ye,R)=>{"use strict";R.d(ye,{t:()=>he});var f=R(1413),O=R(6129);class de extends f.B{constructor(te=1/0,ve=1/0,Fe=O.U){super(),this._bufferSize=te,this._windowTime=ve,this._timestampProvider=Fe,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ve===1/0,this._bufferSize=Math.max(1,te),this._windowTime=Math.max(1,ve)}next(te){const{isStopped:ve,_buffer:Fe,_infiniteTimeWindow:De,_timestampProvider:H,_windowTime:Q}=this;ve||(Fe.push(te),!De&&Fe.push(H.now()+Q)),this._trimBuffer(),super.next(te)}_subscribe(te){this._throwIfClosed(),this._trimBuffer();const ve=this._innerSubscribe(te),{_infiniteTimeWindow:Fe,_buffer:De}=this,H=De.slice();for(let Q=0;Q<H.length&&!te.closed;Q+=Fe?1:2)te.next(H[Q]);return this._checkFinalizedStatuses(te),ve}_trimBuffer(){const{_bufferSize:te,_timestampProvider:ve,_buffer:Fe,_infiniteTimeWindow:De}=this,H=(De?1:2)*te;if(te<1/0&&H<Fe.length&&Fe.splice(0,Fe.length-H),!De){const Q=ve.now();let ce=0;for(let me=1;me<Fe.length&&Fe[me]<=Q;me+=2)ce=me;ce&&Fe.splice(0,ce+1)}}}var e=R(8750),P=R(7707),W=R(9974);function Z(fe,te,...ve){if(!0===te)return void fe();if(!1===te)return;const Fe=new P.Ms({next:()=>{Fe.unsubscribe(),fe()}});return(0,e.Tg)(te(...ve)).subscribe(Fe)}function he(fe,te,ve){let Fe,De=!1;return fe&&"object"==typeof fe?({bufferSize:Fe=1/0,windowTime:te=1/0,refCount:De=!1,scheduler:ve}=fe):Fe=fe??1/0,function F(fe={}){const{connector:te=()=>new f.B,resetOnError:ve=!0,resetOnComplete:Fe=!0,resetOnRefCountZero:De=!0}=fe;return H=>{let Q,ce,me,Ve=0,Ee=!1,Oe=!1;const Le=()=>{ce?.unsubscribe(),ce=void 0},nt=()=>{Le(),Q=me=void 0,Ee=Oe=!1},ht=()=>{const Ye=Q;nt(),Ye?.unsubscribe()};return(0,W.N)((Ye,Ze)=>{Ve++,!Oe&&!Ee&&Le();const Je=me=me??te();Ze.add(()=>{Ve--,0===Ve&&!Oe&&!Ee&&(ce=Z(ht,De))}),Je.subscribe(Ze),!Q&&Ve>0&&(Q=new P.Ms({next:yt=>Je.next(yt),error:yt=>{Oe=!0,Le(),ce=Z(nt,ve,yt),Je.error(yt)},complete:()=>{Ee=!0,Le(),ce=Z(nt,Fe),Je.complete()}}),(0,e.Tg)(Ye).subscribe(Q))})(H)}}({connector:()=>new de(Fe,te,ve),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:De})}},9172:(at,ye,R)=>{"use strict";R.d(ye,{Z:()=>e});var f=R(8793),O=R(3794),de=R(9974);function e(...P){const W=(0,O.lI)(P);return(0,de.N)((F,Z)=>{(W?(0,f.x)(P,F,W):(0,f.x)(P,F)).subscribe(Z)})}},5558:(at,ye,R)=>{"use strict";R.d(ye,{n:()=>e});var f=R(8750),O=R(9974),de=R(4360);function e(P,W){return(0,O.N)((F,Z)=>{let he=null,fe=0,te=!1;const ve=()=>te&&!he&&Z.complete();F.subscribe((0,de._)(Z,Fe=>{he?.unsubscribe();let De=0;const H=fe++;(0,f.Tg)(P(Fe,H)).subscribe(he=(0,de._)(Z,Q=>Z.next(W?W(Fe,Q,H,De++):Q),()=>{he=null,ve()}))},()=>{te=!0,ve()}))})}},6697:(at,ye,R)=>{"use strict";R.d(ye,{s:()=>e});var f=R(983),O=R(9974),de=R(4360);function e(P){return P<=0?()=>f.w:(0,O.N)((W,F)=>{let Z=0;W.subscribe((0,de._)(F,he=>{++Z<=P&&(F.next(he),P<=Z&&F.complete())}))})}},6977:(at,ye,R)=>{"use strict";R.d(ye,{Q:()=>P});var f=R(9974),O=R(4360),de=R(8750),e=R(5343);function P(W){return(0,f.N)((F,Z)=>{(0,de.Tg)(W).subscribe((0,O._)(Z,()=>Z.complete(),e.l)),!Z.closed&&F.subscribe(Z)})}},8141:(at,ye,R)=>{"use strict";R.d(ye,{M:()=>P});var f=R(8071),O=R(9974),de=R(4360),e=R(3669);function P(W,F,Z){const he=(0,f.T)(W)||F||Z?{next:W,error:F,complete:Z}:W;return he?(0,O.N)((fe,te)=>{var ve;null===(ve=he.subscribe)||void 0===ve||ve.call(he);let Fe=!0;fe.subscribe((0,de._)(te,De=>{var H;null===(H=he.next)||void 0===H||H.call(he,De),te.next(De)},()=>{var De;Fe=!1,null===(De=he.complete)||void 0===De||De.call(he),te.complete()},De=>{var H;Fe=!1,null===(H=he.error)||void 0===H||H.call(he,De),te.error(De)},()=>{var De,H;Fe&&(null===(De=he.unsubscribe)||void 0===De||De.call(he)),null===(H=he.finalize)||void 0===H||H.call(he)}))}):e.D}},3774:(at,ye,R)=>{"use strict";R.d(ye,{v:()=>e});var f=R(9350),O=R(9974),de=R(4360);function e(W=P){return(0,O.N)((F,Z)=>{let he=!1;F.subscribe((0,de._)(Z,fe=>{he=!0,Z.next(fe)},()=>he?Z.complete():Z.error(W())))})}function P(){return new f.G}},6129:(at,ye,R)=>{"use strict";R.d(ye,{U:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},9270:(at,ye,R)=>{"use strict";R.d(ye,{f:()=>f});const f={setTimeout(O,de,...e){const{delegate:P}=f;return P?.setTimeout?P.setTimeout(O,de,...e):setTimeout(O,de,...e)},clearTimeout(O){const{delegate:de}=f;return(de?.clearTimeout||clearTimeout)(O)},delegate:void 0}},4761:(at,ye,R)=>{"use strict";R.d(ye,{l:()=>O});const O=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(at,ye,R)=>{"use strict";R.d(ye,{s:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(at,ye,R)=>{"use strict";R.d(ye,{G:()=>O});const O=(0,R(1853).L)(de=>function(){de(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(at,ye,R)=>{"use strict";R.d(ye,{R0:()=>W,ms:()=>e,lI:()=>P});var f=R(8071);function de(F){return F[F.length-1]}function e(F){return(0,f.T)(de(F))?F.pop():void 0}function P(F){return function O(F){return F&&(0,f.T)(F.schedule)}(de(F))?F.pop():void 0}function W(F,Z){return"number"==typeof de(F)?F.pop():Z}},3073:(at,ye,R)=>{"use strict";R.d(ye,{D:()=>P});const{isArray:f}=Array,{getPrototypeOf:O,prototype:de,keys:e}=Object;function P(F){if(1===F.length){const Z=F[0];if(f(Z))return{args:Z,keys:null};if(function W(F){return F&&"object"==typeof F&&O(F)===de}(Z)){const he=e(Z);return{args:he.map(fe=>Z[fe]),keys:he}}}return{args:F,keys:null}}},7908:(at,ye,R)=>{"use strict";function f(O,de){if(O){const e=O.indexOf(de);0<=e&&O.splice(e,1)}}R.d(ye,{o:()=>f})},1853:(at,ye,R)=>{"use strict";function f(O){const e=O(P=>{Error.call(P),P.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}R.d(ye,{L:()=>f})},8496:(at,ye,R)=>{"use strict";function f(O,de){return O.reduce((e,P,W)=>(e[P]=de[W],e),{})}R.d(ye,{e:()=>f})},9786:(at,ye,R)=>{"use strict";R.d(ye,{Y:()=>de,l:()=>e});var f=R(1026);let O=null;function de(P){if(f.$.useDeprecatedSynchronousErrorHandling){const W=!O;if(W&&(O={errorThrown:!1,error:null}),P(),W){const{errorThrown:F,error:Z}=O;if(O=null,F)throw Z}}else P()}function e(P){f.$.useDeprecatedSynchronousErrorHandling&&O&&(O.errorThrown=!0,O.error=P)}},5225:(at,ye,R)=>{"use strict";function f(O,de,e,P=0,W=!1){const F=de.schedule(function(){e(),W?O.add(this.schedule(null,P)):this.unsubscribe()},P);if(O.add(F),!W)return F}R.d(ye,{N:()=>f})},3669:(at,ye,R)=>{"use strict";function f(O){return O}R.d(ye,{D:()=>f})},7441:(at,ye,R)=>{"use strict";R.d(ye,{X:()=>f});const f=O=>O&&"number"==typeof O.length&&"function"!=typeof O},7953:(at,ye,R)=>{"use strict";R.d(ye,{T:()=>O});var f=R(8071);function O(de){return Symbol.asyncIterator&&(0,f.T)(de?.[Symbol.asyncIterator])}},8071:(at,ye,R)=>{"use strict";function f(O){return"function"==typeof O}R.d(ye,{T:()=>f})},5055:(at,ye,R)=>{"use strict";R.d(ye,{l:()=>de});var f=R(3494),O=R(8071);function de(e){return(0,O.T)(e[f.s])}},5397:(at,ye,R)=>{"use strict";R.d(ye,{x:()=>de});var f=R(4761),O=R(8071);function de(e){return(0,O.T)(e?.[f.l])}},9858:(at,ye,R)=>{"use strict";R.d(ye,{y:()=>O});var f=R(8071);function O(de){return(0,f.T)(de?.then)}},5196:(at,ye,R)=>{"use strict";R.d(ye,{C:()=>de,U:()=>e});var f=R(1635),O=R(8071);function de(P){return(0,f.__asyncGenerator)(this,arguments,function*(){const F=P.getReader();try{for(;;){const{value:Z,done:he}=yield(0,f.__await)(F.read());if(he)return yield(0,f.__await)(void 0);yield yield(0,f.__await)(Z)}}finally{F.releaseLock()}})}function e(P){return(0,O.T)(P?.getReader)}},9974:(at,ye,R)=>{"use strict";R.d(ye,{N:()=>de,S:()=>O});var f=R(8071);function O(e){return(0,f.T)(e?.lift)}function de(e){return P=>{if(O(P))return P.lift(function(W){try{return e(W,this)}catch(F){this.error(F)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(at,ye,R)=>{"use strict";R.d(ye,{I:()=>e});var f=R(6354);const{isArray:O}=Array;function e(P){return(0,f.T)(W=>function de(P,W){return O(W)?P(...W):P(W)}(P,W))}},5343:(at,ye,R)=>{"use strict";function f(){}R.d(ye,{l:()=>f})},1203:(at,ye,R)=>{"use strict";R.d(ye,{F:()=>O,m:()=>de});var f=R(3669);function O(...e){return de(e)}function de(e){return 0===e.length?f.D:1===e.length?e[0]:function(W){return e.reduce((F,Z)=>Z(F),W)}}},5334:(at,ye,R)=>{"use strict";R.d(ye,{m:()=>de});var f=R(1026),O=R(9270);function de(e){O.f.setTimeout(()=>{const{onUnhandledError:P}=f.$;if(!P)throw e;P(e)})}},591:(at,ye,R)=>{"use strict";function f(O){return new TypeError(`You provided ${null!==O&&"object"==typeof O?"an invalid object":`'${O}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(ye,{L:()=>f})},9293:at=>{function ye(f,O,de,e,P,W,F){try{var Z=f[W](F),he=Z.value}catch(fe){return void de(fe)}Z.done?O(he):Promise.resolve(he).then(e,P)}at.exports=function R(f){return function(){var O=this,de=arguments;return new Promise(function(e,P){var W=f.apply(O,de);function F(he){ye(W,e,P,F,Z,"next",he)}function Z(he){ye(W,e,P,F,Z,"throw",he)}F(void 0)})}},at.exports.__esModule=!0,at.exports.default=at.exports},177:(at,ye,R)=>{"use strict";R.d(ye,{AJ:()=>Sr,GH:()=>Zi,Jj:()=>_i,MD:()=>Ai,N0:()=>Ri,PV:()=>es,Pc:()=>Ts,QT:()=>de,Sm:()=>Q,Sq:()=>ee,T3:()=>Gn,UE:()=>oi,VF:()=>P,Vy:()=>As,Xr:()=>_s,YU:()=>ms,ZD:()=>e,_b:()=>jr,aZ:()=>me,bT:()=>et,e1:()=>un,fG:()=>Ke,fw:()=>ce,hb:()=>De,hj:()=>he,oe:()=>xr,qQ:()=>F,ux:()=>bn,vh:()=>_o});var f=R(4438);let O=null;function de(){return O}function e(_){O??=_}class P{}const F=new f.nKC("");let Z=(()=>{class _{historyGo(I){throw new Error("")}static{this.\u0275fac=function(V){return new(V||_)}}static{this.\u0275prov=f.jDH({token:_,factory:()=>(0,f.WQX)(fe),providedIn:"platform"})}}return _})();const he=new f.nKC("");let fe=(()=>{class _ extends Z{constructor(){super(),this._doc=(0,f.WQX)(F),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return de().getBaseHref(this._doc)}onPopState(I){const V=de().getGlobalEventTarget(this._doc,"window");return V.addEventListener("popstate",I,!1),()=>V.removeEventListener("popstate",I)}onHashChange(I){const V=de().getGlobalEventTarget(this._doc,"window");return V.addEventListener("hashchange",I,!1),()=>V.removeEventListener("hashchange",I)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(I){this._location.pathname=I}pushState(I,V,ne){this._history.pushState(I,V,ne)}replaceState(I,V,ne){this._history.replaceState(I,V,ne)}forward(){this._history.forward()}back(){this._history.back()}historyGo(I=0){this._history.go(I)}getState(){return this._history.state}static{this.\u0275fac=function(V){return new(V||_)}}static{this.\u0275prov=f.jDH({token:_,factory:()=>new _,providedIn:"platform"})}}return _})();function te(_,U){if(0==_.length)return U;if(0==U.length)return _;let I=0;return _.endsWith("/")&&I++,U.startsWith("/")&&I++,2==I?_+U.substring(1):1==I?_+U:_+"/"+U}function ve(_){const U=_.match(/#|\?|$/),I=U&&U.index||_.length;return _.slice(0,I-("/"===_[I-1]?1:0))+_.slice(I)}function Fe(_){return _&&"?"!==_[0]?"?"+_:_}let De=(()=>{class _{historyGo(I){throw new Error("")}static{this.\u0275fac=function(V){return new(V||_)}}static{this.\u0275prov=f.jDH({token:_,factory:()=>(0,f.WQX)(Q),providedIn:"root"})}}return _})();const H=new f.nKC("");let Q=(()=>{class _ extends De{constructor(I,V){super(),this._platformLocation=I,this._removeListenerFns=[],this._baseHref=V??this._platformLocation.getBaseHrefFromDOM()??(0,f.WQX)(F).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(I){this._removeListenerFns.push(this._platformLocation.onPopState(I),this._platformLocation.onHashChange(I))}getBaseHref(){return this._baseHref}prepareExternalUrl(I){return te(this._baseHref,I)}path(I=!1){const V=this._platformLocation.pathname+Fe(this._platformLocation.search),ne=this._platformLocation.hash;return ne&&I?`${V}${ne}`:V}pushState(I,V,ne,Ae){const Be=this.prepareExternalUrl(ne+Fe(Ae));this._platformLocation.pushState(I,V,Be)}replaceState(I,V,ne,Ae){const Be=this.prepareExternalUrl(ne+Fe(Ae));this._platformLocation.replaceState(I,V,Be)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(I=0){this._platformLocation.historyGo?.(I)}static{this.\u0275fac=function(V){return new(V||_)(f.KVO(Z),f.KVO(H,8))}}static{this.\u0275prov=f.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})(),ce=(()=>{class _ extends De{constructor(I,V){super(),this._platformLocation=I,this._baseHref="",this._removeListenerFns=[],null!=V&&(this._baseHref=V)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(I){this._removeListenerFns.push(this._platformLocation.onPopState(I),this._platformLocation.onHashChange(I))}getBaseHref(){return this._baseHref}path(I=!1){const V=this._platformLocation.hash??"#";return V.length>0?V.substring(1):V}prepareExternalUrl(I){const V=te(this._baseHref,I);return V.length>0?"#"+V:V}pushState(I,V,ne,Ae){let Be=this.prepareExternalUrl(ne+Fe(Ae));0==Be.length&&(Be=this._platformLocation.pathname),this._platformLocation.pushState(I,V,Be)}replaceState(I,V,ne,Ae){let Be=this.prepareExternalUrl(ne+Fe(Ae));0==Be.length&&(Be=this._platformLocation.pathname),this._platformLocation.replaceState(I,V,Be)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(I=0){this._platformLocation.historyGo?.(I)}static{this.\u0275fac=function(V){return new(V||_)(f.KVO(Z),f.KVO(H,8))}}static{this.\u0275prov=f.jDH({token:_,factory:_.\u0275fac})}}return _})(),me=(()=>{class _{constructor(I){this._subject=new f.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=I;const V=this._locationStrategy.getBaseHref();this._basePath=function Le(_){if(new RegExp("^(https?:)?//").test(_)){const[,I]=_.split(/\/\/[^\/]+/);return I}return _}(ve(Oe(V))),this._locationStrategy.onPopState(ne=>{this._subject.emit({url:this.path(!0),pop:!0,state:ne.state,type:ne.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(I=!1){return this.normalize(this._locationStrategy.path(I))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(I,V=""){return this.path()==this.normalize(I+Fe(V))}normalize(I){return _.stripTrailingSlash(function Ee(_,U){if(!_||!U.startsWith(_))return U;const I=U.substring(_.length);return""===I||["/",";","?","#"].includes(I[0])?I:U}(this._basePath,Oe(I)))}prepareExternalUrl(I){return I&&"/"!==I[0]&&(I="/"+I),this._locationStrategy.prepareExternalUrl(I)}go(I,V="",ne=null){this._locationStrategy.pushState(ne,"",I,V),this._notifyUrlChangeListeners(this.prepareExternalUrl(I+Fe(V)),ne)}replaceState(I,V="",ne=null){this._locationStrategy.replaceState(ne,"",I,V),this._notifyUrlChangeListeners(this.prepareExternalUrl(I+Fe(V)),ne)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(I=0){this._locationStrategy.historyGo?.(I)}onUrlChange(I){return this._urlChangeListeners.push(I),this._urlChangeSubscription??=this.subscribe(V=>{this._notifyUrlChangeListeners(V.url,V.state)}),()=>{const V=this._urlChangeListeners.indexOf(I);this._urlChangeListeners.splice(V,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(I="",V){this._urlChangeListeners.forEach(ne=>ne(I,V))}subscribe(I,V,ne){return this._subject.subscribe({next:I,error:V,complete:ne})}static{this.normalizeQueryParams=Fe}static{this.joinWithSlash=te}static{this.stripTrailingSlash=ve}static{this.\u0275fac=function(V){return new(V||_)(f.KVO(De))}}static{this.\u0275prov=f.jDH({token:_,factory:()=>function Ve(){return new me((0,f.KVO)(De))}(),providedIn:"root"})}}return _})();function Oe(_){return _.replace(/\/index.html$/,"")}const nt={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var ht=function(_){return _[_.Decimal=0]="Decimal",_[_.Percent=1]="Percent",_[_.Currency=2]="Currency",_[_.Scientific=3]="Scientific",_}(ht||{}),Ze=function(_){return _[_.Format=0]="Format",_[_.Standalone=1]="Standalone",_}(Ze||{}),Je=function(_){return _[_.Narrow=0]="Narrow",_[_.Abbreviated=1]="Abbreviated",_[_.Wide=2]="Wide",_[_.Short=3]="Short",_}(Je||{}),yt=function(_){return _[_.Short=0]="Short",_[_.Medium=1]="Medium",_[_.Long=2]="Long",_[_.Full=3]="Full",_}(yt||{});const Re={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Se(_,U){return Zt((0,f.H5H)(_)[f.KH2.DateFormat],U)}function ke(_,U){return Zt((0,f.H5H)(_)[f.KH2.TimeFormat],U)}function Ne(_,U){return Zt((0,f.H5H)(_)[f.KH2.DateTimeFormat],U)}function Me(_,U){const I=(0,f.H5H)(_),V=I[f.KH2.NumberSymbols][U];if(typeof V>"u"){if(U===Re.CurrencyDecimal)return I[f.KH2.NumberSymbols][Re.Decimal];if(U===Re.CurrencyGroup)return I[f.KH2.NumberSymbols][Re.Group]}return V}function yn(_){if(!_[f.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${_[f.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Zt(_,U){for(let I=U;I>-1;I--)if(typeof _[I]<"u")return _[I];throw new Error("Locale data API: locale data undefined")}function hn(_){const[U,I]=_.split(":");return{hours:+U,minutes:+I}}const mr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Yr={},hs=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Rr=function(_){return _[_.Short=0]="Short",_[_.ShortGMT=1]="ShortGMT",_[_.Long=2]="Long",_[_.Extended=3]="Extended",_}(Rr||{}),en=function(_){return _[_.FullYear=0]="FullYear",_[_.Month=1]="Month",_[_.Date=2]="Date",_[_.Hours=3]="Hours",_[_.Minutes=4]="Minutes",_[_.Seconds=5]="Seconds",_[_.FractionalSeconds=6]="FractionalSeconds",_[_.Day=7]="Day",_}(en||{}),Rt=function(_){return _[_.DayPeriods=0]="DayPeriods",_[_.Days=1]="Days",_[_.Months=2]="Months",_[_.Eras=3]="Eras",_}(Rt||{});function tn(_,U,I,V){let ne=function Lt(_){if(Mn(_))return _;if("number"==typeof _&&!isNaN(_))return new Date(_);if("string"==typeof _){if(_=_.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(_)){const[ne,Ae=1,Be=1]=_.split("-").map(gt=>+gt);return Kt(ne,Ae-1,Be)}const I=parseFloat(_);if(!isNaN(_-I))return new Date(I);let V;if(V=_.match(mr))return function qt(_){const U=new Date(0);let I=0,V=0;const ne=_[8]?U.setUTCFullYear:U.setFullYear,Ae=_[8]?U.setUTCHours:U.setHours;_[9]&&(I=Number(_[9]+_[10]),V=Number(_[9]+_[11])),ne.call(U,Number(_[1]),Number(_[2])-1,Number(_[3]));const Be=Number(_[4]||0)-I,gt=Number(_[5]||0)-V,dn=Number(_[6]||0),jn=Math.floor(1e3*parseFloat("0."+(_[7]||0)));return Ae.call(U,Be,gt,dn,jn),U}(V)}const U=new Date(_);if(!Mn(U))throw new Error(`Unable to convert "${_}" into a date`);return U}(_);U=Vn(I,U)||U;let gt,Be=[];for(;U;){if(gt=hs.exec(U),!gt){Be.push(U);break}{Be=Be.concat(gt.slice(1));const Rn=Be.pop();if(!Rn)break;U=Rn}}let dn=ne.getTimezoneOffset();V&&(dn=ge(V,dn),ne=function ft(_,U,I){const V=I?-1:1,ne=_.getTimezoneOffset();return function ze(_,U){return(_=new Date(_.getTime())).setMinutes(_.getMinutes()+U),_}(_,V*(ge(U,ne)-ne))}(ne,V,!0));let jn="";return Be.forEach(Rn=>{const on=function ae(_){if(pe[_])return pe[_];let U;switch(_){case"G":case"GG":case"GGG":U=_n(Rt.Eras,Je.Abbreviated);break;case"GGGG":U=_n(Rt.Eras,Je.Wide);break;case"GGGGG":U=_n(Rt.Eras,Je.Narrow);break;case"y":U=Fn(en.FullYear,1,0,!1,!0);break;case"yy":U=Fn(en.FullYear,2,0,!0,!0);break;case"yyy":U=Fn(en.FullYear,3,0,!1,!0);break;case"yyyy":U=Fn(en.FullYear,4,0,!1,!0);break;case"Y":U=je(1);break;case"YY":U=je(2,!0);break;case"YYY":U=je(3);break;case"YYYY":U=je(4);break;case"M":case"L":U=Fn(en.Month,1,1);break;case"MM":case"LL":U=Fn(en.Month,2,1);break;case"MMM":U=_n(Rt.Months,Je.Abbreviated);break;case"MMMM":U=_n(Rt.Months,Je.Wide);break;case"MMMMM":U=_n(Rt.Months,Je.Narrow);break;case"LLL":U=_n(Rt.Months,Je.Abbreviated,Ze.Standalone);break;case"LLLL":U=_n(Rt.Months,Je.Wide,Ze.Standalone);break;case"LLLLL":U=_n(Rt.Months,Je.Narrow,Ze.Standalone);break;case"w":U=Dn(1);break;case"ww":U=Dn(2);break;case"W":U=Dn(1,!0);break;case"d":U=Fn(en.Date,1);break;case"dd":U=Fn(en.Date,2);break;case"c":case"cc":U=Fn(en.Day,1);break;case"ccc":U=_n(Rt.Days,Je.Abbreviated,Ze.Standalone);break;case"cccc":U=_n(Rt.Days,Je.Wide,Ze.Standalone);break;case"ccccc":U=_n(Rt.Days,Je.Narrow,Ze.Standalone);break;case"cccccc":U=_n(Rt.Days,Je.Short,Ze.Standalone);break;case"E":case"EE":case"EEE":U=_n(Rt.Days,Je.Abbreviated);break;case"EEEE":U=_n(Rt.Days,Je.Wide);break;case"EEEEE":U=_n(Rt.Days,Je.Narrow);break;case"EEEEEE":U=_n(Rt.Days,Je.Short);break;case"a":case"aa":case"aaa":U=_n(Rt.DayPeriods,Je.Abbreviated);break;case"aaaa":U=_n(Rt.DayPeriods,Je.Wide);break;case"aaaaa":U=_n(Rt.DayPeriods,Je.Narrow);break;case"b":case"bb":case"bbb":U=_n(Rt.DayPeriods,Je.Abbreviated,Ze.Standalone,!0);break;case"bbbb":U=_n(Rt.DayPeriods,Je.Wide,Ze.Standalone,!0);break;case"bbbbb":U=_n(Rt.DayPeriods,Je.Narrow,Ze.Standalone,!0);break;case"B":case"BB":case"BBB":U=_n(Rt.DayPeriods,Je.Abbreviated,Ze.Format,!0);break;case"BBBB":U=_n(Rt.DayPeriods,Je.Wide,Ze.Format,!0);break;case"BBBBB":U=_n(Rt.DayPeriods,Je.Narrow,Ze.Format,!0);break;case"h":U=Fn(en.Hours,1,-12);break;case"hh":U=Fn(en.Hours,2,-12);break;case"H":U=Fn(en.Hours,1);break;case"HH":U=Fn(en.Hours,2);break;case"m":U=Fn(en.Minutes,1);break;case"mm":U=Fn(en.Minutes,2);break;case"s":U=Fn(en.Seconds,1);break;case"ss":U=Fn(en.Seconds,2);break;case"S":U=Fn(en.FractionalSeconds,1);break;case"SS":U=Fn(en.FractionalSeconds,2);break;case"SSS":U=Fn(en.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":U=Nt(Rr.Short);break;case"ZZZZZ":U=Nt(Rr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":U=Nt(Rr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":U=Nt(Rr.Long);break;default:return null}return pe[_]=U,U}(Rn);jn+=on?on(ne,I,dn):"''"===Rn?"'":Rn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),jn}function Kt(_,U,I){const V=new Date(0);return V.setFullYear(_,U,I),V.setHours(0,0,0),V}function Vn(_,U){const I=function qe(_){return(0,f.H5H)(_)[f.KH2.LocaleId]}(_);if(Yr[I]??={},Yr[I][U])return Yr[I][U];let V="";switch(U){case"shortDate":V=Se(_,yt.Short);break;case"mediumDate":V=Se(_,yt.Medium);break;case"longDate":V=Se(_,yt.Long);break;case"fullDate":V=Se(_,yt.Full);break;case"shortTime":V=ke(_,yt.Short);break;case"mediumTime":V=ke(_,yt.Medium);break;case"longTime":V=ke(_,yt.Long);break;case"fullTime":V=ke(_,yt.Full);break;case"short":const ne=Vn(_,"shortTime"),Ae=Vn(_,"shortDate");V=ii(Ne(_,yt.Short),[ne,Ae]);break;case"medium":const Be=Vn(_,"mediumTime"),gt=Vn(_,"mediumDate");V=ii(Ne(_,yt.Medium),[Be,gt]);break;case"long":const dn=Vn(_,"longTime"),jn=Vn(_,"longDate");V=ii(Ne(_,yt.Long),[dn,jn]);break;case"full":const Rn=Vn(_,"fullTime"),on=Vn(_,"fullDate");V=ii(Ne(_,yt.Full),[Rn,on])}return V&&(Yr[I][U]=V),V}function ii(_,U){return U&&(_=_.replace(/\{([^}]+)}/g,function(I,V){return null!=U&&V in U?U[V]:I})),_}function Un(_,U,I="-",V,ne){let Ae="";(_<0||ne&&_<=0)&&(ne?_=1-_:(_=-_,Ae=I));let Be=String(_);for(;Be.length<U;)Be="0"+Be;return V&&(Be=Be.slice(Be.length-U)),Ae+Be}function Fn(_,U,I=0,V=!1,ne=!1){return function(Ae,Be){let gt=function nn(_,U){switch(_){case en.FullYear:return U.getFullYear();case en.Month:return U.getMonth();case en.Date:return U.getDate();case en.Hours:return U.getHours();case en.Minutes:return U.getMinutes();case en.Seconds:return U.getSeconds();case en.FractionalSeconds:return U.getMilliseconds();case en.Day:return U.getDay();default:throw new Error(`Unknown DateType value "${_}".`)}}(_,Ae);if((I>0||gt>-I)&&(gt+=I),_===en.Hours)0===gt&&-12===I&&(gt=12);else if(_===en.FractionalSeconds)return function Xr(_,U){return Un(_,3).substring(0,U)}(gt,U);const dn=Me(Be,Re.MinusSign);return Un(gt,U,dn,V,ne)}}function _n(_,U,I=Ze.Format,V=!1){return function(ne,Ae){return function $i(_,U,I,V,ne,Ae){switch(I){case Rt.Months:return function Tt(_,U,I){const V=(0,f.H5H)(_),Ae=Zt([V[f.KH2.MonthsFormat],V[f.KH2.MonthsStandalone]],U);return Zt(Ae,I)}(U,ne,V)[_.getMonth()];case Rt.Days:return function jt(_,U,I){const V=(0,f.H5H)(_),Ae=Zt([V[f.KH2.DaysFormat],V[f.KH2.DaysStandalone]],U);return Zt(Ae,I)}(U,ne,V)[_.getDay()];case Rt.DayPeriods:const Be=_.getHours(),gt=_.getMinutes();if(Ae){const jn=function Ot(_){const U=(0,f.H5H)(_);return yn(U),(U[f.KH2.ExtraData][2]||[]).map(V=>"string"==typeof V?hn(V):[hn(V[0]),hn(V[1])])}(U),Rn=function Sn(_,U,I){const V=(0,f.H5H)(_);yn(V);const Ae=Zt([V[f.KH2.ExtraData][0],V[f.KH2.ExtraData][1]],U)||[];return Zt(Ae,I)||[]}(U,ne,V),on=jn.findIndex(w=>{if(Array.isArray(w)){const[h,c]=w,m=Be>=h.hours&&gt>=h.minutes,E=Be<c.hours||Be===c.hours&&gt<c.minutes;if(h.hours<c.hours){if(m&&E)return!0}else if(m||E)return!0}else if(w.hours===Be&&w.minutes===gt)return!0;return!1});if(-1!==on)return Rn[on]}return function kn(_,U,I){const V=(0,f.H5H)(_),Ae=Zt([V[f.KH2.DayPeriodsFormat],V[f.KH2.DayPeriodsStandalone]],U);return Zt(Ae,I)}(U,ne,V)[Be<12?0:1];case Rt.Eras:return function _r(_,U){return Zt((0,f.H5H)(_)[f.KH2.Eras],U)}(U,V)[_.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${I}`)}}(ne,Ae,_,U,I,V)}}function Nt(_){return function(U,I,V){const ne=-1*V,Ae=Me(I,Re.MinusSign),Be=ne>0?Math.floor(ne/60):Math.ceil(ne/60);switch(_){case Rr.Short:return(ne>=0?"+":"")+Un(Be,2,Ae)+Un(Math.abs(ne%60),2,Ae);case Rr.ShortGMT:return"GMT"+(ne>=0?"+":"")+Un(Be,1,Ae);case Rr.Long:return"GMT"+(ne>=0?"+":"")+Un(Be,2,Ae)+":"+Un(Math.abs(ne%60),2,Ae);case Rr.Extended:return 0===V?"Z":(ne>=0?"+":"")+Un(Be,2,Ae)+":"+Un(Math.abs(ne%60),2,Ae);default:throw new Error(`Unknown zone width "${_}"`)}}}const Er=0,$t=4;function Or(_){const U=_.getDay(),I=0===U?-3:$t-U;return Kt(_.getFullYear(),_.getMonth(),_.getDate()+I)}function Dn(_,U=!1){return function(I,V){let ne;if(U){const Ae=new Date(I.getFullYear(),I.getMonth(),1).getDay()-1,Be=I.getDate();ne=1+Math.floor((Be+Ae)/7)}else{const Ae=Or(I),Be=function Cr(_){const U=Kt(_,Er,1).getDay();return Kt(_,0,1+(U<=$t?$t:$t+7)-U)}(Ae.getFullYear()),gt=Ae.getTime()-Be.getTime();ne=1+Math.round(gt/6048e5)}return Un(ne,_,Me(V,Re.MinusSign))}}function je(_,U=!1){return function(I,V){return Un(Or(I).getFullYear(),_,Me(V,Re.MinusSign),U)}}const pe={};function ge(_,U){_=_.replace(/:/g,"");const I=Date.parse("Jan 01, 1970 00:00:00 "+_)/6e4;return isNaN(I)?U:I}function Mn(_){return _ instanceof Date&&!isNaN(_.valueOf())}const cr=/^(\d+)?\.((\d+)(-(\d+))?)?$/,wr=22,dr=".",vi="0",sr=";",Kr=",",Fi="#";function ks(_,U,I,V,ne){const Be=function Pr(_,U="-"){const I={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},V=_.split(sr),ne=V[0],Ae=V[1],Be=-1!==ne.indexOf(dr)?ne.split(dr):[ne.substring(0,ne.lastIndexOf(vi)+1),ne.substring(ne.lastIndexOf(vi)+1)],gt=Be[0],dn=Be[1]||"";I.posPre=gt.substring(0,gt.indexOf(Fi));for(let Rn=0;Rn<dn.length;Rn++){const on=dn.charAt(Rn);on===vi?I.minFrac=I.maxFrac=Rn+1:on===Fi?I.maxFrac=Rn+1:I.posSuf+=on}const jn=gt.split(Kr);if(I.gSize=jn[1]?jn[1].length:0,I.lgSize=jn[2]||jn[1]?(jn[2]||jn[1]).length:0,Ae){const Rn=ne.length-I.posPre.length-I.posSuf.length,on=Ae.indexOf(Fi);I.negPre=Ae.substring(0,on).replace(/'/g,""),I.negSuf=Ae.slice(on+Rn).replace(/'/g,"")}else I.negPre=U+I.posPre,I.negSuf=I.posSuf;return I}(function tt(_,U){return(0,f.H5H)(_)[f.KH2.NumberFormats][U]}(U,ht.Currency),Me(U,Re.MinusSign));return Be.minFrac=function ur(_){let U;const I=nt[_];return I&&(U=I[2]),"number"==typeof U?U:2}(V),Be.maxFrac=Be.minFrac,function Vi(_,U,I,V,ne,Ae,Be=!1){let gt="",dn=!1;if(isFinite(_)){let jn=function si(_){let V,ne,Ae,Be,gt,U=Math.abs(_)+"",I=0;for((ne=U.indexOf(dr))>-1&&(U=U.replace(dr,"")),(Ae=U.search(/e/i))>0?(ne<0&&(ne=Ae),ne+=+U.slice(Ae+1),U=U.substring(0,Ae)):ne<0&&(ne=U.length),Ae=0;U.charAt(Ae)===vi;Ae++);if(Ae===(gt=U.length))V=[0],ne=1;else{for(gt--;U.charAt(gt)===vi;)gt--;for(ne-=Ae,V=[],Be=0;Ae<=gt;Ae++,Be++)V[Be]=Number(U.charAt(Ae))}return ne>wr&&(V=V.splice(0,wr-1),I=ne-1,ne=1),{digits:V,exponent:I,integerLen:ne}}(_);Be&&(jn=function rn(_){if(0===_.digits[0])return _;const U=_.digits.length-_.integerLen;return _.exponent?_.exponent+=2:(0===U?_.digits.push(0,0):1===U&&_.digits.push(0),_.integerLen+=2),_}(jn));let Rn=U.minInt,on=U.minFrac,w=U.maxFrac;if(Ae){const j=Ae.match(cr);if(null===j)throw new Error(`${Ae} is not a valid digit info`);const B=j[1],q=j[3],K=j[5];null!=B&&(Rn=Jr(B)),null!=q&&(on=Jr(q)),null!=K?w=Jr(K):null!=q&&on>w&&(w=on)}!function Ir(_,U,I){if(U>I)throw new Error(`The minimum number of digits after fraction (${U}) is higher than the maximum (${I}).`);let V=_.digits,ne=V.length-_.integerLen;const Ae=Math.min(Math.max(U,ne),I);let Be=Ae+_.integerLen,gt=V[Be];if(Be>0){V.splice(Math.max(_.integerLen,Be));for(let on=Be;on<V.length;on++)V[on]=0}else{ne=Math.max(0,ne),_.integerLen=1,V.length=Math.max(1,Be=Ae+1),V[0]=0;for(let on=1;on<Be;on++)V[on]=0}if(gt>=5)if(Be-1<0){for(let on=0;on>Be;on--)V.unshift(0),_.integerLen++;V.unshift(1),_.integerLen++}else V[Be-1]++;for(;ne<Math.max(0,Ae);ne++)V.push(0);let dn=0!==Ae;const jn=U+_.integerLen,Rn=V.reduceRight(function(on,w,h,c){return c[h]=(w+=on)<10?w:w-10,dn&&(0===c[h]&&h>=jn?c.pop():dn=!1),w>=10?1:0},0);Rn&&(V.unshift(Rn),_.integerLen++)}(jn,on,w);let h=jn.digits,c=jn.integerLen;const m=jn.exponent;let E=[];for(dn=h.every(j=>!j);c<Rn;c++)h.unshift(0);for(;c<0;c++)h.unshift(0);c>0?E=h.splice(c,h.length):(E=h,h=[0]);const T=[];for(h.length>=U.lgSize&&T.unshift(h.splice(-U.lgSize,h.length).join(""));h.length>U.gSize;)T.unshift(h.splice(-U.gSize,h.length).join(""));h.length&&T.unshift(h.join("")),gt=T.join(Me(I,V)),E.length&&(gt+=Me(I,ne)+E.join("")),m&&(gt+=Me(I,Re.Exponential)+"+"+m)}else gt=Me(I,Re.Infinity);return gt=_<0&&!dn?U.negPre+gt+U.negSuf:U.posPre+gt+U.posSuf,gt}(_,Be,U,Re.CurrencyGroup,Re.CurrencyDecimal,ne).replace("\xa4",I).replace("\xa4","").trim()}function Jr(_){const U=parseInt(_);if(isNaN(U))throw new Error("Invalid integer literal when parsing "+_);return U}function jr(_,U){U=encodeURIComponent(U);for(const I of _.split(";")){const V=I.indexOf("="),[ne,Ae]=-1==V?[I,""]:[I.slice(0,V),I.slice(V+1)];if(ne.trim()===U)return decodeURIComponent(Ae)}return null}const Bi=/\s+/,ki=[];let ms=(()=>{class _{constructor(I,V){this._ngEl=I,this._renderer=V,this.initialClasses=ki,this.stateMap=new Map}set klass(I){this.initialClasses=null!=I?I.trim().split(Bi):ki}set ngClass(I){this.rawClass="string"==typeof I?I.trim().split(Bi):I}ngDoCheck(){for(const V of this.initialClasses)this._updateState(V,!0);const I=this.rawClass;if(Array.isArray(I)||I instanceof Set)for(const V of I)this._updateState(V,!0);else if(null!=I)for(const V of Object.keys(I))this._updateState(V,!!I[V]);this._applyStateDiff()}_updateState(I,V){const ne=this.stateMap.get(I);void 0!==ne?(ne.enabled!==V&&(ne.changed=!0,ne.enabled=V),ne.touched=!0):this.stateMap.set(I,{enabled:V,changed:!0,touched:!0})}_applyStateDiff(){for(const I of this.stateMap){const V=I[0],ne=I[1];ne.changed?(this._toggleClass(V,ne.enabled),ne.changed=!1):ne.touched||(ne.enabled&&this._toggleClass(V,!1),this.stateMap.delete(V)),ne.touched=!1}}_toggleClass(I,V){(I=I.trim()).length>0&&I.split(Bi).forEach(ne=>{V?this._renderer.addClass(this._ngEl.nativeElement,ne):this._renderer.removeClass(this._ngEl.nativeElement,ne)})}static{this.\u0275fac=function(V){return new(V||_)(f.rXU(f.aKT),f.rXU(f.sFG))}}static{this.\u0275dir=f.FsC({type:_,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return _})();class le{constructor(U,I,V,ne){this.$implicit=U,this.ngForOf=I,this.index=V,this.count=ne}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ee=(()=>{class _{set ngForOf(I){this._ngForOf=I,this._ngForOfDirty=!0}set ngForTrackBy(I){this._trackByFn=I}get ngForTrackBy(){return this._trackByFn}constructor(I,V,ne){this._viewContainer=I,this._template=V,this._differs=ne,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(I){I&&(this._template=I)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const I=this._ngForOf;!this._differ&&I&&(this._differ=this._differs.find(I).create(this.ngForTrackBy))}if(this._differ){const I=this._differ.diff(this._ngForOf);I&&this._applyChanges(I)}}_applyChanges(I){const V=this._viewContainer;I.forEachOperation((ne,Ae,Be)=>{if(null==ne.previousIndex)V.createEmbeddedView(this._template,new le(ne.item,this._ngForOf,-1,-1),null===Be?void 0:Be);else if(null==Be)V.remove(null===Ae?void 0:Ae);else if(null!==Ae){const gt=V.get(Ae);V.move(gt,Be),Ie(gt,ne)}});for(let ne=0,Ae=V.length;ne<Ae;ne++){const gt=V.get(ne).context;gt.index=ne,gt.count=Ae,gt.ngForOf=this._ngForOf}I.forEachIdentityChange(ne=>{Ie(V.get(ne.currentIndex),ne)})}static ngTemplateContextGuard(I,V){return!0}static{this.\u0275fac=function(V){return new(V||_)(f.rXU(f.c1b),f.rXU(f.C4Q),f.rXU(f._q3))}}static{this.\u0275dir=f.FsC({type:_,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return _})();function Ie(_,U){_.context.$implicit=U.item}let et=(()=>{class _{constructor(I,V){this._viewContainer=I,this._context=new it,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=V}set ngIf(I){this._context.$implicit=this._context.ngIf=I,this._updateView()}set ngIfThen(I){At("ngIfThen",I),this._thenTemplateRef=I,this._thenViewRef=null,this._updateView()}set ngIfElse(I){At("ngIfElse",I),this._elseTemplateRef=I,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(I,V){return!0}static{this.\u0275fac=function(V){return new(V||_)(f.rXU(f.c1b),f.rXU(f.C4Q))}}static{this.\u0275dir=f.FsC({type:_,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return _})();class it{constructor(){this.$implicit=null,this.ngIf=null}}function At(_,U){if(U&&!U.createEmbeddedView)throw new Error(`${_} must be a TemplateRef, but received '${(0,f.Tbb)(U)}'.`)}class bt{constructor(U,I){this._viewContainerRef=U,this._templateRef=I,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(U){U&&!this._created?this.create():!U&&this._created&&this.destroy()}}let bn=(()=>{class _{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(I){this._ngSwitch=I,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(I){this._defaultViews.push(I)}_matchCase(I){const V=I===this._ngSwitch;return this._lastCasesMatched||=V,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),V}_updateDefaultCases(I){if(this._defaultViews.length>0&&I!==this._defaultUsed){this._defaultUsed=I;for(const V of this._defaultViews)V.enforceState(I)}}static{this.\u0275fac=function(V){return new(V||_)}}static{this.\u0275dir=f.FsC({type:_,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return _})(),un=(()=>{class _{constructor(I,V,ne){this.ngSwitch=ne,ne._addCase(),this._view=new bt(I,V)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(V){return new(V||_)(f.rXU(f.c1b),f.rXU(f.C4Q),f.rXU(bn,9))}}static{this.\u0275dir=f.FsC({type:_,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return _})(),Ke=(()=>{class _{constructor(I,V,ne){ne._addDefault(new bt(I,V))}static{this.\u0275fac=function(V){return new(V||_)(f.rXU(f.c1b),f.rXU(f.C4Q),f.rXU(bn,9))}}static{this.\u0275dir=f.FsC({type:_,selectors:[["","ngSwitchDefault",""]],standalone:!0})}}return _})(),Gn=(()=>{class _{constructor(I){this._viewContainerRef=I,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(I){if(this._shouldRecreateView(I)){const V=this._viewContainerRef;if(this._viewRef&&V.remove(V.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const ne=this._createContextForwardProxy();this._viewRef=V.createEmbeddedView(this.ngTemplateOutlet,ne,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(I){return!!I.ngTemplateOutlet||!!I.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(I,V,ne)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,V,ne),get:(I,V,ne)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,V,ne)}})}static{this.\u0275fac=function(V){return new(V||_)(f.rXU(f.c1b))}}static{this.\u0275dir=f.FsC({type:_,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[f.OA$]})}}return _})();function mt(_,U){return new f.wOt(2100,!1)}class Dr{createSubscription(U,I){return(0,f.O8t)(()=>U.subscribe({next:I,error:V=>{throw V}}))}dispose(U){(0,f.O8t)(()=>U.unsubscribe())}}class Ji{createSubscription(U,I){return U.then(I,V=>{throw V})}dispose(U){}}const yi=new Ji,Gi=new Dr;let _i=(()=>{class _{constructor(I){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=I}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(I){if(!this._obj){if(I)try{this.markForCheckOnValueUpdate=!1,this._subscribe(I)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return I!==this._obj?(this._dispose(),this.transform(I)):this._latestValue}_subscribe(I){this._obj=I,this._strategy=this._selectStrategy(I),this._subscription=this._strategy.createSubscription(I,V=>this._updateLatestValue(I,V))}_selectStrategy(I){if((0,f.jNT)(I))return yi;if((0,f.zjR)(I))return Gi;throw mt()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(I,V){I===this._obj&&(this._latestValue=V,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(V){return new(V||_)(f.rXU(f.gRc,16))}}static{this.\u0275pipe=f.EJ8({name:"async",type:_,pure:!1,standalone:!0})}}return _})(),Zi=(()=>{class _{transform(I){if(null==I)return null;if("string"!=typeof I)throw mt();return I.toLowerCase()}static{this.\u0275fac=function(V){return new(V||_)}}static{this.\u0275pipe=f.EJ8({name:"lowercase",type:_,pure:!0,standalone:!0})}}return _})();const zt=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let es=(()=>{class _{transform(I){if(null==I)return null;if("string"!=typeof I)throw mt();return I.replace(zt,V=>V[0].toUpperCase()+V.slice(1).toLowerCase())}static{this.\u0275fac=function(V){return new(V||_)}}static{this.\u0275pipe=f.EJ8({name:"titlecase",type:_,pure:!0,standalone:!0})}}return _})(),Ts=(()=>{class _{transform(I){if(null==I)return null;if("string"!=typeof I)throw mt();return I.toUpperCase()}static{this.\u0275fac=function(V){return new(V||_)}}static{this.\u0275pipe=f.EJ8({name:"uppercase",type:_,pure:!0,standalone:!0})}}return _})();const Et=new f.nKC(""),yo=new f.nKC("");let _o=(()=>{class _{constructor(I,V,ne){this.locale=I,this.defaultTimezone=V,this.defaultOptions=ne}transform(I,V,ne,Ae){if(null==I||""===I||I!=I)return null;try{return tn(I,V??this.defaultOptions?.dateFormat??"mediumDate",Ae||this.locale,ne??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Be){throw mt()}}static{this.\u0275fac=function(V){return new(V||_)(f.rXU(f.xe9,16),f.rXU(Et,24),f.rXU(yo,24))}}static{this.\u0275pipe=f.EJ8({name:"date",type:_,pure:!0,standalone:!0})}}return _})(),xr=(()=>{class _{constructor(I,V="USD"){this._locale=I,this._defaultCurrencyCode=V}transform(I,V=this._defaultCurrencyCode,ne="symbol",Ae,Be){if(!function er(_){return!(null==_||""===_||_!=_)}(I))return null;Be||=this._locale,"boolean"==typeof ne&&(ne=ne?"symbol":"code");let gt=V||this._defaultCurrencyCode;"code"!==ne&&(gt="symbol"===ne||"symbol-narrow"===ne?function Jn(_,U,I="en"){const V=function Cn(_){return(0,f.H5H)(_)[f.KH2.Currencies]}(I)[_]||nt[_]||[],ne=V[1];return"narrow"===U&&"string"==typeof ne?ne:V[0]||_}(gt,"symbol"===ne?"wide":"narrow",Be):ne);try{return ks(function Pn(_){if("string"==typeof _&&!isNaN(Number(_)-parseFloat(_)))return Number(_);if("number"!=typeof _)throw new Error(`${_} is not a number`);return _}(I),Be,gt,V,Ae)}catch(dn){throw mt()}}static{this.\u0275fac=function(V){return new(V||_)(f.rXU(f.xe9,16),f.rXU(f.Ocv,16))}}static{this.\u0275pipe=f.EJ8({name:"currency",type:_,pure:!0,standalone:!0})}}return _})();let Ai=(()=>{class _{static{this.\u0275fac=function(V){return new(V||_)}}static{this.\u0275mod=f.$C({type:_})}static{this.\u0275inj=f.G2t({})}}return _})();const Sr="browser",bi="server";function oi(_){return _===Sr}function As(_){return _===bi}let _s=(()=>{class _{static{this.\u0275prov=(0,f.jDH)({token:_,providedIn:"root",factory:()=>oi((0,f.WQX)(f.Agw))?new Hi((0,f.WQX)(F),window):new ns})}}return _})();class Hi{constructor(U,I){this.document=U,this.window=I,this.offset=()=>[0,0]}setOffset(U){this.offset=Array.isArray(U)?()=>U:U}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(U){this.window.scrollTo(U[0],U[1])}scrollToAnchor(U){const I=function ts(_,U){const I=_.getElementById(U)||_.getElementsByName(U)[0];if(I)return I;if("function"==typeof _.createTreeWalker&&_.body&&"function"==typeof _.body.attachShadow){const V=_.createTreeWalker(_.body,NodeFilter.SHOW_ELEMENT);let ne=V.currentNode;for(;ne;){const Ae=ne.shadowRoot;if(Ae){const Be=Ae.getElementById(U)||Ae.querySelector(`[name="${U}"]`);if(Be)return Be}ne=V.nextNode()}}return null}(this.document,U);I&&(this.scrollToElement(I),I.focus())}setHistoryScrollRestoration(U){this.window.history.scrollRestoration=U}scrollToElement(U){const I=U.getBoundingClientRect(),V=I.left+this.window.pageXOffset,ne=I.top+this.window.pageYOffset,Ae=this.offset();this.window.scrollTo(V-Ae[0],ne-Ae[1])}}class ns{setOffset(U){}getScrollPosition(){return[0,0]}scrollToPosition(U){}scrollToAnchor(U){}setHistoryScrollRestoration(U){}}class Ri{}},1626:(at,ye,R)=>{"use strict";R.d(ye,{$R:()=>ft,Lr:()=>De,Qq:()=>Ne,hv:()=>qe});var f=R(467),O=R(4438),de=R(7673),e=R(1985),P=R(6648),W=R(274),F=R(5964),Z=R(6354),he=R(980),fe=R(5558),te=R(177);class ve{}class Fe{}class De{constructor(le){this.normalizedNames=new Map,this.lazyUpdate=null,le?"string"==typeof le?this.lazyInit=()=>{this.headers=new Map,le.split("\n").forEach(ee=>{const Ie=ee.indexOf(":");if(Ie>0){const Xe=ee.slice(0,Ie),et=Xe.toLowerCase(),it=ee.slice(Ie+1).trim();this.maybeSetNormalizedName(Xe,et),this.headers.has(et)?this.headers.get(et).push(it):this.headers.set(et,[it])}})}:typeof Headers<"u"&&le instanceof Headers?(this.headers=new Map,le.forEach((ee,Ie)=>{this.setHeaderEntries(Ie,ee)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(le).forEach(([ee,Ie])=>{this.setHeaderEntries(ee,Ie)})}:this.headers=new Map}has(le){return this.init(),this.headers.has(le.toLowerCase())}get(le){this.init();const ee=this.headers.get(le.toLowerCase());return ee&&ee.length>0?ee[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(le){return this.init(),this.headers.get(le.toLowerCase())||null}append(le,ee){return this.clone({name:le,value:ee,op:"a"})}set(le,ee){return this.clone({name:le,value:ee,op:"s"})}delete(le,ee){return this.clone({name:le,value:ee,op:"d"})}maybeSetNormalizedName(le,ee){this.normalizedNames.has(ee)||this.normalizedNames.set(ee,le)}init(){this.lazyInit&&(this.lazyInit instanceof De?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(le=>this.applyUpdate(le)),this.lazyUpdate=null))}copyFrom(le){le.init(),Array.from(le.headers.keys()).forEach(ee=>{this.headers.set(ee,le.headers.get(ee)),this.normalizedNames.set(ee,le.normalizedNames.get(ee))})}clone(le){const ee=new De;return ee.lazyInit=this.lazyInit&&this.lazyInit instanceof De?this.lazyInit:this,ee.lazyUpdate=(this.lazyUpdate||[]).concat([le]),ee}applyUpdate(le){const ee=le.name.toLowerCase();switch(le.op){case"a":case"s":let Ie=le.value;if("string"==typeof Ie&&(Ie=[Ie]),0===Ie.length)return;this.maybeSetNormalizedName(le.name,ee);const Xe=("a"===le.op?this.headers.get(ee):void 0)||[];Xe.push(...Ie),this.headers.set(ee,Xe);break;case"d":const et=le.value;if(et){let it=this.headers.get(ee);if(!it)return;it=it.filter(At=>-1===et.indexOf(At)),0===it.length?(this.headers.delete(ee),this.normalizedNames.delete(ee)):this.headers.set(ee,it)}else this.headers.delete(ee),this.normalizedNames.delete(ee)}}setHeaderEntries(le,ee){const Ie=(Array.isArray(ee)?ee:[ee]).map(et=>et.toString()),Xe=le.toLowerCase();this.headers.set(Xe,Ie),this.maybeSetNormalizedName(le,Xe)}forEach(le){this.init(),Array.from(this.normalizedNames.keys()).forEach(ee=>le(this.normalizedNames.get(ee),this.headers.get(ee)))}}class Q{encodeKey(le){return Ee(le)}encodeValue(le){return Ee(le)}decodeKey(le){return decodeURIComponent(le)}decodeValue(le){return decodeURIComponent(le)}}const me=/%(\d[a-f0-9])/gi,Ve={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ee(X){return encodeURIComponent(X).replace(me,(le,ee)=>Ve[ee]??le)}function Oe(X){return`${X}`}class Le{constructor(le={}){if(this.updates=null,this.cloneFrom=null,this.encoder=le.encoder||new Q,le.fromString){if(le.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ce(X,le){const ee=new Map;return X.length>0&&X.replace(/^\?/,"").split("&").forEach(Xe=>{const et=Xe.indexOf("="),[it,At]=-1==et?[le.decodeKey(Xe),""]:[le.decodeKey(Xe.slice(0,et)),le.decodeValue(Xe.slice(et+1))],bt=ee.get(it)||[];bt.push(At),ee.set(it,bt)}),ee}(le.fromString,this.encoder)}else le.fromObject?(this.map=new Map,Object.keys(le.fromObject).forEach(ee=>{const Ie=le.fromObject[ee],Xe=Array.isArray(Ie)?Ie.map(Oe):[Oe(Ie)];this.map.set(ee,Xe)})):this.map=null}has(le){return this.init(),this.map.has(le)}get(le){this.init();const ee=this.map.get(le);return ee?ee[0]:null}getAll(le){return this.init(),this.map.get(le)||null}keys(){return this.init(),Array.from(this.map.keys())}append(le,ee){return this.clone({param:le,value:ee,op:"a"})}appendAll(le){const ee=[];return Object.keys(le).forEach(Ie=>{const Xe=le[Ie];Array.isArray(Xe)?Xe.forEach(et=>{ee.push({param:Ie,value:et,op:"a"})}):ee.push({param:Ie,value:Xe,op:"a"})}),this.clone(ee)}set(le,ee){return this.clone({param:le,value:ee,op:"s"})}delete(le,ee){return this.clone({param:le,value:ee,op:"d"})}toString(){return this.init(),this.keys().map(le=>{const ee=this.encoder.encodeKey(le);return this.map.get(le).map(Ie=>ee+"="+this.encoder.encodeValue(Ie)).join("&")}).filter(le=>""!==le).join("&")}clone(le){const ee=new Le({encoder:this.encoder});return ee.cloneFrom=this.cloneFrom||this,ee.updates=(this.updates||[]).concat(le),ee}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(le=>this.map.set(le,this.cloneFrom.map.get(le))),this.updates.forEach(le=>{switch(le.op){case"a":case"s":const ee=("a"===le.op?this.map.get(le.param):void 0)||[];ee.push(Oe(le.value)),this.map.set(le.param,ee);break;case"d":if(void 0===le.value){this.map.delete(le.param);break}{let Ie=this.map.get(le.param)||[];const Xe=Ie.indexOf(Oe(le.value));-1!==Xe&&Ie.splice(Xe,1),Ie.length>0?this.map.set(le.param,Ie):this.map.delete(le.param)}}}),this.cloneFrom=this.updates=null)}}class ht{constructor(){this.map=new Map}set(le,ee){return this.map.set(le,ee),this}get(le){return this.map.has(le)||this.map.set(le,le.defaultValue()),this.map.get(le)}delete(le){return this.map.delete(le),this}has(le){return this.map.has(le)}keys(){return this.map.keys()}}function Ze(X){return typeof ArrayBuffer<"u"&&X instanceof ArrayBuffer}function Je(X){return typeof Blob<"u"&&X instanceof Blob}function yt(X){return typeof FormData<"u"&&X instanceof FormData}class pt{constructor(le,ee,Ie,Xe){let et;if(this.url=ee,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=le.toUpperCase(),function Ye(X){switch(X){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Xe?(this.body=void 0!==Ie?Ie:null,et=Xe):et=Ie,et&&(this.reportProgress=!!et.reportProgress,this.withCredentials=!!et.withCredentials,et.responseType&&(this.responseType=et.responseType),et.headers&&(this.headers=et.headers),et.context&&(this.context=et.context),et.params&&(this.params=et.params),this.transferCache=et.transferCache),this.headers??=new De,this.context??=new ht,this.params){const it=this.params.toString();if(0===it.length)this.urlWithParams=ee;else{const At=ee.indexOf("?");this.urlWithParams=ee+(-1===At?"?":At<ee.length-1?"&":"")+it}}else this.params=new Le,this.urlWithParams=ee}serializeBody(){return null===this.body?null:"string"==typeof this.body||Ze(this.body)||Je(this.body)||yt(this.body)||function Re(X){return typeof URLSearchParams<"u"&&X instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Le?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||yt(this.body)?null:Je(this.body)?this.body.type||null:Ze(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Le?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(le={}){const ee=le.method||this.method,Ie=le.url||this.url,Xe=le.responseType||this.responseType,et=le.transferCache??this.transferCache,it=void 0!==le.body?le.body:this.body,At=le.withCredentials??this.withCredentials,bt=le.reportProgress??this.reportProgress;let bn=le.headers||this.headers,un=le.params||this.params;const Ke=le.context??this.context;return void 0!==le.setHeaders&&(bn=Object.keys(le.setHeaders).reduce(($n,Bn)=>$n.set(Bn,le.setHeaders[Bn]),bn)),le.setParams&&(un=Object.keys(le.setParams).reduce(($n,Bn)=>$n.set(Bn,le.setParams[Bn]),un)),new pt(ee,Ie,it,{params:un,headers:bn,context:Ke,reportProgress:bt,responseType:Xe,withCredentials:At,transferCache:et})}}var qe=function(X){return X[X.Sent=0]="Sent",X[X.UploadProgress=1]="UploadProgress",X[X.ResponseHeader=2]="ResponseHeader",X[X.DownloadProgress=3]="DownloadProgress",X[X.Response=4]="Response",X[X.User=5]="User",X}(qe||{});class kn{constructor(le,ee=200,Ie="OK"){this.headers=le.headers||new De,this.status=void 0!==le.status?le.status:ee,this.statusText=le.statusText||Ie,this.url=le.url||null,this.ok=this.status>=200&&this.status<300}}class jt extends kn{constructor(le={}){super(le),this.type=qe.ResponseHeader}clone(le={}){return new jt({headers:le.headers||this.headers,status:void 0!==le.status?le.status:this.status,statusText:le.statusText||this.statusText,url:le.url||this.url||void 0})}}class Tt extends kn{constructor(le={}){super(le),this.type=qe.Response,this.body=void 0!==le.body?le.body:null}clone(le={}){return new Tt({body:void 0!==le.body?le.body:this.body,headers:le.headers||this.headers,status:void 0!==le.status?le.status:this.status,statusText:le.statusText||this.statusText,url:le.url||this.url||void 0})}}class _r extends kn{constructor(le){super(le,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${le.url||"(unknown url)"}`:`Http failure response for ${le.url||"(unknown url)"}: ${le.status} ${le.statusText}`,this.error=le.error||null}}function ke(X,le){return{body:le,headers:X.headers,context:X.context,observe:X.observe,params:X.params,reportProgress:X.reportProgress,responseType:X.responseType,withCredentials:X.withCredentials,transferCache:X.transferCache}}let Ne=(()=>{class X{constructor(ee){this.handler=ee}request(ee,Ie,Xe={}){let et;if(ee instanceof pt)et=ee;else{let bt,bn;bt=Xe.headers instanceof De?Xe.headers:new De(Xe.headers),Xe.params&&(bn=Xe.params instanceof Le?Xe.params:new Le({fromObject:Xe.params})),et=new pt(ee,Ie,void 0!==Xe.body?Xe.body:null,{headers:bt,context:Xe.context,params:bn,reportProgress:Xe.reportProgress,responseType:Xe.responseType||"json",withCredentials:Xe.withCredentials,transferCache:Xe.transferCache})}const it=(0,de.of)(et).pipe((0,W.H)(bt=>this.handler.handle(bt)));if(ee instanceof pt||"events"===Xe.observe)return it;const At=it.pipe((0,F.p)(bt=>bt instanceof Tt));switch(Xe.observe||"body"){case"body":switch(et.responseType){case"arraybuffer":return At.pipe((0,Z.T)(bt=>{if(null!==bt.body&&!(bt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return bt.body}));case"blob":return At.pipe((0,Z.T)(bt=>{if(null!==bt.body&&!(bt.body instanceof Blob))throw new Error("Response is not a Blob.");return bt.body}));case"text":return At.pipe((0,Z.T)(bt=>{if(null!==bt.body&&"string"!=typeof bt.body)throw new Error("Response is not a string.");return bt.body}));default:return At.pipe((0,Z.T)(bt=>bt.body))}case"response":return At;default:throw new Error(`Unreachable: unhandled observe type ${Xe.observe}}`)}}delete(ee,Ie={}){return this.request("DELETE",ee,Ie)}get(ee,Ie={}){return this.request("GET",ee,Ie)}head(ee,Ie={}){return this.request("HEAD",ee,Ie)}jsonp(ee,Ie){return this.request("JSONP",ee,{params:(new Le).append(Ie,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ee,Ie={}){return this.request("OPTIONS",ee,Ie)}patch(ee,Ie,Xe={}){return this.request("PATCH",ee,ke(Xe,Ie))}post(ee,Ie,Xe={}){return this.request("POST",ee,ke(Xe,Ie))}put(ee,Ie,Xe={}){return this.request("PUT",ee,ke(Xe,Ie))}static{this.\u0275fac=function(Ie){return new(Ie||X)(O.KVO(ve))}}static{this.\u0275prov=O.jDH({token:X,factory:X.\u0275fac})}}return X})();const Me=/^\)\]\}',?\n/;function Pe(X){if(X.url)return X.url;const le="X-Request-URL".toLocaleLowerCase();return X.headers.get(le)}let vt=(()=>{class X{constructor(){this.fetchImpl=(0,O.WQX)(ln,{optional:!0})?.fetch??((...ee)=>globalThis.fetch(...ee)),this.ngZone=(0,O.WQX)(O.SKi)}handle(ee){return new e.c(Ie=>{const Xe=new AbortController;return this.doRequest(ee,Xe.signal,Ie).then(Cn,et=>Ie.error(new _r({error:et}))),()=>Xe.abort()})}doRequest(ee,Ie,Xe){var et=this;return(0,f.A)(function*(){const it=et.createRequestInit(ee);let At;try{const Kn=et.ngZone.runOutsideAngular(()=>et.fetchImpl(ee.urlWithParams,{signal:Ie,...it}));(function Mt(X){X.then(Cn,Cn)})(Kn),Xe.next({type:qe.Sent}),At=yield Kn}catch(Kn){return void Xe.error(new _r({error:Kn,status:Kn.status??0,statusText:Kn.statusText,url:ee.urlWithParams,headers:Kn.headers}))}const bt=new De(At.headers),bn=At.statusText,un=Pe(At)??ee.urlWithParams;let Ke=At.status,$n=null;if(ee.reportProgress&&Xe.next(new jt({headers:bt,status:Ke,statusText:bn,url:un})),At.body){const Kn=At.headers.get("content-length"),Bt=[],En=At.body.getReader();let St,mt,Gn=0;const Dr=typeof Zone<"u"&&Zone.current;yield et.ngZone.runOutsideAngular((0,f.A)(function*(){for(;;){const{done:yi,value:Gi}=yield En.read();if(yi)break;if(Bt.push(Gi),Gn+=Gi.length,ee.reportProgress){mt="text"===ee.responseType?(mt??"")+(St??=new TextDecoder).decode(Gi,{stream:!0}):void 0;const _i=()=>Xe.next({type:qe.DownloadProgress,total:Kn?+Kn:void 0,loaded:Gn,partialText:mt});Dr?Dr.run(_i):_i()}}}));const Ji=et.concatChunks(Bt,Gn);try{const yi=At.headers.get("Content-Type")??"";$n=et.parseBody(ee,Ji,yi)}catch(yi){return void Xe.error(new _r({error:yi,headers:new De(At.headers),status:At.status,statusText:At.statusText,url:Pe(At)??ee.urlWithParams}))}}0===Ke&&(Ke=$n?200:0),Ke>=200&&Ke<300?(Xe.next(new Tt({body:$n,headers:bt,status:Ke,statusText:bn,url:un})),Xe.complete()):Xe.error(new _r({error:$n,headers:bt,status:Ke,statusText:bn,url:un}))})()}parseBody(ee,Ie,Xe){switch(ee.responseType){case"json":const et=(new TextDecoder).decode(Ie).replace(Me,"");return""===et?null:JSON.parse(et);case"text":return(new TextDecoder).decode(Ie);case"blob":return new Blob([Ie],{type:Xe});case"arraybuffer":return Ie.buffer}}createRequestInit(ee){const Ie={},Xe=ee.withCredentials?"include":void 0;if(ee.headers.forEach((et,it)=>Ie[et]=it.join(",")),ee.headers.has("Accept")||(Ie.Accept="application/json, text/plain, */*"),!ee.headers.has("Content-Type")){const et=ee.detectContentTypeHeader();null!==et&&(Ie["Content-Type"]=et)}return{body:ee.serializeBody(),method:ee.method,headers:Ie,credentials:Xe}}concatChunks(ee,Ie){const Xe=new Uint8Array(Ie);let et=0;for(const it of ee)Xe.set(it,et),et+=it.length;return Xe}static{this.\u0275fac=function(Ie){return new(Ie||X)}}static{this.\u0275prov=O.jDH({token:X,factory:X.\u0275fac})}}return X})();class ln{}function Cn(){}function yn(X,le){return le(X)}const Zt=new O.nKC(""),hn=new O.nKC(""),Jn=new O.nKC("",{providedIn:"root",factory:()=>!0});let Yr=(()=>{class X extends ve{constructor(ee,Ie){super(),this.backend=ee,this.injector=Ie,this.chain=null,this.pendingTasks=(0,O.WQX)(O.TgB),this.contributeToStability=(0,O.WQX)(Jn)}handle(ee){if(null===this.chain){const Ie=Array.from(new Set([...this.injector.get(Zt),...this.injector.get(hn,[])]));this.chain=Ie.reduceRight((Xe,et)=>function Sn(X,le,ee){return(Ie,Xe)=>(0,O.N4e)(ee,()=>le(Ie,et=>X(et,Xe)))}(Xe,et,this.injector),yn)}if(this.contributeToStability){const Ie=this.pendingTasks.add();return this.chain(ee,Xe=>this.backend.handle(Xe)).pipe((0,he.j)(()=>this.pendingTasks.remove(Ie)))}return this.chain(ee,Ie=>this.backend.handle(Ie))}static{this.\u0275fac=function(Ie){return new(Ie||X)(O.KVO(Fe),O.KVO(O.uvJ))}}static{this.\u0275prov=O.jDH({token:X,factory:X.\u0275fac})}}return X})();const nn=/^\)\]\}',?\n/;let $i=(()=>{class X{constructor(ee){this.xhrFactory=ee}handle(ee){if("JSONP"===ee.method)throw new O.wOt(-2800,!1);const Ie=this.xhrFactory;return(Ie.\u0275loadImpl?(0,P.H)(Ie.\u0275loadImpl()):(0,de.of)(null)).pipe((0,fe.n)(()=>new e.c(et=>{const it=Ie.build();if(it.open(ee.method,ee.urlWithParams),ee.withCredentials&&(it.withCredentials=!0),ee.headers.forEach((Bt,En)=>it.setRequestHeader(Bt,En.join(","))),ee.headers.has("Accept")||it.setRequestHeader("Accept","application/json, text/plain, */*"),!ee.headers.has("Content-Type")){const Bt=ee.detectContentTypeHeader();null!==Bt&&it.setRequestHeader("Content-Type",Bt)}if(ee.responseType){const Bt=ee.responseType.toLowerCase();it.responseType="json"!==Bt?Bt:"text"}const At=ee.serializeBody();let bt=null;const bn=()=>{if(null!==bt)return bt;const Bt=it.statusText||"OK",En=new De(it.getAllResponseHeaders()),Gn=function _n(X){return"responseURL"in X&&X.responseURL?X.responseURL:/^X-Request-URL:/m.test(X.getAllResponseHeaders())?X.getResponseHeader("X-Request-URL"):null}(it)||ee.url;return bt=new jt({headers:En,status:it.status,statusText:Bt,url:Gn}),bt},un=()=>{let{headers:Bt,status:En,statusText:Gn,url:St}=bn(),mt=null;204!==En&&(mt=typeof it.response>"u"?it.responseText:it.response),0===En&&(En=mt?200:0);let Dr=En>=200&&En<300;if("json"===ee.responseType&&"string"==typeof mt){const Ji=mt;mt=mt.replace(nn,"");try{mt=""!==mt?JSON.parse(mt):null}catch(yi){mt=Ji,Dr&&(Dr=!1,mt={error:yi,text:mt})}}Dr?(et.next(new Tt({body:mt,headers:Bt,status:En,statusText:Gn,url:St||void 0})),et.complete()):et.error(new _r({error:mt,headers:Bt,status:En,statusText:Gn,url:St||void 0}))},Ke=Bt=>{const{url:En}=bn(),Gn=new _r({error:Bt,status:it.status||0,statusText:it.statusText||"Unknown Error",url:En||void 0});et.error(Gn)};let $n=!1;const Bn=Bt=>{$n||(et.next(bn()),$n=!0);let En={type:qe.DownloadProgress,loaded:Bt.loaded};Bt.lengthComputable&&(En.total=Bt.total),"text"===ee.responseType&&it.responseText&&(En.partialText=it.responseText),et.next(En)},Kn=Bt=>{let En={type:qe.UploadProgress,loaded:Bt.loaded};Bt.lengthComputable&&(En.total=Bt.total),et.next(En)};return it.addEventListener("load",un),it.addEventListener("error",Ke),it.addEventListener("timeout",Ke),it.addEventListener("abort",Ke),ee.reportProgress&&(it.addEventListener("progress",Bn),null!==At&&it.upload&&it.upload.addEventListener("progress",Kn)),it.send(At),et.next({type:qe.Sent}),()=>{it.removeEventListener("error",Ke),it.removeEventListener("abort",Ke),it.removeEventListener("load",un),it.removeEventListener("timeout",Ke),ee.reportProgress&&(it.removeEventListener("progress",Bn),null!==At&&it.upload&&it.upload.removeEventListener("progress",Kn)),it.readyState!==it.DONE&&it.abort()}})))}static{this.\u0275fac=function(Ie){return new(Ie||X)(O.KVO(te.N0))}}static{this.\u0275prov=O.jDH({token:X,factory:X.\u0275fac})}}return X})();const Nt=new O.nKC(""),$t=new O.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Or=new O.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Dn{}let je=(()=>{class X{constructor(ee,Ie,Xe){this.doc=ee,this.platform=Ie,this.cookieName=Xe,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ee=this.doc.cookie||"";return ee!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,te._b)(ee,this.cookieName),this.lastCookieString=ee),this.lastToken}static{this.\u0275fac=function(Ie){return new(Ie||X)(O.KVO(te.qQ),O.KVO(O.Agw),O.KVO($t))}}static{this.\u0275prov=O.jDH({token:X,factory:X.\u0275fac})}}return X})();function pe(X,le){const ee=X.url.toLowerCase();if(!(0,O.WQX)(Nt)||"GET"===X.method||"HEAD"===X.method||ee.startsWith("http://")||ee.startsWith("https://"))return le(X);const Ie=(0,O.WQX)(Dn).getToken(),Xe=(0,O.WQX)(Or);return null!=Ie&&!X.headers.has(Xe)&&(X=X.clone({headers:X.headers.set(Xe,Ie)})),le(X)}function ft(...X){const le=[Ne,$i,Yr,{provide:ve,useExisting:Yr},{provide:Fe,useFactory:()=>(0,O.WQX)(vt,{optional:!0})??(0,O.WQX)($i)},{provide:Zt,useValue:pe,multi:!0},{provide:Nt,useValue:!0},{provide:Dn,useClass:je}];for(const ee of X)le.push(...ee.\u0275providers);return(0,O.EmA)(le)}},4438:(at,ye,R)=>{"use strict";function f(t,n){return Object.is(t,n)}R.d(ye,{iLQ:()=>qd,sZ2:()=>Uc,hnV:()=>G1,o8S:()=>Oo,BIS:()=>kE,gRc:()=>rb,Ql9:()=>vI,Ocv:()=>DI,abz:()=>ol,Z63:()=>Ur,aKT:()=>cu,uvJ:()=>ei,zcH:()=>Qo,bkB:()=>ko,$GK:()=>zt,nKC:()=>Pt,zZn:()=>Ki,_q3:()=>um,MKu:()=>cm,xe9:()=>im,Co$:()=>jv,Vns:()=>$a,SKi:()=>yr,Xx1:()=>Hi,Agw:()=>Bc,PLl:()=>og,sFG:()=>yD,_9s:()=>Gp,czy:()=>ed,kdw:()=>ns,C4Q:()=>Iu,NYb:()=>cI,giA:()=>U1,RxE:()=>R1,c1b:()=>yd,gXe:()=>Ci,mal:()=>Sd,Af3:()=>Yi,tdH:()=>_x,L39:()=>wk,EWP:()=>xk,Ol2:()=>oh,w6W:()=>ux,Rfq:()=>je,WQX:()=>_t,QuC:()=>ss,EmA:()=>di,HJs:()=>Ak,N4e:()=>sa,vPA:()=>yv,O8t:()=>Sk,H3F:()=>O1,H8p:()=>ro,KH2:()=>Vl,TgB:()=>Ta,wOt:()=>rt,WHO:()=>$1,e01:()=>V1,H5H:()=>Ah,Zy3:()=>ur,mq5:()=>Hy,JZv:()=>nn,TL3:()=>rk,LfX:()=>Xn,plB:()=>ma,jNT:()=>em,zjR:()=>B1,TL$:()=>FE,Tbb:()=>$t,Vt3:()=>nh,GFd:()=>Pv,OA$:()=>Pi,Jv_:()=>Z_,aNF:()=>e1,R7$:()=>s0,BMQ:()=>_h,ZvI:()=>Oy,AVh:()=>xh,vxM:()=>Ly,wni:()=>F_,VBU:()=>Os,FsC:()=>ea,jDH:()=>rn,G2t:()=>Ir,$C:()=>to,EJ8:()=>ta,rXU:()=>ml,nrm:()=>Mh,eu8:()=>Th,bVm:()=>Nd,qex:()=>Od,k0s:()=>Rd,j41:()=>Ad,RV6:()=>Uy,xGo:()=>Dm,KVO:()=>Pn,kS0:()=>Nc,QTQ:()=>a0,bIt:()=>Nh,lsd:()=>M_,joV:()=>Ja,qSk:()=>Tc,XpG:()=>m_,nI1:()=>p1,bMT:()=>h1,i5U:()=>m1,brH:()=>g1,SdG:()=>v_,NAR:()=>g_,Y8G:()=>wh,lJ4:()=>r1,eq3:()=>i1,l_i:()=>s1,sMw:()=>o1,ziG:()=>a1,mGM:()=>k_,sdS:()=>T_,Njj:()=>yc,tSv:()=>Lg,eBV:()=>vc,npT:()=>Mg,n$t:()=>Rg,DNE:()=>lh,C5r:()=>v1,EFF:()=>U_,JRh:()=>$h,SpI:()=>Vd,Lme:()=>Vh,E5c:()=>Uh,DH7:()=>X_,mxI:()=>Gh,R50:()=>Bh,GBs:()=>I_});let O=null,de=!1,e=1;const P=Symbol("SIGNAL");function W(t){const n=O;return O=t,n}function F(){return O}const fe={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function te(t){if(de)throw new Error("");if(null===O)return;O.consumerOnSignalRead(t);const n=O.nextProducerIndex++;ht(O),n<O.producerNode.length&&O.producerNode[n]!==t&&nt(O)&&Le(O.producerNode[n],O.producerIndexOfThis[n]),O.producerNode[n]!==t&&(O.producerNode[n]=t,O.producerIndexOfThis[n]=nt(O)?Oe(t,O,n):0),O.producerLastReadVersion[n]=t.version}function Fe(t){if((!nt(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==e)){if(!t.producerMustRecompute(t)&&!Ve(t))return t.dirty=!1,void(t.lastCleanEpoch=e);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=e}}function De(t){if(void 0===t.liveConsumerNode)return;const n=de;de=!0;try{for(const r of t.liveConsumerNode)r.dirty||Q(r)}finally{de=n}}function H(){return!1!==O?.consumerAllowSignalWrites}function Q(t){t.dirty=!0,De(t),t.consumerMarkedDirty?.(t)}function ce(t){return t&&(t.nextProducerIndex=0),W(t)}function me(t,n){if(W(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(nt(t))for(let r=t.nextProducerIndex;r<t.producerNode.length;r++)Le(t.producerNode[r],t.producerIndexOfThis[r]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ve(t){ht(t);for(let n=0;n<t.producerNode.length;n++){const r=t.producerNode[n],i=t.producerLastReadVersion[n];if(i!==r.version||(Fe(r),i!==r.version))return!0}return!1}function Ee(t){if(ht(t),nt(t))for(let n=0;n<t.producerNode.length;n++)Le(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Oe(t,n,r){if(Ye(t),0===t.liveConsumerNode.length&&Ze(t))for(let i=0;i<t.producerNode.length;i++)t.producerIndexOfThis[i]=Oe(t.producerNode[i],t,i);return t.liveConsumerIndexOfThis.push(r),t.liveConsumerNode.push(n)-1}function Le(t,n){if(Ye(t),1===t.liveConsumerNode.length&&Ze(t))for(let i=0;i<t.producerNode.length;i++)Le(t.producerNode[i],t.producerIndexOfThis[i]);const r=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[r],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[r],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const i=t.liveConsumerIndexOfThis[n],o=t.liveConsumerNode[n];ht(o),o.producerIndexOfThis[i]=n}}function nt(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ht(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Ye(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Ze(t){return void 0!==t.producerNode}const yt=Symbol("UNSET"),Re=Symbol("COMPUTING"),pt=Symbol("ERRORED"),qe={...fe,value:yt,dirty:!0,error:null,equal:f,producerMustRecompute:t=>t.value===yt||t.value===Re,producerRecomputeValue(t){if(t.value===Re)throw new Error("Detected cycle in computations.");const n=t.value;t.value=Re;const r=ce(t);let i;try{i=t.computation()}catch(o){i=pt,t.error=o}finally{me(t,r)}n!==yt&&n!==pt&&i!==pt&&t.equal(n,i)?t.value=n:(t.value=i,t.version++)}};let jt=function kn(){throw new Error};function Tt(){jt()}let br=null;function Ne(t,n){H()||Tt(),t.equal(t.value,n)||(t.value=n,function vt(t){t.version++,function ve(){e++}(),De(t),br?.()}(t))}const Pe={...fe,equal:f,value:void 0};var Ot=R(4412),Sn=R(1413),pn=R(8359),Zt=R(6354);const Jn="https://g.co/ng/security#xss";class rt extends Error{constructor(n,r){super(ur(n,r)),this.code=n}}function ur(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}function Rt(t){return{toString:t}.toString()}const Kt="__parameters__";function Xr(t,n,r){return Rt(()=>{const i=function Un(t){return function(...r){if(t){const i=t(...r);for(const o in i)this[o]=i[o]}}}(n);function o(...l){if(this instanceof o)return i.apply(this,l),this;const d=new o(...l);return g.annotation=d,g;function g(b,M,$){const Y=b.hasOwnProperty(Kt)?b[Kt]:Object.defineProperty(b,Kt,{value:[]})[Kt];for(;Y.length<=$;)Y.push(null);return(Y[$]=Y[$]||[]).push(d),b}}return r&&(o.prototype=Object.create(r.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}const nn=globalThis;function Nt(t){for(let n in t)if(t[n]===Nt)return n;throw Error("Could not find renamed property on target object.")}function Er(t,n){for(const r in n)n.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&(t[r]=n[r])}function $t(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map($t).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const r=n.indexOf("\n");return-1===r?n:n.substring(0,r)}function Cr(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Dn=Nt({__forward_ref__:Nt});function je(t){return t.__forward_ref__=je,t.toString=function(){return $t(this())},t}function pe(t){return ae(t)?t():t}function ae(t){return"function"==typeof t&&t.hasOwnProperty(Dn)&&t.__forward_ref__===je}function rn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ir(t){return{providers:t.providers||[],imports:t.imports||[]}}function Jr(t){return Ii(t,jr)||Ii(t,ki)}function Xn(t){return null!==Jr(t)}function Ii(t,n){return t.hasOwnProperty(n)?t[n]:null}function Ui(t){return t&&(t.hasOwnProperty(Bi)||t.hasOwnProperty(ms))?t[Bi]:null}const jr=Nt({\u0275prov:Nt}),Bi=Nt({\u0275inj:Nt}),ki=Nt({ngInjectableDef:Nt}),ms=Nt({ngInjectorDef:Nt});class Pt{constructor(n,r){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=rn({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function un(t){return t&&!!t.\u0275providers}const Ke=Nt({\u0275cmp:Nt}),$n=Nt({\u0275dir:Nt}),Bn=Nt({\u0275pipe:Nt}),Kn=Nt({\u0275mod:Nt}),Bt=Nt({\u0275fac:Nt}),En=Nt({__NG_ELEMENT_ID__:Nt}),Gn=Nt({__NG_ENV_ID__:Nt});function St(t){return"string"==typeof t?t:null==t?"":String(t)}function Zi(t,n){throw new rt(-201,!1)}var zt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(zt||{});let es;function Ts(){return es}function or(t){const n=es;return es=t,n}function Et(t,n,r){const i=Jr(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:r&zt.Optional?null:void 0!==n?n:void Zi()}const Zn={},kr="__NG_DI_FLAG__",Nn="ngTempTokenPath",Mr=/\n/gm,Tr="__source";let Mi;function xr(t){const n=Mi;return Mi=t,n}function er(t,n=zt.Default){if(void 0===Mi)throw new rt(-203,!1);return null===Mi?Et(t,void 0,n):Mi.get(t,n&zt.Optional?null:void 0,n)}function Pn(t,n=zt.Default){return(Ts()||er)(pe(t),n)}function _t(t,n=zt.Default){return Pn(t,Ai(n))}function Ai(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Sr(t){const n=[];for(let r=0;r<t.length;r++){const i=pe(t[r]);if(Array.isArray(i)){if(0===i.length)throw new rt(900,!1);let o,l=zt.Default;for(let d=0;d<i.length;d++){const g=i[d],b=oi(g);"number"==typeof b?-1===b?o=g.token:l|=b:o=g}n.push(Pn(o,l))}else n.push(Pn(i))}return n}function bi(t,n){return t[kr]=n,t.prototype[kr]=n,t}function oi(t){return t[kr]}const Hi=bi(Xr("Optional"),8),ns=bi(Xr("SkipSelf"),4);function gr(t,n){return t.hasOwnProperty(Bt)?t[Bt]:null}function It(t,n){t.forEach(r=>Array.isArray(r)?It(r,n):n(r))}function wn(t,n,r){n>=t.length?t.push(r):t.splice(n,0,r)}function $r(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Hn(t,n,r){let i=Oi(t,n);return i>=0?t[1|i]=r:(i=~i,function bs(t,n,r,i){let o=t.length;if(o==n)t.push(r,i);else if(1===o)t.push(i,t[0]),t[0]=r;else{for(o--,t.push(t[o-1],t[o]);o>n;)t[o]=t[o-2],o--;t[n]=r,t[n+1]=i}}(t,i,n,r)),i}function Vr(t,n){const r=Oi(t,n);if(r>=0)return t[1|r]}function Oi(t,n){return function Xs(t,n,r){let i=0,o=t.length>>r;for(;o!==i;){const l=i+(o-i>>1),d=t[l<<r];if(n===d)return l<<r;d>n?o=l:i=l+1}return~(o<<r)}(t,n,1)}const vr={},sn=[],Ur=new Pt(""),Ks=new Pt("",-1),ai=new Pt("");class li{get(n,r=Zn){if(r===Zn){const i=new Error(`NullInjectorError: No provider for ${$t(n)}!`);throw i.name="NullInjectorError",i}return r}}var Qs=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Qs||{}),Ci=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ci||{}),tr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(tr||{});function wi(t,n,r){let i=t.length;for(;;){const o=t.indexOf(n,r);if(-1===o)return o;if(0===o||t.charCodeAt(o-1)<=32){const l=n.length;if(o+l===i||t.charCodeAt(o+l)<=32)return o}r=o+1}}function Js(t,n,r){let i=0;for(;i<r.length;){const o=r[i];if("number"==typeof o){if(0!==o)break;i++;const l=r[i++],d=r[i++],g=r[i++];t.setAttribute(n,d,g,l)}else{const l=o,d=r[++i];Zs(l)?t.setProperty(n,l,d):t.setAttribute(n,l,d),i++}}return i}function bo(t){return 3===t||4===t||6===t}function Zs(t){return 64===t.charCodeAt(0)}function An(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let r=-1;for(let i=0;i<n.length;i++){const o=n[i];"number"==typeof o?r=o:0===r||Es(t,r,o,null,-1===r||2===r?n[++i]:null)}}return t}function Es(t,n,r,i,o){let l=0,d=t.length;if(-1===n)d=-1;else for(;l<t.length;){const g=t[l++];if("number"==typeof g){if(g===n){d=-1;break}if(g>n){d=l-1;break}}}for(;l<t.length;){const g=t[l];if("number"==typeof g)break;if(g===r){if(null===i)return void(null!==o&&(t[l+1]=o));if(i===t[l+1])return void(t[l+2]=o)}l++,null!==i&&l++,null!==o&&l++}-1!==d&&(t.splice(d,0,n),l=d+1),t.splice(l++,0,r),null!==i&&t.splice(l++,0,i),null!==o&&t.splice(l++,0,o)}const Di="ng-template";function Cs(t,n,r,i){let o=0;if(i){for(;o<n.length&&"string"==typeof n[o];o+=2)if("class"===n[o]&&-1!==wi(n[o+1].toLowerCase(),r,0))return!0}else if(ui(t))return!1;if(o=n.indexOf(1,o),o>-1){let l;for(;++o<n.length&&"string"==typeof(l=n[o]);)if(l.toLowerCase()===r)return!0}return!1}function ui(t){return 4===t.type&&t.value!==Di}function Zr(t,n,r){return n===(4!==t.type||r?t.value:Di)}function A(t,n,r){let i=4;const o=t.attrs,l=null!==o?function We(t){for(let n=0;n<t.length;n++)if(bo(t[n]))return n;return t.length}(o):0;let d=!1;for(let g=0;g<n.length;g++){const b=n[g];if("number"!=typeof b){if(!d)if(4&i){if(i=2|1&i,""!==b&&!Zr(t,b,r)||""===b&&1===n.length){if(N(i))return!1;d=!0}}else if(8&i){if(null===o||!Cs(t,o,b,r)){if(N(i))return!1;d=!0}}else{const M=n[++g],$=x(b,o,ui(t),r);if(-1===$){if(N(i))return!1;d=!0;continue}if(""!==M){let Y;if(Y=$>l?"":o[$+1].toLowerCase(),2&i&&M!==Y){if(N(i))return!1;d=!0}}}}else{if(!d&&!N(i)&&!N(b))return!1;if(d&&N(b))continue;d=!1,i=b|1&i}}return N(i)||d}function N(t){return!(1&t)}function x(t,n,r,i){if(null===n)return-1;let o=0;if(i||!r){let l=!1;for(;o<n.length;){const d=n[o];if(d===t)return o;if(3===d||6===d)l=!0;else{if(1===d||2===d){let g=n[++o];for(;"string"==typeof g;)g=n[++o];continue}if(4===d)break;if(0===d){o+=4;continue}}o+=l?1:2}return-1}return function Gt(t,n){let r=t.indexOf(4);if(r>-1)for(r++;r<t.length;){const i=t[r];if("number"==typeof i)return-1;if(i===n)return r;r++}return-1}(n,t)}function G(t,n,r=!1){for(let i=0;i<n.length;i++)if(A(t,n[i],r))return!0;return!1}function xi(t,n){e:for(let r=0;r<n.length;r++){const i=n[r];if(t.length===i.length){for(let o=0;o<t.length;o++)if(t[o]!==i[o])continue e;return!0}}return!1}function ci(t,n){return t?":not("+n.trim()+")":n}function fr(t){let n=t[0],r=1,i=2,o="",l=!1;for(;r<t.length;){let d=t[r];if("string"==typeof d)if(2&i){const g=t[++r];o+="["+d+(g.length>0?'="'+g+'"':"")+"]"}else 8&i?o+="."+d:4&i&&(o+=" "+d);else""!==o&&!N(d)&&(n+=ci(l,o),o=""),i=d,l=l||!N(i);r++}return""!==o&&(n+=ci(l,o)),n}function Os(t){return Rt(()=>{const n=Ni(t),r={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Qs.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ci.Emulated,styles:t.styles||sn,_:null,schemas:t.schemas||null,tView:null,id:""};no(r);const i=t.dependencies;return r.directiveDefs=Ps(i,!1),r.pipeDefs=Ps(i,!0),r.id=function os(t){let n=0;const r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const o of r)n=Math.imul(31,n)+o.charCodeAt(0)|0;return n+=2147483648,"c"+n}(r),r})}function eo(t){return Wt(t)||ar(t)}function is(t){return null!==t}function to(t){return Rt(()=>({type:t.type,bootstrap:t.bootstrap||sn,declarations:t.declarations||sn,imports:t.imports||sn,exports:t.exports||sn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ns(t,n){if(null==t)return vr;const r={};for(const i in t)if(t.hasOwnProperty(i)){const o=t[i];let l,d,g=tr.None;Array.isArray(o)?(g=o[0],l=o[1],d=o[2]??l):(l=o,d=o),n?(r[l]=g!==tr.None?[i,g]:i,n[l]=d):r[l]=i}return r}function ea(t){return Rt(()=>{const n=Ni(t);return no(n),n})}function ta(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Wt(t){return t[Ke]||null}function ar(t){return t[$n]||null}function lr(t){return t[Bn]||null}function ss(t){const n=Wt(t)||ar(t)||lr(t);return null!==n&&n.standalone}function pr(t,n){const r=t[Kn]||null;if(!r&&!0===n)throw new Error(`Type ${$t(t)} does not have '\u0275mod' property.`);return r}function Ni(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||vr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||sn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ns(t.inputs,n),outputs:Ns(t.outputs),debugInfo:null}}function no(t){t.features?.forEach(n=>n(t))}function Ps(t,n){if(!t)return null;const r=n?lr:eo;return()=>("function"==typeof t?t():t).map(i=>r(i)).filter(is)}function di(t){return{\u0275providers:t}}function na(...t){return{\u0275providers:Po(0,t),\u0275fromNgModule:!0}}function Po(t,...n){const r=[],i=new Set;let o;const l=d=>{r.push(d)};return It(n,d=>{const g=d;Co(g,l,[],i)&&(o||=[],o.push(g))}),void 0!==o&&lo(o,l),r}function lo(t,n){for(let r=0;r<t.length;r++){const{ngModule:i,providers:o}=t[r];jo(o,l=>{n(l,i)})}}function Co(t,n,r,i){if(!(t=pe(t)))return!1;let o=null,l=Ui(t);const d=!l&&Wt(t);if(l||d){if(d&&!d.standalone)return!1;o=t}else{const b=t.ngModule;if(l=Ui(b),!l)return!1;o=b}const g=i.has(o);if(d){if(g)return!1;if(i.add(o),d.dependencies){const b="function"==typeof d.dependencies?d.dependencies():d.dependencies;for(const M of b)Co(M,n,r,i)}}else{if(!l)return!1;{if(null!=l.imports&&!g){let M;i.add(o);try{It(l.imports,$=>{Co($,n,r,i)&&(M||=[],M.push($))})}finally{}void 0!==M&&lo(M,n)}if(!g){const M=gr(o)||(()=>new o);n({provide:o,useFactory:M,deps:sn},o),n({provide:ai,useValue:o,multi:!0},o),n({provide:Ur,useValue:()=>Pn(o),multi:!0},o)}const b=l.providers;if(null!=b&&!g){const M=t;jo(b,$=>{n($,M)})}}}return o!==t&&void 0!==t.providers}function jo(t,n){for(let r of t)un(r)&&(r=r.\u0275providers),Array.isArray(r)?jo(r,n):n(r)}const Lo=Nt({provide:String,useValue:Nt});function wo(t){return null!==t&&"object"==typeof t&&Lo in t}function ws(t){return"function"==typeof t}const ro=new Pt(""),uo={},$o={};let co;function js(){return void 0===co&&(co=new li),co}class ei{}class Ls extends ei{get destroyed(){return this._destroyed}constructor(n,r,i,o){super(),this.parent=r,this.source=i,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Si(n,d=>this.processProvider(d)),this.records.set(Ks,as(void 0,this)),o.has("environment")&&this.records.set(ei,as(void 0,this));const l=this.records.get(ro);null!=l&&"string"==typeof l.value&&this.scopes.add(l.value),this.injectorDefTypes=new Set(this.get(ai,sn,zt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=W(null);try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of r)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),W(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const r=xr(this),i=or(void 0);try{return n()}finally{xr(r),or(i)}}get(n,r=Zn,i=zt.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Gn))return n[Gn](this);i=Ai(i);const l=xr(this),d=or(void 0);try{if(!(i&zt.SkipSelf)){let b=this.records.get(n);if(void 0===b){const M=function Vo(t){return"function"==typeof t||"object"==typeof t&&t instanceof Pt}(n)&&Jr(n);b=M&&this.injectableDefInScope(M)?as(zi(n),uo):null,this.records.set(n,b)}if(null!=b)return this.hydrate(n,b)}return(i&zt.Self?js():this.parent).get(n,r=i&zt.Optional&&r===Zn?null:r)}catch(g){if("NullInjectorError"===g.name){if((g[Nn]=g[Nn]||[]).unshift($t(n)),l)throw g;return function As(t,n,r,i){const o=t[Nn];throw n[Tr]&&o.unshift(n[Tr]),t.message=function ys(t,n,r,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let o=$t(n);if(Array.isArray(n))o=n.map($t).join(" -> ");else if("object"==typeof n){let l=[];for(let d in n)if(n.hasOwnProperty(d)){let g=n[d];l.push(d+":"+("string"==typeof g?JSON.stringify(g):$t(g)))}o=`{${l.join(", ")}}`}return`${r}${i?"("+i+")":""}[${o}]: ${t.replace(Mr,"\n  ")}`}("\n"+t.message,o,r,i),t.ngTokenPath=o,t[Nn]=null,t}(g,n,"R3InjectorError",this.source)}throw g}finally{or(d),xr(l)}}resolveInjectorInitializers(){const n=W(null),r=xr(this),i=or(void 0);try{const l=this.get(Ur,sn,zt.Self);for(const d of l)d()}finally{xr(r),or(i),W(n)}}toString(){const n=[],r=this.records;for(const i of r.keys())n.push($t(i));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new rt(205,!1)}processProvider(n){let r=ws(n=pe(n))?n:pe(n&&n.provide);const i=function xo(t){return wo(t)?as(void 0,t.useValue):as(Wi(t),uo)}(n);if(!ws(n)&&!0===n.multi){let o=this.records.get(r);o||(o=as(void 0,uo,!0),o.factory=()=>Sr(o.multi),this.records.set(r,o)),r=n,o.multi.push(n)}this.records.set(r,i)}hydrate(n,r){const i=W(null);try{return r.value===uo&&(r.value=$o,r.value=r.factory()),"object"==typeof r.value&&r.value&&function ia(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{W(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;const r=pe(n.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(n){const r=this._onDestroyHooks.indexOf(n);-1!==r&&this._onDestroyHooks.splice(r,1)}}function zi(t){const n=Jr(t),r=null!==n?n.factory:gr(t);if(null!==r)return r;if(t instanceof Pt)throw new rt(204,!1);if(t instanceof Function)return function Do(t){if(t.length>0)throw new rt(204,!1);const r=function Ms(t){return t&&(t[jr]||t[ki])||null}(t);return null!==r?()=>r.factory(t):()=>new t}(t);throw new rt(204,!1)}function Wi(t,n,r){let i;if(ws(t)){const o=pe(t);return gr(o)||zi(o)}if(wo(t))i=()=>pe(t.useValue);else if(function Br(t){return!(!t||!t.useFactory)}(t))i=()=>t.useFactory(...Sr(t.deps||[]));else if(function Yn(t){return!(!t||!t.useExisting)}(t))i=()=>Pn(pe(t.useExisting));else{const o=pe(t&&(t.useClass||t.provide));if(!function So(t){return!!t.deps}(t))return gr(o)||zi(o);i=()=>new o(...Sr(t.deps))}return i}function as(t,n,r=!1){return{factory:t,value:n,multi:r?[]:void 0}}function Si(t,n){for(const r of t)Array.isArray(r)?Si(r,n):r&&un(r)?Si(r.\u0275providers,n):n(r)}function sa(t,n){t instanceof Ls&&t.assertNotDestroyed();const i=xr(t),o=or(void 0);try{return n()}finally{xr(i),or(o)}}function io(){return void 0!==Ts()||null!=function Ti(){return Mi}()}function Yi(t){if(!io())throw new rt(-203,!1)}const h=0,c=1,m=2,E=3,T=4,j=5,B=6,q=7,K=8,re=9,Ce=10,_e=11,Qe=12,Ge=13,lt=14,st=15,wt=16,Yt=17,Qt=18,Ct=19,Ft=20,xn=21,ti=22,fn=23,dt=25,ni=1,Vs=7,Bo=9,hr=10;var oa=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(oa||{});function Ar(t){return Array.isArray(t)&&"object"==typeof t[ni]}function Gr(t){return Array.isArray(t)&&!0===t[ni]}function Ca(t){return!!(4&t.flags)}function fo(t){return t.componentOffset>-1}function aa(t){return!(1&~t.flags)}function ls(t){return!!t.template}function Go(t){return!!(512&t[m])}class fi{constructor(n,r,i){this.previousValue=n,this.currentValue=r,this.firstChange=i}isFirstChange(){return this.firstChange}}function Bs(t,n,r,i){null!==n?n.applyValueToInputSignal(n,i):t[r]=i}function Pi(){return Fo}function Fo(t){return t.type.prototype.ngOnChanges&&(t.setInput=ua),zl}function zl(){const t=uc(this),n=t?.current;if(n){const r=t.previous;if(r===vr)t.previous=n;else for(let i in n)r[i]=n[i];t.current=null,this.ngOnChanges(n)}}function ua(t,n,r,i,o){const l=this.declaredInputs[i],d=uc(t)||function df(t,n){return t[lc]=n}(t,{previous:vr,current:null}),g=d.current||(d.current={}),b=d.previous,M=b[l];g[l]=new fi(M&&M.currentValue,r,b===vr),Bs(t,n,o,r)}Pi.ngInherit=!0;const lc="__ngSimpleChanges__";function uc(t){return t[lc]||null}const so=function(t,n,r){},cc="svg";function On(t){for(;Array.isArray(t);)t=t[h];return t}function Ho(t,n){return On(n[t])}function ji(t,n){return On(n[t.index])}function wa(t,n){return t.data[n]}function qo(t,n){return t[n]}function us(t,n){const r=n[t];return Ar(r)?r:r[h]}function Da(t){return!(128&~t[m])}function Ds(t,n){return null==n?null:t[n]}function fc(t){t[Yt]=0}function pc(t){1024&t[m]||(t[m]|=1024,Da(t)&&Xa(t))}function Ya(t){return!!(9216&t[m]||t[fn]?.dirty)}function Kl(t){t[Ce].changeDetectionScheduler?.notify(8),64&t[m]&&(t[m]|=1024),Ya(t)&&Xa(t)}function Xa(t){t[Ce].changeDetectionScheduler?.notify(0);let n=po(t);for(;null!==n&&!(8192&n[m])&&(n[m]|=8192,Da(n));)n=po(n)}function zo(t,n){if(!(256&~t[m]))throw new rt(911,!1);null===t[xn]&&(t[xn]=[]),t[xn].push(n)}function po(t){const n=t[E];return Gr(n)?n[E]:n}const Ht={lFrame:Ic(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let mc=!1;function gc(){return Ht.bindingsEnabled}function Wo(){return null!==Ht.skipHydrationRootTNode}function $e(){return Ht.lFrame.lView}function mn(){return Ht.lFrame.tView}function vc(t){return Ht.lFrame.contextLView=t,t[K]}function yc(t){return Ht.lFrame.contextLView=null,t}function Wn(){let t=_c();for(;null!==t&&64===t.type;)t=t.parent;return t}function _c(){return Ht.lFrame.currentTNode}function Gs(t,n){const r=Ht.lFrame;r.currentTNode=t,r.isParent=n}function Zl(){return Ht.lFrame.isParent}function eu(){Ht.lFrame.isParent=!1}function Cc(){return mc}function wc(t){mc=t}function Li(){const t=Ht.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function ho(){return Ht.lFrame.bindingIndex}function Hs(){return Ht.lFrame.bindingIndex++}function mo(t){const n=Ht.lFrame,r=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,r}function Df(t,n){const r=Ht.lFrame;r.bindingIndex=r.bindingRootIndex=t,tu(n)}function tu(t){Ht.lFrame.currentDirectiveIndex=t}function ru(){return Ht.lFrame.currentQueryIndex}function Qa(t){Ht.lFrame.currentQueryIndex=t}function Sf(t){const n=t[c];return 2===n.type?n.declTNode:1===n.type?t[j]:null}function Sc(t,n,r){if(r&zt.SkipSelf){let o=n,l=t;for(;!(o=o.parent,null!==o||r&zt.Host||(o=Sf(l),null===o||(l=l[lt],10&o.type))););if(null===o)return!1;n=o,t=l}const i=Ht.lFrame=Fc();return i.currentTNode=n,i.lView=t,!0}function iu(t){const n=Fc(),r=t[c];Ht.lFrame=n,n.currentTNode=r.firstChild,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex,n.inI18n=!1}function Fc(){const t=Ht.lFrame,n=null===t?null:t.child;return null===n?Ic(t):n}function Ic(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function kc(){const t=Ht.lFrame;return Ht.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Mc=kc;function su(){const t=kc();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function pi(){return Ht.lFrame.selectedIndex}function Yo(t){Ht.lFrame.selectedIndex=t}function rr(){const t=Ht.lFrame;return wa(t.tView,t.selectedIndex)}function Tc(){Ht.lFrame.currentNamespace=cc}function Ja(){!function ou(){Ht.lFrame.currentNamespace=null}()}let Ac=!0;function Sa(){return Ac}function oo(t){Ac=t}function Za(t,n){for(let r=n.directiveStart,i=n.directiveEnd;r<i;r++){const l=t.data[r].type.prototype,{ngAfterContentInit:d,ngAfterContentChecked:g,ngAfterViewInit:b,ngAfterViewChecked:M,ngOnDestroy:$}=l;d&&(t.contentHooks??=[]).push(-r,d),g&&((t.contentHooks??=[]).push(r,g),(t.contentCheckHooks??=[]).push(r,g)),b&&(t.viewHooks??=[]).push(-r,b),M&&((t.viewHooks??=[]).push(r,M),(t.viewCheckHooks??=[]).push(r,M)),null!=$&&(t.destroyHooks??=[]).push(r,$)}}function el(t,n,r){p(t,n,3,r)}function tl(t,n,r,i){(3&t[m])===r&&p(t,n,r,i)}function lu(t,n){let r=t[m];(3&r)===n&&(r&=16383,r+=1,t[m]=r)}function p(t,n,r,i){const l=i??-1,d=n.length-1;let g=0;for(let b=void 0!==i?65535&t[Yt]:0;b<d;b++)if("number"==typeof n[b+1]){if(g=n[b],null!=i&&g>=i)break}else n[b]<0&&(t[Yt]+=65536),(g<l||-1==l)&&(s(t,r,n,b),t[Yt]=(4294901760&t[Yt])+b+2),b++}function S(t,n){so(4,t,n);const r=W(null);try{n.call(t)}finally{W(r),so(5,t,n)}}function s(t,n,r,i){const o=r[i]<0,l=r[i+1],g=t[o?-r[i]:r[i]];o?t[m]>>14<t[Yt]>>16&&(3&t[m])===n&&(t[m]+=16384,S(g,l)):S(g,l)}const a=-1;class u{constructor(n,r,i){this.factory=n,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=i}}const Ln={};class Ut{constructor(n,r){this.injector=n,this.parentInjector=r}get(n,r,i){i=Ai(i);const o=this.injector.get(n,Ln,i);return o!==Ln||r===Ln?o:this.parentInjector.get(n,r,i)}}function Xi(t){return t!==a}function cs(t){return 32767&t}function Io(t,n){let r=function Fa(t){return t>>16}(t),i=n;for(;r>0;)i=i[lt],r--;return i}let nl=!0;function Xo(t){const n=nl;return nl=t,n}const Ia=255,ka=5;let rl=0;const ds={};function Ko(t,n){const r=vm(t,n);if(-1!==r)return r;const i=n[c];i.firstCreatePass&&(t.injectorIndex=n.length,fa(i.data,t),fa(n,null),fa(i.blueprint,null));const o=Rc(t,n),l=t.injectorIndex;if(Xi(o)){const d=cs(o),g=Io(o,n),b=g[c].data;for(let M=0;M<8;M++)n[l+M]=g[d+M]|b[d+M]}return n[l+8]=o,l}function fa(t,n){t.push(0,0,0,0,0,0,0,0,n)}function vm(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Rc(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let r=0,i=null,o=n;for(;null!==o;){if(i=xm(o),null===i)return a;if(r++,o=o[lt],-1!==i.injectorIndex)return i.injectorIndex|r<<16}return a}function kf(t,n,r){!function da(t,n,r){let i;"string"==typeof r?i=r.charCodeAt(0)||0:r.hasOwnProperty(En)&&(i=r[En]),null==i&&(i=r[En]=rl++);const o=i&Ia;n.data[t+(o>>ka)]|=1<<o}(t,n,r)}function ym(t,n,r){if(r&zt.Optional||void 0!==t)return t;Zi()}function _m(t,n,r,i){if(r&zt.Optional&&void 0===i&&(i=null),!(r&(zt.Self|zt.Host))){const o=t[re],l=or(void 0);try{return o?o.get(n,i,r&zt.Optional):Et(n,i,r&zt.Optional)}finally{or(l)}}return ym(i,0,r)}function bm(t,n,r,i=zt.Default,o){if(null!==t){if(2048&n[m]&&!(i&zt.Self)){const d=function Vb(t,n,r,i,o){let l=t,d=n;for(;null!==l&&null!==d&&2048&d[m]&&!(512&d[m]);){const g=Em(l,d,r,i|zt.Self,ds);if(g!==ds)return g;let b=l.parent;if(!b){const M=d[Ft];if(M){const $=M.get(r,ds,i);if($!==ds)return $}b=xm(d),d=d[lt]}l=b}return o}(t,n,r,i,ds);if(d!==ds)return d}const l=Em(t,n,r,i,ds);if(l!==ds)return l}return _m(n,r,i,o)}function Em(t,n,r,i,o){const l=function Lb(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(En)?t[En]:void 0;return"number"==typeof n?n>=0?n&Ia:$b:n}(r);if("function"==typeof l){if(!Sc(n,t,i))return i&zt.Host?ym(o,0,i):_m(n,r,i,o);try{let d;if(d=l(i),null!=d||i&zt.Optional)return d;Zi()}finally{Mc()}}else if("number"==typeof l){let d=null,g=vm(t,n),b=a,M=i&zt.Host?n[st][j]:null;for((-1===g||i&zt.SkipSelf)&&(b=-1===g?Rc(t,n):n[g+8],b!==a&&wm(i,!1)?(d=n[c],g=cs(b),n=Io(b,n)):g=-1);-1!==g;){const $=n[c];if(Cm(l,g,$.data)){const Y=jb(g,n,r,d,i,M);if(Y!==ds)return Y}b=n[g+8],b!==a&&wm(i,n[c].data[g+8]===M)&&Cm(l,g,n)?(d=$,g=cs(b),n=Io(b,n)):g=-1}}return o}function jb(t,n,r,i,o,l){const d=n[c],g=d.data[t+8],$=Oc(g,d,r,null==i?fo(g)&&nl:i!=d&&!!(3&g.type),o&zt.Host&&l===g);return null!==$?Ma(n,d,$,g):ds}function Oc(t,n,r,i,o){const l=t.providerIndexes,d=n.data,g=1048575&l,b=t.directiveStart,$=l>>20,oe=o?g+$:t.directiveEnd;for(let ue=i?g:g+$;ue<oe;ue++){const be=d[ue];if(ue<b&&r===be||ue>=b&&be.type===r)return ue}if(o){const ue=d[b];if(ue&&ls(ue)&&ue.type===r)return b}return null}function Ma(t,n,r,i){let o=t[r];const l=n.data;if(function k(t){return t instanceof u}(o)){const d=o;d.resolving&&function yi(t,n){throw n&&n.join(" > "),new rt(-200,t)}(function mt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():St(t)}(l[r]));const g=Xo(d.canSeeViewProviders);d.resolving=!0;const M=d.injectImpl?or(d.injectImpl):null;Sc(t,i,zt.Default);try{o=t[r]=d.factory(void 0,l,t,i),n.firstCreatePass&&r>=i.directiveStart&&function If(t,n,r){const{ngOnChanges:i,ngOnInit:o,ngDoCheck:l}=n.type.prototype;if(i){const d=Fo(n);(r.preOrderHooks??=[]).push(t,d),(r.preOrderCheckHooks??=[]).push(t,d)}o&&(r.preOrderHooks??=[]).push(0-t,o),l&&((r.preOrderHooks??=[]).push(t,l),(r.preOrderCheckHooks??=[]).push(t,l))}(r,l[r],n)}finally{null!==M&&or(M),Xo(g),d.resolving=!1,Mc()}}return o}function Cm(t,n,r){return!!(r[n+(t>>ka)]&1<<t)}function wm(t,n){return!(t&zt.Self||t&zt.Host&&n)}class hi{constructor(n,r){this._tNode=n,this._lView=r}get(n,r,i){return bm(this._tNode,this._lView,n,Ai(i),r)}}function $b(){return new hi(Wn(),$e())}function Dm(t){return Rt(()=>{const n=t.prototype.constructor,r=n[Bt]||Mf(n),i=Object.prototype;let o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==i;){const l=o[Bt]||Mf(o);if(l&&l!==r)return l;o=Object.getPrototypeOf(o)}return l=>new l})}function Mf(t){return ae(t)?()=>{const n=Mf(pe(t));return n&&n()}:gr(t)}function xm(t){const n=t[c],r=n.type;return 2===r?n.declTNode:1===r?t[j]:null}function Nc(t){return function Pb(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const r=t.attrs;if(r){const i=r.length;let o=0;for(;o<i;){const l=r[o];if(bo(l))break;if(0===l)o+=2;else if("number"==typeof l)for(o++;o<i&&"string"==typeof r[o];)o++;else{if(l===n)return r[o+1];o+=2}}}return null}(Wn(),t)}function Mm(t,n=null,r=null,i){const o=Tm(t,n,r,i);return o.resolveInjectorInitializers(),o}function Tm(t,n=null,r=null,i,o=new Set){const l=[r||sn,na(t)];return i=i||("object"==typeof t?void 0:$t(t)),new Ls(l,n||js(),i||null,o)}class Ki{static{this.THROW_IF_NOT_FOUND=Zn}static{this.NULL=new li}static create(n,r){if(Array.isArray(n))return Mm({name:""},r,n,"");{const i=n.name??"";return Mm({name:i},n.parent,n.providers,i)}}static{this.\u0275prov=rn({token:Ki,providedIn:"any",factory:()=>Pn(Ks)})}static{this.__NG_ELEMENT_ID__=-1}}new Pt("").__NG_ELEMENT_ID__=t=>{const n=Wn();if(null===n)throw new rt(204,!1);if(2&n.type)return n.value;if(t&zt.Optional)return null;throw new rt(204,!1)};function Af(t){return t.ngOriginalError}const Rm=!0;let ol=(()=>{class t{static{this.__NG_ELEMENT_ID__=Kb}static{this.__NG_ENV_ID__=r=>r}}return t})();class Xb extends ol{constructor(n){super(),this._lView=n}onDestroy(n){return zo(this._lView,n),()=>function Ql(t,n){if(null===t[xn])return;const r=t[xn].indexOf(n);-1!==r&&t[xn].splice(r,1)}(this._lView,n)}}function Kb(){return new Xb($e())}let Ta=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ot.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=rn({token:t,providedIn:"root",factory:()=>new t})}}return t})();const ko=class Qb extends Sn.B{constructor(n=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=n,io()&&(this.destroyRef=_t(ol,{optional:!0})??void 0,this.pendingTasks=_t(Ta,{optional:!0})??void 0)}emit(n){const r=W(null);try{super.next(n)}finally{W(r)}}subscribe(n,r,i){let o=n,l=r||(()=>null),d=i;if(n&&"object"==typeof n){const b=n;o=b.next?.bind(b),l=b.error?.bind(b),d=b.complete?.bind(b)}this.__isAsync&&(l=this.wrapInTimeout(l),o&&(o=this.wrapInTimeout(o)),d&&(d=this.wrapInTimeout(d)));const g=super.subscribe({next:o,error:l,complete:d});return n instanceof pn.yU&&n.add(g),g}wrapInTimeout(n){return r=>{const i=this.pendingTasks?.add();setTimeout(()=>{n(r),void 0!==i&&this.pendingTasks?.remove(i)})}}};function jc(...t){}function Om(t){let n,r;function i(){t=jc;try{void 0!==r&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(r),void 0!==n&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{t(),i()}),"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(()=>{t(),i()})),()=>i()}function Nm(t){return queueMicrotask(()=>t()),()=>{t=jc}}const Rf="isAngularZone",Lc=Rf+"_ID";let Jb=0;class yr{constructor(n){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ko(!1),this.onMicrotaskEmpty=new ko(!1),this.onStable=new ko(!1),this.onError=new ko(!1);const{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:l=Rm}=n;if(typeof Zone>"u")throw new rt(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!o&&i,d.shouldCoalesceRunChangeDetection=o,d.callbackScheduled=!1,d.scheduleInRootZone=l,function tE(t){const n=()=>{!function eE(t){function n(){Om(()=>{t.callbackScheduled=!1,Nf(t),t.isCheckStableRunning=!0,Of(t),t.isCheckStableRunning=!1})}t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,t.scheduleInRootZone?Zone.root.run(()=>{n()}):t._outer.run(()=>{n()}),Nf(t))}(t)},r=Jb++;t._inner=t._inner.fork({name:"angular",properties:{[Rf]:!0,[Lc]:r,[Lc+r]:!0},onInvokeTask:(i,o,l,d,g,b)=>{if(function nE(t){return Lm(t,"__ignore_ng_zone__")}(b))return i.invokeTask(l,d,g,b);try{return Pm(t),i.invokeTask(l,d,g,b)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&n(),jm(t)}},onInvoke:(i,o,l,d,g,b,M)=>{try{return Pm(t),i.invoke(l,d,g,b,M)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!function rE(t){return Lm(t,"__scheduler_tick__")}(b)&&n(),jm(t)}},onHasTask:(i,o,l,d)=>{i.hasTask(l,d),o===l&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,Nf(t),Of(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(i,o,l,d)=>(i.handleError(l,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Rf)}static assertInAngularZone(){if(!yr.isInAngularZone())throw new rt(909,!1)}static assertNotInAngularZone(){if(yr.isInAngularZone())throw new rt(909,!1)}run(n,r,i){return this._inner.run(n,r,i)}runTask(n,r,i,o){const l=this._inner,d=l.scheduleEventTask("NgZoneEvent: "+o,n,Zb,jc,jc);try{return l.runTask(d,r,i)}finally{l.cancelTask(d)}}runGuarded(n,r,i){return this._inner.runGuarded(n,r,i)}runOutsideAngular(n){return this._outer.run(n)}}const Zb={};function Of(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Nf(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&!0===t.callbackScheduled)}function Pm(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function jm(t){t._nesting--,Of(t)}class Pf{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ko,this.onMicrotaskEmpty=new ko,this.onStable=new ko,this.onError=new ko}run(n,r,i){return n.apply(r,i)}runGuarded(n,r,i){return n.apply(r,i)}runOutsideAngular(n){return n()}runTask(n,r,i,o){return n.apply(r,i)}}function Lm(t,n){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0]?.data?.[n]}class Qo{constructor(){this._console=console}handleError(n){const r=this._findOriginalError(n);this._console.error("ERROR",n),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(n){let r=n&&Af(n);for(;r&&Af(r);)r=Af(r);return r||null}}const sE=new Pt("",{providedIn:"root",factory:()=>{const t=_t(yr),n=_t(Qo);return r=>t.runOutsideAngular(()=>n.handleError(r))}});function oE(){return al(Wn(),$e())}function al(t,n){return new cu(ji(t,n))}let cu=(()=>{class t{constructor(r){this.nativeElement=r}static{this.__NG_ELEMENT_ID__=oE}}return t})();function Vm(t){return t instanceof cu?t.nativeElement:t}function aE(){return this._results[Symbol.iterator]()}class jf{get changes(){return this._changes??=new ko}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=jf.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=aE)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,r){return this._results.reduce(n,r)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,r){this.dirty=!1;const i=function Qn(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Lr(t,n,r){if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++){let o=t[i],l=n[i];if(r&&(o=r(o),l=r(l)),l!==o)return!1}return!0}(this._results,i,r))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function fu(t){return!(128&~t.flags)}const $f=new Map;let uE=0;function Vf(t){$f.delete(t[Ct])}const $c="__ngContext__";function Qi(t,n){Ar(n)?(t[$c]=n[Ct],function dE(t){$f.set(t[Ct],t)}(n)):t[$c]=n}function Km(t){return Jm(t[Qe])}function Qm(t){return Jm(t[T])}function Jm(t){for(;null!==t&&!Gr(t);)t=t[T];return t}let Bf;function FE(t){Bf=t}function pa(){if(void 0!==Bf)return Bf;if(typeof document<"u")return document;throw new rt(210,!1)}const Uc=new Pt("",{providedIn:"root",factory:()=>IE}),IE="ng",og=new Pt(""),Bc=new Pt("",{providedIn:"platform",factory:()=>"unknown"}),kE=new Pt("",{providedIn:"root",factory:()=>pa().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let ag=()=>null;function Xf(t,n,r=!1){return ag(t,n,r)}const mg=new Pt("",{providedIn:"root",factory:()=>!1});let Xc,Kc;function dl(t){return function ep(){if(void 0===Xc&&(Xc=null,nn.trustedTypes))try{Xc=nn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Xc}()?.createHTML(t)||t}function tp(){if(void 0===Kc&&(Kc=null,nn.trustedTypes))try{Kc=nn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Kc}function yg(t){return tp()?.createHTML(t)||t}function bg(t){return tp()?.createScriptURL(t)||t}class Eg{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Jn})`}}function ha(t){return t instanceof Eg?t.changingThisBreaksApplicationSecurity:t}function _u(t,n){const r=function YE(t){return t instanceof Eg&&t.getTypeName()||null}(t);if(null!=r&&r!==n){if("ResourceURL"===r&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${r} (see ${Jn})`)}return r===n}class XE{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const r=(new window.DOMParser).parseFromString(dl(n),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(n):(r.firstChild?.remove(),r)}catch{return null}}}class KE{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const r=this.inertDocument.createElement("template");return r.innerHTML=dl(n),r}}const JE=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function np(t){return(t=String(t)).match(JE)?t:"unsafe:"+t}function Jo(t){const n={};for(const r of t.split(","))n[r]=!0;return n}function bu(...t){const n={};for(const r of t)for(const i in r)r.hasOwnProperty(i)&&(n[i]=!0);return n}const wg=Jo("area,br,col,hr,img,wbr"),Dg=Jo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),xg=Jo("rp,rt"),rp=bu(wg,bu(Dg,Jo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),bu(xg,Jo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),bu(xg,Dg)),ip=Jo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Sg=bu(ip,Jo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Jo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ZE=Jo("script,style,template");class eC{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let r=n.firstChild,i=!0,o=[];for(;r;)if(r.nodeType===Node.ELEMENT_NODE?i=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,i&&r.firstChild)o.push(r),r=rC(r);else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let l=nC(r);if(l){r=l;break}r=o.pop()}return this.buf.join("")}startElement(n){const r=Fg(n).toLowerCase();if(!rp.hasOwnProperty(r))return this.sanitizedSomething=!0,!ZE.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const i=n.attributes;for(let o=0;o<i.length;o++){const l=i.item(o),d=l.name,g=d.toLowerCase();if(!Sg.hasOwnProperty(g)){this.sanitizedSomething=!0;continue}let b=l.value;ip[g]&&(b=np(b)),this.buf.push(" ",d,'="',kg(b),'"')}return this.buf.push(">"),!0}endElement(n){const r=Fg(n).toLowerCase();rp.hasOwnProperty(r)&&!wg.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(n){this.buf.push(kg(n))}}function nC(t){const n=t.nextSibling;if(n&&t!==n.previousSibling)throw Ig(n);return n}function rC(t){const n=t.firstChild;if(n&&function tC(t,n){return(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(t,n))throw Ig(n);return n}function Fg(t){const n=t.nodeName;return"string"==typeof n?n:"FORM"}function Ig(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}const iC=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,sC=/([^\#-~ |!])/g;function kg(t){return t.replace(/&/g,"&amp;").replace(iC,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(sC,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Qc;function sp(t){return"content"in t&&function aC(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var fl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(fl||{});function Mg(t){const n=Eu();return n?yg(n.sanitize(fl.HTML,t)||""):_u(t,"HTML")?yg(ha(t)):function oC(t,n){let r=null;try{Qc=Qc||function Cg(t){const n=new KE(t);return function QE(){try{return!!(new window.DOMParser).parseFromString(dl(""),"text/html")}catch{return!1}}()?new XE(n):n}(t);let i=n?String(n):"";r=Qc.getInertBodyElement(i);let o=5,l=i;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,i=l,l=r.innerHTML,r=Qc.getInertBodyElement(i)}while(i!==l);return dl((new eC).sanitizeChildren(sp(r)||r))}finally{if(r){const i=sp(r)||r;for(;i.firstChild;)i.firstChild.remove()}}}(pa(),St(t))}function Tg(t){const n=Eu();return n?n.sanitize(fl.URL,t)||"":_u(t,"URL")?ha(t):np(St(t))}function Ag(t){const n=Eu();if(n)return bg(n.sanitize(fl.RESOURCE_URL,t)||"");if(_u(t,"ResourceURL"))return bg(ha(t));throw new rt(904,!1)}function Rg(t,n,r){return function fC(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?Ag:Tg}(n,r)(t)}function Eu(){const t=$e();return t&&t[Ce].sanitizer}const pC=/^>|^->|<!--|-->|--!>|<!-$/g,hC=/(<|>)/g,mC="\u200b$1\u200b";function Lg(t){return t.ownerDocument.defaultView}function qs(t){return t instanceof Function?t():t}var ed=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ed||{});let lp;function up(t,n){return lp(t,n)}function hl(t,n,r,i,o){if(null!=i){let l,d=!1;Gr(i)?l=i:Ar(i)&&(d=!0,i=i[h]);const g=On(i);0===t&&null!==r?null==o?Wg(n,r,g):Ra(n,r,g,o||null,!0):1===t&&null!==r?Ra(n,r,g,o||null,!0):2===t?function wu(t,n,r){t.removeChild(null,n,r)}(n,g,d):3===t&&n.destroyNode(g),null!=l&&function OC(t,n,r,i,o){const l=r[Vs];l!==On(r)&&hl(n,t,i,l,o);for(let g=hr;g<r.length;g++){const b=r[g];id(b[c],b,t,n,i,l)}}(n,t,l,r,o)}}function dp(t,n){return t.createComment(function Og(t){return t.replace(pC,n=>n.replace(hC,mC))}(n))}function td(t,n,r){return t.createElement(n,r)}function Hg(t,n){n[Ce].changeDetectionScheduler?.notify(9),id(t,n,n[_e],2,null,null)}function qg(t,n){const r=t[Bo],i=n[E];(Ar(i)||n[st]!==i[E][st])&&(t[m]|=oa.HasTransplantedViews),null===r?t[Bo]=[n]:r.push(n)}function fp(t,n){const r=t[Bo],i=r.indexOf(n);r.splice(i,1)}function Cu(t,n){if(t.length<=hr)return;const r=hr+n,i=t[r];if(i){const o=i[wt];null!==o&&o!==t&&fp(o,i),n>0&&(t[r-1][T]=i[T]);const l=$r(t,hr+n);!function SC(t,n){Hg(t,n),n[h]=null,n[j]=null}(i[c],i);const d=l[Qt];null!==d&&d.detachView(l[c]),i[E]=null,i[T]=null,i[m]&=-129}return i}function nd(t,n){if(!(256&n[m])){const r=n[_e];r.destroyNode&&id(t,n,r,3,null,null),function IC(t){let n=t[Qe];if(!n)return pp(t[c],t);for(;n;){let r=null;if(Ar(n))r=n[Qe];else{const i=n[hr];i&&(r=i)}if(!r){for(;n&&!n[T]&&n!==t;)Ar(n)&&pp(n[c],n),n=n[E];null===n&&(n=t),Ar(n)&&pp(n[c],n),r=n&&n[T]}n=r}}(n)}}function pp(t,n){if(256&n[m])return;const r=W(null);try{n[m]&=-129,n[m]|=256,n[fn]&&Ee(n[fn]),function TC(t,n){let r;if(null!=t&&null!=(r=t.destroyHooks))for(let i=0;i<r.length;i+=2){const o=n[r[i]];if(!(o instanceof u)){const l=r[i+1];if(Array.isArray(l))for(let d=0;d<l.length;d+=2){const g=o[l[d]],b=l[d+1];so(4,g,b);try{b.call(g)}finally{so(5,g,b)}}else{so(4,o,l);try{l.call(o)}finally{so(5,o,l)}}}}}(t,n),function MC(t,n){const r=t.cleanup,i=n[q];if(null!==r)for(let l=0;l<r.length-1;l+=2)if("string"==typeof r[l]){const d=r[l+3];d>=0?i[d]():i[-d].unsubscribe(),l+=2}else r[l].call(i[r[l+1]]);null!==i&&(n[q]=null);const o=n[xn];if(null!==o){n[xn]=null;for(let l=0;l<o.length;l++)(0,o[l])()}}(t,n),1===n[c].type&&n[_e].destroy();const i=n[wt];if(null!==i&&Gr(n[E])){i!==n[E]&&fp(i,n);const o=n[Qt];null!==o&&o.detachView(t)}Vf(n)}finally{W(r)}}function hp(t,n,r){return function zg(t,n,r){let i=n;for(;null!==i&&168&i.type;)i=(n=i).parent;if(null===i)return r[h];{const{componentOffset:o}=i;if(o>-1){const{encapsulation:l}=t.data[i.directiveStart+o];if(l===Ci.None||l===Ci.Emulated)return null}return ji(i,r)}}(t,n.parent,r)}function Ra(t,n,r,i,o){t.insertBefore(n,r,i,o)}function Wg(t,n,r){t.appendChild(n,r)}function Yg(t,n,r,i,o){null!==i?Ra(t,n,r,i,o):Wg(t,n,r)}function mp(t,n){return t.parentNode(n)}function Xg(t,n,r){return Qg(t,n,r)}let gp,Qg=function Kg(t,n,r){return 40&t.type?ji(t,r):null};function rd(t,n,r,i){const o=hp(t,i,n),l=n[_e],g=Xg(i.parent||n[j],i,n);if(null!=o)if(Array.isArray(r))for(let b=0;b<r.length;b++)Yg(l,o,r[b],g,!1);else Yg(l,o,r,g,!1);void 0!==gp&&gp(l,i,n,r,o)}function Oa(t,n){if(null!==n){const r=n.type;if(3&r)return ji(n,t);if(4&r)return vp(-1,t[n.index]);if(8&r){const i=n.child;if(null!==i)return Oa(t,i);{const o=t[n.index];return Gr(o)?vp(-1,o):On(o)}}if(128&r)return Oa(t,n.next);if(32&r)return up(n,t)()||On(t[n.index]);{const i=Zg(t,n);return null!==i?Array.isArray(i)?i[0]:Oa(po(t[st]),i):Oa(t,n.next)}}return null}function Zg(t,n){return null!==n?t[st][j].projection[n.projection]:null}function vp(t,n){const r=hr+t+1;if(r<n.length){const i=n[r],o=i[c].firstChild;if(null!==o)return Oa(i,o)}return n[Vs]}function yp(t,n,r,i,o,l,d){for(;null!=r;){if(128===r.type){r=r.next;continue}const g=i[r.index],b=r.type;if(d&&0===n&&(g&&Qi(On(g),i),r.flags|=2),32&~r.flags)if(8&b)yp(t,n,r.child,i,o,l,!1),hl(n,t,o,g,l);else if(32&b){const M=up(r,i);let $;for(;$=M();)hl(n,t,o,$,l);hl(n,t,o,g,l)}else 16&b?t0(t,n,i,r,o,l):hl(n,t,o,g,l);r=d?r.projectionNext:r.next}}function id(t,n,r,i,o,l){yp(r,i,t.firstChild,n,o,l,!1)}function t0(t,n,r,i,o,l){const d=r[st],b=d[j].projection[i.projection];if(Array.isArray(b))for(let M=0;M<b.length;M++)hl(n,t,o,b[M],l);else{let M=b;const $=d[E];fu(i)&&(M.flags|=128),yp(t,n,M,$,o,l,!0)}}function n0(t,n,r){""===r?t.removeAttribute(n,"class"):t.setAttribute(n,"class",r)}function r0(t,n,r){const{mergedAttrs:i,classes:o,styles:l}=r;null!==i&&Js(t,n,i),null!==o&&n0(t,n,o),null!==l&&function PC(t,n,r){t.setAttribute(n,"style",r)}(t,n,l)}const an={};function s0(t=1){o0(mn(),$e(),pi()+t,!1)}function o0(t,n,r,i){if(!i)if(3&~n[m]){const l=t.preOrderHooks;null!==l&&tl(n,l,0,r)}else{const l=t.preOrderCheckHooks;null!==l&&el(n,l,r)}Yo(r)}function ml(t,n=zt.Default){const r=$e();return null===r?Pn(t,n):bm(Wn(),r,pe(t),n)}function a0(){throw new Error("invalid")}function l0(t,n,r,i,o,l){const d=W(null);try{let g=null;o&tr.SignalBased&&(g=n[i][P]),null!==g&&void 0!==g.transformFn&&(l=g.transformFn(l)),o&tr.HasDecoratorInputTransform&&(l=t.inputTransforms[i].call(n,l)),null!==t.setInput?t.setInput(n,g,l,r,i):Bs(n,g,i,l)}finally{W(d)}}function sd(t,n,r,i,o,l,d,g,b,M,$){const Y=n.blueprint.slice();return Y[h]=o,Y[m]=204|i,(null!==M||t&&2048&t[m])&&(Y[m]|=2048),fc(Y),Y[E]=Y[lt]=t,Y[K]=r,Y[Ce]=d||t&&t[Ce],Y[_e]=g||t&&t[_e],Y[re]=b||t&&t[re]||null,Y[j]=l,Y[Ct]=function cE(){return uE++}(),Y[B]=$,Y[Ft]=M,Y[st]=2==n.type?t[st]:Y,Y}function Na(t,n,r,i,o){let l=t.data[n];if(null===l)l=function _p(t,n,r,i,o){const l=_c(),d=Zl(),b=t.data[n]=function HC(t,n,r,i,o,l){let d=n?n.injectorIndex:-1,g=0;return Wo()&&(g|=128),{type:r,index:i,insertBeforeIndex:null,injectorIndex:d,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:g,providerIndexes:0,value:o,attrs:l,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,d?l:l&&l.parent,r,n,i,o);return null===t.firstChild&&(t.firstChild=b),null!==l&&(d?null==l.child&&null!==b.parent&&(l.child=b):null===l.next&&(l.next=b,b.prev=l)),b}(t,n,r,i,o),function wf(){return Ht.lFrame.inI18n}()&&(l.flags|=32);else if(64&l.type){l.type=r,l.value=i,l.attrs=o;const d=function xa(){const t=Ht.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();l.injectorIndex=null===d?-1:d.injectorIndex}return Gs(l,!0),l}function Du(t,n,r,i){if(0===r)return-1;const o=n.length;for(let l=0;l<r;l++)n.push(i),t.blueprint.push(i),t.data.push(null);return o}function u0(t,n,r,i,o){const l=pi(),d=2&i;try{Yo(-1),d&&n.length>dt&&o0(t,n,dt,!1),so(d?2:0,o),r(i,o)}finally{Yo(l),so(d?3:1,o)}}function bp(t,n,r){if(Ca(n)){const i=W(null);try{const l=n.directiveEnd;for(let d=n.directiveStart;d<l;d++){const g=t.data[d];g.contentQueries&&g.contentQueries(1,r[d],d)}}finally{W(i)}}}function Ep(t,n,r){gc()&&(function QC(t,n,r,i){const o=r.directiveStart,l=r.directiveEnd;fo(r)&&function iw(t,n,r){const i=ji(n,t),o=c0(r);let d=16;r.signals?d=4096:r.onPush&&(d=64);const g=od(t,sd(t,o,null,d,i,n,null,t[Ce].rendererFactory.createRenderer(i,r),null,null,null));t[n.index]=g}(n,r,t.data[o+r.componentOffset]),t.firstCreatePass||Ko(r,n),Qi(i,n);const d=r.initialInputs;for(let g=o;g<l;g++){const b=t.data[g],M=Ma(n,t,g,r);Qi(M,n),null!==d&&sw(0,g-o,M,b,0,d),ls(b)&&(us(r.index,n)[K]=Ma(n,t,g,r))}}(t,n,r,ji(r,n)),!(64&~r.flags)&&m0(t,n,r))}function Cp(t,n,r=ji){const i=n.localNames;if(null!==i){let o=n.index+1;for(let l=0;l<i.length;l+=2){const d=i[l+1],g=-1===d?r(n,t):t[d];t[o++]=g}}}function c0(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=wp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function wp(t,n,r,i,o,l,d,g,b,M,$){const Y=dt+i,oe=Y+o,ue=function LC(t,n){const r=[];for(let i=0;i<n;i++)r.push(i<t?null:an);return r}(Y,oe),be="function"==typeof M?M():M;return ue[c]={type:t,blueprint:ue,template:r,queries:null,viewQuery:g,declTNode:n,data:ue.slice().fill(null,Y),bindingStartIndex:Y,expandoStartIndex:oe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof d?d():d,firstChild:null,schemas:b,consts:be,incompleteFirstPass:!1,ssrId:$}}let d0=()=>null;function f0(t,n,r,i,o){for(let l in n){if(!n.hasOwnProperty(l))continue;const d=n[l];if(void 0===d)continue;i??={};let g,b=tr.None;Array.isArray(d)?(g=d[0],b=d[1]):g=d;let M=l;if(null!==o){if(!o.hasOwnProperty(l))continue;M=o[l]}0===t?p0(i,r,M,g,b):p0(i,r,M,g)}return i}function p0(t,n,r,i,o){let l;t.hasOwnProperty(r)?(l=t[r]).push(n,i):l=t[r]=[n,i],void 0!==o&&l.push(o)}function Ss(t,n,r,i,o,l,d,g){const b=ji(n,r);let $,M=n.inputs;!g&&null!=M&&($=M[i])?(Ip(t,r,$,i,o),fo(n)&&function WC(t,n){const r=us(n,t);16&r[m]||(r[m]|=64)}(r,n.index)):3&n.type&&(i=function zC(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(i),o=null!=d?d(o,n.value||"",i):o,l.setProperty(b,i,o))}function Dp(t,n,r,i){if(gc()){const o=null===i?null:{"":-1},l=function ZC(t,n){const r=t.directiveRegistry;let i=null,o=null;if(r)for(let l=0;l<r.length;l++){const d=r[l];if(G(n,d.selectors,!1))if(i||(i=[]),ls(d))if(null!==d.findHostDirectiveDefs){const g=[];o=o||new Map,d.findHostDirectiveDefs(d,g,o),i.unshift(...g,d),xp(t,n,g.length)}else i.unshift(d),xp(t,n,0);else o=o||new Map,d.findHostDirectiveDefs?.(d,i,o),i.push(d)}return null===i?null:[i,o]}(t,r);let d,g;null===l?d=g=null:[d,g]=l,null!==d&&h0(t,n,r,d,o,g),o&&function ew(t,n,r){if(n){const i=t.localNames=[];for(let o=0;o<n.length;o+=2){const l=r[n[o+1]];if(null==l)throw new rt(-301,!1);i.push(n[o],l)}}}(r,i,o)}r.mergedAttrs=An(r.mergedAttrs,r.attrs)}function h0(t,n,r,i,o,l){for(let M=0;M<i.length;M++)kf(Ko(r,n),t,i[M].type);!function nw(t,n,r){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+r,t.providerIndexes=n}(r,t.data.length,i.length);for(let M=0;M<i.length;M++){const $=i[M];$.providersResolver&&$.providersResolver($)}let d=!1,g=!1,b=Du(t,n,i.length,null);for(let M=0;M<i.length;M++){const $=i[M];r.mergedAttrs=An(r.mergedAttrs,$.hostAttrs),rw(t,r,n,b,$),tw(b,$,o),null!==$.contentQueries&&(r.flags|=4),(null!==$.hostBindings||null!==$.hostAttrs||0!==$.hostVars)&&(r.flags|=64);const Y=$.type.prototype;!d&&(Y.ngOnChanges||Y.ngOnInit||Y.ngDoCheck)&&((t.preOrderHooks??=[]).push(r.index),d=!0),!g&&(Y.ngOnChanges||Y.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(r.index),g=!0),b++}!function qC(t,n,r){const o=n.directiveEnd,l=t.data,d=n.attrs,g=[];let b=null,M=null;for(let $=n.directiveStart;$<o;$++){const Y=l[$],oe=r?r.get(Y):null,be=oe?oe.outputs:null;b=f0(0,Y.inputs,$,b,oe?oe.inputs:null),M=f0(1,Y.outputs,$,M,be);const He=null===b||null===d||ui(n)?null:ow(b,$,d);g.push(He)}null!==b&&(b.hasOwnProperty("class")&&(n.flags|=8),b.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=g,n.inputs=b,n.outputs=M}(t,r,l)}function m0(t,n,r){const i=r.directiveStart,o=r.directiveEnd,l=r.index,d=function xf(){return Ht.lFrame.currentDirectiveIndex}();try{Yo(l);for(let g=i;g<o;g++){const b=t.data[g],M=n[g];tu(g),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&JC(b,M)}}finally{Yo(-1),tu(d)}}function JC(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function xp(t,n,r){n.componentOffset=r,(t.components??=[]).push(n.index)}function tw(t,n,r){if(r){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)r[n.exportAs[i]]=t;ls(n)&&(r[""]=t)}}function rw(t,n,r,i,o){t.data[i]=o;const l=o.factory||(o.factory=gr(o.type)),d=new u(l,ls(o),ml);t.blueprint[i]=d,r[i]=d,function XC(t,n,r,i,o){const l=o.hostBindings;if(l){let d=t.hostBindingOpCodes;null===d&&(d=t.hostBindingOpCodes=[]);const g=~n.index;(function KC(t){let n=t.length;for(;n>0;){const r=t[--n];if("number"==typeof r&&r<0)return r}return 0})(d)!=g&&d.push(g),d.push(r,i,l)}}(t,n,i,Du(t,r,o.hostVars,an),o)}function Mo(t,n,r,i,o,l){const d=ji(t,n);!function Sp(t,n,r,i,o,l,d){if(null==l)t.removeAttribute(n,o,r);else{const g=null==d?St(l):d(l,i||"",o);t.setAttribute(n,o,g,r)}}(n[_e],d,l,t.value,r,i,o)}function sw(t,n,r,i,o,l){const d=l[n];if(null!==d)for(let g=0;g<d.length;)l0(i,r,d[g++],d[g++],d[g++],d[g++])}function ow(t,n,r){let i=null,o=0;for(;o<r.length;){const l=r[o];if(0!==l)if(5!==l){if("number"==typeof l)break;if(t.hasOwnProperty(l)){null===i&&(i=[]);const d=t[l];for(let g=0;g<d.length;g+=3)if(d[g]===n){i.push(l,d[g+1],d[g+2],r[o+1]);break}}o+=2}else o+=2;else o+=4}return i}function g0(t,n,r,i){return[t,!0,0,n,null,i,null,r,null,null]}function v0(t,n){const r=t.contentQueries;if(null!==r){const i=W(null);try{for(let o=0;o<r.length;o+=2){const d=r[o+1];if(-1!==d){const g=t.data[d];Qa(r[o]),g.contentQueries(2,n[d],d)}}}finally{W(i)}}}function od(t,n){return t[Qe]?t[Ge][T]=n:t[Qe]=n,t[Ge]=n,n}function Fp(t,n,r){Qa(0);const i=W(null);try{n(t,r)}finally{W(i)}}function y0(t){return t[q]??=[]}function _0(t){return t.cleanup??=[]}function ad(t,n){const r=t[re],i=r?r.get(Qo,null):null;i&&i.handleError(n)}function Ip(t,n,r,i,o){for(let l=0;l<r.length;){const d=r[l++],g=r[l++],b=r[l++];l0(t.data[d],n[d],i,g,b,o)}}function Zo(t,n,r){const i=Ho(n,t);!function Gg(t,n,r){t.setValue(n,r)}(t[_e],i,r)}function aw(t,n){const r=us(n,t),i=r[c];!function lw(t,n){for(let r=n.length;r<t.blueprint.length;r++)n.push(t.blueprint[r])}(i,r);const o=r[h];null!==o&&null===r[B]&&(r[B]=Xf(o,r[re])),kp(i,r,r[K])}function kp(t,n,r){iu(n);try{const i=t.viewQuery;null!==i&&Fp(1,i,r);const o=t.template;null!==o&&u0(t,n,o,1,r),t.firstCreatePass&&(t.firstCreatePass=!1),n[Qt]?.finishViewCreation(t),t.staticContentQueries&&v0(t,n),t.staticViewQueries&&Fp(2,t.viewQuery,r);const l=t.components;null!==l&&function uw(t,n){for(let r=0;r<n.length;r++)aw(t,n[r])}(n,l)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{n[m]&=-5,su()}}function gl(t,n,r,i){const o=W(null);try{const l=n.tView,b=sd(t,l,r,4096&t[m]?4096:16,null,n,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null);b[wt]=t[n.index];const $=t[Qt];return null!==$&&(b[Qt]=$.createEmbeddedView(l)),kp(l,b,r),b}finally{W(o)}}function Pa(t,n){return!n||null===n.firstChild||fu(t)}function vl(t,n,r,i=!0){const o=n[c];if(function kC(t,n,r,i){const o=hr+i,l=r.length;i>0&&(r[o-1][T]=n),i<l-hr?(n[T]=r[o],wn(r,hr+i,n)):(r.push(n),n[T]=null),n[E]=r;const d=n[wt];null!==d&&r!==d&&qg(d,n);const g=n[Qt];null!==g&&g.insertView(t),Kl(n),n[m]|=128}(o,n,t,r),i){const d=vp(r,t),g=n[_e],b=mp(g,t[Vs]);null!==b&&function FC(t,n,r,i,o,l){i[h]=o,i[j]=n,id(t,i,r,1,o,l)}(o,t[j],g,n,b,d)}const l=n[B];null!==l&&null!==l.firstChild&&(l.firstChild=null)}function xu(t,n,r,i,o=!1){for(;null!==r;){if(128===r.type){r=o?r.projectionNext:r.next;continue}const l=n[r.index];null!==l&&i.push(On(l)),Gr(l)&&C0(l,i);const d=r.type;if(8&d)xu(t,n,r.child,i);else if(32&d){const g=up(r,n);let b;for(;b=g();)i.push(b)}else if(16&d){const g=Zg(n,r);if(Array.isArray(g))i.push(...g);else{const b=po(n[st]);xu(b[c],b,g,i,!0)}}r=o?r.projectionNext:r.next}return i}function C0(t,n){for(let r=hr;r<t.length;r++){const i=t[r],o=i[c].firstChild;null!==o&&xu(i[c],i,o,n)}t[Vs]!==t[h]&&n.push(t[Vs])}let w0=[];const pw={...fe,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Xa(t.lView)},consumerOnSignalRead(){this.lView[fn]=this}},mw={...fe,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let n=po(t.lView);for(;n&&!D0(n[c]);)n=po(n);n&&pc(n)},consumerOnSignalRead(){this.lView[fn]=this}};function D0(t){return 2!==t.type}const gw=100;function ld(t,n=!0,r=0){const i=t[Ce],o=i.rendererFactory;o.begin?.();try{!function vw(t,n){const r=Cc();try{wc(!0),Tp(t,n);let i=0;for(;Ya(t);){if(i===gw)throw new rt(103,!1);i++,Tp(t,1)}}finally{wc(r)}}(t,r)}catch(d){throw n&&ad(t,d),d}finally{o.end?.(),i.inlineEffectRunner?.flush()}}function yw(t,n,r,i){const o=n[m];if(!(256&~o))return;n[Ce].inlineEffectRunner?.flush(),iu(n);let g=!0,b=null,M=null;D0(t)?(M=function cw(t){return t[fn]??function dw(t){const n=w0.pop()??Object.create(pw);return n.lView=t,n}(t)}(n),b=ce(M)):null===F()?(g=!1,M=function hw(t){const n=t[fn]??Object.create(mw);return n.lView=t,n}(n),b=ce(M)):n[fn]&&(Ee(n[fn]),n[fn]=null);try{fc(n),function Dc(t){return Ht.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==r&&u0(t,n,r,2,i);const $=!(3&~o);if($){const ue=t.preOrderCheckHooks;null!==ue&&el(n,ue,null)}else{const ue=t.preOrderHooks;null!==ue&&tl(n,ue,0,null),lu(n,0)}if(function _w(t){for(let n=Km(t);null!==n;n=Qm(n)){if(!(n[m]&oa.HasTransplantedViews))continue;const r=n[Bo];for(let i=0;i<r.length;i++)pc(r[i])}}(n),S0(n,0),null!==t.contentQueries&&v0(t,n),$){const ue=t.contentCheckHooks;null!==ue&&el(n,ue)}else{const ue=t.contentHooks;null!==ue&&tl(n,ue,1),lu(n,1)}!function jC(t,n){const r=t.hostBindingOpCodes;if(null!==r)try{for(let i=0;i<r.length;i++){const o=r[i];if(o<0)Yo(~o);else{const l=o,d=r[++i],g=r[++i];Df(d,l),g(2,n[l])}}}finally{Yo(-1)}}(t,n);const Y=t.components;null!==Y&&I0(n,Y,0);const oe=t.viewQuery;if(null!==oe&&Fp(2,oe,i),$){const ue=t.viewCheckHooks;null!==ue&&el(n,ue)}else{const ue=t.viewHooks;null!==ue&&tl(n,ue,2),lu(n,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[ti]){for(const ue of n[ti])ue();n[ti]=null}n[m]&=-73}catch($){throw Xa(n),$}finally{null!==M&&(me(M,b),g&&function fw(t){t.lView[fn]!==t&&(t.lView=null,w0.push(t))}(M)),su()}}function S0(t,n){for(let r=Km(t);null!==r;r=Qm(r))for(let i=hr;i<r.length;i++)F0(r[i],n)}function bw(t,n,r){F0(us(n,t),r)}function F0(t,n){Da(t)&&Tp(t,n)}function Tp(t,n){const i=t[c],o=t[m],l=t[fn];let d=!!(0===n&&16&o);if(d||=!!(64&o&&0===n),d||=!!(1024&o),d||=!(!l?.dirty||!Ve(l)),d||=!1,l&&(l.dirty=!1),t[m]&=-9217,d)yw(i,t,i.template,t[K]);else if(8192&o){S0(t,1);const g=i.components;null!==g&&I0(t,g,1)}}function I0(t,n,r){for(let i=0;i<n.length;i++)bw(t,n[i],r)}function Su(t,n){const r=Cc()?64:1088;for(t[Ce].changeDetectionScheduler?.notify(n);t;){t[m]|=r;const i=po(t);if(Go(t)&&!i)return t;t=i}return null}class Fu{get rootNodes(){const n=this._lView,r=n[c];return xu(r,n,r.firstChild,[])}constructor(n,r,i=!0){this._lView=n,this._cdRefInjectingView=r,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[K]}set context(n){this._lView[K]=n}get destroyed(){return!(256&~this._lView[m])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[E];if(Gr(n)){const r=n[8],i=r?r.indexOf(this):-1;i>-1&&(Cu(n,i),$r(r,i))}this._attachedToViewContainer=!1}nd(this._lView[c],this._lView)}onDestroy(n){zo(this._lView,n)}markForCheck(){Su(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[m]&=-129}reattach(){Kl(this._lView),this._lView[m]|=128}detectChanges(){this._lView[m]|=1024,ld(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new rt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=Go(this._lView),r=this._lView[wt];null!==r&&!n&&fp(r,this._lView),Hg(this._lView[c],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new rt(902,!1);this._appRef=n;const r=Go(this._lView),i=this._lView[wt];null!==i&&!r&&qg(i,this._lView),Kl(this._lView)}}let Iu=(()=>{class t{static{this.__NG_ELEMENT_ID__=ww}}return t})();const Ew=Iu,Cw=class extends Ew{constructor(n,r,i){super(),this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){const o=gl(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new Fu(o)}};function ww(){return ud(Wn(),$e())}function ud(t,n){return 4&t.type?new Cw(n,t,al(t,n)):null}let X0=()=>null;function La(t,n){return X0(t,n)}class _l{}const Pu=new Pt("",{providedIn:"root",factory:()=>!1}),K0=new Pt(""),Bp=new Pt("");class mD{}class Q0{}class vD{resolveComponentFactory(n){throw function gD(t){const n=Error(`No component factory found for ${$t(t)}.`);return n.ngComponent=t,n}(n)}}class md{static{this.NULL=new vD}}class Gp{}let yD=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function _D(){const t=$e(),r=us(Wn().index,t);return(Ar(r)?r:t)[_e]}()}}return t})(),bD=(()=>{class t{static{this.\u0275prov=rn({token:t,providedIn:"root",factory:()=>null})}}return t})();function ma(t){return!!pr(t)}function vd(t,n,r){let i=r?t.styles:null,o=r?t.classes:null,l=0;if(null!==n)for(let d=0;d<n.length;d++){const g=n[d];"number"==typeof g?l=g:1==l?o=Cr(o,g):2==l&&(i=Cr(i,g+": "+n[++d]+";"))}r?t.styles=i:t.stylesWithoutHost=i,r?t.classes=o:t.classesWithoutHost=o}class tv extends md{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const r=Wt(n);return new $u(r,this.ngModule)}}function nv(t,n){const r=[];for(const i in t){if(!t.hasOwnProperty(i))continue;const o=t[i];if(void 0===o)continue;const l=Array.isArray(o),d=l?o[0]:o;r.push(n?{propName:d,templateName:i,isSignal:!!((l?o[1]:tr.None)&tr.SignalBased)}:{propName:d,templateName:i})}return r}class $u extends Q0{get inputs(){const n=this.componentDef,r=n.inputTransforms,i=nv(n.inputs,!0);if(null!==r)for(const o of i)r.hasOwnProperty(o.propName)&&(o.transform=r[o.propName]);return i}get outputs(){return nv(this.componentDef.outputs,!1)}constructor(n,r){super(),this.componentDef=n,this.ngModule=r,this.componentType=n.type,this.selector=function Eo(t){return t.map(fr).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!r}create(n,r,i,o){const l=W(null);try{let d=(o=o||this.ngModule)instanceof ei?o:o?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const g=d?new Ut(n,d):n,b=g.get(Gp,null);if(null===b)throw new rt(407,!1);const Y={rendererFactory:b,sanitizer:g.get(bD,null),inlineEffectRunner:null,changeDetectionScheduler:g.get(_l,null)},oe=b.createRenderer(null,this.componentDef),ue=this.componentDef.selectors[0][0]||"div",be=i?function $C(t,n,r,i){const l=i.get(mg,!1)||r===Ci.ShadowDom,d=t.selectRootElement(n,l);return function VC(t){d0(t)}(d),d}(oe,i,this.componentDef.encapsulation,g):td(oe,ue,function wD(t){const n=t.toLowerCase();return"svg"===n?cc:"math"===n?"math":null}(ue));let He=512;this.componentDef.signals?He|=4096:this.componentDef.onPush||(He|=16);let ot=null;null!==be&&(ot=Xf(be,g,!0));const ct=wp(0,null,null,1,0,null,null,null,null,null,null),Ue=sd(null,ct,null,He,null,null,Y,oe,g,null,ot);iu(Ue);let Xt,In,ir=null;try{const Wr=this.componentDef;let Is,Hl=null;Wr.findHostDirectiveDefs?(Is=[],Hl=new Map,Wr.findHostDirectiveDefs(Wr,Is,Hl),Is.push(Wr)):Is=[Wr];const Nb=function xD(t,n){const r=t[c],i=dt;return t[i]=n,Na(r,i,2,"#host",null)}(Ue,be);ir=function SD(t,n,r,i,o,l,d){const g=o[c];!function FD(t,n,r,i){for(const o of t)n.mergedAttrs=An(n.mergedAttrs,o.hostAttrs);null!==n.mergedAttrs&&(vd(n,n.mergedAttrs,!0),null!==r&&r0(i,r,n))}(i,t,n,d);let b=null;null!==n&&(b=Xf(n,o[re]));const M=l.rendererFactory.createRenderer(n,r);let $=16;r.signals?$=4096:r.onPush&&($=64);const Y=sd(o,c0(r),null,$,o[t.index],t,l,M,null,null,b);return g.firstCreatePass&&xp(g,t,i.length-1),od(o,Y),o[t.index]=Y}(Nb,be,Wr,Is,Ue,Y,oe),In=wa(ct,dt),be&&function kD(t,n,r,i){if(i)Js(t,r,["ng-version","18.2.14"]);else{const{attrs:o,classes:l}=function rs(t){const n=[],r=[];let i=1,o=2;for(;i<t.length;){let l=t[i];if("string"==typeof l)2===o?""!==l&&n.push(l,t[++i]):8===o&&r.push(l);else{if(!N(o))break;o=l}i++}return{attrs:n,classes:r}}(n.selectors[0]);o&&Js(t,r,o),l&&l.length>0&&n0(t,r,l.join(" "))}}(oe,Wr,be,i),void 0!==r&&function MD(t,n,r){const i=t.projection=[];for(let o=0;o<n.length;o++){const l=r[o];i.push(null!=l?Array.from(l):null)}}(In,this.ngContentSelectors,r),Xt=function ID(t,n,r,i,o,l){const d=Wn(),g=o[c],b=ji(d,o);h0(g,o,d,r,null,i);for(let $=0;$<r.length;$++)Qi(Ma(o,g,d.directiveStart+$,d),o);m0(g,o,d),b&&Qi(b,o);const M=Ma(o,g,d.directiveStart+d.componentOffset,d);if(t[K]=o[K]=M,null!==l)for(const $ of l)$(M,n);return bp(g,d,o),M}(ir,Wr,Is,Hl,Ue,[TD]),kp(ct,Ue,null)}catch(Wr){throw null!==ir&&Vf(ir),Vf(Ue),Wr}finally{su()}return new DD(this.componentType,Xt,al(In,Ue),Ue,In)}finally{W(l)}}}class DD extends mD{constructor(n,r,i,o,l){super(),this.location=i,this._rootLView=o,this._tNode=l,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new Fu(o,void 0,!1),this.componentType=n}setInput(n,r){const i=this._tNode.inputs;let o;if(null!==i&&(o=i[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),r))return;const l=this._rootLView;Ip(l[c],l,o,n,r),this.previousInputValues.set(n,r),Su(us(this._tNode.index,l),1)}}get injector(){return new hi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function TD(){const t=Wn();Za($e()[c],t)}let yd=(()=>{class t{static{this.__NG_ELEMENT_ID__=AD}}return t})();function AD(){return sv(Wn(),$e())}const RD=yd,rv=class extends RD{constructor(n,r,i){super(),this._lContainer=n,this._hostTNode=r,this._hostLView=i}get element(){return al(this._hostTNode,this._hostLView)}get injector(){return new hi(this._hostTNode,this._hostLView)}get parentInjector(){const n=Rc(this._hostTNode,this._hostLView);if(Xi(n)){const r=Io(n,this._hostLView),i=cs(n);return new hi(r[c].data[i+8],r)}return new hi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const r=iv(this._lContainer);return null!==r&&r[n]||null}get length(){return this._lContainer.length-hr}createEmbeddedView(n,r,i){let o,l;"number"==typeof i?o=i:null!=i&&(o=i.index,l=i.injector);const d=La(this._lContainer,n.ssrId),g=n.createEmbeddedViewImpl(r||{},l,d);return this.insertImpl(g,o,Pa(this._hostTNode,d)),g}createComponent(n,r,i,o,l){const d=n&&!function ne(t){return"function"==typeof t}(n);let g;if(d)g=r;else{const be=r||{};g=be.index,i=be.injector,o=be.projectableNodes,l=be.environmentInjector||be.ngModuleRef}const b=d?n:new $u(Wt(n)),M=i||this.parentInjector;if(!l&&null==b.ngModule){const He=(d?M:this.parentInjector).get(ei,null);He&&(l=He)}const $=Wt(b.componentType??{}),Y=La(this._lContainer,$?.id??null),ue=b.create(M,o,Y?.firstChild??null,l);return this.insertImpl(ue.hostView,g,Pa(this._hostTNode,Y)),ue}insert(n,r){return this.insertImpl(n,r,!0)}insertImpl(n,r,i){const o=n._lView;if(function hf(t){return Gr(t[E])}(o)){const g=this.indexOf(n);if(-1!==g)this.detach(g);else{const b=o[E],M=new rv(b,b[j],b[E]);M.detach(M.indexOf(n))}}const l=this._adjustIndex(r),d=this._lContainer;return vl(d,o,l,i),n.attachToViewContainerRef(),wn(zp(d),l,n),n}move(n,r){return this.insert(n,r)}indexOf(n){const r=iv(this._lContainer);return null!==r?r.indexOf(n):-1}remove(n){const r=this._adjustIndex(n,-1),i=Cu(this._lContainer,r);i&&($r(zp(this._lContainer),r),nd(i[c],i))}detach(n){const r=this._adjustIndex(n,-1),i=Cu(this._lContainer,r);return i&&null!=$r(zp(this._lContainer),r)?new Fu(i):null}_adjustIndex(n,r=0){return n??this.length+r}};function iv(t){return t[8]}function zp(t){return t[8]||(t[8]=[])}function sv(t,n){let r;const i=n[t.index];return Gr(i)?r=i:(r=g0(i,n,null,t),n[t.index]=r,od(n,r)),ov(r,n,t,i),new rv(r,t,n)}let ov=function lv(t,n,r,i){if(t[Vs])return;let o;o=8&r.type?On(i):function OD(t,n){const r=t[_e],i=r.createComment(""),o=ji(n,t);return Ra(r,mp(r,o),i,function AC(t,n){return t.nextSibling(n)}(r,o),!1),i}(n,r),t[Vs]=o},Wp=()=>!1;class Yp{constructor(n){this.queryList=n,this.matches=null}clone(){return new Yp(this.queryList)}setDirty(){this.queryList.setDirty()}}class Xp{constructor(n=[]){this.queries=n}createEmbeddedView(n){const r=n.queries;if(null!==r){const i=null!==n.contentQueries?n.contentQueries[0]:r.length,o=[];for(let l=0;l<i;l++){const d=r.getByIndex(l);o.push(this.queries[d.indexInDeclarationView].clone())}return new Xp(o)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let r=0;r<this.queries.length;r++)null!==eh(n,r).matches&&this.queries[r].setDirty()}}class uv{constructor(n,r,i=null){this.flags=r,this.read=i,this.predicate="string"==typeof n?function BD(t){return t.split(",").map(n=>n.trim())}(n):n}}class Kp{constructor(n=[]){this.queries=n}elementStart(n,r){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,r)}elementEnd(n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(n)}embeddedTView(n){let r=null;for(let i=0;i<this.length;i++){const o=null!==r?r.length:0,l=this.getByIndex(i).embeddedTView(n,o);l&&(l.indexInDeclarationView=i,null!==r?r.push(l):r=[l])}return null!==r?new Kp(r):null}template(n,r){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,r)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Qp{constructor(n,r=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(n,r){this.isApplyingToNode(r)&&this.matchTNode(n,r)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,r){this.elementStart(n,r)}embeddedTView(n,r){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,r),new Qp(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let i=n.parent;for(;null!==i&&8&i.type&&i.index!==r;)i=i.parent;return r===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(n,r){const i=this.metadata.predicate;if(Array.isArray(i))for(let o=0;o<i.length;o++){const l=i[o];this.matchTNodeWithReadOption(n,r,LD(r,l)),this.matchTNodeWithReadOption(n,r,Oc(r,n,l,!1,!1))}else i===Iu?4&r.type&&this.matchTNodeWithReadOption(n,r,-1):this.matchTNodeWithReadOption(n,r,Oc(r,n,i,!1,!1))}matchTNodeWithReadOption(n,r,i){if(null!==i){const o=this.metadata.read;if(null!==o)if(o===cu||o===yd||o===Iu&&4&r.type)this.addMatch(r.index,-2);else{const l=Oc(r,n,o,!1,!1);null!==l&&this.addMatch(r.index,l)}else this.addMatch(r.index,i)}}addMatch(n,r){null===this.matches?this.matches=[n,r]:this.matches.push(n,r)}}function LD(t,n){const r=t.localNames;if(null!==r)for(let i=0;i<r.length;i+=2)if(r[i]===n)return r[i+1];return null}function VD(t,n,r,i){return-1===r?function $D(t,n){return 11&t.type?al(t,n):4&t.type?ud(t,n):null}(n,t):-2===r?function UD(t,n,r){return r===cu?al(n,t):r===Iu?ud(n,t):r===yd?sv(n,t):void 0}(t,n,i):Ma(t,t[c],r,n)}function cv(t,n,r,i){const o=n[Qt].queries[i];if(null===o.matches){const l=t.data,d=r.matches,g=[];for(let b=0;null!==d&&b<d.length;b+=2){const M=d[b];g.push(M<0?null:VD(n,l[M],d[b+1],r.metadata.read))}o.matches=g}return o.matches}function Jp(t,n,r,i){const o=t.queries.getByIndex(r),l=o.matches;if(null!==l){const d=cv(t,n,o,r);for(let g=0;g<l.length;g+=2){const b=l[g];if(b>0)i.push(d[g/2]);else{const M=l[g+1],$=n[-b];for(let Y=hr;Y<$.length;Y++){const oe=$[Y];oe[wt]===oe[E]&&Jp(oe[c],oe,M,i)}if(null!==$[Bo]){const Y=$[Bo];for(let oe=0;oe<Y.length;oe++){const ue=Y[oe];Jp(ue[c],ue,M,i)}}}}}return i}function dv(t,n,r){const i=new jf(!(4&~r));return function GC(t,n,r,i){const o=y0(n);o.push(r),t.firstCreatePass&&_0(t).push(i,o.length-1)}(t,n,i,i.destroy),(n[Qt]??=new Xp).queries.push(new Yp(i))-1}function hv(t,n,r){null===t.queries&&(t.queries=new Kp),t.queries.track(new Qp(n,r))}function eh(t,n){return t.queries.getByIndex(n)}function mv(t,n){const r=t[c],i=eh(r,n);return i.crossesNgTemplate?Jp(r,t,n,[]):cv(r,t,i,n)}const gv=new Set;function fs(t){gv.has(t)||(gv.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function yv(t,n){fs("NgSignals");const r=function vn(t){const n=Object.create(Pe);n.value=t;const r=()=>(te(n),n.value);return r[P]=n,r}(t),i=r[P];return n?.equal&&(i.equal=n.equal),r.set=o=>Ne(i,o),r.update=o=>function Me(t,n){H()||Tt(),Ne(t,n(t.value))}(i,o),r.asReadonly=_v.bind(r),r}function _v(){const t=this[P];if(void 0===t.readonlyFn){const n=()=>this();n[P]=t,t.readonlyFn=n}return t.readonlyFn}function bv(t){return function vv(t){return"function"==typeof t&&void 0!==t[P]}(t)&&"function"==typeof t.set}function nh(t){let n=function Tv(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),r=!0;const i=[t];for(;n;){let o;if(ls(t))o=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new rt(903,!1);o=n.\u0275dir}if(o){if(r){i.push(o);const d=t;d.inputs=bd(t.inputs),d.inputTransforms=bd(t.inputTransforms),d.declaredInputs=bd(t.declaredInputs),d.outputs=bd(t.outputs);const g=o.hostBindings;g&&rx(t,g);const b=o.viewQuery,M=o.contentQueries;if(b&&tx(t,b),M&&nx(t,M),ZD(t,o),Er(t.outputs,o.outputs),ls(o)&&o.data.animation){const $=t.data;$.animation=($.animation||[]).concat(o.data.animation)}}const l=o.features;if(l)for(let d=0;d<l.length;d++){const g=l[d];g&&g.ngInherit&&g(t),g===nh&&(r=!1)}}n=Object.getPrototypeOf(n)}!function ex(t){let n=0,r=null;for(let i=t.length-1;i>=0;i--){const o=t[i];o.hostVars=n+=o.hostVars,o.hostAttrs=An(o.hostAttrs,r=An(r,o.hostAttrs))}}(i)}function ZD(t,n){for(const r in n.inputs){if(!n.inputs.hasOwnProperty(r)||t.inputs.hasOwnProperty(r))continue;const i=n.inputs[r];if(void 0!==i&&(t.inputs[r]=i,t.declaredInputs[r]=n.declaredInputs[r],null!==n.inputTransforms)){const o=Array.isArray(i)?i[0]:i;if(!n.inputTransforms.hasOwnProperty(o))continue;t.inputTransforms??={},t.inputTransforms[o]=n.inputTransforms[o]}}}function bd(t){return t===vr?{}:t===sn?[]:t}function tx(t,n){const r=t.viewQuery;t.viewQuery=r?(i,o)=>{n(i,o),r(i,o)}:n}function nx(t,n){const r=t.contentQueries;t.contentQueries=r?(i,o,l)=>{n(i,o,l),r(i,o,l)}:n}function rx(t,n){const r=t.hostBindings;t.hostBindings=r?(i,o)=>{n(i,o),r(i,o)}:n}function Pv(t){const n=t.inputConfig,r={};for(const i in n)if(n.hasOwnProperty(i)){const o=n[i];Array.isArray(o)&&o[3]&&(r[i]=o[3])}t.inputTransforms=r}class $a{}class jv{}function ux(t,n){return new ih(t,n??null,[])}class ih extends $a{constructor(n,r,i,o=!0){super(),this.ngModuleType=n,this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new tv(this);const l=pr(n);this._bootstrapComponents=qs(l.bootstrap),this._r3Injector=Tm(n,r,[{provide:$a,useValue:this},{provide:md,useValue:this.componentFactoryResolver},...i],$t(n),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class sh extends jv{constructor(n){super(),this.moduleType=n}create(n){return new ih(this.moduleType,n,[])}}class Lv extends $a{constructor(n){super(),this.componentFactoryResolver=new tv(this),this.instance=null;const r=new Ls([...n.providers,{provide:$a,useValue:this},{provide:md,useValue:this.componentFactoryResolver}],n.parent||js(),n.debugName,new Set(["environment"]));this.injector=r,n.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function oh(t,n,r=null){return new Lv({providers:t,parent:n,debugName:r,runEnvironmentInitializers:!0}).injector}function Ed(t){return!!ah(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function ah(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function To(t,n,r){return t[n]=r}function Hr(t,n,r){return!Object.is(t[n],r)&&(t[n]=r,!0)}function Va(t,n,r,i){const o=Hr(t,n,r);return Hr(t,n+1,i)||o}function Cd(t,n,r,i,o){const l=Va(t,n,r,i);return Hr(t,n+2,o)||l}function Bu(t,n,r,i,o,l,d,g,b,M){const $=r+dt,Y=n.firstCreatePass?function mx(t,n,r,i,o,l,d,g,b){const M=n.consts,$=Na(n,t,4,d||null,g||null);Dp(n,r,$,Ds(M,b)),Za(n,$);const Y=$.tView=wp(2,$,i,o,l,n.directiveRegistry,n.pipeRegistry,null,n.schemas,M,null);return null!==n.queries&&(n.queries.template(n,$),Y.queries=n.queries.embeddedTView($)),$}($,n,t,i,o,l,d,g,b):n.data[$];Gs(Y,!1);const oe=$v(n,t,Y,r);Sa()&&rd(n,t,oe,Y),Qi(oe,t);const ue=g0(oe,t,oe,Y);return t[$]=ue,od(t,ue),function av(t,n,r){return Wp(t,n,r)}(ue,Y,t),aa(Y)&&Ep(n,t,Y),null!=b&&Cp(t,Y,M),Y}function lh(t,n,r,i,o,l,d,g){const b=$e(),M=mn();return Bu(b,M,t,n,r,i,o,Ds(M.consts,l),d,g),lh}let $v=function Vv(t,n,r,i){return oo(!0),n[_e].createComment("")};function _x(t,n){if(null!==F())throw new rt(-602,!1)}var wl=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(wl||{});let zv=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=rn({token:t,providedIn:"root",factory:()=>new t})}}return t})();class qu{constructor(){this.ngZone=_t(yr),this.scheduler=_t(_l),this.errorHandler=_t(Qo,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[wl.EarlyRead,wl.Write,wl.MixedReadWrite,wl.Read]}execute(){this.executing=!0;for(const n of qu.PHASES)for(const r of this.sequences)if(!r.erroredOrDestroyed&&r.hooks[n])try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>r.hooks[n](r.pipelinedValue))}catch(i){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(const n of this.sequences)n.afterRun(),n.once&&(this.sequences.delete(n),n.destroy());for(const n of this.deferredRegistrations)this.sequences.add(n);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(6))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}static{this.\u0275prov=rn({token:qu,providedIn:"root",factory:()=>new qu})}}class bx{constructor(n,r,i,o){this.impl=n,this.hooks=r,this.once=i,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}}function Sd(t,n){!n?.injector&&Yi();const r=n?.injector??_t(Ki);return function zs(t){return"browser"===(t??_t(Ki)).get(Bc)}(r)?(fs("NgAfterNextRender"),function Wv(t,n,r,i){const o=n.get(zv);o.impl??=n.get(qu);const l=r?.phase??wl.MixedReadWrite,d=!0!==r?.manualCleanup?n.get(ol):null,g=new bx(o.impl,function Cx(t,n){if(t instanceof Function){const r=[void 0,void 0,void 0,void 0];return r[n]=t,r}return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}(t,l),i,d);return o.impl.register(g),g}(t,r,n,!0)):Yv}const Yv={destroy(){}};function _h(t,n,r,i){const o=$e();return Hr(o,Hs(),n)&&(mn(),Mo(rr(),o,t,n,r,i)),_h}function Ml(t,n,r,i){return Hr(t,Hs(),r)?n+St(r)+i:an}function kd(t,n){return t<<17|n<<2}function ya(t){return t>>17&32767}function bh(t){return 2|t}function Ba(t){return(131068&t)>>2}function Eh(t,n){return-131069&t|n<<2}function Ch(t){return 1|t}function by(t,n,r,i){const o=t[r+1],l=null===n;let d=i?ya(o):Ba(o),g=!1;for(;0!==d&&(!1===g||l);){const M=t[d+1];i2(t[d],n)&&(g=!0,t[d+1]=i?Ch(M):bh(M)),d=i?ya(M):Ba(M)}g&&(t[r+1]=i?bh(o):Ch(o))}function i2(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Oi(t,n)>=0}const mi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ey(t){return t.substring(mi.key,mi.keyEnd)}function Cy(t,n){const r=mi.textEnd;return r===n?-1:(n=mi.keyEnd=function l2(t,n,r){for(;n<r&&t.charCodeAt(n)>32;)n++;return n}(t,mi.key=n,r),Ll(t,n,r))}function Ll(t,n,r){for(;n<r&&t.charCodeAt(n)<=32;)n++;return n}function wh(t,n,r){const i=$e();return Hr(i,Hs(),n)&&Ss(mn(),rr(),i,t,n,i[_e],r,!1),wh}function Dh(t,n,r,i,o){const d=o?"class":"style";Ip(t,r,n.inputs[d],d,i)}function xh(t,n){return function go(t,n,r,i){const o=$e(),l=mn(),d=mo(2);l.firstUpdatePass&&ky(l,t,d,i),n!==an&&Hr(o,d,n)&&Ty(l,l.data[pi()],o,o[_e],t,o[d+1]=function b2(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=$t(ha(t)))),t}(n,r),i,d)}(t,n,null,!0),xh}function Ro(t,n){for(let r=function o2(t){return function Dy(t){mi.key=0,mi.keyEnd=0,mi.value=0,mi.valueEnd=0,mi.textEnd=t.length}(t),Cy(t,Ll(t,0,mi.textEnd))}(n);r>=0;r=Cy(n,r))Hn(t,Ey(n),!0)}function Iy(t,n){return n>=t.expandoStartIndex}function ky(t,n,r,i){const o=t.data;if(null===o[r+1]){const l=o[pi()],d=Iy(t,r);Ry(l,i)&&null===n&&!d&&(n=!1),n=function p2(t,n,r,i){const o=function nu(t){const n=Ht.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let l=i?n.residualClasses:n.residualStyles;if(null===o)0===(i?n.classBindings:n.styleBindings)&&(r=Wu(r=Sh(null,t,n,r,i),n.attrs,i),l=null);else{const d=n.directiveStylingLast;if(-1===d||t[d]!==o)if(r=Sh(o,t,n,r,i),null===l){let b=function h2(t,n,r){const i=r?n.classBindings:n.styleBindings;if(0!==Ba(i))return t[ya(i)]}(t,n,i);void 0!==b&&Array.isArray(b)&&(b=Sh(null,t,n,b[1],i),b=Wu(b,n.attrs,i),function m2(t,n,r,i){t[ya(r?n.classBindings:n.styleBindings)]=i}(t,n,i,b))}else l=function g2(t,n,r){let i;const o=n.directiveEnd;for(let l=1+n.directiveStylingLast;l<o;l++)i=Wu(i,t[l].hostAttrs,r);return Wu(i,n.attrs,r)}(t,n,i)}return void 0!==l&&(i?n.residualClasses=l:n.residualStyles=l),r}(o,l,n,i),function n2(t,n,r,i,o,l){let d=l?n.classBindings:n.styleBindings,g=ya(d),b=Ba(d);t[i]=r;let $,M=!1;if(Array.isArray(r)?($=r[1],(null===$||Oi(r,$)>0)&&(M=!0)):$=r,o)if(0!==b){const oe=ya(t[g+1]);t[i+1]=kd(oe,g),0!==oe&&(t[oe+1]=Eh(t[oe+1],i)),t[g+1]=function e2(t,n){return 131071&t|n<<17}(t[g+1],i)}else t[i+1]=kd(g,0),0!==g&&(t[g+1]=Eh(t[g+1],i)),g=i;else t[i+1]=kd(b,0),0===g?g=i:t[b+1]=Eh(t[b+1],i),b=i;M&&(t[i+1]=bh(t[i+1])),by(t,$,i,!0),by(t,$,i,!1),function r2(t,n,r,i,o){const l=o?t.residualClasses:t.residualStyles;null!=l&&"string"==typeof n&&Oi(l,n)>=0&&(r[i+1]=Ch(r[i+1]))}(n,$,t,i,l),d=kd(g,b),l?n.classBindings=d:n.styleBindings=d}(o,l,n,r,d,i)}}function Sh(t,n,r,i,o){let l=null;const d=r.directiveEnd;let g=r.directiveStylingLast;for(-1===g?g=r.directiveStart:g++;g<d&&(l=n[g],i=Wu(i,l.hostAttrs,o),l!==t);)g++;return null!==t&&(r.directiveStylingLast=g),i}function Wu(t,n,r){const i=r?1:2;let o=-1;if(null!==n)for(let l=0;l<n.length;l++){const d=n[l];"number"==typeof d?o=d:o===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Hn(t,d,!!r||n[++l]))}return void 0===t?null:t}function Ty(t,n,r,i,o,l,d,g){if(!(3&n.type))return;const b=t.data,M=b[g+1],$=function t2(t){return!(1&~t)}(M)?Ay(b,n,r,o,Ba(M),d):void 0;Md($)||(Md(l)||function Zx(t){return!(2&~t)}(M)&&(l=Ay(b,null,r,o,g,d)),function NC(t,n,r,i,o){if(n)o?t.addClass(r,i):t.removeClass(r,i);else{let l=-1===i.indexOf("-")?void 0:ed.DashCase;null==o?t.removeStyle(r,i,l):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),l|=ed.Important),t.setStyle(r,i,o,l))}}(i,d,Ho(pi(),r),o,l))}function Ay(t,n,r,i,o,l){const d=null===n;let g;for(;o>0;){const b=t[o],M=Array.isArray(b),$=M?b[1]:b,Y=null===$;let oe=r[o+1];oe===an&&(oe=Y?sn:void 0);let ue=Y?Vr(oe,i):$===i?oe:void 0;if(M&&!Md(ue)&&(ue=Vr(b,i)),Md(ue)&&(g=ue,d))return g;const be=t[o+1];o=d?ya(be):Ba(be)}if(null!==n){let b=l?n.residualClasses:n.residualStyles;null!=b&&(g=Vr(b,i))}return g}function Md(t){return void 0!==t}function Ry(t,n){return!!(t.flags&(n?8:16))}function Oy(t,n,r){!function vo(t,n,r,i){const o=mn(),l=mo(2);o.firstUpdatePass&&ky(o,null,l,i);const d=$e();if(r!==an&&Hr(d,l,r)){const g=o.data[pi()];if(Ry(g,i)&&!Iy(o,l)){let b=i?g.classesWithoutHost:g.stylesWithoutHost;null!==b&&(r=Cr(b,r||"")),Dh(o,g,d,r,i)}else!function _2(t,n,r,i,o,l,d,g){o===an&&(o=sn);let b=0,M=0,$=0<o.length?o[0]:null,Y=0<l.length?l[0]:null;for(;null!==$||null!==Y;){const oe=b<o.length?o[b+1]:void 0,ue=M<l.length?l[M+1]:void 0;let He,be=null;$===Y?(b+=2,M+=2,oe!==ue&&(be=Y,He=ue)):null===Y||null!==$&&$<Y?(b+=2,be=$):(M+=2,be=Y,He=ue),null!==be&&Ty(t,n,r,i,be,He,d,g),$=b<o.length?o[b]:null,Y=M<l.length?l[M]:null}}(o,g,d,d[_e],d[l+1],d[l+1]=function v2(t,n,r){if(null==r||""===r)return sn;const i=[],o=ha(r);if(Array.isArray(o))for(let l=0;l<o.length;l++)t(i,o[l],!0);else if("object"==typeof o)for(const l in o)o.hasOwnProperty(l)&&t(i,l,o[l]);else"string"==typeof o&&n(i,o);return i}(t,n,r),i,l)}}(Hn,Ro,Ml($e(),t,n,r),!0)}function Ly(t,n){fs("NgControlFlow");const r=$e(),i=Hs(),o=r[i]!==an?r[i]:-1,l=-1!==o?Td(r,dt+o):void 0;if(Hr(r,i,t)){const g=W(null);try{if(void 0!==l&&function Mp(t,n){const r=Cu(t,n);return void 0!==r&&nd(r[c],r),r}(l,0),-1!==t){const b=dt+t,M=Td(r,b),$=function kh(t,n){return wa(t,n)}(r[c],b),Y=La(M,$.tView.ssrId);vl(M,gl(r,$,n,{dehydratedView:Y}),0,Pa($,Y))}}finally{W(g)}}else if(void 0!==l){const g=function E0(t,n){const r=hr+n;if(r<t.length)return t[r]}(l,0);void 0!==g&&(g[K]=n)}}function Td(t,n){return t[n]}function Ad(t,n,r,i){const o=$e(),l=mn(),d=dt+t,g=o[_e],b=l.firstCreatePass?function U2(t,n,r,i,o,l){const d=n.consts,b=Na(n,t,2,i,Ds(d,o));return Dp(n,r,b,Ds(d,l)),null!==b.attrs&&vd(b,b.attrs,!1),null!==b.mergedAttrs&&vd(b,b.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,b),b}(d,l,o,n,r,i):l.data[d],M=$y(l,o,b,g,n,t);o[d]=M;const $=aa(b);return Gs(b,!0),r0(g,M,b),!function El(t){return!(32&~t.flags)}(b)&&Sa()&&rd(l,o,M,b),0===function mf(){return Ht.lFrame.elementDepthCount}()&&Qi(M,o),function gf(){Ht.lFrame.elementDepthCount++}(),$&&(Ep(l,o,b),bp(l,b,o)),null!==i&&Cp(o,b),Ad}function Rd(){let t=Wn();Zl()?eu():(t=t.parent,Gs(t,!1));const n=t;(function yf(t){return Ht.skipHydrationRootTNode===t})(n)&&function Cf(){Ht.skipHydrationRootTNode=null}(),function vf(){Ht.lFrame.elementDepthCount--}();const r=mn();return r.firstCreatePass&&(Za(r,t),Ca(t)&&r.queries.elementEnd(t)),null!=n.classesWithoutHost&&function kt(t){return!!(8&t.flags)}(n)&&Dh(r,n,$e(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function cn(t){return!!(16&t.flags)}(n)&&Dh(r,n,$e(),n.stylesWithoutHost,!1),Rd}function Mh(t,n,r,i){return Ad(t,n,r,i),Rd(),Mh}let $y=(t,n,r,i,o,l)=>(oo(!0),td(i,o,function au(){return Ht.lFrame.currentNamespace}()));function Od(t,n,r){const i=$e(),o=mn(),l=t+dt,d=o.firstCreatePass?function H2(t,n,r,i,o){const l=n.consts,d=Ds(l,i),g=Na(n,t,8,"ng-container",d);return null!==d&&vd(g,d,!0),Dp(n,r,g,Ds(l,o)),null!==n.queries&&n.queries.elementStart(n,g),g}(l,o,i,n,r):o.data[l];Gs(d,!0);const g=Vy(o,i,d,t);return i[l]=g,Sa()&&rd(o,i,g,d),Qi(g,i),aa(d)&&(Ep(o,i,d),bp(o,d,i)),null!=r&&Cp(i,d),Od}function Nd(){let t=Wn();const n=mn();return Zl()?eu():(t=t.parent,Gs(t,!1)),n.firstCreatePass&&(Za(n,t),Ca(t)&&n.queries.elementEnd(t)),Nd}function Th(t,n,r){return Od(t,n,r),Nd(),Th}let Vy=(t,n,r,i)=>(oo(!0),dp(n[_e],""));function Uy(){return $e()}const Ga=void 0;var Y2=["en",[["a","p"],["AM","PM"],Ga],[["AM","PM"],Ga,Ga],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ga,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ga,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ga,"{1} 'at' {0}",Ga],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function W2(t){const r=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===i?1:5}];let $l={};function Ah(t){const n=function X2(t){return t.toLowerCase().replace(/_/g,"-")}(t);let r=qy(n);if(r)return r;const i=n.split("-")[0];if(r=qy(i),r)return r;if("en"===i)return Y2;throw new rt(701,!1)}function Hy(t){return Ah(t)[Vl.PluralCase]}function qy(t){return t in $l||($l[t]=nn.ng&&nn.ng.common&&nn.ng.common.locales&&nn.ng.common.locales[t]),$l[t]}var Vl=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Vl||{});const Pd="en-US";let zy=Pd,c_=(t,n,r)=>{};function Nh(t,n,r,i){const o=$e(),l=mn(),d=Wn();return Ph(l,o,o[_e],d,t,n,i),Nh}function Ph(t,n,r,i,o,l,d){const g=aa(i),M=t.firstCreatePass&&_0(t),$=n[K],Y=y0(n);let oe=!0;if(3&i.type||d){const He=ji(i,n),ot=d?d(He):He,ct=Y.length,Ue=d?In=>d(On(In[i.index])):i.index;let Xt=null;if(!d&&g&&(Xt=function jS(t,n,r,i){const o=t.cleanup;if(null!=o)for(let l=0;l<o.length-1;l+=2){const d=o[l];if(d===r&&o[l+1]===i){const g=n[q],b=o[l+2];return g.length>b?g[b]:null}"string"==typeof d&&(l+=2)}return null}(t,n,o,i.index)),null!==Xt)(Xt.__ngLastListenerFn__||Xt).__ngNextListenerFn__=l,Xt.__ngLastListenerFn__=l,oe=!1;else{l=h_(i,n,$,l),c_(He,o,l);const In=r.listen(ot,o,l);Y.push(l,In),M&&M.push(o,Ue,ct,ct+1)}}else l=h_(i,n,$,l);const ue=i.outputs;let be;if(oe&&null!==ue&&(be=ue[o])){const He=be.length;if(He)for(let ot=0;ot<He;ot+=2){const ir=n[be[ot]][be[ot+1]].subscribe(l),Wr=Y.length;Y.push(l,ir),M&&M.push(o,i.index,Wr,-(Wr+1))}}}function p_(t,n,r,i){const o=W(null);try{return so(6,n,r),!1!==r(i)}catch(l){return ad(t,l),!1}finally{so(7,n,r),W(o)}}function h_(t,n,r,i){return function o(l){if(l===Function)return i;Su(t.componentOffset>-1?us(t.index,n):n,5);let g=p_(n,r,i,l),b=o.__ngNextListenerFn__;for(;b;)g=p_(n,r,b,l)&&g,b=b.__ngNextListenerFn__;return g}}function m_(t=1){return function gm(t){return(Ht.lFrame.contextLView=function hc(t,n){for(;t>0;)n=n[lt],t--;return n}(t,Ht.lFrame.contextLView))[K]}(t)}function LS(t,n){let r=null;const i=function se(t){const n=t.attrs;if(null!=n){const r=n.indexOf(5);if(!(1&r))return n[r+1]}return null}(t);for(let o=0;o<n.length;o++){const l=n[o];if("*"!==l){if(null===i?G(t,l,!0):xi(i,l))return o}else r=o}return r}function g_(t){const n=$e()[st][j];if(!n.projection){const i=n.projection=function Ei(t,n){const r=[];for(let i=0;i<t;i++)r.push(n);return r}(t?t.length:1,null),o=i.slice();let l=n.child;for(;null!==l;){if(128!==l.type){const d=t?LS(l,t):0;null!==d&&(o[d]?o[d].projectionNext=l:i[d]=l,o[d]=l)}l=l.next}}}function v_(t,n=0,r,i,o,l){const d=$e(),g=mn(),b=i?t+1:null;null!==b&&Bu(d,g,b,i,o,l,null,r);const M=Na(g,dt+t,16,null,r||null);null===M.projection&&(M.projection=n),eu();const Y=!d[B]||Wo();null===d[st][j].projection[M.projection]&&null!==b?function $S(t,n,r){const i=dt+r,o=n.data[i],l=t[i],d=La(l,o.tView.ssrId);vl(l,gl(t,o,void 0,{dehydratedView:d}),0,Pa(o,d))}(d,g,b):Y&&32&~M.flags&&function RC(t,n,r){t0(n[_e],0,n,r,hp(t,r,n),Xg(r.parent||n[j],r,n))}(g,d,M)}function F_(t,n,r,i){!function pv(t,n,r,i){const o=mn();if(o.firstCreatePass){const l=Wn();hv(o,new uv(n,r,i),l.index),function GD(t,n){const r=t.contentQueries||(t.contentQueries=[]);n!==(r.length?r[r.length-1]:-1)&&r.push(t.queries.length-1,n)}(o,t),!(2&~r)&&(o.staticContentQueries=!0)}return dv(o,$e(),r)}(t,n,r,i)}function I_(t,n,r){!function fv(t,n,r){const i=mn();return i.firstCreatePass&&(hv(i,new uv(t,n,r),-1),!(2&~n)&&(i.staticViewQueries=!0)),dv(i,$e(),n)}(t,n,r)}function k_(t){const n=$e(),r=mn(),i=ru();Qa(i+1);const o=eh(r,i);if(t.dirty&&function Xl(t){return!(4&~t[m])}(n)===!(2&~o.metadata.flags)){if(null===o.matches)t.reset([]);else{const l=mv(n,i);t.reset(l,Vm),t.notifyOnChanges()}return!0}return!1}function M_(){return function Zp(t,n){return t[Qt].queries[n].queryList}($e(),ru())}function T_(t){return qo(function bc(){return Ht.lFrame.contextLView}(),dt+t)}function U_(t,n=""){const r=$e(),i=mn(),o=t+dt,l=i.firstCreatePass?Na(i,o,1,n,null):i.data[o],d=B_(i,r,l,n,t);r[o]=d,Sa()&&rd(i,r,d,l),Gs(l,!1)}let B_=(t,n,r,i,o)=>(oo(!0),function cp(t,n){return t.createText(n)}(n[_e],i));function $h(t){return Vd("",t,""),$h}function Vd(t,n,r){const i=$e(),o=Ml(i,t,n,r);return o!==an&&Zo(i,pi(),o),Vd}function Vh(t,n,r,i,o){const l=$e(),d=function Tl(t,n,r,i,o,l){const g=Va(t,ho(),r,o);return mo(2),g?n+St(r)+i+St(o)+l:an}(l,t,n,r,i,o);return d!==an&&Zo(l,pi(),d),Vh}function Uh(t,n,r,i,o,l,d){const g=$e(),b=function Al(t,n,r,i,o,l,d,g){const M=Cd(t,ho(),r,o,d);return mo(3),M?n+St(r)+i+St(o)+l+St(d)+g:an}(g,t,n,r,i,o,l,d);return b!==an&&Zo(g,pi(),b),Uh}function Bh(t,n,r){bv(n)&&(n=n());const i=$e();return Hr(i,Hs(),n)&&Ss(mn(),rr(),i,t,n,i[_e],r,!1),Bh}function X_(t,n){const r=bv(t);return r&&t.set(n),r}function Gh(t,n){const r=$e(),i=mn(),o=Wn();return Ph(i,r,r[_e],o,t,n),Gh}function Hh(t,n,r,i,o){if(t=pe(t),Array.isArray(t))for(let l=0;l<t.length;l++)Hh(t[l],n,r,i,o);else{const l=mn(),d=$e(),g=Wn();let b=ws(t)?t:pe(t.provide);const M=Wi(t),$=1048575&g.providerIndexes,Y=g.directiveStart,oe=g.providerIndexes>>20;if(ws(t)||!t.multi){const ue=new u(M,o,ml),be=zh(b,n,o?$:$+oe,Y);-1===be?(kf(Ko(g,d),l,b),qh(l,t,n.length),n.push(b),g.directiveStart++,g.directiveEnd++,o&&(g.providerIndexes+=1048576),r.push(ue),d.push(ue)):(r[be]=ue,d[be]=ue)}else{const ue=zh(b,n,$+oe,Y),be=zh(b,n,$,$+oe),ot=be>=0&&r[be];if(o&&!ot||!o&&!(ue>=0&&r[ue])){kf(Ko(g,d),l,b);const ct=function sF(t,n,r,i,o){const l=new u(t,r,ml);return l.multi=[],l.index=n,l.componentProviders=0,J_(l,o,i&&!r),l}(o?iF:rF,r.length,o,i,M);!o&&ot&&(r[be].providerFactory=ct),qh(l,t,n.length,0),n.push(b),g.directiveStart++,g.directiveEnd++,o&&(g.providerIndexes+=1048576),r.push(ct),d.push(ct)}else qh(l,t,ue>-1?ue:be,J_(r[o?be:ue],M,!o&&i));!o&&i&&ot&&r[be].componentProviders++}}}function qh(t,n,r,i){const o=ws(n),l=function ra(t){return!!t.useClass}(n);if(o||l){const b=(l?pe(n.useClass):n).prototype.ngOnDestroy;if(b){const M=t.destroyHooks||(t.destroyHooks=[]);if(!o&&n.multi){const $=M.indexOf(r);-1===$?M.push(r,[i,b]):M[$+1].push(i,b)}else M.push(r,b)}}}function J_(t,n,r){return r&&t.componentProviders++,t.multi.push(n)-1}function zh(t,n,r,i){for(let o=r;o<i;o++)if(n[o]===t)return o;return-1}function rF(t,n,r,i){return Wh(this.multi,[])}function iF(t,n,r,i){const o=this.multi;let l;if(this.providerFactory){const d=this.providerFactory.componentProviders,g=Ma(r,r[c],this.providerFactory.index,i);l=g.slice(0,d),Wh(o,l);for(let b=d;b<g.length;b++)l.push(g[b])}else l=[],Wh(o,l);return l}function Wh(t,n){for(let r=0;r<t.length;r++)n.push((0,t[r])());return n}function Z_(t,n=[]){return r=>{r.providersResolver=(i,o)=>function nF(t,n,r){const i=mn();if(i.firstCreatePass){const o=ls(t);Hh(r,i.data,i.blueprint,o,!0),Hh(n,i.data,i.blueprint,o,!1)}}(i,o?o(t):t,n)}}let oF=(()=>{class t{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=Po(0,r.type),o=i.length>0?oh([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=rn({token:t,providedIn:"environment",factory:()=>new t(Pn(ei))})}}return t})();function e1(t){fs("NgStandalone"),t.getStandaloneInjector=n=>n.get(oF).getOrCreateStandaloneInjector(t)}function r1(t,n,r){const i=Li()+t,o=$e();return o[i]===an?To(o,i,r?n.call(r):n()):function Uu(t,n){return t[n]}(o,i)}function i1(t,n,r,i){return l1($e(),Li(),t,n,r,i)}function s1(t,n,r,i,o){return u1($e(),Li(),t,n,r,i,o)}function o1(t,n,r,i,o,l){return c1($e(),Li(),t,n,r,i,o,l)}function a1(t,n,r,i,o,l,d){return function d1(t,n,r,i,o,l,d,g,b){const M=n+r;return function ao(t,n,r,i,o,l){const d=Va(t,n,r,i);return Va(t,n+2,o,l)||d}(t,M,o,l,d,g)?To(t,M+4,b?i.call(b,o,l,d,g):i(o,l,d,g)):Zu(t,M+4)}($e(),Li(),t,n,r,i,o,l,d)}function Zu(t,n){const r=t[n];return r===an?void 0:r}function l1(t,n,r,i,o,l){const d=n+r;return Hr(t,d,o)?To(t,d+1,l?i.call(l,o):i(o)):Zu(t,d+1)}function u1(t,n,r,i,o,l,d){const g=n+r;return Va(t,g,o,l)?To(t,g+2,d?i.call(d,o,l):i(o,l)):Zu(t,g+2)}function c1(t,n,r,i,o,l,d,g){const b=n+r;return Cd(t,b,o,l,d)?To(t,b+3,g?i.call(g,o,l,d):i(o,l,d)):Zu(t,b+3)}function p1(t,n){const r=mn();let i;const o=t+dt;r.firstCreatePass?(i=function mF(t,n){if(n)for(let r=n.length-1;r>=0;r--){const i=n[r];if(t===i.name)return i}}(n,r.pipeRegistry),r.data[o]=i,i.onDestroy&&(r.destroyHooks??=[]).push(o,i.onDestroy)):i=r.data[o];const l=i.factory||(i.factory=gr(i.type)),g=or(ml);try{const b=Xo(!1),M=l();return Xo(b),function Lh(t,n,r,i){r>=t.data.length&&(t.data[r]=null,t.blueprint[r]=null),n[r]=i}(r,$e(),o,M),M}finally{or(g)}}function h1(t,n,r){const i=t+dt,o=$e(),l=qo(o,i);return ec(o,i)?l1(o,Li(),n,l.transform,r,l):l.transform(r)}function m1(t,n,r,i){const o=t+dt,l=$e(),d=qo(l,o);return ec(l,o)?u1(l,Li(),n,d.transform,r,i,d):d.transform(r,i)}function g1(t,n,r,i,o){const l=t+dt,d=$e(),g=qo(d,l);return ec(d,l)?c1(d,Li(),n,g.transform,r,i,o,g):g.transform(r,i,o)}function ec(t,n){return t[c].data[n].pure}function v1(t,n){return ud(t,n)}class R1{constructor(n){this.full=n;const r=n.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}let O1=(()=>{class t{log(r){console.log(r)}warn(r){console.warn(r)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const $1=new Pt(""),V1=new Pt("");let Zh,cI=(()=>{class t{constructor(r,i,o){this._ngZone=r,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Zh||(function dI(t){Zh=t}(o),o.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{yr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,o){let l=-1;i&&i>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(d=>d.timeoutId!==l),r()},i)),this._callbacks.push({doneCb:r,timeoutId:l,updateCb:o})}whenStable(r,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,o),this._runCallbacksIfReady()}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,o){return[]}static{this.\u0275fac=function(i){return new(i||t)(Pn(yr),Pn(U1),Pn(V1))}}static{this.\u0275prov=rn({token:t,factory:t.\u0275fac})}}return t})(),U1=(()=>{class t{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return Zh?.findTestabilityInTree(this,r,i)??null}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function em(t){return!!t&&"function"==typeof t.then}function B1(t){return!!t&&"function"==typeof t.subscribe}const G1=new Pt("");let H1=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=_t(G1,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const o of this.appInits){const l=o();if(em(l))r.push(l);else if(B1(l)){const d=new Promise((g,b)=>{l.subscribe({complete:g,error:b})});r.push(d)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),0===r.length&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const qd=new Pt("");let Oo=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=_t(sE),this.afterRenderManager=_t(zv),this.zonelessEnabled=_t(Pu),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Sn.B,this.afterTick=new Sn.B,this.componentTypes=[],this.components=[],this.isStable=_t(Ta).hasPendingTasks.pipe((0,Zt.T)(r=>!r)),this._injector=_t(ei)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:o=>{o&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){const o=r instanceof Q0;if(!this._injector.get(H1).done)throw!o&&ss(r),new rt(405,!1);let d;d=o?r:this._injector.get(md).resolveComponentFactory(r),this.componentTypes.push(d.componentType);const g=function fI(t){return t.isBoundToModule}(d)?void 0:this._injector.get($a),M=d.create(Ki.NULL,[],i||d.selector,g),$=M.location.nativeElement,Y=M.injector.get($1,null);return Y?.registerApplication($),M.onDestroy(()=>{this.detachView(M.hostView),zd(this.components,M),Y?.unregisterApplication($)}),this._loadComponent(M),M}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new rt(101,!1);const r=W(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,W(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(Gp,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;0!==this.dirtyFlags&&i++<10;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const i=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:o,notifyErrorHandler:l}of this._views)mI(o,l,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else r?.begin?.(),r?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:r})=>Ya(r))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;zd(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(qd,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>zd(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new rt(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function zd(t,n){const r=t.indexOf(n);r>-1&&t.splice(r,1)}function mI(t,n,r,i){(r||Ya(t))&&ld(t,n,r&&!i?0:1)}class gI{constructor(n,r){this.ngModuleFactory=n,this.componentFactories=r}}let vI=(()=>{class t{compileModuleSync(r){return new sh(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),l=qs(pr(r).declarations).reduce((d,g)=>{const b=Wt(g);return b&&d.push(new $u(b)),d},[]);return new gI(i,l)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),bI=(()=>{class t{constructor(){this.zone=_t(yr),this.changeDetectionScheduler=_t(_l),this.applicationRef=_t(Oo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function tm({ngZoneFactory:t,ignoreChangesOutsideZone:n,scheduleInRootZone:r}){return t??=()=>new yr({...nm(),scheduleInRootZone:r}),[{provide:yr,useFactory:t},{provide:Ur,multi:!0,useFactory:()=>{const i=_t(bI,{optional:!0});return()=>i.initialize()}},{provide:Ur,multi:!0,useFactory:()=>{const i=_t(CI);return()=>{i.initialize()}}},!0===n?{provide:K0,useValue:!0}:[],{provide:Bp,useValue:r??Rm}]}function nm(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}let CI=(()=>{class t{constructor(){this.subscription=new pn.yU,this.initialized=!1,this.zone=_t(yr),this.pendingTasks=_t(Ta)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{yr.assertNotInAngularZone(),queueMicrotask(()=>{null!==r&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{yr.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),rc=(()=>{class t{constructor(){this.appRef=_t(Oo),this.taskService=_t(Ta),this.ngZone=_t(yr),this.zonelessEnabled=_t(Pu),this.disableScheduling=_t(K0,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new pn.yU,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Lc):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(_t(Bp,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Pf||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&5===r)return;switch(r){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const i=this.useMicrotaskScheduler?Nm:Om;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>i(()=>this.tick())):this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Lc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(r),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Nm(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=rn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const im=new Pt("",{providedIn:"root",factory:()=>_t(im,zt.Optional|zt.SkipSelf)||function wI(){return typeof $localize<"u"&&$localize.locale||Pd}()}),DI=new Pt("",{providedIn:"root",factory:()=>"USD"}),Yd=new Pt("");function Xd(t){return!t.moduleRef}let _a=null;const Gl=new Pt("");let rb=(()=>{class t{static{this.__NG_ELEMENT_ID__=RI}}return t})();function RI(t){return function OI(t,n,r){if(fo(t)&&!r){const i=us(t.index,n);return new Fu(i,i)}return 175&t.type?new Fu(n[st],n):null}(Wn(),$e(),!(16&~t))}class ab{constructor(){}supports(n){return Ed(n)}create(n){return new $I(n)}}const LI=(t,n)=>n;class $I{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||LI}forEachItem(n){let r;for(r=this._itHead;null!==r;r=r._next)n(r)}forEachOperation(n){let r=this._itHead,i=this._removalsHead,o=0,l=null;for(;r||i;){const d=!i||r&&r.currentIndex<ub(i,o,l)?r:i,g=ub(d,o,l),b=d.currentIndex;if(d===i)o--,i=i._nextRemoved;else if(r=r._next,null==d.previousIndex)o++;else{l||(l=[]);const M=g-o,$=b-o;if(M!=$){for(let oe=0;oe<M;oe++){const ue=oe<l.length?l[oe]:l[oe]=0,be=ue+oe;$<=be&&be<M&&(l[oe]=ue+1)}l[d.previousIndex]=$-M}}g!==b&&n(d,g,b)}}forEachPreviousItem(n){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachMovedItem(n){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}forEachIdentityChange(n){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)n(r)}diff(n){if(null==n&&(n=[]),!Ed(n))throw new rt(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let o,l,d,r=this._itHead,i=!1;if(Array.isArray(n)){this.length=n.length;for(let g=0;g<this.length;g++)l=n[g],d=this._trackByFn(g,l),null!==r&&Object.is(r.trackById,d)?(i&&(r=this._verifyReinsertion(r,l,d,g)),Object.is(r.item,l)||this._addIdentityChange(r,l)):(r=this._mismatch(r,l,d,g),i=!0),r=r._next}else o=0,function px(t,n){if(Array.isArray(t))for(let r=0;r<t.length;r++)n(t[r]);else{const r=t[Symbol.iterator]();let i;for(;!(i=r.next()).done;)n(i.value)}}(n,g=>{d=this._trackByFn(o,g),null!==r&&Object.is(r.trackById,d)?(i&&(r=this._verifyReinsertion(r,g,d,o)),Object.is(r.item,g)||this._addIdentityChange(r,g)):(r=this._mismatch(r,g,d,o),i=!0),r=r._next,o++}),this.length=o;return this._truncate(r),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,r,i,o){let l;return null===n?l=this._itTail:(l=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._reinsertAfter(n,l,o)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(i,o))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._moveAfter(n,l,o)):n=this._addAfter(new VI(r,i),l,o),n}_verifyReinsertion(n,r,i,o){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==l?n=this._reinsertAfter(l,n._prev,o):n.currentIndex!=o&&(n.currentIndex=o,this._addToMoves(n,o)),n}_truncate(n){for(;null!==n;){const r=n._next;this._addToRemovals(this._unlink(n)),n=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,r,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const o=n._prevRemoved,l=n._nextRemoved;return null===o?this._removalsHead=l:o._nextRemoved=l,null===l?this._removalsTail=o:l._prevRemoved=o,this._insertAfter(n,r,i),this._addToMoves(n,i),n}_moveAfter(n,r,i){return this._unlink(n),this._insertAfter(n,r,i),this._addToMoves(n,i),n}_addAfter(n,r,i){return this._insertAfter(n,r,i),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,r,i){const o=null===r?this._itHead:r._next;return n._next=o,n._prev=r,null===o?this._itTail=n:o._prev=n,null===r?this._itHead=n:r._next=n,null===this._linkedRecords&&(this._linkedRecords=new lb),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const r=n._prev,i=n._next;return null===r?this._itHead=i:r._next=i,null===i?this._itTail=r:i._prev=r,n}_addToMoves(n,r){return n.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new lb),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,r){return n.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class VI{constructor(n,r){this.item=n,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class UI{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,r){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===r||r<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){const r=n._prevDup,i=n._nextDup;return null===r?this._head=i:r._nextDup=i,null===i?this._tail=r:i._prevDup=r,null===this._head}}class lb{constructor(){this.map=new Map}put(n){const r=n.trackById;let i=this.map.get(r);i||(i=new UI,this.map.set(r,i)),i.add(n)}get(n,r){const o=this.map.get(n);return o?o.get(n,r):null}remove(n){const r=n.trackById;return this.map.get(r).remove(n)&&this.map.delete(r),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ub(t,n,r){const i=t.previousIndex;if(null===i)return i;let o=0;return r&&i<r.length&&(o=r[i]),i+n+o}class cb{constructor(){}supports(n){return n instanceof Map||ah(n)}create(){return new BI}}class BI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let r;for(r=this._mapHead;null!==r;r=r._next)n(r)}forEachPreviousItem(n){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)n(r)}forEachChangedItem(n){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}diff(n){if(n){if(!(n instanceof Map||ah(n)))throw new rt(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(n,(i,o)=>{if(r&&r.key===o)this._maybeAddToChanges(r,i),this._appendAfter=r,r=r._next;else{const l=this._getOrCreateRecordForKey(o,i);r=this._insertBeforeOrAppend(r,l)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let i=r;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,r){if(n){const i=n._prev;return r._next=n,r._prev=i,n._prev=r,i&&(i._next=r),n===this._mapHead&&(this._mapHead=r),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(n,r){if(this._records.has(n)){const o=this._records.get(n);this._maybeAddToChanges(o,r);const l=o._prev,d=o._next;return l&&(l._next=d),d&&(d._prev=l),o._next=null,o._prev=null,o}const i=new GI(n);return this._records.set(n,i),i.currentValue=r,this._addToAdditions(i),i}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,r){Object.is(r,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=r,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,r){n instanceof Map?n.forEach(r):Object.keys(n).forEach(i=>r(n[i],i))}}class GI{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function db(){return new um([new ab])}let um=(()=>{class t{static{this.\u0275prov=rn({token:t,providedIn:"root",factory:db})}constructor(r){this.factories=r}static create(r,i){if(null!=i){const o=i.factories.slice();r=r.concat(o)}return new t(r)}static extend(r){return{provide:t,useFactory:i=>t.create(r,i||db()),deps:[[t,new ns,new Hi]]}}find(r){const i=this.factories.find(o=>o.supports(r));if(null!=i)return i;throw new rt(901,!1)}}return t})();function fb(){return new cm([new cb])}let cm=(()=>{class t{static{this.\u0275prov=rn({token:t,providedIn:"root",factory:fb})}constructor(r){this.factories=r}static create(r,i){if(i){const o=i.factories.slice();r=r.concat(o)}return new t(r)}static extend(r){return{provide:t,useFactory:i=>t.create(r,i||fb()),deps:[[t,new ns,new Hi]]}}find(r){const i=this.factories.find(o=>o.supports(r));if(i)return i;throw new rt(901,!1)}}return t})();function rk(t){const{rootComponent:n,appProviders:r,platformProviders:i,platformRef:o}=t;try{const l=o?.injector??function AI(t=[]){if(_a)return _a;const n=function eb(t=[],n){return Ki.create({name:n,providers:[{provide:ro,useValue:"platform"},{provide:Yd,useValue:new Set([()=>_a=null])},...t]})}(t);return n.get(Gl,!1)||(_a=n),function q1(){!function _r(t){jt=t}(()=>{throw new rt(600,!1)})}(),function tb(t){t.get(og,null)?.forEach(r=>r())}(n),n}(i);if(!0===l.get(Gl,!1)&&!t.platformRef)throw new rt(401,!1);const d=[tm({}),{provide:_l,useExisting:rc},...r||[]];return function J1(t){const n=Xd(t)?t.r3Injector:t.moduleRef.injector,r=n.get(yr);return r.run(()=>{Xd(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();const i=n.get(Qo,null);let o;if(r.runOutsideAngular(()=>{o=r.onError.subscribe({next:l=>{i.handleError(l)}})}),Xd(t)){const l=()=>n.destroy(),d=t.platformInjector.get(Yd);d.add(l),n.onDestroy(()=>{o.unsubscribe(),d.delete(l)})}else{const l=()=>t.moduleRef.destroy(),d=t.platformInjector.get(Yd);d.add(l),t.moduleRef.onDestroy(()=>{zd(t.allPlatformModules,t.moduleRef),o.unsubscribe(),d.delete(l)})}return function hI(t,n,r){try{const i=r();return em(i)?i.catch(o=>{throw n.runOutsideAngular(()=>t.handleError(o)),o}):i}catch(i){throw n.runOutsideAngular(()=>t.handleError(i)),i}}(i,r,()=>{const l=n.get(H1);return l.runInitializers(),l.donePromise.then(()=>{if(function Z2(t){"string"==typeof t&&(zy=t.toLowerCase().replace(/_/g,"-"))}(n.get(im,Pd)||Pd),Xd(t)){const g=n.get(Oo);return void 0!==t.rootComponent&&g.bootstrap(t.rootComponent),g}return function kI(t,n){const r=t.injector.get(Oo);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new rt(-403,!1);t.instance.ngDoBootstrap(r)}n.push(t)}(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}({r3Injector:new Lv({providers:d,parent:l,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:l,rootComponent:n})}catch(l){return Promise.reject(l)}}function wk(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function xk(t,n){fs("NgSignals");const r=function Je(t){const n=Object.create(qe);n.computation=t;const r=()=>{if(Fe(n),te(n),n.value===pt)throw n.error;return n.value};return r[P]=n,r}(t);return n?.equal&&(r[P].equal=n.equal),r}function Sk(t){const n=W(null);try{return t()}finally{W(n)}}function Ak(t){const n=Wt(t);if(!n)return null;const r=new $u(n);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},9417:(at,ye,R)=>{"use strict";R.d(ye,{$R:()=>er,BC:()=>Jn,Fm:()=>kr,JD:()=>Sr,MJ:()=>Bt,Q0:()=>Et,X1:()=>Zr,YN:()=>ui,YS:()=>Hn,Zm:()=>te,cb:()=>rt,gE:()=>Kr,j4:()=>Ti,k0:()=>Oe,kq:()=>he,l_:()=>Tr,me:()=>H,ok:()=>An,qT:()=>Ts,tU:()=>Ur,v8:()=>vs,vO:()=>Sn,vS:()=>es,wz:()=>ys,xH:()=>_s,y7:()=>Lr,zX:()=>Ei});var f=R(4438),O=R(177),de=R(6648),e=R(7468),P=R(1413),W=R(6354);let F=(()=>{class A{constructor(x,G){this._renderer=x,this._elementRef=G,this.onChange=se=>{},this.onTouched=()=>{}}setProperty(x,G){this._renderer.setProperty(this._elementRef.nativeElement,x,G)}registerOnTouched(x){this.onTouched=x}registerOnChange(x){this.onChange=x}setDisabledState(x){this.setProperty("disabled",x)}static{this.\u0275fac=function(G){return new(G||A)(f.rXU(f.sFG),f.rXU(f.aKT))}}static{this.\u0275dir=f.FsC({type:A})}}return A})(),Z=(()=>{class A extends F{static{this.\u0275fac=(()=>{let x;return function(se){return(x||(x=f.xGo(A)))(se||A)}})()}static{this.\u0275dir=f.FsC({type:A,features:[f.Vt3]})}}return A})();const he=new f.nKC(""),fe={provide:he,useExisting:(0,f.Rfq)(()=>te),multi:!0};let te=(()=>{class A extends Z{writeValue(x){this.setProperty("checked",x)}static{this.\u0275fac=(()=>{let x;return function(se){return(x||(x=f.xGo(A)))(se||A)}})()}static{this.\u0275dir=f.FsC({type:A,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(G,se){1&G&&f.bIt("change",function(Gt){return se.onChange(Gt.target.checked)})("blur",function(){return se.onTouched()})},features:[f.Jv_([fe]),f.Vt3]})}}return A})();const ve={provide:he,useExisting:(0,f.Rfq)(()=>H),multi:!0},De=new f.nKC("");let H=(()=>{class A extends F{constructor(x,G,se){super(x,G),this._compositionMode=se,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Fe(){const A=(0,O.QT)()?(0,O.QT)().getUserAgent():"";return/android (\d+)/.test(A.toLowerCase())}())}writeValue(x){this.setProperty("value",x??"")}_handleInput(x){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(x)}_compositionStart(){this._composing=!0}_compositionEnd(x){this._composing=!1,this._compositionMode&&this.onChange(x)}static{this.\u0275fac=function(G){return new(G||A)(f.rXU(f.sFG),f.rXU(f.aKT),f.rXU(De,8))}}static{this.\u0275dir=f.FsC({type:A,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(G,se){1&G&&f.bIt("input",function(Gt){return se._handleInput(Gt.target.value)})("blur",function(){return se.onTouched()})("compositionstart",function(){return se._compositionStart()})("compositionend",function(Gt){return se._compositionEnd(Gt.target.value)})},features:[f.Jv_([ve]),f.Vt3]})}}return A})();function Q(A){return null==A||("string"==typeof A||Array.isArray(A))&&0===A.length}function ce(A){return null!=A&&"number"==typeof A.length}const me=new f.nKC(""),Ve=new f.nKC(""),Ee=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Oe{static min(N){return function Le(A){return N=>{if(Q(N.value)||Q(A))return null;const x=parseFloat(N.value);return!isNaN(x)&&x<A?{min:{min:A,actual:N.value}}:null}}(N)}static max(N){return nt(N)}static required(N){return ht(N)}static requiredTrue(N){return function Ye(A){return!0===A.value?null:{required:!0}}(N)}static email(N){return function Ze(A){return Q(A.value)||Ee.test(A.value)?null:{email:!0}}(N)}static minLength(N){return function Je(A){return N=>Q(N.value)||!ce(N.value)?null:N.value.length<A?{minlength:{requiredLength:A,actualLength:N.value.length}}:null}(N)}static maxLength(N){return yt(N)}static pattern(N){return function Re(A){if(!A)return pt;let N,x;return"string"==typeof A?(x="","^"!==A.charAt(0)&&(x+="^"),x+=A,"$"!==A.charAt(A.length-1)&&(x+="$"),N=new RegExp(x)):(x=A.toString(),N=A),G=>{if(Q(G.value))return null;const se=G.value;return N.test(se)?null:{pattern:{requiredPattern:x,actualValue:se}}}}(N)}static nullValidator(N){return null}static compose(N){return vn(N)}static composeAsync(N){return ke(N)}}function nt(A){return N=>{if(Q(N.value)||Q(A))return null;const x=parseFloat(N.value);return!isNaN(x)&&x>A?{max:{max:A,actual:N.value}}:null}}function ht(A){return Q(A.value)?{required:!0}:null}function yt(A){return N=>ce(N.value)&&N.value.length>A?{maxlength:{requiredLength:A,actualLength:N.value.length}}:null}function pt(A){return null}function qe(A){return null!=A}function kn(A){return(0,f.jNT)(A)?(0,de.H)(A):A}function jt(A){let N={};return A.forEach(x=>{N=null!=x?{...N,...x}:N}),0===Object.keys(N).length?null:N}function Tt(A,N){return N.map(x=>x(A))}function br(A){return A.map(N=>function _r(A){return!A.validate}(N)?N:x=>N.validate(x))}function vn(A){if(!A)return null;const N=A.filter(qe);return 0==N.length?null:function(x){return jt(Tt(x,N))}}function Se(A){return null!=A?vn(br(A)):null}function ke(A){if(!A)return null;const N=A.filter(qe);return 0==N.length?null:function(x){const G=Tt(x,N).map(kn);return(0,e.p)(G).pipe((0,W.T)(jt))}}function Ne(A){return null!=A?ke(br(A)):null}function Me(A,N){return null===A?[N]:Array.isArray(A)?[...A,N]:[A,N]}function tt(A){return A._rawValidators}function Pe(A){return A._rawAsyncValidators}function vt(A){return A?Array.isArray(A)?A:[A]:[]}function ln(A,N){return Array.isArray(A)?A.includes(N):A===N}function Cn(A,N){const x=vt(N);return vt(A).forEach(se=>{ln(x,se)||x.push(se)}),x}function Mt(A,N){return vt(N).filter(x=>!ln(A,x))}class yn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(N){this._rawValidators=N||[],this._composedValidatorFn=Se(this._rawValidators)}_setAsyncValidators(N){this._rawAsyncValidators=N||[],this._composedAsyncValidatorFn=Ne(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(N){this._onDestroyCallbacks.push(N)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(N=>N()),this._onDestroyCallbacks=[]}reset(N=void 0){this.control&&this.control.reset(N)}hasError(N,x){return!!this.control&&this.control.hasError(N,x)}getError(N,x){return this.control?this.control.getError(N,x):null}}class Ot extends yn{get formDirective(){return null}get path(){return null}}class Sn extends yn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class pn{constructor(N){this._cd=N}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let Jn=(()=>{class A extends pn{constructor(x){super(x)}static{this.\u0275fac=function(G){return new(G||A)(f.rXU(Sn,2))}}static{this.\u0275dir=f.FsC({type:A,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(G,se){2&G&&f.AVh("ng-untouched",se.isUntouched)("ng-touched",se.isTouched)("ng-pristine",se.isPristine)("ng-dirty",se.isDirty)("ng-valid",se.isValid)("ng-invalid",se.isInvalid)("ng-pending",se.isPending)},features:[f.Vt3]})}}return A})(),rt=(()=>{class A extends pn{constructor(x){super(x)}static{this.\u0275fac=function(G){return new(G||A)(f.rXU(Ot,10))}}static{this.\u0275dir=f.FsC({type:A,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(G,se){2&G&&f.AVh("ng-untouched",se.isUntouched)("ng-touched",se.isTouched)("ng-pristine",se.isPristine)("ng-dirty",se.isDirty)("ng-valid",se.isValid)("ng-invalid",se.isInvalid)("ng-pending",se.isPending)("ng-submitted",se.isSubmitted)},features:[f.Vt3]})}}return A})();const Er="VALID",$t="INVALID",Cr="PENDING",Or="DISABLED";class Dn{}class je extends Dn{constructor(N,x){super(),this.value=N,this.source=x}}class pe extends Dn{constructor(N,x){super(),this.pristine=N,this.source=x}}class ae extends Dn{constructor(N,x){super(),this.touched=N,this.source=x}}class ge extends Dn{constructor(N,x){super(),this.status=N,this.source=x}}class ze extends Dn{constructor(N){super(),this.source=N}}class ft extends Dn{constructor(N){super(),this.source=N}}function Lt(A){return(wr(A)?A.validators:A)||null}function Mn(A,N){return(wr(N)?N.asyncValidators:A)||null}function wr(A){return null!=A&&!Array.isArray(A)&&"object"==typeof A}function dr(A,N,x){const G=A.controls;if(!(N?Object.keys(G):G).length)throw new f.wOt(1e3,"");if(!G[x])throw new f.wOt(1001,"")}function vi(A,N,x){A._forEachChild((G,se)=>{if(void 0===x[se])throw new f.wOt(1002,"")})}class sr{constructor(N,x){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,f.EWP)(()=>this.statusReactive()),this.statusReactive=(0,f.vPA)(void 0),this._pristine=(0,f.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,f.vPA)(!0),this._touched=(0,f.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,f.vPA)(!1),this._events=new P.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(N),this._assignAsyncValidators(x)}get validator(){return this._composedValidatorFn}set validator(N){this._rawValidators=this._composedValidatorFn=N}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(N){this._rawAsyncValidators=this._composedAsyncValidatorFn=N}get parent(){return this._parent}get status(){return(0,f.O8t)(this.statusReactive)}set status(N){(0,f.O8t)(()=>this.statusReactive.set(N))}get valid(){return this.status===Er}get invalid(){return this.status===$t}get pending(){return this.status==Cr}get disabled(){return this.status===Or}get enabled(){return this.status!==Or}get pristine(){return(0,f.O8t)(this.pristineReactive)}set pristine(N){(0,f.O8t)(()=>this.pristineReactive.set(N))}get dirty(){return!this.pristine}get touched(){return(0,f.O8t)(this.touchedReactive)}set touched(N){(0,f.O8t)(()=>this.touchedReactive.set(N))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(N){this._assignValidators(N)}setAsyncValidators(N){this._assignAsyncValidators(N)}addValidators(N){this.setValidators(Cn(N,this._rawValidators))}addAsyncValidators(N){this.setAsyncValidators(Cn(N,this._rawAsyncValidators))}removeValidators(N){this.setValidators(Mt(N,this._rawValidators))}removeAsyncValidators(N){this.setAsyncValidators(Mt(N,this._rawAsyncValidators))}hasValidator(N){return ln(this._rawValidators,N)}hasAsyncValidator(N){return ln(this._rawAsyncValidators,N)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(N={}){const x=!1===this.touched;this.touched=!0;const G=N.sourceControl??this;this._parent&&!N.onlySelf&&this._parent.markAsTouched({...N,sourceControl:G}),x&&!1!==N.emitEvent&&this._events.next(new ae(!0,G))}markAllAsTouched(N={}){this.markAsTouched({onlySelf:!0,emitEvent:N.emitEvent,sourceControl:this}),this._forEachChild(x=>x.markAllAsTouched(N))}markAsUntouched(N={}){const x=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const G=N.sourceControl??this;this._forEachChild(se=>{se.markAsUntouched({onlySelf:!0,emitEvent:N.emitEvent,sourceControl:G})}),this._parent&&!N.onlySelf&&this._parent._updateTouched(N,G),x&&!1!==N.emitEvent&&this._events.next(new ae(!1,G))}markAsDirty(N={}){const x=!0===this.pristine;this.pristine=!1;const G=N.sourceControl??this;this._parent&&!N.onlySelf&&this._parent.markAsDirty({...N,sourceControl:G}),x&&!1!==N.emitEvent&&this._events.next(new pe(!1,G))}markAsPristine(N={}){const x=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const G=N.sourceControl??this;this._forEachChild(se=>{se.markAsPristine({onlySelf:!0,emitEvent:N.emitEvent})}),this._parent&&!N.onlySelf&&this._parent._updatePristine(N,G),x&&!1!==N.emitEvent&&this._events.next(new pe(!0,G))}markAsPending(N={}){this.status=Cr;const x=N.sourceControl??this;!1!==N.emitEvent&&(this._events.next(new ge(this.status,x)),this.statusChanges.emit(this.status)),this._parent&&!N.onlySelf&&this._parent.markAsPending({...N,sourceControl:x})}disable(N={}){const x=this._parentMarkedDirty(N.onlySelf);this.status=Or,this.errors=null,this._forEachChild(se=>{se.disable({...N,onlySelf:!0})}),this._updateValue();const G=N.sourceControl??this;!1!==N.emitEvent&&(this._events.next(new je(this.value,G)),this._events.next(new ge(this.status,G)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...N,skipPristineCheck:x},this),this._onDisabledChange.forEach(se=>se(!0))}enable(N={}){const x=this._parentMarkedDirty(N.onlySelf);this.status=Er,this._forEachChild(G=>{G.enable({...N,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:N.emitEvent}),this._updateAncestors({...N,skipPristineCheck:x},this),this._onDisabledChange.forEach(G=>G(!1))}_updateAncestors(N,x){this._parent&&!N.onlySelf&&(this._parent.updateValueAndValidity(N),N.skipPristineCheck||this._parent._updatePristine({},x),this._parent._updateTouched({},x))}setParent(N){this._parent=N}getRawValue(){return this.value}updateValueAndValidity(N={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const G=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Er||this.status===Cr)&&this._runAsyncValidator(G,N.emitEvent)}const x=N.sourceControl??this;!1!==N.emitEvent&&(this._events.next(new je(this.value,x)),this._events.next(new ge(this.status,x)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!N.onlySelf&&this._parent.updateValueAndValidity({...N,sourceControl:x})}_updateTreeValidity(N={emitEvent:!0}){this._forEachChild(x=>x._updateTreeValidity(N)),this.updateValueAndValidity({onlySelf:!0,emitEvent:N.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Or:Er}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(N,x){if(this.asyncValidator){this.status=Cr,this._hasOwnPendingAsyncValidator={emitEvent:!1!==x};const G=kn(this.asyncValidator(this));this._asyncValidationSubscription=G.subscribe(se=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(se,{emitEvent:x,shouldHaveEmitted:N})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const N=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,N}return!1}setErrors(N,x={}){this.errors=N,this._updateControlsErrors(!1!==x.emitEvent,this,x.shouldHaveEmitted)}get(N){let x=N;return null==x||(Array.isArray(x)||(x=x.split(".")),0===x.length)?null:x.reduce((G,se)=>G&&G._find(se),this)}getError(N,x){const G=x?this.get(x):this;return G&&G.errors?G.errors[N]:null}hasError(N,x){return!!this.getError(N,x)}get root(){let N=this;for(;N._parent;)N=N._parent;return N}_updateControlsErrors(N,x,G){this.status=this._calculateStatus(),N&&this.statusChanges.emit(this.status),(N||G)&&this._events.next(new ge(this.status,x)),this._parent&&this._parent._updateControlsErrors(N,x,G)}_initObservables(){this.valueChanges=new f.bkB,this.statusChanges=new f.bkB}_calculateStatus(){return this._allControlsDisabled()?Or:this.errors?$t:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Cr)?Cr:this._anyControlsHaveStatus($t)?$t:Er}_anyControlsHaveStatus(N){return this._anyControls(x=>x.status===N)}_anyControlsDirty(){return this._anyControls(N=>N.dirty)}_anyControlsTouched(){return this._anyControls(N=>N.touched)}_updatePristine(N,x){const G=!this._anyControlsDirty(),se=this.pristine!==G;this.pristine=G,this._parent&&!N.onlySelf&&this._parent._updatePristine(N,x),se&&this._events.next(new pe(this.pristine,x))}_updateTouched(N={},x){this.touched=this._anyControlsTouched(),this._events.next(new ae(this.touched,x)),this._parent&&!N.onlySelf&&this._parent._updateTouched(N,x)}_registerOnCollectionChange(N){this._onCollectionChange=N}_setUpdateStrategy(N){wr(N)&&null!=N.updateOn&&(this._updateOn=N.updateOn)}_parentMarkedDirty(N){return!N&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(N){return null}_assignValidators(N){this._rawValidators=Array.isArray(N)?N.slice():N,this._composedValidatorFn=function qt(A){return Array.isArray(A)?Se(A):A||null}(this._rawValidators)}_assignAsyncValidators(N){this._rawAsyncValidators=Array.isArray(N)?N.slice():N,this._composedAsyncValidatorFn=function cr(A){return Array.isArray(A)?Ne(A):A||null}(this._rawAsyncValidators)}}class Kr extends sr{constructor(N,x,G){super(Lt(x),Mn(G,x)),this.controls=N,this._initObservables(),this._setUpdateStrategy(x),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(N,x){return this.controls[N]?this.controls[N]:(this.controls[N]=x,x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange),x)}addControl(N,x,G={}){this.registerControl(N,x),this.updateValueAndValidity({emitEvent:G.emitEvent}),this._onCollectionChange()}removeControl(N,x={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),delete this.controls[N],this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}setControl(N,x,G={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),delete this.controls[N],x&&this.registerControl(N,x),this.updateValueAndValidity({emitEvent:G.emitEvent}),this._onCollectionChange()}contains(N){return this.controls.hasOwnProperty(N)&&this.controls[N].enabled}setValue(N,x={}){vi(this,0,N),Object.keys(N).forEach(G=>{dr(this,!0,G),this.controls[G].setValue(N[G],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x)}patchValue(N,x={}){null!=N&&(Object.keys(N).forEach(G=>{const se=this.controls[G];se&&se.patchValue(N[G],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x))}reset(N={},x={}){this._forEachChild((G,se)=>{G.reset(N?N[se]:null,{onlySelf:!0,emitEvent:x.emitEvent})}),this._updatePristine(x,this),this._updateTouched(x,this),this.updateValueAndValidity(x)}getRawValue(){return this._reduceChildren({},(N,x,G)=>(N[G]=x.getRawValue(),N))}_syncPendingControls(){let N=this._reduceChildren(!1,(x,G)=>!!G._syncPendingControls()||x);return N&&this.updateValueAndValidity({onlySelf:!0}),N}_forEachChild(N){Object.keys(this.controls).forEach(x=>{const G=this.controls[x];G&&N(G,x)})}_setUpControls(){this._forEachChild(N=>{N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(N){for(const[x,G]of Object.entries(this.controls))if(this.contains(x)&&N(G))return!0;return!1}_reduceValue(){return this._reduceChildren({},(x,G,se)=>((G.enabled||this.disabled)&&(x[se]=G.value),x))}_reduceChildren(N,x){let G=N;return this._forEachChild((se,We)=>{G=x(G,se,We)}),G}_allControlsDisabled(){for(const N of Object.keys(this.controls))if(this.controls[N].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(N){return this.controls.hasOwnProperty(N)?this.controls[N]:null}}class Vi extends Kr{}const Nr=new f.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Qr}),Qr="always";function Pr(A,N){return[...N.path,A]}function rn(A,N,x=Qr){Xn(A,N),N.valueAccessor.writeValue(A.value),(A.disabled||"always"===x)&&N.valueAccessor.setDisabledState?.(A.disabled),function Ms(A,N){N.valueAccessor.registerOnChange(x=>{A._pendingValue=x,A._pendingChange=!0,A._pendingDirty=!0,"change"===A.updateOn&&jr(A,N)})}(A,N),function Bi(A,N){const x=(G,se)=>{N.valueAccessor.writeValue(G),se&&N.viewToModelUpdate(G)};A.registerOnChange(x),N._registerOnDestroy(()=>{A._unregisterOnChange(x)})}(A,N),function Ui(A,N){N.valueAccessor.registerOnTouched(()=>{A._pendingTouched=!0,"blur"===A.updateOn&&A._pendingChange&&jr(A,N),"submit"!==A.updateOn&&A.markAsTouched()})}(A,N),function Jr(A,N){if(N.valueAccessor.setDisabledState){const x=G=>{N.valueAccessor.setDisabledState(G)};A.registerOnDisabledChange(x),N._registerOnDestroy(()=>{A._unregisterOnDisabledChange(x)})}}(A,N)}function si(A,N,x=!0){const G=()=>{};N.valueAccessor&&(N.valueAccessor.registerOnChange(G),N.valueAccessor.registerOnTouched(G)),Ii(A,N),A&&(N._invokeOnDestroyCallbacks(),A._registerOnCollectionChange(()=>{}))}function Ir(A,N){A.forEach(x=>{x.registerOnValidatorChange&&x.registerOnValidatorChange(N)})}function Xn(A,N){const x=tt(A);null!==N.validator?A.setValidators(Me(x,N.validator)):"function"==typeof x&&A.setValidators([x]);const G=Pe(A);null!==N.asyncValidator?A.setAsyncValidators(Me(G,N.asyncValidator)):"function"==typeof G&&A.setAsyncValidators([G]);const se=()=>A.updateValueAndValidity();Ir(N._rawValidators,se),Ir(N._rawAsyncValidators,se)}function Ii(A,N){let x=!1;if(null!==A){if(null!==N.validator){const se=tt(A);if(Array.isArray(se)&&se.length>0){const We=se.filter(Gt=>Gt!==N.validator);We.length!==se.length&&(x=!0,A.setValidators(We))}}if(null!==N.asyncValidator){const se=Pe(A);if(Array.isArray(se)&&se.length>0){const We=se.filter(Gt=>Gt!==N.asyncValidator);We.length!==se.length&&(x=!0,A.setAsyncValidators(We))}}}const G=()=>{};return Ir(N._rawValidators,G),Ir(N._rawAsyncValidators,G),x}function jr(A,N){A._pendingDirty&&A.markAsDirty(),A.setValue(A._pendingValue,{emitModelToViewChange:!1}),N.viewToModelUpdate(A._pendingValue),A._pendingChange=!1}function Xe(A,N){if(!A.hasOwnProperty("model"))return!1;const x=A.model;return!!x.isFirstChange()||!Object.is(N,x.currentValue)}function At(A,N){if(!N)return null;let x,G,se;return Array.isArray(N),N.forEach(We=>{We.constructor===H?x=We:function et(A){return Object.getPrototypeOf(A.constructor)===Z}(We)?G=We:se=We}),se||G||x||null}function Bn(A,N){const x=A.indexOf(N);x>-1&&A.splice(x,1)}function Kn(A){return"object"==typeof A&&null!==A&&2===Object.keys(A).length&&"value"in A&&"disabled"in A}Promise.resolve();const Bt=class extends sr{constructor(N=null,x,G){super(Lt(x),Mn(G,x)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(N),this._setUpdateStrategy(x),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),wr(x)&&(x.nonNullable||x.initialValueIsDefault)&&(this.defaultValue=Kn(N)?N.value:N)}setValue(N,x={}){this.value=this._pendingValue=N,this._onChange.length&&!1!==x.emitModelToViewChange&&this._onChange.forEach(G=>G(this.value,!1!==x.emitViewToModelChange)),this.updateValueAndValidity(x)}patchValue(N,x={}){this.setValue(N,x)}reset(N=this.defaultValue,x={}){this._applyFormState(N),this.markAsPristine(x),this.markAsUntouched(x),this.setValue(this.value,x),this._pendingChange=!1}_updateValue(){}_anyControls(N){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(N){this._onChange.push(N)}_unregisterOnChange(N){Bn(this._onChange,N)}registerOnDisabledChange(N){this._onDisabledChange.push(N)}_unregisterOnDisabledChange(N){Bn(this._onDisabledChange,N)}_forEachChild(N){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(N){Kn(N)?(this.value=this._pendingValue=N.value,N.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=N}};let St=(()=>{class A extends Ot{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Pr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let x;return function(se){return(x||(x=f.xGo(A)))(se||A)}})()}static{this.\u0275dir=f.FsC({type:A,features:[f.Vt3]})}}return A})();const Zi={provide:Sn,useExisting:(0,f.Rfq)(()=>es)},zt=Promise.resolve();let es=(()=>{class A extends Sn{constructor(x,G,se,We,Gt,xi){super(),this._changeDetectorRef=Gt,this.callSetDisabledState=xi,this.control=new Bt,this._registered=!1,this.name="",this.update=new f.bkB,this._parent=x,this._setValidators(G),this._setAsyncValidators(se),this.valueAccessor=At(0,We)}ngOnChanges(x){if(this._checkForErrors(),!this._registered||"name"in x){if(this._registered&&(this._checkName(),this.formDirective)){const G=x.name.previousValue;this.formDirective.removeControl({name:G,path:this._getPath(G)})}this._setUpControl()}"isDisabled"in x&&this._updateDisabled(x),Xe(x,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){rn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(x){zt.then(()=>{this.control.setValue(x,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(x){const G=x.isDisabled.currentValue,se=0!==G&&(0,f.L39)(G);zt.then(()=>{se&&!this.control.disabled?this.control.disable():!se&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(x){return this._parent?Pr(x,this._parent):[x]}static{this.\u0275fac=function(G){return new(G||A)(f.rXU(Ot,9),f.rXU(me,10),f.rXU(Ve,10),f.rXU(he,10),f.rXU(f.gRc,8),f.rXU(Nr,8))}}static{this.\u0275dir=f.FsC({type:A,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[f.Jv_([Zi]),f.Vt3,f.OA$]})}}return A})(),Ts=(()=>{class A{static{this.\u0275fac=function(G){return new(G||A)}}static{this.\u0275dir=f.FsC({type:A,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return A})();const or={provide:he,useExisting:(0,f.Rfq)(()=>Et),multi:!0};let Et=(()=>{class A extends Z{writeValue(x){this.setProperty("value",x??"")}registerOnChange(x){this.onChange=G=>{x(""==G?null:parseFloat(G))}}static{this.\u0275fac=(()=>{let x;return function(se){return(x||(x=f.xGo(A)))(se||A)}})()}static{this.\u0275dir=f.FsC({type:A,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(G,se){1&G&&f.bIt("input",function(Gt){return se.onChange(Gt.target.value)})("blur",function(){return se.onTouched()})},features:[f.Jv_([or]),f.Vt3]})}}return A})();const yo={provide:he,useExisting:(0,f.Rfq)(()=>kr),multi:!0};let Zn=(()=>{class A{constructor(){this._accessors=[]}add(x,G){this._accessors.push([x,G])}remove(x){for(let G=this._accessors.length-1;G>=0;--G)if(this._accessors[G][1]===x)return void this._accessors.splice(G,1)}select(x){this._accessors.forEach(G=>{this._isSameGroup(G,x)&&G[1]!==x&&G[1].fireUncheck(x.value)})}_isSameGroup(x,G){return!!x[0].control&&x[0]._parent===G._control._parent&&x[1].name===G.name}static{this.\u0275fac=function(G){return new(G||A)}}static{this.\u0275prov=f.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})(),kr=(()=>{class A extends Z{constructor(x,G,se,We){super(x,G),this._registry=se,this._injector=We,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,f.WQX)(Nr,{optional:!0})??Qr}ngOnInit(){this._control=this._injector.get(Sn),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(x){this._state=x===this.value,this.setProperty("checked",this._state)}registerOnChange(x){this._fn=x,this.onChange=()=>{x(this.value),this._registry.select(this)}}setDisabledState(x){(this.setDisabledStateFired||x||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",x),this.setDisabledStateFired=!0}fireUncheck(x){this.writeValue(x)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(G){return new(G||A)(f.rXU(f.sFG),f.rXU(f.aKT),f.rXU(Zn),f.rXU(f.zZn))}}static{this.\u0275dir=f.FsC({type:A,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(G,se){1&G&&f.bIt("change",function(){return se.onChange()})("blur",function(){return se.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[f.Jv_([yo]),f.Vt3]})}}return A})();const Mr=new f.nKC(""),gs={provide:Sn,useExisting:(0,f.Rfq)(()=>Tr)};let Tr=(()=>{class A extends Sn{set isDisabled(x){}static{this._ngModelWarningSentOnce=!1}constructor(x,G,se,We,Gt){super(),this._ngModelWarningConfig=We,this.callSetDisabledState=Gt,this.update=new f.bkB,this._ngModelWarningSent=!1,this._setValidators(x),this._setAsyncValidators(G),this.valueAccessor=At(0,se)}ngOnChanges(x){if(this._isControlChanged(x)){const G=x.form.previousValue;G&&si(G,this,!1),rn(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Xe(x,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&si(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}_isControlChanged(x){return x.hasOwnProperty("form")}static{this.\u0275fac=function(G){return new(G||A)(f.rXU(me,10),f.rXU(Ve,10),f.rXU(he,10),f.rXU(Mr,8),f.rXU(Nr,8))}}static{this.\u0275dir=f.FsC({type:A,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[f.Jv_([gs]),f.Vt3,f.OA$]})}}return A})();const Mi={provide:Ot,useExisting:(0,f.Rfq)(()=>Ti)};let Ti=(()=>{class A extends Ot{get submitted(){return(0,f.O8t)(this._submittedReactive)}set submitted(x){this._submittedReactive.set(x)}constructor(x,G,se){super(),this.callSetDisabledState=se,this._submitted=(0,f.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,f.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.bkB,this._setValidators(x),this._setAsyncValidators(G)}ngOnChanges(x){this._checkFormPresent(),x.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ii(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(x){const G=this.form.get(x.path);return rn(G,x,this.callSetDisabledState),G.updateValueAndValidity({emitEvent:!1}),this.directives.push(x),G}getControl(x){return this.form.get(x.path)}removeControl(x){si(x.control||null,x,!1),function bt(A,N){const x=A.indexOf(N);x>-1&&A.splice(x,1)}(this.directives,x)}addFormGroup(x){this._setUpFormContainer(x)}removeFormGroup(x){this._cleanUpFormContainer(x)}getFormGroup(x){return this.form.get(x.path)}addFormArray(x){this._setUpFormContainer(x)}removeFormArray(x){this._cleanUpFormContainer(x)}getFormArray(x){return this.form.get(x.path)}updateModel(x,G){this.form.get(x.path).setValue(G)}onSubmit(x){return this._submittedReactive.set(!0),function it(A,N){A._syncPendingControls(),N.forEach(x=>{const G=x.control;"submit"===G.updateOn&&G._pendingChange&&(x.viewToModelUpdate(G._pendingValue),G._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(x),this.form._events.next(new ze(this.control)),"dialog"===x?.target?.method}onReset(){this.resetForm()}resetForm(x=void 0){this.form.reset(x),this._submittedReactive.set(!1),this.form._events.next(new ft(this.form))}_updateDomValue(){this.directives.forEach(x=>{const G=x.control,se=this.form.get(x.path);G!==se&&(si(G||null,x),(A=>A instanceof Bt)(se)&&(rn(se,x,this.callSetDisabledState),x.control=se))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(x){const G=this.form.get(x.path);(function ki(A,N){Xn(A,N)})(G,x),G.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(x){if(this.form){const G=this.form.get(x.path);G&&function ms(A,N){return Ii(A,N)}(G,x)&&G.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Xn(this.form,this),this._oldForm&&Ii(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(G){return new(G||A)(f.rXU(me,10),f.rXU(Ve,10),f.rXU(Nr,8))}}static{this.\u0275dir=f.FsC({type:A,selectors:[["","formGroup",""]],hostBindings:function(G,se){1&G&&f.bIt("submit",function(Gt){return se.onSubmit(Gt)})("reset",function(){return se.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f.Jv_([Mi]),f.Vt3,f.OA$]})}}return A})();const xr={provide:Ot,useExisting:(0,f.Rfq)(()=>er)};let er=(()=>{class A extends St{constructor(x,G,se){super(),this.name=null,this._parent=x,this._setValidators(G),this._setAsyncValidators(se)}_checkParentType(){_t(this._parent)}static{this.\u0275fac=function(G){return new(G||A)(f.rXU(Ot,13),f.rXU(me,10),f.rXU(Ve,10))}}static{this.\u0275dir=f.FsC({type:A,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[f.Jv_([xr]),f.Vt3]})}}return A})();const Pn={provide:Ot,useExisting:(0,f.Rfq)(()=>vs)};let vs=(()=>{class A extends Ot{constructor(x,G,se){super(),this.name=null,this._parent=x,this._setValidators(G),this._setAsyncValidators(se)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Pr(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){_t(this._parent)}static{this.\u0275fac=function(G){return new(G||A)(f.rXU(Ot,13),f.rXU(me,10),f.rXU(Ve,10))}}static{this.\u0275dir=f.FsC({type:A,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[f.Jv_([Pn]),f.Vt3]})}}return A})();function _t(A){return!(A instanceof er||A instanceof Ti||A instanceof vs)}const Ai={provide:Sn,useExisting:(0,f.Rfq)(()=>Sr)};let Sr=(()=>{class A extends Sn{set isDisabled(x){}static{this._ngModelWarningSentOnce=!1}constructor(x,G,se,We,Gt){super(),this._ngModelWarningConfig=Gt,this._added=!1,this.name=null,this.update=new f.bkB,this._ngModelWarningSent=!1,this._parent=x,this._setValidators(G),this._setAsyncValidators(se),this.valueAccessor=At(0,We)}ngOnChanges(x){this._added||this._setUpControl(),Xe(x,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}get path(){return Pr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(G){return new(G||A)(f.rXU(Ot,13),f.rXU(me,10),f.rXU(Ve,10),f.rXU(he,10),f.rXU(Mr,8))}}static{this.\u0275dir=f.FsC({type:A,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[f.Jv_([Ai]),f.Vt3,f.OA$]})}}return A})();const bi={provide:he,useExisting:(0,f.Rfq)(()=>ys),multi:!0};function oi(A,N){return null==A?`${N}`:(N&&"object"==typeof N&&(N="Object"),`${A}: ${N}`.slice(0,50))}let ys=(()=>{class A extends Z{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(x){this._compareWith=x}writeValue(x){this.value=x;const se=oi(this._getOptionId(x),x);this.setProperty("value",se)}registerOnChange(x){this.onChange=G=>{this.value=this._getOptionValue(G),x(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(x){for(const G of this._optionMap.keys())if(this._compareWith(this._optionMap.get(G),x))return G;return null}_getOptionValue(x){const G=function As(A){return A.split(":")[0]}(x);return this._optionMap.has(G)?this._optionMap.get(G):x}static{this.\u0275fac=(()=>{let x;return function(se){return(x||(x=f.xGo(A)))(se||A)}})()}static{this.\u0275dir=f.FsC({type:A,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(G,se){1&G&&f.bIt("change",function(Gt){return se.onChange(Gt.target.value)})("blur",function(){return se.onTouched()})},inputs:{compareWith:"compareWith"},features:[f.Jv_([bi]),f.Vt3]})}}return A})(),_s=(()=>{class A{constructor(x,G,se){this._element=x,this._renderer=G,this._select=se,this._select&&(this.id=this._select._registerOption())}set ngValue(x){null!=this._select&&(this._select._optionMap.set(this.id,x),this._setElementValue(oi(this.id,x)),this._select.writeValue(this._select.value))}set value(x){this._setElementValue(x),this._select&&this._select.writeValue(this._select.value)}_setElementValue(x){this._renderer.setProperty(this._element.nativeElement,"value",x)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(G){return new(G||A)(f.rXU(f.aKT),f.rXU(f.sFG),f.rXU(ys,9))}}static{this.\u0275dir=f.FsC({type:A,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return A})();const Hi={provide:he,useExisting:(0,f.Rfq)(()=>gr),multi:!0};function ts(A,N){return null==A?`${N}`:("string"==typeof N&&(N=`'${N}'`),N&&"object"==typeof N&&(N="Object"),`${A}: ${N}`.slice(0,50))}let gr=(()=>{class A extends Z{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(x){this._compareWith=x}writeValue(x){let G;if(this.value=x,Array.isArray(x)){const se=x.map(We=>this._getOptionId(We));G=(We,Gt)=>{We._setSelected(se.indexOf(Gt.toString())>-1)}}else G=(se,We)=>{se._setSelected(!1)};this._optionMap.forEach(G)}registerOnChange(x){this.onChange=G=>{const se=[],We=G.selectedOptions;if(void 0!==We){const Gt=We;for(let xi=0;xi<Gt.length;xi++){const fr=this._getOptionValue(Gt[xi].value);se.push(fr)}}else{const Gt=G.options;for(let xi=0;xi<Gt.length;xi++){const ci=Gt[xi];if(ci.selected){const fr=this._getOptionValue(ci.value);se.push(fr)}}}this.value=se,x(se)}}_registerOption(x){const G=(this._idCounter++).toString();return this._optionMap.set(G,x),G}_getOptionId(x){for(const G of this._optionMap.keys())if(this._compareWith(this._optionMap.get(G)._value,x))return G;return null}_getOptionValue(x){const G=function ns(A){return A.split(":")[0]}(x);return this._optionMap.has(G)?this._optionMap.get(G)._value:x}static{this.\u0275fac=(()=>{let x;return function(se){return(x||(x=f.xGo(A)))(se||A)}})()}static{this.\u0275dir=f.FsC({type:A,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(G,se){1&G&&f.bIt("change",function(Gt){return se.onChange(Gt.target)})("blur",function(){return se.onTouched()})},inputs:{compareWith:"compareWith"},features:[f.Jv_([Hi]),f.Vt3]})}}return A})(),Lr=(()=>{class A{constructor(x,G,se){this._element=x,this._renderer=G,this._select=se,this._select&&(this.id=this._select._registerOption(this))}set ngValue(x){null!=this._select&&(this._value=x,this._setElementValue(ts(this.id,x)),this._select.writeValue(this._select.value))}set value(x){this._select?(this._value=x,this._setElementValue(ts(this.id,x)),this._select.writeValue(this._select.value)):this._setElementValue(x)}_setElementValue(x){this._renderer.setProperty(this._element.nativeElement,"value",x)}_setSelected(x){this._renderer.setProperty(this._element.nativeElement,"selected",x)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(G){return new(G||A)(f.rXU(f.aKT),f.rXU(f.sFG),f.rXU(gr,9))}}static{this.\u0275dir=f.FsC({type:A,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return A})();let wn=(()=>{class A{constructor(){this._validator=pt}ngOnChanges(x){if(this.inputName in x){const G=this.normalizeInput(x[this.inputName].currentValue);this._enabled=this.enabled(G),this._validator=this._enabled?this.createValidator(G):pt,this._onChange&&this._onChange()}}validate(x){return this._validator(x)}registerOnValidatorChange(x){this._onChange=x}enabled(x){return null!=x}static{this.\u0275fac=function(G){return new(G||A)}}static{this.\u0275dir=f.FsC({type:A,features:[f.OA$]})}}return A})();const $r={provide:me,useExisting:(0,f.Rfq)(()=>Ei),multi:!0};let Ei=(()=>{class A extends wn{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=x=>function It(A){return"number"==typeof A?A:parseFloat(A)}(x),this.createValidator=x=>nt(x)}static{this.\u0275fac=(()=>{let x;return function(se){return(x||(x=f.xGo(A)))(se||A)}})()}static{this.\u0275dir=f.FsC({type:A,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(G,se){2&G&&f.BMQ("max",se._enabled?se.max:null)},inputs:{max:"max"},features:[f.Jv_([$r]),f.Vt3]})}}return A})();const bs={provide:me,useExisting:(0,f.Rfq)(()=>Hn),multi:!0};let Hn=(()=>{class A extends wn{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=f.L39,this.createValidator=x=>ht}enabled(x){return x}static{this.\u0275fac=(()=>{let x;return function(se){return(x||(x=f.xGo(A)))(se||A)}})()}static{this.\u0275dir=f.FsC({type:A,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(G,se){2&G&&f.BMQ("required",se._enabled?"":null)},inputs:{required:"required"},features:[f.Jv_([bs]),f.Vt3]})}}return A})();const sn={provide:me,useExisting:(0,f.Rfq)(()=>Ur),multi:!0};let Ur=(()=>{class A extends wn{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=x=>function Qn(A){return"number"==typeof A?A:parseInt(A,10)}(x),this.createValidator=x=>yt(x)}static{this.\u0275fac=(()=>{let x;return function(se){return(x||(x=f.xGo(A)))(se||A)}})()}static{this.\u0275dir=f.FsC({type:A,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(G,se){2&G&&f.BMQ("maxlength",se._enabled?se.maxlength:null)},inputs:{maxlength:"maxlength"},features:[f.Jv_([sn]),f.Vt3]})}}return A})(),tr=(()=>{class A{static{this.\u0275fac=function(G){return new(G||A)}}static{this.\u0275mod=f.$C({type:A})}static{this.\u0275inj=f.G2t({})}}return A})();class wi extends sr{constructor(N,x,G){super(Lt(x),Mn(G,x)),this.controls=N,this._initObservables(),this._setUpdateStrategy(x),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(N){return this.controls[this._adjustIndex(N)]}push(N,x={}){this.controls.push(N),this._registerControl(N),this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}insert(N,x,G={}){this.controls.splice(N,0,x),this._registerControl(x),this.updateValueAndValidity({emitEvent:G.emitEvent})}removeAt(N,x={}){let G=this._adjustIndex(N);G<0&&(G=0),this.controls[G]&&this.controls[G]._registerOnCollectionChange(()=>{}),this.controls.splice(G,1),this.updateValueAndValidity({emitEvent:x.emitEvent})}setControl(N,x,G={}){let se=this._adjustIndex(N);se<0&&(se=0),this.controls[se]&&this.controls[se]._registerOnCollectionChange(()=>{}),this.controls.splice(se,1),x&&(this.controls.splice(se,0,x),this._registerControl(x)),this.updateValueAndValidity({emitEvent:G.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(N,x={}){vi(this,0,N),N.forEach((G,se)=>{dr(this,!1,se),this.at(se).setValue(G,{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x)}patchValue(N,x={}){null!=N&&(N.forEach((G,se)=>{this.at(se)&&this.at(se).patchValue(G,{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x))}reset(N=[],x={}){this._forEachChild((G,se)=>{G.reset(N[se],{onlySelf:!0,emitEvent:x.emitEvent})}),this._updatePristine(x,this),this._updateTouched(x,this),this.updateValueAndValidity(x)}getRawValue(){return this.controls.map(N=>N.getRawValue())}clear(N={}){this.controls.length<1||(this._forEachChild(x=>x._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:N.emitEvent}))}_adjustIndex(N){return N<0?N+this.length:N}_syncPendingControls(){let N=this.controls.reduce((x,G)=>!!G._syncPendingControls()||x,!1);return N&&this.updateValueAndValidity({onlySelf:!0}),N}_forEachChild(N){this.controls.forEach((x,G)=>{N(x,G)})}_updateValue(){this.value=this.controls.filter(N=>N.enabled||this.disabled).map(N=>N.value)}_anyControls(N){return this.controls.some(x=>x.enabled&&N(x))}_setUpControls(){this._forEachChild(N=>this._registerControl(N))}_allControlsDisabled(){for(const N of this.controls)if(N.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(N){N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange)}_find(N){return this.at(N)??null}}function Zs(A){return!!A&&(void 0!==A.asyncValidators||void 0!==A.validators||void 0!==A.updateOn)}let An=(()=>{class A{constructor(){this.useNonNullable=!1}get nonNullable(){const x=new A;return x.useNonNullable=!0,x}group(x,G=null){const se=this._reduceControls(x);let We={};return Zs(G)?We=G:null!==G&&(We.validators=G.validator,We.asyncValidators=G.asyncValidator),new Kr(se,We)}record(x,G=null){const se=this._reduceControls(x);return new Vi(se,G)}control(x,G,se){let We={};return this.useNonNullable?(Zs(G)?We=G:(We.validators=G,We.asyncValidators=se),new Bt(x,{...We,nonNullable:!0})):new Bt(x,G,se)}array(x,G,se){const We=x.map(Gt=>this._createControl(Gt));return new wi(We,G,se)}_reduceControls(x){const G={};return Object.keys(x).forEach(se=>{G[se]=this._createControl(x[se])}),G}_createControl(x){return x instanceof Bt||x instanceof sr?x:Array.isArray(x)?this.control(x[0],x.length>1?x[1]:null,x.length>2?x[2]:null):this.control(x)}static{this.\u0275fac=function(G){return new(G||A)}}static{this.\u0275prov=f.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})(),ui=(()=>{class A{static withConfig(x){return{ngModule:A,providers:[{provide:Nr,useValue:x.callSetDisabledState??Qr}]}}static{this.\u0275fac=function(G){return new(G||A)}}static{this.\u0275mod=f.$C({type:A})}static{this.\u0275inj=f.G2t({imports:[tr]})}}return A})(),Zr=(()=>{class A{static withConfig(x){return{ngModule:A,providers:[{provide:Mr,useValue:x.warnOnNgModelWithFormControl??"always"},{provide:Nr,useValue:x.callSetDisabledState??Qr}]}}static{this.\u0275fac=function(G){return new(G||A)}}static{this.\u0275mod=f.$C({type:A})}static{this.\u0275inj=f.G2t({imports:[tr]})}}return A})()},345:(at,ye,R)=>{"use strict";R.d(ye,{B8:()=>Se,hE:()=>hn});var f=R(177),O=R(4438);class de extends f.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class e extends de{static makeCurrent(){(0,f.ZD)(new e)}onAndCancel(pe,ae,ge){return pe.addEventListener(ae,ge),()=>{pe.removeEventListener(ae,ge)}}dispatchEvent(pe,ae){pe.dispatchEvent(ae)}remove(pe){pe.remove()}createElement(pe,ae){return(ae=ae||this.getDefaultDocument()).createElement(pe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(pe){return pe.nodeType===Node.ELEMENT_NODE}isShadowRoot(pe){return pe instanceof DocumentFragment}getGlobalEventTarget(pe,ae){return"window"===ae?window:"document"===ae?pe:"body"===ae?pe.body:null}getBaseHref(pe){const ae=function W(){return P=P||document.querySelector("base"),P?P.getAttribute("href"):null}();return null==ae?null:function F(je){return new URL(je,document.baseURI).pathname}(ae)}resetBaseElement(){P=null}getUserAgent(){return window.navigator.userAgent}getCookie(pe){return(0,f._b)(document.cookie,pe)}}let P=null,he=(()=>{class je{build(){return new XMLHttpRequest}static{this.\u0275fac=function(ge){return new(ge||je)}}static{this.\u0275prov=O.jDH({token:je,factory:je.\u0275fac})}}return je})();const fe=new O.nKC("");let te=(()=>{class je{constructor(ae,ge){this._zone=ge,this._eventNameToPlugin=new Map,ae.forEach(ze=>{ze.manager=this}),this._plugins=ae.slice().reverse()}addEventListener(ae,ge,ze){return this._findPluginFor(ge).addEventListener(ae,ge,ze)}getZone(){return this._zone}_findPluginFor(ae){let ge=this._eventNameToPlugin.get(ae);if(ge)return ge;if(ge=this._plugins.find(ft=>ft.supports(ae)),!ge)throw new O.wOt(5101,!1);return this._eventNameToPlugin.set(ae,ge),ge}static{this.\u0275fac=function(ge){return new(ge||je)(O.KVO(fe),O.KVO(O.SKi))}}static{this.\u0275prov=O.jDH({token:je,factory:je.\u0275fac})}}return je})();class ve{constructor(pe){this._doc=pe}}const Fe="ng-app-id";let De=(()=>{class je{constructor(ae,ge,ze,ft={}){this.doc=ae,this.appId=ge,this.nonce=ze,this.platformId=ft,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,f.Vy)(ft),this.resetHostNodes()}addStyles(ae){for(const ge of ae)1===this.changeUsageCount(ge,1)&&this.onStyleAdded(ge)}removeStyles(ae){for(const ge of ae)this.changeUsageCount(ge,-1)<=0&&this.onStyleRemoved(ge)}ngOnDestroy(){const ae=this.styleNodesInDOM;ae&&(ae.forEach(ge=>ge.remove()),ae.clear());for(const ge of this.getAllStyles())this.onStyleRemoved(ge);this.resetHostNodes()}addHost(ae){this.hostNodes.add(ae);for(const ge of this.getAllStyles())this.addStyleToHost(ae,ge)}removeHost(ae){this.hostNodes.delete(ae)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(ae){for(const ge of this.hostNodes)this.addStyleToHost(ge,ae)}onStyleRemoved(ae){const ge=this.styleRef;ge.get(ae)?.elements?.forEach(ze=>ze.remove()),ge.delete(ae)}collectServerRenderedStyles(){const ae=this.doc.head?.querySelectorAll(`style[${Fe}="${this.appId}"]`);if(ae?.length){const ge=new Map;return ae.forEach(ze=>{null!=ze.textContent&&ge.set(ze.textContent,ze)}),ge}return null}changeUsageCount(ae,ge){const ze=this.styleRef;if(ze.has(ae)){const ft=ze.get(ae);return ft.usage+=ge,ft.usage}return ze.set(ae,{usage:ge,elements:[]}),ge}getStyleElement(ae,ge){const ze=this.styleNodesInDOM,ft=ze?.get(ge);if(ft?.parentNode===ae)return ze.delete(ge),ft.removeAttribute(Fe),ft;{const Lt=this.doc.createElement("style");return this.nonce&&Lt.setAttribute("nonce",this.nonce),Lt.textContent=ge,this.platformIsServer&&Lt.setAttribute(Fe,this.appId),ae.appendChild(Lt),Lt}}addStyleToHost(ae,ge){const ze=this.getStyleElement(ae,ge),ft=this.styleRef,Lt=ft.get(ge)?.elements;Lt?Lt.push(ze):ft.set(ge,{elements:[ze],usage:1})}resetHostNodes(){const ae=this.hostNodes;ae.clear(),ae.add(this.doc.head)}static{this.\u0275fac=function(ge){return new(ge||je)(O.KVO(f.qQ),O.KVO(O.sZ2),O.KVO(O.BIS,8),O.KVO(O.Agw))}}static{this.\u0275prov=O.jDH({token:je,factory:je.\u0275fac})}}return je})();const H={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Q=/%COMP%/g,Oe=new O.nKC("",{providedIn:"root",factory:()=>!0});function ht(je,pe){return pe.map(ae=>ae.replace(Q,je))}let Ye=(()=>{class je{constructor(ae,ge,ze,ft,Lt,qt,Mn,cr=null){this.eventManager=ae,this.sharedStylesHost=ge,this.appId=ze,this.removeStylesOnCompDestroy=ft,this.doc=Lt,this.platformId=qt,this.ngZone=Mn,this.nonce=cr,this.rendererByCompId=new Map,this.platformIsServer=(0,f.Vy)(qt),this.defaultRenderer=new Ze(ae,Lt,Mn,this.platformIsServer)}createRenderer(ae,ge){if(!ae||!ge)return this.defaultRenderer;this.platformIsServer&&ge.encapsulation===O.gXe.ShadowDom&&(ge={...ge,encapsulation:O.gXe.Emulated});const ze=this.getOrCreateRenderer(ae,ge);return ze instanceof kn?ze.applyToHost(ae):ze instanceof qe&&ze.applyStyles(),ze}getOrCreateRenderer(ae,ge){const ze=this.rendererByCompId;let ft=ze.get(ge.id);if(!ft){const Lt=this.doc,qt=this.ngZone,Mn=this.eventManager,cr=this.sharedStylesHost,wr=this.removeStylesOnCompDestroy,dr=this.platformIsServer;switch(ge.encapsulation){case O.gXe.Emulated:ft=new kn(Mn,cr,ge,this.appId,wr,Lt,qt,dr);break;case O.gXe.ShadowDom:return new pt(Mn,cr,ae,ge,Lt,qt,this.nonce,dr);default:ft=new qe(Mn,cr,ge,wr,Lt,qt,dr)}ze.set(ge.id,ft)}return ft}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(ge){return new(ge||je)(O.KVO(te),O.KVO(De),O.KVO(O.sZ2),O.KVO(Oe),O.KVO(f.qQ),O.KVO(O.Agw),O.KVO(O.SKi),O.KVO(O.BIS))}}static{this.\u0275prov=O.jDH({token:je,factory:je.\u0275fac})}}return je})();class Ze{constructor(pe,ae,ge,ze){this.eventManager=pe,this.doc=ae,this.ngZone=ge,this.platformIsServer=ze,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(pe,ae){return ae?this.doc.createElementNS(H[ae]||ae,pe):this.doc.createElement(pe)}createComment(pe){return this.doc.createComment(pe)}createText(pe){return this.doc.createTextNode(pe)}appendChild(pe,ae){(Re(pe)?pe.content:pe).appendChild(ae)}insertBefore(pe,ae,ge){pe&&(Re(pe)?pe.content:pe).insertBefore(ae,ge)}removeChild(pe,ae){ae.remove()}selectRootElement(pe,ae){let ge="string"==typeof pe?this.doc.querySelector(pe):pe;if(!ge)throw new O.wOt(-5104,!1);return ae||(ge.textContent=""),ge}parentNode(pe){return pe.parentNode}nextSibling(pe){return pe.nextSibling}setAttribute(pe,ae,ge,ze){if(ze){ae=ze+":"+ae;const ft=H[ze];ft?pe.setAttributeNS(ft,ae,ge):pe.setAttribute(ae,ge)}else pe.setAttribute(ae,ge)}removeAttribute(pe,ae,ge){if(ge){const ze=H[ge];ze?pe.removeAttributeNS(ze,ae):pe.removeAttribute(`${ge}:${ae}`)}else pe.removeAttribute(ae)}addClass(pe,ae){pe.classList.add(ae)}removeClass(pe,ae){pe.classList.remove(ae)}setStyle(pe,ae,ge,ze){ze&(O.czy.DashCase|O.czy.Important)?pe.style.setProperty(ae,ge,ze&O.czy.Important?"important":""):pe.style[ae]=ge}removeStyle(pe,ae,ge){ge&O.czy.DashCase?pe.style.removeProperty(ae):pe.style[ae]=""}setProperty(pe,ae,ge){null!=pe&&(pe[ae]=ge)}setValue(pe,ae){pe.nodeValue=ae}listen(pe,ae,ge){if("string"==typeof pe&&!(pe=(0,f.QT)().getGlobalEventTarget(this.doc,pe)))throw new Error(`Unsupported event target ${pe} for event ${ae}`);return this.eventManager.addEventListener(pe,ae,this.decoratePreventDefault(ge))}decoratePreventDefault(pe){return ae=>{if("__ngUnwrap__"===ae)return pe;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>pe(ae)):pe(ae))&&ae.preventDefault()}}}function Re(je){return"TEMPLATE"===je.tagName&&void 0!==je.content}class pt extends Ze{constructor(pe,ae,ge,ze,ft,Lt,qt,Mn){super(pe,ft,Lt,Mn),this.sharedStylesHost=ae,this.hostEl=ge,this.shadowRoot=ge.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const cr=ht(ze.id,ze.styles);for(const wr of cr){const dr=document.createElement("style");qt&&dr.setAttribute("nonce",qt),dr.textContent=wr,this.shadowRoot.appendChild(dr)}}nodeOrShadowRoot(pe){return pe===this.hostEl?this.shadowRoot:pe}appendChild(pe,ae){return super.appendChild(this.nodeOrShadowRoot(pe),ae)}insertBefore(pe,ae,ge){return super.insertBefore(this.nodeOrShadowRoot(pe),ae,ge)}removeChild(pe,ae){return super.removeChild(null,ae)}parentNode(pe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(pe)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class qe extends Ze{constructor(pe,ae,ge,ze,ft,Lt,qt,Mn){super(pe,ft,Lt,qt),this.sharedStylesHost=ae,this.removeStylesOnCompDestroy=ze,this.styles=Mn?ht(Mn,ge.styles):ge.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class kn extends qe{constructor(pe,ae,ge,ze,ft,Lt,qt,Mn){const cr=ze+"-"+ge.id;super(pe,ae,ge,ft,Lt,qt,Mn,cr),this.contentAttr=function Le(je){return"_ngcontent-%COMP%".replace(Q,je)}(cr),this.hostAttr=function nt(je){return"_nghost-%COMP%".replace(Q,je)}(cr)}applyToHost(pe){this.applyStyles(),this.setAttribute(pe,this.hostAttr,"")}createElement(pe,ae){const ge=super.createElement(pe,ae);return super.setAttribute(ge,this.contentAttr,""),ge}}let jt=(()=>{class je extends ve{constructor(ae){super(ae)}supports(ae){return!0}addEventListener(ae,ge,ze){return ae.addEventListener(ge,ze,!1),()=>this.removeEventListener(ae,ge,ze)}removeEventListener(ae,ge,ze){return ae.removeEventListener(ge,ze)}static{this.\u0275fac=function(ge){return new(ge||je)(O.KVO(f.qQ))}}static{this.\u0275prov=O.jDH({token:je,factory:je.\u0275fac})}}return je})();const Tt=["alt","control","meta","shift"],_r={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},br={alt:je=>je.altKey,control:je=>je.ctrlKey,meta:je=>je.metaKey,shift:je=>je.shiftKey};let vn=(()=>{class je extends ve{constructor(ae){super(ae)}supports(ae){return null!=je.parseEventName(ae)}addEventListener(ae,ge,ze){const ft=je.parseEventName(ge),Lt=je.eventCallback(ft.fullKey,ze,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,f.QT)().onAndCancel(ae,ft.domEventName,Lt))}static parseEventName(ae){const ge=ae.toLowerCase().split("."),ze=ge.shift();if(0===ge.length||"keydown"!==ze&&"keyup"!==ze)return null;const ft=je._normalizeKey(ge.pop());let Lt="",qt=ge.indexOf("code");if(qt>-1&&(ge.splice(qt,1),Lt="code."),Tt.forEach(cr=>{const wr=ge.indexOf(cr);wr>-1&&(ge.splice(wr,1),Lt+=cr+".")}),Lt+=ft,0!=ge.length||0===ft.length)return null;const Mn={};return Mn.domEventName=ze,Mn.fullKey=Lt,Mn}static matchEventFullKeyCode(ae,ge){let ze=_r[ae.key]||ae.key,ft="";return ge.indexOf("code.")>-1&&(ze=ae.code,ft="code."),!(null==ze||!ze)&&(ze=ze.toLowerCase()," "===ze?ze="space":"."===ze&&(ze="dot"),Tt.forEach(Lt=>{Lt!==ze&&(0,br[Lt])(ae)&&(ft+=Lt+".")}),ft+=ze,ft===ge)}static eventCallback(ae,ge,ze){return ft=>{je.matchEventFullKeyCode(ft,ae)&&ze.runGuarded(()=>ge(ft))}}static _normalizeKey(ae){return"esc"===ae?"escape":ae}static{this.\u0275fac=function(ge){return new(ge||je)(O.KVO(f.qQ))}}static{this.\u0275prov=O.jDH({token:je,factory:je.\u0275fac})}}return je})();function Se(je,pe,ae){return(0,O.TL3)({rootComponent:je,platformRef:ae?.platformRef,...Ne(pe)})}function Ne(je){return{appProviders:[...Ot,...je?.providers??[]],platformProviders:ln}}const ln=[{provide:O.Agw,useValue:f.AJ},{provide:O.PLl,useValue:function tt(){e.makeCurrent()},multi:!0},{provide:f.qQ,useFactory:function vt(){return(0,O.TL$)(document),document},deps:[]}],Ot=[{provide:O.H8p,useValue:"root"},{provide:O.zcH,useFactory:function Pe(){return new O.zcH},deps:[]},{provide:fe,useClass:jt,multi:!0,deps:[f.qQ,O.SKi,O.Agw]},{provide:fe,useClass:vn,multi:!0,deps:[f.qQ]},Ye,De,te,{provide:O._9s,useExisting:Ye},{provide:f.N0,useClass:he,deps:[]},[]];let hn=(()=>{class je{constructor(ae){this._doc=ae}getTitle(){return this._doc.title}setTitle(ae){this._doc.title=ae||""}static{this.\u0275fac=function(ge){return new(ge||je)(O.KVO(f.qQ))}}static{this.\u0275prov=O.jDH({token:je,factory:je.\u0275fac,providedIn:"root"})}}return je})()},9981:(at,ye,R)=>{"use strict";R.d(ye,{nX:()=>Sr,wF:()=>et,Ix:()=>h,Wk:()=>E,wQ:()=>T,iI:()=>fo,n3:()=>Ri,lh:()=>Qe});var f=R(4438),O=R(1985),de=R(8071),P=R(6648),W=R(7673),F=R(4412),Z=R(4572),he=R(9350),fe=R(8793),te=R(9030),ve=R(1203),Fe=R(8810),De=R(983),H=R(8359),Q=R(9974),ce=R(4360);function me(){return(0,Q.N)((v,C)=>{let y=null;v._refCount++;const D=(0,ce._)(C,void 0,void 0,void 0,()=>{if(!v||v._refCount<=0||0<--v._refCount)return void(y=null);const L=v._connection,z=y;y=null,L&&(!z||L===z)&&L.unsubscribe(),C.unsubscribe()});v.subscribe(D),D.closed||(y=v.connect())})}class Ve extends O.c{constructor(C,y){super(),this.source=C,this.subjectFactory=y,this._subject=null,this._refCount=0,this._connection=null,(0,Q.S)(C)&&(this.lift=C.lift)}_subscribe(C){return this.getSubject().subscribe(C)}getSubject(){const C=this._subject;return(!C||C.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:C}=this;this._subject=this._connection=null,C?.unsubscribe()}connect(){let C=this._connection;if(!C){C=this._connection=new H.yU;const y=this.getSubject();C.add(this.source.subscribe((0,ce._)(y,void 0,()=>{this._teardown(),y.complete()},D=>{this._teardown(),y.error(D)},()=>this._teardown()))),C.closed&&(this._connection=null,C=H.yU.EMPTY)}return C}refCount(){return me()(this)}}var Ee=R(1413),Oe=R(177),Le=R(6354),nt=R(5558),ht=R(6697),Ye=R(9172),Ze=R(5964),Je=R(1397),yt=R(1594),Re=R(274),pt=R(8141),qe=R(9437),kn=R(1943),jt=R(9901);function Tt(v){return v<=0?()=>De.w:(0,Q.N)((C,y)=>{let D=[];C.subscribe((0,ce._)(y,L=>{D.push(L),v<D.length&&D.shift()},()=>{for(const L of D)y.next(L);y.complete()},void 0,()=>{D=null}))})}var _r=R(3774),br=R(3669),ke=R(980),Ne=R(6977),Me=R(6365),tt=R(345);const Pe="primary",vt=Symbol("RouteTitle");class ln{constructor(C){this.params=C||{}}has(C){return Object.prototype.hasOwnProperty.call(this.params,C)}get(C){if(this.has(C)){const y=this.params[C];return Array.isArray(y)?y[0]:y}return null}getAll(C){if(this.has(C)){const y=this.params[C];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function Cn(v){return new ln(v)}function Mt(v,C,y){const D=y.path.split("/");if(D.length>v.length||"full"===y.pathMatch&&(C.hasChildren()||D.length<v.length))return null;const L={};for(let z=0;z<D.length;z++){const ie=D[z],Te=v[z];if(":"===ie[0])L[ie.substring(1)]=Te;else if(ie!==Te.path)return null}return{consumed:v.slice(0,D.length),posParams:L}}function Ot(v,C){const y=v?Sn(v):void 0,D=C?Sn(C):void 0;if(!y||!D||y.length!=D.length)return!1;let L;for(let z=0;z<y.length;z++)if(L=y[z],!pn(v[L],C[L]))return!1;return!0}function Sn(v){return[...Object.keys(v),...Object.getOwnPropertySymbols(v)]}function pn(v,C){if(Array.isArray(v)&&Array.isArray(C)){if(v.length!==C.length)return!1;const y=[...v].sort(),D=[...C].sort();return y.every((L,z)=>D[z]===L)}return v===C}function Zt(v){return v.length>0?v[v.length-1]:null}function hn(v){return function e(v){return!!v&&(v instanceof O.c||(0,de.T)(v.lift)&&(0,de.T)(v.subscribe))}(v)?v:(0,f.jNT)(v)?(0,P.H)(Promise.resolve(v)):(0,W.of)(v)}const Jn={exact:function Yr(v,C,y){if(!Un(v.segments,C.segments)||!Rt(v.segments,C.segments,y)||v.numberOfChildren!==C.numberOfChildren)return!1;for(const D in C.children)if(!v.children[D]||!Yr(v.children[D],C.children[D],y))return!1;return!0},subset:Rr},rt={exact:function mr(v,C){return Ot(v,C)},subset:function hs(v,C){return Object.keys(C).length<=Object.keys(v).length&&Object.keys(C).every(y=>pn(v[y],C[y]))},ignored:()=>!0};function ur(v,C,y){return Jn[y.paths](v.root,C.root,y.matrixParams)&&rt[y.queryParams](v.queryParams,C.queryParams)&&!("exact"===y.fragment&&v.fragment!==C.fragment)}function Rr(v,C,y){return en(v,C,C.segments,y)}function en(v,C,y,D){if(v.segments.length>y.length){const L=v.segments.slice(0,y.length);return!(!Un(L,y)||C.hasChildren()||!Rt(L,y,D))}if(v.segments.length===y.length){if(!Un(v.segments,y)||!Rt(v.segments,y,D))return!1;for(const L in C.children)if(!v.children[L]||!Rr(v.children[L],C.children[L],D))return!1;return!0}{const L=y.slice(0,v.segments.length),z=y.slice(v.segments.length);return!!(Un(v.segments,L)&&Rt(v.segments,L,D)&&v.children[Pe])&&en(v.children[Pe],C,z,D)}}function Rt(v,C,y){return C.every((D,L)=>rt[y](v[L].parameters,D.parameters))}class tn{constructor(C=new Kt([],{}),y={},D=null){this.root=C,this.queryParams=y,this.fragment=D}get queryParamMap(){return this._queryParamMap??=Cn(this.queryParams),this._queryParamMap}toString(){return _n.serialize(this)}}class Kt{constructor(C,y){this.segments=C,this.children=y,this.parent=null,Object.values(y).forEach(D=>D.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $i(this)}}class Vn{constructor(C,y){this.path=C,this.parameters=y}get parameterMap(){return this._parameterMap??=Cn(this.parameters),this._parameterMap}toString(){return pe(this)}}function Un(v,C){return v.length===C.length&&v.every((y,D)=>y.path===C[D].path)}let Fn=(()=>{class v{static{this.\u0275fac=function(D){return new(D||v)}}static{this.\u0275prov=f.jDH({token:v,factory:()=>new nn,providedIn:"root"})}}return v})();class nn{parse(C){const y=new vi(C);return new tn(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(C){const y=`/${Nt(C.root,!0)}`,D=function ge(v){const C=Object.entries(v).map(([y,D])=>Array.isArray(D)?D.map(L=>`${$t(y)}=${$t(L)}`).join("&"):`${$t(y)}=${$t(D)}`).filter(y=>y);return C.length?`?${C.join("&")}`:""}(C.queryParams);return`${y}${D}${"string"==typeof C.fragment?`#${function Cr(v){return encodeURI(v)}(C.fragment)}`:""}`}}const _n=new nn;function $i(v){return v.segments.map(C=>pe(C)).join("/")}function Nt(v,C){if(!v.hasChildren())return $i(v);if(C){const y=v.children[Pe]?Nt(v.children[Pe],!1):"",D=[];return Object.entries(v.children).forEach(([L,z])=>{L!==Pe&&D.push(`${L}:${Nt(z,!1)}`)}),D.length>0?`${y}(${D.join("//")})`:y}{const y=function Xr(v,C){let y=[];return Object.entries(v.children).forEach(([D,L])=>{D===Pe&&(y=y.concat(C(L,D)))}),Object.entries(v.children).forEach(([D,L])=>{D!==Pe&&(y=y.concat(C(L,D)))}),y}(v,(D,L)=>L===Pe?[Nt(v.children[Pe],!1)]:[`${L}:${Nt(D,!1)}`]);return 1===Object.keys(v.children).length&&null!=v.children[Pe]?`${$i(v)}/${y[0]}`:`${$i(v)}/(${y.join("//")})`}}function Er(v){return encodeURIComponent(v).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $t(v){return Er(v).replace(/%3B/gi,";")}function Or(v){return Er(v).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dn(v){return decodeURIComponent(v)}function je(v){return Dn(v.replace(/\+/g,"%20"))}function pe(v){return`${Or(v.path)}${function ae(v){return Object.entries(v).map(([C,y])=>`;${Or(C)}=${Or(y)}`).join("")}(v.parameters)}`}const ze=/^[^\/()?;#]+/;function ft(v){const C=v.match(ze);return C?C[0]:""}const Lt=/^[^\/()?;=#]+/,Mn=/^[^=?&#]+/,wr=/^[^&#]+/;class vi{constructor(C){this.url=C,this.remaining=C}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Kt([],{}):new Kt([],this.parseChildren())}parseQueryParams(){const C={};if(this.consumeOptional("?"))do{this.parseQueryParam(C)}while(this.consumeOptional("&"));return C}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const C=[];for(this.peekStartsWith("(")||C.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),C.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let D={};return this.peekStartsWith("(")&&(D=this.parseParens(!1)),(C.length>0||Object.keys(y).length>0)&&(D[Pe]=new Kt(C,y)),D}parseSegment(){const C=ft(this.remaining);if(""===C&&this.peekStartsWith(";"))throw new f.wOt(4009,!1);return this.capture(C),new Vn(Dn(C),this.parseMatrixParams())}parseMatrixParams(){const C={};for(;this.consumeOptional(";");)this.parseParam(C);return C}parseParam(C){const y=function qt(v){const C=v.match(Lt);return C?C[0]:""}(this.remaining);if(!y)return;this.capture(y);let D="";if(this.consumeOptional("=")){const L=ft(this.remaining);L&&(D=L,this.capture(D))}C[Dn(y)]=Dn(D)}parseQueryParam(C){const y=function cr(v){const C=v.match(Mn);return C?C[0]:""}(this.remaining);if(!y)return;this.capture(y);let D="";if(this.consumeOptional("=")){const ie=function dr(v){const C=v.match(wr);return C?C[0]:""}(this.remaining);ie&&(D=ie,this.capture(D))}const L=je(y),z=je(D);if(C.hasOwnProperty(L)){let ie=C[L];Array.isArray(ie)||(ie=[ie],C[L]=ie),ie.push(z)}else C[L]=z}parseParens(C){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const D=ft(this.remaining),L=this.remaining[D.length];if("/"!==L&&")"!==L&&";"!==L)throw new f.wOt(4010,!1);let z;D.indexOf(":")>-1?(z=D.slice(0,D.indexOf(":")),this.capture(z),this.capture(":")):C&&(z=Pe);const ie=this.parseChildren();y[z]=1===Object.keys(ie).length?ie[Pe]:new Kt([],ie),this.consumeOptional("//")}return y}peekStartsWith(C){return this.remaining.startsWith(C)}consumeOptional(C){return!!this.peekStartsWith(C)&&(this.remaining=this.remaining.substring(C.length),!0)}capture(C){if(!this.consumeOptional(C))throw new f.wOt(4011,!1)}}function sr(v){return v.segments.length>0?new Kt([],{[Pe]:v}):v}function Kr(v){const C={};for(const[D,L]of Object.entries(v.children)){const z=Kr(L);if(D===Pe&&0===z.segments.length&&z.hasChildren())for(const[ie,Te]of Object.entries(z.children))C[ie]=Te;else(z.segments.length>0||z.hasChildren())&&(C[D]=z)}return function Fi(v){if(1===v.numberOfChildren&&v.children[Pe]){const C=v.children[Pe];return new Kt(v.segments.concat(C.segments),C.children)}return v}(new Kt(v.segments,C))}function zn(v){return v instanceof tn}function Vi(v){let C;const L=sr(function y(z){const ie={};for(const we of z.children){const ut=y(we);ie[we.outlet]=ut}const Te=new Kt(z.url,ie);return z===v&&(C=Te),Te}(v.root));return C??L}function ks(v,C,y,D){let L=v;for(;L.parent;)L=L.parent;if(0===C.length)return Pr(L,L,L,y,D);const z=function Ir(v){if("string"==typeof v[0]&&1===v.length&&"/"===v[0])return new si(!0,0,v);let C=0,y=!1;const D=v.reduce((L,z,ie)=>{if("object"==typeof z&&null!=z){if(z.outlets){const Te={};return Object.entries(z.outlets).forEach(([we,ut])=>{Te[we]="string"==typeof ut?ut.split("/"):ut}),[...L,{outlets:Te}]}if(z.segmentPath)return[...L,z.segmentPath]}return"string"!=typeof z?[...L,z]:0===ie?(z.split("/").forEach((Te,we)=>{0==we&&"."===Te||(0==we&&""===Te?y=!0:".."===Te?C++:""!=Te&&L.push(Te))}),L):[...L,z]},[]);return new si(y,C,D)}(C);if(z.toRoot())return Pr(L,L,new Kt([],{}),y,D);const ie=function Xn(v,C,y){if(v.isAbsolute)return new Jr(C,!0,0);if(!y)return new Jr(C,!1,NaN);if(null===y.parent)return new Jr(y,!0,0);const D=Nr(v.commands[0])?0:1;return function Ii(v,C,y){let D=v,L=C,z=y;for(;z>L;){if(z-=L,D=D.parent,!D)throw new f.wOt(4005,!1);L=D.segments.length}return new Jr(D,!1,L-z)}(y,y.segments.length-1+D,v.numberOfDoubleDots)}(z,L,v),Te=ie.processChildren?jr(ie.segmentGroup,ie.index,z.commands):Ui(ie.segmentGroup,ie.index,z.commands);return Pr(L,ie.segmentGroup,Te,y,D)}function Nr(v){return"object"==typeof v&&null!=v&&!v.outlets&&!v.segmentPath}function Qr(v){return"object"==typeof v&&null!=v&&v.outlets}function Pr(v,C,y,D,L){let ie,z={};D&&Object.entries(D).forEach(([we,ut])=>{z[we]=Array.isArray(ut)?ut.map(Vt=>`${Vt}`):`${ut}`}),ie=v===C?y:rn(v,C,y);const Te=sr(Kr(ie));return new tn(Te,z,L)}function rn(v,C,y){const D={};return Object.entries(v.children).forEach(([L,z])=>{D[L]=z===C?y:rn(z,C,y)}),new Kt(v.segments,D)}class si{constructor(C,y,D){if(this.isAbsolute=C,this.numberOfDoubleDots=y,this.commands=D,C&&D.length>0&&Nr(D[0]))throw new f.wOt(4003,!1);const L=D.find(Qr);if(L&&L!==Zt(D))throw new f.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Jr{constructor(C,y,D){this.segmentGroup=C,this.processChildren=y,this.index=D}}function Ui(v,C,y){if(v??=new Kt([],{}),0===v.segments.length&&v.hasChildren())return jr(v,C,y);const D=function Bi(v,C,y){let D=0,L=C;const z={match:!1,pathIndex:0,commandIndex:0};for(;L<v.segments.length;){if(D>=y.length)return z;const ie=v.segments[L],Te=y[D];if(Qr(Te))break;const we=`${Te}`,ut=D<y.length-1?y[D+1]:null;if(L>0&&void 0===we)break;if(we&&ut&&"object"==typeof ut&&void 0===ut.outlets){if(!X(we,ut,ie))return z;D+=2}else{if(!X(we,{},ie))return z;D++}L++}return{match:!0,pathIndex:L,commandIndex:D}}(v,C,y),L=y.slice(D.commandIndex);if(D.match&&D.pathIndex<v.segments.length){const z=new Kt(v.segments.slice(0,D.pathIndex),{});return z.children[Pe]=new Kt(v.segments.slice(D.pathIndex),v.children),jr(z,0,L)}return D.match&&0===L.length?new Kt(v.segments,{}):D.match&&!v.hasChildren()?ki(v,C,y):D.match?jr(v,0,L):ki(v,C,y)}function jr(v,C,y){if(0===y.length)return new Kt(v.segments,{});{const D=function Ms(v){return Qr(v[0])?v[0].outlets:{[Pe]:v}}(y),L={};if(Object.keys(D).some(z=>z!==Pe)&&v.children[Pe]&&1===v.numberOfChildren&&0===v.children[Pe].segments.length){const z=jr(v.children[Pe],C,y);return new Kt(v.segments,z.children)}return Object.entries(D).forEach(([z,ie])=>{"string"==typeof ie&&(ie=[ie]),null!==ie&&(L[z]=Ui(v.children[z],C,ie))}),Object.entries(v.children).forEach(([z,ie])=>{void 0===D[z]&&(L[z]=ie)}),new Kt(v.segments,L)}}function ki(v,C,y){const D=v.segments.slice(0,C);let L=0;for(;L<y.length;){const z=y[L];if(Qr(z)){const we=ms(z.outlets);return new Kt(D,we)}if(0===L&&Nr(y[0])){D.push(new Vn(v.segments[C].path,Pt(y[0]))),L++;continue}const ie=Qr(z)?z.outlets[Pe]:`${z}`,Te=L<y.length-1?y[L+1]:null;ie&&Te&&Nr(Te)?(D.push(new Vn(ie,Pt(Te))),L+=2):(D.push(new Vn(ie,{})),L++)}return new Kt(D,{})}function ms(v){const C={};return Object.entries(v).forEach(([y,D])=>{"string"==typeof D&&(D=[D]),null!==D&&(C[y]=ki(new Kt([],{}),0,D))}),C}function Pt(v){const C={};return Object.entries(v).forEach(([y,D])=>C[y]=`${D}`),C}function X(v,C,y){return v==y.path&&Ot(C,y.parameters)}const le="imperative";var ee=function(v){return v[v.NavigationStart=0]="NavigationStart",v[v.NavigationEnd=1]="NavigationEnd",v[v.NavigationCancel=2]="NavigationCancel",v[v.NavigationError=3]="NavigationError",v[v.RoutesRecognized=4]="RoutesRecognized",v[v.ResolveStart=5]="ResolveStart",v[v.ResolveEnd=6]="ResolveEnd",v[v.GuardsCheckStart=7]="GuardsCheckStart",v[v.GuardsCheckEnd=8]="GuardsCheckEnd",v[v.RouteConfigLoadStart=9]="RouteConfigLoadStart",v[v.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",v[v.ChildActivationStart=11]="ChildActivationStart",v[v.ChildActivationEnd=12]="ChildActivationEnd",v[v.ActivationStart=13]="ActivationStart",v[v.ActivationEnd=14]="ActivationEnd",v[v.Scroll=15]="Scroll",v[v.NavigationSkipped=16]="NavigationSkipped",v}(ee||{});class Ie{constructor(C,y){this.id=C,this.url=y}}class Xe extends Ie{constructor(C,y,D="imperative",L=null){super(C,y),this.type=ee.NavigationStart,this.navigationTrigger=D,this.restoredState=L}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class et extends Ie{constructor(C,y,D){super(C,y),this.urlAfterRedirects=D,this.type=ee.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var it=function(v){return v[v.Redirect=0]="Redirect",v[v.SupersededByNewNavigation=1]="SupersededByNewNavigation",v[v.NoDataFromResolver=2]="NoDataFromResolver",v[v.GuardRejected=3]="GuardRejected",v}(it||{}),At=function(v){return v[v.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",v[v.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",v}(At||{});class bt extends Ie{constructor(C,y,D,L){super(C,y),this.reason=D,this.code=L,this.type=ee.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class bn extends Ie{constructor(C,y,D,L){super(C,y),this.reason=D,this.code=L,this.type=ee.NavigationSkipped}}class un extends Ie{constructor(C,y,D,L){super(C,y),this.error=D,this.target=L,this.type=ee.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ke extends Ie{constructor(C,y,D,L){super(C,y),this.urlAfterRedirects=D,this.state=L,this.type=ee.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $n extends Ie{constructor(C,y,D,L){super(C,y),this.urlAfterRedirects=D,this.state=L,this.type=ee.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bn extends Ie{constructor(C,y,D,L,z){super(C,y),this.urlAfterRedirects=D,this.state=L,this.shouldActivate=z,this.type=ee.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Kn extends Ie{constructor(C,y,D,L){super(C,y),this.urlAfterRedirects=D,this.state=L,this.type=ee.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bt extends Ie{constructor(C,y,D,L){super(C,y),this.urlAfterRedirects=D,this.state=L,this.type=ee.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class En{constructor(C){this.route=C,this.type=ee.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Gn{constructor(C){this.route=C,this.type=ee.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class St{constructor(C){this.snapshot=C,this.type=ee.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mt{constructor(C){this.snapshot=C,this.type=ee.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dr{constructor(C){this.snapshot=C,this.type=ee.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ji{constructor(C){this.snapshot=C,this.type=ee.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yi{constructor(C,y,D){this.routerEvent=C,this.position=y,this.anchor=D,this.type=ee.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Gi{}class _i{constructor(C,y){this.url=C,this.navigationBehaviorOptions=y}}function Nn(v){return v.outlet||Pe}function Mr(v){if(!v)return null;if(v.routeConfig?._injector)return v.routeConfig._injector;for(let C=v.parent;C;C=C.parent){const y=C.routeConfig;if(y?._loadedInjector)return y._loadedInjector;if(y?._injector)return y._injector}return null}class gs{get injector(){return Mr(this.route?.snapshot)??this.rootInjector}set injector(C){}constructor(C){this.rootInjector=C,this.outlet=null,this.route=null,this.children=new Tr(this.rootInjector),this.attachRef=null}}let Tr=(()=>{class v{constructor(y){this.rootInjector=y,this.contexts=new Map}onChildOutletCreated(y,D){const L=this.getOrCreateContext(y);L.outlet=D,this.contexts.set(y,L)}onChildOutletDestroyed(y){const D=this.getContext(y);D&&(D.outlet=null,D.attachRef=null)}onOutletDeactivated(){const y=this.contexts;return this.contexts=new Map,y}onOutletReAttached(y){this.contexts=y}getOrCreateContext(y){let D=this.getContext(y);return D||(D=new gs(this.rootInjector),this.contexts.set(y,D)),D}getContext(y){return this.contexts.get(y)||null}static{this.\u0275fac=function(D){return new(D||v)(f.KVO(f.uvJ))}}static{this.\u0275prov=f.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})();class Mi{constructor(C){this._root=C}get root(){return this._root.value}parent(C){const y=this.pathFromRoot(C);return y.length>1?y[y.length-2]:null}children(C){const y=Ti(C,this._root);return y?y.children.map(D=>D.value):[]}firstChild(C){const y=Ti(C,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(C){const y=xr(C,this._root);return y.length<2?[]:y[y.length-2].children.map(L=>L.value).filter(L=>L!==C)}pathFromRoot(C){return xr(C,this._root).map(y=>y.value)}}function Ti(v,C){if(v===C.value)return C;for(const y of C.children){const D=Ti(v,y);if(D)return D}return null}function xr(v,C){if(v===C.value)return[C];for(const y of C.children){const D=xr(v,y);if(D.length)return D.unshift(C),D}return[]}class er{constructor(C,y){this.value=C,this.children=y}toString(){return`TreeNode(${this.value})`}}function Pn(v){const C={};return v&&v.children.forEach(y=>C[y.value.outlet]=y),C}class vs extends Mi{constructor(C,y){super(C),this.snapshot=y,ys(this,C)}toString(){return this.snapshot.toString()}}function _t(v){const C=function Ai(v){const z=new oi([],{},{},"",{},Pe,v,null,{});return new As("",new er(z,[]))}(v),y=new F.t([new Vn("",{})]),D=new F.t({}),L=new F.t({}),z=new F.t({}),ie=new F.t(""),Te=new Sr(y,D,z,ie,L,Pe,v,C.root);return Te.snapshot=C.root,new vs(new er(Te,[]),C)}class Sr{constructor(C,y,D,L,z,ie,Te,we){this.urlSubject=C,this.paramsSubject=y,this.queryParamsSubject=D,this.fragmentSubject=L,this.dataSubject=z,this.outlet=ie,this.component=Te,this._futureSnapshot=we,this.title=this.dataSubject?.pipe((0,Le.T)(ut=>ut[vt]))??(0,W.of)(void 0),this.url=C,this.params=y,this.queryParams=D,this.fragment=L,this.data=z}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,Le.T)(C=>Cn(C))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,Le.T)(C=>Cn(C))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function bi(v,C,y="emptyOnly"){let D;const{routeConfig:L}=v;return D=null===C||"always"!==y&&""!==L?.path&&(C.component||C.routeConfig?.loadComponent)?{params:{...v.params},data:{...v.data},resolve:{...v.data,...v._resolvedData??{}}}:{params:{...C.params,...v.params},data:{...C.data,...v.data},resolve:{...v.data,...C.data,...L?.data,...v._resolvedData}},L&&ns(L)&&(D.resolve[vt]=L.title),D}class oi{get title(){return this.data?.[vt]}constructor(C,y,D,L,z,ie,Te,we,ut){this.url=C,this.params=y,this.queryParams=D,this.fragment=L,this.data=z,this.outlet=ie,this.component=Te,this.routeConfig=we,this._resolve=ut}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Cn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Cn(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(D=>D.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class As extends Mi{constructor(C,y){super(y),this.url=C,ys(this,y)}toString(){return _s(this._root)}}function ys(v,C){C.value._routerState=v,C.children.forEach(y=>ys(v,y))}function _s(v){const C=v.children.length>0?` { ${v.children.map(_s).join(", ")} } `:"";return`${v.value}${C}`}function Hi(v){if(v.snapshot){const C=v.snapshot,y=v._futureSnapshot;v.snapshot=y,Ot(C.queryParams,y.queryParams)||v.queryParamsSubject.next(y.queryParams),C.fragment!==y.fragment&&v.fragmentSubject.next(y.fragment),Ot(C.params,y.params)||v.paramsSubject.next(y.params),function yn(v,C){if(v.length!==C.length)return!1;for(let y=0;y<v.length;++y)if(!Ot(v[y],C[y]))return!1;return!0}(C.url,y.url)||v.urlSubject.next(y.url),Ot(C.data,y.data)||v.dataSubject.next(y.data)}else v.snapshot=v._futureSnapshot,v.dataSubject.next(v._futureSnapshot.data)}function ts(v,C){const y=Ot(v.params,C.params)&&function ii(v,C){return Un(v,C)&&v.every((y,D)=>Ot(y.parameters,C[D].parameters))}(v.url,C.url);return y&&!(!v.parent!=!C.parent)&&(!v.parent||ts(v.parent,C.parent))}function ns(v){return"string"==typeof v.title||null===v.title}let Ri=(()=>{class v{constructor(){this.activated=null,this._activatedRoute=null,this.name=Pe,this.activateEvents=new f.bkB,this.deactivateEvents=new f.bkB,this.attachEvents=new f.bkB,this.detachEvents=new f.bkB,this.parentContexts=(0,f.WQX)(Tr),this.location=(0,f.WQX)(f.c1b),this.changeDetector=(0,f.WQX)(f.gRc),this.inputBinder=(0,f.WQX)(Lr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(y){if(y.name){const{firstChange:D,previousValue:L}=y.name;if(D)return;this.isTrackedInParentContexts(L)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(L)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(y){return this.parentContexts.getContext(y)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const y=this.parentContexts.getContext(this.name);y?.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new f.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new f.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new f.wOt(4012,!1);this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,D){this.activated=y,this._activatedRoute=D,this.location.insert(y.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,D){if(this.isActivated)throw new f.wOt(4013,!1);this._activatedRoute=y;const L=this.location,ie=y.snapshot.component,Te=this.parentContexts.getOrCreateContext(this.name).children,we=new gr(y,Te,L.injector);this.activated=L.createComponent(ie,{index:L.length,injector:we,environmentInjector:D}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(D){return new(D||v)}}static{this.\u0275dir=f.FsC({type:v,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[f.OA$]})}}return v})();class gr{__ngOutletInjector(C){return new gr(this.route,this.childContexts,C)}constructor(C,y,D){this.route=C,this.childContexts=y,this.parent=D}get(C,y){return C===Sr?this.route:C===Tr?this.childContexts:this.parent.get(C,y)}}const Lr=new f.nKC("");let Qn=(()=>{class v{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(y){this.unsubscribeFromRouteData(y),this.subscribeToRouteData(y)}unsubscribeFromRouteData(y){this.outletDataSubscriptions.get(y)?.unsubscribe(),this.outletDataSubscriptions.delete(y)}subscribeToRouteData(y){const{activatedRoute:D}=y,L=(0,Z.z)([D.queryParams,D.params,D.data]).pipe((0,nt.n)(([z,ie,Te],we)=>(Te={...z,...ie,...Te},0===we?(0,W.of)(Te):Promise.resolve(Te)))).subscribe(z=>{if(!y.isActivated||!y.activatedComponentRef||y.activatedRoute!==D||null===D.component)return void this.unsubscribeFromRouteData(y);const ie=(0,f.HJs)(D.component);if(ie)for(const{templateName:Te}of ie.inputs)y.activatedComponentRef.setInput(Te,z[Te]);else this.unsubscribeFromRouteData(y)});this.outletDataSubscriptions.set(y,L)}static{this.\u0275fac=function(D){return new(D||v)}}static{this.\u0275prov=f.jDH({token:v,factory:v.\u0275fac})}}return v})();function wn(v,C,y){if(y&&v.shouldReuseRoute(C.value,y.value.snapshot)){const D=y.value;D._futureSnapshot=C.value;const L=function $r(v,C,y){return C.children.map(D=>{for(const L of y.children)if(v.shouldReuseRoute(D.value,L.value.snapshot))return wn(v,D,L);return wn(v,D)})}(v,C,y);return new er(D,L)}{if(v.shouldAttach(C.value)){const z=v.retrieve(C.value);if(null!==z){const ie=z.route;return ie.value._futureSnapshot=C.value,ie.children=C.children.map(Te=>wn(v,Te)),ie}}const D=function Ei(v){return new Sr(new F.t(v.url),new F.t(v.params),new F.t(v.queryParams),new F.t(v.fragment),new F.t(v.data),v.outlet,v.component,v)}(C.value),L=C.children.map(z=>wn(v,z));return new er(D,L)}}class Fr{constructor(C,y){this.redirectTo=C,this.navigationBehaviorOptions=y}}const Tn="ngNavigationCancelingError";function bs(v,C){const{redirectTo:y,navigationBehaviorOptions:D}=zn(C)?{redirectTo:C,navigationBehaviorOptions:void 0}:C,L=qi(!1,it.Redirect);return L.url=y,L.navigationBehaviorOptions=D,L}function qi(v,C){const y=new Error(`NavigationCancelingError: ${v||""}`);return y[Tn]=!0,y.cancellationCode=C,y}function Vr(v){return!!v&&v[Tn]}class Xs{constructor(C,y,D,L,z){this.routeReuseStrategy=C,this.futureState=y,this.currState=D,this.forwardEvent=L,this.inputBindingEnabled=z}activate(C){const y=this.futureState._root,D=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,D,C),Hi(this.futureState.root),this.activateChildRoutes(y,D,C)}deactivateChildRoutes(C,y,D){const L=Pn(y);C.children.forEach(z=>{const ie=z.value.outlet;this.deactivateRoutes(z,L[ie],D),delete L[ie]}),Object.values(L).forEach(z=>{this.deactivateRouteAndItsChildren(z,D)})}deactivateRoutes(C,y,D){const L=C.value,z=y?y.value:null;if(L===z)if(L.component){const ie=D.getContext(L.outlet);ie&&this.deactivateChildRoutes(C,y,ie.children)}else this.deactivateChildRoutes(C,y,D);else z&&this.deactivateRouteAndItsChildren(y,D)}deactivateRouteAndItsChildren(C,y){C.value.component&&this.routeReuseStrategy.shouldDetach(C.value.snapshot)?this.detachAndStoreRouteSubtree(C,y):this.deactivateRouteAndOutlet(C,y)}detachAndStoreRouteSubtree(C,y){const D=y.getContext(C.value.outlet),L=D&&C.value.component?D.children:y,z=Pn(C);for(const ie of Object.values(z))this.deactivateRouteAndItsChildren(ie,L);if(D&&D.outlet){const ie=D.outlet.detach(),Te=D.children.onOutletDeactivated();this.routeReuseStrategy.store(C.value.snapshot,{componentRef:ie,route:C,contexts:Te})}}deactivateRouteAndOutlet(C,y){const D=y.getContext(C.value.outlet),L=D&&C.value.component?D.children:y,z=Pn(C);for(const ie of Object.values(z))this.deactivateRouteAndItsChildren(ie,L);D&&(D.outlet&&(D.outlet.deactivate(),D.children.onOutletDeactivated()),D.attachRef=null,D.route=null)}activateChildRoutes(C,y,D){const L=Pn(y);C.children.forEach(z=>{this.activateRoutes(z,L[z.value.outlet],D),this.forwardEvent(new Ji(z.value.snapshot))}),C.children.length&&this.forwardEvent(new mt(C.value.snapshot))}activateRoutes(C,y,D){const L=C.value,z=y?y.value:null;if(Hi(L),L===z)if(L.component){const ie=D.getOrCreateContext(L.outlet);this.activateChildRoutes(C,y,ie.children)}else this.activateChildRoutes(C,y,D);else if(L.component){const ie=D.getOrCreateContext(L.outlet);if(this.routeReuseStrategy.shouldAttach(L.snapshot)){const Te=this.routeReuseStrategy.retrieve(L.snapshot);this.routeReuseStrategy.store(L.snapshot,null),ie.children.onOutletReAttached(Te.contexts),ie.attachRef=Te.componentRef,ie.route=Te.route.value,ie.outlet&&ie.outlet.attach(Te.componentRef,Te.route.value),Hi(Te.route.value),this.activateChildRoutes(C,null,ie.children)}else ie.attachRef=null,ie.route=L,ie.outlet&&ie.outlet.activateWith(L,ie.injector),this.activateChildRoutes(C,null,ie.children)}else this.activateChildRoutes(C,null,D)}}class vr{constructor(C){this.path=C,this.route=this.path[this.path.length-1]}}class sn{constructor(C,y){this.component=C,this.route=y}}function Ur(v,C,y){const D=v._root;return li(D,C?C._root:null,y,[D.value])}function ai(v,C){const y=Symbol(),D=C.get(v,y);return D===y?"function"!=typeof v||(0,f.LfX)(v)?C.get(v):v:D}function li(v,C,y,D,L={canDeactivateChecks:[],canActivateChecks:[]}){const z=Pn(C);return v.children.forEach(ie=>{(function Qs(v,C,y,D,L={canDeactivateChecks:[],canActivateChecks:[]}){const z=v.value,ie=C?C.value:null,Te=y?y.getContext(v.value.outlet):null;if(ie&&z.routeConfig===ie.routeConfig){const we=function Ci(v,C,y){if("function"==typeof y)return y(v,C);switch(y){case"pathParamsChange":return!Un(v.url,C.url);case"pathParamsOrQueryParamsChange":return!Un(v.url,C.url)||!Ot(v.queryParams,C.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ts(v,C)||!Ot(v.queryParams,C.queryParams);default:return!ts(v,C)}}(ie,z,z.routeConfig.runGuardsAndResolvers);we?L.canActivateChecks.push(new vr(D)):(z.data=ie.data,z._resolvedData=ie._resolvedData),li(v,C,z.component?Te?Te.children:null:y,D,L),we&&Te&&Te.outlet&&Te.outlet.isActivated&&L.canDeactivateChecks.push(new sn(Te.outlet.component,ie))}else ie&&tr(C,Te,L),L.canActivateChecks.push(new vr(D)),li(v,null,z.component?Te?Te.children:null:y,D,L)})(ie,z[ie.value.outlet],y,D.concat([ie.value]),L),delete z[ie.value.outlet]}),Object.entries(z).forEach(([ie,Te])=>tr(Te,y.getContext(ie),L)),L}function tr(v,C,y){const D=Pn(v),L=v.value;Object.entries(D).forEach(([z,ie])=>{tr(ie,L.component?C?C.children.getContext(z):null:C,y)}),y.canDeactivateChecks.push(new sn(L.component&&C&&C.outlet&&C.outlet.isActivated?C.outlet.component:null,L))}function wi(v){return"function"==typeof v}function Cs(v){return v instanceof he.G||"EmptyError"===v?.name}const ui=Symbol("INITIAL_VALUE");function Zr(){return(0,nt.n)(v=>(0,Z.z)(v.map(C=>C.pipe((0,ht.s)(1),(0,Ye.Z)(ui)))).pipe((0,Le.T)(C=>{for(const y of C)if(!0!==y){if(y===ui)return ui;if(!1===y||A(y))return y}return!0}),(0,Ze.p)(C=>C!==ui),(0,ht.s)(1)))}function A(v){return zn(v)||v instanceof Fr}function Eo(v){return(0,ve.F)((0,pt.M)(C=>{if("boolean"!=typeof C)throw bs(0,C)}),(0,Le.T)(C=>!0===C))}class Os{constructor(C){this.segmentGroup=C||null}}class eo extends Error{constructor(C){super(),this.urlTree=C}}function is(v){return(0,Fe.$)(new Os(v))}class ta{constructor(C,y){this.urlSerializer=C,this.urlTree=y}lineralizeSegments(C,y){let D=[],L=y.root;for(;;){if(D=D.concat(L.segments),0===L.numberOfChildren)return(0,W.of)(D);if(L.numberOfChildren>1||!L.children[Pe])return(0,Fe.$)(new f.wOt(4e3,!1));L=L.children[Pe]}}applyRedirectCommands(C,y,D,L,z){if("string"!=typeof y){const Te=y,{queryParams:we,fragment:ut,routeConfig:Vt,url:Jt,outlet:nr,params:Us,data:fi,title:Bs}=L,Pi=(0,f.N4e)(z,()=>Te({params:Us,data:fi,queryParams:we,fragment:ut,routeConfig:Vt,url:Jt,outlet:nr,title:Bs}));if(Pi instanceof tn)throw new eo(Pi);y=Pi}const ie=this.applyRedirectCreateUrlTree(y,this.urlSerializer.parse(y),C,D);if("/"===y[0])throw new eo(ie);return ie}applyRedirectCreateUrlTree(C,y,D,L){const z=this.createSegmentGroup(C,y.root,D,L);return new tn(z,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(C,y){const D={};return Object.entries(C).forEach(([L,z])=>{if("string"==typeof z&&":"===z[0]){const Te=z.substring(1);D[L]=y[Te]}else D[L]=z}),D}createSegmentGroup(C,y,D,L){const z=this.createSegments(C,y.segments,D,L);let ie={};return Object.entries(y.children).forEach(([Te,we])=>{ie[Te]=this.createSegmentGroup(C,we,D,L)}),new Kt(z,ie)}createSegments(C,y,D,L){return y.map(z=>":"===z.path[0]?this.findPosParam(C,z,L):this.findOrReturn(z,D))}findPosParam(C,y,D){const L=D[y.path.substring(1)];if(!L)throw new f.wOt(4001,!1);return L}findOrReturn(C,y){let D=0;for(const L of y){if(L.path===C.path)return y.splice(D),L;D++}return C}}const Wt={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ar(v,C,y,D,L){const z=lr(v,C,y);return z.matched?(D=function zt(v,C){return v.providers&&!v._injector&&(v._injector=(0,f.Ol2)(v.providers,C,`Route: ${v.path}`)),v._injector??C}(C,D),function rs(v,C,y,D){const L=C.canMatch;if(!L||0===L.length)return(0,W.of)(!0);const z=L.map(ie=>{const Te=ai(ie,v);return hn(function Di(v){return v&&wi(v.canMatch)}(Te)?Te.canMatch(C,y):(0,f.N4e)(v,()=>Te(C,y)))});return(0,W.of)(z).pipe(Zr(),Eo())}(D,C,y).pipe((0,Le.T)(ie=>!0===ie?z:{...Wt}))):(0,W.of)(z)}function lr(v,C,y){if("**"===C.path)return function ss(v){return{matched:!0,parameters:v.length>0?Zt(v).parameters:{},consumedSegments:v,remainingSegments:[],positionalParamSegments:{}}}(y);if(""===C.path)return"full"===C.pathMatch&&(v.hasChildren()||y.length>0)?{...Wt}:{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const L=(C.matcher||Mt)(y,v,C);if(!L)return{...Wt};const z={};Object.entries(L.posParams??{}).forEach(([Te,we])=>{z[Te]=we.path});const ie=L.consumed.length>0?{...z,...L.consumed[L.consumed.length-1].parameters}:z;return{matched:!0,consumedSegments:L.consumed,remainingSegments:y.slice(L.consumed.length),parameters:ie,positionalParamSegments:L.posParams??{}}}function pr(v,C,y,D){return y.length>0&&function Ps(v,C,y){return y.some(D=>os(v,C,D)&&Nn(D)!==Pe)}(v,y,D)?{segmentGroup:new Kt(C,no(D,new Kt(y,v.children))),slicedSegments:[]}:0===y.length&&function No(v,C,y){return y.some(D=>os(v,C,D))}(v,y,D)?{segmentGroup:new Kt(v.segments,Ni(v,y,D,v.children)),slicedSegments:y}:{segmentGroup:new Kt(v.segments,v.children),slicedSegments:y}}function Ni(v,C,y,D){const L={};for(const z of y)if(os(v,C,z)&&!D[Nn(z)]){const ie=new Kt([],{});L[Nn(z)]=ie}return{...D,...L}}function no(v,C){const y={};y[Pe]=C;for(const D of v)if(""===D.path&&Nn(D)!==Pe){const L=new Kt([],{});y[Nn(D)]=L}return y}function os(v,C,y){return(!(v.hasChildren()||C.length>0)||"full"!==y.pathMatch)&&""===y.path}class na{}class Co{constructor(C,y,D,L,z,ie,Te){this.injector=C,this.configLoader=y,this.rootComponentType=D,this.config=L,this.urlTree=z,this.paramsInheritanceStrategy=ie,this.urlSerializer=Te,this.applyRedirects=new ta(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(C){return new f.wOt(4002,`'${C.segmentGroup}'`)}recognize(){const C=pr(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(C).pipe((0,Le.T)(({children:y,rootSnapshot:D})=>{const L=new er(D,y),z=new As("",L),ie=function xt(v,C,y=null,D=null){return ks(Vi(v),C,y,D)}(D,[],this.urlTree.queryParams,this.urlTree.fragment);return ie.queryParams=this.urlTree.queryParams,z.url=this.urlSerializer.serialize(ie),{state:z,tree:ie}}))}match(C){const y=new oi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Pe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,C,Pe,y).pipe((0,Le.T)(D=>({children:D,rootSnapshot:y})),(0,qe.W)(D=>{if(D instanceof eo)return this.urlTree=D.urlTree,this.match(D.urlTree.root);throw D instanceof Os?this.noMatchError(D):D}))}processSegmentGroup(C,y,D,L,z){return 0===D.segments.length&&D.hasChildren()?this.processChildren(C,y,D,z):this.processSegment(C,y,D,D.segments,L,!0,z).pipe((0,Le.T)(ie=>ie instanceof er?[ie]:[]))}processChildren(C,y,D,L){const z=[];for(const ie of Object.keys(D.children))"primary"===ie?z.unshift(ie):z.push(ie);return(0,P.H)(z).pipe((0,Re.H)(ie=>{const Te=D.children[ie],we=function Ys(v,C){const y=v.filter(D=>Nn(D)===C);return y.push(...v.filter(D=>Nn(D)!==C)),y}(y,ie);return this.processSegmentGroup(C,we,Te,ie,L)}),(0,kn.S)((ie,Te)=>(ie.push(...Te),ie)),(0,jt.U)(null),function vn(v,C){const y=arguments.length>=2;return D=>D.pipe(v?(0,Ze.p)((L,z)=>v(L,z,D)):br.D,Tt(1),y?(0,jt.U)(C):(0,_r.v)(()=>new he.G))}(),(0,Je.Z)(ie=>{if(null===ie)return is(D);const Te=Lo(ie);return function ba(v){v.sort((C,y)=>C.value.outlet===Pe?-1:y.value.outlet===Pe?1:C.value.outlet.localeCompare(y.value.outlet))}(Te),(0,W.of)(Te)}))}processSegment(C,y,D,L,z,ie,Te){return(0,P.H)(y).pipe((0,Re.H)(we=>this.processSegmentAgainstRoute(we._injector??C,y,we,D,L,z,ie,Te).pipe((0,qe.W)(ut=>{if(ut instanceof Os)return(0,W.of)(null);throw ut}))),(0,yt.$)(we=>!!we),(0,qe.W)(we=>{if(Cs(we))return function di(v,C,y){return 0===C.length&&!v.children[y]}(D,L,z)?(0,W.of)(new na):is(D);throw we}))}processSegmentAgainstRoute(C,y,D,L,z,ie,Te,we){return Nn(D)===ie||ie!==Pe&&os(L,z,D)?void 0===D.redirectTo?this.matchSegmentAgainstRoute(C,L,D,z,ie,we):this.allowRedirects&&Te?this.expandSegmentAgainstRouteUsingRedirect(C,L,y,D,z,ie,we):is(L):is(L)}expandSegmentAgainstRouteUsingRedirect(C,y,D,L,z,ie,Te){const{matched:we,parameters:ut,consumedSegments:Vt,positionalParamSegments:Jt,remainingSegments:nr}=lr(y,L,z);if(!we)return is(y);"string"==typeof L.redirectTo&&"/"===L.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Us=new oi(z,ut,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Yn(L),Nn(L),L.component??L._loadedComponent??null,L,Br(L)),fi=bi(Us,Te,this.paramsInheritanceStrategy);Us.params=Object.freeze(fi.params),Us.data=Object.freeze(fi.data);const Bs=this.applyRedirects.applyRedirectCommands(Vt,L.redirectTo,Jt,Us,C);return this.applyRedirects.lineralizeSegments(L,Bs).pipe((0,Je.Z)(Pi=>this.processSegment(C,D,y,Pi.concat(nr),ie,!1,Te)))}matchSegmentAgainstRoute(C,y,D,L,z,ie){const Te=ar(y,D,L,C);return"**"===D.path&&(y.children={}),Te.pipe((0,nt.n)(we=>we.matched?this.getChildConfig(C=D._injector??C,D,L).pipe((0,nt.n)(({routes:ut})=>{const Vt=D._loadedInjector??C,{parameters:Jt,consumedSegments:nr,remainingSegments:Us}=we,fi=new oi(nr,Jt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Yn(D),Nn(D),D.component??D._loadedComponent??null,D,Br(D)),Bs=bi(fi,ie,this.paramsInheritanceStrategy);fi.params=Object.freeze(Bs.params),fi.data=Object.freeze(Bs.data);const{segmentGroup:Pi,slicedSegments:Fo}=pr(y,nr,Us,ut);if(0===Fo.length&&Pi.hasChildren())return this.processChildren(Vt,ut,Pi,fi).pipe((0,Le.T)(ua=>new er(fi,ua)));if(0===ut.length&&0===Fo.length)return(0,W.of)(new er(fi,[]));const zl=Nn(D)===z;return this.processSegment(Vt,ut,Pi,Fo,zl?Pe:z,!0,fi).pipe((0,Le.T)(ua=>new er(fi,ua instanceof er?[ua]:[])))})):is(y)))}getChildConfig(C,y,D){return y.children?(0,W.of)({routes:y.children,injector:C}):y.loadChildren?void 0!==y._loadedRoutes?(0,W.of)({routes:y._loadedRoutes,injector:y._loadedInjector}):function fr(v,C,y,D){const L=C.canLoad;if(void 0===L||0===L.length)return(0,W.of)(!0);const z=L.map(ie=>{const Te=ai(ie,v);return hn(function bo(v){return v&&wi(v.canLoad)}(Te)?Te.canLoad(C,y):(0,f.N4e)(v,()=>Te(C,y)))});return(0,W.of)(z).pipe(Zr(),Eo())}(C,y,D).pipe((0,Je.Z)(L=>L?this.configLoader.loadChildren(C,y).pipe((0,pt.M)(z=>{y._loadedRoutes=z.routes,y._loadedInjector=z.injector})):function ea(){return(0,Fe.$)(qi(!1,it.GuardRejected))}())):(0,W.of)({routes:[],injector:C})}}function jo(v){const C=v.value.routeConfig;return C&&""===C.path}function Lo(v){const C=[],y=new Set;for(const D of v){if(!jo(D)){C.push(D);continue}const L=C.find(z=>D.value.routeConfig===z.value.routeConfig);void 0!==L?(L.children.push(...D.children),y.add(L)):C.push(D)}for(const D of y){const L=Lo(D.children);C.push(new er(D.value,L))}return C.filter(D=>!y.has(D))}function Yn(v){return v.data||{}}function Br(v){return v.resolve||{}}function ro(v){const C=v.children.map(y=>ro(y)).flat();return[v,...C]}function js(v){return(0,nt.n)(C=>{const y=v(C);return y?(0,P.H)(y).pipe((0,Le.T)(()=>C)):(0,W.of)(C)})}let ei=(()=>{class v{buildTitle(y){let D,L=y.root;for(;void 0!==L;)D=this.getResolvedTitleForRoute(L)??D,L=L.children.find(z=>z.outlet===Pe);return D}getResolvedTitleForRoute(y){return y.data[vt]}static{this.\u0275fac=function(D){return new(D||v)}}static{this.\u0275prov=f.jDH({token:v,factory:()=>(0,f.WQX)(Ls),providedIn:"root"})}}return v})(),Ls=(()=>{class v extends ei{constructor(y){super(),this.title=y}updateTitle(y){const D=this.buildTitle(y);void 0!==D&&this.title.setTitle(D)}static{this.\u0275fac=function(D){return new(D||v)(f.KVO(tt.hE))}}static{this.\u0275prov=f.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})();const zi=new f.nKC("",{providedIn:"root",factory:()=>({})});let Do=(()=>{class v{static{this.\u0275fac=function(D){return new(D||v)}}static{this.\u0275cmp=f.VBU({type:v,selectors:[["ng-component"]],standalone:!0,features:[f.aNF],decls:1,vars:0,template:function(D,L){1&D&&f.nrm(0,"router-outlet")},dependencies:[Ri],encapsulation:2})}}return v})();function xo(v){const C=v.children&&v.children.map(xo),y=C?{...v,children:C}:{...v};return!y.component&&!y.loadComponent&&(C||y.loadChildren)&&y.outlet&&y.outlet!==Pe&&(y.component=Do),y}const Wi=new f.nKC("");let as=(()=>{class v{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,f.WQX)(f.Ql9)}loadComponent(y){if(this.componentLoaders.get(y))return this.componentLoaders.get(y);if(y._loadedComponent)return(0,W.of)(y._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(y);const D=hn(y.loadComponent()).pipe((0,Le.T)(Vo),(0,pt.M)(z=>{this.onLoadEndListener&&this.onLoadEndListener(y),y._loadedComponent=z}),(0,ke.j)(()=>{this.componentLoaders.delete(y)})),L=new Ve(D,()=>new Ee.B).pipe(me());return this.componentLoaders.set(y,L),L}loadChildren(y,D){if(this.childrenLoaders.get(D))return this.childrenLoaders.get(D);if(D._loadedRoutes)return(0,W.of)({routes:D._loadedRoutes,injector:D._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(D);const z=function So(v,C,y,D){return hn(v.loadChildren()).pipe((0,Le.T)(Vo),(0,Je.Z)(L=>L instanceof f.Co$||Array.isArray(L)?(0,W.of)(L):(0,P.H)(C.compileModuleAsync(L))),(0,Le.T)(L=>{D&&D(v);let z,ie,Te=!1;return Array.isArray(L)?(ie=L,!0):(z=L.create(y).injector,ie=z.get(Wi,[],{optional:!0,self:!0}).flat()),{routes:ie.map(xo),injector:z}}))}(D,this.compiler,y,this.onLoadEndListener).pipe((0,ke.j)(()=>{this.childrenLoaders.delete(D)})),ie=new Ve(z,()=>new Ee.B).pipe(me());return this.childrenLoaders.set(D,ie),ie}static{this.\u0275fac=function(D){return new(D||v)}}static{this.\u0275prov=f.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})();function Vo(v){return function ia(v){return v&&"object"==typeof v&&"default"in v}(v)?v.default:v}let Si=(()=>{class v{static{this.\u0275fac=function(D){return new(D||v)}}static{this.\u0275prov=f.jDH({token:v,factory:()=>(0,f.WQX)(sa),providedIn:"root"})}}return v})(),sa=(()=>{class v{shouldProcessUrl(y){return!0}extract(y){return y}merge(y,D){return y}static{this.\u0275fac=function(D){return new(D||v)}}static{this.\u0275prov=f.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})();const io=new f.nKC(""),Yi=new f.nKC("");function $s(v,C,y){const D=v.get(Yi),L=v.get(Oe.qQ);return v.get(f.SKi).runOutsideAngular(()=>{if(!L.startViewTransition||D.skipNextTransition)return D.skipNextTransition=!1,new Promise(ut=>setTimeout(ut));let z;const ie=new Promise(ut=>{z=ut}),Te=L.startViewTransition(()=>(z(),function Uo(v){return new Promise(C=>{(0,f.mal)({read:()=>setTimeout(C)},{injector:v})})}(v))),{onViewTransitionCreated:we}=D;return we&&(0,f.N4e)(v,()=>we({transition:Te,from:C,to:y})),ie})}const _=new f.nKC("");let U=(()=>{class v{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ee.B,this.transitionAbortSubject=new Ee.B,this.configLoader=(0,f.WQX)(as),this.environmentInjector=(0,f.WQX)(f.uvJ),this.urlSerializer=(0,f.WQX)(Fn),this.rootContexts=(0,f.WQX)(Tr),this.location=(0,f.WQX)(Oe.aZ),this.inputBindingEnabled=null!==(0,f.WQX)(Lr,{optional:!0}),this.titleStrategy=(0,f.WQX)(ei),this.options=(0,f.WQX)(zi,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,f.WQX)(Si),this.createViewTransition=(0,f.WQX)(io,{optional:!0}),this.navigationErrorHandler=(0,f.WQX)(_,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,W.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=L=>this.events.next(new Gn(L)),this.configLoader.onLoadStartListener=L=>this.events.next(new En(L))}complete(){this.transitions?.complete()}handleNavigationRequest(y){const D=++this.navigationId;this.transitions?.next({...this.transitions.value,...y,id:D})}setupNavigations(y,D,L){return this.transitions=new F.t({id:0,currentUrlTree:D,currentRawUrl:D,extractedUrl:this.urlHandlingStrategy.extract(D),urlAfterRedirects:this.urlHandlingStrategy.extract(D),rawUrl:D,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:le,restoredState:null,currentSnapshot:L.snapshot,targetSnapshot:null,currentRouterState:L,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ze.p)(z=>0!==z.id),(0,Le.T)(z=>({...z,extractedUrl:this.urlHandlingStrategy.extract(z.rawUrl)})),(0,nt.n)(z=>{let ie=!1,Te=!1;return(0,W.of)(z).pipe((0,nt.n)(we=>{if(this.navigationId>z.id)return this.cancelNavigationTransition(z,"",it.SupersededByNewNavigation),De.w;this.currentTransition=z,this.currentNavigation={id:we.id,initialUrl:we.rawUrl,extractedUrl:we.extractedUrl,targetBrowserUrl:"string"==typeof we.extras.browserUrl?this.urlSerializer.parse(we.extras.browserUrl):we.extras.browserUrl,trigger:we.source,extras:we.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const ut=!y.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!ut&&"reload"!==(we.extras.onSameUrlNavigation??y.onSameUrlNavigation)){const Jt="";return this.events.next(new bn(we.id,this.urlSerializer.serialize(we.rawUrl),Jt,At.IgnoredSameUrlNavigation)),we.resolve(!1),De.w}if(this.urlHandlingStrategy.shouldProcessUrl(we.rawUrl))return(0,W.of)(we).pipe((0,nt.n)(Jt=>{const nr=this.transitions?.getValue();return this.events.next(new Xe(Jt.id,this.urlSerializer.serialize(Jt.extractedUrl),Jt.source,Jt.restoredState)),nr!==this.transitions?.getValue()?De.w:Promise.resolve(Jt)}),function ws(v,C,y,D,L,z){return(0,Je.Z)(ie=>function Po(v,C,y,D,L,z,ie="emptyOnly"){return new Co(v,C,y,D,L,ie,z).recognize()}(v,C,y,D,ie.extractedUrl,L,z).pipe((0,Le.T)(({state:Te,tree:we})=>({...ie,targetSnapshot:Te,urlAfterRedirects:we}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,y.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,pt.M)(Jt=>{z.targetSnapshot=Jt.targetSnapshot,z.urlAfterRedirects=Jt.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Jt.urlAfterRedirects};const nr=new Ke(Jt.id,this.urlSerializer.serialize(Jt.extractedUrl),this.urlSerializer.serialize(Jt.urlAfterRedirects),Jt.targetSnapshot);this.events.next(nr)}));if(ut&&this.urlHandlingStrategy.shouldProcessUrl(we.currentRawUrl)){const{id:Jt,extractedUrl:nr,source:Us,restoredState:fi,extras:Bs}=we,Pi=new Xe(Jt,this.urlSerializer.serialize(nr),Us,fi);this.events.next(Pi);const Fo=_t(this.rootComponentType).snapshot;return this.currentTransition=z={...we,targetSnapshot:Fo,urlAfterRedirects:nr,extras:{...Bs,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=nr,(0,W.of)(z)}{const Jt="";return this.events.next(new bn(we.id,this.urlSerializer.serialize(we.extractedUrl),Jt,At.IgnoredByUrlHandlingStrategy)),we.resolve(!1),De.w}}),(0,pt.M)(we=>{const ut=new $n(we.id,this.urlSerializer.serialize(we.extractedUrl),this.urlSerializer.serialize(we.urlAfterRedirects),we.targetSnapshot);this.events.next(ut)}),(0,Le.T)(we=>(this.currentTransition=z={...we,guards:Ur(we.targetSnapshot,we.currentSnapshot,this.rootContexts)},z)),function N(v,C){return(0,Je.Z)(y=>{const{targetSnapshot:D,currentSnapshot:L,guards:{canActivateChecks:z,canDeactivateChecks:ie}}=y;return 0===ie.length&&0===z.length?(0,W.of)({...y,guardsResult:!0}):function x(v,C,y,D){return(0,P.H)(v).pipe((0,Je.Z)(L=>function ci(v,C,y,D,L){const z=C&&C.routeConfig?C.routeConfig.canDeactivate:null;if(!z||0===z.length)return(0,W.of)(!0);const ie=z.map(Te=>{const we=Mr(C)??L,ut=ai(Te,we);return hn(function Es(v){return v&&wi(v.canDeactivate)}(ut)?ut.canDeactivate(v,C,y,D):(0,f.N4e)(we,()=>ut(v,C,y,D))).pipe((0,yt.$)())});return(0,W.of)(ie).pipe(Zr())}(L.component,L.route,y,C,D)),(0,yt.$)(L=>!0!==L,!0))}(ie,D,L,v).pipe((0,Je.Z)(Te=>Te&&function Js(v){return"boolean"==typeof v}(Te)?function G(v,C,y,D){return(0,P.H)(C).pipe((0,Re.H)(L=>(0,fe.x)(function We(v,C){return null!==v&&C&&C(new St(v)),(0,W.of)(!0)}(L.route.parent,D),function se(v,C){return null!==v&&C&&C(new Dr(v)),(0,W.of)(!0)}(L.route,D),function xi(v,C,y){const D=C[C.length-1],z=C.slice(0,C.length-1).reverse().map(ie=>function Ks(v){const C=v.routeConfig?v.routeConfig.canActivateChild:null;return C&&0!==C.length?{node:v,guards:C}:null}(ie)).filter(ie=>null!==ie).map(ie=>(0,te.v)(()=>{const Te=ie.guards.map(we=>{const ut=Mr(ie.node)??y,Vt=ai(we,ut);return hn(function An(v){return v&&wi(v.canActivateChild)}(Vt)?Vt.canActivateChild(D,v):(0,f.N4e)(ut,()=>Vt(D,v))).pipe((0,yt.$)())});return(0,W.of)(Te).pipe(Zr())}));return(0,W.of)(z).pipe(Zr())}(v,L.path,y),function Gt(v,C,y){const D=C.routeConfig?C.routeConfig.canActivate:null;if(!D||0===D.length)return(0,W.of)(!0);const L=D.map(z=>(0,te.v)(()=>{const ie=Mr(C)??y,Te=ai(z,ie);return hn(function Zs(v){return v&&wi(v.canActivate)}(Te)?Te.canActivate(C,v):(0,f.N4e)(ie,()=>Te(C,v))).pipe((0,yt.$)())}));return(0,W.of)(L).pipe(Zr())}(v,L.route,y))),(0,yt.$)(L=>!0!==L,!0))}(D,z,v,C):(0,W.of)(Te)),(0,Le.T)(Te=>({...y,guardsResult:Te})))})}(this.environmentInjector,we=>this.events.next(we)),(0,pt.M)(we=>{if(z.guardsResult=we.guardsResult,we.guardsResult&&"boolean"!=typeof we.guardsResult)throw bs(0,we.guardsResult);const ut=new Bn(we.id,this.urlSerializer.serialize(we.extractedUrl),this.urlSerializer.serialize(we.urlAfterRedirects),we.targetSnapshot,!!we.guardsResult);this.events.next(ut)}),(0,Ze.p)(we=>!!we.guardsResult||(this.cancelNavigationTransition(we,"",it.GuardRejected),!1)),js(we=>{if(we.guards.canActivateChecks.length)return(0,W.of)(we).pipe((0,pt.M)(ut=>{const Vt=new Kn(ut.id,this.urlSerializer.serialize(ut.extractedUrl),this.urlSerializer.serialize(ut.urlAfterRedirects),ut.targetSnapshot);this.events.next(Vt)}),(0,nt.n)(ut=>{let Vt=!1;return(0,W.of)(ut).pipe(function ra(v,C){return(0,Je.Z)(y=>{const{targetSnapshot:D,guards:{canActivateChecks:L}}=y;if(!L.length)return(0,W.of)(y);const z=new Set(L.map(we=>we.route)),ie=new Set;for(const we of z)if(!ie.has(we))for(const ut of ro(we))ie.add(ut);let Te=0;return(0,P.H)(ie).pipe((0,Re.H)(we=>z.has(we)?function uo(v,C,y,D){const L=v.routeConfig,z=v._resolve;return void 0!==L?.title&&!ns(L)&&(z[vt]=L.title),function $o(v,C,y,D){const L=Sn(v);if(0===L.length)return(0,W.of)({});const z={};return(0,P.H)(L).pipe((0,Je.Z)(ie=>function co(v,C,y,D){const L=Mr(C)??D,z=ai(v,L);return hn(z.resolve?z.resolve(C,y):(0,f.N4e)(L,()=>z(C,y)))}(v[ie],C,y,D).pipe((0,yt.$)(),(0,pt.M)(Te=>{if(Te instanceof Fr)throw bs(new nn,Te);z[ie]=Te}))),Tt(1),function Se(v){return(0,Le.T)(()=>v)}(z),(0,qe.W)(ie=>Cs(ie)?De.w:(0,Fe.$)(ie)))}(z,v,C,D).pipe((0,Le.T)(ie=>(v._resolvedData=ie,v.data=bi(v,v.parent,y).resolve,null)))}(we,D,v,C):(we.data=bi(we,we.parent,v).resolve,(0,W.of)(void 0))),(0,pt.M)(()=>Te++),Tt(1),(0,Je.Z)(we=>Te===ie.size?(0,W.of)(y):De.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,pt.M)({next:()=>Vt=!0,complete:()=>{Vt||this.cancelNavigationTransition(ut,"",it.NoDataFromResolver)}}))}),(0,pt.M)(ut=>{const Vt=new Bt(ut.id,this.urlSerializer.serialize(ut.extractedUrl),this.urlSerializer.serialize(ut.urlAfterRedirects),ut.targetSnapshot);this.events.next(Vt)}))}),js(we=>{const ut=Vt=>{const Jt=[];Vt.routeConfig?.loadComponent&&!Vt.routeConfig._loadedComponent&&Jt.push(this.configLoader.loadComponent(Vt.routeConfig).pipe((0,pt.M)(nr=>{Vt.component=nr}),(0,Le.T)(()=>{})));for(const nr of Vt.children)Jt.push(...ut(nr));return Jt};return(0,Z.z)(ut(we.targetSnapshot.root)).pipe((0,jt.U)(null),(0,ht.s)(1))}),js(()=>this.afterPreactivation()),(0,nt.n)(()=>{const{currentSnapshot:we,targetSnapshot:ut}=z,Vt=this.createViewTransition?.(this.environmentInjector,we.root,ut.root);return Vt?(0,P.H)(Vt).pipe((0,Le.T)(()=>z)):(0,W.of)(z)}),(0,Le.T)(we=>{const ut=function It(v,C,y){const D=wn(v,C._root,y?y._root:void 0);return new vs(D,C)}(y.routeReuseStrategy,we.targetSnapshot,we.currentRouterState);return this.currentTransition=z={...we,targetRouterState:ut},this.currentNavigation.targetRouterState=ut,z}),(0,pt.M)(()=>{this.events.next(new Gi)}),((v,C,y,D)=>(0,Le.T)(L=>(new Xs(C,L.targetRouterState,L.currentRouterState,y,D).activate(v),L)))(this.rootContexts,y.routeReuseStrategy,we=>this.events.next(we),this.inputBindingEnabled),(0,ht.s)(1),(0,pt.M)({next:we=>{ie=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new et(we.id,this.urlSerializer.serialize(we.extractedUrl),this.urlSerializer.serialize(we.urlAfterRedirects))),this.titleStrategy?.updateTitle(we.targetRouterState.snapshot),we.resolve(!0)},complete:()=>{ie=!0}}),(0,Ne.Q)(this.transitionAbortSubject.pipe((0,pt.M)(we=>{throw we}))),(0,ke.j)(()=>{!ie&&!Te&&this.cancelNavigationTransition(z,"",it.SupersededByNewNavigation),this.currentTransition?.id===z.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,qe.W)(we=>{if(Te=!0,Vr(we))this.events.next(new bt(z.id,this.urlSerializer.serialize(z.extractedUrl),we.message,we.cancellationCode)),function Hn(v){return Vr(v)&&zn(v.url)}(we)?this.events.next(new _i(we.url,we.navigationBehaviorOptions)):z.resolve(!1);else{const ut=new un(z.id,this.urlSerializer.serialize(z.extractedUrl),we,z.targetSnapshot??void 0);try{const Vt=(0,f.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(ut));if(Vt instanceof Fr){const{message:Jt,cancellationCode:nr}=bs(0,Vt);this.events.next(new bt(z.id,this.urlSerializer.serialize(z.extractedUrl),Jt,nr)),this.events.next(new _i(Vt.redirectTo,Vt.navigationBehaviorOptions))}else{this.events.next(ut);const Jt=y.errorHandler(we);z.resolve(!!Jt)}}catch(Vt){this.options.resolveNavigationPromiseOnError?z.resolve(!1):z.reject(Vt)}}return De.w}))}))}cancelNavigationTransition(y,D,L){const z=new bt(y.id,this.urlSerializer.serialize(y.extractedUrl),D,L);this.events.next(z),y.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const y=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),D=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return y.toString()!==D?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(D){return new(D||v)}}static{this.\u0275prov=f.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})();function I(v){return v!==le}let V=(()=>{class v{static{this.\u0275fac=function(D){return new(D||v)}}static{this.\u0275prov=f.jDH({token:v,factory:()=>(0,f.WQX)(Ae),providedIn:"root"})}}return v})();class ne{shouldDetach(C){return!1}store(C,y){}shouldAttach(C){return!1}retrieve(C){return null}shouldReuseRoute(C,y){return C.routeConfig===y.routeConfig}}let Ae=(()=>{class v extends ne{static{this.\u0275fac=(()=>{let y;return function(L){return(y||(y=f.xGo(v)))(L||v)}})()}static{this.\u0275prov=f.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})(),Be=(()=>{class v{static{this.\u0275fac=function(D){return new(D||v)}}static{this.\u0275prov=f.jDH({token:v,factory:()=>(0,f.WQX)(gt),providedIn:"root"})}}return v})(),gt=(()=>{class v extends Be{constructor(){super(...arguments),this.location=(0,f.WQX)(Oe.aZ),this.urlSerializer=(0,f.WQX)(Fn),this.options=(0,f.WQX)(zi,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,f.WQX)(Si),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new tn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=_t(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(y){return this.location.subscribe(D=>{"popstate"===D.type&&y(D.url,D.state)})}handleRouterEvent(y,D){if(y instanceof Xe)this.stateMemento=this.createStateMemento();else if(y instanceof bn)this.rawUrlTree=D.initialUrl;else if(y instanceof Ke){if("eager"===this.urlUpdateStrategy&&!D.extras.skipLocationChange){const L=this.urlHandlingStrategy.merge(D.finalUrl,D.initialUrl);this.setBrowserUrl(D.targetBrowserUrl??L,D)}}else y instanceof Gi?(this.currentUrlTree=D.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(D.finalUrl,D.initialUrl),this.routerState=D.targetRouterState,"deferred"===this.urlUpdateStrategy&&!D.extras.skipLocationChange&&this.setBrowserUrl(D.targetBrowserUrl??this.rawUrlTree,D)):y instanceof bt&&(y.code===it.GuardRejected||y.code===it.NoDataFromResolver)?this.restoreHistory(D):y instanceof un?this.restoreHistory(D,!0):y instanceof et&&(this.lastSuccessfulId=y.id,this.currentPageId=this.browserPageId)}setBrowserUrl(y,D){const L=y instanceof tn?this.urlSerializer.serialize(y):y;if(this.location.isCurrentPathEqualTo(L)||D.extras.replaceUrl){const ie={...D.extras.state,...this.generateNgRouterState(D.id,this.browserPageId)};this.location.replaceState(L,"",ie)}else{const z={...D.extras.state,...this.generateNgRouterState(D.id,this.browserPageId+1)};this.location.go(L,"",z)}}restoreHistory(y,D=!1){if("computed"===this.canceledNavigationResolution){const z=this.currentPageId-this.browserPageId;0!==z?this.location.historyGo(z):this.currentUrlTree===y.finalUrl&&0===z&&(this.resetState(y),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(D&&this.resetState(y),this.resetUrlToCurrentUrlTree())}resetState(y){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(y,D){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:D}:{navigationId:y}}static{this.\u0275fac=(()=>{let y;return function(L){return(y||(y=f.xGo(v)))(L||v)}})()}static{this.\u0275prov=f.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})();var dn=function(v){return v[v.COMPLETE=0]="COMPLETE",v[v.FAILED=1]="FAILED",v[v.REDIRECTING=2]="REDIRECTING",v}(dn||{});function jn(v,C){v.events.pipe((0,Ze.p)(y=>y instanceof et||y instanceof bt||y instanceof un||y instanceof bn),(0,Le.T)(y=>y instanceof et||y instanceof bn?dn.COMPLETE:y instanceof bt&&(y.code===it.Redirect||y.code===it.SupersededByNewNavigation)?dn.REDIRECTING:dn.FAILED),(0,Ze.p)(y=>y!==dn.REDIRECTING),(0,ht.s)(1)).subscribe(()=>{C()})}function Rn(v){throw v}const on={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},w={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let h=(()=>{class v{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,f.WQX)(f.H3F),this.stateManager=(0,f.WQX)(Be),this.options=(0,f.WQX)(zi,{optional:!0})||{},this.pendingTasks=(0,f.WQX)(f.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,f.WQX)(U),this.urlSerializer=(0,f.WQX)(Fn),this.location=(0,f.WQX)(Oe.aZ),this.urlHandlingStrategy=(0,f.WQX)(Si),this._events=new Ee.B,this.errorHandler=this.options.errorHandler||Rn,this.navigated=!1,this.routeReuseStrategy=(0,f.WQX)(V),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,f.WQX)(Wi,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,f.WQX)(Lr,{optional:!0}),this.eventsSubscription=new H.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:y=>{this.console.warn(y)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const y=this.navigationTransitions.events.subscribe(D=>{try{const L=this.navigationTransitions.currentTransition,z=this.navigationTransitions.currentNavigation;if(null!==L&&null!==z)if(this.stateManager.handleRouterEvent(D,z),D instanceof bt&&D.code!==it.Redirect&&D.code!==it.SupersededByNewNavigation)this.navigated=!0;else if(D instanceof et)this.navigated=!0;else if(D instanceof _i){const ie=D.navigationBehaviorOptions,Te=this.urlHandlingStrategy.merge(D.url,L.currentRawUrl),we={browserUrl:L.extras.browserUrl,info:L.extras.info,skipLocationChange:L.extras.skipLocationChange,replaceUrl:L.extras.replaceUrl||"eager"===this.urlUpdateStrategy||I(L.source),...ie};this.scheduleNavigation(Te,le,null,we,{resolve:L.resolve,reject:L.reject,promise:L.promise})}(function m(v){return!(v instanceof Gi||v instanceof _i)})(D)&&this._events.next(D)}catch(L){this.navigationTransitions.transitionAbortSubject.next(L)}});this.eventsSubscription.add(y)}resetRootComponentType(y){this.routerState.root.component=y,this.navigationTransitions.rootComponentType=y}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),le,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((y,D)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(y,"popstate",D)},0)})}navigateToSyncWithBrowser(y,D,L){const z={replaceUrl:!0},ie=L?.navigationId?L:null;if(L){const we={...L};delete we.navigationId,delete we.\u0275routerPageId,0!==Object.keys(we).length&&(z.state=we)}const Te=this.parseUrl(y);this.scheduleNavigation(Te,D,ie,z)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(y){this.config=y.map(xo),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(y,D={}){const{relativeTo:L,queryParams:z,fragment:ie,queryParamsHandling:Te,preserveFragment:we}=D,ut=we?this.currentUrlTree.fragment:ie;let Jt,Vt=null;switch(Te??this.options.defaultQueryParamsHandling){case"merge":Vt={...this.currentUrlTree.queryParams,...z};break;case"preserve":Vt=this.currentUrlTree.queryParams;break;default:Vt=z||null}null!==Vt&&(Vt=this.removeEmptyProps(Vt));try{Jt=Vi(L?L.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof y[0]||"/"!==y[0][0])&&(y=[]),Jt=this.currentUrlTree.root}return ks(Jt,y,Vt,ut??null)}navigateByUrl(y,D={skipLocationChange:!1}){const L=zn(y)?y:this.parseUrl(y),z=this.urlHandlingStrategy.merge(L,this.rawUrlTree);return this.scheduleNavigation(z,le,null,D)}navigate(y,D={skipLocationChange:!1}){return function c(v){for(let C=0;C<v.length;C++)if(null==v[C])throw new f.wOt(4008,!1)}(y),this.navigateByUrl(this.createUrlTree(y,D),D)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){try{return this.urlSerializer.parse(y)}catch{return this.urlSerializer.parse("/")}}isActive(y,D){let L;if(L=!0===D?{...on}:!1===D?{...w}:D,zn(y))return ur(this.currentUrlTree,y,L);const z=this.parseUrl(y);return ur(this.currentUrlTree,z,L)}removeEmptyProps(y){return Object.entries(y).reduce((D,[L,z])=>(null!=z&&(D[L]=z),D),{})}scheduleNavigation(y,D,L,z,ie){if(this.disposed)return Promise.resolve(!1);let Te,we,ut;ie?(Te=ie.resolve,we=ie.reject,ut=ie.promise):ut=new Promise((Jt,nr)=>{Te=Jt,we=nr});const Vt=this.pendingTasks.add();return jn(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Vt))}),this.navigationTransitions.handleNavigationRequest({source:D,restoredState:L,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:y,extras:z,resolve:Te,reject:we,promise:ut,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ut.catch(Jt=>Promise.reject(Jt))}static{this.\u0275fac=function(D){return new(D||v)}}static{this.\u0275prov=f.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})(),E=(()=>{class v{constructor(y,D,L,z,ie,Te){this.router=y,this.route=D,this.tabIndexAttribute=L,this.renderer=z,this.el=ie,this.locationStrategy=Te,this.href=null,this.onChanges=new Ee.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const we=ie.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===we||"area"===we,this.isAnchorElement?this.subscription=y.events.subscribe(ut=>{ut instanceof et&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(y){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",y)}ngOnChanges(y){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(y){null==y?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=zn(y)||Array.isArray(y)?y:[y],this.setTabIndexIfNotOnNativeEl("0"))}onClick(y,D,L,z,ie){const Te=this.urlTree;return!!(null===Te||this.isAnchorElement&&(0!==y||D||L||z||ie||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(Te,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const y=this.urlTree;this.href=null!==y&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(y)):null;const D=null===this.href?null:(0,f.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",D)}applyAttributeValue(y,D){const L=this.renderer,z=this.el.nativeElement;null!==D?L.setAttribute(z,y,D):L.removeAttribute(z,y)}get urlTree(){return null===this.routerLinkInput?null:zn(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(D){return new(D||v)(f.rXU(h),f.rXU(Sr),f.kS0("tabindex"),f.rXU(f.sFG),f.rXU(f.aKT),f.rXU(Oe.hb))}}static{this.\u0275dir=f.FsC({type:v,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(D,L){1&D&&f.bIt("click",function(ie){return L.onClick(ie.button,ie.ctrlKey,ie.shiftKey,ie.altKey,ie.metaKey)}),2&D&&f.BMQ("target",L.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",f.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",f.L39],replaceUrl:[2,"replaceUrl","replaceUrl",f.L39],routerLink:"routerLink"},standalone:!0,features:[f.GFd,f.OA$]})}}return v})(),T=(()=>{class v{get isActive(){return this._isActive}constructor(y,D,L,z,ie){this.router=y,this.element=D,this.renderer=L,this.cdr=z,this.link=ie,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new f.bkB,this.routerEventsSubscription=y.events.subscribe(Te=>{Te instanceof et&&this.update()})}ngAfterContentInit(){(0,W.of)(this.links.changes,(0,W.of)(null)).pipe((0,Me.U)()).subscribe(y=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const y=[...this.links.toArray(),this.link].filter(D=>!!D).map(D=>D.onChanges);this.linkInputChangesSubscription=(0,P.H)(y).pipe((0,Me.U)()).subscribe(D=>{this._isActive!==this.isLinkActive(this.router)(D)&&this.update()})}set routerLinkActive(y){const D=Array.isArray(y)?y:y.split(" ");this.classes=D.filter(L=>!!L)}ngOnChanges(y){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const y=this.hasActiveLinks();this.classes.forEach(D=>{y?this.renderer.addClass(this.element.nativeElement,D):this.renderer.removeClass(this.element.nativeElement,D)}),y&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==y&&(this._isActive=y,this.cdr.markForCheck(),this.isActiveChange.emit(y))})}isLinkActive(y){const D=function j(v){return!!v.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return L=>{const z=L.urlTree;return!!z&&y.isActive(z,D)}}hasActiveLinks(){const y=this.isLinkActive(this.router);return this.link&&y(this.link)||this.links.some(y)}static{this.\u0275fac=function(D){return new(D||v)(f.rXU(h),f.rXU(f.aKT),f.rXU(f.sFG),f.rXU(f.gRc),f.rXU(E,8))}}static{this.\u0275dir=f.FsC({type:v,selectors:[["","routerLinkActive",""]],contentQueries:function(D,L,z){if(1&D&&f.wni(z,E,5),2&D){let ie;f.mGM(ie=f.lsd())&&(L.links=ie)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[f.OA$]})}}return v})();class B{}let re=(()=>{class v{constructor(y,D,L,z,ie){this.router=y,this.injector=L,this.preloadingStrategy=z,this.loader=ie}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ze.p)(y=>y instanceof et),(0,Re.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(y,D){const L=[];for(const z of D){z.providers&&!z._injector&&(z._injector=(0,f.Ol2)(z.providers,y,`Route: ${z.path}`));const ie=z._injector??y,Te=z._loadedInjector??ie;(z.loadChildren&&!z._loadedRoutes&&void 0===z.canLoad||z.loadComponent&&!z._loadedComponent)&&L.push(this.preloadConfig(ie,z)),(z.children||z._loadedRoutes)&&L.push(this.processRoutes(Te,z.children??z._loadedRoutes))}return(0,P.H)(L).pipe((0,Me.U)())}preloadConfig(y,D){return this.preloadingStrategy.preload(D,()=>{let L;L=D.loadChildren&&void 0===D.canLoad?this.loader.loadChildren(y,D):(0,W.of)(null);const z=L.pipe((0,Je.Z)(ie=>null===ie?(0,W.of)(void 0):(D._loadedRoutes=ie.routes,D._loadedInjector=ie.injector,this.processRoutes(ie.injector??y,ie.routes))));if(D.loadComponent&&!D._loadedComponent){const ie=this.loader.loadComponent(D);return(0,P.H)([z,ie]).pipe((0,Me.U)())}return z})}static{this.\u0275fac=function(D){return new(D||v)(f.KVO(h),f.KVO(f.Ql9),f.KVO(f.uvJ),f.KVO(B),f.KVO(as))}}static{this.\u0275prov=f.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})();const Ce=new f.nKC("");let _e=(()=>{class v{constructor(y,D,L,z,ie={}){this.urlSerializer=y,this.transitions=D,this.viewportScroller=L,this.zone=z,this.options=ie,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ie.scrollPositionRestoration||="disabled",ie.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof Xe?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=y.navigationTrigger,this.restoredId=y.restoredState?y.restoredState.navigationId:0):y instanceof et?(this.lastId=y.id,this.scheduleScrollEvent(y,this.urlSerializer.parse(y.urlAfterRedirects).fragment)):y instanceof bn&&y.code===At.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(y,this.urlSerializer.parse(y.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof yi&&(y.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(y.position):y.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(y.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(y,D){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new yi(y,"popstate"===this.lastSource?this.store[this.restoredId]:null,D))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(D){f.QTQ()}}static{this.\u0275prov=f.jDH({token:v,factory:v.\u0275fac})}}return v})();function Qe(v,...C){return(0,f.EmA)([{provide:Wi,multi:!0,useValue:v},[],{provide:Sr,useFactory:Ge,deps:[h]},{provide:f.iLQ,multi:!0,useFactory:Ct},C.map(y=>y.\u0275providers)])}function Ge(v){return v.routerState.root}function lt(v,C){return{\u0275kind:v,\u0275providers:C}}function Ct(){const v=(0,f.WQX)(f.zZn);return C=>{const y=v.get(f.o8S);if(C!==y.components[0])return;const D=v.get(h),L=v.get(Ft);1===v.get(xn)&&D.initialNavigation(),v.get(ni,null,f.$GK.Optional)?.setUpPreloading(),v.get(Ce,null,f.$GK.Optional)?.init(),D.resetRootComponentType(y.componentTypes[0]),L.closed||(L.next(),L.complete(),L.unsubscribe())}}const Ft=new f.nKC("",{factory:()=>new Ee.B}),xn=new f.nKC("",{providedIn:"root",factory:()=>1}),ni=new f.nKC("");function ri(v){return lt(0,[{provide:ni,useExisting:re},{provide:B,useExisting:v}])}function oa(v){return lt(9,[{provide:io,useValue:$s},{provide:Yi,useValue:{skipNextTransition:!!v?.skipInitialTransition,...v}}])}const Gr=new f.nKC("ROUTER_FORROOT_GUARD"),Ca=[Oe.aZ,{provide:Fn,useClass:nn},h,Tr,{provide:Sr,useFactory:Ge,deps:[h]},as,[]];let fo=(()=>{class v{constructor(y){}static forRoot(y,D){return{ngModule:v,providers:[Ca,[],{provide:Wi,multi:!0,useValue:y},{provide:Gr,useFactory:qa,deps:[[h,new f.Xx1,new f.kdw]]},{provide:zi,useValue:D||{}},D?.useHash?{provide:Oe.hb,useClass:Oe.fw}:{provide:Oe.hb,useClass:Oe.Sm},{provide:Ce,useFactory:()=>{const v=(0,f.WQX)(Oe.Xr),C=(0,f.WQX)(f.SKi),y=(0,f.WQX)(zi),D=(0,f.WQX)(U),L=(0,f.WQX)(Fn);return y.scrollOffset&&v.setOffset(y.scrollOffset),new _e(L,D,v,C,y)}},D?.preloadingStrategy?ri(D.preloadingStrategy).\u0275providers:[],D?.initialNavigation?ql(D):[],D?.bindToComponentInputs?lt(8,[Qn,{provide:Lr,useExisting:Qn}]).\u0275providers:[],D?.enableViewTransitions?oa().\u0275providers:[],[{provide:la,useFactory:Ct},{provide:f.iLQ,multi:!0,useExisting:la}]]}}static forChild(y){return{ngModule:v,providers:[{provide:Wi,multi:!0,useValue:y}]}}static{this.\u0275fac=function(D){return new(D||v)(f.KVO(Gr,8))}}static{this.\u0275mod=f.$C({type:v})}static{this.\u0275inj=f.G2t({})}}return v})();function qa(v){return"guarded"}function ql(v){return["disabled"===v.initialNavigation?lt(3,[{provide:f.hnV,multi:!0,useFactory:()=>{const C=(0,f.WQX)(h);return()=>{C.setUpLocationChangeListener()}}},{provide:xn,useValue:2}]).\u0275providers:[],"enabledBlocking"===v.initialNavigation?lt(2,[{provide:xn,useValue:0},{provide:f.hnV,multi:!0,deps:[f.zZn],useFactory:C=>{const y=C.get(Oe.hj,Promise.resolve());return()=>y.then(()=>new Promise(D=>{const L=C.get(h),z=C.get(Ft);jn(L,()=>{D(!0)}),C.get(U).afterPreactivation=()=>(D(!0),z.closed?(0,W.of)(void 0):z),L.initialNavigation()}))}}]).\u0275providers:[]]}const la=new f.nKC("")},467:(at,ye,R)=>{"use strict";function f(de,e,P,W,F,Z,he){try{var fe=de[Z](he),te=fe.value}catch(ve){return void P(ve)}fe.done?e(te):Promise.resolve(te).then(W,F)}function O(de){return function(){var e=this,P=arguments;return new Promise(function(W,F){var Z=de.apply(e,P);function he(te){f(Z,W,F,he,fe,"next",te)}function fe(te){f(Z,W,F,he,fe,"throw",te)}he(void 0)})}}R.d(ye,{A:()=>O})},1635:(at,ye,R)=>{"use strict";R.r(ye),R.d(ye,{__addDisposableResource:()=>jt,__assign:()=>de,__asyncDelegator:()=>nt,__asyncGenerator:()=>Le,__asyncValues:()=>ht,__await:()=>Oe,__awaiter:()=>ve,__classPrivateFieldGet:()=>pt,__classPrivateFieldIn:()=>kn,__classPrivateFieldSet:()=>qe,__createBinding:()=>De,__decorate:()=>P,__disposeResources:()=>_r,__esDecorate:()=>F,__exportStar:()=>H,__extends:()=>O,__generator:()=>Fe,__importDefault:()=>Re,__importStar:()=>yt,__makeTemplateObject:()=>Ye,__metadata:()=>te,__param:()=>W,__propKey:()=>he,__read:()=>ce,__rest:()=>e,__rewriteRelativeImportExtension:()=>br,__runInitializers:()=>Z,__setFunctionName:()=>fe,__spread:()=>me,__spreadArray:()=>Ee,__spreadArrays:()=>Ve,__values:()=>Q,default:()=>vn});var f=function(Se,ke){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ne,Me){Ne.__proto__=Me}||function(Ne,Me){for(var tt in Me)Object.prototype.hasOwnProperty.call(Me,tt)&&(Ne[tt]=Me[tt])})(Se,ke)};function O(Se,ke){if("function"!=typeof ke&&null!==ke)throw new TypeError("Class extends value "+String(ke)+" is not a constructor or null");function Ne(){this.constructor=Se}f(Se,ke),Se.prototype=null===ke?Object.create(ke):(Ne.prototype=ke.prototype,new Ne)}var de=function(){return de=Object.assign||function(ke){for(var Ne,Me=1,tt=arguments.length;Me<tt;Me++)for(var Pe in Ne=arguments[Me])Object.prototype.hasOwnProperty.call(Ne,Pe)&&(ke[Pe]=Ne[Pe]);return ke},de.apply(this,arguments)};function e(Se,ke){var Ne={};for(var Me in Se)Object.prototype.hasOwnProperty.call(Se,Me)&&ke.indexOf(Me)<0&&(Ne[Me]=Se[Me]);if(null!=Se&&"function"==typeof Object.getOwnPropertySymbols){var tt=0;for(Me=Object.getOwnPropertySymbols(Se);tt<Me.length;tt++)ke.indexOf(Me[tt])<0&&Object.prototype.propertyIsEnumerable.call(Se,Me[tt])&&(Ne[Me[tt]]=Se[Me[tt]])}return Ne}function P(Se,ke,Ne,Me){var vt,tt=arguments.length,Pe=tt<3?ke:null===Me?Me=Object.getOwnPropertyDescriptor(ke,Ne):Me;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Pe=Reflect.decorate(Se,ke,Ne,Me);else for(var ln=Se.length-1;ln>=0;ln--)(vt=Se[ln])&&(Pe=(tt<3?vt(Pe):tt>3?vt(ke,Ne,Pe):vt(ke,Ne))||Pe);return tt>3&&Pe&&Object.defineProperty(ke,Ne,Pe),Pe}function W(Se,ke){return function(Ne,Me){ke(Ne,Me,Se)}}function F(Se,ke,Ne,Me,tt,Pe){function vt(rt){if(void 0!==rt&&"function"!=typeof rt)throw new TypeError("Function expected");return rt}for(var Ot,ln=Me.kind,Cn="getter"===ln?"get":"setter"===ln?"set":"value",Mt=!ke&&Se?Me.static?Se:Se.prototype:null,yn=ke||(Mt?Object.getOwnPropertyDescriptor(Mt,Me.name):{}),Sn=!1,pn=Ne.length-1;pn>=0;pn--){var Zt={};for(var hn in Me)Zt[hn]="access"===hn?{}:Me[hn];for(var hn in Me.access)Zt.access[hn]=Me.access[hn];Zt.addInitializer=function(rt){if(Sn)throw new TypeError("Cannot add initializers after decoration has completed");Pe.push(vt(rt||null))};var Jn=(0,Ne[pn])("accessor"===ln?{get:yn.get,set:yn.set}:yn[Cn],Zt);if("accessor"===ln){if(void 0===Jn)continue;if(null===Jn||"object"!=typeof Jn)throw new TypeError("Object expected");(Ot=vt(Jn.get))&&(yn.get=Ot),(Ot=vt(Jn.set))&&(yn.set=Ot),(Ot=vt(Jn.init))&&tt.unshift(Ot)}else(Ot=vt(Jn))&&("field"===ln?tt.unshift(Ot):yn[Cn]=Ot)}Mt&&Object.defineProperty(Mt,Me.name,yn),Sn=!0}function Z(Se,ke,Ne){for(var Me=arguments.length>2,tt=0;tt<ke.length;tt++)Ne=Me?ke[tt].call(Se,Ne):ke[tt].call(Se);return Me?Ne:void 0}function he(Se){return"symbol"==typeof Se?Se:"".concat(Se)}function fe(Se,ke,Ne){return"symbol"==typeof ke&&(ke=ke.description?"[".concat(ke.description,"]"):""),Object.defineProperty(Se,"name",{configurable:!0,value:Ne?"".concat(Ne," ",ke):ke})}function te(Se,ke){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(Se,ke)}function ve(Se,ke,Ne,Me){return new(Ne||(Ne=Promise))(function(Pe,vt){function ln(yn){try{Mt(Me.next(yn))}catch(Ot){vt(Ot)}}function Cn(yn){try{Mt(Me.throw(yn))}catch(Ot){vt(Ot)}}function Mt(yn){yn.done?Pe(yn.value):function tt(Pe){return Pe instanceof Ne?Pe:new Ne(function(vt){vt(Pe)})}(yn.value).then(ln,Cn)}Mt((Me=Me.apply(Se,ke||[])).next())})}function Fe(Se,ke){var Me,tt,Pe,Ne={label:0,sent:function(){if(1&Pe[0])throw Pe[1];return Pe[1]},trys:[],ops:[]},vt=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return vt.next=ln(0),vt.throw=ln(1),vt.return=ln(2),"function"==typeof Symbol&&(vt[Symbol.iterator]=function(){return this}),vt;function ln(Mt){return function(yn){return function Cn(Mt){if(Me)throw new TypeError("Generator is already executing.");for(;vt&&(vt=0,Mt[0]&&(Ne=0)),Ne;)try{if(Me=1,tt&&(Pe=2&Mt[0]?tt.return:Mt[0]?tt.throw||((Pe=tt.return)&&Pe.call(tt),0):tt.next)&&!(Pe=Pe.call(tt,Mt[1])).done)return Pe;switch(tt=0,Pe&&(Mt=[2&Mt[0],Pe.value]),Mt[0]){case 0:case 1:Pe=Mt;break;case 4:return Ne.label++,{value:Mt[1],done:!1};case 5:Ne.label++,tt=Mt[1],Mt=[0];continue;case 7:Mt=Ne.ops.pop(),Ne.trys.pop();continue;default:if(!(Pe=(Pe=Ne.trys).length>0&&Pe[Pe.length-1])&&(6===Mt[0]||2===Mt[0])){Ne=0;continue}if(3===Mt[0]&&(!Pe||Mt[1]>Pe[0]&&Mt[1]<Pe[3])){Ne.label=Mt[1];break}if(6===Mt[0]&&Ne.label<Pe[1]){Ne.label=Pe[1],Pe=Mt;break}if(Pe&&Ne.label<Pe[2]){Ne.label=Pe[2],Ne.ops.push(Mt);break}Pe[2]&&Ne.ops.pop(),Ne.trys.pop();continue}Mt=ke.call(Se,Ne)}catch(yn){Mt=[6,yn],tt=0}finally{Me=Pe=0}if(5&Mt[0])throw Mt[1];return{value:Mt[0]?Mt[1]:void 0,done:!0}}([Mt,yn])}}}var De=Object.create?function(Se,ke,Ne,Me){void 0===Me&&(Me=Ne);var tt=Object.getOwnPropertyDescriptor(ke,Ne);(!tt||("get"in tt?!ke.__esModule:tt.writable||tt.configurable))&&(tt={enumerable:!0,get:function(){return ke[Ne]}}),Object.defineProperty(Se,Me,tt)}:function(Se,ke,Ne,Me){void 0===Me&&(Me=Ne),Se[Me]=ke[Ne]};function H(Se,ke){for(var Ne in Se)"default"!==Ne&&!Object.prototype.hasOwnProperty.call(ke,Ne)&&De(ke,Se,Ne)}function Q(Se){var ke="function"==typeof Symbol&&Symbol.iterator,Ne=ke&&Se[ke],Me=0;if(Ne)return Ne.call(Se);if(Se&&"number"==typeof Se.length)return{next:function(){return Se&&Me>=Se.length&&(Se=void 0),{value:Se&&Se[Me++],done:!Se}}};throw new TypeError(ke?"Object is not iterable.":"Symbol.iterator is not defined.")}function ce(Se,ke){var Ne="function"==typeof Symbol&&Se[Symbol.iterator];if(!Ne)return Se;var tt,vt,Me=Ne.call(Se),Pe=[];try{for(;(void 0===ke||ke-- >0)&&!(tt=Me.next()).done;)Pe.push(tt.value)}catch(ln){vt={error:ln}}finally{try{tt&&!tt.done&&(Ne=Me.return)&&Ne.call(Me)}finally{if(vt)throw vt.error}}return Pe}function me(){for(var Se=[],ke=0;ke<arguments.length;ke++)Se=Se.concat(ce(arguments[ke]));return Se}function Ve(){for(var Se=0,ke=0,Ne=arguments.length;ke<Ne;ke++)Se+=arguments[ke].length;var Me=Array(Se),tt=0;for(ke=0;ke<Ne;ke++)for(var Pe=arguments[ke],vt=0,ln=Pe.length;vt<ln;vt++,tt++)Me[tt]=Pe[vt];return Me}function Ee(Se,ke,Ne){if(Ne||2===arguments.length)for(var Pe,Me=0,tt=ke.length;Me<tt;Me++)(Pe||!(Me in ke))&&(Pe||(Pe=Array.prototype.slice.call(ke,0,Me)),Pe[Me]=ke[Me]);return Se.concat(Pe||Array.prototype.slice.call(ke))}function Oe(Se){return this instanceof Oe?(this.v=Se,this):new Oe(Se)}function Le(Se,ke,Ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var tt,Me=Ne.apply(Se,ke||[]),Pe=[];return tt=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),ln("next"),ln("throw"),ln("return",function vt(pn){return function(Zt){return Promise.resolve(Zt).then(pn,Ot)}}),tt[Symbol.asyncIterator]=function(){return this},tt;function ln(pn,Zt){Me[pn]&&(tt[pn]=function(hn){return new Promise(function(Jn,rt){Pe.push([pn,hn,Jn,rt])>1||Cn(pn,hn)})},Zt&&(tt[pn]=Zt(tt[pn])))}function Cn(pn,Zt){try{!function Mt(pn){pn.value instanceof Oe?Promise.resolve(pn.value.v).then(yn,Ot):Sn(Pe[0][2],pn)}(Me[pn](Zt))}catch(hn){Sn(Pe[0][3],hn)}}function yn(pn){Cn("next",pn)}function Ot(pn){Cn("throw",pn)}function Sn(pn,Zt){pn(Zt),Pe.shift(),Pe.length&&Cn(Pe[0][0],Pe[0][1])}}function nt(Se){var ke,Ne;return ke={},Me("next"),Me("throw",function(tt){throw tt}),Me("return"),ke[Symbol.iterator]=function(){return this},ke;function Me(tt,Pe){ke[tt]=Se[tt]?function(vt){return(Ne=!Ne)?{value:Oe(Se[tt](vt)),done:!1}:Pe?Pe(vt):vt}:Pe}}function ht(Se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ne,ke=Se[Symbol.asyncIterator];return ke?ke.call(Se):(Se=Q(Se),Ne={},Me("next"),Me("throw"),Me("return"),Ne[Symbol.asyncIterator]=function(){return this},Ne);function Me(Pe){Ne[Pe]=Se[Pe]&&function(vt){return new Promise(function(ln,Cn){!function tt(Pe,vt,ln,Cn){Promise.resolve(Cn).then(function(Mt){Pe({value:Mt,done:ln})},vt)}(ln,Cn,(vt=Se[Pe](vt)).done,vt.value)})}}}function Ye(Se,ke){return Object.defineProperty?Object.defineProperty(Se,"raw",{value:ke}):Se.raw=ke,Se}var Ze=Object.create?function(Se,ke){Object.defineProperty(Se,"default",{enumerable:!0,value:ke})}:function(Se,ke){Se.default=ke},Je=function(Se){return(Je=Object.getOwnPropertyNames||function(ke){var Ne=[];for(var Me in ke)Object.prototype.hasOwnProperty.call(ke,Me)&&(Ne[Ne.length]=Me);return Ne})(Se)};function yt(Se){if(Se&&Se.__esModule)return Se;var ke={};if(null!=Se)for(var Ne=Je(Se),Me=0;Me<Ne.length;Me++)"default"!==Ne[Me]&&De(ke,Se,Ne[Me]);return Ze(ke,Se),ke}function Re(Se){return Se&&Se.__esModule?Se:{default:Se}}function pt(Se,ke,Ne,Me){if("a"===Ne&&!Me)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof ke?Se!==ke||!Me:!ke.has(Se))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===Ne?Me:"a"===Ne?Me.call(Se):Me?Me.value:ke.get(Se)}function qe(Se,ke,Ne,Me,tt){if("m"===Me)throw new TypeError("Private method is not writable");if("a"===Me&&!tt)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof ke?Se!==ke||!tt:!ke.has(Se))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===Me?tt.call(Se,Ne):tt?tt.value=Ne:ke.set(Se,Ne),Ne}function kn(Se,ke){if(null===ke||"object"!=typeof ke&&"function"!=typeof ke)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof Se?ke===Se:Se.has(ke)}function jt(Se,ke,Ne){if(null!=ke){if("object"!=typeof ke&&"function"!=typeof ke)throw new TypeError("Object expected.");var Me,tt;if(Ne){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");Me=ke[Symbol.asyncDispose]}if(void 0===Me){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");Me=ke[Symbol.dispose],Ne&&(tt=Me)}if("function"!=typeof Me)throw new TypeError("Object not disposable.");tt&&(Me=function(){try{tt.call(this)}catch(Pe){return Promise.reject(Pe)}}),Se.stack.push({value:ke,dispose:Me,async:Ne})}else Ne&&Se.stack.push({async:!0});return ke}var Tt="function"==typeof SuppressedError?SuppressedError:function(Se,ke,Ne){var Me=new Error(Ne);return Me.name="SuppressedError",Me.error=Se,Me.suppressed=ke,Me};function _r(Se){function ke(Pe){Se.error=Se.hasError?new Tt(Pe,Se.error,"An error was suppressed during disposal."):Pe,Se.hasError=!0}var Ne,Me=0;return function tt(){for(;Ne=Se.stack.pop();)try{if(!Ne.async&&1===Me)return Me=0,Se.stack.push(Ne),Promise.resolve().then(tt);if(Ne.dispose){var Pe=Ne.dispose.call(Ne.value);if(Ne.async)return Me|=2,Promise.resolve(Pe).then(tt,function(vt){return ke(vt),tt()})}else Me|=1}catch(vt){ke(vt)}if(1===Me)return Se.hasError?Promise.reject(Se.error):Promise.resolve();if(Se.hasError)throw Se.error}()}function br(Se,ke){return"string"==typeof Se&&/^\.\.?\//.test(Se)?Se.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(Ne,Me,tt,Pe,vt){return Me?ke?".jsx":".js":!tt||Pe&&vt?tt+Pe+"."+vt.toLowerCase()+"js":Ne}):Se}const vn={__extends:O,__assign:de,__rest:e,__decorate:P,__param:W,__esDecorate:F,__runInitializers:Z,__propKey:he,__setFunctionName:fe,__metadata:te,__awaiter:ve,__generator:Fe,__createBinding:De,__exportStar:H,__values:Q,__read:ce,__spread:me,__spreadArrays:Ve,__spreadArray:Ee,__await:Oe,__asyncGenerator:Le,__asyncDelegator:nt,__asyncValues:ht,__makeTemplateObject:Ye,__importStar:yt,__importDefault:Re,__classPrivateFieldGet:pt,__classPrivateFieldSet:qe,__classPrivateFieldIn:kn,__addDisposableResource:jt,__disposeResources:_r,__rewriteRelativeImportExtension:br}}},at=>{at(at.s=8989)}]);